Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i}),$.fn.updateTitle=function(){this.data("title")||this.data("title",this.attr("title")),this.hasClass("active")?this.attr("title",this.data("activeTitle")):this.attr("title",this.data("title"))},window.VIDEOJS_NO_DYNAMIC_STYLE=!0,function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e,t){Ut(e).forEach(function(n){return t(e[n],n)})}function n(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return Ut(e).reduce(function(n,r){return t(n,e[r],r)},n)}function r(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(r)):(r.forEach(function(n){n&&t(n,function(t,n){e[n]=t})}),e)}function i(e){return!!e&&"object"===(void 0===e?"undefined":Dt(e))}function o(e){return i(e)&&"[object Object]"===Bt.call(e)&&e.constructor===Object}function a(e){return e.replace(/\n\r?\s*/g,"")}function s(e,t){if(!e||!t)return"";if("function"==typeof ot.getComputedStyle){var n=ot.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}function u(e){return"string"==typeof e&&/\S/.test(e)}function l(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function c(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function f(){return ct===ot.document&&"undefined"!=typeof ct.createElement}function d(e){return i(e)&&1===e.nodeType}function p(e){return function(t,n){if(!u(t))return ct[e](null);u(n)&&(n=ct.querySelector(n));var r=d(n)?n:ct;return r[e]&&r[e](t)}}function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=arguments[3],i=ct.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Gt.warn(Kt(Yt,e,n)),i.setAttribute(e,n)):"textContent"===e?g(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&D(i,r),i}function g(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function v(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function m(e,t){return l(t),e.classList?e.classList.contains(t):c(t).test(e.className)}function y(e,t){return e.classList?e.classList.add(t):m(e,t)||(e.className=(e.className+" "+t).trim()),e}function _(e,t){return e.classList?e.classList.remove(t):(l(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function b(e,t,n){var r=m(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?y(e,t):_(e,t),e}function T(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null===r||void 0===r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)})}function E(e){var t={};if(e&&e.attributes&&e.attributes.length>0)for(var n=e.attributes,r=n.length-1;r>=0;r--){var i=n[r].name,o=n[r].value;"boolean"!=typeof e[i]&&-1===",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+i+",")||(o=null!==o),t[i]=o}return t}function w(e,t){return e.getAttribute(t)}function S(e,t,n){e.setAttribute(t,n)}function P(e,t){e.removeAttribute(t)}function C(){ct.body.focus(),ct.onselectstart=function(){return!1}}function I(){ct.onselectstart=function(){return!0}}function x(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){t[e]!==undefined&&(n[e]=t[e])}),n.height||(n.height=parseFloat(s(e,"height"))),n.width||(n.width=parseFloat(s(e,"width"))),n}}function A(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=ct.documentElement,r=ct.body,i=n.clientLeft||r.clientLeft||0,o=ot.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=ot.pageYOffset||r.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}}function O(e,t){var n={},r=A(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function k(e){return i(e)&&3===e.nodeType}function M(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function R(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),d(e)||k(e)?e:"string"==typeof e&&/\S/.test(e)?ct.createTextNode(e):void 0}).filter(function(e){return e})}function D(e,t){return R(t).forEach(function(t){return e.appendChild(t)}),e}function N(e,t){return D(M(e),t)}function L(){return $t++}function j(e){var t=e[Zt];return t||(t=e[Zt]=L()),Jt[t]||(Jt[t]={}),Jt[t]}function F(e){var t=e[Zt];return!!t&&!!Object.getOwnPropertyNames(Jt[t]).length}function B(e){var t=e[Zt];if(t){delete Jt[t];try{delete e[Zt]}catch(t){e.removeAttribute?e.removeAttribute(Zt):e[Zt]=null}}}function U(e,t){var n=j(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&B(e)}function H(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function V(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||ot.event;e={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||ct),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&e.clientX!==undefined){var o=ct.documentElement,a=ct.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&e.button!==undefined&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function z(e,t,n){if(Array.isArray(t))return H(z,e,t,n);var r=j(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=L()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=V(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(e){Gt.error(e)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;en&&tn.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function q(e,t,n){if(F(e)){var r=j(e);if(r.handlers){if(Array.isArray(t))return H(q,e,t,n);var i=function(t){r.handlers[t]=[],U(e,t)};if(t){var o=r.handlers[t];if(o){if(!n)return void i(t);if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);U(e,t)}}else for(var s in r.handlers)i(s)}}}function G(e,t,n){var r=F(e)?j(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=V(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)G.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var o=j(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function K(e,t,n){if(Array.isArray(t))return H(K,e,t,n);var r=function r(){q(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||L(),z(e,t,r)}function Y(e,t){t&&(on=t),ot.setTimeout(an,e)}function W(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=h("span",{className:"vjs-event-bus"});return r(e,_n),e.on("dispose",function(){return e.off()}),e}function Q(e,t){return r(e,bn),e.state=r({},e.state,t),"function"==typeof e.handleStateChanged&&dn(e)&&e.on("statechanged",e.handleStateChanged),e}function X(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function $(e,t){return X(e)===X(t)}function J(){for(var e={},n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach(function(n){n&&t(n,function(t,n){if(!o(t))return void(e[n]=t);o(e[n])||(e[n]={}),e[n]=J(e[n],t)})}),e}function Z(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}function ee(e,t,n,r){return Z(e,r,n.length-1),n[r][t]}function te(e){return e===undefined||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:ee.bind(null,"start",0,e),end:ee.bind(null,"end",1,e)}}function ne(e,t){return Array.isArray(e)?te(e):e===undefined||t===undefined?te():te([[e,t]])}function re(e,t){var n=0,r=void 0,i=void 0;if(!t)return 0;e&&e.length||(e=ne(0,0));for(var o=0;o<e.length;o++)r=e.start(o),i=e.end(o),i>t&&(i=t),n+=i-r;return n/t}function ie(e){if(e instanceof ie)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:i(e)&&("number"==typeof e.code&&(this.code=e.code),r(this,e)),this.message||(this.message=ie.defaultMessages[this.code]||"")}function oe(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(e){r=e}return[r,n]}function ae(e){var t=rr.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}function se(e,t,n){if(!nr(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===ar.call(e)?ue(e,t,n):"string"==typeof e?le(e,t,n):ce(e,t,n)}function ue(e,t,n){for(var r=0,i=e.length;r<i;r++)sr.call(e,r)&&t.call(n,e[r],r,e)}function le(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function ce(e,t,n){for(var r in e)sr.call(e,r)&&t.call(n,e[r],r,e)}function fe(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)fr.call(n,r)&&(e[r]=n[r])}return e}function de(e,t){for(var n=0;n<e.length;n++)t(e[n])}function pe(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function he(e,t,n){var r=e;return nr(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=cr(t,{uri:e}),r.callback=n,r}function ge(e,t,n){return t=he(e,t,n),ve(t)}function ve(e){function t(){4===s.readyState&&setTimeout(i,0)}function n(){var e=undefined;if(e=s.response?s.response:s.responseText||me(s),v)try{e=JSON.parse(e)}catch(e){}return e}function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,a(e,m)}function i(){if(!l){var t;clearTimeout(c),t=e.useXDR&&s.status===undefined?200:1223===s.status?204:s.status;var r=m,i=null;return 0!==t?(r={body:n(),statusCode:t,method:d,headers:{},url:f,rawRequest:s},s.getAllResponseHeaders&&(r.headers=lr(s.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),a(i,r,r.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var o=!1,a=function(t,n,r){o||(o=!0,e.callback(t,n,r))},s=e.xhr||null;s||(s=e.cors||e.useXDR?new ge.XDomainRequest:new ge.XMLHttpRequest);var u,l,c,f=s.url=e.uri||e.url,d=s.method=e.method||"GET",p=e.body||e.data,h=s.headers=e.headers||{},g=!!e.sync,v=!1,m={body:undefined,headers:{},statusCode:0,method:d,url:f,rawRequest:s};if("json"in e&&!1!==e.json&&(v=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),s.onreadystatechange=t,s.onload=i,s.onerror=r,s.onprogress=function(){},s.onabort=function(){l=!0},s.ontimeout=r,s.open(d,f,!g,e.username,e.password),g||(s.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(c=setTimeout(function(){if(!l){l=!0,s.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),s.setRequestHeader)for(u in h)h.hasOwnProperty(u)&&s.setRequestHeader(u,h[u]);else if(e.headers&&!pe(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(s.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(s),s.send(p||null),s}function me(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function ye(){}function _e(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function be(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function Te(){this.values=Sr(null)}function Ee(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){var s=a[0],u=a[1];t(s,u)}}}function we(e,t,n){function r(){var t=be(e);if(null===t)throw new _e(_e.Errors.BadTimeStamp,"Malformed timestamp: "+a);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(e,t){var r=new Te;Ee(e,function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line","auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align","middle"),t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function o(){e=e.replace(/^\s+/,"")}var a=e;if(o(),t.startTime=r(),o(),"-->"!==e.substr(0,3))throw new _e(_e.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+a);e=e.substr(3),o(),t.endTime=r(),o(),i(e,t)}function Se(e,t){function n(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function r(e){return Pr[e]}function i(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],r);return e}function o(e,t){return!xr[t.localName]||xr[t.localName]===e.localName}function a(t,n){var r=Cr[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=Ir[t];return o&&n&&(i[o]=n.trim()),i}for(var s,u=e.document.createElement("div"),l=u,c=[];null!==(s=n());)if("<"!==s[0])l.appendChild(e.document.createTextNode(i(s)));else{if("/"===s[1]){c.length&&c[c.length-1]===s.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var f,d=be(s.substr(1,s.length-2));if(d){f=e.document.createProcessingInstruction("timestamp",d),l.appendChild(f);continue}var p=s.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(f=a(p[1],p[3])))continue;if(!o(l,f))continue;p[2]&&(f.className=p[2].substr(1).replace("."," ")),c.push(p[1]),l.appendChild(f),l=f}return u}function Pe(e){for(var t=0;t<Ar.length;t++){var n=Ar[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function Ce(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r,i=[],o="";if(!e||!e.childNodes)return"ltr";for(t(i,e);o=n(i);)for(var a=0;a<o.length;a++)if(r=o.charCodeAt(a),Pe(r))return"rtl";return"ltr"}function Ie(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}function xe(){}function Ae(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),xe.call(this),this.cue=t,this.cueDiv=Se(e,t.text);var a={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(a.direction=Ce(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Oe(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=t!==undefined?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function ke(e,t,n,r){function i(e,t){for(var i,o=new Oe(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);a>u&&(i=new Oe(e),a=u),e=new Oe(o)}return i||o}var o=new Oe(t),a=t.cue,s=Ie(a),u=[];if(a.snapToLines){var l;switch(a.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width"}var c=o.lineHeight,f=c*Math.round(s),d=n[l]+c,p=u[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/c)*c),s<0&&(f+=""===a.vertical?n.height:n.width,u=u.reverse()),o.move(p,f)}else{var h=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=h/2;break;case"end":s-=h}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}u=["+y","-x","+x","-y"],o=new Oe(t)}var g=i(o,u);t.move(g.toCSSCompatValues(n))}function Me(){}function Re(e){return"string"==typeof e&&(!!Mr[e.toLowerCase()]&&e.toLowerCase())}function De(e){return"string"==typeof e&&(!!Rr[e.toLowerCase()]&&e.toLowerCase())}function Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function Le(e,t,n){var r=this,i=/MSIE\s8\.0/.test(navigator.userAgent),o={};i?r=document.createElement("custom"):o.enumerable=!0,r.hasBeenReset=!1;var a="",s=!1,u=e,l=t,c=n,f=null,d="",p=!0,h="auto",g="start",v=50,m="middle",y=50,_="middle";if(Object.defineProperty(r,"id",Ne({},o,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(r,"pauseOnExit",Ne({},o,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(r,"startTime",Ne({},o,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",Ne({},o,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",Ne({},o,{get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",Ne({},o,{get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",Ne({},o,{get:function(){return d},set:function(e){var t=Re(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",Ne({},o,{get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",Ne({},o,{get:function(){return h},set:function(e){if("number"!=typeof e&&e!==kr)throw new SyntaxError("An invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",Ne({},o,{get:function(){return g},set:function(e){var t=De(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",Ne({},o,{get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",Ne({},o,{get:function(){return m},set:function(e){var t=De(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",Ne({},o,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",Ne({},o,{get:function(){return _},set:function(e){var t=De(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),r.displayState=undefined,i)return r}function je(e){return"string"==typeof e&&(!!Nr[e.toLowerCase()]&&e.toLowerCase())}function Fe(e){return"number"==typeof e&&e>=0&&e<=100}function Be(){var e=100,t=3,n=0,r=100,i=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!Fe(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!Fe(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!Fe(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!Fe(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!Fe(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t=je(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");a=t}}})}function Ue(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new wr.text.TrackClass(i);return o.addTrack(a),a}function He(e,t){Br[e]=Br[e]||[],Br[e].push(t)}function Ve(e,t,n){e.setTimeout(function(){return Ye(t,Br[t.type],n,e)},1)}function ze(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function qe(e,t,n){return e.reduceRight(Ke(n),t[n]())}function Ge(e,t,n,r){return t[n](e.reduce(Ke(n),r))}function Ke(e){return function(t,n){return n[e]?n[e](t):t}}function Ye(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n=arguments[2],i=arguments[3],o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[],a=arguments.length>5&&arguments[5]!==undefined&&arguments[5],s=t[0],u=t.slice(1);if("string"==typeof s)Ye(e,Br[s],n,i,o,a);else if(s){var l=s(i);l.setSource(r({},e),function(t,r){if(t)return Ye(e,u,n,i,o,a);o.push(l),Ye(r,e.type===r.type?u:Br[r.type],n,i,o,a)})}else u.length?Ye(e,u,n,i,o,a):a?n(e,o):Ye(e,Br["*"],n,i,o,!0)}function We(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function Qe(e,t,n){try{e.style[t]=n}catch(e){return}}function Xe(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===Infinity)&&(i=r=n="-"),i=i>0||a>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n}function $e(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function Je(e,t){return $e(e.options[e.options.selectedIndex].value,t)}function Ze(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if($e(e.options[r].value,n)===t){e.selectedIndex=r;break}}function et(e,t,n){var r=void 0;if("string"==typeof e){var o=et.getPlayers();if(0===e.indexOf("#")&&(e=e.slice(1)),o[e])return t&&Gt.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&o[e].ready(n),o[e];r=Wt("#"+e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||po.players[r.playerId])return r.player||po.players[r.playerId];t=t||{},et.hooks("beforesetup").forEach(function(e){var n=e(r,J(t));if(!i(n)||Array.isArray(n))return void Gt.error("please return an object in beforesetup hooks");t=J(t,n)});var a=Tn.getComponent("Player"),s=new a(r,t,n);return et.hooks("setup").forEach(function(e){return e(s)}),s}var tt,nt="6.2.7",rt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};tt="undefined"!=typeof window?window:void 0!==rt?rt:"undefined"!=typeof self?self:{};var it,ot=tt,at={},st=(Object.freeze||Object)({"default":at}),ut=st&&at||st,lt=void 0!==rt?rt:"undefined"!=typeof window?window:{};"undefined"!=typeof document?it=document:(it=lt["__GLOBAL_DOCUMENT_CACHE@4"])||(it=lt["__GLOBAL_DOCUMENT_CACHE@4"]=ut);var ct=it,ft=ot.navigator&&ot.navigator.userAgent||"",dt=/AppleWebKit\/([\d.]+)/i.exec(ft),pt=dt?parseFloat(dt.pop()):null,ht=/iPad/i.test(ft),gt=/iPhone/i.test(ft)&&!ht,vt=/iPod/i.test(ft),mt=gt||ht||vt,yt=function(){var e=ft.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),_t=/Android/i.test(ft),bt=function(){var e=ft.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),Tt=_t&&/webkit/i.test(ft)&&bt<2.3,Et=_t&&bt<5&&pt<537,wt=/Firefox/i.test(ft),St=/Edge/i.test(ft),Pt=!St&&/Chrome/i.test(ft),Ct=function(){var e=ft.match(/Chrome\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),It=/MSIE\s8\.0/.test(ft),xt=function(){var e=/MSIE\s(\d+)\.\d/.exec(ft),t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(ft)&&/rv:11.0/.test(ft)&&(t=11),t}(),At=/Safari/i.test(ft)&&!Pt&&!_t&&!St,Ot=At||mt,kt=f()&&("ontouchstart"in ot||ot.DocumentTouch&&ot.document instanceof ot.DocumentTouch),Mt=f()&&"backgroundSize"in ot.document.createElement("video").style,Rt=(Object.freeze||Object)({IS_IPAD:ht,IS_IPHONE:gt,IS_IPOD:vt,IS_IOS:mt,IOS_VERSION:yt,IS_ANDROID:_t,ANDROID_VERSION:bt,IS_OLD_ANDROID:Tt,IS_NATIVE_ANDROID:Et,IS_FIREFOX:wt,IS_EDGE:St,IS_CHROME:Pt,CHROME_VERSION:Ct,IS_IE8:It,IE_VERSION:xt,IS_SAFARI:At,IS_ANY_SAFARI:Ot,TOUCH_ENABLED:kt,BACKGROUND_SIZE_SUPPORTED:Mt}),Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Lt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},jt=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ft=function(e,t){return e.raw=t,e},Bt=Object.prototype.toString,Ut=function(e){return i(e)?Object.keys(e):[]},Ht=void 0,Vt="all",zt=[],qt=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!xt&&xt<11,r=Ht.levels[Vt],o=new RegExp("^("+r+")$");"log"!==e&&t.unshift(e.toUpperCase()+":"),zt&&zt.push([].concat(t)),t.unshift("VIDEOJS:");var a=ot.console&&ot.console[e];a&&r&&o.test(e)&&(n&&(t=t.map(function(e){if(i(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),a.apply?a[Array.isArray(t)?"apply":"call"](ot.console,t):a(t))};Ht=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];qt("log",t)},Ht.levels={all:"log|warn|error",error:"error",off:"",warn:"warn|error",DEFAULT:Vt},Ht.level=function(e){if("string"==typeof e){if(!Ht.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');Vt=e}return Vt},Ht.history=function(){return zt?[].concat(zt):[]},Ht.history.clear=function(){zt&&(zt.length=0)},Ht.history.disable=function(){null!==zt&&(zt.length=0,zt=null)},Ht.history.enable=function(){null===zt&&(zt=[])},Ht.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return qt("error",t)},Ht.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return qt("warn",t)};var Gt=Ht,Kt=function(e){for(var t="",n=0;n<arguments.length;n++)t+=a(e[n])+(arguments[n+1]||"");return t},Yt=Ft(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),Wt=p("querySelector"),Qt=p("querySelectorAll"),Xt=(Object.freeze||Object)({isReal:f,isEl:d,createEl:h,textContent:g,prependTo:v,hasClass:m,addClass:y,removeClass:_,toggleClass:b,setAttributes:T,getAttributes:E,getAttribute:w,setAttribute:S,removeAttribute:P,blockTextSelection:C,unblockTextSelection:I,getBoundingClientRect:x,findPosition:A,getPointerPosition:O,isTextNode:k,emptyEl:M,normalizeContent:R,appendContent:D,insertContent:N,$:Wt,$$:Qt}),$t=1,Jt={},Zt="vdata"+(new Date).getTime(),en=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){en=!0}});ot.addEventListener("test",null,e)}catch(e){}}();var tn=["touchstart","touchmove"],nn=(Object.freeze||Object)({fixEvent:V,on:z,off:q,trigger:G,one:K}),rn=!1,on=void 0,an=function(){if(f()){var e=ct.getElementsByTagName("video"),t=ct.getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);if(t&&t.length>0)for(var o=0,a=t.length;o<a;o++)n.push(t[o])
;if(n&&n.length>0)for(var s=0,u=n.length;s<u;s++){var l=n[s];if(!l||!l.getAttribute){Y(1);break}if(l.player===undefined){var c=l.getAttribute("data-setup");null!==c&&on(l)}}else rn||Y(1)}};f()&&"complete"===ct.readyState?rn=!0:K(ot,"load",function(){rn=!0});var sn=function(e){var t=ct.createElement("style");return t.className=e,t},un=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},ln=function(e,t,n){t.guid||(t.guid=L());var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},cn=function(e,t){var n=Date.now();return function(){var r=Date.now();r-n>=t&&(e.apply(undefined,arguments),n=r)}},fn=function(){};fn.prototype.allowedEvents_={},fn.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},z(this,e,t),this.addEventListener=n},fn.prototype.addEventListener=fn.prototype.on,fn.prototype.off=function(e,t){q(this,e,t)},fn.prototype.removeEventListener=fn.prototype.off,fn.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},K(this,e,t),this.addEventListener=n},fn.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=V(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),G(this,e)},fn.prototype.dispatchEvent=fn.prototype.trigger;var dn=function(e){return e instanceof fn||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},pn=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},hn=function(e){if(!e.nodeName&&!dn(e))throw new Error("Invalid target; must be a DOM node or evented object.")},gn=function(e){if(!pn(e))throw new Error("Invalid event type; must be a non-empty string or array.")},vn=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},mn=function(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,r=void 0,i=void 0,o=void 0;return n?(r=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(r=t[0],i=t[1],o=t[2]),hn(r),gn(i),vn(o),o=ln(e,o),{isTargetingSelf:n,target:r,type:i,listener:o}},yn=function(e,t,n,r){hn(e),e.nodeName?nn[t](e,n,r):e[t](n,r)},_n={on:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mn(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(yn(a,"on",s,u),!o){var l=function(){return e.off(a,s,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,yn(this,"on","dispose",l),yn(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=mn(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)yn(a,"one",s,u);else{var l=function t(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e.off(a,s,t),u.apply(null,r)};l.guid=u.guid,yn(a,"one",s,l)}},off:function(e,t,n){if(!e||pn(e))q(this.eventBusEl_,e,t);else{var r=e,i=t;hn(r),gn(i),vn(n),n=ln(this,n),this.off("dispose",n),r.nodeName?(q(r,i,n),q(r,"dispose",n)):dn(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){return G(this.eventBusEl_,e,t)}},bn={state:{},setState:function(e){var n=this;"function"==typeof e&&(e=e());var r=void 0;return t(e,function(e,t){n.state[t]!==e&&(r=r||{},r[t]={from:n.state[t],to:e}),n.state[t]=e}),r&&dn(this)&&this.trigger({changes:r,type:"statechanged"}),r}},Tn=function(){function e(t,n,r){if(Nt(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=J({},this.options_),n=this.options_=J(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+L()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),W(this,{eventBusKey:this.el_?"el_":null}),Q(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(r),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),B(this.el_),this.el_=null)},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return Gt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=J(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return h(e,t,n)},e.prototype.localize=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e,r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],u=n;return o&&o[e]?u=o[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,function(e,n){var r=t[n-1],i=r;return void 0===r&&(i=e),i})),u},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=X(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=X(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),o=o||i.name&&X(i.name()),o&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children,l=u[r]||null;this.contentEl().insertBefore(i.el(),l)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;if(n){var r=this.options_,i=function(e){var n=e.name,i=e.opts;if(r[n]!==undefined&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}},o=void 0,a=e.getComponent("Tech");o=Array.isArray(n)?n:Object.keys(n),o.concat(Object.keys(this.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?(r=e,i=n[r]||t.options_[r]||{}):(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||X(t.name));return n&&!a.isTech(n)}).forEach(i)}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e)))},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return Wt(e,t||this.contentEl())},e.prototype.$$=function(e,t){return Qt(e,t||this.contentEl())},e.prototype.hasClass=function(e){return m(this.el_,e)},e.prototype.addClass=function(e){y(this.el_,e)},e.prototype.removeClass=function(e){_(this.el_,e)},e.prototype.toggleClass=function(e,t){b(this.el_,e,t)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(e){return w(this.el_,e)},e.prototype.setAttribute=function(e,t){S(this.el_,e,t)},e.prototype.removeAttribute=function(e){P(this.el_,e)},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.prototype.dimension=function(e,t,n){if(t!==undefined)return null!==t&&t===t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+X(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof ot.getComputedStyle){var n=ot.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var r="offset"+X(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,n=200,r=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),r=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)r=!1;else if(t){var n=e.touches[0].pageX-t.pageX,i=e.touches[0].pageY-t.pageY,o=Math.sqrt(n*n+i*i);o>10&&(r=!1)}});var i=function(){r=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){if(t=null,!0===r){(new Date).getTime()-e<n&&(i.preventDefault(),this.trigger("tap"))}})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=ln(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=ln(this,e);var n=ot.setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){ot.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=ln(this,e);var n=ot.setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){ot.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.prototype.requestAnimationFrame=function(e){var t=this;if(this.supportsRaf_){e=ln(this,e);var n=ot.requestAnimationFrame(e),r=function(){return t.cancelAnimationFrame(n)};return r.guid="vjs-raf-"+n,this.on("dispose",r),n}return this.setTimeout(e,1e3/60)},e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){ot.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r=e.getComponent("Tech"),i=r&&r.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(i||!o){var a=void 0;throw a=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+a+".")}t=X(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(e){return u[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=X(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();Tn.prototype.supportsRaf_="function"==typeof ot.requestAnimationFrame&&"function"==typeof ot.cancelAnimationFrame,Tn.registerComponent("Component",Tn);for(var En={},wn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Sn=wn[0],Pn=void 0,Cn=0;Cn<wn.length;Cn++)if(wn[Cn][1]in ct){Pn=wn[Cn];break}if(Pn)for(var In=0;In<Pn.length;In++)En[Sn[In]]=Pn[In];ie.prototype.code=0,ie.prototype.message="",ie.prototype.status=null,ie.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ie.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var xn=0;xn<ie.errorTypes.length;xn++)ie[ie.errorTypes[xn]]=xn,ie.prototype[ie.errorTypes[xn]]=xn;var An=oe,On=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},kn=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=On(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(On))},Mn=function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()},Rn={textTracksToJson:kn,jsonToTextTracks:Mn,trackToJson_:On},Dn="vjs-modal-dialog",Nn=27,Ln=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=h("div",{className:Dn+"-content"},{role:"document"}),i.descEl_=h("p",{className:Dn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),g(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return Dn+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===Nn&&this.closeable()&&this.close()},t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",ln(this,this.handleKeyPress)),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",ln(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},t.prototype.fill=function(){this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),N(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},t.prototype.empty=function(){this.trigger("beforemodalempty"),M(this.contentEl()),this.trigger("modalempty")},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t.prototype.conditionalFocus_=function(){var e=ct.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(ct,"keydown",this.handleKeyDown))},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(ct,"keydown",this.handleKeyDown)},t.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,i=0;i<t.length;i++)if(n===t[i]){r=i;break}ct.activeElement===this.el_&&(r=0),e.shiftKey&&0===r?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||r!==t.length-1||(t[0].focus(),e.preventDefault())}},t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof ot.HTMLAnchorElement||e instanceof ot.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof ot.HTMLInputElement||e instanceof ot.HTMLSelectElement||e instanceof ot.HTMLTextAreaElement||e instanceof ot.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof ot.HTMLIFrameElement||e instanceof ot.HTMLObjectElement||e instanceof ot.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}(Tn);Ln.prototype.options_={pauseOnOpen:!0,temporary:!0},Tn.registerComponent("ModalDialog",Ln);var jn=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;Nt(this,t);var o=jt(this,e.call(this));if(!i&&(i=o,It)){i=ct.createElement("custom");for(var a in t.prototype)"constructor"!==a&&(i[a]=t.prototype[a])}i.tracks_=[],Object.defineProperty(i,"length",{get:function(){return this.tracks_.length}});for(var s=0;s<r.length;s++)i.addTrack(r[s]);return n=i,jt(o,n)}return Lt(t,e),t.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(fn);jn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var Fn in jn.prototype.allowedEvents_)jn.prototype["on"+Fn]=null;var Bn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Un=function(e){function t(){var n,r,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];Nt(this,t);for(var o=void 0,a=i.length-1;a>=0;a--)if(i[a].enabled){Bn(i,i[a]);break}if(It){o=ct.createElement("custom");for(var s in jn.prototype)"constructor"!==s&&(o[s]=jn.prototype[s]);for(var u in t.prototype)"constructor"!==u&&(o[u]=t.prototype[u])}return o=n=jt(this,e.call(this,i,o)),o.changing_=!1,r=o,jt(n,r)}return Lt(t,e),t.prototype.addTrack=function(t){var n=this;t.enabled&&Bn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,Bn(n,t),n.changing_=!1,n.trigger("change"))})},t}(jn),Hn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Vn=function(e){function t(){var n,r,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];Nt(this,t);for(var o=void 0,a=i.length-1;a>=0;a--)if(i[a].selected){Hn(i,i[a]);break}if(It){o=ct.createElement("custom");for(var s in jn.prototype)"constructor"!==s&&(o[s]=jn.prototype[s]);for(var u in t.prototype)"constructor"!==u&&(o[u]=t.prototype[u])}return o=n=jt(this,e.call(this,i,o)),o.changing_=!1,Object.defineProperty(o,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),r=o,jt(n,r)}return Lt(t,e),t.prototype.addTrack=function(t){var n=this;t.selected&&Hn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,Hn(n,t),n.changing_=!1,n.trigger("change"))})},t}(jn),zn=function(e){function t(){var n,r,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];Nt(this,t);var o=void 0;if(It){o=ct.createElement("custom");for(var a in jn.prototype)"constructor"!==a&&(o[a]=jn.prototype[a]);for(var s in t.prototype)"constructor"!==s&&(o[s]=t.prototype[s])}return o=n=jt(this,e.call(this,i,o)),r=o,jt(n,r)}return Lt(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",ln(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",ln(this,function(){this.trigger("selectedlanguagechange")}))},t}(jn),qn=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];Nt(this,e);var n=this;if(It){n=ct.createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=t.length;i<o;i++)n.addTrackElement_(t[i]);if(It)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),Gn=function(){function e(t){Nt(this,e);var n=this;if(It){n=ct.createElement("custom");for(var r in e.prototype)"constructor"!==r&&(n[r]=e.prototype[r])}if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),It)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),Kn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Yn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Wn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Qn={disabled:"disabled",hidden:"hidden",showing:"showing"},Xn=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Nt(this,t);var i=jt(this,e.call(this)),o=i;if(It){o=ct.createElement("custom");for(var a in t.prototype)"constructor"!==a&&(o[a]=t.prototype[a])}var s={id:r.id||"vjs_track_"+L(),kind:r.kind||"",label:r.label||"",language:r.language||""},u=function(e){Object.defineProperty(o,e,{get:function(){return s[e]},set:function(){}})};for(var l in s)u(l);return n=o,jt(i,n)}return Lt(t,e),t}(fn),$n=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=ct.createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&(i=ct.createElement("div"),i.innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),ct.body.appendChild(i));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),r&&ct.body.removeChild(i),o},Jn=function(e){if(!e.match(/^https?:\/\//)){var t=ct.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},Zn=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},er=function(e){var t=ot.location,n=$n(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},tr=(Object.freeze||Object)({parseUrl:$n,getAbsoluteURL:Jn,getFileExtension:Zn,isCrossOrigin:er}),nr=ae,rr=Object.prototype.toString,ir=e(function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}t=e.exports=n,t.left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),or=se,ar=Object.prototype.toString,sr=Object.prototype.hasOwnProperty,ur=function(e){return"[object Array]"===Object.prototype.toString.call(e)},lr=function(e){if(!e)return{};var t={};return or(ir(e).split("\n"),function(e){var n=e.indexOf(":"),r=ir(e.slice(0,n)).toLowerCase(),i=ir(e.slice(n+1));"undefined"==typeof t[r]?t[r]=i:ur(t[r])?t[r].push(i):t[r]=[t[r],i]}),t},cr=fe,fr=Object.prototype.hasOwnProperty,dr=ge;ge.XMLHttpRequest=ot.XMLHttpRequest||ye,ge.XDomainRequest="withCredentials"in new ge.XMLHttpRequest?ge.XMLHttpRequest:ot.XDomainRequest,de(["get","put","post","patch","head","delete"],function(e){ge["delete"===e?"del":e]=function(t,n,r){return n=he(t,n,r),n.method=e.toUpperCase(),ve(n)}});var pr=function(e,t){var n=new ot.WebVTT.Parser(ot,ot.vttjs,ot.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(ot.console&&ot.console.groupCollapsed&&ot.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return Gt.error(e)}),ot.console&&ot.console.groupEnd&&ot.console.groupEnd()),n.flush()},hr=function(e,t){var n={uri:e},r=er(e);r&&(n.cors=r),dr(n,ln(this,function(e,n,r){if(e)return Gt.error(e,n);if(t.loaded_=!0,"function"!=typeof ot.WebVTT){if(t.tech_){var i=function(){return pr(r,t)};t.tech_.on("vttjsloaded",i),t.tech_.on("vttjserror",function(){Gt.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)})}}else pr(r,t)}))},gr=function(e){function t(){var n,r,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(Nt(this,t),!i.tech)throw new Error("A tech was not provided.");var o=J(i,{kind:Wn[i.kind]||"subtitles",language:i.language||i.srclang||""}),a=Qn[o.mode]||"disabled",s=o["default"];"metadata"!==o.kind&&"chapters"!==o.kind||(a="hidden");var u=n=jt(this,e.call(this,o));if(u.tech_=o.tech,It)for(var l in t.prototype)"constructor"!==l&&(u[l]=t.prototype[l]);u.cues_=[],u.activeCues_=[];var c=new Gn(u.cues_),f=new Gn(u.activeCues_),d=!1,p=ln(u,function(){this.activeCues,d&&(this.trigger("cuechange"),d=!1)});return"disabled"!==a&&u.tech_.ready(function(){u.tech_.on("timeupdate",p)},!0),Object.defineProperty(u,"default",{get:function(){return s},set:function(){}}),Object.defineProperty(u,"mode",{get:function(){return a},set:function(e){var t=this;Qn[e]&&(a=e,"showing"===a&&this.tech_.ready(function(){t.tech_.on("timeupdate",p)},!0),this.trigger("modechange"))}}),Object.defineProperty(u,"cues",{get:function(){return this.loaded_?c:null},set:function(){}}),Object.defineProperty(u,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return f;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(d=!1,t.length!==this.activeCues_.length)d=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(d=!0);return this.activeCues_=t,f.setCues_(this.activeCues_),f},set:function(){}}),o.src?(u.src=o.src,hr(o.src,u)):u.loaded_=!0,r=u,jt(n,r)}return Lt(t,e),t.prototype.addCue=function(e){var t=e;if(ot.vttjs&&!(e instanceof ot.vttjs.VTTCue)){t=new ot.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(var n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}(Xn);gr.prototype.allowedEvents_={cuechange:"cuechange"};var vr=function(e){function t(){var n,r,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Nt(this,t);var o=J(i,{kind:Yn[i.kind]||""}),a=n=jt(this,e.call(this,o)),s=!1;if(It)for(var u in t.prototype)"constructor"!==u&&(a[u]=t.prototype[u]);return Object.defineProperty(a,"enabled",{get:function(){return s},set:function(e){"boolean"==typeof e&&e!==s&&(s=e,this.trigger("enabledchange"))}}),o.enabled&&(a.enabled=o.enabled),a.loaded_=!0,r=a,jt(n,r)}return Lt(t,e),t}(Xn),mr=function(e){function t(){var n,r,i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Nt(this,t);var o=J(i,{kind:Kn[i.kind]||""}),a=n=jt(this,e.call(this,o)),s=!1;if(It)for(var u in t.prototype)"constructor"!==u&&(a[u]=t.prototype[u]);return Object.defineProperty(a,"selected",{get:function(){return s},set:function(e){"boolean"==typeof e&&e!==s&&(s=e,this.trigger("selectedchange"))}}),o.selected&&(a.selected=o.selected),r=a,jt(n,r)}return Lt(t,e),t}(Xn),yr=0,_r=2,br=function(e){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Nt(this,t);var r=jt(this,e.call(this)),i=void 0,o=r;if(It){o=ct.createElement("custom");for(var a in t.prototype)"constructor"!==a&&(o[a]=t.prototype[a])}var s=new gr(n);if(o.kind=s.kind,o.src=s.src,o.srclang=s.language,o.label=s.label,o["default"]=s["default"],Object.defineProperty(o,"readyState",{get:function(){return i}}),Object.defineProperty(o,"track",{get:function(){return s}}),i=yr,s.addEventListener("loadeddata",function(){i=_r,o.trigger({type:"load",target:o})}),It){var u;return u=o,jt(r,u)}return r}return Lt(t,e),t}(fn);br.prototype.allowedEvents_={load:"load"},br.NONE=yr,br.LOADING=1,br.LOADED=_r,br.ERROR=3;var Tr={audio:{ListClass:Un,TrackClass:vr,capitalName:"Audio"},video:{ListClass:Vn,TrackClass:mr,capitalName:"Video"},text:{ListClass:zn,TrackClass:gr,capitalName:"Text"}}
;Object.keys(Tr).forEach(function(e){Tr[e].getterName=e+"Tracks",Tr[e].privateName=e+"Tracks_"});var Er={remoteText:{ListClass:zn,TrackClass:gr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:qn,TrackClass:br,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},wr=J(Tr,Er);Er.names=Object.keys(Er),Tr.names=Object.keys(Tr),wr.names=[].concat(Er.names).concat(Tr.names);var Sr=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();_e.prototype=Sr(Error.prototype),_e.prototype.constructor=_e,_e.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Te.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var Pr={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},Cr={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Ir={v:"title",lang:"lang"},xr={rt:"ruby"},Ar=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];xe.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},xe.prototype.formatStyle=function(e,t){return 0===e?0:e+t},Ae.prototype=Sr(xe.prototype),Ae.prototype.constructor=Ae,Oe.prototype.move=function(e,t){switch(t=t!==undefined?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Oe.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Oe.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Oe.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Oe.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Oe.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Oe.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Oe.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e,{left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},Me.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Me.convertCueToDOMTree=function(e,t){return e&&t?Se(e,t):null},Me.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),r(t)){var o=[],a=Oe.getSimpleBoxPosition(i),s=Math.round(.05*a.height*100)/100,u={font:s+"px sans-serif"};!function(){for(var n,r,s=0;s<t.length;s++)r=t[s],n=new Ae(e,r,u),i.appendChild(n.div),ke(e,n,a,o),r.displayState=n.div,o.push(Oe.getSimpleBoxPosition(n))}()}else for(var l=0;l<t.length;l++)i.appendChild(t[l].displayState)},Me.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},Me.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof _e))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=o.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,o.buffer=e.substr(t),n}function n(e){var t=new Te;if(Ee(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var i=new Te;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(o.vttjs.VTTRegion||o.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),o.onregion&&o.onregion(n),o.regionList.push({id:t.get("id"),region:n})}}function r(e){var t=new Te;Ee(e,function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",be(n))}},/[^\d]:/,/,/),o.ontimestampmap&&o.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}function i(e){e.match(/X-TIMESTAMP-MAP/)?Ee(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":r(t)}},/=/):Ee(e,function(e,t){switch(e){case"Region":n(t)}},/:/)}var o=this;e&&(o.buffer+=o.decoder.decode(e,{stream:!0}));try{var a;if("INITIAL"===o.state){if(!/\r\n|\n/.test(o.buffer))return this;a=t();var s=a.match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new _e(_e.Errors.BadSignature);o.state="HEADER"}for(var u=!1;o.buffer;){if(!/\r\n|\n/.test(o.buffer))return this;switch(u?u=!1:a=t(),o.state){case"HEADER":/:/.test(a)?i(a):a||(o.state="ID");continue;case"NOTE":a||(o.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){o.state="NOTE";break}if(!a)continue;if(o.cue=new(o.vttjs.VTTCue||o.window.VTTCue)(0,0,""),o.state="CUE",-1===a.indexOf("-->")){o.cue.id=a;continue}case"CUE":try{we(a,o.cue,o.regionList)}catch(e){o.reportOrThrowError(e),o.cue=null,o.state="BADCUE";continue}o.state="CUETEXT";continue;case"CUETEXT":var l=-1!==a.indexOf("-->");if(!a||l&&(u=!0)){o.oncue&&o.oncue(o.cue),o.cue=null,o.state="ID";continue}o.cue.text&&(o.cue.text+="\n"),o.cue.text+=a;continue;case"BADCUE":a||(o.state="ID");continue}}}catch(e){o.reportOrThrowError(e),"CUETEXT"===o.state&&o.cue&&o.oncue&&o.oncue(o.cue),o.cue=null,o.state="INITIAL"===o.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new _e(_e.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var Or=Me,kr="auto",Mr={"":!0,lr:!0,rl:!0},Rr={start:!0,middle:!0,end:!0,left:!0,right:!0};Le.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Dr=Le,Nr={"":!0,up:!0},Lr=Be,jr=e(function(e){var t=e.exports={WebVTT:Or,VTTCue:Dr,VTTRegion:Lr};ot.vttjs=t,ot.WebVTT=t.WebVTT;var n=t.VTTCue,r=t.VTTRegion,i=ot.VTTCue,o=ot.VTTRegion;t.shim=function(){ot.VTTCue=n,ot.VTTRegion=r},t.restore=function(){ot.VTTCue=i,ot.VTTRegion=o},ot.VTTCue||t.shim()}),Fr=function(e){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};Nt(this,t),n.reportTouchActivity=!1;var i=jt(this,e.call(this,null,n,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),wr.names.forEach(function(e){var t=wr[e];n&&n[t.getterName]&&(i[t.privateName]=n[t.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===n["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new wr.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return Lt(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ln(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return ne(0,0)},t.prototype.bufferedPercent=function(){return re(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(Tr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;e=[].concat(e),e.forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},t.prototype.reset=function(){},t.prototype.error=function(e){return e!==undefined&&(this.error_=new ie(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?ne(0,0):ne()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTrackListeners=function(){var e=this;Tr.names.forEach(function(t){var n=Tr[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})},t.prototype.addWebVttScript_=function(){var e=this;if(!ot.WebVTT)if(ct.body.contains(this.el())){if(!this.options_["vtt.js"]&&o(jr)&&Object.keys(jr).length>0)return void this.trigger("vttjsloaded");var t=ct.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),ot.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}})},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return Ue(this,e,t,n)},t.prototype.createRemoteTextTrack=function(e){var t=J(e,{tech:this});return new Er.remoteTextEl.TrackClass(t)},t.prototype.addRemoteTextTrack=function(){var e=this,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments[1],r=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(Gt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==n&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(r.track)}),r},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.prototype.getVideoPlaybackQuality=function(){return{}},t.prototype.setPoster=function(){},t.prototype.playsinline=function(){},t.prototype.setPlaysinline=function(){},t.prototype.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=X(e),t.techs_[e]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return e=X(e),t.techs_&&t.techs_[e]?t.techs_[e]:ot&&ot.videojs&&ot.videojs[e]?(Gt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),ot.videojs[e]):void 0},t}(Tn);wr.names.forEach(function(e){var t=wr[e];Fr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Fr.prototype.featuresVolumeControl=!0,Fr.prototype.featuresFullscreenResize=!1,Fr.prototype.featuresPlaybackRate=!1,Fr.prototype.featuresProgressEvents=!1,Fr.prototype.featuresTimeupdateEvents=!1,Fr.prototype.featuresNativeTextTracks=!1,Fr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),n===undefined&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Gt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Tn.registerComponent("Tech",Fr),Fr.registerTech("Tech",Fr),Fr.defaultTechOrder_=[];var Br={},Ur={buffered:1,currentTime:1,duration:1,seekable:1,played:1},Hr={setCurrentTime:1},Vr=function e(t){if(Array.isArray(t)){var n=[];t.forEach(function(t){t=e(t),Array.isArray(t)?n=n.concat(t):i(t)&&n.push(t)}),t=n}else t="string"==typeof t&&t.trim()?[{src:t}]:i(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[t]:[];return t},zr=function(e){function t(n,r,i){Nt(this,t);var o=J({createEl:!1},r),a=jt(this,e.call(this,n,o,i));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var s=0,u=r.playerOptions.techOrder;s<u.length;s++){var l=X(u[s]),c=Fr.getTech(l);if(l||(c=Tn.getComponent(l)),c&&c.isSupported()){n.loadTech_(l);break}}return a}return Lt(t,e),t}(Tn);Tn.registerComponent("MediaLoader",zr);var qr=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return Lt(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n=r({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&Gt.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=r({role:"button","aria-live":"polite"},i),this.tabIndex_=n.tabIndex;var o=e.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(o),o},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=h("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,g(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){z(ct,"keydown",ln(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){q(ct,"keydown",ln(this,this.handleKeyPress))},t}(Tn);Tn.registerComponent("ClickableComponent",qr);var Gr=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.update(),n.on("posterchange",ln(i,i.update)),i}return Lt(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=h("div",{className:"vjs-poster",tabIndex:-1});return Mt||(this.fallbackImg_=h("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(qr);Tn.registerComponent("PosterImage",Gr);var Kr="#222",Yr="#ccc",Wr={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},Qr=function(e){function t(n,r,i){Nt(this,t);var o=jt(this,e.call(this,n,r,i));return n.on("loadstart",ln(o,o.toggleDisplay)),n.on("texttrackchange",ln(o,o.updateDisplay)),n.on("loadstart",ln(o,o.preselectTrack)),n.ready(ln(o,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)return void this.hide();n.on("fullscreenchange",ln(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()})),o}return Lt(t,e),t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,i=void 0,o=void 0,a=0;a<t.length;a++){var s=t[a];n&&n.enabled&&n.language===s.language?s.kind===n.kind?o=s:o||(o=s):n&&!n.enabled?(o=null,r=null,i=null):s["default"]&&("descriptions"!==s.kind||r?s.kind in e&&!i&&(i=s):r=s)}o?o.mode="showing":i?i.mode="showing":r&&(r.mode="showing")},t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof ot.WebVTT&&ot.WebVTT.processCues(ot,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},t.prototype.updateForTrack=function(e){if("function"==typeof ot.WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);ot.WebVTT.processCues(ot,n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&Qe(a.firstChild,"color",We(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Qe(a.firstChild,"backgroundColor",We(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Qe(a,"backgroundColor",We(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+Kr+", 2px 2px 4px "+Kr+", 2px 2px 5px "+Kr:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+Kr+", 2px 2px "+Kr+", 3px 3px "+Kr:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+Yr+", 0 1px "+Yr+", -1px -1px "+Kr+", 0 -1px "+Kr:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+Kr+", 0 0 4px "+Kr+", 0 0 4px "+Kr+", 0 0 4px "+Kr)),t.fontPercent&&1!==t.fontPercent){var s=ot.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Wr[t.fontFamily])}}}},t}(Tn);Tn.registerComponent("TextTrackDisplay",Qr);var Xr=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(Tn);Tn.registerComponent("LoadingSpinner",Xr);var $r=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.createEl=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e="button",t=r({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=r({type:"button","aria-live":"polite"},n);var i=Tn.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},t.prototype.addChild=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=this.constructor.name;return Gt.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Tn.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(qr);Tn.registerComponent("Button",$r);var Jr=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(!r)return void this.player_.focus();var i=function(){return r.focus()};if(t&&t.then){var o=function(){};t.then(i,o)}else this.setTimeout(i,1)}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(){this.mouseused_=!0},t}($r);Jr.prototype.controlText_="Play Video",Tn.registerComponent("BigPlayButton",Jr);var Zr=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.controlText(r&&r.controlText||i.localize("Close")),i}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}($r);Tn.registerComponent("CloseButton",Zr);var ei=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.on(n,"play",i.handlePlay),i.on(n,"pause",i.handlePause),i.on(n,"ended",i.handleEnded),i}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.prototype.handleEnded=function(){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay")},t}($r);ei.prototype.controlText_="Play",Tn.registerComponent("PlayToggle",ei);var ti=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.throttledUpdateContent=cn(ln(i,i.updateContent),25),i.on(n,"timeupdate",i.throttledUpdateContent),i}return Lt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-current-time-display"},{"aria-live":"off"},h("span",{className:"vjs-control-text",textContent:this.localize("Current Time")})),this.updateTextNode_(),t.appendChild(this.contentEl_),t},t.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=ct.createTextNode(" "+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},t.prototype.updateContent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=Xe(e,this.player_.duration());t!==this.formattedTime_&&(this.formattedTime_=t,this.requestAnimationFrame(this.updateTextNode_))},t}(Tn);Tn.registerComponent("CurrentTimeDisplay",ti);var ni=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.throttledUpdateContent=cn(ln(i,i.updateContent),25),i.on(n,["durationchange","loadedmetadata","timeupdate"],i.throttledUpdateContent),i}return Lt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-duration-display"},{"aria-live":"off"},h("span",{className:"vjs-control-text",textContent:this.localize("Duration Time")})),this.updateTextNode_(),t.appendChild(this.contentEl_),t},t.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=ct.createTextNode(" "+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},t.prototype.updateContent=function(){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.formattedTime_=Xe(e),this.requestAnimationFrame(this.updateTextNode_))},t}(Tn);Tn.registerComponent("DurationDisplay",ni);var ri=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(Tn);Tn.registerComponent("TimeDivider",ri);var ii=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.throttledUpdateContent=cn(ln(i,i.updateContent),25),i.on(n,["timeupdate","durationchange"],i.throttledUpdateContent),i}return Lt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-remaining-time-display"},{"aria-live":"off"},h("span",{className:"vjs-control-text",textContent:this.localize("Remaining Time")})),this.updateTextNode_(),t.appendChild(this.contentEl_),t},
t.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=ct.createTextNode(" -"+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},t.prototype.updateContent=function(){if(this.player_.duration()){var e=Xe(this.player_.remainingTime());e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))}},t}(Tn);Tn.registerComponent("RemainingTimeDisplay",ii);var oi=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return Lt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(){this.player().duration()===Infinity?this.show():this.hide()},t}(Tn);Tn.registerComponent("LiveDisplay",oi);var ai=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on("focus",i.handleFocus),i.on("blur",i.handleBlur),i.on("click",i.handleClick),i.on(n,"controlsvisible",i.update),i.playerEvent&&i.on(n,i.playerEvent,i.update),i}return Lt(t,e),t.prototype.createEl=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return n.className=n.className+" vjs-slider",n=r({tabIndex:0},n),i=r({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),C(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;I(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!==e||e<0||e===Infinity)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style;return this.vertical()?r.height=n:r.width=n,e}}},t.prototype.calculateDistance=function(e){var t=O(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){if(e===undefined)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Tn);Tn.registerComponent("Slider",ai);var si=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,i=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=i(n,t);for(var o=0;o<e.length;o++){var a=e.start(o),s=e.end(o),u=r[o];u||(u=this.el_.appendChild(h()),r[o]=u),u.style.left=i(a,n),u.style.width=i(s-a,n)}for(var l=r.length;l>e.length;l--)this.el_.removeChild(r[l-1]);r.length=e.length},t}(Tn);Tn.registerComponent("LoadProgressBar",si);var ui=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,n){var r=x(this.el_),i=x(this.player_.el()),o=e.width*t;if(i&&r){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),u=r.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right="-"+u+"px",g(this.el_,n)}},t}(Tn);Tn.registerComponent("TimeTooltip",ui);var li=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),i=Xe(r,n.player_.duration()),o=n.getChild("timeTooltip");o&&o.update(e,t,i)})},t}(Tn);li.prototype.options_={children:[]},xt&&!(xt>8)||mt||_t||li.prototype.options_.children.push("timeTooltip"),Tn.registerComponent("PlayProgressBar",li);var ci=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.update=cn(ln(i,i.update),25),i}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=n.player_.duration(),i=Xe(t*r,r);n.el_.style.left=e.width*t+"px",n.getChild("timeTooltip").update(e,t,i)})},t}(Tn);ci.prototype.options_={children:["timeTooltip"]},Tn.registerComponent("MouseTimeDisplay",ci);var fi=5,di=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.update=cn(ln(i,i.update),50),i.on(n,["timeupdate","ended"],i.update),i}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update=function(){var t=e.prototype.update.call(this),n=this.player_.duration(),r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();return this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Xe(r,n),Xe(n,n)],"{1} of {2}")),this.bar.update(x(this.el_),t),t},t.prototype.getPercent=function(){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),t=e/this.player_.duration();return t>=1?1:t},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+fi)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-fi)},t.prototype.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(ai);di.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},xt&&!(xt>8)||mt||_t||di.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),di.prototype.playerEvent="timeupdate",Tn.registerComponent("SeekBar",di);var pi=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.handleMouseMove=cn(ln(i,i.handleMouseMove),25),i.on(i.el_,"mousemove",i.handleMouseMove),i.throttledHandleMouseSeek=cn(ln(i,i.handleMouseSeek),25),i.on(["mousedown","touchstart"],i.handleMouseDown),i}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar"),n=t.getChild("mouseTimeDisplay"),r=t.el(),i=x(r),o=O(r,e).x;o>1?o=1:o<0&&(o=0),n&&n.update(i,o)},t.prototype.handleMouseSeek=function(e){this.getChild("seekBar").handleMouseMove(e)},t.prototype.handleMouseDown=function(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},t}(Tn);pi.prototype.options_={children:["seekBar"]},Tn.registerComponent("ProgressControl",pi);var hi=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.on(n,"fullscreenchange",i.handleFullscreenChange),i}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}($r);hi.prototype.controlText_="Fullscreen",Tn.registerComponent("FullscreenToggle",hi);var gi=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},vi=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Tn);Tn.registerComponent("VolumeLevel",vi);var mi=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.on("slideractive",i.updateLastVolume_),i.on(n,"volumechange",i.updateARIAAttributes),n.ready(function(){return i.updateARIAAttributes()}),i}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(ai);mi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},mi.prototype.playerEvent="volumechange",Tn.registerComponent("VolumeBar",mi);var yi=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Nt(this,t),r.vertical=r.vertical||!1,("undefined"==typeof r.volumeBar||o(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical);var i=jt(this,e.call(this,n,r));return gi(i,n),i.throttledHandleMouseMove=cn(ln(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}return Lt(t,e),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Tn);yi.prototype.options_={children:["volumeBar"]},Tn.registerComponent("VolumeControl",yi);var _i=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return gi(i,n),i.on(n,["loadstart","volumechange"],i.update),i}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){var e=this.player_.volume(),t=this.player_.lastVolume_();if(0===e){var n=t<.1?.1:t;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.prototype.update=function(){this.updateIcon_(),this.updateControlText_()},t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)_(this.el_,"vjs-vol-"+n);y(this.el_,"vjs-vol-"+t)},t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume(),t=e?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},t}($r);_i.prototype.controlText_="Mute",Tn.registerComponent("MuteToggle",_i);var bi=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Nt(this,t),"undefined"!=typeof r.inline?r.inline=r.inline:r.inline=!0,("undefined"==typeof r.volumeControl||o(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);var i=jt(this,e.call(this,n,r));return gi(i,n),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.muteToggle,"focus",i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i.on(i.muteToggle,"blur",i.sliderInactive_),i}return Lt(t,e),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(Tn);bi.prototype.options_={children:["muteToggle","volumeControl"]},Tn.registerComponent("VolumePanel",bi);var Ti=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return r&&(i.menuButton_=r.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return Lt(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",ln(this,function(){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=h(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),z(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Tn);Tn.registerComponent("Menu",Ti);var Ei=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Nt(this,t);var i=jt(this,e.call(this,n,r));i.menuButton_=new $r(n,r),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var o=$r.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+o,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}return Lt(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new Ti(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=h("li",{className:"vjs-menu-title",innerHTML:X(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),v(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+$r.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},t.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",ln(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){z(ct,"keydown",ln(this,this.handleKeyPress))},t.prototype.handleBlur=function(){q(ct,"keydown",ln(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Tn);Tn.registerComponent("MenuButton",Ei);var wi=function(e){function t(n,r){Nt(this,t);var i=r.tracks,o=jt(this,e.call(this,n,r));if(o.items.length<=1&&o.hide(),!i)return jt(o);var a=ln(o,o.update);return i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),o.player_.on("ready",a),o.player_.on("dispose",function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a)}),o}return Lt(t,e),t}(Ei);Tn.registerComponent("TrackButton",wi);var Si=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.selectable=r.selectable,i.selected(r.selected),i.selectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitem"),i}return Lt(t,e),t.prototype.createEl=function(t,n,i){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",r({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(qr);Tn.registerComponent("MenuItem",Si);var Pi=function(e){function t(n,r){Nt(this,t);var i=r.track,o=n.textTracks();r.label=i.label||i.language||"Unknown",r.selected="showing"===i.mode;var a=jt(this,e.call(this,n,r));a.track=i;var s=ln(a,a.handleTracksChange),u=ln(a,a.handleSelectedLanguageChange);if(n.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===undefined){var l=void 0;a.on(["tap","click"],function(){if("object"!==Dt(ot.Event))try{l=new ot.Event("change")}catch(e){}l||(l=ct.createEvent("Event"),l.initEvent("change",!0,!0)),o.dispatchEvent(l)})}return a}return Lt(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.track.kinds,i=this.player_.textTracks();if(r||(r=[n]),e.prototype.handleClick.call(this,t),i)for(var o=0;o<i.length;o++){var a=i[o];a===this.track&&r.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},t.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},t.prototype.handleSelectedLanguageChange=function(){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t}(Si);Tn.registerComponent("TextTrackMenuItem",Pi);var Ci=function(e){function t(n,r){Nt(this,t),r.track={player:n,kind:r.kind,kinds:r.kinds,"default":!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0;var i=jt(this,e.call(this,n,r));return i.selected(!0),i}return Lt(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;n<r;n++){var i=e[n];if(this.options_.kinds.indexOf(i.kind)>-1&&"showing"===i.mode){t=!1;break}}this.selected(t)},t.prototype.handleSelectedLanguageChange=function(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;n<r;n++){var i=e[n];if(["captions","descriptions","subtitles"].indexOf(i.kind)>-1&&"showing"===i.mode){t=!1;break}}t&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(Pi);Tn.registerComponent("OffTextTrackMenuItem",Ci);var Ii=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Nt(this,t),r.tracks=n.textTracks(),jt(this,e.call(this,n,r))}return Lt(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Pi,n=void 0;this.label_&&(n=this.label_+" off"),e.push(new Ci(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,selectable:!0});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(wi);Tn.registerComponent("TextTrackButton",Ii);var xi=function(e){function t(n,r){Nt(this,t);var i=r.track,o=r.cue,a=n.currentTime();r.selectable=!0,r.label=o.text,r.selected=o.startTime<=a&&a<o.endTime;var s=jt(this,e.call(this,n,r));return s.track=i,s.cue=o,i.addEventListener("cuechange",ln(s,s.update)),s}return Lt(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(Si);Tn.registerComponent("ChaptersTrackMenuItem",xi);var Ai=function(e){function t(n,r,i){return Nt(this,t),jt(this,e.call(this,n,r,i))}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(X(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new xi(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(Ii);Ai.prototype.kind_="chapters",Ai.prototype.controlText_="Chapters",Tn.registerComponent("ChaptersButton",Ai);var Oi=function(e){function t(n,r,i){Nt(this,t);var o=jt(this,e.call(this,n,r,i)),a=n.textTracks(),s=ln(o,o.handleTracksChange);return a.addEventListener("change",s),o.on("dispose",function(){a.removeEventListener("change",s)}),o}return Lt(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!1,n=0,r=e.length;n<r;n++){var i=e[n];if(i.kind!==this.kind_&&"showing"===i.mode){t=!0;break}}t?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ii);Oi.prototype.kind_="descriptions",Oi.prototype.controlText_="Descriptions",Tn.registerComponent("DescriptionsButton",Oi);var ki=function(e){function t(n,r,i){return Nt(this,t),jt(this,e.call(this,n,r,i))}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ii);ki.prototype.kind_="subtitles",ki.prototype.controlText_="Subtitles",Tn.registerComponent("SubtitlesButton",ki);var Mi=function(e){function t(n,r){Nt(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem";var i=jt(this,e.call(this,n,r));return i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+r.kind+" settings dialog"),i}return Lt(t,e),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").open()},t}(Pi);Tn.registerComponent("CaptionSettingsMenuItem",Mi);var Ri=function(e){function t(n,r,i){return Nt(this,t),jt(this,e.call(this,n,r,i))}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new Mi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Ii);Ri.prototype.kind_="captions",Ri.prototype.controlText_="Captions",Tn.registerComponent("CaptionsButton",Ri);var Di=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.createEl=function(t,n,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),o+="</span>",e.prototype.createEl.call(this,t,r({innerHTML:o},n),i)},t}(Pi);Tn.registerComponent("SubsCapsMenuItem",Di);var Ni=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Nt(this,t);var i=jt(this,e.call(this,n,r));return i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(X(i.label_)),i}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new Mi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Di)},t}(Ii);Ni.prototype.kinds_=["captions","subtitles"],Ni.prototype.controlText_="Subtitles",Tn.registerComponent("SubsCapsButton",Ni);var Li=function(e){function t(n,r){Nt(this,t);var i=r.track,o=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var a=jt(this,e.call(this,n,r));a.track=i;var s=ln(a,a.handleTracksChange);return o.addEventListener("change",s),a.on("dispose",function(){o.removeEventListener("change",s)}),a}return Lt(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t);for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(Si);Tn.registerComponent("AudioTrackMenuItem",Li);var ji=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Nt(this,t),r.tracks=n.audioTracks(),jt(this,e.call(this,n,r))}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},
t.prototype.createItems=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new Li(this.player_,{track:r,selectable:!0}))}return e},t}(wi);ji.prototype.controlText_="Audio Track",Tn.registerComponent("AudioTrackButton",ji);var Fi=function(e){function t(n,r){Nt(this,t);var i=r.rate,o=parseFloat(i,10);r.label=i,r.selected=1===o,r.selectable=!0;var a=jt(this,e.call(this,n,r));return a.label=i,a.rate=o,a.on(n,"ratechange",a.update),a}return Lt(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(Si);Fi.prototype.contentElType="button",Tn.registerComponent("PlaybackRateMenuItem",Fi);var Bi=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return Lt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=h("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new Ti(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new Fi(this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],r=0;r<t.length;r++)if(t[r]>e){n=t[r];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(Ei);Bi.prototype.controlText_="Playback Rate",Tn.registerComponent("PlaybackRateMenuButton",Bi);var Ui=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Tn);Tn.registerComponent("Spacer",Ui);var Hi=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(Ui);Tn.registerComponent("CustomControlSpacer",Hi);var Vi=function(e){function t(){return Nt(this,t),jt(this,e.apply(this,arguments))}return Lt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(Tn);Vi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Tn.registerComponent("ControlBar",Vi);var zi=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r));return i.on(n,"error",i.open),i}return Lt(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(Ln);zi.prototype.options_=J(Ln.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Tn.registerComponent("ErrorDisplay",zi);var qi="vjs-text-track-settings",Gi=["#000","Black"],Ki=["#00F","Blue"],Yi=["#0FF","Cyan"],Wi=["#0F0","Green"],Qi=["#F0F","Magenta"],Xi=["#F00","Red"],$i=["#FFF","White"],Ji=["#FF0","Yellow"],Zi=["1","Opaque"],eo=["0.5","Semi-Transparent"],to=["0","Transparent"],no={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Gi,$i,Xi,Wi,Ki,Ji,Qi,Yi]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Zi,eo,to]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[$i,Gi,Xi,Wi,Ki,Ji,Qi,Yi]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Zi,eo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[to,eo,Zi]}};no.windowColor.options=no.backgroundColor.options;var ro=function(e){function r(n,i){Nt(this,r),i.temporary=!1;var o=jt(this,e.call(this,n,i));return o.updateDisplay=ln(o,o.updateDisplay),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=h("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),i.persistTextTrackSettings===undefined&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),t(no,function(e){o.on(o.$(e.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}return Lt(r,e),r.prototype.createElSelect_=function(e){var t=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"label",i=no[e],o=i.id.replace("%s",this.id_);return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+n+" "+o+'">'].concat(i.options.map(function(e){var r=o+"-"+e[1];return['<option id="'+r+'" value="'+e[0]+'" ','aria-labelledby="'+n+" "+o+" "+r+'">',t.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},r.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},r.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},r.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},r.prototype.createElColors_=function(){return h("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.prototype.createElFont_=function(){return h("div",{className:'vjs-track-settings-font">',innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return h("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.prototype.label=function(){return this.localize("Caption Settings Dialog")},r.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.prototype.getValues=function(){var e=this;return n(no,function(t,n,r){var i=Je(e.$(n.selector),n.parser);return i!==undefined&&(t[r]=i),t},{})},r.prototype.setValues=function(e){var n=this;t(no,function(t,r){Ze(n.$(t.selector),e[r],t.parser)})},r.prototype.setDefaults=function(){var e=this;t(no,function(t){var n=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=n})},r.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(ot.localStorage.getItem(qi))}catch(e){Gt.warn(e)}e&&this.setValues(e)},r.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?ot.localStorage.setItem(qi,JSON.stringify(e)):ot.localStorage.removeItem(qi)}catch(e){Gt.warn(e)}}},r.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},r.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(ct,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},r}(Ln);Tn.registerComponent("TextTrackSettings",ro);var io=Ft(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),oo=function(e){function t(n,r){Nt(this,t);var i=jt(this,e.call(this,n,r)),o=n.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!er(c.src)||(a=!0)):l.push(c))}for(var f=0;f<l.length;f++)i.el_.removeChild(l[f])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&Gt.warn(Kt(io)),i.restoreMetadataTracksInIOSNativePlayer_(),(kt||gt||Et)&&!0===n.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return Lt(t,e),t.prototype.dispose=function(){t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,n=function(){t=[];for(var n=0;n<e.length;n++){var r=e[n];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};n(),e.addEventListener("change",n);var r=function n(){for(var r=0;r<t.length;r++){var i=t[r];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",n),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",r)})},t.prototype.proxyNativeTracks_=function(){var e=this;Tr.names.forEach(function(t){var n=Tr[t],r=e.el()[n.getterName],i=e[n.getterName]();if(e["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};Object.keys(o).forEach(function(t){var n=o[t];r.addEventListener(t,n),e.on("dispose",function(){return r.removeEventListener(t,n)})}),e.on("loadstart",a),e.on("dispose",function(){return e.off("loadstart",a)})}})},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=ct.createElement("video");var i=this.options_.tag&&E(this.options_.tag),o=J({},i);kt&&!0===this.options_.nativeControlsForTouch||delete o.controls,T(e,r(o,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&S(e,"preload",this.options_.preload);for(var a=["loop","muted","playsinline","autoplay"],s=a.length-1;s>=0;s--){var u=a[s],l=this.options_[u];void 0!==l&&(l?S(e,u,u):P(e,u),e[u]=l)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(e){Gt(e,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===Infinity&&_t&&Pt&&0===this.el_.currentTime){var t=function t(){e.el_.currentTime>0&&(e.el_.duration===Infinity&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=ot.navigator&&ot.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(e===undefined)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=ct.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),ot.performance&&"function"==typeof ot.performance.now?e.creationTime=ot.performance.now():ot.performance&&ot.performance.timing&&"number"==typeof ot.performance.timing.navigationStart&&(e.creationTime=ot.Date.now()-ot.performance.timing.navigationStart),e},t}(Fr);if(f()){oo.TEST_VID=ct.createElement("video");var ao=ct.createElement("track");ao.kind="captions",ao.srclang="en",ao.label="English",oo.TEST_VID.appendChild(ao)}oo.isSupported=function(){try{oo.TEST_VID.volume=.5}catch(e){return!1}return!(!oo.TEST_VID||!oo.TEST_VID.canPlayType)},oo.canPlayType=function(e){return oo.TEST_VID.canPlayType(e)},oo.canPlaySource=function(e){return oo.canPlayType(e.type)},oo.canControlVolume=function(){try{var e=oo.TEST_VID.volume;return oo.TEST_VID.volume=e/2+.1,e!==oo.TEST_VID.volume}catch(e){return!1}},oo.canControlPlaybackRate=function(){if(_t&&Pt&&Ct<58)return!1;try{var e=oo.TEST_VID.playbackRate;return oo.TEST_VID.playbackRate=e/2+.1,e!==oo.TEST_VID.playbackRate}catch(e){return!1}},oo.supportsNativeTextTracks=function(){return Ot},oo.supportsNativeVideoTracks=function(){return!(!oo.TEST_VID||!oo.TEST_VID.videoTracks)},oo.supportsNativeAudioTracks=function(){return!(!oo.TEST_VID||!oo.TEST_VID.audioTracks)},oo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],oo.prototype.featuresVolumeControl=oo.canControlVolume(),oo.prototype.featuresPlaybackRate=oo.canControlPlaybackRate(),oo.prototype.movingMediaElementInDOM=!mt,oo.prototype.featuresFullscreenResize=!0,oo.prototype.featuresProgressEvents=!0,oo.prototype.featuresTimeupdateEvents=!0,oo.prototype.featuresNativeTextTracks=oo.supportsNativeTextTracks(),oo.prototype.featuresNativeVideoTracks=oo.supportsNativeVideoTracks(),oo.prototype.featuresNativeAudioTracks=oo.supportsNativeAudioTracks();var so=oo.TEST_VID&&oo.TEST_VID.constructor.prototype.canPlayType,uo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,lo=/^video\/mp4/i;oo.patchCanPlayType=function(){bt>=4&&!wt?oo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&uo.test(e)?"maybe":so.call(this,e)}:Tt&&(oo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&lo.test(e)?"maybe":so.call(this,e)})},oo.unpatchCanPlayType=function(){var e=oo.TEST_VID.constructor.prototype.canPlayType;return oo.TEST_VID.constructor.prototype.canPlayType=so,e},oo.patchCanPlayType(),oo.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},oo.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){oo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){oo.prototype["set"+X(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){oo.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){oo.prototype["set"+X(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){oo.prototype[e]=function(){return this.el_[e]()}}),Fr.withSourceHandlers(oo),oo.nativeSourceHandler={},oo.nativeSourceHandler.canPlayType=function(e){try{return oo.TEST_VID.canPlayType(e)}catch(e){return""}},oo.nativeSourceHandler.canHandleSource=function(e){if(e.type)return oo.nativeSourceHandler.canPlayType(e.type);if(e.src){var t=Zn(e.src);return oo.nativeSourceHandler.canPlayType("video/"+t)}return""},oo.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},oo.nativeSourceHandler.dispose=function(){},oo.registerSourceHandler(oo.nativeSourceHandler),Fr.registerTech("Html5",oo);var co=Ft(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),fo=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],po=function(e){function t(n,i,o){if(Nt(this,t),n.id=n.id||"vjs_video_"+L(),i=r(t.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&(i.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(E(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}var u=jt(this,e.call(this,null,i,o));if(u.isReady_=!1,!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=n,u.tagAttributes=n&&E(n),u.language(u.options_.language),i.languages){var l={};Object.getOwnPropertyNames(i.languages).forEach(function(e){l[e.toLowerCase()]=i.languages[e]}),u.languages_=l}else u.languages_=t.prototype.options_.languages;u.cache_={},u.poster_=i.poster||"",u.controls_=!!i.controls,u.cache_.lastVolume=1,n.controls=!1,u.scrubbing_=!1,u.el_=u.createEl(),W(u,{eventBusKey:"el_"});var c=J(u.options_);if(i.plugins){var f=i.plugins;Object.keys(f).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](f[e])},u)}u.options_.playerOptions=c,u.middleware_=[],u.initChildren(),u.isAudio("audio"===n.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label",u.localize("Audio Player")):u.el_.setAttribute("aria-label",u.localize("Video Player")),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),mt||u.addClass("vjs-workinghover"),t.players[u.id_]=u;var d=nt.split(".")[0];return u.addClass("vjs-v"+d),u.userActive(!0),u.reportUserActivity(),u.listenForUserActivity_(),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u.changingSrc_=!1,u}return Lt(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");n=this.el_=r?t.parentNode:e.prototype.createEl.call(this,"div"),t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height");var i=E(t);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?n.className+=" "+i[e]:n.setAttribute(e,i[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==ot.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=sn("vjs-styles-dimensions");var o=Wt(".vjs-styles-defaults"),a=Wt("head");a.insertBefore(this.styleEl_,o?o.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),u=0;u<s.length;u++){var l=s.item(u);y(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),v(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(t===undefined)return this[n]||0;if(""===t)this[n]=undefined;else{var r=parseFloat(t);if(isNaN(r))return void Gt.error('Improper value "'+t+'" supplied for for '+e);this[n]=r}this.updateStyleEl_()},t.prototype.fluid=function(e){if(e===undefined)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.aspectRatio=function(e){if(e===undefined)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0===ot.VIDEOJS_NO_DYNAMIC_STYLE){var e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}var r=void 0,i=void 0,o=void 0,a=void 0;o=this.aspectRatio_!==undefined&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=o.split(":"),u=s[1]/s[0];r=this.width_!==undefined?this.width_:this.height_!==undefined?this.height_/u:this.videoWidth()||300,i=this.height_!==undefined?this.height_:r*u,a=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(a),un(this.styleEl_,"\n      ."+a+" {\n        width: "+r+"px;\n        height: "+i+"px;\n      }\n\n      ."+a+".vjs-fluid {\n        padding-top: "+100*u+"%;\n      }\n    ")},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=X(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(Fr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]};wr.names.forEach(function(e){var t=wr[e];a[t.getterName]=n[t.privateName]}),r(a,this.options_[i]),r(a,this.options_[o]),r(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=Fr.getTech(e);if(!s)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(ln(this,this.handleTechReady_),!0),Rn.jsonToTextTracks(this.textTracksJson_||[],this.tech_),fo.forEach(function(e){n.on(n.tech_,e,n["handleTech"+X(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||v(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){var e=this;wr.names.forEach(function(t){var n=wr[t];e[n.privateName]=e[n.getterName]()}),this.textTracksJson_=Rn.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){return e===undefined&&Gt.warn(Kt(co)),this.tech_},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){Gt("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){
return e!==undefined?void(this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))):!!this.hasStarted_},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Gt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){this.ready(function(){if(e in Hr)return Ge(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(e){throw Gt(e),e}},!0)},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Ur)return qe(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw this.tech_[e]===undefined?Gt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(Gt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):Gt(t),t}}},t.prototype.play=function(){if(this.changingSrc_)this.ready(function(){var e=this.techGet_("play");e!==undefined&&"function"==typeof e.then&&e.then(null,function(){})});else{if(this.isReady_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.ready(function(){this.tech_.one("loadstart",function(){var e=this.play();e!==undefined&&"function"==typeof e.then&&e.then(null,function(){})})})}},t.prototype.pause=function(){this.techCall_("pause")},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.played=function(){return this.techGet_("played")||ne(0,0)},t.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.prototype.currentTime=function(e){return void 0!==e?void this.techCall_("setCurrentTime",e):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.prototype.duration=function(e){if(e===undefined)return this.cache_.duration!==undefined?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=Infinity),e!==this.cache_.duration&&(this.cache_.duration=e,e===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=ne(0,0)),e},t.prototype.bufferedPercent=function(){return re(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){return e!==undefined?void this.techCall_("setMuted",e):this.techGet_("muted")||!1},t.prototype.defaultMuted=function(e){return e!==undefined?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.prototype.lastVolume_=function(e){return e!==undefined&&0!==e?void(this.cache_.lastVolume=e):this.cache_.lastVolume},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){return e!==undefined?void(this.isFullscreen_=!!e):!!this.isFullscreen_},t.prototype.requestFullscreen=function(){var e=En;this.isFullscreen(!0),e.requestFullscreen?(z(ct,e.fullscreenchange,ln(this,function t(){this.isFullscreen(ct[e.fullscreenElement]),!1===this.isFullscreen()&&q(ct,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.prototype.exitFullscreen=function(){var e=En;this.isFullscreen(!1),e.requestFullscreen?ct[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=ct.documentElement.style.overflow,z(ct,"keydown",ln(this,this.fullWindowOnEscKey)),ct.documentElement.style.overflow="hidden",y(ct.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,q(ct,"keydown",this.fullWindowOnEscKey),ct.documentElement.style.overflow=this.docOrigOverflow,_(ct.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=Fr.getTech(i);if(o||(o=Tn.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else Gt.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(function(e){return[e,Fr.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(Gt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},i=function(e){return function(t,n){return e(n,t)}},o=function(e,n){var r=e[0];if(e[1].canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return(this.options_.sourceOrder?r(e,n,i(o)):r(n,e,o))||!1},t.prototype.src=function(e){var t=this;if(void 0===e)return this.cache_.src;var n=Vr(e);if(!n.length)return void this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0);this.cache_.sources=n,this.changingSrc_=!0,this.cache_.source=n[0],Ve(this,n[0],function(e,r){if(t.middleware_=r,t.src_(e))return n.length>1?t.src(n.slice(1)):(t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());t.changingSrc_=!1,t.cache_.src=e.src,ze(r,t.tech_)})},t.prototype.src_=function(e){var t=this.selectSource([e]);return!t||($(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),!1))},t.prototype.load=function(){this.techCall_("load")},t.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){return this.cache_.source||{}},t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.prototype.preload=function(e){return e!==undefined?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.prototype.autoplay=function(e){return e!==undefined?(this.techCall_("setAutoplay",e),void(this.options_.autoplay=e)):this.techGet_("autoplay",e)},t.prototype.playsinline=function(e){return e!==undefined?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return e!==undefined?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.prototype.poster=function(e){if(e===undefined)return this.poster_;e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange")},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return e!==undefined?(e=!!e,void(this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())))):!!this.controls_},t.prototype.usingNativeControls=function(e){return e!==undefined?(e=!!e,void(this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))))):!!this.usingNativeControls_},t.prototype.error=function(e){return e===undefined?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ie(e),this.addClass("vjs-error"),Gt.error("(CODE:"+this.error_.code+" "+ie.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.prototype.reportUserActivity=function(){this.userActivity_=!0},t.prototype.userActive=function(e){return e!==undefined?void((e=!!e)!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))):this.userActive_},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=ln(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){return e!==undefined?void this.techCall_("setPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},t.prototype.defaultPlaybackRate=function(e){return e!==undefined?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.prototype.isAudio=function(e){return e!==undefined?void(this.isAudio_=!!e):!!this.isAudio_},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.track,n=t===undefined?arguments[0]:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){if(e===undefined)return this.language_;this.language_=String(e).toLowerCase()},t.prototype.languages=function(){return J(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=J(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];r=J(r),r.player=undefined,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;t=t||{},t.content=e||"";var r=new Ln(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=E(e),i=n["data-setup"];if(m(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=An(i||"{}"),a=o[0],s=o[1];a&&Gt.error(a),r(n,s)}if(r(t,n),e.hasChildNodes())for(var u=e.childNodes,l=0,c=u.length;l<c;l++){var f=u[l],d=f.nodeName.toLowerCase();"source"===d?t.sources.push(E(f)):"track"===d&&t.tracks.push(E(f))}return t},t.prototype.flexNotSupported_=function(){var e=ct.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(Tn);wr.names.forEach(function(e){var t=wr[e];po.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),po.players={};var ho=ot.navigator;po.prototype.options_={techOrder:Fr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:ho&&(ho.languages&&ho.languages[0]||ho.userLanguage||ho.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){po.prototype[e]=function(){return this.techGet_(e)}}),fo.forEach(function(e){po.prototype["handleTech"+X(e)+"_"]=function(){return this.trigger(e)}}),Tn.registerComponent("Player",po);var go="plugin",vo="activePlugins_",mo={},yo=function(e){return mo.hasOwnProperty(e)},_o=function(e){return yo(e)?mo[e]:undefined},bo=function(e,t){e[vo]=e[vo]||{},e[vo][t]=!0},To=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Eo=function(e,t){var n=function(){To(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return bo(this,e),To(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n},wo=function(e,t){return t.prototype.name=e,function(){To(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=new(Function.prototype.bind.apply(t,[null].concat([this].concat(r))));return this[e]=function(){return o},To(this,o.getEventHash()),o}},So=function(){function e(t){if(Nt(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,W(this),delete this.trigger,Q(this,this.constructor.defaultState),bo(t,this.name),this.dispose=ln(this,this.dispose),t.on("dispose",this.dispose)}return e.prototype.getEventHash=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.prototype.trigger=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return G(this.eventBusEl_,e,this.getEventHash(t))},e.prototype.handleStateChanged=function(){},e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[vo][e]=!1,this.player=this.state=null,t[e]=wo(e,mo[e])},e.isBasic=function(t){var n="string"==typeof t?_o(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":Dt(t))+".");if(yo(t))Gt.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(po.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===n?"undefined":Dt(n))+".");return mo[t]=n,t!==go&&(e.isBasic(n)?po.prototype[t]=Eo(t,n):po.prototype[t]=wo(t,n)),n},e.deregisterPlugin=function(e){if(e===go)throw new Error("Cannot de-register base plugin.");yo(e)&&(delete mo[e],delete po.prototype[e])},e.getPlugins=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.keys(mo),t=void 0;return e.forEach(function(e){var n=_o(e);n&&(t=t||{},t[e]=n)}),t},e.getPluginVersion=function(e){var t=_o(e);return t&&t.VERSION||""},e}();So.getPlugin=_o,So.BASE_PLUGIN_NAME=go,So.registerPlugin(go,So),po.prototype.usingPlugin=function(e){return!!this[vo]&&!0===this[vo][e]},po.prototype.hasPlugin=function(e){return!!yo(e)};var Po=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":Dt(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},Co=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};"object"===(void 0===t?"undefined":Dt(t))?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),Po(n,e);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n};if("undefined"==typeof HTMLVideoElement&&f()&&(ct.createElement("video"),ct.createElement("audio"),ct.createElement("track")),et.hooks_={},et.hooks=function(e,t){return et.hooks_[e]=et.hooks_[e]||[],t&&(et.hooks_[e]=et.hooks_[e].concat(t)),et.hooks_[e]},et.hook=function(e,t){et.hooks(e,t)},et.removeHook=function(e,t){var n=et.hooks(e).indexOf(t);return!(n<=-1)&&(et.hooks_[e]=et.hooks_[e].slice(),et.hooks_[e].splice(n,1),!0)},!0!==ot.VIDEOJS_NO_DYNAMIC_STYLE&&f()){var Io=Wt(".vjs-styles-defaults");if(!Io){Io=sn("vjs-styles-defaults");var xo=Wt("head");xo&&xo.insertBefore(Io,xo.firstChild),un(Io,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return Y(1,et),et.VERSION=nt,et.options=po.prototype.options_,et.getPlayers=function(){return po.players},et.players=po.players,et.getComponent=Tn.getComponent,et.registerComponent=function(e,t){Fr.isTech(t)&&Gt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Tn.registerComponent.call(Tn,e,t)},et.getTech=Fr.getTech,et.registerTech=Fr.registerTech,et.use=He,et.browser=Rt,et.TOUCH_ENABLED=kt,et.extend=Co,et.mergeOptions=J,et.bind=ln,et.registerPlugin=So.registerPlugin,et.plugin=function(e,t){return Gt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),So.registerPlugin(e,t)},et.getPlugins=So.getPlugins,et.getPlugin=So.getPlugin,et.getPluginVersion=So.getPluginVersion,et.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),et.options.languages=J(et.options.languages,(n={},n[e]=t,n)),et.options.languages[e]},et.log=Gt,et.createTimeRange=et.createTimeRanges=ne,et.formatTime=Xe,et.parseUrl=$n,et.isCrossOrigin=er,et.EventTarget=fn,et.on=z,et.one=K,et.off=q,et.trigger=G,et.xhr=dr,et.TextTrack=gr,et.AudioTrack=vr,et.VideoTrack=mr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){et[e]=function(){return Gt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Xt[e].apply(null,arguments)}}),et.computedStyle=s,et.dom=Xt,et.url=tr,et}),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r={};r.encode=function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},r.decode=function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r<240?(r=(15&r)<<12,r|=(63&e[n++])<<6,r|=63&e[n++]):(r=(7&r)<<18,r|=(63&e[n++])<<12,r|=(63&e[n++])<<6,r|=63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")};var i={};!function(e){var t=function(t){for(var n=0,r=[],i=0|t.length/3;0<i--;){var o=(t[n]<<16)+(t[n+1]<<8)+t[n+2];n+=3,r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push(e.charAt(63&o>>6)),r.push(e.charAt(63&o))}if(2==t.length-n){var o=(t[n]<<16)+(t[n+1]<<8);r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push(e.charAt(63&o>>6)),r.push("=")}else if(1==t.length-n){var o=t[n]<<16;r.push(e.charAt(63&o>>18)),r.push(e.charAt(63&o>>12)),r.push("==")}return r.join("")},n=function(){for(var t=[],n=0;n<e.length;++n)t[e.charCodeAt(n)]=n;return t["=".charCodeAt(0)]=0,t}(),o=function(e){for(var t=0,r=[],i=0|e.length/4;0<i--;){var o=(n[e.charCodeAt(t)]<<18)+(n[e.charCodeAt(t+1)]<<12)+(n[e.charCodeAt(t+2)]<<6)+n[e.charCodeAt(t+3)];r.push(255&o>>16),r.push(255&o>>8),r.push(255&o),t+=4}return r&&("="==e.charAt(t-2)?(r.pop(),r.pop()):"="==e.charAt(t-1)&&r.pop()),r},u={};u.encode=function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},u.decode=function(){for(var e=0;e<s.length;++e)a[e]=String.fromCharCode(a[e]);return a.join("")},i.decodeArray=function(e){var t=o(e);return new Uint8Array(t)},i.encodeASCII=function(e){var n=u.encode(e);return t(n)},i.decodeASCII=function(e){var t=o(e);return u.decode(t)},i.encode=function(e){var n=r.encode(e);return t(n)},i.decode=function(e){var t=o(e);return r.decode(t)}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),void 0!==n&&(n.decode=i.decode,n.decodeArray=i.decodeArray)},{}],2:[function(e,t,n){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},r=15,i=32,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},l=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},f=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},d=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};d.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var p=function(e,t,n,r,i,o){this.uchar=e||" ",this.penState=new d(t,n,r,i,o)};p.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var h=function(){this.chars=[];for(var e=0;e<i;e++)this.chars.push(new p);this.pos=0,this.currPenState=new d};h.prototype={equals:function(e){for(var t=!0,n=0;n<i;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<i;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<i;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);return this.pos>=i?void c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<i;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<i;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var g=function(){this.rows=[];for(var e=0;e<r;e++)this.rows.push(new h);this.currRow=r-1,this.nrRollUpRows=null,this.reset()};g.prototype={reset:function(){for(var e=0;e<r;e++)this.rows[e].clear();this.currRow=r-1},equals:function(e){for(var t=!0,n=0;n<r;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<r;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<r;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null===this.nrRollUpRows)return void c.log("DEBUG","roll_up but nrRollUpRows not set yet");c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",i=-1,o=0;o<r;o++){var a=this.rows[o].getTextString();a&&(i=o+1,e?t.push("Row "+i+': "'+a+'"'):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var v=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};v.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){
c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=c.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var m=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new v(1,t),new v(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,"char":0,cmd:0,other:0}};m.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,o=!1;this.lastTime=e,c.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(c.log("DATA","["+f([t[a],t[a+1]])+"] -> ("+f([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(o)}else c.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters["char"]+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+f([r,i])+" orig: "+f([t[a],t[a+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null,r=(20===e||28===e)&&32<=t&&t<=47,i=(23===e||31===e)&&33<=t&&t<=35;if(!r&&!i)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+f([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var o=this.channels[n-1];return 20===e||28===e?32===t?o.cc_RCL():33===t?o.cc_BS():34===t?o.cc_AOF():35===t?o.cc_AON():36===t?o.cc_DER():37===t?o.cc_RU(2):38===t?o.cc_RU(3):39===t?o.cc_RU(4):40===t?o.cc_FON():41===t?o.cc_RDC():42===t?o.cc_TR():43===t?o.cc_RTD():44===t?o.cc_EDM():45===t?o.cc_CR():46===t?o.cc_ENM():47===t&&o.cc_EOC():o.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;if((17===e||25===e)&&32<=t&&t<=47){if((n=17===e?1:2)!==this.currChNr)return c.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[n-1].cc_MIDROW(t),c.log("DEBUG","MIDROW ("+f([e,t])+")"),!0}return!1},parsePAC:function(e,t){var n=null,r=null,i=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,l=(16===e||24===e)&&64<=t&&t<=95;if(!i&&!l)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=64<=t&&t<=95?1===n?o[e]:s[e]:1===n?a[e]:u[e];var c=this.interpretPAC(r,t);return this.channels[n-1].setPAC(c),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var r=null,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),17<=o&&o<=19){var a=t;a=17===o?t+80:18===o?t+112:t+144,c.log("INFO","Special char '"+n(a)+"' in channel "+r),i=[a]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var s=f(i);c.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},parseBackgroundAttributes:function(e,t){var n,r,i,o,a=(16===e||24===e)&&32<=t&&t<=47,s=(23===e||31===e)&&45<=t&&t<=47;return!(!a&&!s||(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=l[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,0))},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};var y=function(e,t,n){for(var r=0,i=t,o=[],a=function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),o=n.getUint16(r+1),a=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==o&&1195456820==a&&3==s};i<t+n;){if(r=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var s=i+5,u=-1;s<i+4+r-1;){u=0;for(var l=255;255===l;)l=e.getUint8(s),u+=l,s++;var c=0;for(l=255;255===l;)l=e.getUint8(s),c+=l,s++;a(u,c,e,s)&&o.push([s,c]),s+=c}i+=r+4}return o},_=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var o=0;o<i;o++){var a=e.getUint8(n),s=4&a,u=3&a;n++;var l=e.getUint8(n);n++;var c=e.getUint8(n);n++,s&&(127&l)+(127&c)!=0&&(0===u?(r[0].push(l),r[0].push(c)):1===u&&(r[1].push(l),r[1].push(c)))}return r};e.logger=c,e.PenState=d,e.CaptionScreen=g,e.Cea608Parser=m,e.findCea608Nalus=y,e.extractCea608DataFromRange=_}(void 0===n?(void 0).cea608parser={}:n)},{}],3:[function(e,t,n){"use strict";function r(e){var t,n,r;for(t=[],r=0,n=e.length;r<n;r+=1)e[r].isRoot?t.push("root"):t.push(e[r].name);var i=function(e,t){var n;if(null!==e&&null!==t)for(n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]))},o=function(e,t,n){var r,o,a,s,u;if(null!==e&&0!==e.length)for(r=0,o=e.length;r<o;r+=1)a=e[r],t.hasOwnProperty(a.name)&&(n.hasOwnProperty(a.name)?a.merge&&(s=t[a.name],u=n[a.name],"object"==typeof s&&"object"==typeof u?i(s,u):null!=a.mergeFunction?n[a.name]=a.mergeFunction(s,u):n[a.name]=s+u):n[a.name]=t[a.name])},a=function e(t,n){var r,i,a,s,u,l,c,f=t;if(null!==f.children&&0!==f.children.length)for(r=0,i=f.children.length;r<i;r+=1)if(l=f.children[r],n.hasOwnProperty(l.name))if(l.isArray)for(u=n[l.name+"_asArray"],a=0,s=u.length;a<s;a+=1)c=u[a],o(f.properties,n,c),e(l,c);else c=n[l.name],o(f.properties,n,c),e(l,c)};return{run:function n(r){var i,o,s,u,l,c,f;if(null===r)return r;if("object"!=typeof r)return r;for(i=0,o=t.length;i<o;i+=1)"root"===t[i]&&(l=e[i],c=r,a(l,c));for(u in r)if(r.hasOwnProperty(u)&&"__children"!=u){if(-1!==(s=t.indexOf(u)))if(l=e[s],l.isArray)for(f=r[u+"_asArray"],i=0,o=f.length;i<o;i+=1)c=f[i],a(l,c);else c=r[u],a(l,c);n(r[u])}return r}}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function r(e,t,n){function r(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function i(e){return e.prefix}function o(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function a(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function s(o){if(o.nodeType==_.DOCUMENT_NODE){var u,l,c,f=o.firstChild;for(l=0,c=o.childNodes.length;l<c;l+=1)if(o.childNodes[l].nodeType!==_.COMMENT_NODE){f=o.childNodes[l];break}if(n)u=s(f);else{u={};var d=r(f);u[d]=s(f)}return u}if(o.nodeType==_.ELEMENT_NODE){var u=new Object;u.__cnt=0;for(var p=[],h=o.childNodes,g=0;g<h.length;g++){var f=h.item(g),d=r(f);if(u.__cnt++,null==u[d]){var v=s(f);if("#text"!=d||/[^\s]/.test(v)){var m={};m[d]=v,p.push(m)}u[d]=v,u[d+"_asArray"]=new Array(1),u[d+"_asArray"][0]=u[d]}else{if(null!=u[d]&&!(u[d]instanceof Array)){var b=u[d];u[d]=new Array,u[d][0]=b,u[d+"_asArray"]=u[d]}for(var T=0;null!=u[d][T];)T++;var v=s(f);if("#text"!=d||/[^\s]/.test(v)){var m={};m[d]=v,p.push(m)}u[d][T]=v}}u.__children=p;for(var E=0;E<o.attributes.length;E++){var w=o.attributes.item(E);u.__cnt++;for(var S=w.value,P=0,C=e.length;P<C;P++){var I=e[P];I.test(w)&&(S=I.converter(w.value))}u[t+w.name]=S}var x=i(o);return null!=x&&""!=x&&(u.__cnt++,u.__prefix=x),1==u.__cnt&&null!=u["#text"]&&(u=u["#text"]),null!=u["#text"]&&(u.__text=u["#text"],y&&(u.__text=a(u.__text)),delete u["#text"],delete u["#text_asArray"]),null!=u["#cdata-section"]&&(u.__cdata=u["#cdata-section"],delete u["#cdata-section"],delete u["#cdata-section_asArray"]),null==u.__text&&null==u.__cdata||(u.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),u}return o.nodeType==_.TEXT_NODE||o.nodeType==_.CDATA_SECTION_NODE?o.nodeValue:o.nodeType==_.COMMENT_NODE?null:void 0}function u(e,t,n,r){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];i+=" "+a.substr(1)+"='"+s+"'"}return i+=r?"/>":">"}function l(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function c(e,t){return-1!==e.indexOf(t,e.length-t.length)}function f(e,t){return!!(c(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function d(e){var t=0;if(e instanceof Object)for(var n in e)f(e,n)||t++;return t}function p(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf("_")&&t.push(n);return t}function h(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=y?o(e.__text):e.__text),t}function g(e){var t="";return e instanceof Object?t+=h(e):null!=e&&(t+=y?o(e):e),t}function v(e,t,n){var r="";if(0==e.length)r+=u(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=u(e[i],t,p(e[i]),!1),r+=m(e[i]),r+=l(e[i],t);return r}function m(e){var t="";if(d(e)>0)for(var n in e)if(!f(e,n)){var r=e[n],i=p(r);if(null==r||void 0==r)t+=u(r,n,i,!0);else if(r instanceof Object)if(r instanceof Array)t+=v(r,n,i);else{var o=d(r);o>0||null!=r.__text||null!=r.__cdata?(t+=u(r,n,i,!1),t+=m(r),t+=l(r,n)):t+=u(r,n,i,!0)}else t+=u(r,n,i,!1),t+=g(r),t+=l(r,n)}return t+=g(e)}null!==t&&void 0!==t||(t="_"),null!==n&&void 0!==n||(n=!1);var y=!1,_={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t,n,r;if(window.DOMParser){n=new window.DOMParser;try{r=n.parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(e){}try{t=n.parseFromString(e,"text/xml"),r&&t.getElementsByTagNameNS(r,"parsererror").length&&(t=void 0)}catch(e){}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},this.xml2json=function(e){return s(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return t?this.xml2json(t):void 0},this.json2xml_str=function(e){return m(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return"1.0.11"},this.escapeMode=function(e){y=e}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],5:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=e(51),o=r(i),a=e(106),s=r(a),u=e(75),l=r(u),c=e(53),f=r(c),d=e(11),p=window||t,h=p.dashjs;h||(h=p.dashjs={}),h.MediaPlayer=o["default"],h.Protection=s["default"],h.MetricsReporting=l["default"],h.MediaPlayerFactory=f["default"],h.Version=(0,d.getVersionString)(),n["default"]=h,n.MediaPlayer=o["default"],n.Protection=s["default"],n.MetricsReporting=l["default"],n.MediaPlayerFactory=f["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{106:106,11:11,51:51,53:53,75:75}],6:[function(e,t,n){var r={};r.parseBuffer=function(e){return new i(e).parse()},r.Utils={},r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),r.push(String.fromCharCode(o))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},void 0!==n&&(n.parseBuffer=r.parseBuffer,n.Utils=r.Utils),r.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._raw=new DataView(e),this._cursor=new r.Cursor,this.boxes=[]};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if("undefined"==typeof e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){this.type&&this.type==e&&t.push(this);for(var r in this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}};var o=function(){this._cursor=new r.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t=null;switch(e){case 8:t=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:var n=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2);t=(n<<8)+r;break;case 32:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},o.prototype._readTerminatedString=function(){for(var e="";;){var t=this._readUint(8);if(0==t)break;e+=String.fromCharCode(t)}return e},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)return void(this._root._incomplete=!0);switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._boxParsers={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){o.prototype._boxParsers[e]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))}}),o.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},o.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.free=o.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.ftyp=o.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},o.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},o.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.pre_defined=this._readUint(16)},o.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},o.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(var e=0;e<6;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},o.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=r.Utils.dataViewToString(e)},o.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},n=this._readUint(32);t.reference_type=n>>31&1,t.referenced_size=2147483647&n,t.subsegment_duration=this._readUint(32);var r=this._readUint(32);t.starts_with_SAP=r>>31&1,t.SAP_type=r>>28&7,t.SAP_delta_time=268435455&r,this.references.push(t)}},o.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var n=0;n<t.ranges_count;n++){var r={};r.level=this._readUint(8),r.range_size=this._readUint(24),t.ranges.push(r)}this.subsegments.push(t)}},o.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},o.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},o.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},o.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?t.sample_composition_time_offset=this._readUint(32):t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},o.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vtte=function(){}},{}],7:[function(e,t,n){var r=n.decimalAdjust=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))};t.exports={round10:function(e,t){return r("round",e,t)},floor10:function(e,t){return r("floor",e,t)},ceil10:function(e,t){return r("ceil",e,t)}},t.exports.polyfill=function(){Math.round10||(Math.round10=t.exports.round10),Math.floor10||(Math.floor10=t.exports.floor10),Math.ceil10||(Math.ceil10=t.exports.ceil10)}},{}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){c=!0,f=!0,d=(new Date).getTime()}function t(e){f=e}function n(e){c=e}function r(){return c}function i(){var e="",t=null;f&&(t=(new Date).getTime(),e+="["+(t-d)+"]"),e.length>0&&(e+=" "),Array.apply(null,arguments).forEach(function(t){e+=t+" "}),c&&console.log(e),s.trigger(u["default"].LOG,{message:e})}var o=this.context,s=(0,a["default"])(o).getInstance(),l=void 0,c=void 0,f=void 0,d=void 0;return l={log:i,setLogTimestampVisible:t,setLogToBrowserConsole:n,getLogToBrowserConsole:r},e(),l}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(10),c=r(l);i.__dashjs_factory_name="Debug",n["default"]=c["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?s:arguments[3];if(!e)throw new Error("event type cannot be null or undefined");if(!t||"function"!=typeof t)throw new Error("listener must be a function: "+t);if(!(r(e,t,n)>=0)){o[e]=o[e]||[];var a={callback:t,scope:n,priority:i};o[e].some(function(t,n){if(i>t.priority)return o[e].splice(n,0,a),!0})||o[e].push(a)}}function t(e,t,n){if(e&&t&&o[e]){var i=r(e,t,n);i<0||o[e].splice(i,1)}}function n(e,t){if(e&&o[e]){if(t=t||{},t.hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=e,o[e].forEach(function(e){return e.callback.call(e.scope,t)})}}function r(e,t,n){var r=-1;return o[e]?(o[e].some(function(e,i){if(e.callback===t&&(!n||n===e.scope))return r=i,!0}),r):r}function i(){o={}}var o={};return{on:e,off:t,trigger:n,reset:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=0,u=5e3;i.__dashjs_factory_name="EventBus";var l=a["default"].getSingletonFactory(i);l.EVENT_PRIORITY_LOW=s,l.EVENT_PRIORITY_HIGH=u,n["default"]=l,t.exports=n["default"]},{10:10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){var i=a(r);!i[e]&&t&&(i[e]={instance:t,override:n})}function t(e,t){for(var n in l){var r=l[n];if(r.context===e&&r.name===t)return r.instance}return null}function n(e,t,n){for(var r in l){var i=l[r];if(i.context===e&&i.name===t)return void(l[r].instance=n)}l.push({name:t,context:e,instance:n})}function r(e){return function(t){return void 0===t&&(t={}),{create:function(){return o(e.__dashjs_factory_name,e.apply({context:t},arguments),t,arguments)}}}}function i(e){return function(n){var r=void 0;return void 0===n&&(n={}),{getInstance:function(){return r||(r=t(n,e.__dashjs_factory_name)),r||(r=o(e.__dashjs_factory_name,e.apply({context:n},arguments),n,arguments),l.push({name:e.__dashjs_factory_name,context:n,instance:r})),r}}}}function o(e,t,n,r){var i=a(n),o=i[e];if(o){var u=o.instance;if(!o.override)return u.apply({context:n,factory:s},r);u=u.apply({context:n,factory:s,parent:t},r);for(var l in u)t.hasOwnProperty(l)&&(t[l]=u[l])}return t}function a(e){var t=void 0;return u.forEach(function(n){n===e&&(t=n)}),t||(t=u.push(e)),t}var s=void 0,u=[],l=[];return s={extend:e,getSingletonInstance:t,setSingletonInstance:n,getSingletonFactory:i,getClassFactory:r}}();n["default"]=r,t.exports=n["default"]},{}],11:[function(e,t,n){"use strict";function r(){return i}Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionString=r;var i="2.3.0"},{}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(14),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astinfuture",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CHUNK_APPENDED="chunkAppended",this.CURRENT_TRACK_CHANGED="currenttrackchanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.STREAM_INITIALIZED="streaminitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ALL_ELEMENTS_LOADED="xlinkAllElementsLoaded",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return o(t,e),t}(u["default"]);n["default"]=l,t.exports=n["default"]},{14:14}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(12),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),t}(u["default"]),c=new l;n["default"]=c,t.exports=n["default"]},{12:12}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){
return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();n["default"]=o,t.exports=n["default"]},{}],15:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e){e&&e.dashManifestModel&&(R=e.dashManifestModel)}function t(){D=[],N={}}function n(e,t){return t.getRepresentationForQuality(e.quality)}function r(e){return N[e.streamInfo.id][e.index]}function i(e){for(var t=D.length,n=0;n<t;n++){var r=D[n];if(e.id===r.id)return r}return null}function o(e,t){var n=new s["default"],r=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index],i=R.getRepresentationFor(t.index,r);return n.id=t.id,n.quality=t.index,n.bandwidth=R.getBandwidth(i),n.DVRWindow=t.segmentAvailabilityRange,n.fragmentDuration=t.segmentDuration||(t.segments&&t.segments.length>0?t.segments[0].duration:NaN),n.MSETimeOffset=t.MSETimeOffset,n.useCalculatedLiveEdgeTime=t.useCalculatedLiveEdgeTime,n.mediaInfo=a(e,t.adaptation),n}function a(e,t){var n,r=new l["default"],i=t.period.mpd.manifest.Period_asArray[t.period.index].AdaptationSet_asArray[t.index];return r.id=t.id,r.index=t.index,r.type=t.type,r.streamInfo=c(e,t.period),r.representationCount=R.getRepresentationCount(i),r.lang=R.getLanguageForAdaptation(i),n=R.getViewpointForAdaptation(i),r.viewpoint=n?n.value:void 0,r.accessibility=R.getAccessibilityForAdaptation(i).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&"undefined"!=typeof _["default"]&&(n=t?"cea-608:"+t:"cea-608",r.embeddedCaptions=!0),n}),r.audioChannelConfiguration=R.getAudioChannelConfigurationForAdaptation(i).map(function(e){return e.value}),r.roles=R.getRolesForAdaptation(i).map(function(e){return e.value}),r.codec=R.getCodec(i),r.mimeType=R.getMimeType(i),r.contentProtection=R.getContentProtectionData(i),r.bitrateList=R.getBitrateListForAdaptation(i),r.contentProtection&&r.contentProtection.forEach(function(e){e.KID=R.getKID(e)}),r.isText=R.getIsTextTrack(r.mimeType),r}function u(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type="embeddedText",e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=t+" "+n,e.roles=["caption"]}function c(e,t){var n=new f["default"];return n.id=t.id,n.index=t.index,n.start=t.start,n.duration=t.duration,n.manifestInfo=d(e,t.mpd),n.isLast=1===e.Period_asArray.length||Math.abs(n.start+n.duration-n.manifestInfo.duration)<1,n.isFirst=1===e.Period_asArray.length||R.getRegularPeriods(e,R.getMpd(e))[0].id===t.id,n}function d(e,t){var n=new p["default"];return n.DVRWindowSize=t.timeShiftBufferDepth,n.loadedTime=t.manifest.loadedTime,n.availableFrom=t.availabilityStartTime,n.minBufferTime=t.manifest.minBufferTime,n.maxFragmentDuration=t.maxSegmentDuration,n.duration=R.getDuration(e),n.isDynamic=R.getIsDynamic(e),n}function h(e,t,n){var r=R.getAdaptationForType(e,t.index,n,t);if(!r)return null;var o=i(t),s=o.id,u=R.getIndexForAdaptation(r,e,t.index);return N[s]=N[s]||R.getAdaptationsForPeriod(e,o),a(e,N[s][u])}function v(e,t,n){var r,o,s,l,c,f,d=i(t),p=d.id,h=R.getAdaptationsForType(e,t.index,"embeddedText"!==n?n:"video"),g=[];if(!h)return g;for(N[p]=N[p]||R.getAdaptationsForPeriod(e,d),l=0,f=h.length;l<f;l++){if(r=h[l],s=R.getIndexForAdaptation(r,e,t.index),o=a(e,N[p][s]),"embeddedText"===n){var v=o.accessibility.length;for(c=0;c<v;c++)if(o){var m=o.accessibility[c];if(0===m.indexOf("cea-608:")){var y=m.substring(8),_=y.split(";");if("CC"===_[0].substring(0,2))for(c=0;c<_.length;c++)o||(o=a.call(this,e,N[p][s])),u(o,_[c].substring(0,3),_[c].substring(4)),g.push(o),o=null;else for(c=0;c<_.length;c++)o||(o=a.call(this,e,N[p][s])),u(o,"CC"+(c+1),_[c]),g.push(o),o=null}else 0===m.indexOf("cea-608")&&(u(o,"CC1","eng"),g.push(o),o=null)}}o&&"embeddedText"!==n&&g.push(o)}return g}function m(e){var t,n,r,i=[];if(!e)return null;for(t=R.getMpd(e),D=R.getRegularPeriods(e,t),t.checkTime=R.getCheckTime(e,D[0]),N={},n=D.length,r=0;r<n;r++)i.push(c(e,D[r]));return i}function y(e){return d(e,R.getMpd(e))}function b(e,t){var n=e.getRepresentationController().getRepresentationForQuality(t);return e.getIndexHandler().getInitRequest(n)}function E(e,t){var r=n(t,e.getRepresentationController());return e.getIndexHandler().getNextSegmentRequest(r)}function w(e,t,r,i){var o=n(t,e.getRepresentationController());return e.getIndexHandler().getSegmentRequestForTime(o,r,i)}function S(e,t,r){var i=n(t,e.getRepresentationController());return e.getIndexHandler().generateSegmentRequestForTime(i,r)}function P(e){return e.getIndexHandler().getCurrentTime()}function C(e,t){return e.getIndexHandler().setCurrentTime(t)}function I(e,t){var n,o,a=i(t.getStreamInfo()),s=t.getMediaInfo(),u=r(s),l=t.getType();n=s.id,o=n?R.getAdaptationForId(n,e,a.index):R.getAdaptationForIndex(s.index,e,a.index),t.getRepresentationController().updateData(o,u,l)}function x(e,t,n){var r=t.getRepresentationForQuality(n);return r?o(e,r):null}function A(e,t){var n=t.getCurrentRepresentation();return n?o(e,n):null}function O(e,t,n){var r=new g["default"],i=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,u=e.event_duration,l=e.id,c=e.message_data,f=n*a+s;return t[i]?(r.eventStream=t[i],r.eventStream.value=o,r.eventStream.timescale=a,r.duration=u,r.id=l,r.presentationTime=f,r.messageData=c,r.presentationTimeDelta=s,r):null}function k(e,t,o){var a=[];return t instanceof f["default"]?a=R.getEventsForPeriod(e,i(t)):t instanceof l["default"]?a=R.getEventStreamForAdaptationSet(e,r(t)):t instanceof s["default"]&&(a=R.getEventStreamForRepresentation(e,n(t,o.getRepresentationController()))),a}function M(){D=[],N={}}var R=void 0,D=void 0,N=void 0;return{initialize:t,convertDataToTrack:o,convertDataToMedia:a,convertDataToStream:c,getDataForTrack:n,getDataForMedia:r,getDataForStream:i,getStreamsInfo:m,getManifestInfo:y,getMediaInfoForType:h,getAllMediaInfoForType:v,getCurrentRepresentationInfo:A,getRepresentationInfoForQuality:x,updateData:I,getInitRequest:b,getNextFragmentRequest:E,getFragmentRequestForTime:w,generateFragmentRequestForTime:S,getIndexHandlerTime:P,setIndexHandlerTime:C,getEventsFor:k,getEvent:O,setConfig:e,reset:M,metricsList:T}}Object.defineProperty(n,"__esModule",{value:!0});var a=e(172),s=i(a),u=e(167),l=i(u),c=e(169),f=i(c),d=e(166),p=i(d),h=e(41),g=i(h),v=e(10),m=i(v),y=e(2),_=i(y),b=e(20),T=r(b);o.__dashjs_factory_name="DashAdapter",n["default"]=m["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10,166:166,167:167,169:169,172:172,2:2,20:20,41:41}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){K=-1,X=0,$=NaN,F.on(f["default"].INITIALIZATION_LOADED,D,G),F.on(f["default"].SEGMENTS_LOADED,N,G)}function n(t){J=t,Q=J.getType(),W=J.isDynamic(),Z=(0,E["default"])(L).create(e,W)}function r(){return J}function i(e){X=e}function o(){return X}function s(){return K}function c(){return $}function d(){Z=null,X=0,$=NaN,Y=NaN,K=-1,W=null,Q=null,J=null,F.off(f["default"].INITIALIZATION_LOADED,D,G),F.off(f["default"].SEGMENTS_LOADED,N,G)}function h(e){return e.split("$$").join("$")}function g(e,t){if(null===t||-1===e.indexOf("$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)}function v(e,t,n){var r,i,o=q.resolve(n.path);return o&&t!==o.url&&B.isRelative(t)?(r=o.url,i=o.serviceLocation,t&&(r+=t)):r=t,!B.isRelative(r)&&(e.url=r,e.serviceLocation=i,!0)}function y(e,t){var n,r,i=new a["default"];if(n=e.adaptation.period,i.mediaType=t,i.type=l.HTTPRequest.INIT_SEGMENT_TYPE,i.range=e.range,r=n.start,i.availabilityStartTime=H.calcAvailabilityStartTimeFromPresentationTime(r,e.adaptation.period.mpd,W),i.availabilityEndTime=H.calcAvailabilityEndTimeFromPresentationTime(r+n.duration,n.mpd,W),i.quality=e.index,i.mediaInfo=J.getMediaInfo(),v(i,e.initialization,e))return i}function T(e){return e?y(e,Q):null}function S(e){var t,n,r,i=e.adaptation.period,o=e.segmentInfoType,a=!1;return K<0?a=!1:W||K<e.availableSegmentsNumber?(n=(0,b.getSegmentByIndex)(K,e))&&(r=n.presentationStartTime-i.start,t=e.adaptation.period.duration,j(e.segmentInfoType+": "+r+" / "+t),a=("SegmentTimeline"!==o||!W)&&r>=t):a=!0,a}function P(e){return Z.getSegments(e,Y,K,C)}function C(e,t){if(e.segments=t,t&&t.length>0&&($=isNaN($)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,$)),W&&isNaN(H.getExpectedLiveEdge())){var n=t.length-1,r=t[n],i=r.presentationStartTime,o=z.getMetricsFor("stream");H.setExpectedLiveEdge(i),z.updateManifestUpdateInfo(V.getCurrentManifestUpdate(o),{presentationStartTime:i})}}function I(e){if(!e)throw new u["default"]("no representation");return e.segments=null,P(e),e}function x(e,t){var n,r=e.initialization,i="BaseURL"!==e.segmentInfoType&&"SegmentBase"!==e.segmentInfoType&&!e.indexRange;return e.segmentDuration||e.segments||I(e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=H.calcSegmentAvailabilityRange(e,W),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?(n=new u["default"](w,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void F.trigger(f["default"].REPRESENTATION_UPDATED,{sender:this,representation:e,error:n})):(t||(K=-1),e.segmentDuration&&I(e),r||U.loadInitialization(e),i||U.loadSegments(e,Q,e.indexRange),void(r&&i&&F.trigger(f["default"].REPRESENTATION_UPDATED,{sender:this,representation:e})))}function A(e,t,n){var r,i,o,a,s,u=t.segments,l=u?u.length:null,c=-1;if(u&&l>0)for(s=0;s<l;s++)if(i=u[s],o=i.presentationStartTime,a=i.duration,r=void 0===n||null===n?a/2:n,e+r>=o&&e-r<o+a){c=i.availabilityIdx;break}return c}function O(e){if(null===e||void 0===e)return null;var t=new a["default"],n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media;return i=(0,b.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,b.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=(0,b.replaceTokenForTemplate)(i,"Bandwidth",r),i=g(i,n.id),i=h(i),t.mediaType=Q,t.type=l.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=J.getMediaInfo(),t.adaptationIndex=n.adaptation.index,v(t,i,n)?t:void 0}function k(e,t,n){var r,i,o,s=K,u=!!n&&n.keepIdx,l=n?n.timeThreshold:null,c=!(!n||!n.ignoreIsFinished);return e?(Y!==t&&(Y=t,j("Getting the request for "+Q+" time : "+t)),K=A(t,e,l),P(e),K<0&&(K=A(t,e,l)),K>0&&j("Index for "+Q+" time "+t+" is "+K),o=!c&&S(e),o?(r=new a["default"],r.action=a["default"].ACTION_COMPLETE,r.index=K,r.mediaType=Q,r.mediaInfo=J.getMediaInfo(),j("Signal complete.",r)):(i=(0,b.getSegmentByIndex)(K,e),r=O(i)),u&&s>=0&&(K="SegmentTimeline"===e.segmentInfoType&&W?K:s),r):null}function M(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},k(e,t,{keepIdx:!1,ignoreIsFinished:!0})}function R(e){var t,n,r;return e&&-1!==K?(Y=null,K++,j("Getting the next request at index: "+K),r=S(e),r?(t=new a["default"],t.action=a["default"].ACTION_COMPLETE,t.index=K,t.mediaType=Q,t.mediaInfo=J.getMediaInfo(),j("Signal complete.")):(P(e),n=(0,b.getSegmentByIndex)(K,e),t=O(n),!n&&W&&K--),t):null}function D(e){var t=e.representation;t.segments&&F.trigger(f["default"].REPRESENTATION_UPDATED,{sender:this,representation:t})}function N(e){if(!e.error&&Q===e.mediaType){var t,n,r,i,o=e.segments,a=e.representation,s=[],u=0;for(t=0,n=o.length;t<n;t++)r=o[t],i=(0,b.getTimeBasedSegment)(H,W,a,r.startTime,r.duration,r.timescale,r.media,r.mediaRange,u),s.push(i),i=null,u++;a.segmentAvailabilityRange={start:s[0].presentationStartTime,end:s[n-1].presentationStartTime},a.availableSegmentsNumber=n,C(a,s),a.initialization&&F.trigger(f["default"].REPRESENTATION_UPDATED,{sender:this,representation:a})}}var L=this.context,j=(0,m["default"])(L).getInstance().log,F=(0,p["default"])(L).getInstance(),B=(0,_["default"])(L).getInstance(),U=e.segmentBaseLoader,H=e.timelineConverter,V=e.dashMetrics,z=e.metricsModel,q=e.baseURLController,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0;return G={initialize:n,getStreamProcessor:r,getInitRequest:T,getSegmentRequestForTime:k,getNextSegmentRequest:R,generateSegmentRequestForTime:M,updateRepresentation:x,setCurrentTime:i,getCurrentTime:o,getCurrentIndex:s,getEarliestTime:c,reset:d},t(),G}Object.defineProperty(n,"__esModule",{value:!0});var o=e(163),a=r(o),s=e(162),u=r(s),l=e(179),c=e(13),f=r(c),d=e(9),p=r(d),h=e(10),g=r(h),v=e(8),m=r(v),y=e(158),_=r(y),b=e(35),T=e(34),E=r(T),w=1;i.__dashjs_factory_name="DashHandler";var S=g["default"].getClassFactory(i);S.SEGMENTS_UNAVAILABLE_ERROR_CODE=w,n["default"]=S,t.exports=n["default"]},{10:10,13:13,158:158,162:162,163:163,179:179,34:34,35:35,8:8,9:9}],17:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e,t){var n;return n=w(I.getValue().Period_asArray[t],e),null===n?null:n.bandwidth}function t(e,t){return E(I.getValue().Period_asArray[t],e)}function n(e,t){return P(I.getValue().Period_asArray[t],e)}function r(e){return d(e,h.TRACK_SWITCH)}function i(e){return d(e,h.BUFFER_LEVEL)}function o(e){var t=i(e);return t?(0,g.round10)(t.level/1e3,-3):0}function s(e){return e.RequestsQueue}function l(e){if(null===e)return null;var t,n,r=e.HttpList,i=null;if(null===r||r.length<=0)return null;for(t=r.length,n=t-1;n>=0;){if(r[n].responsecode){i=r[n];break}n--}return i}function f(e){return null===e?[]:e.HttpList?e.HttpList:[]}function d(e,t){if(null===e)return null;var n=e[t];if(null===n)return null;var r=n.length;return r<=0?null:n[r-1]}function p(e){return d(e,h.DROPPED_FRAMES)}function v(e){return d(e,h.SCHEDULING_INFO)}function m(e){return d(e,h.MANIFEST_UPDATE)}function y(e){return d(e,h.DVR_INFO)}function _(e,t){var n,r,i,o={};if(null===e)return null;for(n=f(e),i=n.length-1;i>=0;i--)if(r=n[i],r.type===a.HTTPRequest.MPD_TYPE){o=T(r._responseHeaders);break}return void 0===o[t]?null:o[t]}function b(e,t){if(null===e)return null;var n,r=l(e);return null===r||null===r._responseHeaders?null:(n=T(r._responseHeaders),void 0===n[t]?null:n[t])}function T(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function E(e,t){var n=w(e,t,!0);return null!==n?n:-1}function w(e,t,n){var r,i,o,a,s,u;for(i=e.AdaptationSet_asArray,s=0;s<i.length;s+=1)for(r=i[s],a=r.Representation_asArray,u=0;u<a.length;u+=1)if(o=a[u],t===o.id)return n?u:o;return null}function S(e,t){return(0,c["default"])(C).getInstance().getIsTypeOf(e,t)}function P(e,t){var n,r,i,o;if(!e||!t)return-1;for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)if(n=r[o],i=n.Representation_asArray,S(n,t))return i.length;return-1}var C=this.context,I=(0,u["default"])(C).getInstance();return{getBandwidthForRepresentation:e,getIndexForRepresentation:t,getMaxIndexForBufferType:n,getCurrentRepresentationSwitch:r,getLatestBufferLevelVO:i,getCurrentBufferLevel:o,getCurrentHttpRequest:l,getHttpRequests:f,getCurrentDroppedFrames:p,getCurrentSchedulingInfo:v,getCurrentDVRInfo:y,getCurrentManifestUpdate:m,getLatestFragmentRequestHeaderValueByID:b,getLatestMPDRequestHeaderValueByID:_,getRequestsQueue:s}}Object.defineProperty(n,"__esModule",{value:!0});var a=e(179),s=e(100),u=i(s),l=e(22),c=i(l),f=e(10),d=i(f),p=e(20),h=r(p),g=e(7);o.__dashjs_factory_name="DashMetrics",n["default"]=d["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10,100:100,179:179,20:20,22:22,7:7}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){_=(0,d["default"])(p).getInstance(),b=(0,y["default"])(p).getInstance(),T=(0,a["default"])(p).getInstance()}function t(e){e.baseURLController&&(w=e.baseURLController)}function n(e,t){var r=!0,i=null,o=null,a=new XMLHttpRequest,u=w.resolve(e.path),c=t||{url:u?u.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:a};g("Start searching for initialization."),a.onload=function(){a.status<200||a.status>299||(r=!1,c.bytesLoaded=c.range.end,o=b.parse(a.response),i=s(o),i?(e.range=i,e.initialization=c.url,m.trigger(h["default"].INITIALIZATION_LOADED,{representation:e})):(c.range.end=c.bytesLoaded+c.bytesToLoad,n(e,c)))},a.onloadend=a.onerror=function(){r&&(r=!1,_.downloadError("initialization",c.url,a),m.trigger(h["default"].INITIALIZATION_LOADED,{representation:e}))},l(a,c),g("Perform init search: "+c.url)}function r(e,t,n,i,a){if(n&&(void 0===n.start||void 0===n.end)){var s=n?n.toString().split("-"):null;n=s?{start:parseFloat(s[0]),end:parseFloat(s[1])}:null}a=a||f;var u=!0,c=null,d=null,p=!!n,h=new XMLHttpRequest,v=w.resolve(e.path),m={url:v?v.url:void 0,range:p?n:{start:0,end:1500},searching:!p,bytesLoaded:i?i.bytesLoaded:0,bytesToLoad:1500,request:h};h.onload=function(){if(!(h.status<200||h.status>299)){var n=m.bytesToLoad,i=h.response.byteLength;if(u=!1,m.bytesLoaded=m.range.end-m.range.start,c=b.parse(h.response),(d=c.getBox("sidx"))&&d.isComplete){var s,l,f=d.references;if(null!==f&&void 0!==f&&f.length>0&&(s=1===f[0].reference_type),s){g("Initiate multiple SIDX load."),m.range.end=m.range.start+d.size;var p,v,y,_,T,E=[],w=0,S=(d.offset||m.range.start)+d.size,P=function(n){n?(E=E.concat(n),++w>=v&&a(E,e,t)):a(null,e,t)};for(p=0,v=f.length;p<v;p++)y=S,_=S+f[p].referenced_size-1,S+=f[p].referenced_size,T={start:y,end:_},r(e,null,T,m,P)}else g("Parsing segments from SIDX."),l=o(d,m),a(l,e,t)}else{if(d)m.range.start=d.offset||m.range.start,m.range.end=m.range.start+(d.size||n);else{if(i<m.bytesLoaded)return void a(null,e,t);var C=c.getLastBox();C&&C.size?(m.range.start=C.offset+C.size,m.range.end=m.range.start+n):m.range.end+=n}r(e,t,m.range,m,a)}}},h.onloadend=h.onerror=function(){u&&(u=!1,_.downloadError("SIDX",m.url,h),a(null,e,t))},l(h,m),g("Perform SIDX load: "+m.url)}function i(){_=null,b=null,T=null,g=null}function o(e,t){for(var n,r,i,o,a=e.references,s=a.length,l=e.timescale,c=e.earliest_presentation_time,f=t.range.start+e.offset+e.first_offset+e.size,d=[],p=0;p<s;p++)i=a[p].subsegment_duration,o=a[p].referenced_size,n=new u["default"],n.duration=i,n.media=t.url,n.startTime=c,n.timescale=l,r=f+o-1,n.mediaRange=f+"-"+r,d.push(n),c+=i,f+=o;return d}function s(e){var t,n,r=e.getBox("ftyp"),i=e.getBox("moov"),o=null;return g("Searching for initialization."),i&&i.isComplete&&(t=r?r.offset:i.offset,n=i.offset+i.size-1,o=t+"-"+n,g("Found the initialization.  Range: "+o)),o}function l(e,t){t.url&&(e.open("GET",T.modifyRequestURL(t.url)),e.responseType="arraybuffer",e.setRequestHeader("Range","bytes="+t.range.start+"-"+t.range.end),e=T.modifyRequestHeader(e),e.send(null))}function f(e,t,n){e?m.trigger(h["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):m.trigger(h["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new c["default"](null,"error loading segments",null)})}var p=this.context,g=(0,E["default"])(p).getInstance().log,m=(0,v["default"])(p).getInstance(),_=void 0,b=void 0,T=void 0,w=void 0;return{setConfig:t,initialize:e,loadInitialization:n,loadSegments:r,reset:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(156),a=r(o),s=e(46),u=r(s),l=e(162),c=r(l),f=e(151),d=r(f),p=e(13),h=r(p),g=e(9),v=r(g),m=e(146),y=r(m),_=e(10),b=r(_),T=e(8),E=r(T);i.__dashjs_factory_name="SegmentBaseLoader",n["default"]=b["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,146:146,151:151,156:156,162:162,46:46,8:8,9:9}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){S={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}}}function t(){C=(0,v["default"])(g).getInstance(),I=(0,y["default"])(g).getInstance(),A=(0,P["default"])(g).create({errHandler:C,metricsModel:x,requestModifier:I})}function n(e){if(!e.baseURLController||!e.metricsModel)throw new Error("Missing config parameter(s)");O=e.baseURLController,x=e.metricsModel}function r(e){var t=[],n=void 0,r=void 0,i=void 0,o=(0,c["default"])(g).create({data:e}),a=void 0;for(o.consumeTag(S.Segment.Cues),r=o.getMatroskaCodedNum();o.moreData()&&o.consumeTagAndSize(S.Segment.Cues.CuePoint,!0);){for(n={},n.CueTime=o.parseTag(S.Segment.Cues.CuePoint.CueTime),n.CueTracks=[];o.moreData()&&o.consumeTagAndSize(S.Segment.Cues.CuePoint.CueTrackPositions,!0);){if(i={},i.Track=o.parseTag(S.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=o.parseTag(S.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),o.getPos()+4>r||!o.consumeTag(S.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)?n.CueTracks.push(i):(a=o.getMatroskaCodedNum(),i.BlockNumber=o.getMatroskaUint(a),n.CueTracks.push(i))}if(0===n.CueTracks.length)throw new Error("Mandatory cuetrack not found");t.push(n)}if(0===t.length)throw new Error("mandatory cuepoint not found");return t}function i(e,t,n,i,o){var a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0;for(s=r(e),u=[],c=0,f=s.length;c<f;c+=1)l=new b["default"],a=0,a=c<s.length-1?s[c+1].CueTime-s[c].CueTime:o-s[c].CueTime,l.duration=a,l.media=t,l.startTime=s[c].CueTime,l.timescale=1e3,d=s[c].CueTracks[0].ClusterPosition+n,p=c<s.length-1?s[c+1].CueTracks[0].ClusterPosition+n-1:i-1,l.mediaRange=d+"-"+p,u.push(l);return m("Parsed cues: "+u.length+" cues."),u}function o(e,t,n,r){var o=(0,c["default"])(g).create({data:e}),a=void 0,s=void 0,u=n.split("-"),l=null,f={url:t,range:{start:parseFloat(u[0]),end:parseFloat(u[1])},request:l},p=void 0,h=void 0;for(m("Parse EBML header: "+f.url),o.skipOverElement(S.EBML),o.consumeTag(S.Segment),p=o.getMatroskaCodedNum(),p+=o.getPos(),h=o.getPos();o.moreData()&&!o.consumeTagAndSize(S.Segment.Info,!0);)if(!(o.skipOverElement(S.Segment.SeekHead,!0)||o.skipOverElement(S.Segment.Tracks,!0)||o.skipOverElement(S.Segment.Cues,!0)||o.skipOverElement(S.Void,!0)))throw new Error("no valid top level element found");for(;void 0===a;){var v=o.getMatroskaCodedNum(!0),y=o.getMatroskaCodedNum();switch(v){case S.Segment.Info.Duration.tag:a=o[S.Segment.Info.Duration.parse](y);break;default:o.setPos(o.getPos()+y)}}l=d(f);var _=function(e){s=i(e,f.url,h,p,a),r(s)},b=function(){m("Download Error: Cues "+f.url),r(null)};A.load({request:l,success:_,error:b}),m("Perform cues load: "+f.url+" bytes="+f.range.start+"-"+f.range.end)}function s(e,t){var n=null,r=O.resolve(e.path),i=r?r.url:void 0,o=e.range.split("-"),s=t||{range:{start:parseFloat(o[0]),end:parseFloat(o[1])},request:n,url:i,init:!0};m("Start loading initialization."),n=d(s);var u=function(){e.initialization=s.url,_.trigger(a["default"].INITIALIZATION_LOADED,{representation:e})},l=function(){_.trigger(a["default"].INITIALIZATION_LOADED,{representation:e})};A.load({request:n,success:u,error:l}),m("Perform init load: "+s.url)}function l(e,t,n,r){var i=null,a=O.resolve(e.path),s=a?a.url:void 0,u=8192,l={bytesLoaded:0,bytesToLoad:u,range:{start:0,end:u},request:i,url:s,init:!1};r=r||f,i=d(l),m("Parsing ebml header");var c=function(i){o(i,s,n,function(n){r(n,e,t)})},p=function(){r(null,e,t)};A.load({request:i,success:c,error:p})}function f(e,t,n){e?_.trigger(a["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):_.trigger(a["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}function d(e){var t=new w["default"];return t.type=e.init?T.HTTPRequest.INIT_SEGMENT_TYPE:T.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}function p(){C=null,I=null,m=null}var g=this.context,m=(0,h["default"])(g).getInstance().log,_=(0,u["default"])(g).getInstance(),E=void 0,S=void 0,C=void 0,I=void 0,x=void 0,A=void 0,O=void 0;return E={setConfig:n,initialize:t,loadInitialization:s,loadSegments:l,reset:p},e(),E}Object.defineProperty(n,"__esModule",{value:!0});var o=e(13),a=r(o),s=e(9),u=r(s),l=e(150),c=r(l),f=e(10),d=r(f),p=e(8),h=r(p),g=e(151),v=r(g),m=e(156),y=r(m),_=e(46),b=r(_),T=e(179),E=e(163),w=r(E),S=e(58),P=r(S);i.__dashjs_factory_name="WebmSegmentBaseLoader",n["default"]=d["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,150:150,151:151,156:156,163:163,179:179,46:46,58:58,8:8,9:9}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TCP_CONNECTION="TcpList",n.HTTP_REQUEST="HttpList",n.TRACK_SWITCH="RepSwitchList",n.BUFFER_LEVEL="BufferLevel",n.BUFFER_STATE="BufferState",n.DVR_INFO="DVRInfo",n.DROPPED_FRAMES="DroppedFrames",n.SCHEDULING_INFO="SchedulingInfo",n.REQUESTS_QUEUE="RequestsQueue",n.MANIFEST_UPDATE="ManifestUpdate",n.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",n.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",n.PLAY_LIST="PlayList",n.DVB_ERRORS="DVBErrors"},{}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){H=null,V=-1,z=!0,q=[],Y=(0,d["default"])(F).getInstance(),Q=(0,v["default"])(F).getInstance(),X=(0,h["default"])(F).getInstance(),$=(0,y["default"])(F).getInstance(),J=(0,b["default"])(F).getInstance(),Z=(0,S["default"])(F).getInstance(),ee=(0,c["default"])(F).getInstance(),te=(0,a["default"])(F).getInstance(),ne=(0,u["default"])(F).getInstance(),re=(0,E["default"])(F).getInstance(),B.on(O["default"].QUALITY_CHANGE_REQUESTED,L,U),B.on(O["default"].REPRESENTATION_UPDATED,M,U),B.on(O["default"].WALLCLOCK_TIME_UPDATED,R,U),B.on(O["default"].BUFFER_LEVEL_UPDATED,N,U),B.on(O["default"].LIVE_EDGE_SEARCH_COMPLETED,D,U)}function t(e){e.abrController&&(Y=e.abrController)}function n(e){K=e,W=K.getIndexHandler()}function r(){return K}function i(){return H}function o(){return V}function s(){return z}function l(){return G}function f(){B.off(O["default"].QUALITY_CHANGE_REQUESTED,L,U),B.off(O["default"].REPRESENTATION_UPDATED,M,U),B.off(O["default"].WALLCLOCK_TIME_UPDATED,R,U),B.off(O["default"].BUFFER_LEVEL_UPDATED,N,U),B.off(O["default"].LIVE_EDGE_SEARCH_COMPLETED,D,U),H=null,V=-1,z=!0,q=[],Y=null,Q=null,X=null,$=null,J=null,Z=null,ee=null,te=null,ne=null,re=null}function p(e,t,n){var r,i,o=null,a=K.getStreamInfo(),s=Y.getTopQualityIndexFor(n,a.id);if(z=!0,B.trigger(O["default"].DATA_UPDATE_STARTED,{sender:this}),q=P(t),null===H&&"fragmentedText"!==n?(i=Y.getAverageThroughput(n),o=i||Y.getInitialBitrateFor(n,a),r=Y.getQualityForBitrate(K.getMediaInfo(),o)):r=Y.getQualityFor(n,a),r>s&&(r=s),G=_(r),H=e,"video"!==n&&"audio"!==n&&"fragmentedText"!==n)return z=!1,void B.trigger(O["default"].DATA_UPDATE_COMPLETED,{sender:this,data:H,currentRepresentation:G});for(var u=0;u<q.length;u++)W.updateRepresentation(q[u],!0)}function g(){var e=new Date,t=l(),n=1e3*X.getTime();J.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function m(){var e=ee.calcSegmentAvailabilityRange(G,K.isDynamic());J.addDVRInfo(K.getType(),X.getTime(),K.getStreamInfo().manifestInfo,e)}function _(e){return q[e]}function T(e){return q.indexOf(e)}function w(){for(var e=0,t=q.length;e<t;e++){var n=q[e].segmentInfoType;if(null===q[e].segmentAvailabilityRange||null===q[e].initialization||("SegmentBase"===n||"BaseURL"===n)&&!q[e].segments)return!1}return!0}function P(e){var t=$.getValue();return V=te.getIndexForAdaptation(H,t,e.period.index),te.getRepresentationsForAdaptation(t,e)}function I(e){for(var t,n=0,r=q.length;n<r;n++)t=q[n],t.segmentAvailabilityRange=ee.calcSegmentAvailabilityRange(t,e)}function A(){q.forEach(function(e){e.segmentAvailabilityRange=null})}function k(e){var t=e,n=function(){if(!s()){z=!0,B.trigger(O["default"].DATA_UPDATE_STARTED,{sender:U}),A();for(var e=0;e<q.length;e++)W.updateRepresentation(q[e],!0)}};z=!1,B.trigger(O["default"].AST_IN_FUTURE,{delay:t}),setTimeout(n,t)}function M(e){if(e.sender.getStreamProcessor()===K&&s()){var t,n,r,i=e.representation,o=J.getMetricsFor("stream"),a=J.getMetricsFor(l().adaptation.type),u=ne.getCurrentManifestUpdate(o),c=!1,f=0;if("dynamic"===i.adaptation.period.mpd.manifest.type){var d=i.segmentAvailabilityRange.end-i.segmentAvailabilityRange.start;f=1e3*(X.computeLiveDelay(G.segmentDuration,K.getStreamInfo().manifestInfo.DVRWindowSize)-d)}if(f>0)return m(),k(f),n=new C["default"](j,"Segments update failed",null),void B.trigger(O["default"].DATA_UPDATE_COMPLETED,{sender:this,data:H,currentRepresentation:G,error:n});if(u){for(var p=0;p<u.trackInfo.length;p++)if(t=u.trackInfo[p],t.index===i.index&&t.mediaType===K.getType()){c=!0;break}c||J.addManifestUpdateRepresentationInfo(u,i.id,i.index,i.adaptation.period.index,K.getType(),i.presentationTimeOffset,i.startNumber,i.segmentInfoType)}w()&&(z=!1,Y.setPlaybackQuality(K.getType(),K.getStreamInfo(),T(G)),J.updateManifestUpdateInfo(u,{latency:G.segmentAvailabilityRange.end-X.getTime()}),r=ne.getCurrentRepresentationSwitch(a),r||g(),B.trigger(O["default"].DATA_UPDATE_COMPLETED,{sender:this,data:H,currentRepresentation:G}))}}function R(e){e.isDynamic&&I(e.isDynamic)}function D(e){if(!e.error){I(!0),W.updateRepresentation(G,!1);var t=$.getValue(),n=G.adaptation.period,r=Q.getActiveStreamInfo();r.isLast&&(n.mpd.checkTime=te.getCheckTime(t,n),n.duration=te.getEndTimeForLastPeriod($.getValue(),n)-n.start,r.duration=n.duration)}}function N(e){e.sender.getStreamProcessor()===K&&m()}function L(e){e.mediaType===K.getType()&&K.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality&&(G=_(e.newQuality),Z.setSavedBitrateSettings(e.mediaType,G.bandwidth),g())}var j=1,F=this.context,B=(0,x["default"])(F).getInstance(),U=void 0,H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0;return U={initialize:n,setConfig:t,getData:i,getDataIndex:o,isUpdating:s,updateData:p,getStreamProcessor:r,getCurrentRepresentation:l,getRepresentationForQuality:_,reset:f},e(),U}Object.defineProperty(n,"__esModule",{value:!0});var o=e(22),a=r(o),s=e(17),u=r(s),l=e(37),c=r(l),f=e(60),d=r(f),p=e(68),h=r(p),g=e(71),v=r(g),m=e(100),y=r(m),_=e(102),b=r(_),T=e(101),E=r(T),w=e(149),S=r(w),P=e(162),C=r(P),I=e(9),x=r(I),A=e(13),O=r(A),k=e(10),M=r(k);i.__dashjs_factory_name="RepresentationController",n["default"]=M["default"].getClassFactory(i),t.exports=n["default"]},{10:10,100:100,101:101,102:102,13:13,149:149,162:162,17:17,22:22,37:37,60:60,68:68,71:71,9:9}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n,r,i,o=!1,a=!1,s=e.ContentComponent_asArray,u="text"!==t?new RegExp(t):new RegExp("(vtt|ttml)");if(e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty("codecs")){var l=e.Representation_asArray[0].codecs;if("stpp"===l||"wvtt"===l)return"fragmentedText"===t}if(s){if(s.length>1)return"muxed"===t;s[0]&&s[0].contentType===t&&(o=!0,a=!0)}if(e.hasOwnProperty("mimeType")&&(o=u.test(e.mimeType),a=!0),!a)for(n=0,r=e.Representation_asArray.length;!a&&n<r;)i=e.Representation_asArray[n],i.hasOwnProperty("mimeType")&&(o=u.test(i.mimeType),a=!0),n++;return o}function t(t){return e(t,"audio")}function n(t){return e(t,"video")}function r(t){return e(t,"fragmentedText")}function i(t){return e(t,"text")}function o(t){return e(t,"muxed")}function s(e){return"text/vtt"===e||"application/ttml+xml"===e}function l(e){var t=""
;return e.hasOwnProperty("lang")&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t}function f(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null}function p(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]}function g(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]}function m(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]}function _(e){return p(e).filter(function(e){return"main"===e.value})[0]}function T(){return function(e,t){return e.bandwidth-t.bandwidth}}function w(e){return void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(T()),e}function P(e,t,n){var r,i,o=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=o.length;r<i;r++)if(o[r].hasOwnProperty("id")&&o[r].id===e)return o[r];return null}function I(e,t,n){return t.Period_asArray[n].AdaptationSet_asArray[e]}function A(e,t,n){var r,i,o=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=o.length;r<i;r++)if(o[r]===e)return r;return-1}function O(t,n,r){var i,o,a=t.Period_asArray[n].AdaptationSet_asArray,s=[];for(i=0,o=a.length;i<o;i++)e(a[i],r)&&s.push(w(a[i]));return s}function k(e,t,n,r){var i=O(e,t,n);if(!i||0===i.length)return null;if(i.length>1&&r)for(var o=ce.getCurrentTrackFor(n,r),a=fe.getAllMediaInfoForType(e,r,n),s=0,u=i.length;s<u;s++){if(o&&ce.isTracksEqual(o,a[s]))return i[s];if(_(i[s]))return i[s]}return i[0]}function M(e){var t=e.Representation_asArray[0];return t.mimeType+';codecs="'+t.codecs+'"'}function R(e){return e.Representation_asArray[0].mimeType}function D(e){return e&&e.hasOwnProperty("cenc:default_KID")?e["cenc:default_KID"]:null}function N(e){return e&&e.hasOwnProperty("ContentProtection_asArray")&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null}function L(e){var t=!1;return e.hasOwnProperty("type")&&(t="dynamic"===e.type),t}function j(e){var t,n=L(e);return t=!isNaN(e.timeShiftBufferDepth),n&&t}function F(e,t){var n=!1;return e.profiles&&e.profiles.length>0&&(n=-1!==e.profiles.indexOf(t)),n}function B(e){return F(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")}function U(e){return F(e,"urn:dvb:dash:profile:dvb-dash:2014")}function H(e){return e.hasOwnProperty("mediaPresentationDuration")?e.mediaPresentationDuration:Number.MAX_VALUE}function V(e){return e.bandwidth}function z(e){var t=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(t=Math.max(parseFloat(e.minimumUpdatePeriod),2)),t}function q(e){return e.Representation_asArray.length}function G(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;for(var t=w(e),n=t.Representation_asArray,r=n.length,i=[],o=0;o<r;o++)i.push({bandwidth:n[o].bandwidth,width:n[o].width||0,height:n[o].height||0});return i}function K(e,t){return t.Representation_asArray[e]}function Y(e,t){for(var n,r,i,o,u,l=w(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]),c=[],f=0;f<l.Representation_asArray.length;f++)o=l.Representation_asArray[f],n=new a["default"],n.index=f,n.adaptation=t,o.hasOwnProperty("id")&&(n.id=o.id),o.hasOwnProperty("bandwidth")&&(n.bandwidth=o.bandwidth),o.hasOwnProperty("maxPlayoutRate")&&(n.maxPlayoutRate=o.maxPlayoutRate),o.hasOwnProperty("SegmentBase")?(i=o.SegmentBase,n.segmentInfoType="SegmentBase"):o.hasOwnProperty("SegmentList")?(i=o.SegmentList,i.hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",u=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1],(!u.hasOwnProperty("r")||u.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):(n.segmentInfoType="SegmentList",n.useCalculatedLiveEdgeTime=!0)):o.hasOwnProperty("SegmentTemplate")?(i=o.SegmentTemplate,i.hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",u=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1],(!u.hasOwnProperty("r")||u.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):n.segmentInfoType="SegmentTemplate",i.hasOwnProperty("initialization")&&(n.initialization=i.initialization.split("$Bandwidth$").join(o.bandwidth).split("$RepresentationID$").join(o.id))):(i=o.BaseURL,n.segmentInfoType="BaseURL"),i.hasOwnProperty("Initialization")?(r=i.Initialization,r.hasOwnProperty("sourceURL")?n.initialization=r.sourceURL:r.hasOwnProperty("range")&&(n.range=r.range)):o.hasOwnProperty("mimeType")&&s(o.mimeType)&&(n.range=0),i.hasOwnProperty("timescale")&&(n.timescale=i.timescale),i.hasOwnProperty("duration")&&(n.segmentDuration=i.duration/n.timescale),i.hasOwnProperty("startNumber")&&(n.startNumber=i.startNumber),i.hasOwnProperty("indexRange")&&(n.indexRange=i.indexRange),i.hasOwnProperty("presentationTimeOffset")&&(n.presentationTimeOffset=i.presentationTimeOffset/n.timescale),n.MSETimeOffset=le.calcMSETimeOffset(n),n.path=[t.period.index,t.index,f],c.push(n);return c}function W(e,i){for(var a,s,l=e.Period_asArray[i.index],c=[],f=0;f<l.AdaptationSet_asArray.length;f++)s=l.AdaptationSet_asArray[f],a=new u["default"],s.hasOwnProperty("id")&&(a.id=s.id),a.index=f,a.period=i,o(s)?a.type="muxed":t(s)?a.type="audio":n(s)?a.type="video":r(s)?a.type="fragmentedText":a.type="text",c.push(a);return c}function Q(e,t){var n,r,i=L(e),o=[],a=null,s=null,u=null,l=null;for(r=0,n=e.Period_asArray.length;r<n;r++)s=e.Period_asArray[r],s.hasOwnProperty("start")?(l=new c["default"],l.start=s.start):null!==a&&s.hasOwnProperty("duration")&&null!==u?(l=new c["default"],l.start=u.start+u.duration,l.duration=s.duration):0!==r||i||(l=new c["default"],l.start=0),null!==u&&isNaN(u.duration)&&(u.duration=l.start-u.start),null!==l&&(l.id=X(s)),null!==l&&s.hasOwnProperty("duration")&&(l.duration=s.duration),null!==l&&(l.index=r,l.mpd=t,o.push(l),a=s,u=l),s=null,l=null;return 0===o.length?o:(null!==u&&isNaN(u.duration)&&(u.duration=ee(e,u)-u.start),o)}function X(e){if(!e)throw new Error("Period cannot be null or undefined");var t=c["default"].DEFAULT_ID;return e.hasOwnProperty("id")&&"__proto__"!==e.id&&(t=e.id),t}function $(e){var t=new d["default"];return t.manifest=e,e.hasOwnProperty("availabilityStartTime")?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("suggestedPresentationDelay")&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty("timeShiftBufferDepth")&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(t.maxSegmentDuration=e.maxSegmentDuration),t}function J(e,t){return le.calcPresentationTimeFromWallTime(e.loadedTime,t)}function Z(e,t){var n,r=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(n=J(e,t),r=n+e.minimumUpdatePeriod),r}function ee(e,t){var n,r=Z(e,t);if(e.mediaPresentationDuration)n=e.mediaPresentationDuration;else{if(isNaN(r))throw new Error("Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.");n=r}return n}function te(e,t){var n=e.Period_asArray,r=n[t.index].EventStream_asArray,i=[];if(r)for(var o=0;o<r.length;o++){var a=new C["default"];if(a.period=t,a.timescale=1,!r[o].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");a.schemeIdUri=r[o].schemeIdUri,r[o].hasOwnProperty("timescale")&&(a.timescale=r[o].timescale),r[o].hasOwnProperty("value")&&(a.value=r[o].value);for(var s=0;s<r[o].Event_asArray.length;s++){var u=new E["default"];u.presentationTime=0,u.eventStream=a,r[o].Event_asArray[s].hasOwnProperty("presentationTime")&&(u.presentationTime=r[o].Event_asArray[s].presentationTime),r[o].Event_asArray[s].hasOwnProperty("duration")&&(u.duration=r[o].Event_asArray[s].duration),r[o].Event_asArray[s].hasOwnProperty("id")&&(u.id=r[o].Event_asArray[s].id),i.push(u)}}return i}function ne(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=new C["default"];if(i.timescale=1,i.representation=t,!e[r].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty("timescale")&&(i.timescale=e[r].timescale),e[r].hasOwnProperty("value")&&(i.value=e[r].value),n.push(i)}return n}function re(e,t){return ne(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray,null)}function ie(e,t){return ne(e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray,t)}function oe(e){var t=L(e),n=e.hasOwnProperty("availabilityStartTime"),r=e.UTCTiming_asArray,i=[];return(t||n)&&r&&r.forEach(function(e){var t=new h["default"];e.hasOwnProperty("schemeIdUri")&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value.toString(),i.push(t)))}),i}function ae(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return n.some(function(n){if(n){var i=new S["default"],o=n.__text||n;return de.isRelative(o)&&(r=!0,e.baseUri&&(o=e.baseUri+o)),i.url=o,n.hasOwnProperty("serviceLocation")&&n.serviceLocation.length?i.serviceLocation=n.serviceLocation:i.serviceLocation=o,n.hasOwnProperty("dvb:priority")&&(i.dvb_priority=n["dvb:priority"]),n.hasOwnProperty("dvb:weight")&&(i.dvb_weight=n["dvb:weight"]),t.push(i),r}}),t}function se(e){return e.hasOwnProperty("Location")&&(e.Location=e.Location_asArray[0]),e.Location}var ue=this.context,le=(0,v["default"])(ue).getInstance(),ce=(0,y["default"])(ue).getInstance(),fe=(0,b["default"])(ue).getInstance(),de=(0,x["default"])(ue).getInstance();return{getIsTypeOf:e,getIsAudio:t,getIsVideo:n,getIsText:i,getIsMuxed:o,getIsTextTrack:s,getIsFragmentedText:r,getIsMain:_,getLanguageForAdaptation:l,getViewpointForAdaptation:f,getRolesForAdaptation:p,getAccessibilityForAdaptation:g,getAudioChannelConfigurationForAdaptation:m,processAdaptation:w,getAdaptationForIndex:I,getIndexForAdaptation:A,getAdaptationForId:P,getAdaptationsForType:O,getAdaptationForType:k,getCodec:M,getMimeType:R,getKID:D,getContentProtectionData:N,getIsDynamic:L,getIsDVR:j,getIsOnDemand:B,getIsDVB:U,getDuration:H,getBandwidth:V,getRefreshDelay:z,getRepresentationCount:q,getBitrateListForAdaptation:G,getRepresentationFor:K,getRepresentationsForAdaptation:Y,getAdaptationsForPeriod:W,getRegularPeriods:Q,getPeriodId:X,getMpd:$,getFetchTime:J,getCheckTime:Z,getEndTimeForLastPeriod:ee,getEventsForPeriod:te,getEventStreams:ne,getEventStreamForAdaptationSet:re,getEventStreamForRepresentation:ie,getUTCTimingSources:oe,getBaseURLsFromElement:ae,getRepresentationSortFunction:T,getLocation:se}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(45),a=r(o),s=e(39),u=r(s),l=e(44),c=r(l),f=e(43),d=r(f),p=e(47),h=r(p),g=e(37),v=r(g),m=e(66),y=r(m),_=e(15),b=r(_),T=e(41),E=r(T),w=e(40),S=r(w),P=e(42),C=r(P),I=e(158),x=r(I),A=e(10),O=r(A);i.__dashjs_factory_name="DashManifestModel",n["default"]=O["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,15:15,158:158,37:37,39:39,40:40,41:41,42:42,43:43,44:44,45:45,47:47,66:66}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){s=[new v["default"],new y["default"],new b["default"]],u=new h["default"](s,"",!0),l=new d["default"]([new E["default"],new S["default"]])}function t(e,t){var n;try{var o=window.performance.now();if(!(n=u.xml_str2json(e)))throw new Error("parser error");var a=window.performance.now();l.run(n);var c=window.performance.now();t.setMatchers(s),t.setIron(l),r("Parsing complete: ( xml2json: "+(a-o).toPrecision(3)+"ms, objectiron: "+(c-a).toPrecision(3)+"ms, total: "+((c-o)/1e3).toPrecision(3)+"s)")}catch(t){return i.manifestError("parsing the manifest failed","parse",e,t),null}return n}var n=this.context,r=(0,c["default"])(n).getInstance().log,i=(0,a["default"])(n).getInstance(),o=void 0,s=void 0,u=void 0,l=void 0;return o={parse:t},e(),o}Object.defineProperty(n,"__esModule",{value:!0});var o=e(151),a=r(o),s=e(10),u=r(s),l=e(8),c=r(l),f=e(3),d=r(f),p=e(4),h=r(p),g=e(30),v=r(g),m=e(29),y=r(m),_=e(31),b=r(_),T=e(26),E=r(T),w=e(27),S=r(w);i.__dashjs_factory_name="DashParser",n["default"]=u["default"].getClassFactory(i),t.exports=n["default"]},{10:10,151:151,26:26,27:27,29:29,3:3,30:30,31:31,4:4,8:8}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e);var i=function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()};this._name=t,this._merge=void 0!==n?n:i(t)}return i(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();n["default"]=o,t.exports=n["default"]},{}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(24),s=r(a),u=function(){function e(t,n,r,o,a){var u=this;i(this,e),this._name=t||"",this._properties=[],this._children=r||[],this._isRoot=o||!1,this._isArray=a||!0,Array.isArray(n)&&n.forEach(function(e){u._properties.push(new s["default"](e))})}return o(e,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();n["default"]=u,t.exports=n["default"]},{24:24}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(25),u=r(s),l=function(e){function t(){i(this,t);var e=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"];return a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"AdaptationSet",e,[new u["default"]("Representation",e,[new u["default"]("SubRepresentation",e)])])}return o(t,e),t}(u["default"]);n["default"]=l,t.exports=n["default"]},{25:25}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(25),u=r(s),l=function(e){function t(){i(this,t);var e=["SegmentBase","SegmentTemplate","SegmentList"];return a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Period",e,[new u["default"]("AdaptationSet",e,[new u["default"]("Representation",e)])])}return o(t,e),t}(u["default"]);n["default"]=l,t.exports=n["default"]},{25:25}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this._test=t,this._converter=n}return i(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();n["default"]=o,t.exports=n["default"]},{}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(28),u=r(s),l=60,c=60,f=1e3,d=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,p=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return d.test(e.value)},function(e){var t=d.exec(e),n=void 0;if(n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*f||0),t[9]&&t[10]){var r=parseInt(t[9],10)*c+parseInt(t[10],10);n+=("+"===t[8]?-1:1)*r*l*f}return new Date(n)})}return o(t,e),t}(u["default"]);n["default"]=p,t.exports=n["default"]},{28:28}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(28),u=r(s),l=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,c=31536e3,f=2592e3,d=86400,p=3600,h=60,g=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){for(var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return l.test(e.value);return!1},function(e){var t=l.exec(e),n=parseFloat(t[2]||0)*c+parseFloat(t[4]||0)*f+parseFloat(t[6]||0)*d+parseFloat(t[8]||0)*p+parseFloat(t[10]||0)*h+parseFloat(t[12]||0);return void 0!==t[1]&&(n=-n),n})}return o(t,e),t}(u["default"]);n["default"]=g,t.exports=n["default"]},{28:28}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(28),u=r(s),l=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,c=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,function(e){return l.test(e.value)},function(e){return parseFloat(e)})}return o(t,e),t}(u["default"]);n["default"]=c,t.exports=n["default"]},{28:28}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.boxParser&&(r=e.boxParser)}function t(e){var t,n,i,o,a,s,u,l,c,f,d,p=r.parse(e),h=p.getBox("tfhd"),g=p.getBox("tfdt"),v=p.getBox("trun"),m=p.getBox("moof"),y=p.getBox("mfhd");for(f=y.sequence_number,i=v.sample_count,a=g.baseMediaDecodeTime,c=(h.base_data_offset||0)+(v.data_offset||0),s=[],l=0;l<i;l++)u=v.samples[l],t=void 0!==u.sample_duration?u.sample_duration:h.default_sample_duration,o=void 0!==u.sample_size?u.sample_size:h.default_sample_size,n=void 0!==u.sample_composition_time_offset?u.sample_composition_time_offset:0,s.push({dts:a,cts:a+n,duration:t,offset:m.offset+c,size:o}),c+=o,a+=t;return d=a-g.baseMediaDecodeTime,{sampleList:s,sequenceNumber:f,totalDuration:d}}function n(e){var t=r.parse(e),n=t.getBox("mdhd");return n?n.timescale:NaN}var r=void 0;return{getSamplesInfo:t,getMediaTimescaleFromMoov:n,setConfig:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="FragmentedTextBoxParser",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(e,n,i,o){var a,u,l,c,f,d,p,h=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,g=h.SegmentURL_asArray.length,v=[];for(p=e.startNumber,c=(0,s.decideSegmentListRangeForTemplate)(r,t,e,n,i,o),f=Math.max(c.start,0),d=Math.min(c.end,h.SegmentURL_asArray.length-1),a=f;a<=d;a++)l=h.SegmentURL_asArray[a],u=(0,s.getIndexBasedSegment)(r,t,e,a),u.replacementTime=(p+a-1)*e.segmentDuration,u.media=l.media?l.media:"",u.mediaRange=l.mediaRange,u.index=l.index,u.indexRange=l.indexRange,v.push(u),u=null;return e.availableSegmentsNumber=g,v}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(35);i.__dashjs_factory_name="ListSegmentsGetter";var u=a["default"].getClassFactory(i);n["default"]=u,t.exports=n["default"]},{10:10,35:35}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(){s=(0,u["default"])(o).create(e,t),l=(0,c["default"])(o).create(e,t),f=(0,d["default"])(o).create(e,t)}function r(e,t,n,r,o){var a,u=e.segmentInfoType;return"SegmentBase"!==u&&"BaseURL"!==u&&i(e,n)?("SegmentTimeline"===u?a=s.getSegments(e,t,n,o):"SegmentTemplate"===u?a=l.getSegments(e,t,n,o):"SegmentList"===u&&(a=f.getSegments(e,t,n,o)),r&&r(e,a)):a=e.segments,a}function i(e,t){var n,r,i=e.segments,o=!1;return i&&0!==i.length?(r=i[0].availabilityIdx,n=i[i.length-1].availabilityIdx,o=t<r||t>n):o=!0,o}var o=this.context,a=void 0,s=void 0,l=void 0,f=void 0;return a={getSegments:r},n(),a}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(38),u=r(s),l=e(36),c=r(l),f=e(33),d=r(f);i.__dashjs_factory_name="SegmentsGetter";var p=a["default"].getClassFactory(i);n["default"]=p,t.exports=n["default"]},{10:10,33:33,36:36,38:38}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){for(;e.length<t;)e="0"+e;return e}function o(e,t){return e.representation.startNumber+t}function a(e,t,n){for(var r,o,a,s,u,l,c="%0",f=t.length,d=c.length;;){if((r=e.indexOf("$"+t))<0)return e;if((o=e.indexOf("$",r+f))<0)return e;if((a=e.indexOf(c,r+f))>r&&a<o)switch(s=e.charAt(o-1),u=parseInt(e.substring(a+d,o-1),10),s){case"d":case"i":case"u":l=i(n.toString(),u);break;case"x":l=i(n.toString(16),u);break;case"X":l=i(n.toString(16),u).toUpperCase();break;case"o":l=i(n.toString(8),u);break;default:return e}else l=n;e=e.substring(0,r)+l+e.substring(o+1)}}function s(e,t,n,r){var i,a,s,u;return a=n.segmentDuration,isNaN(a)&&(a=n.adaptation.period.duration),s=n.adaptation.period.start+r*a,u=s+a,i=new p["default"],i.representation=n,i.duration=a,i.presentationStartTime=s,i.mediaStartTime=e.calcMediaTimeFromPresentationTime(i.presentationStartTime,n),i.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(i.presentationStartTime,n.adaptation.period.mpd,t),i.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(u,n.adaptation.period.mpd,t),i.wallStartTime=e.calcWallTimeForSegment(i,t),i.replacementNumber=o(i,r),i.availabilityIdx=r,i}function u(e,t,n,r,i,s,u,l,c){var f,d,h,g=r/s,v=Math.min(i/s,n.adaptation.period.mpd.maxSegmentDuration);return f=e.calcPresentationTimeFromMediaTime(g,n),d=f+v,h=new p["default"],h.representation=n,h.duration=v,h.mediaStartTime=g,h.presentationStartTime=f,h.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,h.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(d,n.adaptation.period.mpd,t),h.wallStartTime=e.calcWallTimeForSegment(h,t),h.replacementTime=r,h.replacementNumber=o(h,c),u=a(u,"Number",h.replacementNumber),u=a(u,"Time",h.replacementTime),h.media=u,h.mediaRange=l,h.availabilityIdx=c,h}function l(e,t){if(!t||!t.segments)return null;var n,r,i=t.segments.length;if(e<i&&(n=t.segments[e])&&n.availabilityIdx===e)return n;for(r=0;r<i;r++)if((n=t.segments[r])&&n.availabilityIdx===e)return n;return null}function c(e,t,n,r,i){var o,a,s=i||10,u=0,l=Number.POSITIVE_INFINITY;return t&&!e.isTimeSyncCompleted()?{start:u,end:l}:!t&&n||r<0?null:(o=Math.max(r-2,u),a=Math.min(r+s,l),{start:o,end:a})}function f(e,t,n,r,i,o){var a,s,u=n.segmentDuration,c=n.adaptation.period.mpd.manifest.minBufferTime,f=n.segmentAvailabilityRange,d={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,f.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,f.end)},p=n.segments,h=2*u,g=o||Math.max(2*c,10*u),v=NaN,m=null;return d.start=Math.max(d.start,0),t&&!e.isTimeSyncCompleted()?(a=Math.floor(d.start/u),s=Math.floor(d.end/u),{start:a,end:s}):(p&&p.length>0?(m=l(i,n),v=m?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,m.presentationStartTime):i>0?i*u:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r)):v=i>0?i*u:t?d.end:d.start,a=Math.floor(Math.max(v-h,d.start)/u),s=Math.floor(Math.min(a+g/u,d.end/u)),{start:a,end:s})}Object.defineProperty(n,"__esModule",{value:!0}),n.replaceTokenForTemplate=a,n.getIndexBasedSegment=s,n.getTimeBasedSegment=u,n.getSegmentByIndex=l,n.decideSegmentListRangeForTimeline=c,n.decideSegmentListRangeForTemplate=f;var d=e(46),p=r(d)},{46:46}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(e,n,i,o){var a,u,l,c,f,d=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,p=e.segmentDuration,h=e.segmentAvailabilityRange,g=[],v=null,m=null;for(f=e.startNumber,a=isNaN(p)&&!t?{start:f,end:f}:(0,s.decideSegmentListRangeForTemplate)(r,t,e,n,i,o),l=a.start,c=a.end,u=l;u<=c;u++)m=(0,s.getIndexBasedSegment)(r,t,e,u),m.replacementTime=(f+u-1)*e.segmentDuration,v=d.media,v=(0,s.replaceTokenForTemplate)(v,"Number",m.replacementNumber),v=(0,s.replaceTokenForTemplate)(v,"Time",m.replacementTime),m.media=v,g.push(m),m=null;return isNaN(p)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((h.end-h.start)/p),g}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(35);i.__dashjs_factory_name="TemplateSegmentsGetter";var u=a["default"].getClassFactory(i);n["default"]=u,t.exports=n["default"]},{10:10,35:35}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){S=0,P=!1,C=NaN,w.on(u["default"].LIVE_EDGE_SEARCH_COMPLETED,y,this),w.on(u["default"].TIME_SYNCHRONIZATION_COMPLETED,_,this)}function t(){return P}function n(e){P=e}function r(){return S}function i(){return C}function o(e){C=e}function s(e,t,n,r){NaN;return r?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-S)):t.availabilityStartTime}function l(e,t,n){return s.call(this,e,t,n)}function c(e,t,n){return s.call(this,e,t,n,!0)}function f(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*S)/1e3}function d(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)}function p(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset}function h(e,t){var n,r,i;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i}function g(e,t){var n,r,i=e.adaptation.period.start,o=i+e.adaptation.period.duration,a={start:i,end:o},s=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);if(!t)return a;if(!P&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;n=e.adaptation.period.mpd.checkTime,r=f(new Date,e.adaptation.period),i=Math.max(r-e.adaptation.period.mpd.timeShiftBufferDepth,e.adaptation.period.start);var u=isNaN(n)?r:Math.min(n,r),l=e.adaptation.period.start+e.adaptation.period.duration;return o=(u>=l&&u-s<l?l:u)-s,a={start:i,end:o}}function v(e,t){return t-e.adaptation.period.start}function m(e,t){return t+e.adaptation.period.start}function y(e){P||e.error||(S+=e.liveEdge-(C+e.searchTime),P=!0)}function _(e){P||e.error||(S=e.offset/1e3,P=!0)}function b(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t}function T(){w.off(u["default"].LIVE_EDGE_SEARCH_COMPLETED,y,this),w.off(u["default"].TIME_SYNCHRONIZATION_COMPLETED,_,this),S=0,P=!1,C=NaN}var E=this.context,w=(0,a["default"])(E).getInstance(),S=void 0,P=void 0,C=void 0;return{initialize:e,isTimeSyncCompleted:t,setTimeSyncCompleted:n,getClientTimeOffset:r,getExpectedLiveEdge:i,setExpectedLiveEdge:o,calcAvailabilityStartTimeFromPresentationTime:l,calcAvailabilityEndTimeFromPresentationTime:c,calcPresentationTimeFromWallTime:f,calcPresentationTimeFromMediaTime:d,calcPeriodRelativeTimeFromMpdRelativeTime:v,calcMpdRelativeTimeFromPeriodRelativeTime:m,calcMediaTimeFromPresentationTime:p,calcSegmentAvailabilityRange:g,calcWallTimeForSegment:h,calcMSETimeOffset:b,reset:T}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(10),c=r(l);i.__dashjs_factory_name="TimelineConverter",n["default"]=c["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(e,n,i,o){
var a,u,l,c,f,d,p,h,g,v,m,y,_,b,T=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,E=T.SegmentTimeline,w=T.SegmentURL_asArray,S=e.availableSegmentsNumber>0,P=0,C=0,I=-1,x=[],A=!1,O=function(n,i){var o=T.media,a=n.mediaRange;return w&&(o=w[i].media||"",a=w[i].mediaRange),(0,s.getTimeBasedSegment)(r,t,e,P,n.d,b,o,a,I)};for(b=e.timescale,a=E.S_asArray,g=(0,s.decideSegmentListRangeForTimeline)(r,t,n,i,o),g?(y=g.start,_=g.end):m=r.calcMediaTimeFromPresentationTime(n||0,e),l=0,c=a.length;l<c;l++){if(u=a[l],d=0,u.hasOwnProperty("r")&&(d=u.r),u.hasOwnProperty("t")&&(P=u.t,C=P/b),d<0){if((h=a[l+1])&&h.hasOwnProperty("t"))p=h.t/b;else{var k=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:r.calcSegmentAvailabilityRange(e,t).end;p=r.calcMediaTimeFromPresentationTime(k,e),e.segmentDuration=u.d/b}d=Math.ceil((p-C)/(u.d/b))-1}if(v){if(S)break;I+=d+1}else for(f=0;f<=d;f++){if(I++,g){if(I>_){if(v=!0,S)break;continue}I>=y&&x.push(O(u,I))}else{if(x.length>10){if(v=!0,S)break;continue}A?x.push(O(u,I)):C>=m-u.d/b*1.5&&(A=!0,x.push(O(u,I)))}P+=u.d,C=P/b}}return S||(e.availableSegmentsNumber=I+1),x}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(35);i.__dashjs_factory_name="TimelineSegmentsGetter";var u=a["default"].getClassFactory(i);n["default"]=u,t.exports=n["default"]},{10:10,35:35}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.period=null,this.index=-1,this.type=null};n["default"]=i,t.exports=n["default"]},{}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=1,o=1,a=function e(t,n,a,s){r(this,e),this.url=t||"",this.serviceLocation=n||t||"",this.dvb_priority=a||i,this.dvb_weight=s||o};a.DEFAULT_DVB_PRIORITY=i,a.DEFAULT_DVB_WEIGHT=o,n["default"]=a,t.exports=n["default"]},{}],41:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};n["default"]=i,t.exports=n["default"]},{}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};n["default"]=i,t.exports=n["default"]},{}],43:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.checkTime=NaN,this.clientServerTimeShift=0,this.isClientServerTimeSyncCompleted=!1};n["default"]=i,t.exports=n["default"]},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};i.DEFAULT_ID="defaultId",n["default"]=i,t.exports=n["default"]},{}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN};n["default"]=i,t.exports=n["default"]},{}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};n["default"]=i,t.exports=n["default"]},{}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.schemeIdUri="",this.value=""};n["default"]=i,t.exports=n["default"]},{}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){p=(0,a["default"])(s).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){var t=function(t){l.trigger(h["default"].CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new u["default"](e.url);p.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)}function r(e){var t=function(t,n){l.trigger(h["default"].LOADING_COMPLETED,{request:e,response:t||null,error:n||null,sender:f})};e?p.load({request:e,progress:function(){l.trigger(h["default"].LOADING_PROGRESS,{request:e})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new c["default"](m,r,n))}}):t(void 0,new c["default"](y,_))}function i(){p&&p.abort()}function o(){p&&(p.abort(),p=null)}var s=this.context,l=(0,d["default"])(s).getInstance(),f=void 0,p=void 0;return f={checkForExistence:n,load:r,abort:i,reset:o},t(),f}Object.defineProperty(n,"__esModule",{value:!0});var o=e(58),a=r(o),s=e(164),u=r(s),l=e(162),c=r(l),f=e(9),d=r(f),p=e(13),h=r(p),g=e(10),v=r(g),m=1,y=2,_="request is null";i.__dashjs_factory_name="FragmentLoader";var b=v["default"].getClassFactory(i);b.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=m,b.FRAGMENT_LOADER_ERROR_NULL_REQUEST=y,n["default"]=b,t.exports=n["default"]},{10:10,13:13,162:162,164:164,58:58,9:9}],49:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){s.on(_["default"].XLINK_READY,n,p),v=(0,u["default"])(o).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),y=(0,a["default"])(o).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){s.trigger(_["default"].INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function r(e){var t=new d["default"](e,g.HTTPRequest.MPD_TYPE);v.load({request:t,success:function(t,n,r){var i,o;r.responseURL&&r.responseURL!==e?(o=l.parseBaseUrl(r.responseURL),i=r.responseURL):(l.isRelative(e)&&(e=l.parseBaseUrl(window.location.href)+e),o=l.parseBaseUrl(e));var a=f.parse(t,y);a?(a.url=i||e,a.originalUrl||(a.originalUrl=a.url),a.baseUri=o,a.loadedTime=new Date,y.resolveManifestOnLoad(a)):s.trigger(_["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new h["default"](E,S)})},error:function(t,n,r){s.trigger(_["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new h["default"](w,"Failed loading manifest: "+e+", "+r)})}})}function i(){s.off(_["default"].XLINK_READY,n,p),y&&(y.reset(),y=null),v&&(v.abort(),v=null)}var o=this.context,s=(0,m["default"])(o).getInstance(),l=(0,c["default"])(o).getInstance(),f=e.parser,p=void 0,v=void 0,y=void 0;return p={load:r,reset:i},t(),p}Object.defineProperty(n,"__esModule",{value:!0});var o=e(74),a=r(o),s=e(58),u=r(s),l=e(158),c=r(l),f=e(170),d=r(f),p=e(162),h=r(p),g=e(179),v=e(9),m=r(v),y=e(13),_=r(y),b=e(10),T=r(b),E=1,w=2,S="parsing failed";i.__dashjs_factory_name="ManifestLoader";var P=T["default"].getClassFactory(i);P.MANIFEST_LOADER_ERROR_PARSING_FAILURE=E,P.MANIFEST_LOADER_ERROR_LOADING_FAILURE=w,n["default"]=P,t.exports=n["default"]},{10:10,13:13,158:158,162:162,170:170,179:179,58:58,74:74,9:9}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&(e.manifestModel&&(S=e.manifestModel),e.dashManifestModel&&(P=e.dashManifestModel))}function t(e){w=e,_=NaN,b=null,E=!1,T=!0,y.on(u["default"].STREAMS_COMPOSED,g,this),y.on(u["default"].PLAYBACK_STARTED,p,this),y.on(u["default"].PLAYBACK_PAUSED,h,this),y.on(u["default"].INTERNAL_MANIFEST_LOADED,f,this)}function n(e){l(e)}function r(){return w}function i(){y.off(u["default"].PLAYBACK_STARTED,p,this),y.off(u["default"].PLAYBACK_PAUSED,h,this),y.off(u["default"].STREAMS_COMPOSED,g,this),y.off(u["default"].INTERNAL_MANIFEST_LOADED,f,this),T=!0,E=!1,o(),_=NaN}function o(){null!==b&&(clearInterval(b),b=null)}function s(){o(),isNaN(_)||(m("Refresh manifest in "+_+" seconds."),b=setTimeout(c,Math.min(1e3*_,Math.pow(2,31)-1),this))}function l(e){var t,n,r=new Date;S.setValue(e),m("Manifest has been refreshed at "+r+"["+r.getTime()/1e3+"] "),t=P.getRefreshDelay(e),n=((new Date).getTime()-e.loadedTime.getTime())/1e3,_=Math.max(t-n,0),y.trigger(u["default"].MANIFEST_UPDATED,{manifest:e}),T||s()}function c(){var e,t;if(!T&&!E){E=!0,e=S.getValue(),t=e.url;var n=P.getLocation(e);n&&(t=n),w.load(t)}}function f(e){e.error||l(e.manifest)}function p(){T=!1,s()}function h(){T=!0,o()}function g(){E=!1}var v=this.context,m=(0,d["default"])(v).getInstance().log,y=(0,a["default"])(v).getInstance(),_=void 0,b=void 0,T=void 0,E=void 0,w=void 0,S=void 0,P=void 0;return{initialize:t,setManifest:n,getManifestLoader:r,setConfig:e,reset:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(10),c=r(l),f=e(8),d=r(f);i.__dashjs_factory_name="ManifestUpdater",n["default"]=c["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,8:8,9:9}],51:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){Zt=!1,en=!1,tn=!0,on=null,Jt=null,sn=null,ie["default"].extend(ae["default"]),ln=(0,D["default"])(Kt).getInstance()}function t(e,t,n){return fn=(0,b["default"])(Kt).getInstance(),cn=(0,y["default"])(Kt).getInstance(),fn.supportsMediaSource()?void(Zt||(Zt=!0,nn=(0,F["default"])(Kt).getInstance(),hn=(0,u["default"])(Kt).getInstance(),rn=(0,d["default"])(Kt).getInstance(),rn.initialize(),vn=(0,ge["default"])(Kt).getInstance(),gn=(0,me["default"])(Kt).getInstance(),un=(0,L["default"])(Kt).getInstance(),un.setConfig({adapter:Nt()}),rt(),he(void 0===n||n),e&&Pt(e),t&&At(t),Qt("[dash.js "+z()+"] MediaPlayer has been initialized"))):void cn.capabilityError("mediasource")}function n(){return!!mn&&!!$t}function r(){if(!en)throw Vt;(!tn||o()&&en)&&hn.play()}function i(){if(!en)throw Vt;hn.pause()}function o(){if(!en)throw Vt;return hn.isPaused()}function s(){if(!en)throw Vt;return hn.isSeeking()}function l(e){if(!mn)throw zt;St().muted=e}function f(){if(!mn)throw zt;return St().muted}function p(e){if(!mn)throw zt;St().volume=e}function g(){if(!mn)throw zt;return St().volume}function m(e){var t=["video","audio","fragmentedText"];if(e){if(-1!==t.indexOf(e)){var n=Te().getCurrentBufferLevel(Ee(e));return n||NaN}return Qt("Warning  - getBufferLength requested for invalid type"),NaN}return t.map(function(e){return Le(e).length>0?Te().getCurrentBufferLevel(Ee(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)})}function _(){var e=Ft();return e?e.manifestInfo.DVRWindowSize:0}function T(e){var t=Ft();if(!t)return 0;var n=t.range.start+e;return n>t.range.end&&(n=t.range.end),n}function w(e){if(!en)throw Vt;var t=hn.getIsDynamic()?T(e):e;hn.seek(t)}function P(e){if(!en)throw Vt;var t=St().currentTime;if(void 0!==e)t=dn.getTimeRelativeToStreamId(t,e);else if(hn.getIsDynamic()){var n=Ft();t=null===n?0:I()-(n.range.end-n.time)}return t}function I(){if(!en)throw Vt;var e=St().duration;if(hn.getIsDynamic()){var t,n=Ft();if(!n)return 0;t=n.range.end-n.range.start,e=t<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function A(){if(!en)throw Vt;return P()<0?NaN:Bt(P())}function k(){if(!en)throw Vt;return Bt(I())}function R(e,t,n){var r=new Date(1e3*e),i=r.toLocaleDateString(t);return r.toLocaleTimeString(t,{hour12:n})+" "+i}function N(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())}function j(e,t,n){ue["default"].extend(e,t,n,Kt)}function B(e,t,n){Yt.on(e,t,n)}function H(e,t,n){Yt.off(e,t,n)}function z(){return(0,le.getVersionString)()}function G(){return Wt}function Y(){if(!mn)throw zt;return mn}function Q(e){ln.setLiveDelayFragmentCount(e)}function $(e){ln.setLiveDelay(e)}function Z(e){ln.setUseSuggestedPresentationDelay(e)}function te(e,t){ln.setLastBitrateCachingInfo(e,t)}function re(e,t){ln.setLastMediaSettingsCachingInfo(e,t)}function oe(e,t){nn.setMaxAllowedBitrateFor(e,t)}function se(e){return nn.getMaxAllowedBitrateFor(e)}function ce(e,t){nn.setMaxAllowedRepresentationRatioFor(e,t)}function de(e){return nn.getMaxAllowedRepresentationRatioFor(e)}function he(e){tn=e}function ve(){return tn}function ye(e){ln.setScheduleWhilePaused(e)}function be(){return ln.getScheduleWhilePaused()}function Te(){return gn}function Ee(e){return un.getReadOnlyMetricsFor(e)}function we(e){if(!en)throw Vt;return nn.getQualityFor(e,dn.getActiveStreamInfo())}function Se(e,t){if(!en)throw Vt;nn.setPlaybackQuality(e,dn.getActiveStreamInfo(),t)}function Pe(){return nn.getLimitBitrateByPortal()}function Ce(e){nn.setLimitBitrateByPortal(e)}function Ie(){return nn.getUsePixelRatioInLimitBitrateByPortal()}function xe(e){nn.setUsePixelRatioInLimitBitrateByPortal(e)}function Ae(e){if(!en)throw Vt;void 0===yn&&(yn=(0,x["default"])(Kt).getInstance());for(var t=St().textTracks,n=t.length,r=0;r<n;r++){var i=t[r],o=e===r?"showing":"hidden";i.mode!==o&&(i.mode=o)}yn.setTextTrack()}function Oe(e){if(!en)throw Vt;var t=Ut();return t?t.getBitrateListFor(e):[]}function ke(e,t){nn.setInitialBitrateFor(e,t)}function Me(e){if(!en)throw Vt;return nn.getInitialBitrateFor(e)}function Re(e,t){nn.setInitialRepresentationRatioFor(e,t)}function De(e){return nn.getInitialRepresentationRatioFor(e)}function Ne(e){if(!en)throw Vt;return sn.getStreamsInfo(e)}function Le(e){if(!en)throw Vt;var t=dn.getActiveStreamInfo();return t?rn.getTracksFor(e,t):[]}function je(e,t,n){if(!en)throw Vt;return n=n||sn.getStreamsInfo(t)[0],n?sn.getAllMediaInfoForType(t,n,e):[]}function Fe(e){if(!en)throw Vt;var t=dn.getActiveStreamInfo();return t?rn.getCurrentTrackFor(e,t):null}function Be(e,t){rn.setInitialSettings(e,t)}function Ue(e){return rn.getInitialSettings(e)}function He(e){if(!en)throw Vt;rn.setTrack(e)}function Ve(e){return rn.getSwitchMode(e)}function ze(e,t){rn.setSwitchMode(e,t)}function qe(e){rn.setSelectionModeForInitialTrack(e)}function Ge(){return rn.getSelectionModeForInitialTrack()}function Ke(){return nn.getAutoSwitchBitrateFor("video")||nn.getAutoSwitchBitrateFor("audio")}function Ye(e){nn.setAutoSwitchBitrateFor("video",e),nn.setAutoSwitchBitrateFor("audio",e)}function We(e){return nn.getAutoSwitchBitrateFor(e)}function Qe(e,t){nn.setAutoSwitchBitrateFor(e,t)}function Xe(e){ln.setFastSwitchEnabled(e)}function $e(){return ln.getFastSwitchEnabled()}function Je(e){ln.setBufferOccupancyABREnabled(e)}function Ze(e,t){var n=Rt(),r=this,i=function e(i){i.error?t(null,i.error):t(i.manifest),Yt.off(ie["default"].INTERNAL_MANIFEST_LOADED,e,r),n.reset()};Yt.on(ie["default"].INTERNAL_MANIFEST_LOADED,i,r);var o=(0,O["default"])(Kt).getInstance();o.initialize(),n.load(o.parseURI(e))}function et(e,t){tt(e,t);var n=new a["default"];n.schemeIdUri=e,n.value=t,ln.getUTCTimingSources().push(n)}function tt(e,t){var n=ln.getUTCTimingSources();n.forEach(function(r,i){r.schemeIdUri===e&&r.value===t&&n.splice(i,1)})}function nt(){ln.setUTCTimingSources([])}function rt(){et(D["default"].DEFAULT_UTC_TIMING_SOURCE.scheme,D["default"].DEFAULT_UTC_TIMING_SOURCE.value)}function it(e){ln.setUseManifestDateHeaderTimeSource(e)}function ot(e){ln.setBufferToKeep(e)}function at(e){ln.setBufferPruningInterval(e)}function st(e){ln.setStableBufferTime(e)}function ut(e){ln.setBufferTimeAtTopQuality(e)}function lt(e){ln.setBufferTimeAtTopQualityLongForm(e)}function ct(e){ln.setLongFormContentDurationThreshold(e)}function ft(e){ln.setRichBufferThreshold(e)}function dt(e){ln.setBandwidthSafetyFactor(e)}function pt(){return ln.getBandwidthSafetyFactor()}function ht(e){ln.setAbandonLoadTimeout(e)}function gt(e){ln.setFragmentRetryAttempts(e)}function vt(e){ln.setFragmentRetryInterval(e)}function mt(e){ln.setXHRWithCredentials(e)}function yt(){return Lt()}function _t(e){on=e}function bt(e){Jt=e}function Tt(e){var t=(0,E["default"])(Kt).getInstance();t.setConfig({videoModel:mn}),t.initialize(),t.displayCConTop(e)}function Et(){return mn?mn.getVideoContainer():null}function wt(e){if(!mn)throw zt;mn.setVideoContainer(e)}function St(){if(!mn)throw zt;return mn.getElement()}function Pt(e){if(!Zt)throw Gt;mn=null,e&&(mn=(0,q["default"])(Kt).getInstance(),mn.initialize(),mn.setElement(e),Lt(),jt()),kt()}function Ct(){return mn?mn.getTTMLRenderingDiv():null}function It(e){if(!mn)throw zt;mn.setTTMLRenderingDiv(e)}function xt(){if(!$t)throw qt;return $t}function At(e){if(!Zt)throw Gt;if("string"==typeof e){var t=(0,O["default"])(Kt).getInstance();t.initialize(),$t=t.parseURI(e)}else $t=e;kt()}function Ot(){At(null),Pt(null),Jt=null,on=null}function kt(){en?(en=!1,sn.reset(),dn.reset(),hn.reset(),nn.reset(),pn.reset(),rn.reset(),dn=null,an=null,n()&&Ht()):n()&&Ht()}function Mt(){var e=(0,W["default"])(Kt).getInstance();e.initialize();var t=(0,V["default"])(Kt).getInstance();t.initialize(),(0,S["default"])(Kt).getInstance().setConfig({dashManifestModel:vn}),rn.initialize(),rn.setConfig({errHandler:cn}),pn=(0,K["default"])(Kt).getInstance(),pn.initialize(),pn.setConfig({abrRulesCollection:t,synchronizationRulesCollection:e}),dn=(0,c["default"])(Kt).getInstance(),dn.setConfig({capabilities:fn,manifestLoader:Rt(),manifestModel:(0,M["default"])(Kt).getInstance(),dashManifestModel:vn,protectionController:on,adapter:sn,metricsModel:un,dashMetrics:gn,liveEdgeFinder:(0,v["default"])(Kt).getInstance(),mediaSourceController:(0,X["default"])(Kt).getInstance(),timeSyncController:(0,U["default"])(Kt).getInstance(),baseURLController:(0,J["default"])(Kt).getInstance(),errHandler:cn,timelineConverter:(0,_e["default"])(Kt).getInstance()}),dn.initialize(tn,Jt),nn.setConfig({abrRulesCollection:t,rulesController:pn,streamController:dn})}function Rt(){return(0,h["default"])(Kt).create({errHandler:cn,parser:Dt(),metricsModel:un,requestModifier:(0,C["default"])(Kt).getInstance()})}function Dt(){return(0,pe["default"])(Kt).create()}function Nt(){return sn=(0,fe["default"])(Kt).getInstance(),sn.initialize(),sn.setConfig({dashManifestModel:vn}),sn}function Lt(){if(on)return on;var e=dashjs.Protection;if("function"==typeof e){var t=e(Kt).create();return ie["default"].extend(e.events),ae["default"].extend(e.events,{publicOnly:!0}),on=t.createProtectionSystem({log:Qt,videoModel:mn,capabilities:fn,eventBus:Yt,adapter:sn})}return null}function jt(){if(an)return an;var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(Kt).create();return an=t.createMetricsReporting({log:Qt,eventBus:Yt,mediaElement:St(),dashManifestModel:vn,metricsModel:un})}return null}function Ft(){var e=un.getReadOnlyMetricsFor("video")||un.getReadOnlyMetricsFor("audio");return gn.getCurrentDVRInfo(e)}function Bt(e){var t,n=Ft();return n?(t=n.manifestInfo.availableFrom.getTime()/1e3,e+(t+n.range.start)):0}function Ut(){if(!en)throw Vt;var e=dn.getActiveStreamInfo();return e?dn.getStreamById(e.id):null}function Ht(){en||(en=!0,Qt("Playback Initialized"),Mt(),"string"==typeof $t?dn.load($t):dn.loadWithManifest($t))}var Vt="You must first call play() to init playback before calling this method",zt="You must first call attachView() to set the video element before calling this method",qt="You must first call attachSource() with a valid source before calling this method",Gt="MediaPlayer not initialized!",Kt=this.context,Yt=(0,ne["default"])(Kt).getInstance(),Wt=(0,ee["default"])(Kt).getInstance(),Qt=Wt.log,Xt=void 0,$t=void 0,Jt=void 0,Zt=void 0,en=void 0,tn=void 0,nn=void 0,rn=void 0,on=void 0,an=void 0,sn=void 0,un=void 0,ln=void 0,cn=void 0,fn=void 0,dn=void 0,pn=void 0,hn=void 0,gn=void 0,vn=void 0,mn=void 0,yn=void 0;return Xt={initialize:t,on:B,off:H,extend:j,attachView:Pt,attachSource:At,isReady:n,play:r,isPaused:o,pause:i,isSeeking:s,seek:w,setMute:l,isMuted:f,setVolume:p,getVolume:g,time:P,duration:I,timeAsUTC:A,durationAsUTC:k,getActiveStream:Ut,getDVRWindowSize:_,getDVRSeekOffset:T,convertToTimeCode:N,formatUTC:R,getVersion:z,getDebug:G,getBufferLength:m,getVideoModel:Y,getVideoContainer:Et,getTTMLRenderingDiv:Ct,getVideoElement:St,getSource:xt,setLiveDelayFragmentCount:Q,setLiveDelay:$,useSuggestedPresentationDelay:Z,enableLastBitrateCaching:te,enableLastMediaSettingsCaching:re,setMaxAllowedBitrateFor:oe,getMaxAllowedBitrateFor:se,setMaxAllowedRepresentationRatioFor:ce,getMaxAllowedRepresentationRatioFor:de,setAutoPlay:he,getAutoPlay:ve,setScheduleWhilePaused:ye,getScheduleWhilePaused:be,getDashMetrics:Te,getMetricsFor:Ee,getQualityFor:we,setQualityFor:Se,getLimitBitrateByPortal:Pe,setLimitBitrateByPortal:Ce,getUsePixelRatioInLimitBitrateByPortal:Ie,setUsePixelRatioInLimitBitrateByPortal:xe,setTextTrack:Ae,getBitrateInfoListFor:Oe,setInitialBitrateFor:ke,getInitialBitrateFor:Me,setInitialRepresentationRatioFor:Re,getInitialRepresentationRatioFor:De,getStreamsFromManifest:Ne,getTracksFor:Le,getTracksForTypeFromManifest:je,getCurrentTrackFor:Fe,setInitialMediaSettingsFor:Be,getInitialMediaSettingsFor:Ue,setCurrentTrack:He,getTrackSwitchModeFor:Ve,setTrackSwitchModeFor:ze,setSelectionModeForInitialTrack:qe,getSelectionModeForInitialTrack:Ge,getAutoSwitchQuality:Ke,setAutoSwitchQuality:Ye,setFastSwitchEnabled:Xe,getFastSwitchEnabled:$e,getAutoSwitchQualityFor:We,setAutoSwitchQualityFor:Qe,enableBufferOccupancyABR:Je,setBandwidthSafetyFactor:dt,getBandwidthSafetyFactor:pt,setAbandonLoadTimeout:ht,retrieveManifest:Ze,addUTCTimingSource:et,removeUTCTimingSource:tt,clearDefaultUTCTimingSources:nt,restoreDefaultUTCTimingSources:rt,setBufferToKeep:ot,setBufferPruningInterval:at,setStableBufferTime:st,setBufferTimeAtTopQuality:ut,setFragmentLoaderRetryAttempts:gt,setFragmentLoaderRetryInterval:vt,setXHRWithCredentials:mt,setBufferTimeAtTopQualityLongForm:lt,setLongFormContentDurationThreshold:ct,setRichBufferThreshold:ft,getProtectionController:yt,attachProtectionController:_t,setProtectionData:bt,enableManifestDateHeaderTimeSource:it,displayCaptionsOnTop:Tt,attachVideoContainer:wt,attachTTMLRenderingDiv:It,reset:Ot},e(),Xt}Object.defineProperty(n,"__esModule",{value:!0});var o=e(47),a=r(o),s=e(68),u=r(s),l=e(71),c=r(l),f=e(66),d=r(f),p=e(49),h=r(p),g=e(154),v=r(g),m=e(151),y=r(m),_=e(147),b=r(_),T=e(57),E=r(T),w=e(70),S=r(w),P=e(156),C=r(P),I=e(56),x=r(I),A=e(103),O=r(A),k=e(100),M=r(k),R=e(101),D=r(R),N=e(102),L=r(N),j=e(60),F=r(j),B=e(73),U=r(B),H=e(131),V=r(H),z=e(104),q=r(z),G=e(129),K=r(G),Y=e(144),W=r(Y),Q=e(67),X=r(Q),$=e(61),J=r($),Z=e(8),ee=r(Z),te=e(9),ne=r(te),re=e(13),ie=r(re),oe=e(52),ae=r(oe),se=e(10),ue=r(se),le=e(11),ce=e(15),fe=r(ce),de=e(23),pe=r(de),he=e(22),ge=r(he),ve=e(17),me=r(ve),ye=e(37),_e=r(ye);i.__dashjs_factory_name="MediaPlayer";var be=ue["default"].getClassFactory(i);be.events=ae["default"],n["default"]=be,t.exports=n["default"]},{10:10,100:100,101:101,102:102,103:103,104:104,11:11,129:129,13:13,131:131,144:144,147:147,15:15,151:151,154:154,156:156,17:17,22:22,23:23,37:37,47:47,49:49,52:52,56:56,57:57,60:60,61:61,66:66,67:67,68:68,70:70,71:71,73:73,8:8,9:9}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(14),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.BUFFER_EMPTY="bufferstalled",this.BUFFER_LOADED="bufferloaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.LOG="log",this.MANIFEST_LOADED="manifestloaded",this.METRICS_CHANGED="metricschanged",this.METRIC_CHANGED="metricchanged",this.METRIC_ADDED="metricadded",this.METRIC_UPDATED="metricupdated",this.PERIOD_SWITCH_COMPLETED="streamswitchcompleted",this.PERIOD_SWITCH_STARTED="streamswitchstarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streaminitialized",this.TEXT_TRACKS_ADDED="alltexttracksadded",this.TEXT_TRACK_ADDED="texttrackadded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return o(t,e),t}(u["default"]),c=new l;n["default"]=c,t.exports=n["default"]},{14:14}],53:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t,n){if(!e||"VIDEO"!==e.nodeName)return null;if(e._dashjs_player)return e._dashjs_player;var i,o=e.id||e.name||"video element";if(!(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==r})[0])&&e.src)t=document.createElement("source"),t.src=e.src;else if(!t&&!e.src)return null;return n=n||{},i=(0,s["default"])(n).create(),i.initialize(e,t.src,e.autoplay),i.getDebug().log("Converted "+o+" to dash.js player and added content: "+t.src),e._dashjs_player=i,i}function t(t,i){var o=[];t=t||"[data-dashjs-player]",i=i||document;for(var a=i.querySelectorAll(t),s=0;s<a.length;s++){var u=e(a[s],null);o.push(u)}for(var l=i.querySelectorAll('source[type="'+r+'"]'),s=0;s<l.length;s++){var c=n(l[s]),u=e(c,null);o.push(u)}return o}function n(e){for(var t=!0;t;){var n=e;if(t=!1,"video"===n.nodeName.toLowerCase())return n;e=n.parentNode,t=!0}}var r="application/dash+xml";return{create:e,createAll:t}}function o(){window.removeEventListener("load",o),u.createAll()}Object.defineProperty(n,"__esModule",{value:!0});var a=e(51),s=r(a),u=i();!(window&&window.dashjs&&window.dashjs.skipAutoCreate)&&window&&window.addEventListener&&("complete"===window.document.readyState?u.createAll():window.addEventListener("load",o)),n["default"]=u,t.exports=n["default"]},{51:51}],54:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){le=[],ce=!1,fe=!1,de=null,pe={},he=!1,ge=!1,me=(0,a["default"])(J).getInstance(),ye=(0,E["default"])(J).getInstance(),Ee=(0,v["default"])(J).getInstance(),_e=(0,c["default"])(J).getInstance(),be=(0,h["default"])(J).create(),we=(0,U["default"])(J).getInstance(),ee.on(D["default"].BUFFERING_COMPLETED,K,ue),ee.on(D["default"].DATA_UPDATE_COMPLETED,Y,ue)}function n(e,t){de=e,(ve=t)&&(ee.on(D["default"].KEY_ERROR,A,ue),ee.on(D["default"].SERVER_CERTIFICATE_UPDATED,A,ue),ee.on(D["default"].LICENSE_REQUEST_COMPLETE,A,ue),ee.on(D["default"].KEY_SYSTEM_SELECTED,A,ue),ee.on(D["default"].KEY_SESSION_CREATED,A,ue))}function r(e){ce?G():(ee.on(D["default"].CURRENT_TRACK_CHANGED,N,ue),V(e))}function i(){for(var e=le.length,t=0;t<e;t++)le[t].reset();le=[],ce=!1,fe=!1,w(),ee.off(D["default"].CURRENT_TRACK_CHANGED,N,ue)}function o(){ye&&(ye.pause(),ye=null),be&&(be.reset(),be=null),me.abortSearch(),i(),_e=null,Ee=null,ne=null,te=null,re=null,ie=null,Z=null,oe=null,he=!1,ge=!1,pe={},ee.off(D["default"].DATA_UPDATE_COMPLETED,Y,ue),ee.off(D["default"].BUFFERING_COMPLETED,K,ue),ee.off(D["default"].KEY_ERROR,A,ue),ee.off(D["default"].SERVER_CERTIFICATE_UPDATED,A,ue),ee.off(D["default"].LICENSE_REQUEST_COMPLETE,A,ue),ee.off(D["default"].KEY_SYSTEM_SELECTED,A,ue),ee.off(D["default"].KEY_SESSION_CREATED,A,ue)}function s(){return de.duration}function l(){return de.start}function f(){return de.index}function p(){return de.id}function g(){return de}function m(e){return null!==q(e)}function _(e){var t=q(e);return Ee.getBitrateList(t)}function T(){Te&&Te.start()}function w(){Te&&Te.clear()}function P(){return ce}function I(){return ge}function A(e){e.error&&(oe.mediaKeySessionError(e.error),Z(e.error),o())}function k(e){return"text"===e.type?e.mimeType:e.type}function R(e,t,n){var r,i,o=e.type;if("muxed"===o&&e)return i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines",Z(i),oe.manifestError(i,"multiplexedrep",te.getValue()),!1;if("text"===o||"fragmentedText"===o||"embeddedText"===o)return!0;if(r=e.codec,Z(o+" codec: "+r),e.contentProtection&&!ie.supportsEncryptedMedia())oe.capabilityError("encryptedmedia");else if(!ie.supportsCodec((0,y["default"])(J).getInstance().getElement(),r))return i=o+"Codec ("+r+") is not supported.",oe.manifestError(i,"codec",n),Z(i),!1;return!0}function N(e){if(e.newMediaInfo.streamInfo.id===de.id){var t=W(e.oldMediaInfo);if(t){var n=ye.getTime(),r=t.getBuffer(),i=e.newMediaInfo,o=te.getValue(),a=le.indexOf(t),s=t.getMediaSource();"fragmentedText"!==i.type?(t.reset(!0),B(i,o,s,{buffer:r,replaceIdx:a,currentTime:n}),ye.seek(ye.getTime())):t.updateMediaInfo(o,i)}}}function j(e){return"webm"===e.split("/")[1].toLowerCase()}function F(e){var t=j(e.mimeType)?(0,x["default"])(J).getInstance():(0,C["default"])(J).getInstance();return t.setConfig({baseURLController:se,metricsModel:(0,b["default"])(J).getInstance()}),t.initialize(),(0,S["default"])(J).create({segmentBaseLoader:t,timelineConverter:ae,dashMetrics:(0,O["default"])(J).getInstance(),metricsModel:(0,b["default"])(J).getInstance(),baseURLController:se})}function B(e,t,n,r){var i=(0,u["default"])(J).create({indexHandler:F(e),timelineConverter:ae,adapter:re,manifestModel:te}),o=re.getAllMediaInfoForType(t,de,e.type);if(i.initialize(k(e),be,n,ue,Te),Ee.updateTopQualityIndex(e),r?(i.setBuffer(r.buffer),i.getIndexHandler().setCurrentTime(r.currentTime),le[r.replaceIdx]=i):le.push(i),"text"===e.type||"fragmentedText"===e.type){for(var a,s=0;s<o.length;s++)o[s].index===e.index&&(a=s),i.updateMediaInfo(t,o[s]);"fragmentedText"===e.type&&i.updateMediaInfo(t,o[a])}else i.updateMediaInfo(t,e);return i}function H(e,t){var n,r=te.getValue(),i=re.getAllMediaInfoForType(r,de,e),o=null;if(!i||0===i.length)return void Z("No "+e+" data.");for(var a=0,s=i.length;a<s;a++)if(o=i[a],"embeddedText"===e)we.addEmbeddedTrack(o);else{if(!R(o,t,r))continue;_e.isMultiTrackSupportedByType(o.type)&&_e.addTrack(o,de)}"embeddedText"!==e&&0!==_e.getTracksFor(e,de).length&&(_e.checkInitialMediaSettingsForType(e,de),n=_e.getCurrentTrackFor(e,de),B(n,r,t))}function V(e){var t,n=te.getValue();if(Te=(0,d["default"])(J).getInstance(),Te.initialize(),Te.setConfig({manifestModel:te,manifestUpdater:ne}),t=re.getEventsFor(n,de),Te.addInlineEvents(t),he=!0,H("video",e),H("audio",e),H("text",e),H("fragmentedText",e),H("embeddedText",e),H("muxed",e),G(),fe=!0,he=!1,0===le.length){var r="No streams to play."
;oe.manifestError(r,"nostreams",n),Z(r)}else me.initialize(ae,le[0]),z()}function z(){var e=le.length,t=!!pe.audio||!!pe.video,n=t?new Error($,"Data update failed",null):null,r=0;for(r;r<e;r++)if(le[r].isUpdating()||he)return;ge=!0,ce=!0,fe&&(ve&&ve.initialize(te.getValue(),q("audio"),q("video")),ee.trigger(D["default"].STREAM_INITIALIZED,{streamInfo:de,error:n}))}function q(e){for(var t=le.length,n=null,r=0;r<t;r++)if(n=le[r],n.getType()===e)return n.getMediaInfo();return null}function G(){for(var e=0,t=le.length;e<t;e++)le[e].createBuffer()}function K(e){if(e.streamInfo===de){var t=Q(),n=t.length,r=0;for(r;r<n;r++)if(!t[r].isBufferingCompleted())return;ee.trigger(D["default"].STREAM_BUFFERING_COMPLETED,{streamInfo:de})}}function Y(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===de&&(pe[t.getType()]=e.error,z())}function W(e){return!!e&&Q().filter(function(t){return t.getType()===e.type})[0]}function Q(){var e,t,n=le.length,r=[],i=0;for(i;i<n;i++)t=le[i],"audio"!==(e=t.getType())&&"video"!==e&&"fragmentedText"!==e||r.push(t);return r}function X(e){Z("Manifest updated... updating data system wide.");var t=te.getValue();if(ce=!1,he=!0,ge=!1,de=e,Te){var n=re.getEventsFor(t,de);Te.addInlineEvents(n)}for(var r=0,i=le.length;r<i;r++){var o=le[r],a=re.getMediaInfoForType(t,de,o.getType());Ee.updateTopQualityIndex(a),o.updateMediaInfo(t,a)}he=!1,z()}var $=1,J=this.context,Z=(0,L["default"])(J).getInstance().log,ee=(0,M["default"])(J).getInstance(),te=e.manifestModel,ne=e.manifestUpdater,re=e.adapter,ie=e.capabilities,oe=e.errHandler,ae=e.timelineConverter,se=e.baseURLController,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,we=void 0;return ue={initialize:n,activate:r,deactivate:i,getDuration:s,getStartTime:l,getStreamIndex:f,getId:p,getStreamInfo:g,hasMedia:m,getBitrateListFor:_,startEventController:T,isActivated:P,isInitialized:I,updateData:X,reset:o,getProcessors:Q},t(),ue}Object.defineProperty(n,"__esModule",{value:!0});var o=e(154),a=r(o),s=e(55),u=r(s),l=e(66),c=r(l),f=e(64),d=r(f),p=e(65),h=r(p),g=e(60),v=r(g),m=e(104),y=r(m),_=e(102),b=r(_),T=e(68),E=r(T),w=e(16),S=r(w),P=e(18),C=r(P),I=e(19),x=r(I),A=e(17),O=r(A),k=e(9),M=r(k),R=e(13),D=r(R),N=e(8),L=r(N),j=e(10),F=r(j),B=e(56),U=r(B);i.__dashjs_factory_name="Stream",n["default"]=F["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,104:104,13:13,154:154,16:16,17:17,18:18,19:19,55:55,56:56,60:60,64:64,65:65,66:66,68:68,8:8,9:9}],55:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){ne=[]}function n(e,t,n,r,i){te=e,re=r,ie=i,le=t,Z=re.getStreamInfo().manifestInfo.isDynamic,W.initialize(this),oe=(0,a["default"])(Y).getInstance(),oe.initialize(te,this),ae=K(e),se=(0,v["default"])(Y).create({metricsModel:(0,E["default"])(Y).getInstance(),manifestModel:$,adapter:X,dashMetrics:(0,D["default"])(Y).getInstance(),dashManifestModel:(0,M["default"])(Y).getInstance(),timelineConverter:Q,rulesController:(0,y["default"])(Y).getInstance(),mediaPlayerModel:(0,b["default"])(Y).getInstance()}),ae.initialize(te,n,this),se.initialize(te,this),ce=(0,S["default"])(Y).create({metricsModel:(0,E["default"])(Y).getInstance(),errHandler:(0,F["default"])(Y).getInstance(),requestModifier:(0,C["default"])(Y).getInstance()}),fe=se.getFragmentModel(),fe.setLoader(ce),ue=(0,L["default"])(Y).create(),ue.initialize(this)}function r(e){W.reset(),ae&&(ae.reset(e),ae=null),se&&(se.reset(),se=null),ue&&(ue.reset(),ue=null),le=null,ce=null,ie=null,re=null,Z=null,ee=null,ne=[],te=null}function i(){return ue.isUpdating()}function o(){return te}function s(){return oe}function l(){return ue}function f(){return ce}function p(){return W}function g(){return le}function m(){return ae.getBuffer()}function _(e){ae.setBuffer(e)}function T(){return ae}function w(){return fe}function P(){return re.getStreamInfo()}function I(e,t){t===ee||t&&ee&&t.type!==ee.type||(ee=t),-1===ne.indexOf(t)&&ne.push(t),X.updateData(e,this)}function A(){return ne}function k(){return ee}function R(){return ae.getMediaSource()}function N(){return se}function j(){return ie}function B(){se.start()}function U(){se.stop()}function H(){return X.getCurrentRepresentationInfo($.getValue(),ue)}function V(e){return X.getRepresentationInfoForQuality($.getValue(),ue,e)}function z(){return ae.getIsBufferingCompleted()}function q(){return ae.getBuffer()||ae.createBuffer(ee)}function G(){return Z}function K(e){return"video"===e||"audio"===e||"fragmentedText"===e?(0,u["default"])(Y).create({metricsModel:(0,E["default"])(Y).getInstance(),manifestModel:$,sourceBufferController:(0,x["default"])(Y).getInstance(),errHandler:(0,F["default"])(Y).getInstance(),streamController:(0,c["default"])(Y).getInstance(),mediaController:(0,d["default"])(Y).getInstance(),adapter:X,textSourceBuffer:(0,O["default"])(Y).getInstance()}):(0,h["default"])(Y).create({errHandler:(0,F["default"])(Y).getInstance(),sourceBufferController:(0,x["default"])(Y).getInstance()})}var Y=this.context,W=e.indexHandler,Q=e.timelineConverter,X=e.adapter,$=e.manifestModel,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0;return J={initialize:n,isUpdating:i,getType:o,getBufferController:T,getABRController:s,getFragmentLoader:f,getFragmentModel:w,getScheduleController:N,getEventController:j,getFragmentController:g,getRepresentationController:l,getIndexHandler:p,getCurrentRepresentationInfo:H,getRepresentationInfoForQuality:V,isBufferingCompleted:z,createBuffer:q,getStreamInfo:P,updateMediaInfo:I,getMediaInfoArr:A,getMediaInfo:k,getMediaSource:R,getBuffer:m,setBuffer:_,start:B,stop:U,isDynamic:G,reset:r},t(),J}Object.defineProperty(n,"__esModule",{value:!0});var o=e(60),a=r(o),s=e(63),u=r(s),l=e(71),c=r(l),f=e(66),d=r(f),p=e(72),h=r(p),g=e(69),v=r(g),m=e(129),y=r(m),_=e(101),b=r(_),T=e(102),E=r(T),w=e(48),S=r(w),P=e(156),C=r(P),I=e(70),x=r(I),A=e(56),O=r(A),k=e(22),M=r(k),R=e(17),D=r(R),N=e(21),L=r(N),j=e(151),F=r(j),B=e(10),U=r(B);i.__dashjs_factory_name="StreamProcessor",n["default"]=U["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,102:102,129:129,151:151,156:156,17:17,21:21,22:22,48:48,56:56,60:60,63:63,66:66,69:69,70:70,71:71,72:72}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,n){j=!1,F=null,G=null,K=!1,Y=NaN,W=[],$=null,O||t();var r=n.getStreamProcessor();if(V=r.getMediaInfoArr(),z.setConfig({videoModel:Q}),z.initialize(),q=!N.getIsTextTrack(e),M=(0,c["default"])(x).getInstance(),H=(0,u["default"])(x).getInstance(),H.setConfig({boxParser:M}),q){G=r.getFragmentModel(),this.buffered=(0,d["default"])(x).create(),W=L.getTracksFor("fragmentedText",X.getActiveStreamInfo());for(var i=L.getCurrentTrackFor("fragmentedText",X.getActiveStreamInfo()),o=0;o<W.length;o++)if(W[o]===i){J=o;break}}}function t(){Z=[],V=[],Q=(0,y["default"])(x).getInstance(),z=(0,b["default"])(x).getInstance(),z.setConfig({videoModel:Q}),z.initialize(),M=(0,c["default"])(x).getInstance(),H=(0,u["default"])(x).getInstance(),H.setConfig({boxParser:M}),q=!1,J=null,ee=!1,te=0,ie=[],re=[],ne=null,O=!0}function n(e,t){function n(e,t){var n=new a["default"],r={subtitle:"subtitles",caption:"captions"},i=function(){var e=t.roles.length>0?r[t.roles[0]]:r.caption;return e=e===r.caption||e===r.subtitle?e:r.caption},o=function(){var e=!1;return t.codec&&t.codec.search("stpp")>=0&&(e=!0),t.mimeType&&t.mimeType.search("ttml")>=0&&(e=!0),e};n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=o(),n.video=Q.getElement(),n.defaultTrack=C(t),n.isFragmented=q,n.isEmbedded=!!t.isEmbedded,n.kind=i();var s=(V?V.length:0)+Z.length;z.addTextTrack(n,s)}var i,o,s,u,l,c=t.mediaInfo,f=c.type,d=c.mimeType,p=c.codec||d;if(!p)return void A("No text type defined");if("fragmentedText"===f)if(K)if(u=H.getSamplesInfo(e),o=u.sampleList,!$&&o.length>0&&($=o[0].cts-t.start*Y),p.search("stpp")>=0)for(F=null!==F?F:I(p),s=0;s<o.length;s++){var g=o[s],v=g.cts,m=v-$;this.buffered.add(m/Y,(m+g.duration)/Y);var y=new DataView(e,g.offset,g.size);l=E["default"].Utils.dataViewToString(y,"utf-8");try{i=F.parse(l,v/Y,(v+g.duration)/Y),z.addCaptions(J,$/Y,i)}catch(e){A("TTML parser error: "+e.message)}}else{var _=[];for(s=0;s<o.length;s++){var b=o[s];b.cts-=$,this.buffered.add(b.cts/Y,(b.cts+b.duration)/Y);for(var T=e.slice(b.offset,b.offset+b.size),w=E["default"].parseBuffer(T),P=0;P<w.boxes.length;P++){var x=w.boxes[P];if(A("VTT box1: "+x.type),"vtte"!==x.type&&"vttc"===x.type){A("VTT vttc boxes.length = "+x.boxes.length);for(var O=0;O<x.boxes.length;O++){var k=x.boxes[O];if(A("VTT box2: "+k.type),"payl"===k.type){var M=k.cue_text;A("VTT cue_text = "+M);var D=b.cts/Y,N=(b.cts+b.duration)/Y;_.push({start:D,end:N,data:M,styles:{}}),A("VTT "+D+"-"+N+" : "+M)}}}}}_.length>0&&z.addCaptions(J,0,_)}else{for(K=!0,s=0;s<V.length;s++)n(null,V[s]);Y=H.getMediaTimescaleFromMoov(e)}else if("text"===f){var y=new DataView(e,0,e.byteLength);l=E["default"].Utils.dataViewToString(y,"utf-8");try{i=I(p).parse(l),n(i,c)}catch(e){R.timedTextError(e,"parse",l)}}else if("video"===f)if("InitializationSegment"===t.segmentType){if(0===te)for(te=H.getMediaTimescaleFromMoov(e),s=0;s<Z.length;s++)n(null,Z[s])}else{if(0===te)return void A("CEA-608: No timescale for embeddedTextTrack yet");var L=function(e,t){function n(e,n,r){var i=null;if(Q.getTTMLRenderingDiv())i=h(Q.getElement(),e,n,r);else{i=[{start:e,end:n,data:r.getDisplayText(),styles:{}}]}i&&z.addCaptions(t,0,i)}return n};u=H.getSamplesInfo(e);var j=u.sequenceNumber;if(!ie[0]&&!ie[1]){var B=void 0,U=void 0;for(s=0;s<Z.length;s++){if("CC1"===Z[s].id?(0,U=z.getTrackIdxForId("CC1")):"CC3"===Z[s].id&&(1,U=z.getTrackIdxForId("CC3")),-1===U)return void A("CEA-608: data before track is ready.");B=L(this,U),ie[s]=new S["default"].Cea608Parser(s,{newCue:B},null)}}if(te&&-1==re.indexOf(j)){if(null!==ne&&j!==ne+1)for(s=0;s<ie.length;s++)ie[s]&&ie[s].reset();for(var G=r(e),W=0;W<ie.length;W++){var X=G.fields[W],ee=ie[W];if(ee){for(s=0;s<X.length;s++)ee.addData(X[s][0]/te,X[s][1]);G.endTime&&ee.cueSplitAtTime(G.endTime/te)}}ne=j,re.push(j)}}}function r(e){var t=function(e,t,n){var r=e.length;if(r>0){if(t>=e[r-1][0])e.push([t,n]);else for(var i=r-1;i>=0;i--)if(t<e[i][0]){e.splice(i,0,[t,n]);break}}else e.push([t,n])},n=M.parse(e),r=n.getBox("moof"),i=n.getBox("tfdt"),o=n.getBoxes("trun"),a=null;if(0===o.length)return null;a=o[0],o.length>1&&A("Warning: Too many truns");for(var s=r.offset+a.data_offset,u=a.sample_count,l=s,c=i.baseMediaDecodeTime,f=new DataView(e),d={startTime:null,endTime:null,fields:[[],[]]},p=0,h=0;h<u;h++){for(var g=a.samples[h],v=c+p+g.sample_composition_time_offset,m=S["default"].findCea608Nalus(f,l,g.sample_size),y=0;y<m.length;y++)for(var _=S["default"].extractCea608DataFromRange(f,m[y]),b=0;b<2;b++)_[b].length>0&&t(d.fields[b],v,_[b]);p+=g.sample_duration,l+=g.sample_size}var T=c+p;return d.startTime=c,d.endTime=T,d}function i(e){for(var t="",n=0;n<e.length;++n){t+=e[n].uchar}return t.length-t.replace(/^\s+/,"").length}function o(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function s(e){return"red"==e?"rgb(255, 0, 0)":"green"==e?"rgb(0, 255, 0)":"blue"==e?"rgb(0, 0, 255)":"cyan"==e?"rgb(0, 255, 255)":"magenta"==e?"rgb(255, 0, 255)":"yellow"==e?"rgb(255, 255, 0)":"white"==e?"rgb(255, 255, 255)":"black"==e?"rgb(0, 0, 0)":e}function l(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?s(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?s(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function f(e){return e.replace(/^\s+/g,"")}function p(e){return e.replace(/\s+$/g,"")}function h(e,t,n,r){var a=null,s=null,u=!1,c=-1,d={start:t,end:n,spans:[]},h="style_cea608_white_black",g={},v={},m=[],y=void 0,_=void 0;for(y=0;y<15;++y){var b=r.rows[y],T="",E=null;if(!1===b.isEmpty()){var w=i(b.chars);null===a&&(a={x:w,y1:y,y2:y+1,p:[]}),w!==c&&u&&(a.p.push(d),d={start:t,end:n,spans:[]},a.y2=y,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===g.hasOwnProperty(a.name)?(m.push(a),g[a.name]=a):(s=g[a.name],s.p.contat(a.p)),a={x:w,y1:y,y2:y+1,p:[]});for(var S=0;S<b.chars.length;++S){var P=b.chars[S],C=P.penState;if(null===E||!C.equals(E)){T.trim().length>0&&(d.spans.push({name:h,line:T,row:y}),T="");var I="style_cea608_"+C.foreground+"_"+C.background;C.underline&&(I+="_underline"),C.italics&&(I+="_italics"),v.hasOwnProperty(I)||(v[I]=JSON.parse(JSON.stringify(C))),E=C,h=I}T+=P.uchar}T.trim().length>0&&d.spans.push({name:h,line:T,row:y}),u=!0,c=w}else u=!1,c=-1,a&&(a.p.push(d),d={start:t,end:n,spans:[]},a.y2=y,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===g.hasOwnProperty(a.name)?(m.push(a),g[a.name]=a):(s=g[a.name],s.p.contat(a.p)),a=null)}a&&(a.p.push(d),a.y2=y+1,a.name="region_"+a.x+"_"+a.y1+"_"+a.y2,!1===g.hasOwnProperty(a.name)?(m.push(a),g[a.name]=a):(s=g[a.name],s.p.contat(a.p)),a=null);var x=[];for(y=0;y<m.length;++y){var A=m[y],O="sub_cea608_"+k++,M=document.createElement("div");M.id=O;var R=o(A);M.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+R;var D=document.createElement("div");D.className="paragraph bodyStyle",D.style.cssText=l(e);var N=document.createElement("div");N.className="cueUniWrapper",N.style.cssText="unicode-bidi: normal; direction: ltr;";for(var L=0;L<A.p.length;++L){var j=A.p[L],F=0;for(_=0;_<j.spans.length;++_){var B=j.spans[_];if(B.line.length>0){if(0!==_&&F!=B.row){var U=document.createElement("br");U.className="lineBreak",N.appendChild(U)}var H=!1;F===B.row&&(H=!0),F=B.row;var V=v[B.name],z=document.createElement("span");z.className="spanPadding "+B.name+" customSpanColor",z.style.cssText=l(e,V),0!==_&&H?_===j.spans.length-1?z.textContent=p(B.line):z.textContent=B.line:0===_&&j.spans.length>1&&B.row===j.spans[1].row?z.textContent=f(B.line):z.textContent=B.line.trim(),N.appendChild(z)}}}D.appendChild(N),M.appendChild(D);var q={bodyStyle:90};for(_ in v)v.hasOwnProperty(_)&&(q[_]=90);x.push({type:"html",start:t,end:n,cueHTMLElement:M,cueID:O,cellResolution:[32,15],isFromCEA608:!0,regions:m,regionID:A.name,videoHeight:e.videoHeight,videoWidth:e.videoWidth,fontSize:q||{defaultFontSize:"100"},lineHeight:{},linePadding:{}})}return x}function g(){z.deleteAllTextTracks(),j=!1,F=null,H=null,V=null,z=null,q=!1,G=null,K=!1,Y=NaN,W=[],Q=null,X=null,O=!1,Z=null}function m(e){O||t(),"CC1"===e.id||"CC3"===e.id?Z.push(e):A("Warning: Embedded track "+e.id+" not supported!")}function _(){O=!1,Z=[],ie=[null,null],re=[],ne=null}function T(){return j}function w(e){e&&(e.errHandler&&(R=e.errHandler),e.adapter&&(D=e.adapter),e.dashManifestModel&&(N=e.dashManifestModel),e.mediaController&&(L=e.mediaController),e.videoModel&&(Q=e.videoModel),e.streamController&&(X=e.streamController),e.textTracks&&(z=e.textTracks),e.VTTParser&&(B=e.VTTParser),e.TTMLParser&&(U=e.TTMLParser))}function P(){for(var e=Q.getElement(),t=e.textTracks,n=t.length,r=n-Z.length,i=z.getCurrentTrackIdx(),o=0;o<n;o++){var a=t[o];if(j="showing"!==a.mode,"showing"===a.mode){if(i!==o&&(z.setCurrentTrackIdx(o),z.addCaptions(o,0,null),q&&o<r)){var s=L.getCurrentTrackFor("fragmentedText",X.getActiveStreamInfo()),u=W[o];u!==s&&(G.abortRequests(),z.deleteTrackCues(s),L.setTrack(u),J=o)}break}}j&&z.setCurrentTrackIdx(-1)}function C(e){var t=!1;return Z.length>1?t=e.id&&"CC1"===e.id:1===Z.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):t=e.index===V[0].index,t}function I(e){var t;return e.search("vtt")>=0?t=B:(e.search("ttml")>=0||e.search("stpp")>=0)&&(t=U,t.setConfig({videoModel:Q})),t}var x=this.context,A=(0,v["default"])(x).getInstance().log,O=!1,k=0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0;return{initialize:e,append:n,abort:g,getAllTracksAreDisabled:T,setTextTrack:P,setConfig:w,addEmbeddedTrack:m,resetEmbedded:_}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(171),a=r(o),s=e(32),u=r(s),l=e(146),c=r(l),f=e(148),d=r(f),p=e(10),h=r(p),g=e(8),v=r(g),m=e(104),y=r(m),_=e(57),b=r(_),T=e(6),E=r(T),w=e(2),S=r(w);i.__dashjs_factory_name="TextSourceBuffer",n["default"]=h["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,104:104,146:146,148:148,171:171,2:2,32:32,57:57,6:6,8:8}],57:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){x=window.VTTCue||window.TextTrackCue,k=[],M=[],R=-1,D=0,N=0,L=0,j=0,F=null,B=null,V=!1,z=2147483647,U=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?H="fullscreenElement":void 0!==document.webkitIsFullScreen?H="webkitIsFullScreen":document.msFullscreenElement?H="msFullscreenElement":document.mozFullScreen&&(H="mozFullScreen")}function t(e){var t=k[e].kind,n=void 0!==k[e].label?k[e].label:k[e].lang,r=k[e].lang,i=U?document.createElement("track"):O.addTextTrack(t,n,r);return U&&(i.kind=t,i.label=n,i.srclang=r),i}function n(e){V=e,F&&!document[H]&&(F.style.zIndex=e?z:null)}function r(e,n){if(k.length===n)return void I("Trying to add too many tracks.");if(k.push(e),void 0===O&&(O=e.video),k.length===n){k.sort(function(e,t){return e.index-t.index}),F=A.getTTMLRenderingDiv();for(var r=-1,i=0;i<k.length;i++){var o=t.call(this,i);M.push(o),k[i].defaultTrack&&(o["default"]=!0,r=i),U&&O.appendChild(o);var a=O.textTracks[i];a.nonAddedCues=[],F&&(k[i].isTTML||k[i].isEmbedded)?a.renderingType="html":a.renderingType="default",this.addCaptions(i,0,k[i].captionData),C.trigger(u["default"].TEXT_TRACK_ADDED)}v.call(this,r),r>=0&&(O.textTracks[r].mode="showing",this.addCaptions(r,0,null)),C.trigger(u["default"].TEXT_TRACKS_ADDED,{index:R,tracks:k})}}function i(e,t,n,r,i,o){var a=e/t,s=n/r,u=0,l=0;a>s?(l=t,u=l/r*n):(u=e,l=u/n*r);var c=0,f=0,d=0,p=0;return u/l>i?(p=l,d=l/(1/i),c=(e-d)/2,f=0):(d=u,p=u/i,c=0,f=(t-p)/2),o?{x:c+.1*d,y:f+.1*p,w:.8*d,h:.8*p}:{x:c,y:f,w:d,h:p}}function o(){var e=this.getCurrentTextTrack();if(e&&"html"===e.renderingType){var t=O.clientWidth/O.clientHeight,n=!1;e.isFromCEA608&&(t=3.5/3,n=!0);var r=i.call(this,O.clientWidth,O.clientHeight,O.videoWidth,O.videoHeight,t,n),o=r.w,a=r.h;if(o!=L||a!=j){D=r.x,N=r.y,L=o,j=a,F.style.left=D+"px",F.style.top=N+"px",F.style.width=L+"px",F.style.height=j+"px";for(var s=0;e.activeCues&&s<e.activeCues.length;++s){var u=e.activeCues[s];u.scaleCue(u)}H&&document[H]||V?F.style.zIndex=z:F.style.zIndex=null}}}function s(e,t){return Math.round(.01*e*t).toString()+"px"}function l(e){var t=L,n=j;if(t*n!=0&&e.layout){var r=e.layout,i=s(r.left,t),o=s(r.top,n),a=s(r.width,t),u=s(r.height,n);F.style.left=i,F.style.top=o,F.style.width=a,F.style.height=u;var l=F.firstChild;l&&l.style&&(l.style.left="0px",l.style.top="0px",l.style.width=a,l.style.height=u)}}function c(e){var t,n,r,i=L,o=j,a=[i/e.cellResolution[0],o/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){var s=e.linePadding[t];n=(s*a[0]).toString();for(var u=document.getElementsByClassName("spanPadding"),l=0;l<u.length;l++)u[l].style.cssText=u[l].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n),u[l].style.cssText=u[l].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.fontSize)for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){var c=e.fontSize[t]/100;n=(c*a[1]).toString(),r="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var f=0;f<r.length;f++)r[f].style.cssText=r[f].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){var d=e.lineHeight[t]/100;n=(d*a[1]).toString(),r=document.getElementsByClassName(t);for(var p=0;p<r.length;p++)r[p].style.cssText=r[p].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}}function f(e,t,n){var r=e>=0?O.textTracks[e]:null,i=this;if(r){if("showing"!==r.mode)return void(n&&n.length>0&&(r.nonAddedCues=r.nonAddedCues.concat(n)));if(n||(n=r.nonAddedCues,r.nonAddedCues=[]),n&&0!==n.length)for(var a in n){var s,u=n[a];r.cellResolution=u.cellResolution,r.isFromCEA608=u.isFromCEA608,B||"html"!==u.type&&"image"!==u.type||(B=setInterval(o.bind(this),500)),"image"===u.type?(s=new x(u.start-t,u.end-t,""),s.image=u.data,s.id=u.id,s.size=0,s.type="image",s.layout=u.layout,s.scaleCue=l.bind(i),s.onenter=function(){if(F&&"showing"===r.mode){var e=new Image;e.id="ttmlImage_"+this.id,e.src=this.image,e.style.cssText="z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;",F.appendChild(e),l.call(i,this)}},s.onexit=function(){if(F)for(var e=F.childNodes,t=0;t<e.length;t++)e[t].id==="ttmlImage_"+this.id&&F.removeChild(e[t])}):"html"===u.type?(s=new x(u.start-t,u.end-t,""),s.cueHTMLElement=u.cueHTMLElement,s.regions=u.regions,s.regionID=u.regionID,s.cueID=u.cueID,s.videoWidth=u.videoWidth,s.videoHeight=u.videoHeight,s.cellResolution=u.cellResolution,s.fontSize=u.fontSize,s.lineHeight=u.lineHeight,s.linePadding=u.linePadding,s.scaleCue=c.bind(i),F.style.left=D+"px",F.style.top=N+"px",F.style.width=L+"px",F.style.height=j+"px",s.onenter=function(){"showing"===r.mode&&(I("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText),F.appendChild(this.cueHTMLElement),c.call(i,this))},s.onexit=function(){for(var e=F.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&F.removeChild(e[t])}):(s=new x(u.start-t,u.end-t,u.data),u.styles&&(void 0!==u.styles.align&&s.hasOwnProperty("align")&&(s.align=u.styles.align),void 0!==u.styles.line&&s.hasOwnProperty("line")&&(s.line=u.styles.line),void 0!==u.styles.position&&s.hasOwnProperty("position")&&(s.position=u.styles.position),void 0!==u.styles.size&&s.hasOwnProperty("size")&&(s.size=u.styles.size))),r.addCue(s)}}}function p(){return R>=0?O.textTracks[R]:null}function h(){return R}function g(e){for(var t=-1,n=0;n<O.textTracks.length;n++)if(O.textTracks[n].label===e){t=n;break}return t}function v(e){if(R=e,w.call(this),e>=0){"html"===O.textTracks[e].renderingType?T.call(this):E.call(this)}else E.call(this)}function m(e){return O.textTracks[e]}function y(e){if(e.cues){for(var t=e.cues,n=t.length-1,r=n;r>=0;r--)e.removeCue(t[r]);e.mode="disabled"}}function _(){for(var e=M.length,t=0;t<e;t++)if(U)O.removeChild(M[t]);else{var n=m.call(this,t);n.nonAddedCues=[],y.call(this,n)}M=[],k=[],B&&(clearInterval(B),B=null),w.call(this)}function b(e){O.removeChild(M[e]),M.splice(e,1)}function T(){if(U){var e=document.getElementById("native-cue-style");if(!e){e=document.createElement("style"),e.id="native-cue-style",document.head.appendChild(e);var t=e.sheet;O.id?t.insertRule("#"+O.id+"::cue {background: transparent}",0):0!==O.classList.length?t.insertRule("."+O.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0)}}}function E(){if(U){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}}function w(){if(F)for(;F.firstChild;)F.removeChild(F.firstChild)}function S(e){e&&e.videoModel&&(A=e.videoModel)}var P=this.context,C=(0,a["default"])(P).getInstance(),I=(0,d["default"])(P).getInstance().log,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0;return{initialize:e,displayCConTop:n,addTextTrack:r,addCaptions:f,getTextTrack:m,getCurrentTextTrack:p,getCurrentTrackIdx:h,setCurrentTrackIdx:v,getTrackIdxForId:g,deleteTrackCues:y,deleteAllTextTracks:_,deleteTextTrack:b,setConfig:S}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(10),c=r(l),f=e(8),d=r(f);i.__dashjs_factory_name="TextTracks",n["default"]=c["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,8:8,9:9}],58:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){function t(){var e;g=[],v=[],m=[],e={},i(e,a.HTTPRequest.MPD_TYPE,d["default"].DOWNLOAD_ERROR_ID_MANIFEST),i(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,d["default"].DOWNLOAD_ERROR_ID_XLINK),i(e,a.HTTPRequest.INIT_SEGMENT_TYPE,d["default"].DOWNLOAD_ERROR_ID_INITIALIZATION),i(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,d["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,d["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,d["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.OTHER_TYPE,d["default"].DOWNLOAD_ERROR_ID_CONTENT),y=e}function n(e,t){var r=e.request,i=new XMLHttpRequest,o=[],a=!0,s=!0,c=new Date,d=c,h=0,_=function(e){s=!1,r.requestStartDate=c,r.requestEndDate=new Date,r.firstByteDate=r.firstByteDate||c,r.checkExistenceOnly||f.addHttpRequest(r.mediaType,null,r.type,r.url,i.responseURL||null,r.serviceLocation||null,r.range||null,r.requestStartDate,r.firstByteDate,r.requestEndDate,i.status,r.duration,i.getAllResponseHeaders(),e?o:null)},b=function(){-1!==g.indexOf(i)&&(g.splice(g.indexOf(i),1),s&&(_(!1),t>0?(t--,m.push(setTimeout(function(){n(e,t)},u.getRetryIntervalForType(r.type)))):(l.downloadError(y[r.type],r.url,r),e.error&&e.error(r,"error",i.statusText),e.complete&&e.complete(r,i.statusText))))},T=function(t){var n=new Date;a&&(a=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(r.firstByteDate=n)),t.lengthComputable&&(r.bytesLoaded=t.loaded,r.bytesTotal=t.total),o.push({s:d,d:n.getTime()-d.getTime(),b:[t.loaded?t.loaded-h:0]}),d=n,h=t.loaded,e.progress&&e.progress()},E=function(){i.status>=200&&i.status<=299&&(_(!0),e.success&&e.success(i.response,i.statusText,i),e.complete&&e.complete(r,i.statusText))};try{var w=p.modifyRequestURL(r.url),S=r.checkExistenceOnly?"HEAD":"GET";i.open(S,w,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=c),i=p.modifyRequestHeader(i),i.withCredentials=u.getXHRWithCredentials(),i.onload=E,i.onloadend=b,i.onerror=b,i.onprogress=T;var P=(new Date).getTime();isNaN(r.delayLoadingTime)||P>=r.delayLoadingTime?(g.push(i),i.send()):function(){var e={xhr:i};v.push(e),e.delayTimeout=setTimeout(function(){if(-1!==v.indexOf(e)){v.splice(v.indexOf(e),1);try{g.push(e.xhr),e.xhr.send()}catch(t){e.xhr.onerror()}}},r.delayLoadingTime-P)}()}catch(e){i.onerror()}}function r(e){e.request&&n(e,u.getRetryAttemptsForType(e.request.type))}function o(){m.forEach(function(e){return clearTimeout(e)}),m=[],v.forEach(function(e){return clearTimeout(e.delayTimeout)}),v=[],g.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.abort()}),g=[]}var s=this.context,u=(0,c["default"])(s).getInstance(),l=e.errHandler,f=e.metricsModel,p=e.requestModifier,h=void 0,g=void 0,v=void 0,m=void 0,y=void 0;return h={load:r,abort:o},t(),h}Object.defineProperty(n,"__esModule",{value:!0});var a=e(179),s=e(10),u=r(s),l=e(101),c=r(l),f=e(151),d=r(f);o.__dashjs_factory_name="XHRLoader";var p=u["default"].getClassFactory(o);n["default"]=p,t.exports=n["default"]},{10:10,101:101,151:151,179:179}],59:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t,n){var i=function(r,i){t.resolved=!0,t.resolvedContent=r||null,o.trigger(g["default"].XLINK_ELEMENT_LOADED,{element:t,resolveObject:n,error:r||i?null:new a["default"](y,"Failed loading Xlink element: "+e)})};if(e===r)i(null,!0);else{var u=new f["default"](e,l.HTTPRequest.XLINK_TYPE);s.load({request:u,success:function(e){i(e)},error:function(){i(null)}})}}function n(){s&&(s.abort(),s=null)}var r="urn:mpeg:dash:resolve-to-zero:2013",i=this.context,o=(0,p["default"])(i).getInstance(),s=(0,u["default"])(i).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});return{load:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(162),a=r(o),s=e(58),u=r(s),l=e(179),c=e(170),f=r(c),d=e(9),p=r(d),h=e(13),g=r(h),v=e(10),m=r(v),y=1;i.__dashjs_factory_name="XlinkLoader";var _=m["default"].getClassFactory(i);_.XLINK_LOADER_ERROR_LOADING_FAILURE=y,n["default"]=_,t.exports=n["default"]},{10:10,13:13,162:162,170:170,179:179,58:58,9:9}],60:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){se={video:!0,audio:!0},ue={},le={},ce={},fe={},de={},pe={},ge={},he={},me=!1,ye=!1,we=(0,c["default"])(te).getInstance(),Ee=(0,h["default"])(te).getInstance(),_e=(0,S["default"])(te).getInstance(),be=(0,C["default"])(te).getInstance(),Te=(0,x["default"])(te).getInstance()}function t(e,t){he[e]=t,ge[e]=ge[e]||{},ge[e].state=O,ne.on(b["default"].LOADING_PROGRESS,ee,this)}function n(e){e&&(e.abrRulesCollection&&(ie=e.abrRulesCollection),e.rulesController&&(oe=e.rulesController),e.streamController&&(ae=e.streamController))}function r(e,t){var n;return ue[t]=ue[t]||{},ue[t].hasOwnProperty(e)||(ue[t][e]=0),n=$(ue[t][e],e),n=J(n,e,ue[t][e]),n=Z(n,e)}function i(e){var t=we.getSavedBitrateSettings(e);if(!fe.hasOwnProperty(e))if(de.hasOwnProperty(e)){var n=_e.getValue(),r=be.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*de[e])-1,0);fe[e]=r[i].bandwidth}else fe[e]=0}else isNaN(t)?fe[e]="video"===e?k:M:fe[e]=t;return fe[e]}function o(e,t){fe[e]=t}function s(e){return de.hasOwnProperty(e)?de[e]:null}function l(e,t){de[e]=t}function f(e){return fe.hasOwnProperty("max")&&fe.max.hasOwnProperty(e)?fe.max[e]:NaN}function p(e,t){fe.max=fe.max||{},fe.max[e]=t}function g(e){return de.hasOwnProperty("max")&&de.max.hasOwnProperty(e)?de.max[e]:1}function m(e,t){de.max=de.max||{},de.max[e]=t}function _(e){return se[e]}function T(e,t){se[e]=t}function E(){return me}function w(e){me=e}function P(){return ye}function I(e){ye=e}function D(e,t){var n=e.getType(),i=e.getStreamInfo(),o=i.id,s=function(e){var a=r(n,o),s=e.value;s<0&&(s=0),s>a&&(s=a);var u=K(n,i);s!==u&&(ge[n].state===O||s>u)&&(Q(n,o,e.confidence),L(n,i,u,s,e.reason)),t&&t()};if(_(n)){var u=ie.getRules(d["default"].QUALITY_SWITCH_RULES);oe.applyRules(u,e,s,K(n,i),function(e,t){return e=e===a["default"].NO_CHANGE?0:e,Math.max(e,t)})}else t&&t()}function N(e,t,n,i){var o=t.id,a=K(e,t);if(null===n||isNaN(n)||n%1!=0)throw new Error("argument is not an integer");n!==a&&n>=0&&n<=r(e,o)&&L(e,t,a,n,i)}function L(e,t,n,r,i){Y(e,t.id,r),ne.trigger(b["default"].QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:t,oldQuality:n,newQuality:r,reason:i})}function j(e,t){ge[e].state=t}function F(e){return ge[e].state}function B(e,t){var n=U(e);if(!n||0===n.length)return R;for(var r=n.length-1;r>=0;r--){if(1e3*t>=n[r].bitrate)return r}return 0}function U(e){if(!e||!e.bitrateList)return null;for(var t,n=e.bitrateList,r=e.type,i=[],o=0,a=n.length;o<a;o++)t=new u["default"],t.mediaType=r,t.qualityIndex=o,t.bitrate=n[o].bandwidth,t.width=n[o].width,t.height=n[o].height,i.push(t);return i}function H(e,t){pe[e]=t}function V(e){return pe[e]}function z(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return X(t,n,r),r}function q(e){var t=e.id,n=K("audio",e),i=K("video",e);return n===r("audio",t)&&i===r("video",t)}function G(){ne.off(b["default"].LOADING_PROGRESS,ee,this),clearTimeout(ve),ve=null,e()}function K(e,t){var n=t.id;return le[n]=le[n]||{},le[n].hasOwnProperty(e)||(le[n][e]=R),le[n][e]}function Y(e,t,n){le[t]=le[t]||{},le[t][e]=n}function W(e,t){return ce[t]=ce[t]||{},ce[t].hasOwnProperty(e)||(ce[t][e]=0),ce[t][e]}function Q(e,t,n){ce[t]=ce[t]||{},ce[t][e]=n}function X(e,t,n){ue[t]=ue[t]||{},ue[t][e]=n}function $(e,t){var n=f(t);if(isNaN(n)||!he[t])return e;var r=B(he[t].getMediaInfo(),n);return Math.min(e,r)}function J(e,t,n){var r=g(t);return isNaN(r)||r>=1||r<0?e:Math.min(e,Math.round(n*r))}function Z(e,t){if("video"!==t||!me||!he[t])return e
;var n=ye&&window.hasOwnProperty("devicePixelRatio"),r=n?window.devicePixelRatio:1,i=Te.getElement(),o=i.clientWidth*r,a=i.clientHeight*r,s=_e.getValue(),u=be.getAdaptationForType(s,0,t).Representation,l=e;if(o>0&&a>0){for(;l>0&&u[l]&&o<u[l].width&&o-u[l-1].width<u[l].width-o;)l-=1;u.length-2>=l&&u[l].width===u[l+1].width&&(l=Math.min(e,l+1))}return l}function ee(e){var t=e.request.mediaType;if(_(t)){var n=function(){var n=ie.getRules(d["default"].ABANDON_FRAGMENT_RULES),r=he[t].getScheduleController();if(!r)return{v:void 0};var i=function(n){if(n.confidence===a["default"].STRONG&&n.value<K(t,ae.getActiveStreamInfo())){var i=r.getFragmentModel(),o=i.getRequests({state:v["default"].FRAGMENT_MODEL_LOADING,index:e.request.index})[0];o&&(i.abortRequests(),j(t,A),N(t,ae.getActiveStreamInfo(),n.value,n.reason),ne.trigger(b["default"].FRAGMENT_LOADING_ABANDONED,{streamProcessor:he[t],request:o,mediaType:t}),clearTimeout(ve),ve=setTimeout(function(){j(t,O),ve=null},Ee.getAbandonLoadTimeout()))}};oe.applyRules(n,he[t],i,e,function(e,t){return t})}();if("object"==typeof n)return n.v}}var te=this.context,ne=(0,y["default"])(te).getInstance(),re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,we=void 0;return re={isPlayingAtTopQuality:q,updateTopQualityIndex:z,getAverageThroughput:V,getBitrateList:U,getQualityForBitrate:B,getMaxAllowedBitrateFor:f,setMaxAllowedBitrateFor:p,getMaxAllowedRepresentationRatioFor:g,setMaxAllowedRepresentationRatioFor:m,getInitialBitrateFor:i,setInitialBitrateFor:o,getInitialRepresentationRatioFor:s,setInitialRepresentationRatioFor:l,setAutoSwitchBitrateFor:T,getAutoSwitchBitrateFor:_,setLimitBitrateByPortal:w,getLimitBitrateByPortal:E,getUsePixelRatioInLimitBitrateByPortal:P,setUsePixelRatioInLimitBitrateByPortal:I,getConfidenceFor:W,getQualityFor:K,getAbandonmentStateFor:F,setAbandonmentStateFor:j,setPlaybackQuality:N,getPlaybackQuality:D,setAverageThroughput:H,getTopQualityIndexFor:r,initialize:t,setConfig:n,reset:G},e(),re}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(160),u=r(s),l=e(149),c=r(l),f=e(131),d=r(f),p=e(101),h=r(p),g=e(99),v=r(g),m=e(9),y=r(m),_=e(13),b=r(_),T=e(10),E=r(T),w=e(100),S=r(w),P=e(22),C=r(P),I=e(104),x=r(I),A="abandonload",O="allowload",k=1e3,M=100,R=0;i.__dashjs_factory_name="AbrController";var D=E["default"].getSingletonFactory(i);D.ABANDON_LOAD=A,D.QUALITY_DEFAULT=R,n["default"]=D,t.exports=n["default"]},{10:10,100:100,101:101,104:104,13:13,130:130,131:131,149:149,160:160,22:22,9:9,99:99}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){h.invalidateSelectedIndexes(e.entry)}function t(){h=(0,a["default"])(l).create(),g=(0,u["default"])(l).create(),f.on(y["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,e,s)}function n(e){h.update(e),g.chooseSelectorFromManifest(e)}function r(e){var t=h.getForPath(e),n=t.reduce(function(e,t){var n=g.select(t);return n&&(p.isRelative(n.url)?e.url+=n.url:p.isPathAbsolute(n.url)?e.url=p.parseOrigin(e.url)+n.url:(e.url=n.url,e.serviceLocation=n.serviceLocation)),e},new d["default"]);if(!p.isRelative(n.url))return n}function i(){h.reset(),g.reset()}function o(e){n(e)}var s=void 0,l=this.context,f=(0,v["default"])(l).getInstance(),p=(0,c["default"])(l).getInstance(),h=void 0,g=void 0;return s={reset:i,initialize:o,resolve:r},t(),s}Object.defineProperty(n,"__esModule",{value:!0});var o=e(98),a=r(o),s=e(145),u=r(s),l=e(158),c=r(l),f=e(40),d=r(f),p=e(10),h=r(p),g=e(9),v=r(g),m=e(13),y=r(m);i.__dashjs_factory_name="BaseURLController",n["default"]=h["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,145:145,158:158,40:40,9:9,98:98}],62:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){return!!(a.length&&e&&e.length)&&-1!==a.indexOf(e)}function n(e){-1===a.indexOf(e)&&(a.push(e),s.trigger(l,{entry:e}))}function r(e){e.error&&n(e.request.serviceLocation)}function i(){c&&s.on(c,r,this)}function o(){a=[]}var a=[],s=(0,u["default"])(this.context).getInstance(),l=e.updateEventName,c=e.loadFailedEventName;return i(),{add:n,contains:t,reset:o}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(9),u=r(s);i.__dashjs_factory_name="BlackListController",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,9:9}],63:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){he=d["default"].QUALITY_DEFAULT,ge=!1,ve=0,me=Number.POSITIVE_INFINITY,_e=0,be=0,Ee=null,we=O,Pe=0,Ce=!1,Ie=!1,xe=!1,Ae=!1}function n(e,t,n){Te=e,J(t),ke=n,De=(0,u["default"])(ne).getInstance(),Oe=(0,h["default"])(ne).getInstance(),Me=(0,d["default"])(ne).getInstance(),Ne=(0,x["default"])(ne).getInstance(),Re=ke.getScheduleController(),he=Me.getQualityFor(Te,ke.getStreamInfo()),ie.on(b["default"].DATA_UPDATE_COMPLETED,U,this),ie.on(b["default"].INIT_FRAGMENT_LOADED,o,this),ie.on(b["default"].MEDIA_FRAGMENT_LOADED,l,this),ie.on(b["default"].QUALITY_CHANGE_REQUESTED,g,this),ie.on(b["default"].STREAM_COMPLETED,H,this),ie.on(b["default"].PLAYBACK_PROGRESS,_,this),ie.on(b["default"].PLAYBACK_TIME_UPDATED,_,this),ie.on(b["default"].PLAYBACK_RATE_CHANGED,q,this),ie.on(b["default"].PLAYBACK_SEEKING,m,this),ie.on(b["default"].WALLCLOCK_TIME_UPDATED,z,this),ie.on(b["default"].CURRENT_TRACK_CHANGED,V,this,y["default"].EVENT_PRIORITY_HIGH),ie.on(b["default"].SOURCEBUFFER_APPEND_COMPLETED,p,this),ie.on(b["default"].SOURCEBUFFER_REMOVE_COMPLETED,F,this)}function r(e){if(!e||!ye||!ke)return null;var t=null;try{(t=se.createSourceBuffer(ye,e))&&t.hasOwnProperty("initialize")&&t.initialize(Te,this)}catch(e){ue.mediaSourceError("Error creating "+Te+" source buffer.")}return Q(t),B(ke.getRepresentationInfoForQuality(he).MSETimeOffset),t}function i(){return ke.getStreamInfo().id===le.getActiveStreamInfo().id}function o(e){e.fragmentModel===ke.getFragmentModel()&&(re("Init fragment finished loading saving to",Te+"'s init cache"),Ne.save(e.chunk),f(e.chunk))}function s(e,t){var n=Ne.extract(e,Te,t);n?f(n):ie.trigger(b["default"].INIT_REQUESTED,{sender:pe})}function l(e){if(e.fragmentModel===ke.getFragmentModel()){var t=e.chunk,n=t.bytes,r=t.quality,i=ke.getRepresentationInfoForQuality(r),o=ae.getValue(),s=fe.getEventsFor(o,i.mediaInfo,ke),u=fe.getEventsFor(o,i,ke);if(s.length>0||u.length>0){var l=ke.getFragmentModel().getRequests({state:a["default"].FRAGMENT_MODEL_EXECUTED,quality:r,index:t.index})[0],c=M(n,l,s,u);ke.getEventController().addInbandEvents(c)}t.bytes=R(n),f(t)}}function f(e){Ie=!0,Se=e,se.append(Ee,e),"video"===e.mediaInfo.type&&e.mediaInfo.embeddedCaptions&&de.append(e.bytes,e)}function p(e){if(Ee===e.buffer){if(e.error||!D())return e.error.code===c["default"].QUOTA_EXCEEDED_ERROR_CODE&&(me=.8*se.getTotalBufferedTime(Ee)),void(e.error.code!==c["default"].QUOTA_EXCEEDED_ERROR_CODE&&D()||(ie.trigger(b["default"].QUOTA_EXCEEDED,{sender:pe,criticalBufferLevel:me}),j(L())));isNaN(Se.index)||(_e=Math.max(Se.index,_e),S());var t=se.getAllRanges(Ee);if(t&&t.length>0)for(var n=0,r=t.length;n<r;n++)re("Buffered Range for type:",Te,":",t.start(n)," - ",t.end(n));_(),Ie=!1,ie.trigger(b["default"].BYTES_APPENDED,{sender:pe,quality:Se.quality,startTime:Se.start,index:Se.index,bufferedRanges:t})}}function g(e){he!==e.newQuality&&Te===e.mediaType&&ke.getStreamInfo().id===e.streamInfo.id&&(B(ke.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),he=e.newQuality)}function m(){be=0,ge=!1,_()}function _(){T(),w()}function T(){ve=se.getBufferLength(Ee,Oe.getTime()),ie.trigger(b["default"].BUFFER_LEVEL_UPDATED,{sender:pe,bufferLevel:ve}),P()}function w(){i()&&(oe.addBufferState(Te,we,Re.getBufferTarget()),oe.addBufferLevel(Te,new Date,1e3*ve))}function S(){_e===be-1&&!ge&&(ge=!0,ie.trigger(b["default"].BUFFERING_COMPLETED,{sender:pe,streamInfo:ke.getStreamInfo()}))}function P(){I(ve<k&&!ge?O:A)}function I(e){we===e||"fragmentedText"===Te&&de.getAllTracksAreDisabled()||(we=e,w(),ie.trigger(b["default"].BUFFER_LEVEL_STATE_CHANGED,{sender:pe,state:e,mediaType:Te,streamInfo:ke.getStreamInfo()}),ie.trigger(e===A?b["default"].BUFFER_LOADED:b["default"].BUFFER_EMPTY,{mediaType:Te}),re(e===A?"Got enough buffer to start.":"Waiting for more buffer before starting playback."))}function M(e,t,n,r){var i=Math.max(isNaN(t.startTime)?0:t.startTime,0),o=[],a=[];Ae=!1;for(var s=n.concat(r),u=0,l=s.length;u<l;u++)o[s[u].schemeIdUri]=s[u];for(var c=(0,E["default"])(ne).getInstance().parse(e),f=c.getBoxes("emsg"),u=0,l=f.length;u<l;u++){var d=fe.getEvent(f[u],o,i);d&&a.push(d)}return a}function R(e){if(!Ae)return e;for(var t=e.length,n=Math.pow(256,2),r=Math.pow(256,3),i=new Uint8Array(e.length),o=0,a=0;o<t;){var s=String.fromCharCode(e[o+4],e[o+5],e[o+6],e[o+7]),u=e[o]*r+e[o+1]*n+256*e[o+2]+1*e[o+3];if("emsg"!=s)for(var l=o;l<o+u;l++)i[a]=e[l],a++;o+=u}return i.subarray(0,a)}function D(){return se.getTotalBufferedTime(Ee)<me}function N(){if("fragmentedText"!==Te){var e=Ee.buffered.length?Ee.buffered.start(0):0,t=Oe.getTime()-e-De.getBufferToKeep();t>0&&(re("pruning buffer: "+t+" seconds."),xe=!0,se.remove(Ee,0,Math.round(e+t),ye))}}function L(){if(!Ee)return null;var e=Oe.getTime(),t=ke.getFragmentModel().getRequests({state:a["default"].FRAGMENT_MODEL_EXECUTED,time:e})[0],n=se.getBufferRange(Ee,e),r=t&&!isNaN(t.startTime)?t.startTime:Math.floor(e);return null===n&&Ee.buffered.length>0&&(r=Ee.buffered.end(Ee.buffered.length-1)),{start:Ee.buffered.start(0),end:r}}function j(e){e&&Ee&&se.remove(Ee,e.start,e.end,ye)}function F(e){Ee===e.buffer&&(xe&&(xe=!1),T(),ie.trigger(b["default"].BUFFER_CLEARED,{sender:pe,from:e.from,to:e.to,hasEnoughSpaceToAppend:D()}))}function B(e){Ee&&Ee.timestampOffset!==e&&!isNaN(e)&&(Ee.timestampOffset=e)}function U(e){e.sender.getStreamProcessor()!==ke||e.error||B(e.currentRepresentation.MSETimeOffset)}function H(e){e.fragmentModel===ke.getFragmentModel()&&(be=e.request.index,S())}function V(e){Ee&&e.newMediaInfo.type===Te&&e.newMediaInfo.streamInfo.id===ke.getStreamInfo().id&&ce.getSwitchMode(Te)===v["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE&&j(L())}function z(){++Pe*(De.getWallclockTimeUpdateInterval()/1e3)>=De.getBufferPruningInterval()&&!Ie&&(Pe=0,N())}function q(){P()}function G(){return Te}function K(){return ke}function Y(e){ke=e}function W(){return Ee}function Q(e){Ee=e}function X(){return ve}function $(){return me}function J(e){ye=e}function Z(){return ye}function ee(){return ge}function te(e){ie.off(b["default"].DATA_UPDATE_COMPLETED,U,this),ie.off(b["default"].QUALITY_CHANGE_REQUESTED,g,this),ie.off(b["default"].INIT_FRAGMENT_LOADED,o,this),ie.off(b["default"].MEDIA_FRAGMENT_LOADED,l,this),ie.off(b["default"].STREAM_COMPLETED,H,this),ie.off(b["default"].CURRENT_TRACK_CHANGED,V,this),ie.off(b["default"].PLAYBACK_PROGRESS,_,this),ie.off(b["default"].PLAYBACK_TIME_UPDATED,_,this),ie.off(b["default"].PLAYBACK_RATE_CHANGED,q,this),ie.off(b["default"].PLAYBACK_SEEKING,m,this),ie.off(b["default"].WALLCLOCK_TIME_UPDATED,z,this),ie.off(b["default"].SOURCEBUFFER_APPEND_COMPLETED,p,this),ie.off(b["default"].SOURCEBUFFER_REMOVE_COMPLETED,F,this),me=Number.POSITIVE_INFINITY,we=O,he=d["default"].QUALITY_DEFAULT,be=0,_e=0,Se=null,Ce=!1,ge=!1,Ie=!1,xe=!1,Oe=null,ke=null,Me=null,Re=null,e||(se.abort(ye,Ee),se.removeSourceBuffer(ye,Ee)),Ee=null}var ne=this.context,re=(0,C["default"])(ne).getInstance().log,ie=(0,y["default"])(ne).getInstance(),oe=e.metricsModel,ae=e.manifestModel,se=e.sourceBufferController,ue=e.errHandler,le=e.streamController,ce=e.mediaController,fe=e.adapter,de=e.textSourceBuffer,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,we=void 0,Se=void 0,Pe=void 0,Ce=void 0,Ie=void 0,xe=void 0,Ae=void 0,Oe=void 0,ke=void 0,Me=void 0,Re=void 0,De=void 0,Ne=void 0;return pe={initialize:n,createBuffer:r,getType:G,getStreamProcessor:K,setStreamProcessor:Y,getBuffer:W,setBuffer:Q,getBufferLevel:X,getCriticalBufferLevel:$,setMediaSource:J,getMediaSource:Z,getIsBufferingCompleted:ee,switchInitData:s,reset:te},t(),pe}Object.defineProperty(n,"__esModule",{value:!0});var o=e(99),a=r(o),s=e(101),u=r(s),l=e(70),c=r(l),f=e(60),d=r(f),p=e(68),h=r(p),g=e(66),v=r(g),m=e(9),y=r(m),_=e(13),b=r(_),T=e(146),E=r(T),w=e(10),S=r(w),P=e(8),C=r(P),I=e(152),x=r(I),A="bufferLoaded",O="bufferStalled",k=.5;i.__dashjs_factory_name="BufferController";var M=S["default"].getClassFactory(i);M.BUFFER_LOADED=A,M.BUFFER_EMPTY=O,n["default"]=M,t.exports=n["default"]},{10:10,101:101,13:13,146:146,152:152,60:60,66:66,68:68,70:70,8:8,9:9,99:99}],64:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){x=!1,_={},b={},T={},E=null,w=100,S=w/1e3,I=(0,a["default"])(v).getInstance()}function t(){null!==E&&x&&(clearInterval(E),E=null,x=!1)}function n(){m("Start Event Controller"),x||isNaN(w)||(x=!0,E=setInterval(s,w))}function r(e){if(_={},e)for(var t=0;t<e.length;t++){var n=e[t];_[n.id]=n,m("Add inline event with id "+n.id)}m("Added "+e.length+" inline events")}function i(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in b?m("Repeated event with id "+n.id):(b[n.id]=n,m("Add inband event with id "+n.id))}}function o(){if(T)for(var e=I.getTime(),t=Object.keys(T),n=0;n<t.length;n++){var r=t[n],i=T[r];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(m("Remove Event "+r+" at time "+e),i=null,delete T[r])}}function s(){l(b),l(_),o()}function u(){var e=P.getValue(),t=e.url;e.hasOwnProperty("Location")&&(t=e.Location),m("Refresh manifest @ "+t),C.getManifestLoader().load(t)}function l(e){var t,n=I.getTime();if(e)for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=e[o];void 0!==a&&(0===(t=a.presentationTime/a.eventStream.timescale)||t<=n&&t+S>n)&&(m("Start Event "+o+" at "+n),a.duration>0&&(T[o]=a),a.eventStream.schemeIdUri==h&&a.eventStream.value==g?u():y.trigger(a.eventStream.schemeIdUri,{event:a}),delete e[o])}}function f(e){e&&(e.manifestModel&&(P=e.manifestModel),e.manifestUpdater&&(C=e.manifestUpdater))}function p(){t(),_=null,b=null,T=null,I=null}var h="urn:mpeg:dash:event:2012",g=1,v=this.context,m=(0,c["default"])(v).getInstance().log,y=(0,d["default"])(v).getInstance(),_=void 0,b=void 0,T=void 0,E=void 0,w=void 0,S=void 0,P=void 0,C=void 0,I=void 0,x=void 0;return{initialize:e,addInlineEvents:r,addInbandEvents:i,clear:t,start:n,setConfig:f,reset:p}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(68),a=r(o),s=e(10),u=r(s),l=e(8),c=r(l),f=e(9),d=r(f);i.__dashjs_factory_name="EventController",n["default"]=u["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,68:68,8:8,9:9}],65:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){m={},h.on(g["default"].FRAGMENT_LOADING_COMPLETED,u,v)}function t(e){var t=null;return null!==e&&void 0!==e&&e.byteLength>0&&(t=new Uint8Array(e)),t}function n(e){var t=m[e];return t||(t=(0,l["default"])(c).create({metricsModel:(0,f["default"])(c).getInstance()}),m[e]=t),t}function r(e){return e&&e.type&&e.type===o.HTTPRequest.INIT_SEGMENT_TYPE}function i(){h.off(g["default"].FRAGMENT_LOADING_COMPLETED,u,this);for(var e in m)m[e].reset();m={}}function a(e,t,n){var r=new s["default"];return r.streamId=n,r.mediaInfo=t.mediaInfo,r.segmentType=t.type,r.start=t.startTime,r.duration=t.duration,r.end=r.start+r.duration,r.bytes=e,r.index=t.index,r.quality=t.quality,r}function u(e){if(m[e.request.mediaType]===e.sender){var t=e.sender.getScheduleController(),n=e.request,i=e.response,o=r(n),s=t.getStreamProcessor().getStreamInfo().id;if(!i)return void d("No "+n.mediaType+" bytes to push.");var u=a(i,n,s);h.trigger(o?g["default"].INIT_FRAGMENT_LOADED:g["default"].MEDIA_FRAGMENT_LOADED,{chunk:u,fragmentModel:e.sender})}}var c=this.context,d=(0,_["default"])(c).getInstance().log,h=(0,p["default"])(c).getInstance(),v=void 0,m=void 0;return v={process:t,getModel:n,isInitializationRequest:r,reset:i},e(),v}Object.defineProperty(n,"__esModule",{value:!0});var o=e(179),a=e(161),s=r(a),u=e(99),l=r(u),c=e(102),f=r(c),d=e(9),p=r(d),h=e(13),g=r(h),v=e(10),m=r(v),y=e(8),_=r(y);i.__dashjs_factory_name="FragmentController",n["default"]=m["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,13:13,161:161,179:179,8:8,9:9,99:99}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){F={},O(),A()}function t(e,t){var n=c(e),i=r(e,t),o=[];return"fragmentedText"===e?void s(i[0]):(n||(n=j.getSavedMediaSettings(e),l(e,n)),void(i&&0!==i.length&&(n&&i.forEach(function(e){x(n,e)&&o.push(e)}),s(0===o.length?k(i):o.length>1?k(o):o[0]))))}function n(e){var t=e?e.type:null,n=e?e.streamInfo.id:null,r=c(t);return!(!e||!w(t)||(F[n]=F[n]||M(),F[n][t].list.indexOf(e)>=0||(F[n][t].list.push(e),r&&x(r,e)&&!i(t,e.streamInfo)&&s(e),0)))}function r(e,t){if(!e||!t)return[];var n=t.id;return F[n]&&F[n][e]?F[n][e].list:[]}function i(e,t){return!e||!t||t&&!F[t.id]?null:F[t.id][e].current}function o(e){var t=e.type,n=e.streamInfo.id;return F[n]&&F[n][t]&&S(F[n][t].current,e)}function s(e){if(e){var t=e.type,n=e.streamInfo,r=n.id,o=i(t,n);if(F[r]&&F[r][t]&&(!o||!S(e,o))){F[r][t].current=e,o&&N.trigger(a["default"].CURRENT_TRACK_CHANGED,{oldMediaInfo:o,newMediaInfo:e,switchMode:H[t]});var s=I(e);s&&F[r][t].storeLastSettings&&(s.roles&&(s.role=s.roles[0],delete s.roles),s.accessibility&&(s.accessibility=s.accessibility[0]),s.audioChannelConfiguration&&(s.audioChannelConfiguration=s.audioChannelConfiguration[0]),j.setSavedMediaSettings(t,s))}}}function l(e,t){e&&t&&(B[e]=t)}function c(e){return e?B[e]:null}function f(e,t){return-1!==z.indexOf(t)?void(H[e]=t):void D("track switch mode is not supported: "+t)}function p(e){return H[e]}function g(e){return-1!==q.indexOf(e)?void(U=e):void D("track selection mode is not supported: "+e)}function E(){return U||T}function w(e){return"audio"===e||"video"===e||"text"===e||"fragmentedText"===e}function S(e,t){var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&o&&a&&s}function P(e){e&&e.errHandler&&(V=e.errHandler)}function C(){e(),L.resetEmbedded()}function I(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}function x(e,t){var n=!e.lang||e.lang===t.lang,r=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],o=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],a=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return n&&r&&i&&o&&a}function A(){H={audio:y,video:m}}function O(){B={audio:null,video:null}}function k(e){var t=E(),n=[],r=function(e){var t,n=0,r=[];return e.forEach(function(e){t=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})),t>n?(n=t,r=[e]):t===n&&r.push(e)}),r},i=function(e){var t,n=0,r=[];return e.forEach(function(e){t=e.representationCount,t>n?(n=t,r=[e]):t===n&&r.push(e)}),r};switch(t){case _:n=r(e),n.length>1&&(n=i(n));break;case b:n=i(e),n.length>1&&(n=r(e));break;default:D("track selection mode is not supported: "+t)}return n[0]}function M(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}}}var R=this.context,D=(0,d["default"])(R).getInstance().log,N=(0,u["default"])(R).getInstance(),L=(0,h["default"])(R).getInstance(),j=(0,v["default"])(R).getInstance(),F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=[y,m],q=[_,b];return{initialize:e,checkInitialMediaSettingsForType:t,addTrack:n,getTracksFor:r,getCurrentTrackFor:i,isCurrentTrack:o,setTrack:s,setInitialSettings:l,getInitialSettings:c,setSwitchMode:f,getSwitchMode:p,setSelectionModeForInitialTrack:g,getSelectionModeForInitialTrack:E,isMultiTrackSupportedByType:w,isTracksEqual:S,setConfig:P,reset:C}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(13),a=r(o),s=e(9),u=r(s),l=e(10),c=r(l),f=e(8),d=r(f),p=e(56),h=r(p),g=e(149),v=r(g),m="neverReplace",y="alwaysReplace",_="highestBitrate",b="widestRange",T=_;i.__dashjs_factory_name="MediaController";var E=c["default"].getSingletonFactory(i);E.TRACK_SWITCH_MODE_NEVER_REPLACE=m,E.TRACK_SWITCH_MODE_ALWAYS_REPLACE=y,E.TRACK_SELECTION_MODE_HIGHEST_BITRATE=_,E.TRACK_SELECTION_MODE_WIDEST_RANGE=b,E.DEFAULT_INIT_TRACK_SELECTION_MODE=T,n["default"]=E,t.exports=n["default"]},{10:10,13:13,149:149,56:56,8:8,9:9}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null}function t(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n}function n(e){e.setSource(null)}function r(e,t){return e.duration!=t&&(e.duration=t),e.duration}function i(e){var t=e.sourceBuffers,n=t.length,r=0;if("open"===e.readyState){for(r;r<n;r++){if(t[r].updating)return;if(0===t[r].buffered.length)return}e.endOfStream()}}return{createMediaSource:e,attachMediaSource:t,detachMediaSource:n,setDuration:r,signalEndOfStream:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="MediaSourceController",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],68:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){de=0,pe=NaN,he=null,me=null,_e=!1,ge={},ye=(0,c["default"])(Z).getInstance()}function t(e){ve=e,re=fe.getElement(),$(),me=ve.manifestInfo.isDynamic,pe=ve.start,te.on(h["default"].DATA_UPDATE_COMPLETED,D,this),te.on(h["default"].LIVE_EDGE_SEARCH_COMPLETED,N,this),te.on(h["default"].BYTES_APPENDED,Q,this),te.on(h["default"].BUFFER_LEVEL_STATE_CHANGED,X,this),te.on(h["default"].PERIOD_SWITCH_STARTED,n,this),_e&&(_e=!1,l())}function n(e){e.fromStreamInfo&&ge[e.fromStreamInfo.id]&&delete ge[e.fromStreamInfo.id]}function r(){return x(!0)+ve.duration-m()}function i(){return m()>0}function o(){return ve.id}function s(){return ve.duration}function l(){if(re){re.autoplay=!0;var e=re.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e["catch"](function(e){"NotAllowedError"===e.name&&te.trigger(h["default"].PLAYBACK_NOT_ALLOWED),ee("Caught pending play exception - continuing ("+e+")")})}else _e=!0}function f(){if(re)return re.paused}function p(){re&&(re.pause(),re.autoplay=!1)}function g(){if(re)return re.seeking}function v(e){fe&&(ee("Requesting seek to time: "+e),fe.setCurrentTime(e))}function m(){if(re)return re.currentTime}function _(){if(re)return re.playbackRate}function b(){if(re)return re.played}function T(){if(re)return re.ended}function E(){return me}function w(e){pe=e}function S(){return pe}function P(e,t){var n=le.getMpd(ue.getValue()),r=void 0,i=10;r=ye.getUseSuggestedPresentationDelay()&&n.hasOwnProperty("suggestedPresentationDelay")?n.suggestedPresentationDelay:ye.getLiveDelay()?ye.getLiveDelay():isNaN(e)?2*ve.manifestInfo.minBufferTime:e*ye.getLiveDelayFragmentCount();var o=Math.max(t-i,t/2);return Math.min(r,o)}function C(){fe&&re&&(te.off(h["default"].DATA_UPDATE_COMPLETED,D,this),te.off(h["default"].BUFFER_LEVEL_STATE_CHANGED,X,this),te.off(h["default"].LIVE_EDGE_SEARCH_COMPLETED,N,this),te.off(h["default"].BYTES_APPENDED,Q,this),k(),J()),fe=null,ve=null,re=null,me=null,e()}function I(e){e&&(e.streamController&&(ie=e.streamController),e.timelineConverter&&(oe=e.timelineConverter),e.metricsModel&&(ae=e.metricsModel),e.dashMetrics&&(se=e.dashMetrics),e.manifestModel&&(ue=e.manifestModel),e.dashManifestModel&&(le=e.dashManifestModel),e.adapter&&(ce=e.adapter),e.videoModel&&(fe=e.videoModel))}function x(e){var t=void 0,n=(0,u["default"])(Z).getInstance().getURIFragmentData(),r=parseInt(n.s,10),i=parseInt(n.t,10),o=NaN;if(e||(o=isNaN(r)?i:r),me)!isNaN(o)&&o>1262304e3&&((t=o-ve.manifestInfo.availableFrom.getTime()/1e3)>pe||t<pe-ve.manifestInfo.DVRWindowSize)&&(t=null),t=t||pe;else if(!isNaN(o)&&o<Math.max(ve.manifestInfo.duration,ve.duration)&&o>=0)t=o;else{var a=ge[ve.id];void 0===a&&(a=ie.getActiveStreamCommonEarliestTime()),t=Math.max(a,ve.start)}return t}function A(e){var t=ae.getReadOnlyMetricsFor("video")||ae.getReadOnlyMetricsFor("audio"),n=se.getCurrentDVRInfo(t),r=n?n.range:null;return r?e>=r.start&&e<=r.end?e:Math.max(r.end-2*ve.manifestInfo.minBufferTime,r.start):NaN}function O(){if(null===he){var e=function(){W()};he=setInterval(e,ye.getWallclockTimeUpdateInterval())}}function k(){clearInterval(he),he=null}function M(){var e=x(!1);e>0&&(v(e),ee("Starting playback at offset: "+e))}function R(){if(!f()&&me&&0!==re.readyState){var e=m(),t=A(e);!isNaN(t)&&t!==e&&v(t)}}function D(e){if(!e.error){var t=ce.convertDataToTrack(ue.getValue(),e.currentRepresentation),n=t.mediaInfo.streamInfo;ve.id===n.id&&(ve=n,R())}}function N(e){e.error||0===re.readyState||M()}function L(){te.trigger(h["default"].CAN_PLAY)}function j(){ee("Native video element event: play"),R(),O(),te.trigger(h["default"].PLAYBACK_STARTED,{startTime:m()})}function F(){ee("Native video element event: playing"),te.trigger(h["default"].PLAYBACK_PLAYING,{playingTime:m()})}function B(){ee("Native video element event: pause"),te.trigger(h["default"].PLAYBACK_PAUSED,{ended:T()})}function U(){var e=m();ee("Seeking to: "+e),O(),te.trigger(h["default"].PLAYBACK_SEEKING,{seekTime:e})}function H(){ee("Native video element event: seeked"),te.trigger(h["default"].PLAYBACK_SEEKED)}function V(){var e=m();e!==de&&(de=e,te.trigger(h["default"].PLAYBACK_TIME_UPDATED,{timeToEnd:r(),time:e}))}function z(){te.trigger(h["default"].PLAYBACK_PROGRESS)}function q(){var e=_();ee("Native video element event: ratechange: ",e),te.trigger(h["default"].PLAYBACK_RATE_CHANGED,{playbackRate:e})}function G(){ee("Native video element event: loadedmetadata"),(!me&&ve.isFirst||oe.isTimeSyncCompleted())&&M(),te.trigger(h["default"].PLAYBACK_METADATA_LOADED),O()}function K(){ee("Native video element event: ended"),p(),k(),te.trigger(h["default"].PLAYBACK_ENDED)}function Y(e){var t=e.target||e.srcElement;te.trigger(h["default"].PLAYBACK_ERROR,{error:t.error})}function W(){te.trigger(h["default"].WALLCLOCK_TIME_UPDATED,{isDynamic:me,time:new Date})}function Q(e){var t=e.bufferedRanges;if(t&&t.length){var n=Math.max(t.start(0),ve.start),r=void 0===ge[ve.id]?n:Math.max(ge[ve.id],n);r!==ge[ve.id]&&(!me&&x(!0)<r&&m()<r&&v(r),ge[ve.id]=r)}}function X(e){e.streamInfo.id===ve.id&&fe.setStallState(e.mediaType,e.state===a["default"].BUFFER_EMPTY)}function $(){re.addEventListener("canplay",L),re.addEventListener("play",j),re.addEventListener("playing",F),re.addEventListener("pause",B),re.addEventListener("error",Y),re.addEventListener("seeking",U),re.addEventListener("seeked",H),re.addEventListener("timeupdate",V),re.addEventListener("progress",z),re.addEventListener("ratechange",q),re.addEventListener("loadedmetadata",G),re.addEventListener("ended",K)}function J(){re.removeEventListener("canplay",L),re.removeEventListener("play",j),re.removeEventListener("playing",F),re.removeEventListener("pause",B),re.removeEventListener("error",Y),re.removeEventListener("seeking",U),re.removeEventListener("seeked",H),re.removeEventListener("timeupdate",V),re.removeEventListener("progress",z),re.removeEventListener("ratechange",q),re.removeEventListener("loadedmetadata",G),re.removeEventListener("ended",K)}var Z=this.context,ee=(0,y["default"])(Z).getInstance().log,te=(0,d["default"])(Z).getInstance(),ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0;return ne={initialize:t,setConfig:I,getStreamStartTime:x,getTimeToStreamEnd:r,isPlaybackStarted:i,getStreamId:o,getStreamDuration:s,getTime:m,getPlaybackRate:_,getPlayedRanges:b,getEnded:T,getIsDynamic:E,setLiveStartTime:w,getLiveStartTime:S,computeLiveDelay:P,play:l,isPaused:f,pause:p,isSeeking:g,seek:v,reset:C},e(),ne}Object.defineProperty(n,"__esModule",{value:!0});var o=e(63),a=r(o),s=e(103),u=r(s),l=e(101),c=r(l),f=e(9),d=r(f),p=e(13),h=r(p),g=e(10),v=r(g),m=e(8),y=r(m);i.__dashjs_factory_name="PlaybackController",n["default"]=v["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,101:101,103:103,13:13,63:63,8:8,9:9}],69:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){Ee=!0,ze=NaN,Ve=NaN,qe=[],we=!1,Se=null,Pe=null,Ce=!0,Ie=!1,xe=0,Oe=NaN}function n(e,t){me=e,De=t,je=(0,k["default"])(ae).getInstance(),ke=(0,s["default"])(ae).getInstance(),Me=(0,p["default"])(ae).getInstance(),Re=(0,l["default"])(ae).getInstance(),Ne=(0,B["default"])(ae).getInstance(),Le=De.getFragmentController(),Fe=De.getBufferController(),_e=Le.getModel(me),_e.setScheduleController(this),be=De.isDynamic(),He=ge.getScheduleWhilePaused(),Be=(0,g["default"])(ae).create({dashMetrics:(0,P["default"])(ae).getInstance(),metricsModel:(0,T["default"])(ae).getInstance(),textSourceBuffer:(0,_["default"])(ae).getInstance()}),Ue=(0,m["default"])(ae).create({adapter:(0,I["default"])(ae).getInstance(),sourceBufferController:(0,A["default"])(ae).getInstance(),textSourceBuffer:(0,_["default"])(ae).getInstance()}),pe.getIsTextTrack(me)&&ue.on(N["default"].TIMED_TEXT_REQUESTED,z,this),ue.on(N["default"].LIVE_EDGE_SEARCH_COMPLETED,Y,this),ue.on(N["default"].QUALITY_CHANGE_REQUESTED,y,this),ue.on(N["default"].DATA_UPDATE_STARTED,L,this),ue.on(N["default"].DATA_UPDATE_COMPLETED,E,this),ue.on(N["default"].FRAGMENT_LOADING_COMPLETED,x,this),ue.on(N["default"].STREAM_COMPLETED,C,this),ue.on(N["default"].STREAM_INITIALIZED,S,this),ue.on(N["default"].BUFFER_LEVEL_STATE_CHANGED,F,this),ue.on(N["default"].BUFFER_CLEARED,j,this),ue.on(N["default"].BYTES_APPENDED,M,this),ue.on(N["default"].INIT_REQUESTED,d,this),ue.on(N["default"].QUOTA_EXCEEDED,U,this),ue.on(N["default"].BUFFER_LEVEL_STATE_CHANGED,F,this),ue.on(N["default"].PLAYBACK_STARTED,q,this),ue.on(N["default"].PLAYBACK_SEEKING,G,this),ue.on(N["default"].PLAYBACK_RATE_CHANGED,K,this),ue.on(N["default"].PLAYBACK_TIME_UPDATED,O,this),ue.on(N["default"].URL_RESOLUTION_FAILED,V,this),ue.on(N["default"].FRAGMENT_LOADING_ABANDONED,D,this)}function r(){ye&&(ie(),we=!1,Ee?h(Te.quality):c(0),Ee&&(Ee=!1),se("Schedule controller starting for "+me))}function i(){we||(we=!0,clearTimeout(Ae),se("Schedule controller stopping for "+me))}function a(){if(!(we||Ie||!Fe||ke.isPaused()&&!He)){u();var e=qe.length>0;if(Be.execute(De,me,Ne.isVideoTrackPresent())||e){var t=function(){if(Te.quality!==ze)ze=Te.quality,Fe.switchInitData(De.getStreamInfo().id,Te.quality);else{var e=Ue.execute(De,qe.shift());e?_e.executeRequest(e):(Ie=!1,c(250))}};Ie=!0,e?t():Re.getPlaybackQuality(De,t)}else c(500)}}function u(){var e=1.5*Te.fragmentDuration,t=_e.getRequests({state:w["default"].FRAGMENT_MODEL_EXECUTED,time:ke.getTime()+e,threshold:0})[0];t&&-1===qe.indexOf(t)&&!pe.getIsTextTrack(me)&&(!Me.isCurrentTrack(t.mediaInfo)||ge.getFastSwitchEnabled()&&t.quality<Te.quality&&Fe.getBufferLevel()>=e&&Re.getAbandonmentStateFor(me)!==l["default"].ABANDON_LOAD?(v(t),se("Reloading outdated fragment at index: ",t.index)):t.quality>Te.quality&&Q(ke.getTime()+Fe.getBufferLevel()))}function c(e){clearTimeout(Ae),Ae=setTimeout(a,e)}function d(e){e.sender.getStreamProcessor()===De&&h(Te.quality)}function h(e){ze=e;var t=fe.getInitRequest(De,e);t&&(Ie=!0,_e.executeRequest(t))}function v(e){qe.push(e)}function y(e){if(me===e.mediaType&&De.getStreamInfo().id===e.streamInfo.id){if(null===(Te=De.getRepresentationInfoForQuality(e.newQuality))||void 0===Te)throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");re(new Date,o.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),ie()}}function b(e){var t=_e.getRequests({state:w["default"].FRAGMENT_MODEL_EXECUTED,time:ke.getTime(),threshold:0})[0];t&&ke.getTime()>=t.startTime&&(t.quality!==Ve&&e&&ue.trigger(N["default"].QUALITY_CHANGE_RENDERED,{mediaType:me,oldQuality:Ve,newQuality:t.quality}),Ve=t.quality)}function E(e){
e.error||e.sender.getStreamProcessor()!==De||(Te=fe.convertDataToTrack(ce.getValue(),e.currentRepresentation))}function S(e){e.error||De.getStreamInfo().id!==e.streamInfo.id||(Te=De.getCurrentRepresentationInfo(),be&&null===je.getLiveEdge()||(ye=!0),we&&r())}function C(e){e.fragmentModel===_e&&(i(),Ie=!1,se("Stream is complete"))}function x(e){e.sender===_e&&(pe.getIsTextTrack(me)&&(Ie=!1),e.error&&e.serviceLocation&&!we&&v(e.request))}function O(){b(!0)}function M(e){e.sender.getStreamProcessor()===De&&(Ie=!1,c(0))}function D(e){e.streamProcessor===De&&(v(e.request),Ie=!1,c(0))}function L(e){e.sender.getStreamProcessor()===De&&i()}function j(e){e.sender.getStreamProcessor()===De&&(_e.removeExecutedRequestsBeforeTime(e.to),e.hasEnoughSpaceToAppend&&!Fe.getIsBufferingCompleted()&&we&&r())}function F(e){e.sender.getStreamProcessor()!==De||e.state!==f["default"].BUFFER_EMPTY||ke.isSeeking()||(se("Buffer is empty! Stalling!"),re(new Date,o.PlayListTrace.REBUFFERING_REASON))}function U(e){e.sender.getStreamProcessor()===De&&i()}function V(){_e.abortRequests(),i()}function z(e){e.sender.getStreamProcessor()===De&&h(e.index)}function q(){we&&r()}function G(e){Oe=e.seekTime,$(0),we&&r();var t=de.getCurrentManifestUpdate(le.getMetricsFor("stream")),n=Te.DVRWindow?Te.DVRWindow.end-ke.getTime():NaN;le.updateManifestUpdateInfo(t,{latency:n})}function K(e){Pe&&(Pe.playbackspeed=e.playbackRate.toString())}function Y(e){if(!e.error){var t=Te.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,n=e.liveEdge-ke.computeLiveDelay(Te.fragmentDuration,t),i=de.getCurrentManifestUpdate(le.getMetricsFor("stream")),o=ke.getLiveStartTime(),a=fe.getFragmentRequestForTime(De,Te,n,{ignoreIsFinished:!0});Oe=o,(isNaN(o)||a.startTime>o)&&(ke.setLiveStartTime(a.startTime),Oe=a.startTime),le.updateManifestUpdateInfo(i,{currentTime:Oe,presentationStartTime:e.liveEdge,latency:e.liveEdge-Oe,clientTimeOffset:he.getClientTimeOffset()}),ye=!0,we&&r()}}function W(){return Oe}function Q(e){Oe=e}function X(){return _e}function $(e){xe=e}function J(){return xe}function Z(){return De}function ee(){return Be.getBufferTarget(De,me,Ne.isVideoTrackPresent())}function te(e){Se=e}function ne(e,t){re(e,t),Se=null}function re(e,t){if(Se&&!1===Ce){var n=Pe.start,r=e.getTime()-n.getTime();Pe.duration=r,Pe.stopreason=t,Se.trace.push(Pe),Ce=!0}}function ie(){Se&&!0===Ce&&Te&&(Ce=!1,Pe=new o.PlayListTrace,Pe.representationid=Te.id,Pe.start=new Date,Pe.mstart=1e3*ke.getTime(),Pe.playbackspeed=ke.getPlaybackRate().toString())}function oe(){ue.off(N["default"].LIVE_EDGE_SEARCH_COMPLETED,Y,this),ue.off(N["default"].DATA_UPDATE_STARTED,L,this),ue.off(N["default"].DATA_UPDATE_COMPLETED,E,this),ue.off(N["default"].BUFFER_LEVEL_STATE_CHANGED,F,this),ue.off(N["default"].QUALITY_CHANGE_REQUESTED,y,this),ue.off(N["default"].FRAGMENT_LOADING_COMPLETED,x,this),ue.off(N["default"].STREAM_COMPLETED,C,this),ue.off(N["default"].STREAM_INITIALIZED,S,this),ue.off(N["default"].QUOTA_EXCEEDED,U,this),ue.off(N["default"].BYTES_APPENDED,M,this),ue.off(N["default"].BUFFER_CLEARED,j,this),ue.off(N["default"].INIT_REQUESTED,d,this),ue.off(N["default"].PLAYBACK_RATE_CHANGED,K,this),ue.off(N["default"].PLAYBACK_SEEKING,G,this),ue.off(N["default"].PLAYBACK_STARTED,q,this),ue.off(N["default"].PLAYBACK_TIME_UPDATED,O,this),ue.off(N["default"].URL_RESOLUTION_FAILED,V,this),ue.off(N["default"].FRAGMENT_LOADING_ABANDONED,D,this),pe.getIsTextTrack(me)&&ue.off(N["default"].TIMED_TEXT_REQUESTED,z,this),i(),b(!1),Ie=!1,xe=0,Oe=NaN,ke=null,Se=null}var ae=this.context,se=(0,H["default"])(ae).getInstance().log,ue=(0,R["default"])(ae).getInstance(),le=e.metricsModel,ce=e.manifestModel,fe=e.adapter,de=e.dashMetrics,pe=e.dashManifestModel,he=e.timelineConverter,ge=e.mediaPlayerModel,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,we=void 0,Se=void 0,Pe=void 0,Ce=void 0,Ie=void 0,xe=void 0,Ae=void 0,Oe=void 0,ke=void 0,Me=void 0,Re=void 0,De=void 0,Ne=void 0,Le=void 0,je=void 0,Fe=void 0,Be=void 0,Ue=void 0,He=void 0,Ve=void 0,ze=void 0,qe=void 0;return ve={initialize:n,getStreamProcessor:Z,getSeekTarget:W,setSeekTarget:Q,getFragmentModel:X,setTimeToLoadDelay:$,getTimeToLoadDelay:J,replaceRequest:v,start:r,stop:i,reset:oe,setPlayList:te,getBufferTarget:ee,finalisePlayList:ne},t(),ve}Object.defineProperty(n,"__esModule",{value:!0});var o=e(181),a=e(68),s=r(a),u=e(60),l=r(u),c=e(63),f=r(c),d=e(66),p=r(d),h=e(140),g=r(h),v=e(141),m=r(v),y=e(56),_=r(y),b=e(102),T=r(b),E=e(99),w=r(E),S=e(17),P=r(S),C=e(15),I=r(C),x=e(70),A=r(x),O=e(154),k=r(O),M=e(9),R=r(M),D=e(13),N=r(D),L=e(10),j=r(L),F=e(71),B=r(F),U=e(8),H=r(U);i.__dashjs_factory_name="ScheduleController",n["default"]=j["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,13:13,140:140,141:141,15:15,154:154,17:17,181:181,56:56,60:60,63:63,66:66,68:68,70:70,71:71,8:8,9:9,99:99}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=t.codec,r=null;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt)"/i))throw new S["default"]("not really supported");r=e.addSourceBuffer(n)}catch(e){if(!t.isText&&-1===n.indexOf('codecs="stpp"')&&-1===n.indexOf('codecs="wvtt"'))throw e;r=(0,a["default"])(_).getInstance(),r.setConfig({errHandler:(0,d["default"])(_).getInstance(),adapter:(0,c["default"])(_).getInstance(),dashManifestModel:w,mediaController:(0,u["default"])(_).getInstance(),videoModel:(0,E["default"])(_).getInstance(),streamController:(0,h["default"])(_).getInstance(),textTracks:(0,v["default"])(_).getInstance(),VTTParser:(0,y["default"])(_).getInstance(),TTMLParser:(0,b["default"])(_).getInstance()})}return r}function t(e,t){try{e.removeSourceBuffer(t)}catch(e){}}function n(e,t,n){var r,i,o=null,a=0,s=0,u=null,l=null,c=0,f=n||.15;try{o=e.buffered}catch(e){return null}if(null!==o&&void 0!==o){for(i=0,r=o.length;i<r;i++)if(a=o.start(i),s=o.end(i),null===u)c=Math.abs(a-t),t>=a&&t<s?(u=a,l=s):c<=f&&(u=a,l=s);else{if(!((c=a-l)<=f))break;l=s}if(null!==u)return{start:u,end:l}}return null}function r(e){try{return e.buffered}catch(e){return null}}function i(e){var t,n,i=r(e),o=0;if(!i)return o;for(n=0,t=i.length;n<t;n++)o+=i.end(n)-i.start(n);return o}function o(e,t,r){var i;return i=n(e,t,r),null===i?0:i.end-t}function s(e,t){if(!t)return null;var n,i,o,a,s,u,l,c,f,d=r(t);if(!d)return null;for(var p=0,h=d.length;p<h;p++){if(c=e.length>p,s=c?{start:e.start(p),end:e.end(p)}:null,n=d.start(p),i=d.end(p),!s)return f={start:n,end:i};if(o=s.start===n,a=s.end===i,!o||!a){if(o)f={start:s.end,end:i};else{if(!a)return f={start:n,end:i};f={start:n,end:s.start}}return u=e.length>p+1?{start:e.start(p+1),end:e.end(p+1)}:null,l=p+1<h?{start:d.start(p+1),end:d.end(p+1)}:null,!u||l&&l.start===u.start&&l.end===u.end||(f.end=u.start),f}}return null}function l(e,t){var n=t.bytes,r="append"in e?"append":"appendBuffer"in e?"appendBuffer":null,i="Object"===Object.prototype.toString.call(e).slice(8,-1);if(r)try{m(e,function(){i?e[r](n,t):e[r](n),m(e,function(){T.trigger(x["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n})})})}catch(t){T.trigger(x["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n,error:new S["default"](t.code,t.message,null)})}}function f(e,t,n,r){try{m(e,function(){t>=0&&n>t&&"ended"!==r.readyState&&e.remove(t,n),m(e,function(){T.trigger(x["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n})})})}catch(r){T.trigger(x["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n,error:new S["default"](r.code,r.message,null)})}}function p(e,t){try{"open"===e.readyState?t.abort():t.setTextTrack&&"ended"===e.readyState&&t.abort()}catch(e){}}function g(e){e&&e.dashManifestModel&&(w=e.dashManifestModel)}function m(e,t){var n,r=50,i=function(){e.updating||(clearInterval(n),t())},o=function n(){e.updating||(e.removeEventListener("updateend",n,!1),t())};if(!e.updating)return void t();if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",o,!1)}catch(e){n=setInterval(i,r)}else n=setInterval(i,r)}var _=this.context,T=(0,C["default"])(_).getInstance(),w=void 0;return{append:l,remove:f,abort:p,createSourceBuffer:e,removeSourceBuffer:t,getBufferRange:n,getAllRanges:r,getTotalBufferedTime:i,getBufferLength:o,getRangeDifference:s,setConfig:g}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(56),a=r(o),s=e(66),u=r(s),l=e(15),c=r(l),f=e(151),d=r(f),p=e(71),h=r(p),g=e(57),v=r(g),m=e(159),y=r(m),_=e(157),b=r(_),T=e(104),E=r(T),w=e(162),S=r(w),P=e(9),C=r(P),I=e(13),x=r(I),A=e(10),O=r(A),k=22;i.__dashjs_factory_name="SourceBufferController";var M=O["default"].getSingletonFactory(i);M.QUOTA_EXCEEDED_ERROR_CODE=k,n["default"]=M,t.exports=n["default"]},{10:10,104:104,13:13,15:15,151:151,157:157,159:159,162:162,56:56,57:57,66:66,71:71,9:9}],71:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){he=null,de=[],Se=(0,b["default"])(Y).getInstance(),ve=!0,me=!1,ye=!1,Pe=!1,Ce=!0,Ie=null,_e=!1,be=!1}function t(e,t){ve=e,ge=t,fe.initialize(),le=(0,I["default"])(Y).getInstance(),J=(0,c["default"])(Y).getInstance(),J.setConfig({log:W,manifestModel:ee,dashManifestModel:te}),J.initialize(Z),Ee=(0,y["default"])(Y).getInstance(),we=(0,a["default"])(Y).getInstance(),we.setConfig({streamController:X,timelineConverter:fe,metricsModel:re,dashMetrics:ie,manifestModel:ee,dashManifestModel:te,adapter:ne,videoModel:Ee}),Q.on(h["default"].TIME_SYNCHRONIZATION_COMPLETED,D,this),Q.on(h["default"].PLAYBACK_SEEKING,p,this),Q.on(h["default"].PLAYBACK_TIME_UPDATED,l,this),Q.on(h["default"].PLAYBACK_ENDED,f,this),Q.on(h["default"].PLAYBACK_ERROR,s,this),Q.on(h["default"].PLAYBACK_STARTED,g,this),Q.on(h["default"].PLAYBACK_PAUSED,m,this),Q.on(h["default"].MANIFEST_UPDATED,N,this),Q.on(h["default"].STREAM_BUFFERING_COMPLETED,_,this)}function n(e,t){t=t||new Date,Ie&&(pe&&pe.getProcessors().forEach(function(n){var r=n.getScheduleController();r&&r.finalisePlayList(t,e)}),re.addPlayList(Ie),Ie=null)}function r(e){Ie=new w.PlayList,Ie.start=new Date,Ie.mstart=1e3*we.getTime(),Ie.starttype=e,pe&&pe.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(Ie)})}function i(e,t,n){Q.trigger(e,{fromStreamInfo:t?t.getStreamInfo():null,toStreamInfo:n.getStreamInfo()})}function o(){pe.isActivated()&&Ce&&0===pe.getStreamInfo().index&&(pe.startEventController(),ve&&we.play())}function s(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}_e=!0,e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),W("Video Element Error: "+t),e.error&&W(e.error),ce.mediaSourceError(t),G()}}function l(e){if(L()){var t=Ee.getPlaybackQuality();t&&re.addDroppedFrames("video",t)}we.isSeeking()||e.timeToEnd<K&&ae.signalEndOfStream(Te)}function f(){var e=T();e&&x(pe,e,NaN),n(e?w.PlayListTrace.END_OF_PERIOD_STOP_REASON:w.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function p(e){var t=E(e.seekTime);t&&t!==pe?(n(w.PlayListTrace.END_OF_PERIOD_STOP_REASON),x(pe,t,e.seekTime)):n(w.PlayListTrace.USER_REQUEST_STOP_REASON),r(w.PlayList.SEEK_START_REASON)}function g(){Ce?(Ce=!1,r(w.PlayList.INITIAL_PLAYOUT_START_REASON)):Pe&&(Pe=!1,r(w.PlayList.RESUME_FROM_PAUSE_START_REASON))}function m(e){e.ended||(Pe=!0,n(w.PlayListTrace.USER_REQUEST_STOP_REASON))}function _(e){Te&&e.streamInfo.isLast&&ae.signalEndOfStream(Te)}function T(){var e=pe.getStreamInfo().start,t=pe.getStreamInfo().duration;return de.filter(function(n){return n.getStreamInfo().start===e+t})[0]}function E(e){var t=0,n=null,r=de.length;r>0&&(t+=de[0].getStartTime());for(var i=0;i<r;i++)if(n=de[i],t+=n.getDuration(),e<t)return n;return null}function S(e,t){for(var n=null,r=0,i=0,o=null,a=de.length,s=0;s<a;s++){if(n=de[s],i=n.getStartTime(),o=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(o)&&(r+=o)}return null}function C(){var e=[];return pe.getProcessors().forEach(function(t){e.push(t.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,e)}function x(e,t,n){function r(){isNaN(n)?function(){var e=we.getStreamStartTime(!0);pe.getProcessors().forEach(function(t){ne.setIndexHandlerTime(t,e)}),we.seek(e)}():we.seek(n),we.play(),pe.startEventController(),me=!1,i(h["default"].PERIOD_SWITCH_COMPLETED,e,t)}!me&&e&&t&&e!==t&&(me=!0,i(h["default"].PERIOD_SWITCH_STARTED,e,t),e.deactivate(),pe=t,we.initialize(pe.getStreamInfo()),xe=j(),A(r))}function A(e){function t(){W("MediaSource is open!"),window.URL.revokeObjectURL(n),Te.removeEventListener("sourceopen",t),Te.removeEventListener("webkitsourceopen",t),O(),pe.activate(Te),e&&e()}var n=void 0;Te?ae.detachMediaSource(Ee):Te=ae.createMediaSource(),Te.addEventListener("sourceopen",t,!1),Te.addEventListener("webkitsourceopen",t,!1),n=ae.attachMediaSource(Te,Ee),W("MediaSource attached to element.  Waiting on open...")}function O(){var e,t;e=pe.getStreamInfo().manifestInfo.duration,t=ae.setDuration(Te,e),W("Duration successfully set to: "+t)}function k(){var e,t,n,r,o,a,s,l=ee.getValue(),c=re.getMetricsFor("stream"),f=ie.getCurrentManifestUpdate(c),d=[];if(l){a=ne.getStreamsInfo(l),he&&(Q.trigger(h["default"].PROTECTION_CREATED,{controller:he,manifest:l}),he.setMediaElement(Ee.getElement()),ge&&he.setProtectionData(ge));try{if(0===a.length)throw new Error("There are no streams");for(re.updateManifestUpdateInfo(f,{currentTime:we.getTime(),buffered:Ee.getElement().buffered,presentationStartTime:a[0].start,clientTimeOffset:fe.getClientTimeOffset()}),ye=!0,r=0,t=a.length;r<t;r++){for(e=a[r],o=0,n=de.length;o<n;o++)de[o].getId()===e.id&&(s=de[o],d.push(s),s.updateData(e));s||(s=(0,u["default"])(Y).create({manifestModel:ee,manifestUpdater:J,adapter:ne,timelineConverter:fe,capabilities:$,errHandler:ce,baseURLController:ue}),s.initialize(e,he),Q.on(h["default"].STREAM_INITIALIZED,R,this),d.push(s),pe&&s.updateData(e)),re.addManifestUpdateStreamInfo(f,e.id,e.index,e.start,e.duration),s=null}de=d,pe||(pe=de[0],i(h["default"].PERIOD_SWITCH_STARTED,null,pe),we.initialize(pe.getStreamInfo()),i(h["default"].PERIOD_SWITCH_COMPLETED,null,pe)),Te||A(),ye=!1,M()}catch(e){ce.manifestError(e.message,"nostreamscomposed",l),be=!0,G()}}}function M(){if(!ye){var e=de.length,t=0;for(o(),t;t<e;t++)if(!de[t].isInitialized())return;Q.trigger(h["default"].STREAMS_COMPOSED)}}function R(){M()}function D(){k()}function N(e){if(e.error)be=!0,G();else{var t,n,r=e.manifest,i=ne.getStreamsInfo(r)[0],o=ne.getMediaInfoForType(r,i,"video")||ne.getMediaInfoForType(r,i,"audio");o&&(t=ne.getDataForMedia(o),(n=te.getRepresentationsForAdaptation(r,t)[0].useCalculatedLiveEdgeTime)&&(W("SegmentTimeline detected using calculated Live Edge Time"),Se.setUseManifestDateHeaderTimeSource(!1)));var a=te.getUTCTimingSources(e.manifest),s=!te.getIsDynamic(r)||n?a:a.concat(Se.getUTCTimingSources()),u=(0,v["default"])(Y).getInstance().isManifestHTTPS();s.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===b["default"].DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(u?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),u?"https://":"http://"),W("Matching default timing source protocol to manifest protocol: ",e.value))}),ue.initialize(r),se.setConfig({metricsModel:re,dashMetrics:ie}),se.initialize(s,Se.getUseManifestDateHeaderTimeSource())}}function L(){return void 0===xe&&(xe=j()),xe}function j(){var e=!1;return pe.getProcessors().forEach(function(t){"video"===t.getMediaInfo().type&&(e=!0)}),e}function F(){return ve}function B(){return pe?pe.getStreamInfo():null}function U(e){return pe.getId()===e.id}function H(e){return de.filter(function(t){return t.getId()===e})[0]}function V(e){Z.load(e)}function z(e){J.setManifest(e)}function q(e){e&&(e.capabilities&&($=e.capabilities),e.manifestLoader&&(Z=e.manifestLoader),e.manifestModel&&(ee=e.manifestModel),e.dashManifestModel&&(te=e.dashManifestModel),e.protectionController&&(he=e.protectionController),e.adapter&&(ne=e.adapter),e.metricsModel&&(re=e.metricsModel),e.dashMetrics&&(ie=e.dashMetrics),e.liveEdgeFinder&&(oe=e.liveEdgeFinder),e.mediaSourceController&&(ae=e.mediaSourceController),e.timeSyncController&&(se=e.timeSyncController),e.baseURLController&&(ue=e.baseURLController),e.errHandler&&(ce=e.errHandler),e.timelineConverter&&(fe=e.timelineConverter))}function G(){se.reset(),n(_e||be?w.PlayListTrace.FAILURE_STOP_REASON:w.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=de.length;e<t;e++){var r=de[e];Q.off(h["default"].STREAM_INITIALIZED,R,this),r.reset(_e)}de=[],Q.off(h["default"].PLAYBACK_TIME_UPDATED,l,this),Q.off(h["default"].PLAYBACK_SEEKING,p,this),Q.off(h["default"].PLAYBACK_ERROR,s,this),Q.off(h["default"].PLAYBACK_STARTED,g,this),Q.off(h["default"].PLAYBACK_PAUSED,m,this),Q.off(h["default"].PLAYBACK_ENDED,f,this),Q.off(h["default"].MANIFEST_UPDATED,N,this),Q.off(h["default"].STREAM_BUFFERING_COMPLETED,_,this),ue.reset(),J.reset(),re.clearAllCurrentMetrics(),ee.setValue(null),Z.reset(),fe.reset(),oe.reset(),ne.reset(),le.reset(),me=!1,ye=!1,pe=null,_e=!1,be=!1,xe=void 0,Ce=!0,Pe=!1,Te&&(ae.detachMediaSource(Ee),Te=null),Ee=null,he&&(he.setMediaElement(null),he=null,ge=null,ee.getValue()&&Q.trigger(h["default"].PROTECTION_DESTROYED,{data:ee.getValue().url})),Q.trigger(h["default"].STREAM_TEARDOWN_COMPLETE)}var K=1,Y=this.context,W=(0,P["default"])(Y).getInstance().log,Q=(0,d["default"])(Y).getInstance(),X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,Ee=void 0,we=void 0,Se=void 0,Pe=void 0,Ce=void 0,Ie=void 0,xe=void 0;return X={initialize:t,getAutoPlay:F,getActiveStreamInfo:B,isStreamActive:U,isVideoTrackPresent:L,getStreamById:H,getTimeRelativeToStreamId:S,load:V,loadWithManifest:z,getActiveStreamCommonEarliestTime:C,setConfig:q,reset:G},e(),X}Object.defineProperty(n,"__esModule",{value:!0});var o=e(68),a=r(o),s=e(54),u=r(s),l=e(50),c=r(l),f=e(9),d=r(f),p=e(13),h=r(p),g=e(103),v=r(g),m=e(104),y=r(m),_=e(101),b=r(_),T=e(10),E=r(T),w=e(181),S=e(8),P=r(S),C=e(152),I=r(C);i.__dashjs_factory_name="StreamController",n["default"]=E["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,101:101,103:103,104:104,13:13,152:152,181:181,50:50,54:54,68:68,8:8,9:9}],72:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){y=!1,_=null,b=null,T=null,E=null,w=null,h.on(u["default"].DATA_UPDATE_COMPLETED,f,this),h.on(u["default"].INIT_FRAGMENT_LOADED,d,this)}function n(e,t,n){T=e,s(t),E=n,w=E.getRepresentationController()}function r(e){try{b=g.createSourceBuffer(_,e),y||(b.hasOwnProperty("initialize")&&b.initialize(T,this),y=!0)}catch(e){v.mediaSourceError("Error creating "+T+" source buffer.")}return b}function i(){return b}function o(e){b=e}function s(e){_=e}function l(){return E}function c(e){h.off(u["default"].DATA_UPDATE_COMPLETED,f,this),h.off(u["default"].INIT_FRAGMENT_LOADED,d,this),e||(g.abort(_,b),g.removeSourceBuffer(_,b))}function f(e){e.sender.getStreamProcessor()===E&&h.trigger(u["default"].TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function d(e){e.fragmentModel===E.getFragmentModel()&&e.chunk.bytes&&g.append(b,e.chunk)}var p=this.context,h=(0,a["default"])(p).getInstance(),g=e.sourceBufferController,v=e.errHandler,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,E=void 0,w=void 0;return m={initialize:n,createBuffer:r,getBuffer:i,setBuffer:o,getStreamProcessor:l,setMediaSource:s,reset:c},t(),m}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(10),c=r(l);i.__dashjs_factory_name="TextController",n["default"]=c["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],73:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){M=t,A=0,O=!1,k=!1,R={"urn:mpeg:dash:utc:http-head:2014":T,"urn:mpeg:dash:utc:http-xsdate:2014":b.bind(null,d),"urn:mpeg:dash:utc:http-iso:2014":b.bind(null,p),"urn:mpeg:dash:utc:direct:2014":_,"urn:mpeg:dash:utc:http-head:2012":T,"urn:mpeg:dash:utc:http-xsdate:2012":b.bind(null,d),"urn:mpeg:dash:utc:http-iso:2012":b.bind(null,p),"urn:mpeg:dash:utc:direct:2012":_,"urn:mpeg:dash:utc:http-ntp:2014":y,"urn:mpeg:dash:utc:ntp:2014":y,"urn:mpeg:dash:utc:sntp:2014":y},i()||(S(e),o(!0))}function t(e){e&&(e.metricsModel&&(D=e.metricsModel),e.dashMetrics&&(N=e.dashMetrics))}function n(){return l()}function r(e){O=e}function i(){return O}function o(e){k=e}function s(e){A=e}function l(){return A}function f(e){var t,n,r=1e3,i=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/,o=i.exec(e);return t=Date.UTC(parseInt(o[1],10),parseInt(o[2],10)-1,parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5],10),o[6]&&(parseInt(o[6],10)||0),o[7]&&parseFloat(o[7])*r||0),o[9]&&o[10]&&(n=60*parseInt(o[9],10)+parseInt(o[10],10),t+=("+"===o[8]?-1:1)*n*60*r),new Date(t).getTime()}function d(e){var t=Date.parse(e);return isNaN(t)&&(t=f(e)),t}function p(e){return Date.parse(e)}function m(e){return Date.parse(e)}function y(e,t,n){n()}function _(e,t,n){var r=d(e);return isNaN(r)?void n():void t(r)}function b(e,t,n,r,i){var o,a,s=!1,u=new XMLHttpRequest,l=i?"HEAD":"GET",c=t.match(/\S+/g);t=c.shift(),o=function(){s||(s=!0,c.length?b(e,c.join(" "),n,r,i):r())},a=function(){var t,r;200===u.status&&(t=i?u.getResponseHeader("Date"):u.response,r=e(t),isNaN(r)||(n(r),s=!0))},u.open(l,t),u.timeout=v||0,u.onload=a,u.onloadend=o,u.send()}function T(e,t,n){b(m,e,t,n,!0)}function E(){var e=D.getReadOnlyMetricsFor("stream"),t=N.getLatestMPDRequestHeaderValueByID(e,"Date"),n=null!==t?new Date(t).getTime():Number.NaN;isNaN(n)?w(!0):(s(n-(new Date).getTime()),w(!1,n/1e3,A))}function w(e,t,n){r(!1),x.trigger(c["default"].TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:n,error:e?new a["default"](g):null})}function S(e,t){var n=t||0,i=e[n],o=function(e,t){var n=!e||!t;n&&M?E():w(n,e,t)};r(!0),i?R.hasOwnProperty(i.schemeIdUri)?R[i.schemeIdUri](i.value,function(e){var t=(new Date).getTime(),n=e-t;s(n),I("Local time:      "+new Date(t)),I("Server time:     "+new Date(e)),I("Difference (ms): "+n),o(e,n)},function(){S(e,n+1)}):S(e,n+1):(s(0),o())}function P(){o(!1),r(!1)}var C=this.context,I=(0,h["default"])(C).getInstance().log,x=(0,u["default"])(C).getInstance(),A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0;return{initialize:e,getOffsetToDeviceTimeMs:n,setConfig:t,reset:P}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(162),a=r(o),s=e(9),u=r(s),l=e(13),c=r(l),f=e(10),d=r(f),p=e(8),h=r(p),g=1,v=5e3;i.__dashjs_factory_name="TimeSyncController";var m=d["default"].getSingletonFactory(i);m.TIME_SYNC_FAILED_ERROR_CODE=g,m.HTTP_TIMEOUT_MS=v,n["default"]=m,t.exports=n["default"]},{10:10,13:13,162:162,8:8,9:9}],74:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){C.on(c["default"].XLINK_ELEMENT_LOADED,l,x),R=(0,a["default"])(P).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){A=e}function r(e){O=e}function i(e){var t;M=new h["default"](A,"",!0),k=e,t=d(k.Period_asArray,k,_,m),s(t,_,m)}function o(){C.off(c["default"].XLINK_ELEMENT_LOADED,l,x),R&&(R.reset(),R=null)}function s(e,t,n){var r,i,o,a={};for(a.elements=e,a.type=t,a.resolveType=n,0===a.elements.length&&f(a),o=0;o<a.elements.length;o++)r=a.elements[o],i=I.isHTTPURL(r.url)?r.url:r.originalContent.BaseURL+r.url,R.load(i,r,a)}function l(e){var t,n,r,i="";t=e.element,n=e.resolveObject,t.resolvedContent&&(r=t.resolvedContent.indexOf(">")+1,i=t.resolvedContent.substr(0,r)+"<response>"+t.resolvedContent.substr(r)+"</response>",t.resolvedContent=M.xml_str2json(i)),w(n)&&f(n)}function f(e){var t,n,r=[];if(p(e),e.resolveType===y&&C.trigger(c["default"].XLINK_READY,{manifest:k}),e.resolveType===m)switch(e.type){case _:for(t=0;t<k[_+"_asArray"].length;t++)n=k[_+"_asArray"][t],n.hasOwnProperty(b+"_asArray")&&(r=r.concat(d(n[b+"_asArray"],n,b,m))),n.hasOwnProperty(T+"_asArray")&&(r=r.concat(d(n[T+"_asArray"],n,T,m)));s(r,b,m);break;case b:C.trigger(c["default"].XLINK_READY,{manifest:k})}}function d(e,t,n,r){var i,o,a,s=[];for(o=e.length-1;o>=0;o--)i=e[o],i.hasOwnProperty("xlink:href")&&i["xlink:href"]===E&&e.splice(o,1);for(o=0;o<e.length;o++)i=e[o],i.hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===r&&(a=g(i["xlink:href"],t,n,o,r,i),s.push(a));return s}function p(e){var t,n,r,i,o,a,s=[];for(i=e.elements.length-1;i>=0;i--){if(t=e.elements[i],n=t.type+"_asArray",!t.resolvedContent||S())delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],s.push(t.originalContent);else if(t.resolvedContent)for(o=0;o<t.resolvedContent[n].length;o++)r=t.resolvedContent[n][o],s.push(r);for(t.parentElement[n].splice(t.index,1),a=0;a<s.length;a++)t.parentElement[n].splice(t.index+a,0,s[a]);s=[]}e.elements.length>0&&O.run(k)}function g(e,t,n,r,i,o){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:o,resolvedContent:null,resolved:!1}}function w(e){var t,n;for(t=0;t<e.elements.length;t++)if(n=e.elements[t],!1===n.resolved)return!1;return!0}function S(){return!1}var P=this.context,C=(0,u["default"])(P).getInstance(),I=(0,v["default"])(P).getInstance(),x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0;return x={resolveManifestOnLoad:i,setMatchers:n,setIron:r,reset:o},t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=e(59),a=r(o),s=e(9),u=r(s),l=e(13),c=r(l),f=e(10),d=r(f),p=e(4),h=r(p),g=e(158),v=r(g),m="onLoad",y="onActuate",_="Period",b="AdaptationSet",T="EventStream",E="urn:mpeg:dash:resolve-to-zero:2013";i.__dashjs_factory_name="XlinkController",n["default"]=d["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,158:158,4:4,59:59,9:9}],75:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return i=(0,a["default"])(r).getInstance({eventBus:e.eventBus,metricsModel:e.metricsModel}),(0,c["default"])(r).create(e)}function t(){return(0,h["default"])(r).getInstance()}function n(){return(0,d["default"])(r).getInstance()}var r=this.context,i=void 0;return{createMetricsReporting:e,getReportingFactory:t,getMetricsHandlerFactory:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(89),a=r(o),s=e(76),u=r(s),l=e(77),c=r(l),f=e(82),d=r(f),p=e(87),h=r(p),g=e(10),v=r(g);i.__dashjs_factory_name="MetricsReporting";var m=v["default"].getClassFactory(i);m.events=u["default"],n["default"]=m,t.exports=n["default"]},{10:10,76:76,77:77,82:82,87:87,89:89}],76:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(14),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return o(t,e),t}(u["default"]),c=new l;n["default"]=c,t.exports=n["default"]},{14:14}],77:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(t){if(!t.error){var n=Object.keys(i);(0,u["default"])(o).getInstance({dashManifestModel:e.dashManifestModel}).getMetrics(t.manifest).forEach(function(t){var r=JSON.stringify(t);if(i.hasOwnProperty(r))n.splice(r,1);else try{var s=(0,a["default"])(o).create(e);s.initialize(t),i[r]=s}catch(e){}}),n.forEach(function(e){i[e].reset(),delete i[e]}),s.trigger(d["default"].METRICS_INITIALISATION_COMPLETE)}}function n(){Object.keys(i).forEach(function(e){i[e].reset()}),i={}}function r(){s.on(h["default"].MANIFEST_UPDATED,t),s.on(h["default"].STREAM_TEARDOWN_COMPLETE,n)}var i={},o=this.context,s=e.eventBus;return r(),{}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(78),a=r(o),s=e(91),u=r(s),l=e(10),c=r(l),f=e(76),d=r(f),p=e(13),h=r(p);i.__dashjs_factory_name="MetricsCollectionController",n["default"]=c["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,76:76,78:78,91:91}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(t){try{o=(0,u["default"])(a).create({mediaElement:e.mediaElement}),o.initialize(t.Range),i=(0,c["default"])(a).create({log:e.log}),i.initialize(t.Reporting,o),r=(0,d["default"])(a).create({log:e.log,eventBus:e.eventBus}),r.initialize(t.metrics,i)}catch(e){throw n(),e}}function n(){r&&r.reset(),i&&i.reset(),o&&o.reset()}var r=void 0,i=void 0,o=void 0,a=this.context;return{initialize:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(80),u=r(s),l=e(81),c=r(l),f=e(79),d=r(f);i.__dashjs_factory_name="MetricsController",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,79:79,80:80,81:81}],79:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){i.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}function n(e,n){e.split(",").forEach(function(e,t,r){var o;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var a=r[t+1];a&&-1===a.indexOf("(")&&-1!==a.indexOf(")")&&(e+=","+a,delete r[t+1])}(o=l.create(e,n))&&i.push(o)}),u.on(c["default"].METRIC_ADDED,t,o),u.on(c["default"].METRIC_UPDATED,t,o)}function r(){u.off(c["default"].METRIC_ADDED,t,o),u.off(c["default"].METRIC_UPDATED,t,o),i.forEach(function(e){return e.reset()}),i=[]}var i=[],o=void 0,s=this.context,u=e.eventBus,l=(0,a["default"])(s).getInstance({log:e.log,eventBus:e.eventBus});return o={initialize:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(82),a=r(o),s=e(10),u=r(s),l=e(52),c=r(l);i.__dashjs_factory_name="MetricsHandlersController",n["default"]=u["default"].getClassFactory(i),t.exports=n["default"]},{10:10,52:52,82:82}],80:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,n=t+e.duration;l.add(t,n)}),o=!!e[0]._useWallClockTime)}function n(){l.clear()}function r(){l=(0,u["default"])(a).create()}function i(){var e,t=l.length;if(!t)return!0;e=o?(new Date).getTime()/1e3:c.currentTime;for(var n=0;n<t;n+=1){var r=l.start(n),i=l.end(n);if(r<=e&&e<i)return!0}return!1}var o=!1,a=this.context,s=void 0,l=void 0,c=e.mediaElement;return s={initialize:t,reset:n,isEnabled:i},r(),s}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(148),u=r(s);i.__dashjs_factory_name="RangeController",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,148:148}],81:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){e.some(function(e){var n=o.create(e,t);if(n)return i.push(n),!0})}function n(){i.forEach(function(e){return e.reset()}),i=[]}function r(e,t){i.forEach(function(n){return n.report(e,t)})}var i=[],o=(0,u["default"])(this.context).getInstance({log:e.log});return{initialize:t,reset:n,report:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(87),u=r(s);i.__dashjs_factory_name="ReportingController",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,87:87}],82:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(t,n){var r,u=t.match(o);if(u){try{r=s[u[1]](a).create({eventBus:e.eventBus}),r.initialize(u[1],n,u[3],u[5])}catch(e){r=null,i("MetricsHandlerFactory: Could not create handler for type "+u[1]+" with args "+u[3]+", "+u[5]+" ("+e.message+")")}return r}}function n(e,t){s[e]=t}function r(e){delete s[e]}var i=e.log,o=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,a=this.context,s={BufferLevel:u["default"],DVBErrors:c["default"],
HttpList:d["default"],PlayList:h["default"],RepSwitchList:h["default"],TcpList:h["default"]};return{create:t,register:n,unregister:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(83),u=r(s),l=e(84),c=r(l),f=e(86),d=r(f),p=e(85),h=r(p);i.__dashjs_factory_name="MetricsHandlerFactory",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,83:83,84:84,85:85,86:86}],83:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){try{return Object.keys(p).map(function(e){return p[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}function t(){var t=e();t&&c!==t.t&&(c=t.t,o.report(s,t))}function n(e,n,r){n&&(a=d.validateN(r),o=n,s=d.reconstructFullMetricName(e,r),l=setInterval(t,a))}function r(){clearInterval(l),l=null,a=0,o=null,c=null}function i(e,t,n){"BufferLevel"===e&&(p[n]=t)}var o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,f=this.context,d=(0,u["default"])(f).getInstance(),p=[];return{initialize:n,reset:r,handleNewMetric:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(90),u=r(s);i.__dashjs_factory_name="BufferLevelHandler",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,90:90}],84:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){a.off(u["default"].METRICS_INITIALISATION_COMPLETE,t,this),a.trigger(u["default"].BECAME_REPORTING_PLAYER)}function n(e,n){n&&(o=n,a.on(u["default"].METRICS_INITIALISATION_COMPLETE,t,this))}function r(){o=null}function i(e,t){"DVBErrors"===e&&o&&o.report(e,t)}var o=void 0,a=e.eventBus;return{initialize:n,reset:r,handleNewMetric:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(76),u=r(s);n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,76:76}],85:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){r=e,i=t}function t(){i=null,r=void 0}function n(e,t){e===r&&i&&i.report(r,t)}var r=void 0,i=void 0;return{initialize:e,reset:t,handleNewMetric:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="GenericMetricHandler",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){var e=c;e.length&&i&&i.report(s,e),c=[]}function t(t,n,r,u){n&&(o=f.validateN(r),i=n,u&&u.length&&(a=u),s=f.reconstructFullMetricName(t,r,u),l=setInterval(e,o))}function n(){clearInterval(l),l=null,o=null,a=null,c=[],i=null}function r(e,t){"HttpList"===e&&(a&&a!==t.type||c.push(t))}var i=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=[],f=(0,u["default"])(this.context).getInstance();return{initialize:t,reset:n,handleNewMetric:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(90),u=r(s);i.__dashjs_factory_name="HttpListHandler",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,90:90}],87:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var n;try{n=i[e.schemeIdUri](o).create(),n.initialize(e,t)}catch(t){n=null,a("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return n}function n(e,t){i[e]=t}function r(e){delete i[e]}var i={"urn:dvb:dash:reporting:2014":u["default"]},o=this.context,a=e.log;return{create:t,register:n,unregister:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(88),u=r(s);i.__dashjs_factory_name="ReportingFactory",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,88:88}],88:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t,n){var r=new XMLHttpRequest,i=function(){var e=g.indexOf(r);-1!==e&&(g.splice(e,1),r.status>=200&&r.status<300?t&&t():n&&n())};g.push(r);try{r.open("GET",e),r.onloadend=i,r.onerror=i,r.send()}catch(e){r.onerror()}}function t(t,n){Array.isArray(n)||(n=[n]),l&&p.isEnabled()&&n.forEach(function(n){var r=o.serialise(n);s&&"DVBErrors"!==t&&(r="metricname="+t+"&"+r),r=d+"?"+r,e(r,null,function(){l=!1})})}function n(e,t){var n;if(p=t,!(d=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");f||(n=e["dvb:probability"]||e["dvb:priority"]||0,n&&(1e3===n||n/1e3>=a.random())&&(l=!0),f=!0)}function r(){h||(g.forEach(function(e){return e.abort()}),g=[]),f=!1,l=!1,d=null,p=null}var i=this.context,o=(0,u["default"])(i).getInstance(),a=(0,c["default"])(i).getInstance(),s=!0,l=!1,f=!1,d=null,p=null,h=!0,g=[];return{report:t,initialize:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(92),u=r(s),l=e(93),c=r(l);i.__dashjs_factory_name="DVBReporting",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,92:92,93:93}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){var t=new a["default"];if(m){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=m.originalUrl||m.url),t.terror||(t.terror=new Date),v.addDVBErrors(t)}}function n(e){e.error||(m=e.manifest)}function r(e){t({errorcode:a["default"].BASE_URL_CHANGED,servicelocation:e.entry})}function i(){t({errorcode:a["default"].BECAME_REPORTER})}function o(e){(0===e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&t({errorcode:e.responsecode||a["default"].CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function s(e){switch(e.metric){case"HttpList":o(e.value)}}function l(e){var n;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:n=a["default"].CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:n=a["default"].CORRUPT_MEDIA_OTHER;break;default:return}t({errorcode:n})}function f(){g.on(u["default"].MANIFEST_UPDATED,n,h),g.on(u["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,r,h),g.on(c["default"].METRIC_ADDED,s,h),g.on(c["default"].METRIC_UPDATED,s,h),g.on(c["default"].PLAYBACK_ERROR,l,h),g.on(d["default"].BECAME_REPORTING_PLAYER,i,h)}function p(){g.off(u["default"].MANIFEST_UPDATED,n,h),g.off(u["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,r,h),g.off(c["default"].METRIC_ADDED,s,h),g.off(c["default"].METRIC_UPDATED,s,h),g.off(c["default"].PLAYBACK_ERROR,l,h),g.off(d["default"].BECAME_REPORTING_PLAYER,i,h)}var h=void 0,g=e.eventBus,v=e.metricsModel,m=void 0;return h={initialise:f,reset:p},f(),h}Object.defineProperty(n,"__esModule",{value:!0});var o=e(94),a=r(o),s=e(13),u=r(s),l=e(52),c=r(l),f=e(76),d=r(f),p=e(10),h=r(p);i.__dashjs_factory_name="DVBErrorsTranslator",n["default"]=h["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,52:52,76:76,94:94}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="HandlerHelpers",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],91:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t,n){var i,o,a=r.getMpd(e),s=0;return t?s=a.availabilityStartTime.getTime()/1e3:(i=this.getRegularPeriods(e,a),i.length&&(s=i[0].start)),o=s,n&&n.hasOwnProperty("starttime")&&(o+=n.starttime),o}function n(e){var n=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(i){var o=new a["default"],s=r.getIsDynamic(e);i.hasOwnProperty("metrics")&&(o.metrics=i.metrics,i.Range_asArray&&i.Range_asArray.forEach(function(n){var i=new u["default"];i.starttime=t(e,s,n),n.hasOwnProperty("duration")?i.duration=n.duration:i.duration=r.getDuration(e),i._useWallClockTime=s,o.Range.push(i)}),i.Reporting_asArray&&(i.Reporting_asArray.forEach(function(e){var t=new c["default"];if(e.hasOwnProperty("schemeIdUri")){t.schemeIdUri=e.schemeIdUri;for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);o.Reporting.push(t)}}),n.push(o)))}),n}var r=e.dashManifestModel;return{getMetrics:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(95),a=r(o),s=e(96),u=r(s),l=e(97),c=r(l),f=e(10),d=r(f);i.__dashjs_factory_name="ManifestParsing",n["default"]=d["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,95:95,96:96,97:97}],92:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(t){var n,r,i=[],o=[];for(n in t)if(t.hasOwnProperty(n)&&0!==n.indexOf("_")){if(r=t[n],void 0!==r&&null!==r||(r=""),Array.isArray(r)){if(!r.length)continue;o=[],r.forEach(function(t){var n="Object"!==Object.prototype.toString.call(t).slice(8,-1);o.push(n?t:e(t))}),r=encodeURIComponent(o.join(","))}else"string"==typeof r?r=encodeURIComponent(r):r instanceof Date?r=r.toISOString():"number"==typeof r&&(r=Math.round(r));i.push(n+"="+r)}return i.join("&")}return{serialise:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="MetricSerialiser",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],93:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){n&&(a||(a=new r(o)),n.getRandomValues(a),s=0)}function t(t,r){var o;return t||(t=0),r||(r=1),n?(s===a.length&&e(),o=a[s]/i,s+=1):o=Math.random(),o*(r-t)+t}var n=window.crypto||window.msCrypto,r=Uint32Array,i=Math.pow(2,8*r.BYTES_PER_ELEMENT)-1,o=10,a=void 0,s=void 0,u=void 0;return u={random:t},e(),u}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="RNG",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],94:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00",n["default"]=i,t.exports=n["default"]},{}],95:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.metrics="",this.Range=[],this.Reporting=[]};n["default"]=i,t.exports=n["default"]},{}],96:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};n["default"]=i,t.exports=n["default"]},{}],97:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.schemeIdUri="",this.value=""};n["default"]=i,t.exports=n["default"]},{}],98:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){function e(){f=new p}function t(e,t,n){var r=g.getBaseURLsFromElement(n);e[t]?v.areSimpleEquivalent(r,e[t].data.baseUrls)||(e[t].data.baseUrls=r,e[t].data.selectedIdx=d):e[t]=new p(r)}function n(e){var n=g.getBaseURLsFromElement(e);v.areSimpleEquivalent(n,f.data.baseUrls)||(f.data.baseUrls=n,f.data.selectedIdx=d),e.Period_asArray&&e.Period_asArray.forEach(function(e,n){t(f.children,n,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,r){t(f.children[n].children,r,e),e.Representation_asArray&&e.Representation_asArray.sort(g.getRepresentationSortFunction()).forEach(function(e,i){t(f.children[n].children[r].children,i,e)})})})}function r(e,t){var n=t||f;e(n.data),n.children&&n.children.forEach(function(t){return r(e,t)})}function i(e){r(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=d)})}function o(e){n(e)}function a(){f=new p}function u(e){var t=f,n=[t.data];return e.forEach(function(e){(t=t.children[e])&&n.push(t.data)}),n.filter(function(e){return e.baseUrls.length})}var c=void 0,f=void 0,h=this.context,g=(0,s["default"])(h).getInstance(),v=(0,l["default"])(h).getInstance();return c={reset:a,update:o,getForPath:u,invalidateSelectedIndexes:i},e(),c}Object.defineProperty(n,"__esModule",{value:!0});var a=e(22),s=r(a),u=e(155),l=r(u),c=e(10),f=r(c),d=NaN,p=function e(t,n){i(this,e),this.data={baseUrls:t||null,selectedIdx:n||d},this.children=[]};o.__dashjs_factory_name="BaseURLTreeModel",n["default"]=f["default"].getClassFactory(o),t.exports=n["default"]},{10:10,155:155,22:22}],99:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){A=null,M=null,O=[],k=[],C.on(u["default"].LOADING_COMPLETED,E,x)}function n(e){M=e}function r(e){A=e}function i(){return A}function o(e){var t=function(e,t){return e.action===d["default"].ACTION_COMPLETE&&e.action===t.action},n=function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex},r=function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality};return function(i){var o=!1;return i.some(function(i){if(n(e,i)||r(e,i)||t(e,i))return o=!0}),o}(O)}function s(e){var t=e.state instanceof Array?e.state:[e.state],n=[];return t.forEach(function(t){var r=b(t);n=n.concat(_(r,e))}),n}function l(e){O=O.filter(function(t){return isNaN(t.startTime)||t.startTime>=e})}function c(){M.abort(),k=[]}function f(e){switch(e.action){case d["default"].ACTION_COMPLETE:O.push(e),T(e,v),C.trigger(u["default"].STREAM_COMPLETED,{request:e,fragmentModel:this});break;case d["default"].ACTION_DOWNLOAD:T(e,g),k.push(e),p(e);break;default:P("Unknown request action.")}}function p(e){C.trigger(u["default"].FRAGMENT_LOADING_STARTED,{sender:x,request:e}),M.load(e)}function m(e,t,n){for(var r=e.length-1,i=r;i>=0;i--){var o=e[i],a=o.startTime,s=a+o.duration;if(n=void 0!==n?n:o.duration/2,!isNaN(a)&&!isNaN(s)&&t+n>=a&&t-n<s||isNaN(a)&&isNaN(t))return o}return null}function _(e,t){return t.hasOwnProperty("time")?[m(e,t.time,t.threshold)]:e.filter(function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0})}function b(e){var t=void 0;switch(e){case g:t=k;break;case v:t=O;break;default:t=[]}return t}function T(e,t){I.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),I.addRequestsQueue(e.mediaType,k,O)}function E(e){e.sender===M&&(k.splice(k.indexOf(e.request),1),e.response&&!e.error&&O.push(e.request),T(e.request,e.error?y:v),C.trigger(u["default"].FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function w(){C.off(u["default"].LOADING_COMPLETED,E,this),M&&(M.reset(),M=null),O=[],k=[]}var S=this.context,P=(0,h["default"])(S).getInstance().log,C=(0,a["default"])(S).getInstance(),I=e.metricsModel,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0;return x={setLoader:n,setScheduleController:r,getScheduleController:i,getRequests:s,isFragmentLoaded:o,removeExecutedRequestsBeforeTime:l,abortRequests:c,executeRequest:f,reset:w},t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(10),c=r(l),f=e(163),d=r(f),p=e(8),h=r(p),g="loading",v="executed",m="canceled",y="failed";i.__dashjs_factory_name="FragmentModel";var _=c["default"].getClassFactory(i);_.FRAGMENT_MODEL_LOADING=g,_.FRAGMENT_MODEL_EXECUTED=v,_.FRAGMENT_MODEL_CANCELED=m,_.FRAGMENT_MODEL_FAILED=y,n["default"]=_,t.exports=n["default"]},{10:10,13:13,163:163,8:8,9:9}],100:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){return i}function t(e){i=e,e&&r.trigger(u["default"].MANIFEST_LOADED,{data:e})}var n=this.context,r=(0,a["default"])(n).getInstance(),i=void 0;return{getValue:e,setValue:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(10),c=r(l);i.__dashjs_factory_name="ManifestModel",n["default"]=c["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],101:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){function e(){var e,t;Se=[],we=!1,Ee=!0,Ie=!0,Ve=!1,qe=!1,Oe={enabled:!0,ttl:f},ke={enabled:!0,ttl:d},Pe=c,Ce=void 0,xe=g,Ae=v,Me=NaN,Re=_,De=b,Ne=T,Le=E,je=p,Fe=h,He=A,ze=O,e={},i(e,u.HTTPRequest.MPD_TYPE,P),i(e,u.HTTPRequest.XLINK_EXPANSION_TYPE,I),i(e,u.HTTPRequest.MEDIA_SEGMENT_TYPE,w),i(e,u.HTTPRequest.INIT_SEGMENT_TYPE,w),i(e,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,w),i(e,u.HTTPRequest.INDEX_SEGMENT_TYPE,w),i(e,u.HTTPRequest.OTHER_TYPE,w),Be=e,t={},i(t,u.HTTPRequest.MPD_TYPE,C),i(t,u.HTTPRequest.XLINK_EXPANSION_TYPE,x),i(t,u.HTTPRequest.MEDIA_SEGMENT_TYPE,S),i(t,u.HTTPRequest.INIT_SEGMENT_TYPE,S),i(t,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,S),i(t,u.HTTPRequest.INDEX_SEGMENT_TYPE,S),i(t,u.HTTPRequest.OTHER_TYPE,S),Ue=t}function t(e){Ve=e}function n(){return Ve}function r(e){je=e}function o(){return je}function a(e){Fe=e}function s(){return Fe}function l(e){Me=e}function k(){return isNaN(Me)?qe?y:m:Me}function M(e){Re=e}function R(){return Re}function D(e){De=e}function N(){return De}function L(e){Ne=e}function j(){return Ne}function F(e){Le=e}function B(){return Le}function U(e){xe=e}function H(){return xe}function V(e,t){Oe.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(Oe.ttl=t)}function z(){return Oe}function q(e,t){ke.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(ke.ttl=t)}function G(){return ke}function K(e){Ae=e}function Y(){return Ae}function W(e){Be[u.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function Q(e,t){Be[e]=t}function X(){return Be[u.HTTPRequest.MEDIA_SEGMENT_TYPE]}function $(e){return Be[e]}function J(e){Ue[u.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function Z(e,t){Ue[e]=t}function ee(){return Ue[u.HTTPRequest.MEDIA_SEGMENT_TYPE]}function te(e){return Ue[e]}function ne(e){He=e}function re(){return He}function ie(e){Ie=e}function oe(){return Ie}function ae(e){Pe=e}function se(e){Ce=e}function ue(){return Pe}function le(){return Ce}function ce(e){Ee=e}function fe(){return Ee}function de(e){we=e}function pe(){return we}function he(e){Se=e}function ge(){return Se}function ve(e){ze=!!e}function me(){return ze}function ye(){return qe}function _e(e){qe=e}function be(){}var Te=void 0,Ee=void 0,we=void 0,Se=void 0,Pe=void 0,Ce=void 0,Ie=void 0,xe=void 0,Ae=void 0,Oe=void 0,ke=void 0,Me=void 0,Re=void 0,De=void 0,Ne=void 0,Le=void 0,je=void 0,Fe=void 0,Be=void 0,Ue=void 0,He=void 0,Ve=void 0,ze=void 0,qe=void 0;return Te={setBufferOccupancyABREnabled:t,getBufferOccupancyABREnabled:n,setBandwidthSafetyFactor:r,getBandwidthSafetyFactor:o,setAbandonLoadTimeout:a,getAbandonLoadTimeout:s,setLastBitrateCachingInfo:V,getLastBitrateCachingInfo:z,setLastMediaSettingsCachingInfo:q,getLastMediaSettingsCachingInfo:G,setStableBufferTime:l,getStableBufferTime:k,setBufferTimeAtTopQuality:M,getBufferTimeAtTopQuality:R,setBufferTimeAtTopQualityLongForm:D,getBufferTimeAtTopQualityLongForm:N,setLongFormContentDurationThreshold:L,getLongFormContentDurationThreshold:j,setRichBufferThreshold:F,getRichBufferThreshold:B,setBufferToKeep:U,getBufferToKeep:H,setBufferPruningInterval:K,getBufferPruningInterval:Y,setFragmentRetryAttempts:W,getFragmentRetryAttempts:X,setRetryAttemptsForType:Q,getRetryAttemptsForType:$,setFragmentRetryInterval:J,getFragmentRetryInterval:ee,setRetryIntervalForType:Z,getRetryIntervalForType:te,setWallclockTimeUpdateInterval:ne,getWallclockTimeUpdateInterval:re,setScheduleWhilePaused:ie,getScheduleWhilePaused:oe,getUseSuggestedPresentationDelay:pe,setUseSuggestedPresentationDelay:de,setLiveDelayFragmentCount:ae,getLiveDelayFragmentCount:ue,getLiveDelay:le,setLiveDelay:se,setUseManifestDateHeaderTimeSource:ce,getUseManifestDateHeaderTimeSource:fe,setUTCTimingSources:he,getUTCTimingSources:ge,setXHRWithCredentials:ve,getXHRWithCredentials:me,setFastSwitchEnabled:_e,getFastSwitchEnabled:ye,reset:be},e(),Te}Object.defineProperty(n,"__esModule",{value:!0});var a=e(10),s=r(a),u=e(179),l={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},c=4,f=36e4,d=36e4,p=.9,h=1e4,g=30,v=30,m=12,y=20,_=30,b=60,T=600,E=20,w=3,S=1e3,P=3,C=500,I=1,x=500,A=50,O=!1;o.__dashjs_factory_name="MediaPlayerModel";var k=s["default"].getSingletonFactory(o);k.DEFAULT_UTC_TIMING_SOURCE=l,n["default"]=k,t.exports=n["default"]},{10:10,179:179}],102:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){G={}}function t(e){e&&e.adapter&&(q=e.adapter)}function n(){V.trigger(x["default"].METRICS_CHANGED)}function r(e){V.trigger(x["default"].METRIC_CHANGED,{mediaType:e}),n()}function i(e,t,n){V.trigger(x["default"].METRIC_UPDATED,{mediaType:e,metric:t,value:n}),r(e)}function o(e,t,n){V.trigger(x["default"].METRIC_ADDED,{mediaType:e,metric:t,value:n}),r(e)}function s(e){delete G[e],r(e)}function c(){G={},n()}function d(e){return G.hasOwnProperty(e)?G[e]:null}function h(e){var t;return G.hasOwnProperty(e)?t=G[e]:(t=new a["default"],G[e]=t),t}function v(e,t,n,r,i,a){var s=new u["default"];return s.tcpid=t,s.dest=n,s.topen=r,s.tclose=i,s.tconnect=a,h(e).TcpList.push(s),o(e,q.metricsList.TCP_CONNECTION,s),s}function y(e,t,n,r){var i=new l.HTTPRequestTrace;return i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n,i}function T(e,t,n,r,i,a,s,u,c,f,d,p,g,v){var m=new l.HTTPRequest;return i&&i!==r&&(T(e,null,n,r,null,null,s,u,null,null,null,p,null,null),m.actualurl=i),m.tcpid=t,m.type=n,m.url=r,m.range=s,m.trequest=u,m.tresponse=c,m.responsecode=d,m._tfinish=f,m._stream=e,m._mediaduration=p,m._responseHeaders=g,m._serviceLocation=a,v?v.forEach(function(e){y(m,e.s,e.d,e.b)}):(delete m.interval,delete m.trace),h(e).HttpList.push(m),o(e,q.metricsList.HTTP_REQUEST,m),m}function w(e,t,n,r,i){var a=new f["default"];return a.t=t,a.mt=n,a.to=r,i?a.lto=i:delete a.lto,h(e).RepSwitchList.push(a),o(e,q.metricsList.TRACK_SWITCH,a),a}function P(e,t,n){var r=new p["default"];return r.t=t,r.level=n,h(e).BufferLevel.push(r),o(e,q.metricsList.BUFFER_LEVEL,r),r}function I(e,t,n){var r=new g["default"];return r.target=n,r.state=t,h(e).BufferState.push(r),o(e,q.metricsList.BUFFER_STATE,r),r}function A(e,t,n,r){var i=new m["default"];return i.time=t,i.range=r,i.manifestInfo=n,h(e).DVRInfo.push(i),o(e,q.metricsList.DVR_INFO,i),i}function O(e,t){var n=new _["default"],r=h(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n?r[r.length-1]:(r.push(n),o(e,q.metricsList.DROPPED_FRAMES,n),n)}function k(e,t,n,r,i,a,s,u,l){var c=new E["default"];return c.mediaType=e,c.t=t,c.type=n,c.startTime=r,c.availabilityStartTime=i,c.duration=a,c.quality=s,c.range=u,c.state=l,h(e).SchedulingInfo.push(c),o(e,q.metricsList.SCHEDULING_INFO,c),c}function R(e,t,n){var r=new C["default"];r.loadingRequests=t,r.executedRequests=n,h(e).RequestsQueue=r,o(e,q.metricsList.REQUESTS_QUEUE,r)}function D(e,t,n,r,i,a,s,u,l,c){var f=new b.ManifestUpdate,d=h("stream");return f.mediaType=e,f.type=t,f.requestTime=n,f.fetchTime=r,f.availabilityStartTime=i,f.presentationStartTime=a,f.clientTimeOffset=s,f.currentTime=u,f.buffered=l,f.latency=c,d.ManifestUpdate.push(f),o(e,q.metricsList.MANIFEST_UPDATE,f),f}function N(e,t){if(e){for(var n in t)e[n]=t[n];i(e.mediaType,q.metricsList.MANIFEST_UPDATE,e)}}function L(e,t,n,r,o){if(e){var a=new b.ManifestUpdateStreamInfo;return a.id=t,a.index=n,a.start=r,a.duration=o,e.streamInfo.push(a),i(e.mediaType,q.metricsList.MANIFEST_UPDATE_STREAM_INFO,e),a}return null}function j(e,t,n,r,o,a,s,u){if(e){var l=new b.ManifestUpdateTrackInfo;return l.id=t,l.index=n,l.streamIndex=r,l.mediaType=o,l.startNumber=s,l.fragmentInfoType=u,l.presentationTimeOffset=a,e.trackInfo.push(l),i(e.mediaType,q.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),l}return null}function F(e){var t="stream";return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,h(t).PlayList.push(e),o(t,q.metricsList.PLAY_LIST,e),e}function B(e){var t="stream";return h(t).DVBErrors.push(e),o(t,q.metricsList.DVB_ERRORS,e),e}function U(e,t){var n=new M["default"];return n._s=t,h(e).BolaState=[n],o(e,"BolaState",n),n}var H=this.context,V=(0,S["default"])(H).getInstance(),z=void 0,q=void 0,G=void 0;return z={metricsChanged:n,metricChanged:r,metricUpdated:i,metricAdded:o,clearCurrentMetricsForType:s,clearAllCurrentMetrics:c,getReadOnlyMetricsFor:d,getMetricsFor:h,addTcpConnection:v,addHttpRequest:T,addRepresentationSwitch:w,addBufferLevel:P,addBufferState:I,addDVRInfo:A,addDroppedFrames:O,addSchedulingInfo:k,addRequestsQueue:R,addManifestUpdate:D,updateManifestUpdateInfo:N,addManifestUpdateStreamInfo:L,addManifestUpdateRepresentationInfo:j,addPlayList:F,addDVBErrors:B,updateBolaState:U,setConfig:t},e(),z}Object.defineProperty(n,"__esModule",{value:!0});var o=e(168),a=r(o),s=e(185),u=r(s),l=e(179),c=e(182),f=r(c),d=e(175),p=r(d),h=e(176),g=r(h),v=e(177),m=r(v),y=e(178),_=r(y),b=e(180),T=e(184),E=r(T),w=e(9),S=r(w),P=e(183),C=r(P),I=e(13),x=r(I),A=e(10),O=r(A),k=e(174),M=r(k);i.__dashjs_factory_name="MetricsModel",n["default"]=O["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,168:168,174:174,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,9:9}],103:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){o=new a["default"],s=[],u=!1}function t(){return o}function n(){return s}function r(){return u}function i(e){function t(e,t,n,r){var i=r[0].split(/[=]/);return r.push({key:i[0],value:i[1]}),r.shift(),r}function n(e,t,n){return t>0&&(c&&0===s.length?s=n[t].split(/[&]/):f&&(r=n[t].split(/[&]/))),n}if(!e)return null;var r=[],i=new RegExp(/[?]/),a=new RegExp(/[#]/),l=new RegExp(/^(https:)?\/\//i),c=i.test(e),f=a.test(e);return u=l.test(e),e.split(/[?#]/).map(n),s.length>0&&(s=s.reduce(t,null)),r.length>0&&(r=r.reduce(t,null),r.forEach(function(e){o[e.key]=e.value})),e}var o=void 0,s=void 0,u=void 0;return{initialize:e,parseURI:i,getURIFragmentData:t,getURIQueryData:n,isManifestHTTPS:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(173),a=r(o),s=e(10),u=r(s);i.__dashjs_factory_name="URIQueryAndFragmentModel",n["default"]=u["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,173:173}],104:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){b=[]}function t(e){!m||m.readyState<2||(m.playbackRate=e)}function n(e){if(m.currentTime!=e)try{m.currentTime=e}catch(t){0===m.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout(function(){m.currentTime=e},400)}}function r(){return m}function i(e){m=e,m.preload="auto"}function o(e){e?m.src=e:(m.removeAttribute("src"),m.load())}function a(){return m.src}function s(){return _}function u(e){_=e}function l(){return y}function c(e){y=e,y.style.position="absolute",y.style.display="flex",y.style.overflow="hidden",y.style.pointerEvents="none",y.style.top=0,y.style.left=0}function f(e,t){g(e,t)}function d(){return b.length>0}function p(e){var n=void 0;null===e||m.seeking||-1!==b.indexOf(e)||(b.push(e),1===b.length&&(n=document.createEvent("Event"),n.initEvent("waiting",!0,!1),T=m.playbackRate,t(0),m.dispatchEvent(n)))}function h(e){var n=b.indexOf(e),r=void 0;null!==e&&(-1!==n&&b.splice(n,1),!1===d()&&0===m.playbackRate&&(r=document.createEvent("Event"),r.initEvent("playing",!0,!1),t(T||1),m.dispatchEvent(r)))}function g(e,t){t?p(e):h(e)}function v(){var e="webkitDroppedFrameCount"in m,t="getVideoPlaybackQuality"in m,n=null;return t?n=m.getVideoPlaybackQuality():e&&(n={droppedVideoFrames:m.webkitDroppedFrameCount,creationTime:new Date}),n}var m=void 0,y=void 0,_=void 0,b=void 0,T=void 0;return{initialize:e,setCurrentTime:n,setStallState:f,getElement:r,setElement:i,setSource:o,getSource:a,getVideoContainer:s,setVideoContainer:u,getTTMLRenderingDiv:l,setTTMLRenderingDiv:c,getPlaybackQuality:v}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="VideoModel",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],105:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(1),s=r(a),u=function(){function e(){i(this,e)}return o(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,r>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,n){var r=e.parsePSSHList(n);return r.hasOwnProperty(t.uuid.toLowerCase())?r[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e){return"pssh"in e?s["default"].decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e),n=!1,r={},i=0;!n;){var o,a,s,u,l=i;if(i>=t.buffer.byteLength)break;if(o=t.getUint32(i),a=i+o,i+=4,1886614376===t.getUint32(i))if(i+=4,0===(s=t.getUint8(i))||1===s){i++,i+=3,u="";var c,f;for(c=0;c<4;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;for(i+=4,u+="-",c=0;c<2;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;for(i+=2,u+="-",c=0;c<2;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;for(i+=2,u+="-",c=0;c<2;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;for(i+=2,u+="-",c=0;c<6;c++)f=t.getUint8(i+c).toString(16),u+=1===f.length?"0"+f:f;i+=6,u=u.toLowerCase(),t.getUint32(i),i+=4,r[u]=t.buffer.slice(l,a),i=a}else i=a;else i=a}return r}}]),e}();n["default"]=u,t.exports=n["default"]},{1:1}],106:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var n=null,i=(0,u["default"])(r).getInstance();i.setConfig({log:e.log}),i.initialize();var o=t(e);return!n&&o&&(n=(0,a["default"])(r).create({protectionModel:o,protectionKeyController:i,adapter:e.adapter,eventBus:e.eventBus,log:e.log}),e.capabilities.setEncryptedMediaSupported(!0)),n}function t(e){var t=e.log,i=e.eventBus,o=e.videoModel.getElement();return void 0!==o.onencrypted&&void 0!==o.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(t("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,d["default"])(r).create({log:t,eventBus:i})):n(o,b)?(t("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,h["default"])(r).create({log:t,eventBus:i,api:n(o,b)})):n(o,_)?(t("EME detected on this user agent! (ProtectionModel_01b)"),(0,v["default"])(r).create({log:t,eventBus:i,api:n(o,_)})):(t("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}var r=this.context;return{createProtectionSystem:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(108),a=r(o),s=e(109),u=r(s),l=e(107),c=r(l),f=e(114),d=r(f),p=e(115),h=r(p),g=e(113),v=r(g),m=e(10),y=r(m),_=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",
cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],b=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];i.__dashjs_factory_name="Protection";var T=y["default"].getClassFactory(i);T.events=c["default"],n["default"]=T,t.exports=n["default"]},{10:10,107:107,108:108,109:109,113:113,114:114,115:115}],107:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(14),u=r(s),l=function(e){function t(){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return o(t,e),t}(u["default"]),c=new l;n["default"]=c,t.exports=n["default"]},{14:14}],108:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){A=w.getKeySystems(),O=[],D=!1,N="temporary",L="",u["default"].extend(v["default"].events)}function n(e,t,n){if(!D){var r;t||n||(r=P.getStreamsInfo(e)[0]),k=t||(r?P.getMediaInfoForType(e,r,"audio"):null),M=n||(r?P.getMediaInfoForType(e,r,"video"):null);var i=M||k,o=w.getSupportedKeySystemsFromContentProtection(i.contentProtection);o&&o.length>0&&_(o,!0),D=!0}}function r(e){var t=a["default"].getPSSHForKeySystem(j,e);if(t){for(var n=S.getAllInitData(),r=0;r<n.length;r++)if(w.initDataEquals(t,n[r]))return void I("DRM: Ignoring initData because we have already seen it!");try{S.createKeySession(t,N)}catch(e){C.trigger(u["default"].KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+e.message})}}else C.trigger(u["default"].KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+j.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function i(e){S.loadKeySession(e)}function o(e){S.removeKeySession(e)}function s(e){S.closeKeySession(e)}function l(e){S.setServerCertificate(e)}function f(e){e?(S.setMediaElement(e),C.on(u["default"].NEED_KEY,E,this),C.on(u["default"].INTERNAL_KEY_MESSAGE,T,this)):null===e&&(S.setMediaElement(e),C.off(u["default"].NEED_KEY,E,this),C.off(u["default"].INTERNAL_KEY_MESSAGE,T,this))}function p(e){N=e}function h(e){L=e}function g(e){R=e}function m(){f(null),j=void 0,S&&(S.reset(),S=null)}function y(e){var t=null,n=e.systemString;return R&&(t=n in R?R[n]:null),t}function _(e,t){var n=this,i=[],o=[];M&&o.push(new c["default"](M.codec,L)),k&&i.push(new c["default"](k.codec,L));var a,s=new d["default"](i,o,"optional","temporary"===N?"optional":"required",[N]),l=[];if(j){for(a=0;a<e.length;a++)if(j===e[a].ks){var f=function(){l.push({ks:e[a].ks,configs:[s]});var i=function i(o){C.off(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,i,n),o.error?t||C.trigger(u["default"].KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+o.error}):(I("DRM: KeySystem Access Granted"),C.trigger(u["default"].KEY_SYSTEM_SELECTED,{data:o.data}),r(e[a].initData))};return C.on(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,i,n),S.requestKeySystemAccess(l),"break"}();if("break"===f)break}}else if(void 0===j){j=null,O.push(e);for(var p=0;p<e.length;p++)l.push({ks:e[p].ks,configs:[s]});var h,g=function e(r){C.off(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,e,n),r.error?(j=void 0,C.off(u["default"].INTERNAL_KEY_SYSTEM_SELECTED,v,n),t||C.trigger(u["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+r.error})):(h=r.data,I("DRM: KeySystem Access Granted ("+h.keySystem.systemString+")!  Selecting key system..."),S.selectKeySystem(h))},v=function e(i){if(C.off(u["default"].INTERNAL_KEY_SYSTEM_SELECTED,e,n),C.off(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,g,n),i.error)j=void 0,t||C.trigger(u["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+i.error});else{j=S.getKeySystem(),C.trigger(u["default"].KEY_SYSTEM_SELECTED,{data:h});for(var o=0;o<O.length;o++)for(a=0;a<O[o].length;a++)if(j===O[o][a].ks){r(O[o][a].initData);break}}};C.on(u["default"].INTERNAL_KEY_SYSTEM_SELECTED,v,n),C.on(u["default"].KEY_SYSTEM_ACCESS_COMPLETE,g,n),S.requestKeySystemAccess(l)}else O.push(e)}function b(e,t){C.trigger(u["default"].LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function T(e){if(I("DRM: onKeyMessage"),e.error)return void I(e.error);var t=e.data;C.trigger(u["default"].KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",r=t.message,i=t.sessionToken,o=y(j),s=j.systemString,l=w.getLicenseServer(j,o,n),c={sessionToken:i,messageType:n};if(!l)return I("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+i.getSessionID()),void b(c);if(w.isClearKey(j)){var f=w.processClearKeyLicenseRequest(o,r);if(f)return I("DRM: ClearKey license request handled by application!"),b(c),void S.updateKeySession(i,f)}var d=new XMLHttpRequest,p=null;if(o)if(o.serverURL){var h=o.serverURL;"string"==typeof h&&""!==h?p=h:"object"==typeof h&&h.hasOwnProperty(n)&&(p=h[n])}else o.laURL&&""!==o.laURL&&(p=o.laURL);else(p=j.getLicenseServerURLFromInitData(a["default"].getPSSHData(i.initData)))||(p=e.data.laURL);if(!(p=l.getServerURLFromMessage(p,r,n)))return void b(c,"DRM: No license server URL specified!");d.open(l.getHTTPMethod(n),p,!0),d.responseType=l.getResponseType(s,n),d.onload=function(){200==this.status?(b(c),S.updateKeySession(i,l.getLicenseMessage(this.response,s,n))):b(c,"DRM: "+s+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?l.getErrorResponse(this.response,s,n):"NONE"))},d.onabort=function(){b(c,"DRM: "+s+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},d.onerror=function(){b(c,"DRM: "+s+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var g=function(e){var t;if(e)for(t in e)"authorization"===t.toLowerCase()&&(d.withCredentials=!0),d.setRequestHeader(t,e[t])};o&&g(o.httpRequestHeaders),g(j.getRequestHeadersFromMessage(r)),o&&o.withCredentials&&(d.withCredentials=!0),d.send(j.getLicenseRequestFromMessage(r))}function E(e){if(I("DRM: onNeedKey"),"cenc"!==e.key.initDataType)return void I("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType);var t=e.key.initData;ArrayBuffer.isView(t)&&(t=t.buffer),I("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(t)));var n=w.getSupportedKeySystems(t,R);return 0===n.length?void I("DRM: Received needkey event with initData, but we don't support any of the key systems!"):void _(n,!1)}var w=e.protectionKeyController,S=e.protectionModel,P=e.adapter,C=e.eventBus,I=e.log,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0;return x={initialize:n,createKeySession:r,loadKeySession:i,removeKeySession:o,closeKeySession:s,setServerCertificate:l,setMediaElement:f,setSessionType:p,setRobustnessLevel:h,setProtectionData:g,reset:m},t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=e(105),a=r(o),s=e(13),u=r(s),l=e(126),c=r(l),f=e(125),d=r(f),p=e(10),h=r(p),g=e(106),v=r(g);i.__dashjs_factory_name="ProtectionController",n["default"]=h["default"].getClassFactory(i),t.exports=n["default"]},{10:10,105:105,106:106,125:125,126:126,13:13}],109:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.log&&(m=e.log)}function t(){_=[];var e;e=(0,d["default"])(g).getInstance(),_.push(e),e=(0,c["default"])(g).getInstance(),_.push(e),e=(0,u["default"])(g).getInstance(),_.push(e),T=e}function n(){return _}function r(e){for(var t=0;t<_.length;t++)if(_[t].systemString===e)return _[t];return null}function i(e){return e===T}function o(e,t){if(e.byteLength===t.byteLength){for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}return!1}function s(e){var t,n,r,i,o=[];if(e)for(r=0;r<_.length;++r)for(n=_[r],i=0;i<e.length;++i)if(t=e[i],t.schemeIdUri.toLowerCase()===n.schemeIdURI){var a=n.getInitData(t);a&&o.push({ks:_[r],initData:a})}return o}function l(e,t){var n,r=[],i=a["default"].parsePSSHList(e);for(n=0;n<_.length;++n){var o=_[n].systemString,s=!t||o in t;_[n].uuid in i&&s&&r.push({ks:_[n],initData:i[_[n].uuid]})}return r}function f(e,t,n){if("license-release"===n||"individualization-request"===n)return null;var r=null;return t&&t.hasOwnProperty("drmtoday")?r=(0,h["default"])(g).getInstance():"com.widevine.alpha"===e.systemString?r=(0,y["default"])(g).getInstance():"com.microsoft.playready"===e.systemString?r=(0,v["default"])(g).getInstance():"org.w3.clearkey"===e.systemString&&(r=(0,b["default"])(g).getInstance()),r}function p(e,t){try{return T.getClearKeysFromProtectionData(e,t)}catch(e){return m("Failed to retrieve clearkeys from ProtectionData"),null}}var g=this.context,m=void 0,_=void 0,T=void 0;return{initialize:t,isClearKey:i,initDataEquals:o,getKeySystems:n,getKeySystemBySystemString:r,getSupportedKeySystemsFromContentProtection:s,getSupportedKeySystems:l,getLicenseServer:f,processClearKeyLicenseRequest:p,setConfig:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(105),a=r(o),s=e(110),u=r(s),l=e(112),c=r(l),f=e(111),d=r(f),p=e(117),h=r(p),g=e(118),v=r(g),m=e(119),y=r(m),_=e(116),b=r(_),T=e(10),E=r(T);i.__dashjs_factory_name="ProtectionKeyController",n["default"]=E["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105,110:110,111:111,112:112,116:116,117:117,118:118,119:119}],110:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],o=0;o<r.kids.length;o++){var s=r.kids[o],l=e.clearkeys.hasOwnProperty(s)?e.clearkeys[s]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+s+") is not known!");i.push(new a["default"](s,l))}n=new u["default"](i)}return n}function t(e){return c["default"].parseInitDataFromContentProtection(e)}function n(){return null}function r(e){return new Uint8Array(e)}function i(){return null}return{uuid:p,schemeIdURI:g,systemString:h,getInitData:t,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:r,getLicenseServerURLFromInitData:i,getClearKeysFromProtectionData:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(123),a=r(o),s=e(120),u=r(s),l=e(105),c=r(l),f=e(10),d=r(f),p="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",h="org.w3.clearkey",g="urn:uuid:"+p;i.__dashjs_factory_name="KeySystemClearKey",n["default"]=d["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105,120:120,123:123}],111:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t,n,r={},i=new DOMParser,a="utf16"===o?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,a),n=i.parseFromString(t,"application/xml");for(var s=n.getElementsByTagName("name"),u=n.getElementsByTagName("value"),l=0;l<s.length;l++)r[s[l].childNodes[0].nodeValue]=u[l].childNodes[0].nodeValue;return r.hasOwnProperty("Content")&&(r["Content-Type"]=r.Content,delete r.Content),r}function t(e){var t,n,r=null,i=new DOMParser,a="utf16"===o?new Uint16Array(e):new Uint8Array(e);if(t=String.fromCharCode.apply(null,a),n=i.parseFromString(t,"application/xml"),n.getElementsByTagName("Challenge")[0]){var s=n.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;s&&(r=d["default"].decode(s))}return r}function n(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,o=0;o<n;o++){var a=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===a){var u=e.slice(r,r+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),c=i.parseFromString(l,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var f=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(f)return f}if(c.getElementsByTagName("LUI_URL")[0]){var d=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(d)return d}}else r+=s}return null}function r(e){var t,n,r,i,o,s=new Uint8Array([112,115,115,104,0,0,0,0]),u=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),l=0,c=null;if("pssh"in e)return a["default"].parseInitDataFromContentProtection(e);if("pro"in e)c=d["default"].decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;c=d["default"].decodeArray(e.prheader.__text)}return t=c.length,n=4+s.length+u.length+4+t,r=new ArrayBuffer(n),i=new Uint8Array(r),o=new DataView(r),o.setUint32(l,n),l+=4,i.set(s,l),l+=s.length,i.set(u,l),l+=u.length,o.setUint32(l,t),l+=4,i.set(c,l),l+=t,i.buffer}function i(e){if("utf8"!==e&&"utf16"!==e)throw new u["default"]("Illegal PlayReady message format! -- "+e);o=e}var o="utf16";return{uuid:p,schemeIdURI:g,systemString:h,getInitData:r,getRequestHeadersFromMessage:e,getLicenseRequestFromMessage:t,getLicenseServerURLFromInitData:n,setPlayReadyMessageFormat:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(105),a=r(o),s=e(162),u=r(s),l=e(10),c=r(l),f=e(1),d=r(f),p="9a04f079-9840-4286-ab92-e65be0885f95",h="com.microsoft.playready",g="urn:uuid:"+p;i.__dashjs_factory_name="KeySystemPlayReady",n["default"]=c["default"].getSingletonFactory(i),t.exports=n["default"]},{1:1,10:10,105:105,162:162}],112:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return a["default"].parseInitDataFromContentProtection(e)}function t(){return null}function n(e){return new Uint8Array(e)}function r(){return null}return{uuid:l,schemeIdURI:f,systemString:c,getInitData:e,getRequestHeadersFromMessage:t,getLicenseRequestFromMessage:n,getLicenseServerURLFromInitData:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(105),a=r(o),s=e(10),u=r(s),l="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",c="com.widevine.alpha",f="urn:uuid:"+l;i.__dashjs_factory_name="KeySystemWidevine",n["default"]=u["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105}],113:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){O=null,k=null,D=[],N=[],M=(0,a["default"])(P).getInstance(),R=(0,b["default"])(P).getInstance(),j=E()}function n(){O&&S();for(var e=0;e<N.length;e++)g(N[e]);C.trigger(y["default"].TEARDOWN_COMPLETE)}function r(){return k}function i(){for(var e=[],t=0;t<D.length;t++)e.push(D[t].initData);for(var t=0;t<N.length;t++)e.push(N[t].initData);return e}function o(e){var t=O;t||(t=document.createElement("video"));for(var n=!1,r=0;r<e.length;r++)for(var i=e[r].ks.systemString,o=e[r].configs,a=null,s=null,u=0;u<o.length;u++){var l=o[u].videoCapabilities;if(l&&0!==l.length){s=[];for(var c=0;c<l.length;c++)""!==t.canPlayType(l[c].contentType,i)&&s.push(l[c])}if(!(!a&&!s||a&&0===a.length||s&&0===s.length)){n=!0;var f=new h["default"](a,s),d=M.getKeySystemBySystemString(i);C.trigger(y["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new v["default"](d,f)});break}}n||C.trigger(y["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function s(e){k=e.keySystem,C.trigger(y["default"].INTERNAL_KEY_SYSTEM_SELECTED)}function l(e){O!==e&&(O&&S(),(O=e)&&(O.addEventListener(x.keyerror,j),O.addEventListener(x.needkey,j),O.addEventListener(x.keymessage,j),O.addEventListener(x.keyadded,j),C.trigger(y["default"].VIDEO_ELEMENT_SELECTED)))}function f(e){if(!k)throw new Error("Can not create sessions until you have selected a key system");if(L||0===N.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return D.push(t),O[x.generateKeyRequest](k.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")}function p(e,t){var n=e.sessionID;if(M.isClearKey(k))for(var r=0;r<t.keyPairs.length;r++)O[x.addKey](k.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else O[x.addKey](k.systemString,new Uint8Array(t),e.initData,n)}function g(e){O[x.cancelKeyRequest](k.systemString,e.sessionID)}function m(){}function _(){}function T(){}function E(){return{handleEvent:function(e){var t=null;switch(e.type){case x.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;C.trigger(y["default"].NEED_KEY,{key:new u["default"](n,"cenc")});break;case x.keyerror:if(t=w(N,e.sessionId),t||(t=w(D,e.sessionId)),t){var r="";switch(e.errorCode.code){case 1:r+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:r+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:r+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:r+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:r+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:r+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}r+="  System Code = "+e.systemCode,C.trigger(y["default"].KEY_ERROR,{data:new c["default"](t,r)})}else I("No session token found for key error");break;case x.keyadded:t=w(N,e.sessionId),t||(t=w(D,e.sessionId)),t?(I("DRM: Key added."),C.trigger(y["default"].KEY_ADDED,{data:t})):I("No session token found for key added");break;case x.keymessage:if(L=null!==e.sessionId&&void 0!==e.sessionId,L?!(t=w(N,e.sessionId))&&D.length>0&&(t=D.shift(),N.push(t),t.sessionID=e.sessionId):D.length>0&&(t=D.shift(),N.push(t),0!==D.length&&R.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),t){var i=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=i,C.trigger(y["default"].INTERNAL_KEY_MESSAGE,{data:new d["default"](t,i,e.defaultURL)})}else I("No session token found for key message")}}}}function w(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function S(){O.removeEventListener(x.keyerror,j),O.removeEventListener(x.needkey,j),O.removeEventListener(x.keymessage,j),O.removeEventListener(x.keyadded,j)}var P=this.context,C=e.eventBus,I=e.log,x=e.api,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0;return A={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:s,setMediaElement:l,createKeySession:f,updateKeySession:p,closeKeySession:g,setServerCertificate:m,loadKeySession:_,removeKeySession:T,reset:n},t(),A}Object.defineProperty(n,"__esModule",{value:!0});var o=e(109),a=r(o),s=e(127),u=r(s),l=e(121),c=r(l),f=e(122),d=r(f),p=e(125),h=r(p),g=e(124),v=r(g),m=e(13),y=r(m),_=e(151),b=r(_),T=e(10),E=r(T);i.__dashjs_factory_name="ProtectionModel_01b",n["default"]=E["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13,151:151}],114:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){C=null,I=null,x=null,A=[],k=(0,a["default"])(M).getInstance(),O=E()}function n(){var e,t=A.length;if(0!==t)for(var n=function(e){w(e),0===A.length&&(I?(I.removeEventListener("encrypted",O),I.setMediaKeys(null).then(function(){R.trigger(v["default"].TEARDOWN_COMPLETE)})):R.trigger(v["default"].TEARDOWN_COMPLETE))},r=0;r<t;r++)e=A[r],function(t){e.session.closed.then(function(){n(t)}),T(e)["catch"](function(){n(t)})}(e);else R.trigger(v["default"].TEARDOWN_COMPLETE)}function r(){return C}function i(){for(var e=[],t=0;t<A.length;t++)e.push(A[t].initData);return e}function o(e){b(e,0)}function s(e){e.mksa.createMediaKeys().then(function(t){C=e.keySystem,x=t,I&&I.setMediaKeys(x),R.trigger(v["default"].INTERNAL_KEY_SYSTEM_SELECTED)})["catch"](function(){R.trigger(v["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function l(e){I!==e&&(I&&(I.removeEventListener("encrypted",O),I.setMediaKeys(null)),(I=e)&&(I.addEventListener("encrypted",O),x&&I.setMediaKeys(x)))}function f(e){if(!C||!x)throw new Error("Can not set server certificate until you have selected a key system");x.setServerCertificate(e).then(function(){D("DRM: License server certificate successfully updated."),R.trigger(v["default"].SERVER_CERTIFICATE_UPDATED)})["catch"](function(e){R.trigger(v["default"].SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})}function p(e,t){if(!C||!x)throw new Error("Can not create sessions until you have selected a key system");var n=x.createSession(t),r=S(n,e,t);n.generateRequest("cenc",e).then(function(){D("DRM: Session created.  SessionID = "+r.getSessionID()),R.trigger(v["default"].KEY_SESSION_CREATED,{data:r})})["catch"](function(e){w(r),R.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})}function g(e,t){var n=e.session;k.isClearKey(C)&&(t=t.toJWK()),n.update(t)["catch"](function(t){R.trigger(v["default"].KEY_ERROR,{data:new c["default"](e,"Error sending update() message! "+t.name)})})}function m(e){if(!C||!x)throw new Error("Can not load sessions until you have selected a key system");var t=x.createSession();t.load(e).then(function(n){if(n){var r=S(t);D("DRM: Session created.  SessionID = "+r.getSessionID()),R.trigger(v["default"].KEY_SESSION_CREATED,{data:r})}else R.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+e+")"})})["catch"](function(t){R.trigger(v["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+e+")! "+t.name})})}function y(e){e.session.remove().then(function(){D("DRM: Session removed.  SessionID = "+e.getSessionID()),R.trigger(v["default"].KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){R.trigger(v["default"].KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})}function _(e){T(e)["catch"](function(t){w(e),R.trigger(v["default"].KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})}function b(e,t){!function(t){var n=e[t].ks,r=e[t].configs;navigator.requestMediaKeySystemAccess(n.systemString,r).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,r=new h["default"](n,t);r.mksa=e,R.trigger(v["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:r})})["catch"](function(){++t<e.length?b(e,t):R.trigger(v["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})}(t)}function T(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function E(){return{handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;R.trigger(v["default"].NEED_KEY,{key:new u["default"](t,e.initDataType)})}}}}}function w(e){for(var t=0;t<A.length;t++)if(A[t]===e){A.splice(t,1);break}}function S(e,t,n){var r={session:e,initData:t,handleEvent:function(e){switch(e.type){case"keystatuseschange":R.trigger(v["default"].KEY_STATUSES_CHANGED,{data:this});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;R.trigger(v["default"].INTERNAL_KEY_MESSAGE,{data:new d["default"](this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",r),e.addEventListener("message",r),e.closed.then(function(){w(r),D("DRM: Session closed.  SessionID = "+r.getSessionID()),R.trigger(v["default"].KEY_SESSION_CLOSED,{data:r.getSessionID()})}),A.push(r),r}var P,C,I,x,A,O,k,M=this.context,R=e.eventBus,D=e.log;return P={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:s,setMediaElement:l,setServerCertificate:f,createKeySession:p,updateKeySession:g,loadKeySession:m,removeKeySession:y,closeKeySession:_,reset:n},t(),P}Object.defineProperty(n,"__esModule",{value:!0});var o=e(109),a=r(o),s=e(127),u=r(s),l=e(121),c=r(l),f=e(122),d=r(f),p=e(124),h=r(p),g=e(13),v=r(g),m=e(10),y=r(m);i.__dashjs_factory_name="ProtectionModel_21Jan2015",n["default"]=y["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,127:127,13:13}],115:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){A=null,O=null,k=null,M=null,R=[],N=(0,a["default"])(S).getInstance(),D=T()}function n(){try{for(var e=0;e<R.length;e++)g(R[e]);A&&A.removeEventListener(I.needkey,D),P.trigger(y["default"].TEARDOWN_COMPLETE)}catch(e){P.trigger(y["default"].TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function r(){return O}function i(){for(var e=[],t=0;t<R.length;t++)e.push(R[t].initData);return e}function o(e){for(var t=!1,n=0;n<e.length;n++)for(var r=e[n].ks.systemString,i=e[n].configs,o=null,a=null,s=0;s<i.length;s++){var u=i[s].audioCapabilities,l=i[s].videoCapabilities;if(u&&0!==u.length){o=[];for(var c=0;c<u.length;c++)window[I.MediaKeys].isTypeSupported(r,u[c].contentType)&&o.push(u[c])}if(l&&0!==l.length){a=[];for(var f=0;f<l.length;f++)window[I.MediaKeys].isTypeSupported(r,l[f].contentType)&&a.push(l[f])}if(!(!o&&!a||o&&0===o.length||a&&0===a.length)){t=!0;var d=new h["default"](o,a),p=N.getKeySystemBySystemString(r);P.trigger(y["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new v["default"](p,d)});break}}t||P.trigger(y["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function s(e){try{k=e.mediaKeys=new window[I.MediaKeys](e.keySystem.systemString),O=e.keySystem,M=e,A&&E(),P.trigger(y["default"].INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){P.trigger(y["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+O.systemString+")! Could not create MediaKeys -- TODO"})}}function l(e){A!==e&&(A&&A.removeEventListener(I.needkey,D),(A=e)&&(A.addEventListener(I.needkey,D),k&&E()))}function f(e){if(!O||!k||!M)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(null!==M.ksConfiguration.videoCapabilities&&M.ksConfiguration.videoCapabilities.length>0&&(t=M.ksConfiguration.videoCapabilities[0]),null===t&&null!==M.ksConfiguration.audioCapabilities&&M.ksConfiguration.audioCapabilities.length>0&&(t=M.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var n=t.contentType,r=k.createSession(n,new Uint8Array(e)),i=w(r,e);r.addEventListener(I.error,i),r.addEventListener(I.message,i),r.addEventListener(I.ready,i),r.addEventListener(I.close,i),R.push(i),C("DRM: Session created.  SessionID = "+i.getSessionID()),P.trigger(y["default"].KEY_SESSION_CREATED,{data:i})}function p(e,t){var n=e.session;N.isClearKey(O)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))}function g(e){var t=e.session;t.removeEventListener(I.error,e),t.removeEventListener(I.message,e),t.removeEventListener(I.ready,e),t.removeEventListener(I.close,e);for(var n=0;n<R.length;n++)if(R[n]===e){R.splice(n,1);break}t[I.release]()}function m(){}function _(){}function b(){}function T(){return{handleEvent:function(e){switch(e.type){case I.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;P.trigger(y["default"].NEED_KEY,{key:new u["default"](t,"cenc")})}}}}}function E(){var e=null,t=function(){A.removeEventListener("loadedmetadata",e),A[I.setMediaKeys](k),P.trigger(y["default"].VIDEO_ELEMENT_SELECTED)};A.readyState>=1?t():(e=t.bind(this),A.addEventListener("loadedmetadata",e))}function w(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case I.error:P.trigger(y["default"].KEY_ERROR,{data:new c["default"](this,"KeyError")});break;case I.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;P.trigger(y["default"].INTERNAL_KEY_MESSAGE,{data:new d["default"](this,t,e.destinationURL)});break;case I.ready:C("DRM: Key added."),P.trigger(y["default"].KEY_ADDED);break;case I.close:C("DRM: Session closed.  SessionID = "+this.getSessionID()),P.trigger(y["default"].KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var S=this.context,P=e.eventBus,C=e.log,I=e.api,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0;return x={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:s,setMediaElement:l,createKeySession:f,updateKeySession:p,closeKeySession:g,setServerCertificate:m,loadKeySession:_,removeKeySession:b,reset:n},t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=e(109),a=r(o),s=e(127),u=r(s),l=e(121),c=r(l),f=e(122),d=r(f),p=e(125),h=r(p),g=e(124),v=r(g),m=e(13),y=r(m),_=e(10),b=r(_);i.__dashjs_factory_name="ProtectionModel_3Feb2014",n["default"]=b["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13}],116:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e=e.substring(0,e.length-1)}function t(){return"GET"}function n(){return"json"}function r(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],i=r.kid.replace(/=/g,""),o=r.k.replace(/=/g,"");t.push(new a["default"](i,o))}return new u["default"](t)}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(123),a=r(o),s=e(120),u=r(s),l=e(10),c=r(l);i.__dashjs_factory_name="ClearKey",n["default"]=c["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,120:120,123:123}],117:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(e){return o[e].responseType}function r(e,t){return o[t].getLicenseMessage(e)}function i(e,t){return o[t].getErrorResponse(e)}var o={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(e){return u["default"].decodeArray(e.license)},getErrorResponse:function(e){return e}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(e){return e},
getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(1),u=r(s);i.__dashjs_factory_name="DRMToday",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{1:1,10:10}],118:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="PlayReady",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],119:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="Widevine",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],120:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){if(r(this,e),n&&"persistent"!==n&&"temporary"!==n)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=n}return i(e,[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(r)}this.type&&(n.type=this.type);var i=JSON.stringify(n),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=i.charCodeAt(e);return a}}]),e}();n["default"]=o,t.exports=n["default"]},{}],121:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.sessionToken=t,this.error=n};n["default"]=i,t.exports=n["default"]},{}],122:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(t,n,i,o){r(this,e),this.sessionToken=t,this.message=n,this.defaultURL=i,this.messageType=o||"license-request"};n["default"]=i,t.exports=n["default"]},{}],123:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.keyID=t,this.key=n};n["default"]=i,t.exports=n["default"]},{}],124:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.keySystem=t,this.ksConfiguration=n};n["default"]=i,t.exports=n["default"]},{}],125:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(t,n,i,o,a){r(this,e),this.initDataTypes=["cenc"],this.audioCapabilities=t,this.videoCapabilities=n,this.distinctiveIdentifier=i,this.persistentState=o,this.sessionTypes=a};n["default"]=i,t.exports=n["default"]},{}],126:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.contentType=t,this.robustness=n};n["default"]=i,t.exports=n["default"]},{}],127:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(t,n){r(this,e),this.initData=t,this.initDataType=n};n["default"]=i,t.exports=n["default"]},{}],128:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){return s.mediaInfo.streamInfo}function n(){return s.mediaInfo}function r(){return s}function i(){return l}function o(){return s.mediaInfo.streamInfo.manifestInfo}function a(){return u}var s=e.streamProcessor.getCurrentRepresentationInfo(),u=e.streamProcessor,l=e.currentValue;return{getStreamInfo:t,getMediaInfo:n,getTrackInfo:r,getCurrentValue:i,getManifestInfo:o,getStreamProcessor:a}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="RulesContext",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],129:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){s={}}function t(e){e&&(e.abrRulesCollection&&(s[g]=e.abrRulesCollection),e.synchronizationRulesCollection&&(s[v]=e.synchronizationRulesCollection))}function n(e,t,n,r,o){var a,s,l={},c={},f=e.length,d=f,p=i(t,r),h=function(e){var t,i,a;if(e.value!==u["default"].NO_CHANGE){var s=o(l[e.priority],e.value);s!==l[e.priority]&&(l[e.priority]=s,c[e.priority]=e.reason)}--f||(l[u["default"].WEAK]!==u["default"].NO_CHANGE&&(a=u["default"].WEAK,t=l[u["default"].WEAK],i=c[u["default"].WEAK]),l[u["default"].DEFAULT]!==u["default"].NO_CHANGE&&(a=u["default"].DEFAULT,t=l[u["default"].DEFAULT],i=c[u["default"].DEFAULT]),l[u["default"].STRONG]!==u["default"].NO_CHANGE&&(a=u["default"].STRONG,t=l[u["default"].STRONG],i=c[u["default"].STRONG]),a!=u["default"].STRONG&&a!=u["default"].WEAK&&(a=u["default"].DEFAULT),n(void 0!==t?{value:t,confidence:a,reason:i}:{value:r,confidence:a,reason:{name:"NO_CHANGE"}}))};for(l[u["default"].STRONG]=u["default"].NO_CHANGE,l[u["default"].WEAK]=u["default"].NO_CHANGE,l[u["default"].DEFAULT]=u["default"].NO_CHANGE,s=0;s<d;s++)a=e[s],a.execute(p,h)}function r(){var e,t,n=s[g],r=s[v],i=(n.getRules(c["default"].QUALITY_SWITCH_RULES)||[]).concat(n.getRules(c["default"].ABANDON_FRAGMENT_RULES)||[]).concat(r.getRules(d["default"].TIME_SYNCHRONIZED_RULES)||[]).concat(r.getRules(d["default"].BEST_GUESS_RULES)||[]),o=i.length;for(t=0;t<o;t++)e=i[t],"function"==typeof e.reset&&e.reset();s={}}function i(e,t){return(0,a["default"])(o).create({streamProcessor:e,currentValue:t})}var o=this.context,s=void 0;return{initialize:e,setConfig:t,applyRules:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(128),a=r(o),s=e(130),u=r(s),l=e(131),c=r(l),f=e(144),d=r(f),p=e(10),h=r(p),g=0,v=1;i.__dashjs_factory_name="RulesController";var m=h["default"].getSingletonFactory(i);m.ABR_RULE=g,m.SYNC_RULE=v,n["default"]=m,t.exports=n["default"]},{10:10,128:128,130:130,131:131,144:144}],130:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return{value:void 0===e?s:e,priority:void 0===t?u:t,reason:void 0===n?null:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=999,u=.5,l=1,c=0;i.__dashjs_factory_name="SwitchRequest";var f=a["default"].getClassFactory(i);f.NO_CHANGE=s,f.DEFAULT=u,f.STRONG=l,f.WEAK=c,n["default"]=f,t.exports=n["default"]},{10:10}],131:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){r=[],i=[];var e=(0,b["default"])(n).getInstance(),t=(0,E["default"])(n).getInstance();(0,y["default"])(n).getInstance().getBufferOccupancyABREnabled()?(r.push((0,h["default"])(n).create({metricsModel:e,dashMetrics:(0,E["default"])(n).getInstance()})),i.push((0,v["default"])(n).create({metricsModel:e,dashMetrics:(0,E["default"])(n).getInstance()}))):(r.push((0,a["default"])(n).create({metricsModel:e,dashMetrics:t})),r.push((0,u["default"])(n).create({metricsModel:e,dashMetrics:t})),r.push((0,c["default"])(n).create({metricsModel:e})),i.push((0,d["default"])(n).create()))}function t(e){switch(e){case P:return r;case C:return i;default:return null}}var n=this.context,r=void 0,i=void 0;return{initialize:e,getRules:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(137),a=r(o),s=e(135),u=r(s),l=e(136),c=r(l),f=e(132),d=r(f),p=e(134),h=r(p),g=e(133),v=r(g),m=e(101),y=r(m),_=e(102),b=r(_),T=e(17),E=r(T),w=e(10),S=r(w),P="qualitySwitchRules",C="abandonFragmentRules";i.__dashjs_factory_name="ABRRulesCollection";var I=S["default"].getSingletonFactory(i);I.QUALITY_SWITCH_RULES=P,I.ABANDON_FRAGMENT_RULES=C,n["default"]=I,t.exports=n["default"]},{10:10,101:101,102:102,132:132,133:133,134:134,135:135,136:136,137:137,17:17}],132:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){h={},g={},v=[],m=(0,u["default"])(f).getInstance()}function t(e,t){h[e]=h[e]||{},h[e][t]=h[e][t]||{}}function n(e,t){v[e]=v[e]||[],v[e].push(t)}function r(e,r){var o=e.getMediaInfo(),u=o.type,d=e.getCurrentValue().request,y=(0,a["default"])(f).create(a["default"].NO_CHANGE,a["default"].WEAK,{name:i.__dashjs_factory_name});if(!isNaN(d.index)){t(u,d.index);var _=h[u][d.index];if(null===_||null===d.firstByteDate||g.hasOwnProperty(_.id))return void r(y);if(void 0===_.firstByteTime&&(v[u]=[],_.firstByteTime=d.firstByteDate.getTime(),_.segmentDuration=d.duration,_.bytesTotal=d.bytesTotal,_.id=d.index),_.bytesLoaded=d.bytesLoaded,_.elapsedTime=(new Date).getTime()-_.firstByteTime,_.bytesLoaded>0&&_.elapsedTime>0&&n(u,Math.round(8*_.bytesLoaded/_.elapsedTime)),v[u].length>=c&&_.elapsedTime>l&&_.bytesLoaded<_.bytesTotal){var b=v[u].reduce(function(e,t){return e+t},0);if(_.measuredBandwidthInKbps=Math.round(b/v[u].length),_.estimatedTimeOfDownload=(8*_.bytesTotal/_.measuredBandwidthInKbps/1e3).toFixed(2),_.estimatedTimeOfDownload<_.segmentDuration*s||0===e.getTrackInfo().quality)return void r(y);if(!g.hasOwnProperty(_.id)){var T=e.getStreamProcessor().getABRController(),E=_.bytesTotal-_.bytesLoaded,w=T.getBitrateList(o),S=T.getQualityForBitrate(o,_.measuredBandwidthInKbps*m.getBandwidthSafetyFactor());E>_.bytesTotal*w[S].bitrate/w[T.getQualityFor(u,o.streamInfo)].bitrate&&(y.value=S,y.priority=a["default"].STRONG,y.reason.throughput=_.measuredBandwidthInKbps,g[_.id]=_,p("AbandonRequestsRule ( ",u,"frag id",_.id,") is asking to abandon and switch to quality to ",S," measured bandwidth was",_.measuredBandwidthInKbps),delete h[u][_.id])}}else _.bytesLoaded===_.bytesTotal&&delete h[u][_.id]}r(y)}function o(){e()}var s=1.8,l=500,c=5,f=this.context,p=(0,d["default"])(f).getInstance().log,h=void 0,g=void 0,v=void 0,m=void 0,y={execute:r,reset:o};return e(),y}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(101),u=r(s),l=e(10),c=r(l),f=e(8),d=r(f);i.__dashjs_factory_name="AbandonRequestsRule",n["default"]=c["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,130:130,8:8}],133:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){y={},_=(0,u["default"])(f).getInstance()}function n(e,t,n){y[e]={index:t,quality:n}}function r(e,t,n){var r=y[e];return!r||t!==r.index||n<r.quality}function o(e,t){var o=e.getMediaInfo(),s=o.type,u=v.getReadOnlyMetricsFor(s),d=e.getCurrentValue(),m=d.request,_=(0,a["default"])(f).create(a["default"].NO_CHANGE,a["default"].WEAK,{name:i.__dashjs_factory_name});if(0===u.BolaState.length)return p("WARNING: executing BolaAbandonRule before initializing BolaRule"),y[s]=null,void t(_);var b=u.BolaState[0]._s,T=m.index,E=m.quality;if(isNaN(T)||0===E||!r(s,T,E)||!m.firstByteDate)return void t(_);var w=Date.now(),S=w-m.firstByteDate.getTime(),P=m.bytesLoaded,C=m.bytesTotal,I=C-P,x=m.duration,A=g.getCurrentBufferLevel(u)?g.getCurrentBufferLevel(u):0,O=A+b.virtualBuffer,k=8*P/(.001*S),M=b.bandwidthSafetyFactor*k,R=.001*(m.firstByteDate.getTime()-m.requestStartDate.getTime());R<.001*c&&(R=.001*c);var D=R+8*C/M,N="";h["default"].BOLA_DEBUG&&(N="index="+T+" quality="+E+" bytesLoaded/bytesTotal="+P+"/"+C+" bufferLevel="+A+" timeSince1stByte="+(S/1e3).toFixed(3)+" estThroughput="+(M/1e6).toFixed(3)+" latency="+R.toFixed(3));var L=C*b.bitrates[0]/b.bitrates[E],j=I-R*M/8;if(j<1&&(j=1),S<l||I<=L||A>b.bufferTarget||j<=L||D<=x)return void t(_);var F=O-R;F<0&&(F=0);for(var B=0;B+1<E&&C*b.bitrates[B+1]/b.bitrates[E]<j;)++B;var U=E;if(b.state===h["default"].BOLA_STATE_STARTUP){U=0;for(var H=0;H<=B&&!(8*(L=C*b.bitrates[H]/b.bitrates[E])/x>M);++H)U=H}else for(var V=(b.Vp*(b.utilities[E]+b.gp)-F)/j,H=0;H<=B;++H){L=C*b.bitrates[H]/b.bitrates[E];var z=(b.Vp*(b.utilities[H]+b.gp)-F)/L;z>V&&(U=H,V=z)}var q=b.rebufferSafetyFactor*k*(A-R)/8;if(U===E&&j>q&&(U=B),U===E)return void t(_);for(;U>0&&!((L=C*b.bitrates[U]/b.bitrates[E])<=q);)--U;b.lastQuality=U,v.updateBolaState(s,b),h["default"].BOLA_DEBUG&&p("BolaDebug "+s+" BolaAbandonRule abandon to "+U+" - "+N),n(s,T,E),_.value=U,_.priority=a["default"].STRONG,_.reason.state=b.state,_.reason.throughput=k,_.reason.bufferLevel=A,_.reason.bytesLoaded=m.bytesLoaded,_.reason.bytesTotal=m.bytesTotal,_.reason.elapsedTimeMs=S,t(_)}function s(){y={}}var l=500,c=200,f=this.context,p=(0,d["default"])(f).getInstance().log,g=e.dashMetrics,v=e.metricsModel,m=void 0,y=void 0,_=void 0;return m={execute:o,reset:s},t(),m}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(101),u=r(s),l=e(10),c=r(l),f=e(8),d=r(f),p=e(134),h=r(p);i.__dashjs_factory_name="BolaAbandonRule",n["default"]=c["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,130:130,134:134,8:8}],134:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){B={},U=[],H=(0,c["default"])(R).getInstance(),V=(0,d["default"])(R).getInstance(),z=(0,g["default"])(R).getInstance(),j.on(_["default"].BUFFER_EMPTY,v,F),j.on(_["default"].PLAYBACK_SEEKING,y,F),j.on(_["default"].PERIOD_SWITCH_STARTED,b,F)}function n(e){return e.map(function(e){return Math.log(e)})}function r(e,t,r,i){var o=NaN;if(i?(o=0,i.forEach(function(e,t){e>i[o]&&(o=t)})):(i=n(r),o=i.length-1),0===o)return null;var a=1-i[0]+(i[o]-i[0])/(t/e-1),s=e/(i[0]+a-1);return{utilities:i,gp:a,Vp:s}}function o(e){var t={},n=e.getMediaInfo(),i=e.getStreamProcessor(),o=e.getStreamInfo(),a=e.getTrackInfo(),s=i.isDynamic(),u=o.manifestInfo.duration,l=a.fragmentDuration,c=n.bitrateList.map(function(e){return e.bandwidth}),f=r(C,I,c,null);if(null===f)return t.state=E,t;if(t.state=w,t.bitrates=c,t.utilities=f.utilities,t.Vp=f.Vp,t.gp=f.gp,t.isDynamic=s,t.movieDuration=u,t.fragmentDuration=l,t.bandwidthSafetyFactor=H.getBandwidthSafetyFactor(),t.rebufferSafetyFactor=x,t.bufferTarget=H.getStableBufferTime(),t.lastQuality=0,t.virtualBuffer=0,t.throughputCount=s?k:M,P){for(var d="",p=0;p<c.length;++p){var h=f.utilities[p],g=c[p],v=0;if(p>0){var m=f.utilities[p-1],y=c[p-1];v=f.Vp*((m*g-h*y)/(g-y)+f.gp)}var _=f.Vp*(h+f.gp);d+="\n"+p+":"+(1e-6*c[p]).toFixed(3)+"Mbps "+v.toFixed(3)+"/"+_.toFixed(3)}D("BolaDebug "+n.type+" bitrates"+d)}return t}function s(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||a>=i)&&(i=a,r=o)}return r}function u(e,t){for(var n=N.getHttpRequests(e),r=[],i=n.length-1;i>=0&&r.length<t;--i){var o=n[i];o.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&o._tfinish&&o.tresponse&&o.trace&&r.push(o)}return r}function l(e,t,n){var r=u(e,t);if(0===r.length)return 0;for(var i=0,o="",a=0;a<r.length;++a){var s=.001*(r[a]._tfinish.getTime()-r[a].trequest.getTime()),l=8*r[a].trace.reduce(function(e,t){return e+t.b[0]},0);P&&(o+=" "+(1e-6*l).toFixed(3)+"/"+s.toFixed(3)+"="+(1e-6*l/s).toFixed(3)+"Mbps"),i+=s/l}return P&&D("BolaDebug "+n+" BolaRule recent throughput = "+(r.length/(1e6*i)).toFixed(3)+"Mbps:"+o),r.length/i}function f(e,t){var n=0;return e.bitrates.some(function(e,r){return e>t||(n=r,!1)}),n}function h(e,t){var n=u(e,1);if(0===n.length)return 0;var r=n[0],i=Date.now(),o=r._tfinish.getTime();o>i&&(o=i);var a=B[t];B[t]=i;var s=0;return s=a&&a>o?i-a:i-o,s<=0?0:.001*s}function v(){P&&D("BolaDebug BUFFER_EMPTY"),U.forEach(function(e){var t=L.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state===S&&(n.virtualBuffer=0,L.updateBolaState(e,n))}})}function y(e){P&&D("BolaDebug PLAYBACK_SEEKING "+e.seekTime.toFixed(3)),U.forEach(function(e){var t=L.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state!==E&&(n.state=w),L.updateBolaState(e,n)}})}function b(){}function A(e,t){var n=e.getStreamProcessor();n.getScheduleController().setTimeToLoadDelay(0);var r=(0,a["default"])(R).create(a["default"].NO_CHANGE,a["default"].WEAK,{name:i.__dashjs_factory_name}),u=e.getMediaInfo(),c=u.type,d=L.getReadOnlyMetricsFor(c);if(0===d.BolaState.length){P&&D("BolaDebug "+c+"\nBolaDebug "+c+" BolaRule for state=- fragmentStart="+z.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var p=o(e);L.updateBolaState(c,p);var g=0;if(p.state!==E){U.push(c);var v=l(d,p.throughputCount,c);if(0===v)return P&&D("BolaDebug "+c+" BolaRule quality unchanged for INITIALIZE"),void t(r);g=f(p,v*p.bandwidthSafetyFactor),p.lastQuality=g,r.value=g,r.priority=a["default"].DEFAULT,r.reason.state=p.state,r.reason.throughput=v}return P&&D("BolaDebug "+c+" BolaRule quality "+g+" for INITIALIZE"),void t(r)}var m=d.BolaState[0]._s;if(m.state===E)return P&&D("BolaDebug "+c+" BolaRule quality 0 for ONE_BITRATE"),void t(r);var y=m.bitrates,_=m.utilities;P&&D("BolaDebug "+c+"\nBolaDebug "+c+" EXECUTE BolaRule for state="+m.state+" fragmentStart="+z.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var b=N.getCurrentBufferLevel(d)?N.getCurrentBufferLevel(d):0,T=l(d,m.throughputCount,c);b<=.1&&(m.virtualBuffer=0);var C=h(d,c);C>0&&(m.virtualBuffer+=C),m.virtualBuffer<0&&(m.virtualBuffer=0);var I=b+m.virtualBuffer,A=s(m,I);if(P&&D("BolaDebug "+c+" BolaRule bufferLevel="+b.toFixed(3)+"(+"+m.virtualBuffer.toFixed(3)+"="+I.toFixed(3)+") recentThroughput="+(1e-6*T).toFixed(3)+" tentativeQuality="+A),m.state===w){var g=f(m,T*m.bandwidthSafetyFactor);if(b>m.fragmentDuration/x){m.state=S;for(var O=0,k=0;k<g;++k){var M=m.Vp*(m.gp+(y[g]*_[k]-y[k]*_[g])/(y[g]-y[k]));M>O&&(O=M)}O>b&&(m.virtualBuffer=O-b)}return P&&D("BolaDebug "+c+" BolaRule quality "+g+" for STARTUP"),m.lastQuality=g,L.updateBolaState(c,m),r.value=g,r.priority=a["default"].DEFAULT,r.reason.state=w,r.reason.throughput=T,void t(r)}if(A>m.lastQuality){var g=f(m,T);A>g&&(g<m.lastQuality&&(g=m.lastQuality),A=g)}if(T>0)for(var j=x*T*b/m.fragmentDuration;A>0&&y[A]>j;)--A;var F=0;F=I-m.Vp*(_[A]+m.gp),F>0&&(F>m.virtualBuffer?(F-=m.virtualBuffer,m.virtualBuffer=0):(m.virtualBuffer-=F,F=0)),F>0?A===y.length-1?F=0:n.getScheduleController().setTimeToLoadDelay(1e3*F):F=0,m.lastQuality=A,L.updateBolaState(c,m),r.value=A,r.priority=a["default"].DEFAULT,r.reason.state=m.state,r.reason.throughput=T,r.reason.bufferLevel=b,P&&D("BolaDebug "+c+" BolaRule quality "+A+" delay="+F.toFixed(3)+" for STEADY"),t(r)}function O(){j.off(_["default"].BUFFER_EMPTY,v,F),j.off(_["default"].PLAYBACK_SEEKING,y,F),j.off(_["default"].PERIOD_SWITCH_STARTED,b,F),t()}var k=2,M=3,R=this.context,D=(0,T["default"])(R).getInstance().log,N=e.dashMetrics,L=e.metricsModel,j=(0,m["default"])(R).getInstance(),F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0;return F={execute:A,reset:O},t(),F}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(10),u=r(s),l=e(101),c=r(l),f=e(68),d=r(f),p=e(179),h=e(15),g=r(h),v=e(9),m=r(v),y=e(13),_=r(y),b=e(8),T=r(b),E=0,w=1,S=2,P=!1,C=10,I=30,x=.5;i.__dashjs_factory_name="BolaRule";var A=u["default"].getClassFactory(i);A.BOLA_STATE_ONE_BITRATE=E,A.BOLA_STATE_STARTUP=w,A.BOLA_STATE_STEADY=S,A.BOLA_DEBUG=P,n["default"]=A,t.exports=n["default"]},{10:10,101:101,13:13,130:130,15:15,179:179,68:68,8:8,9:9}],135:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){p=0,g=(0,u["default"])(s).getInstance()}function n(e,t){var n=(new Date).getTime()/1e3,r=e.getMediaInfo(),o=e.getTrackInfo(),u=r.type,h=isNaN(o.fragmentDuration)?2:o.fragmentDuration/2,v=e.getCurrentValue(),m=e.getStreamProcessor(),y=m.getABRController(),_=f.getReadOnlyMetricsFor(u),b=d.getCurrentBufferLevel(_),T=_.BufferState.length>0?_.BufferState[_.BufferState.length-1]:null,E=r.representationCount-1,w=(0,a["default"])(s).create(a["default"].NO_CHANGE,a["default"].WEAK,{name:i.__dashjs_factory_name});return n-p<h||y.getAbandonmentStateFor(u)===c["default"].ABANDON_LOAD?void t(w):(null!==T&&b>T.target&&b-T.target>g.getRichBufferThreshold()&&r.representationCount>1&&(w.value=E,w.priority=a["default"].STRONG,w.reason.bufferLevel=b,w.reason.bufferTarget=T.target),w.value!==a["default"].NO_CHANGE&&w.value!==v&&l("BufferOccupancyRule requesting switch to index: ",w.value,"type: ",u," Priority: ",w.priority===a["default"].DEFAULT?"Default":w.priority===a["default"].STRONG?"Strong":"Weak"),void t(w))}function r(){p=0}var o=void 0,s=this.context,l=(0,h["default"])(s).getInstance().log,f=e.metricsModel,d=e.dashMetrics,p=void 0,g=void 0;return o={execute:n,reset:r},t(),o}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(101),u=r(s),l=e(60),c=r(l),f=e(10),d=r(f),p=e(8),h=r(p);i.__dashjs_factory_name="BufferOccupancyRule",n["default"]=d["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,130:130,60:60,8:8}],136:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){m={},y=0,_=1e3,p.on(d["default"].PLAYBACK_SEEKING,o,g)}function n(e,t){var n=(new Date).getTime(),o=e.getMediaInfo().type,s=e.getCurrentValue(),c=h.getReadOnlyMetricsFor(o),d=c.BufferState.length>0?c.BufferState[c.BufferState.length-1]:null,p=(0,a["default"])(l).create(a["default"].NO_CHANGE,a["default"].WEAK,{name:i.__dashjs_factory_name});return n-y<_||null===d?void t(p):(r(o,d.state),d.state===u["default"].BUFFER_EMPTY&&void 0!==m[o].firstBufferLoadedEvent&&(p.value=0,p.priority=a["default"].STRONG,p.reason.bufferState=d.state,p=(0,a["default"])(l).create(0,a["default"].STRONG)),p.value!==a["default"].NO_CHANGE&&p.value!==s&&f("InsufficientBufferRule requesting switch to index: ",p.value,"type: ",o," Priority: ",p.priority===a["default"].DEFAULT?"Default":p.priority===a["default"].STRONG?"Strong":"Weak"),y=n,void t(p))}function r(e,t){m[e]=m[e]||{},m[e].state=t,t!==u["default"].BUFFER_LOADED||m[e].firstBufferLoadedEvent||(m[e].firstBufferLoadedEvent=!0)}function o(){m={}}function s(){p.off(d["default"].PLAYBACK_SEEKING,o,g),m={},y=0}var l=this.context,f=(0,v["default"])(l).getInstance().log,p=(0,c["default"])(l).getInstance(),h=e.metricsModel,g=void 0,m=void 0,y=void 0,_=void 0;return g={execute:n,reset:s},t(),g}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(63),u=r(s),l=e(9),c=r(l),f=e(13),d=r(f),p=e(10),h=r(p),g=e(8),v=r(g);i.__dashjs_factory_name="InsufficientBufferRule",n["default"]=h["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,130:130,63:63,8:8,9:9}],137:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){P=[],C={audio:{threshold:y,value:NaN},video:{threshold:v,value:NaN}},I=(0,d["default"])(T).getInstance()}function n(e,t){P[e]=P[e]||[],P[e].push(t)}function r(e,t){var n=Math.min(P[e].length,t?h:g),r=P[e].slice(-1*n,P[e].length);return r.length>1&&r.reduce(function(e,t){return(e*b<=t||e>=t*_)&&n++,t}),n=Math.min(P[e].length,n),P[e].slice(-1*n,P[e].length)}function o(e,t){var n=r(e,t),i=0;if(n.length>0){i=n.reduce(function(e,t){return e+t},0)/n.length}return P[e].length>=f&&P[e].shift(),i/1e3*I.getBandwidthSafetyFactor()}function s(e,t){var r=e.getMediaInfo(),s=r.type,l=e.getCurrentValue(),f=S.getReadOnlyMetricsFor(s),d=e.getStreamProcessor(),h=d.getABRController(),g=d.isDynamic(),v=w.getCurrentHttpRequest(f),m=f.BufferState.length>0?f.BufferState[f.BufferState.length-1]:null,y=(0,a["default"])(T).create(a["default"].NO_CHANGE,a["default"].WEAK,{name:i.__dashjs_factory_name});if(!f||!v||v.type!==p.HTTPRequest.MEDIA_SEGMENT_TYPE||!m)return void t(y);var _=void 0;if(v.trace&&v.trace.length){_=v._tfinish.getTime()-v.tresponse.getTime()+1;var b=v.trace.reduce(function(e,t){return e+t.b[0]},0),P=Math.round(8*b/(_/1e3));_<=C[s].threshold?C[s].value=P/1e3:(C[s].value=NaN,n(s,P))}var I=Math.round(isNaN(C[s].value)?o(s,g):C[s].value);if(h.setAverageThroughput(s,I),h.getAbandonmentStateFor(s)!==c["default"].ABANDON_LOAD){if(m.state===u["default"].BUFFER_LOADED||g){var x=h.getQualityForBitrate(r,I);d.getScheduleController().setTimeToLoadDelay(0),y.value=x,y.priority=a["default"].DEFAULT,y.reason.throughput=I}y.value!==a["default"].NO_CHANGE&&y.value!==l&&E("ThroughputRule requesting switch to index: ",y.value,"type: ",s," Priority: ",y.priority===a["default"].DEFAULT?"Default":y.priority===a["default"].STRONG?"Strong":"Weak","Average throughput",Math.round(I),"kbps")}t(y)}function l(){t()}var f=20,h=3,g=4,v=50,y=5,_=1.3,b=1.3,T=this.context,E=(0,m["default"])(T).getInstance().log,w=e.dashMetrics,S=e.metricsModel,P=void 0,C=void 0,I=void 0,x={execute:s,reset:l};return t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(63),u=r(s),l=e(60),c=r(l),f=e(101),d=r(f),p=e(179),h=e(10),g=r(h),v=e(8),m=r(v);i.__dashjs_factory_name="ThroughputRule",n["default"]=g["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,130:130,179:179,60:60,63:63,8:8}],138:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){var t,r=0;return e&&e.some(function(e,t){return r=t,!n.contains(e.serviceLocation)})&&(t=e[r]),t}var n=e.blacklistController;return{select:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="BasicSelector",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],139:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){var t=[],n=function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)},r=function(e){return!i.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)};return e.filter(r).filter(n)}function n(e){var t,n,r=function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n},i=function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority},o=0,a=[],s=0;if(n=e.sort(r).filter(i),n.length)return n.length>1&&(n.forEach(function(e){o+=e.dvb_weight,a.push(o)}),t=Math.floor(Math.random()*(o-1)),a.every(function(e,n){return s=n,!(t<e)})),n[s]}function r(e){return e&&n(t(e))}var i=e.blacklistController;return{select:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="DVBSelector",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],140:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){c=(0,a["default"])(i).getInstance(),f=(0,u["default"])(i).getInstance()}function n(e,t,n){return o.getCurrentBufferLevel(s.getReadOnlyMetricsFor(t))<r(e,t,n)}function r(e,t,n){var r=NaN,i=e.getCurrentRepresentationInfo();if("fragmentedText"===t)r=l.getAllTracksAreDisabled()?0:i.fragmentDuration;else if("audio"===t&&n){var a=o.getCurrentBufferLevel(s.getReadOnlyMetricsFor("video"));r=Math.floor(Math.max(a,i.fragmentDuration))}else{var u=i.mediaInfo.streamInfo,f=e.getABRController();if(f.isPlayingAtTopQuality(u)){var d=u.manifestInfo.duration>=c.getLongFormContentDurationThreshold();r=d?c.getBufferTimeAtTopQualityLongForm():c.getBufferTimeAtTopQuality()}else r=c.getStableBufferTime()}return r}var i=this.context,o=e.dashMetrics,s=e.metricsModel,l=e.textSourceBuffer,c=void 0,f=void 0,d={execute:n,getBufferTarget:r};return t(),d}Object.defineProperty(n,"__esModule",{value:!0});var o=e(101),a=r(o),s=e(68),u=r(s),l=e(10),c=r(l);i.__dashjs_factory_name="BufferLevelRule",n["default"]=c["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,68:68}],141:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var n=e.getCurrentRepresentationInfo(),a=n.mediaInfo,u=a.type,l=e.getScheduleController(),c=l.getSeekTarget(),f=!isNaN(c),d=e.getBuffer(),p=f?c:i.getIndexHandlerTime(e);if(isNaN(p)||"fragmentedText"===u&&s.getAllTracksAreDisabled())return null;if(f&&l.setSeekTarget(NaN),d){var h=o.getBufferRange(e.getBuffer(),p);null!==h&&(r("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",p," was changed to ",h.end),p=h.end)}var g=void 0;return t?(p=t.startTime+t.duration/2,g=i.getFragmentRequestForTime(e,n,p,{timeThreshold:0,ignoreIsFinished:!0})):(g=i.getFragmentRequestForTime(e,n,p,{keepIdx:!f}),g&&e.getFragmentModel().isFragmentLoaded(g)&&(g=i.getNextFragmentRequest(e,n)),g&&(i.setIndexHandlerTime(e,g.startTime+g.duration),g.delayLoadingTime=(new Date).getTime()+l.getTimeToLoadDelay(),l.setTimeToLoadDelay(0))),g}var n=this.context,r=(0,a["default"])(n).getInstance().log,i=e.adapter,o=e.sourceBufferController,s=e.textSourceBuffer;return{execute:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(8),a=r(o),s=e(10),u=r(s);i.__dashjs_factory_name="NextFragmentRequestRule",n["default"]=u["default"].getClassFactory(i),t.exports=n["default"]},{10:10,8:8}],142:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){m=NaN,y=null,_=NaN,b=null,T=!1,E=NaN,w=a["default"].DEFAULT}function n(e,t){var n,r;if(S=t,C=e.getStreamProcessor(),P=C.getFragmentLoader(),b=e.getTrackInfo(),E=b.fragmentDuration,r=b.DVRWindow,m=r.end,b.useCalculatedLiveEdgeTime){var u=g.getExpectedLiveEdge();return g.setExpectedLiveEdge(m),void S((0,a["default"])(f).create(u,w))}y={start:Math.max(0,m-p),end:m+p},_=Math.floor((r.end-r.start)/2),n=h.getFragmentRequestForTime(C,b,m,{ignoreIsFinished:!0}),i(m,s,o,n)}function r(){m=NaN,y=null,_=NaN,b=null,T=!1,E=NaN,C=null,P=null}function i(e,t,n,r){var o;if(null===r)o=h.generateFragmentRequestForTime(C,b,e),i(e,t,n,o);else{var a=function r(i){d.off(c["default"].CHECK_FOR_EXISTENCE_COMPLETED,r,this),i.exists?t(i.request,e):n(i.request,e)};d.on(c["default"].CHECK_FOR_EXISTENCE_COMPLETED,a,this),P.checkForExistence(r)}}function o(e,t){var n,r,u;return T?void l(!1,t):(u=t-m,n=u>0?m-u:m+Math.abs(u)+_,void(n<y.start&&n>y.end?S((0,a["default"])(f).create(null,w)):(r=h.getFragmentRequestForTime(C,b,n,{ignoreIsFinished:!0}),i(n,s,o,r))))}function s(e,t){var n,r,o=e.startTime;if(!T){if(!b.fragmentDuration)return void S((0,a["default"])(f).create(o,w));if(T=!0,y.end=o+2*_,t===m)return r=t+E,n=h.getFragmentRequestForTime(C,b,r,{ignoreIsFinished:!0}),void i(r,function(){l(!0,r)},function(){S((0,a["default"])(f).create(r,w))},n)}l(!0,t)}function l(e,t){var n,r,u;e?y.start=t:y.end=t,n=Math.floor(y.end-y.start)<=E,n?S((0,a["default"])(f).create(e?t:t-E,w)):(u=(y.start+y.end)/2,r=h.getFragmentRequestForTime(C,b,u,{ignoreIsFinished:!0}),i(u,s,o,r))}var f=this.context,d=(0,u["default"])(f).getInstance(),h=e.adapter,g=e.timelineConverter,v=void 0,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,E=void 0,w=void 0,S=void 0,P=void 0,C=void 0;return v={execute:n,reset:r},t(),v}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(9),u=r(s),l=e(13),c=r(l),f=e(10),d=r(f),p=43200;i.__dashjs_factory_name="LiveEdgeBinarySearchRule",n["default"]=d["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,130:130,9:9}],143:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var i=e.getTrackInfo(),o=i.DVRWindow.end,s=a["default"].DEFAULT;if(i.useCalculatedLiveEdgeTime){var u=r.getExpectedLiveEdge();r.setExpectedLiveEdge(o),t((0,a["default"])(n).create(u,s))}else t((0,a["default"])(n).create(o,s))}var n=this.context,r=e.timelineConverter;return{execute:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(130),a=r(o),s=e(10),u=r(s);i.__dashjs_factory_name="LiveEdgeWithTimeSynchronizationRule",
n["default"]=u["default"].getClassFactory(i),t.exports=n["default"]},{10:10,130:130}],144:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){r=[],i=[],r.push((0,d["default"])(n).create({timelineConverter:(0,u["default"])(n).getInstance()})),i.push((0,c["default"])(n).create({timelineConverter:(0,u["default"])(n).getInstance(),adapter:(0,h["default"])(n).getInstance()}))}function t(e){switch(e){case g:return r;case v:return i;default:return null}}var n=this.context,r=void 0,i=void 0;return{initialize:e,getRules:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(37),u=r(s),l=e(142),c=r(l),f=e(143),d=r(f),p=e(15),h=r(p),g="withAccurateTimeSourceRules",v="bestGuestRules";i.__dashjs_factory_name="SynchronizationRulesCollection";var m=a["default"].getSingletonFactory(i);m.TIME_SYNCHRONIZED_RULES=g,m.BEST_GUESS_RULES=v,n["default"]=m,t.exports=n["default"]},{10:10,142:142,143:143,15:15,37:37}],145:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){f=(0,d["default"])(i).create({updateEventName:u["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:u["default"].FRAGMENT_LOADING_COMPLETED}),p=(0,v["default"])(i).create({blacklistController:f}),g=(0,h["default"])(i).create({blacklistController:f}),m=p}function t(e){m=s.getIsDVB(e)?g:p}function n(e){var t=e.baseUrls,n=e.selectedIdx;if(!isNaN(n))return t[n];var r=m.select(t);return r?(e.selectedIdx=t.indexOf(r),r):void o.trigger(u["default"].URL_RESOLUTION_FAILED,{error:new Error(_,b)})}function r(){f.reset()}var i=this.context,o=(0,a["default"])(i).getInstance(),s=(0,c["default"])(i).getInstance(),l=void 0,f=void 0,p=void 0,g=void 0,m=void 0;return l={chooseSelectorFromManifest:t,select:n,reset:r},e(),l}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(22),c=r(l),f=e(62),d=r(f),p=e(139),h=r(p),g=e(138),v=r(g),m=e(10),y=r(m),_=1,b="Failed to resolve a valid URL";i.__dashjs_factory_name="BaseURLSelector";var T=y["default"].getClassFactory(i);T.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=_,T.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=b,n["default"]=T,t.exports=n["default"]},{10:10,13:13,138:138,139:139,22:22,62:62,9:9}],146:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var n=c["default"].parseBuffer(e),r=(0,a["default"])(t).create();return r.setData(n),r}var t=this.context;return{parse:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(153),a=r(o),s=e(10),u=r(s),l=e(6),c=r(l);i.__dashjs_factory_name="BoxParser",n["default"]=u["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,153:153,6:6}],147:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){a=!1}function t(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t}function n(){return a}function r(e){a=e}function i(e,t){var n=e.canPlayType(t);return"probably"===n||"maybe"===n}var o=void 0,a=void 0;return o={supportsMediaSource:t,supportsEncryptedMedia:n,supportsCodec:i,setEncryptedMediaSupported:r},e(),o}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="Capabilities",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],148:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length}function t(){this.customTimeRangeArray=[],this.length=0}function n(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length}function r(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)}function i(e){return this.customTimeRangeArray[e].start}function o(e){return this.customTimeRangeArray[e].end}return{customTimeRangeArray:[],length:0,add:e,clear:t,remove:n,mergeRanges:r,start:i,end:o}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="CustomTimeRanges",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],149:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){if(void 0!==_)return _;_=!1;var t,n="1",r="1";try{"undefined"!=typeof window&&(t=window[e])}catch(e){return m("Warning: DOMStorage access denied: "+e.message),_}if(!t||e!==h&&e!==g)return _;try{t.setItem(n,r),t.removeItem(n),_=!0}catch(e){m("Warning: DOMStorage is supported, but cannot be used: "+e.message)}return _}function t(){e(h)&&f.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){m(e.message)}}})}function n(){b=(0,u["default"])(v).getInstance(),t()}function r(){var e=6e5;return Math.round((new Date).getTime()/e)*e}function i(t,n){return e(t)&&b["get"+n+"CachingInfo"]().enabled}function o(e){if(!i(h,"LastMediaSettings"))return null;var t=p.replace(/\?/,e),n=JSON.parse(localStorage.getItem(t))||{},r=(new Date).getTime()-parseInt(n.timestamp,10)>=b.getLastMediaSettingsCachingInfo().ttl||!1,o=n.settings;return r&&(localStorage.removeItem(t),o=null),o}function a(e){var t=NaN;if(i(h,"LastBitrate")){var n=d.replace(/\?/,e),r=JSON.parse(localStorage.getItem(n))||{},o=(new Date).getTime()-parseInt(r.timestamp,10)>=b.getLastBitrateCachingInfo().ttl||!1,a=parseInt(r.bitrate,10);isNaN(a)||o?o&&localStorage.removeItem(n):(t=a,m("Last saved bitrate for "+e+" was "+a))}return t}function s(e,t){if(i(h,"LastMediaSettings")){var n=p.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:r()}))}catch(e){m(e.message)}}}function l(e,t){if(i(h,"LastBitrate")&&t){var n=d.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t/1e3,timestamp:r()}))}catch(e){m(e.message)}}}var v=this.context,m=(0,c["default"])(v).getInstance().log,y=void 0,_=void 0,b=void 0;return y={getSavedBitrateSettings:a,setSavedBitrateSettings:l,getSavedMediaSettings:o,setSavedMediaSettings:s,isSupported:e},n(),y}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(101),u=r(s),l=e(8),c=r(l),f=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],d="dashjs_?_bitrate",p="dashjs_?_settings",h="localStorage",g="sessionStorage";i.__dashjs_factory_name="DOMStorage";var v=a["default"].getSingletonFactory(i);n["default"]=v,t.exports=n["default"]},{10:10,101:101,8:8}],150:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){return h}function n(e){h=e}function r(e,t){var n=!0,r=0,i=void 0,o=void 0;if(void 0===t&&(t=!1),e.tag>16777215?(p.getUint32(h)!==e.tag&&(n=!1),r=4):e.tag>65535?(i=p.getUint16(h),o=p.getUint8(h+2),256*i+o!==e.tag&&(n=!1),r=3):e.tag>255?(p.getUint16(h)!==e.tag&&(n=!1),r=2):(p.getUint8(h)!==e.tag&&(n=!1),r=1),!n&&e.required&&!t)throw new u["default"]("required tag not found");return n&&(h+=r),n}function i(e,t){var n=r(e,t);return n&&s(),n}function o(e){var t=void 0;return r(e),t=s(),d[e.parse](t)}function a(e,t){var n=r(e,t),i=void 0;return n&&(i=s(),h+=i),n}function s(e){var t=1,n=128,r=8,i=-1,o=0,a=p.getUint8(h),s=void 0;for(s=0;s<r;s+=1){if((a&n)===n){o=void 0===e?a&~n:a,i=s;break}n>>=1}for(s=0;s<i;s+=1,t+=1)o=o<<8|255&p.getUint8(h+t);return h+=t,o}function l(e){var t=void 0;switch(e){case 4:t=p.getFloat32(h),h+=4;break;case 8:t=p.getFloat64(h),h+=8}return t}function c(e){var t=0,n=void 0;for(n=0;n<e;n+=1)t<<=8,t|=255&p.getUint8(h+n);return h+=e,t}function f(){return h<p.byteLength}var d=void 0,p=new DataView(e.data),h=0;return d={getPos:t,setPos:n,consumeTag:r,consumeTagAndSize:i,parseTag:o,skipOverElement:a,getMatroskaCodedNum:s,getMatroskaFloat:l,getMatroskaUint:c,moreData:f}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(162),u=r(s);i.__dashjs_factory_name="EBMLParser",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,162:162}],151:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){c.trigger(u["default"].ERROR,{error:"capability",event:e})}function t(e,t,n){c.trigger(u["default"].ERROR,{error:"download",event:{id:e,url:t,request:n}})}function n(e,t,n,r){c.trigger(u["default"].ERROR,{error:"manifestError",event:{message:e,id:t,manifest:n,event:r}})}function r(e,t,n){c.trigger(u["default"].ERROR,{error:"cc",event:{message:e,id:t,cc:n}})}function i(e){c.trigger(u["default"].ERROR,{error:"mediasource",event:e})}function o(e){c.trigger(u["default"].ERROR,{error:"key_session",event:e})}function s(e){c.trigger(u["default"].ERROR,{error:"key_message",event:e})}var l=this.context,c=(0,a["default"])(l).getInstance();return{capabilityError:e,downloadError:t,manifestError:n,timedTextError:r,mediaSourceError:i,mediaKeySessionError:o,mediaKeyMessageError:s}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(9),a=r(o),s=e(13),u=r(s),l=e(10),c=r(l),f="mediasource",d="mediakeys",p="manifest",h="SIDX",g="content",v="initialization",m="xlink",y="codec",_="parse",b="nostreams",T="parse";i.__dashjs_factory_name="ErrorHandler";var E=c["default"].getSingletonFactory(i);E.CAPABILITY_ERROR_MEDIASOURCE=f,E.CAPABILITY_ERROR_MEDIAKEYS=d,E.DOWNLOAD_ERROR_ID_MANIFEST=p,E.DOWNLOAD_ERROR_ID_SIDX=h,E.DOWNLOAD_ERROR_ID_CONTENT=g,E.DOWNLOAD_ERROR_ID_INITIALIZATION=v,E.DOWNLOAD_ERROR_ID_XLINK=m,E.MANIFEST_ERROR_ID_CODEC=y,E.MANIFEST_ERROR_ID_PARSE=_,E.MANIFEST_ERROR_ID_NOSTREAMS=b,E.TIMED_TEXT_ERROR_ID_PARSE=T,n["default"]=E,t.exports=n["default"]},{10:10,13:13,9:9}],152:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t=e.streamId,n=e.mediaInfo.type,i=e.quality;r[t]=r[t]||{},r[t][n]=r[t][n]||{},r[t][n][i]=e}function t(e,t,n){return r[e][t][n]}function n(){r={}}var r={};return{save:e,extract:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="InitCache",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],153:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e&&c&&c.boxes&&0!==c.boxes.length?u(c.fetch(e)):null}function t(e){for(var t,n=c.fetchAll(e),r=[],i=0,o=n.length;i<o;i++)(t=u(n[i]))&&r.push(t);return r}function n(e){c=e}function r(){if(!c||!c.boxes||!c.boxes.length)return null;var e=c.boxes[c.boxes.length-1].type,n=t(e);return n[n.length-1]}function i(){return c._cursor.offset}function o(){f={offset:"_offset",size:"size",type:"type"},d={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},p={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},h={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},g={timescale:"timescale"},v={sequence_number:"sequence_number"},m={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},y={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},_={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},b={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"}}function s(e,t,n){for(var r in n)t[r]=e[n[r]]}function u(e){if(!e)return null;var t,n,r=new a["default"];switch(s(e,r,f),e.hasOwnProperty("_incomplete")&&(r.isComplete=!e._incomplete),r.type){case"sidx":if(s(e,r,d),r.references)for(t=0,n=r.references.length;t<n;t++)s(e.references[t],r.references[t],p);break;case"emsg":s(e,r,h);break;case"mdhd":s(e,r,g);break;case"mfhd":s(e,r,v);break;case"tfhd":s(e,r,m);break;case"tfdt":s(e,r,y);break;case"trun":if(s(e,r,_),r.samples)for(t=0,n=r.samples.length;t<n;t++)s(e.samples[t],r.samples[t],b)}return r}var l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0,b=void 0;return l={getBox:e,getBoxes:t,setData:n,getLastBox:r,getOffset:i},o(),l}Object.defineProperty(n,"__esModule",{value:!0});var o=e(165),a=r(o),s=e(10),u=r(s);i.__dashjs_factory_name="IsoFile",n["default"]=u["default"].getClassFactory(i),t.exports=n["default"]},{10:10,165:165}],154:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){f=e,p=t,v=!1,y=NaN,b=null,g=(0,h["default"])(s).getInstance(),T=a["default"].BEST_GUESS_RULES,l.on(d["default"].STREAM_INITIALIZED,o,this)}function t(){v=!1,y=NaN}function n(){return b}function r(){l.off(d["default"].STREAM_INITIALIZED,o,this),t(),b=null,f=null,p=null,v=!1,y=NaN,T=null,g=null}function i(e){var t=((new Date).getTime()-y)/1e3;b=e.value,l.trigger(d["default"].LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:b,searchTime:t,error:null===b?new u["default"](m,"live edge has not been found",null):null})}function o(e){!p.isDynamic()||v||e.error||(T=f.isTimeSyncCompleted()?a["default"].TIME_SYNCHRONIZED_RULES:a["default"].BEST_GUESS_RULES,_=(0,a["default"])(s).getInstance().getRules(T),v=!0,y=(new Date).getTime(),g.applyRules(_,p,i,null,function(e,t){return t}))}var s=this.context,l=(0,c["default"])(s).getInstance(),f=void 0,p=void 0,g=void 0,v=void 0,y=void 0,_=void 0,b=void 0,T=void 0;return{initialize:e,abortSearch:t,getLiveEdge:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(144),a=r(o),s=e(162),u=r(s),l=e(9),c=r(l),f=e(13),d=r(f),p=e(129),h=r(p),g=e(10),v=r(g),m=1;i.__dashjs_factory_name="LiveEdgeFinder";var y=v["default"].getSingletonFactory(i);y.LIVE_EDGE_NOT_FOUND_ERROR_CODE=m,n["default"]=y,t.exports=n["default"]},{10:10,129:129,13:13,144:144,162:162,9:9}],155:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){return JSON.stringify(e)===JSON.stringify(t)}return{areSimpleEquivalent:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="ObjectUtils",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],156:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(e){return e}return{modifyRequestURL:e,modifyRequestHeader:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="RequestModifier",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],157:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.videoModel&&(te=e.videoModel)}function t(e){if(e.hasOwnProperty("begin")&&e.hasOwnProperty("end")){return[h(e.begin),h(e.end)]}return null}function n(){var e="cue_TTML_"+ne;return ne++,e}function r(e,t,n){function r(e,t){if(e.hasOwnProperty(t)){var n=e[t];o.indexOf(n)<0&&o.push(n)}}for(var i=[],o=[],a=[],s=0;s<e.length;s++){var u=e[s];r(u,"begin"),r(u,"end")}if(0===o.length)return a;if(void 0!==t&&void 0!==n){for(var s=0;s<o.length;s++){var l=h(o[s]);t<l&&l<n&&i.push(l)}i.push(t),i.push(n)}else for(var s=0;s<o.length;s++)i.push(h(o[s]));i.sort(function(e,t){return e-t});for(var s=0;s<i.length-1;s++)a.push([i[s],i[s+1]]);return a}function i(e,t){return"undefined"!=typeof startInterval&&e<t&&(e=t),e}function o(e,t){return void 0!==t&&e>t&&(e=t),e}function a(e,t,n){var r=h(e.begin),a=h(e.end);return r=i(r,t),a=o(a,n),void 0!==t&&void 0!==n&&(a<t||r>n)?(j("TTML: Cue "+r+"-"+a+" outside interval "+t+"-"+n),null):[r,a]}function s(e,n){var r=!0;if(e.hasOwnProperty("span")){var i=t(e.span);null!==i&&(r=i[0]<n[1]&&i[1]>n[0])}return r}function l(e,i,o){var l=void 0,c=void 0,f=void 0,d=void 0,p="",h=new u["default"]([],"",!1);if(!(U=h.xml_str2json(e)))throw new Error("TTML document could not be parsed");if(te.getTTMLRenderingDiv()&&(d="html"),!(l=U.tt))throw new Error("TTML document lacks tt element");var m=g(l,"http://www.w3.org/ns/ttml");if(m&&v(l,m),f=l["tts:extent"],!(c=l.head))throw new Error("TTML document lacks head element");if(c.layout&&(V=c.layout.region_asArray),c.styling&&(H=c.styling.style_asArray),!l.body)throw new Error("TTML document lacks body element");var y=O(),E=te.getElement().clientWidth,w=te.getElement().clientHeight,S=[E/y[0],w/y[1]];Y["font-size"]=S[1]+"px;";var P=[];if(V)for(var A=0;A<V.length;A++)P.push(I(JSON.parse(JSON.stringify(V[A])),S));var N=g(U.tt,"http://www.w3.org/ns/ttml#parameter");l.hasOwnProperty(N+":frameRate")&&(l.frameRate=parseInt(l[N+":frameRate"],10));for(var L=[],F=l.body_asArray[0].__children,B=0;B<F.length;B++){var K=F[B].div,W=null;if(null===(W=t(K))){var Q=K.p_asArray;if(null===W&&(!Q||0===Q.length))return p="TTML has div that contains no timing and no paragraphs.",j(p),L;for(var X=0;X<Q.length;X++){var $=Q[X],J=$.span_asArray,Z=[];if($.hasOwnProperty("begin")&&$.hasOwnProperty("end")){var ee=a($,i,o);null!==ee&&Z.push(ee)}else Z=r(J,i,o);if(0!==Z.length)for(var ne=$.__children,re=0;re<Z.length;re++){for(var ie=Z[re],oe=[],ae=0;ae<ne.length;ae++){var se=ne[ae];s(se,ie)&&oe.push(se)}if(0!==oe.length)if("html"===d){q={},G={},z={};var ue=R($,K,S),le=D($,S),ce=le[1];le=le[0];var fe=document.createElement("div");fe.className=ce;var de=M(oe,S);de.className="cueDirUniWrapper",_("unicode-bidi",le)&&(de.style.cssText+=b("unicode-bidi",le),T("unicode-bidi",le)),_("direction",le)&&(de.style.cssText+=b("direction",le),T("direction",le)),_("padding-left",le)&&_("padding-right",le)&&(de.innerHTML=k(de,le)),_("padding-left",le)&&_("padding-right",le)&&(T("padding-left",le),T("padding-right",le));var pe="";if(_("regionID",ue)){var he=b("regionID",ue);pe=he.slice(he.indexOf(":")+1,he.length-1)}le&&(fe.style.cssText=le.join(" ")+"display:flex;"),ue&&(ue=ue.join(" ")),fe.appendChild(de);var ge=document.createElement("div");ge.appendChild(fe),ge.id=n(),ge.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ue,0===Object.keys(z).length&&(z.defaultFontSize="100"),L.push({start:ie[0],end:ie[1],type:"html",cueHTMLElement:ge,regions:P,regionID:pe,cueID:ge.id,videoHeight:w,videoWidth:E,cellResolution:y,fontSize:z||{defaultFontSize:"100"},lineHeight:q,linePadding:G})}else{var ve="",me=oe;me.length&&me.forEach(function(e){if(e.hasOwnProperty("span")){var t=e.span.__children;t.forEach(function(e){t.hasOwnProperty("metadata")||(e.hasOwnProperty("#text")?ve+=e["#text"].replace(/[\r\n]+/gm," ").trim():"br"in e&&(ve+="\n"))})}else ve+=e.hasOwnProperty("br")?"\n":e["#text"].replace(/[\r\n]+/gm," ").trim()}),L.push({start:ie[0],end:ie[1],data:ve,type:"text"})}}else p="TTML: Empty paragraph"}}else{var ye=void 0;if(K.region){ye=C(x(V,K.region),f)}ye||(ye=C(K,f));var _e=l.head.metadata.image_asArray;if(void 0!==K["smpte:backgroundImage"])for(var be=0;be<_e.length;be++)"#"+_e[be]["xml:id"]===K["smpte:backgroundImage"]&&L.push({start:W[0],end:W[1],id:n(),data:"data:image/"+_e[be].imagetype.toLowerCase()+";base64, "+_e[be].__text,type:"image",layout:ye})}}if(""!==p&&j(p),L.length>0)return L;throw new Error(p)}function p(){B=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,z={},q={},G={},K={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},Y={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},W={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;","default":"font-family: monospace, sans-serif;"},Q={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},X={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},$={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},J={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"},Z={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},ee={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}}function h(e){var t,n,r;if(!B.test(e))return NaN;if(t=e.split(":"),n=parseFloat(t[0])*f+parseFloat(t[1])*d+parseFloat(t[2]),t[3]){if(!(r=U.tt.frameRate)||isNaN(r))return NaN;n+=parseFloat(t[3])/r}return n}function g(e,t){var n=Object.keys(e).filter(function(n){return("xmlns"===n.split(":")[0]||"xmlns"===n.split(":")[1])&&e[n]===t}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return 1!=n.length?null:n[0]}function v(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(("object"==typeof e[n]||e[n]instanceof Object)&&!Array.isArray(e[n]))v(e[n],t);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)v(e[n][r],t);var i=n.slice(n.indexOf(t)+t.length+1);e[i]=e[n],delete e[n]}}function m(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function y(e){var t=e.slice(1),n=t.match(/.{2}/g),r=parseFloat(parseInt(parseInt(n[3],16)/255*1e3,10)/1e3);return"rgba("+n.slice(0,3).map(function(e){return parseInt(e,16)}).join(",")+","+r+");"}function _(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return!0;return!1}function b(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return t[n];return null}function T(e,t){t.splice(t.indexOf(b(e,t)),1)}function E(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)e[n]&&e[n].split(":")[0].indexOf(t[r].split(":")[0])>-1&&e.splice(n,1);return e.concat(t)}function w(e,t,n){var r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=i.replace("ebutts:","");o=o.replace("xml:",""),o=o.replace("tts:",""),o=m(o),e[o]=e[i],delete e[i]}if("line-padding"in e){var a=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));"id"in e&&(G[e.id]=a);var s=a*t[0]+"px;";r.push("padding-left:"+s),r.push("padding-right:"+s)}if("font-size"in e){var u=parseFloat(e["font-size"].slice(e["font-size"].indexOf(":")+1,e["font-size"].indexOf("%")));"id"in e&&(z[e.id]=u);var l=u/100*t[1]+"px;";r.push("font-size:"+l)}if("line-height"in e)if("normal"===e["line-height"])r.push("line-height: normal;");else{var c=parseFloat(e["line-height"].slice(e["line-height"].indexOf(":")+1,e["line-height"].indexOf("%")));"id"in e&&(q[e.id]=c);var f=c/100*t[1]+"px;";r.push("line-height:"+f)}"font-family"in e&&(e["font-family"]in W?r.push(W[e["font-family"]]):r.push("font-family:"+e["font-family"]+";")),"text-align"in e&&e["text-align"]in Q&&(r.push(Q[e["text-align"]][0]),r.push(Q[e["text-align"]][1])),"multi-row-align"in e&&(_("text-align",r)&&"auto"!=e["multi-row-align"]&&T("text-align",r),e["multi-row-align"]in X&&r.push(X[e["multi-row-align"]]));var d;return"background-color"in e&&(e["background-color"].indexOf("#")>-1&&e["background-color"].length-1==8?(d=y(e["background-color"]),r.push("background-color: "+d)):r.push("background-color:"+e["background-color"]+";")),"color"in e&&(e.color.indexOf("#")>-1&&e.color.length-1==8?(d=y(e.color),r.push("color: "+d)):r.push("color:"+e.color+";")),"wrap-option"in e&&(e["wrap-option"]in $?r.push($[e["wrap-option"]]):r.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in J?r.push(J[e["unicode-bidi"]]):r.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&r.push("font-style:"+e["font-style"]+";"),"font-weight"in e&&r.push("font-weight:"+e["font-weight"]+";"),"direction"in e&&r.push("direction:"+e.direction+";"),"text-decoration"in e&&r.push("text-decoration:"+e["text-decoration"]+";"),n&&(r=r.concat(I(e,t))),U.tt.hasOwnProperty("xml:space")&&"preserve"===U.tt["xml:space"]&&r.push("white-space: pre;"),r}function S(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function P(e,t,n){var r=[];return e.match(/\S+/g).forEach(function(e){var i=S(H,e);if(i){var o=w(JSON.parse(JSON.stringify(i)),t,n);r=r.concat(o)}}),r}function C(e,t){var n=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var r=n.exec(e["tts:extent"]),i=n.exec(e["tts:origin"]);if(null===r||null===i)return j("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]),null;var o=parseFloat(r[1]),a=parseFloat(r[3]),s=parseFloat(i[1]),u=parseFloat(i[3]);if(t){var l=n.exec(t);if(null===l||"px"!==l[2]||"px"!==l[4])return j("Bad tt.extent: "+t),null;var c=parseFloat(l[1]),f=parseFloat(l[3]);"px"===r[2]&&(o=o/c*100),"px"===r[4]&&(a=a/f*100),"px"===i[2]&&(s=s/c*100),"px"===i[4]&&(u=u/f*100)}return{left:s,top:u,width:o,height:a}}return null}function I(e,t){var n=[];for(var r in e){var i=r.replace("tts:","");i=i.replace("xml:",""),i=m(i),e[i]=e[r],i!==r&&delete e[r]}if("extent"in e){var o=e.extent.split(/\s/);n.push("width: "+o[0]+";"),n.push("height: "+o[1]+";")}if("origin"in e){var a=e.origin.split(/\s/);n.push("left: "+a[0]+";"),n.push("top: "+a[1]+";")}if("display-align"in e&&n.push(Z[e["display-align"]]),"writing-mode"in e&&n.push(ee[e["writing-mode"]]),"style"in e){var s=P(e.style,t,!0);n=n.concat(s)}return"padding"in e&&n.push("padding:"+e.padding+";"),"overflow"in e&&n.push("overflow:"+e.overflow+";"),"show-background"in e&&n.push("show-background:"+e["show-background"]+";"),"id"in e&&n.push("regionID:"+e.id+";"),n}function x(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function A(e,t){var n=[];return e.match(/\S+/g).forEach(function(e){var r=x(V,e);if(r){var i=I(JSON.parse(JSON.stringify(r)),t);n=n.concat(i)}}),n}function O(){var e=[32,15];return U.tt.hasOwnProperty("ttp:cellResolution")?U.tt["ttp:cellResolution"].split(" ").map(parseFloat):e}function k(e,t){for(var n=b("padding-left",t),r=b("padding-right",t),i=n.concat(" "+r+" "),o="",a="",s="",u=Array.prototype.slice.call(e.children),l=e.getElementsByClassName("lineBreak")[0],c=u.indexOf(l),f=[];-1!=c;)f.push(c),c=u.indexOf(l,c+1);var d="</span>",p="<br>",h='<span class="spanPadding" style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(f.length)f.forEach(function(e,t){if(0===t){for(var n="",r=0;r<e;r++)o+=u[r].outerHTML,0===r&&(n=i.concat(u[r].style.cssText));o=h+n+'">'+o}for(var l="",c=e+1;c<u.length;c++)a+=u[c].outerHTML,c===u.length-1&&(l+=i.concat(u[c].style.cssText));a=h+l+'">'+a,o&&a&&t===f.length-1?s+=o+d+p+a+d:o&&a&&t!==f.length-1?s+=o+d+p+a+d+p:o&&!a?s+=o+d:!o&&a&&t===f.length-1?s+=a+d:!o&&a&&t!==f.length-1&&(s+=a+d+p)});else{for(var g="",v=0;v<u.length;v++)g+=u[v].style.cssText;s=h+i+g+'">'+e.innerHTML+d}return s}function M(e,t){var n=document.createElement("div");return e.forEach(function(e){if(!e.hasOwnProperty("metadata"))if(e.hasOwnProperty("span")){var r=e.span.__children,i=document.createElement("span");if(e.span.hasOwnProperty("style")){var o=P(e.span.style,t);i.className="spanPadding "+e.span.style,i.style.cssText=o.join(" ")}r.forEach(function(e){if(!r.hasOwnProperty("metadata"))if(e.hasOwnProperty("#text")){var t=document.createTextNode(e["#text"]);i.appendChild(t)}else if("br"in e){i.hasChildNodes()&&n.appendChild(i);var o=document.createElement("br");o.className="lineBreak",n.appendChild(o);var a=document.createElement("span");a.className=i.className,a.style.cssText=i.style.cssText,i=a}}),n.appendChild(i)}else if(e.hasOwnProperty("br")){var a=document.createElement("br");a.className="lineBreak",n.appendChild(a)}else if(e.hasOwnProperty("#text")){var s=document.createElement("span");s.textContent=e["#text"],n.appendChild(s)}}),n}function R(e,t,n){var r,i,o=[],a=e.region,s=t.region;return s&&(r=A(s,n)),a?(i=o.concat(A(a,n)),o=r?E(r,i):i):r&&(o=r),N(o,K),o}function D(e,t){var n,r,i,o=[],a=e.style,s=U.tt.body.style,u=U.tt.body.div.style,l="";return s&&(n=P(s,t),l="paragraph "+s),u&&(r=P(u,t),n?(r=E(n,r),l+=" "+u):l="paragraph "+u),a?(i=P(a,t),n&&r?(o=E(r,i),l+=" "+a):n?(o=E(n,i),l+=" "+a):r?(o=E(r,i),l+=" "+a):(o=i,l="paragraph "+a)):n&&!r?o=n:!n&&r&&(o=r),N(o,Y),[o,l]}function N(e,t){for(var n in t)t.hasOwnProperty(n)&&(_(n,e)||e.push(n+":"+t[n]))}var L=this.context,j=(0,c["default"])(L).getInstance().log,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=0;return F={parse:l,setConfig:e},p(),F}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(4),u=r(s),l=e(8),c=r(l),f=3600,d=60;i.__dashjs_factory_name="TTMLParser",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,4:4,8:8}],158:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t}function t(e){var t=e.match(s);return t?t[1]:""}function n(e){return!o.test(e)}function r(e){return o.test(e)&&"/"===e.charAt(0)}function i(e){return a.test(e)}var o=/^(?:(?:[a-z]+:)?\/)?\//i,a=/^https?:\/\//i,s=/^(https?:\/\/[^\/]+)\/?/i;return{parseBaseUrl:e,parseOrigin:t,isRelative:n,isPathAbsolute:r,isHTTPURL:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o);i.__dashjs_factory_name="URLUtils",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],159:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){c=/(?:\r\n|\r|\n)/gm,f=/-->/,d=/(^[\s]+|[\s]+$)/g,p=/\s\b/g}function t(e){var t,i,a=[];e=e.split(c),t=e.length,i=-1;for(var u=0;u<t;u++){var l=e[u];if(l.length>0&&"WEBVTT"!==l&&l.match(f)){var p=r(l),h=p.cuePoints,g=p.styles,v=o(e,u+1),m=n(h[0].replace(d,"")),y=n(h[1].replace(d,""));!isNaN(m)&&!isNaN(y)&&m>=i&&y>m?""!==v?(i=m,a.push({start:m,end:y,data:v,styles:g
})):s("Skipping cue due to empty/malformed cue text"):s("Skipping cue due to incorrect cue timing")}}return a}function n(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function r(e){var t=e.split(f),n=t[1].split(p);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:i(n)}}function i(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1];n&&-1!=n.search(/%/)&&(n=parseInt(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n)}}),t}function o(e,t){for(var n,r=t,i="",o="";""!==e[r]&&r<e.length;)r++;if((n=r-t)>1)for(var a=0;a<n;a++){if(o=e[t+a],o.match(f)){i="";break}i+=o,a!==n-1&&(i+="\n")}else o=e[t],o.match(f)||(i=o);return decodeURI(i)}var a=this.context,s=(0,u["default"])(a).getInstance().log,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0;return l={parse:t},e(),l}Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),a=r(o),s=e(8),u=r(s);i.__dashjs_factory_name="VTTParser",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,8:8}],160:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN};n["default"]=i,t.exports=n["default"]},{}],161:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN};n["default"]=i,t.exports=n["default"]},{}],162:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(t,n,i){r(this,e),this.code=t||null,this.message=n||null,this.data=i||null};n["default"]=i,t.exports=n["default"]},{}],163:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer"};i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",n["default"]=i,t.exports=n["default"]},{}],164:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(163),u=r(s),l=function(e){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return o(t,e),t}(u["default"]);n["default"]=l,t.exports=n["default"]},{163:163}],165:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0};n["default"]=i,t.exports=n["default"]},{}],166:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};n["default"]=i,t.exports=n["default"]},{}],167:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};n["default"]=i,t.exports=n["default"]},{}],168:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]};n["default"]=i,t.exports=n["default"]},{}],169:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0};n["default"]=i,t.exports=n["default"]},{}],170:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=e(163),u=r(s),l=function(e){function t(e,n){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.type=n||null,this.mediaType="stream",this.responseType="text"}return o(t,e),t}(u["default"]);n["default"]=l,t.exports=n["default"]},{163:163}],171:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};n["default"]=i,t.exports=n["default"]},{}],172:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};n["default"]=i,t.exports=n["default"]},{}],173:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null};n["default"]=i,t.exports=n["default"]},{}],174:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this._s=void 0};n["default"]=i,t.exports=n["default"]},{}],175:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.level=null};n["default"]=i,t.exports=n["default"]},{}],176:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=e(63),a=r(o),s=function e(){i(this,e),this.target=null,this.state=a["default"].BUFFER_EMPTY};n["default"]=s,t.exports=n["default"]},{63:63}],177:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.time=null,this.range=null,this.manifestInfo=null};n["default"]=i,t.exports=n["default"]},{}],178:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.time=null,this.droppedFrames=null};n["default"]=i,t.exports=n["default"]},{}],179:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},o=function e(){r(this,e),this.s=null,this.d=null,this.b=[]};i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",n.HTTPRequest=i,n.HTTPRequestTrace=o},{}],180:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},o=function e(){r(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},a=function e(){r(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};n.ManifestUpdate=i,n.ManifestUpdateStreamInfo=o,n.ManifestUpdateTrackInfo=a},{}],181:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var o=function e(){r(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",n.PlayList=i,n.PlayListTrace=o},{}],182:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null};n["default"]=i,t.exports=n["default"]},{}],183:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.loadingRequests=[],this.executedRequests=[]};n["default"]=i,t.exports=n["default"]},{}],184:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};n["default"]=i,t.exports=n["default"]},{}],185:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};n["default"]=i,t.exports=n["default"]},{}]},{},[5]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.videojsDash=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){function n(e){return"dash-audio-"+e}function r(e,t){return e.find(function(e){return n(e.index)===t.id})}var i=e.dash.mediaPlayer,o=i.getTracksFor("audio"),a=e.audioTracks();a.length&&t.clearTracks(["audio"]);var s=i.getCurrentTrackFor("audio");o.forEach(function(e){var t=e.lang;e.roles&&e.roles.length&&(t+=" ("+e.roles.join(", ")+")"),a.addTrack(new u["default"].AudioTrack({enabled:e===s,id:n(e.index),kind:e.kind||"main",label:t,language:e.lang}))}),a.addEventListener("change",function(){for(var e=0;e<a.length;e++){var t=a[e];if(t.enabled){var n=r(o,t);i.setCurrentTrack(n)}else;}})}function i(e,t){e.dash.mediaPlayer.on(a["default"].MediaPlayer.events.PLAYBACK_METADATA_LOADED,r.bind(null,e,t))}n.__esModule=!0,n["default"]=i;var o="undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null,a=t(o),s="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,u=t(s)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function i(e,t,n){function i(){for(var t=e.dash.mediaPlayer,i=e.textTracks(),a=-1,s=function(e){var t=i[e];if("showing"===t.mode){var s=r(o,function(e){return e.textTrack===t}),u=s?s.dashTrack:null;u&&(a=n.indexOf(u))}},u=0;u<i.length;u+=1)s(u);a!==t.getCurrentTextTrackIndex()&&t.setTextTrack(a)}var o=[],a=n.map(function(e){return{dashTrack:e,trackConfig:{label:e.lang,language:e.lang,srclang:e.lang}}}).map(function(t){var n=t.trackConfig,r=t.dashTrack,i=e.addRemoteTextTrack(n,!0);return o.push({textTrack:i.track,dashTrack:r}),i});return e.textTracks().on("change",i),e.one("loadstart",function(){e.textTracks().off("change",i)}),i(),a}function o(e,t,n){function r(){u.forEach(e.removeRemoteTextTrack.bind(e)),u=[]}function o(a){var l=(a.index,a.tracks);c.off(s["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,o),r(),l.length&&(u=i(e,t,l,n))}function a(){c.off(s["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,o),e.one("loadstart",r)}window.VTTCue&&!/\[native code\]/.test(window.VTTCue.toString())&&(window.VTTCue=!1);var u=[];if(t.featuresNativeTextTracks)return void l["default"].log.error("You must pass {html: {nativeCaptions: false}} in the videojs constructor to use text tracks in videojs-contrib-dash");var c=e.dash.mediaPlayer;c.on(s["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,o),c.on(s["default"].MediaPlayer.events.CAN_PLAY,a)}n.__esModule=!0,n["default"]=o;var a="undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null,s=t(a),u="undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null,l=t(u)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("global/window"),a=r(o),s="undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null,u=r(s),l="undefined"!=typeof window?window.dashjs:void 0!==t?t.dashjs:null,c=r(l),f=e("./setup-audio-tracks"),d=r(f),p=e("./setup-text-tracks"),h=r(p),g=function(){function e(t,n,r){var o=this;if(i(this,e),r=r||n.options_,this.player=(0,u["default"])(r.playerId),this.player.dash=this.player.dash||{},this.tech_=n,this.el_=n.el(),this.elParent_=this.el_.parentNode,t.src){n.isReady_=!1,e.updateSourceData&&(u["default"].log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),t=e.updateSourceData(t)),e.hooks("updatesource").forEach(function(e){t=e(t)});var a=t.src;this.keySystemOptions_=e.buildDashJSProtData(t.keySystemOptions),this.player.dash.mediaPlayer=c["default"].MediaPlayer().create(),this.mediaPlayer_=this.player.dash.mediaPlayer,e.useVideoJSDebug&&(u["default"].log.warn('useVideoJSDebug has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.useVideoJSDebug(this.mediaPlayer_)),e.beforeInitialize&&(u["default"].log.warn('beforeInitialize has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.beforeInitialize(this.player,this.mediaPlayer_)),e.hooks("beforeinitialize").forEach(function(e){e(o.player,o.mediaPlayer_)}),this.mediaPlayer_.initialize(),r.dash&&Object.keys(r.dash).forEach(function(e){var t,n="set"+e.charAt(0).toUpperCase()+e.slice(1),i=r.dash[e];if(o.mediaPlayer_.hasOwnProperty(n)&&(u["default"].log.warn("Using dash options in videojs-contrib-dash without the set prefix has been deprecated. Change '"+e+"' to '"+n+"'"),e=n),!o.mediaPlayer_.hasOwnProperty(e))return void u["default"].log.warn("Warning: dash configuration option unrecognized: "+e);Array.isArray(i)||(i=[i]),(t=o.mediaPlayer_)[e].apply(t,i)}),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setAutoPlay(!1),d["default"].call(null,this.player,n),h["default"].call(null,this.player,n,r),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(a),this.tech_.triggerReady()}}return e.buildDashJSProtData=function(e){var t={};if(!e||!Array.isArray(e))return null;for(var n=0;n<e.length;n++){var r=e[n],i=u["default"].mergeOptions({},r.options);i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),t[r.name]=i}return t},e.prototype.dispose=function(){this.mediaPlayer_&&this.mediaPlayer_.reset(),this.player.dash&&delete this.player.dash},e.prototype.duration=function(){var e=this.el_.duration;return e===Number.MAX_VALUE?Infinity:e},e.hooks=function(t,n){return e.hooks_[t]=e.hooks_[t]||[],n&&(e.hooks_[t]=e.hooks_[t].concat(n)),e.hooks_[t]},e.hook=function(t,n){e.hooks(t,n)},e.removeHook=function(t,n){var r=e.hooks(t).indexOf(n);return-1!==r&&(e.hooks_[t]=e.hooks_[t].slice(),e.hooks_[t].splice(r,1),!0)},e}();g.hooks_={};var v=function(e){e=JSON.parse(JSON.stringify(e)),g.updateSourceData&&(u["default"].log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),e=g.updateSourceData(e)),g.hooks("updatesource").forEach(function(t){e=t(e)});var t=document.createElement("video");return!(e.keySystemOptions&&!navigator.requestMediaKeySystemAccess&&!t.msSetMediaKeys)};u["default"].DashSourceHandler=function(){return{canHandleSource:function(e){var t=/\.mpd/i;return v(e)?u["default"].DashSourceHandler.canPlayType(e.type)?"probably":t.test(e.src)?"maybe":"":""},handleSource:function(e,t,n){return new g(e,t,n)},canPlayType:function(e){return u["default"].DashSourceHandler.canPlayType(e)}}},u["default"].DashSourceHandler.canPlayType=function(e){return/^application\/dash\+xml/i.test(e)?"probably":""},a["default"].MediaSource&&u["default"].getTech("Html5").registerSourceHandler(u["default"].DashSourceHandler(),0),u["default"].Html5DashJS=g,n["default"]=g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./setup-audio-tracks":1,"./setup-text-tracks":2,"global/window":3}]},{},[4])(4)}),pageflow={log:function(e,t){window.console&&(pageflow.debugMode()||t&&t.force)&&window.console.log(e)},debugMode:function(){return window.location.href.indexOf("debug=true")>=0}},function(){pageflow.Object=function(){this.initialize.apply(this,arguments)},_.extend(pageflow.Object.prototype,Backbone.Events,{initialize:function(){}}),pageflow.Object.extend=Backbone.Model.extend}(),pageflow.EntryData=pageflow.Object.extend({getThemingOption:function(){throw"Not implemented"},getPageConfiguration:function(){throw"Not implemented"},getPagePosition:function(){throw"Not implemented"},getChapterConfiguration:function(){throw"Not implemented"},getStorylineConfiguration:function(){throw"Not implemented"},getChapterIdByPagePermaId:function(){throw"Not implemented"},getStorylineIdByChapterId:function(){throw"Not implemented"},getChapterPagePermaIds:function(){throw"Not implemented"},getParentPagePermaIdByPagePermaId:function(e){var t=this.getStorylineIdByPagePermaId(e);return this.getParentPagePermaId(t)},getStorylineIdByPagePermaId:function(e){var t=this.getChapterIdByPagePermaId(e);return this.getStorylineIdByChapterId(t)},getParentStorylineId:function(e){var t=this.getParentPagePermaId(e);return t&&this.getStorylineIdByPagePermaId(t)},getParentChapterId:function(e){var t=this.getStorylineIdByChapterId(e),n=this.getParentPagePermaId(t);return n&&this.getChapterIdByPagePermaId(n)},getParentPagePermaId:function(e){return this.getStorylineConfiguration(e).parent_page_perma_id},getStorylineLevel:function(e){var t=this.getParentStorylineId(e);return t?this.getStorylineLevel(t)+1:0}}),pageflow.SeedEntryData=pageflow.EntryData.extend({initialize:function(e){this.theming=e.theming,this.storylineConfigurations=_(e.storylines).reduce(function(e,t){return e[t.id]=t.configuration,e},{}),this.storylineIdsByChapterIds=_(e.chapters).reduce(function(e,t){return e[t.id]=t.storyline_id,e},{}),this.chapterConfigurations=_.reduce(e.chapters,function(e,t){return e[t.id]=t.configuration,e},{}),this.chapterPagePermaIds=_(e.pages).reduce(function(e,t){return e[t.chapter_id]=e[t.chapter_id]||[],e[t.chapter_id].push(t.perma_id),e},{}),this.chapterIdsByPagePermaIds=_(e.pages).reduce(function(e,t){return e[t.perma_id]=t.chapter_id,e},{}),this.pageConfigurations=_.reduce(e.pages,function(e,t){return e[t.perma_id]=t.configuration,e},{}),this.pagePositions=_.reduce(e.pages,function(e,t,n){return e[t.perma_id]=n,e},{})},getThemingOption:function(e){return this.theming[e]},getChapterConfiguration:function(e){return this.chapterConfigurations[e]||{}},getChapterPagePermaIds:function(e){return this.chapterPagePermaIds[e]},getPageConfiguration:function(e){return this.pageConfigurations[e]||{}},getPagePosition:function(e){return this.pagePositions[e]},getChapterIdByPagePermaId:function(e){return this.chapterIdsByPagePermaIds[e]},getStorylineConfiguration:function(e){return this.storylineConfigurations[e]||{}},getStorylineIdByChapterId:function(e){return this.storylineIdsByChapterIds[e]}}),pageflow.cookies={getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,t,n,r,i,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}},pageflow.events=_.extend({},Backbone.Events),pageflow.pageType=function(){var e={enhance:function(){},prepare:function(){},unprepare:function(){},preload:function(){},resize:function(){},activating:function(){},activated:function(){},deactivating:function(){},deactivated:function(){},update:function(){},cleanup:function(){},embeddedEditorViews:function(){},linkedPages:function(){return[]},prepareNextPageTimeout:200};return{repository:[],register:function(t,n){var r=function(){};_.extend(r.prototype,e,Backbone.Events,n),this.repository[t]=r},get:function(e){if(!this.repository.hasOwnProperty(e))throw'Unknown page type "'+e+'"';return new this.repository[e]}}}(),pageflow.commonPageCssClasses={updateCommonPageCssClasses:function(e,t){function n(n,r){var i=t.get(r);_.each(n,function(t){e.removeClass(r+"_"+t)}),i&&e.addClass(r+"_"+i)}function r(){var e=_(["title","subtitle","tagline"]).some(function(e){return!!$.trim(t.get(e))}),n=$("<div />").html(t.get("text")).text(),r=!!$.trim(n);return e&&!t.get("hide_title")||r}e.toggleClass("invert",t.get("invert")),e.toggleClass("hide_title",t.get("hide_title")),n(pageflow.Page.textPositions,"text_position"),n(pageflow.Page.delayedTextFadeIn,"delayed_text_fade_in"),n(pageflow.Page.scrollIndicatorModes,"scroll_indicator_mode"),n(pageflow.Page.scrollIndicatorOrientations,"scroll_indicator_orientation"),e.toggleClass("no_text_content",!r())}},pageflow.infoBox={updateInfoBox:function(e,t){var n=e.find(".add_info_box");n.find("h3").length||n.prepend($("<h3 />")),n.find("h3").html(t.get("additional_title")||""),n.find("p").html(t.get("additional_description")||""),n.toggleClass("empty",!t.get("additional_description")&&!t.get("additional_title")),n.toggleClass("title_empty",!t.get("additional_title")),n.toggleClass("description_empty",!t.get("additional_description"))}},pageflow.videoHelpers={updateVideoPoster:function(e,t){e.find(".vjs-poster").css("background-image","url("+t+")")},updateBackgroundVideoPosters:function(e,t,n,r){e.find(".vjs-poster, .background-image").css({"background-image":"url("+t+");","background-position":n+"% "+r+"%;"})}},pageflow.volumeFade={fadeSound:function(e,t,n){var r=10,i=e.volume(),o=n/r,a=(t-i)/o;if(clearInterval(this.fadeInterval),t!=i)var s=this.fadeInterval=setInterval(_.bind(function(){e.volume(e.volume()+a),(e.volume()>=t&&t>=i||e.volume()<=t&&t<=i)&&clearInterval(s)},this),r)}},pageflow.pageTransitions={repository:{},register:function(e,t){this.repository[e]=t},get:function(e){if(!this.repository.hasOwnProperty(e))throw'Unknown page transition "'+e+'"';return this.repository[e]},names:function(){return _.keys(this.repository)}},pageflow.pageTransitions.register("fade",{duration:1100}),pageflow.pageTransitions.register("crossfade",{duration:1100}),pageflow.pageTransitions.register("fade_to_black",{duration:2100}),pageflow.pageTransitions.register("cut",{duration:1100}),pageflow.pageTransitions.register("scroll",{duration:1100}),pageflow.pageTransitions.register("scroll_right",{duration:1100}),pageflow.pageTransitions.register("scroll_left",{duration:1100}),pageflow.pageTransitions.register("scroll_over_from_right",{duration:1100}),pageflow.pageTransitions.register("scroll_over_from_left",{duration:1100}),pageflow.assetUrls={largeBandwidthProbe:"/output.scrollytelling.com/bandwidth_probe_large.png",smallBandwidthProbe:"/output.scrollytelling.com/bandwidth_probe_small.png",audioSwf:"//scrollytelling.link/assets/pageflow/audio5js-334f716efbba5b940a0fbc499201acf02ac5f69962ceaf9d526e955fc522a5fa.swf",emptyMp4:"//scrollytelling.link/assets/pageflow/empty-b9aa7bf9420f823f92f50e5250f4bd97133eae3afe799ca5eb85b91cd5be34d0.mp4",emptyWebm:"//scrollytelling.link/assets/pageflow/empty-efdd51d61c4f2c725b967e38b59db2150dfd046464e6b330ba457b2c0d8c2eda.webm"},function(){pageflow.preload={image:function(e){return $.Deferred(function(t){var n=new Image;n.onload=t.resolve,n.onerror=t.resolve,n.src=e}).promise()},backgroundImage:function(e){var t=this,n=[];return $(e).addClass("load_image"),$(e).each(function(){var e=window.getComputedStyle(this).getPropertyValue("background-image");e.match(/^url/)&&n.push(t.image(e.replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")))}),$.when.apply(null,n)}}}(),pageflow.bandwidth=function(){function e(e){var i=(new Date).getTime();return n(t(e),r).pipe(function(){return(new Date).getTime()-i})}function t(e){return new $.Deferred(function(t){var n=new Image;n.onload=t.resolve,n.onerror=t.reject,n.src=e}).promise()}function n(e,t){return new $.Deferred(function(n){var r=setTimeout(function(){n.reject()},t);e.always(function(){clearTimeout(r)}).then(n.resolve,n.reject)}).promise()}var r=5e3;return pageflow.bandwidth.promise=pageflow.bandwidth.promise||new $.Deferred(function(t){var n=pageflow.assetUrls.smallBandwidthProbe+"?"+(new Date).getTime(),r=pageflow.assetUrls.largeBandwidthProbe+"?"+(new Date).getTime();$.when(e(n),e(r)).done(function(e,n){var r=(n-e)/1e3;r=Math.max(r,.01),t.resolve({durationInSeconds:r,speedInBps:(8646760/r).toFixed(2)})}).fail(function(){t.resolve({durationInSeconds:Infinity,speedInBps:0})})}).promise(),pageflow.bandwidth.promise},pageflow.browser=function(){var e={},t={},n=new $.Deferred;return{off:{},on:{},unset:{},feature:function(t,n){var r=t.replace(/ /g,"_");this.off[r]=function(){window.localStorage["override "+t]="off",pageflow.log("Feature off: "+t,{force:!0})},this.on[r]=function(){window.localStorage["override "+t]="on",pageflow.log("Feature on: "+t,{force:!0})},this.unset[r]=function(){window.localStorage.removeItem("override "+t),pageflow.log("Feature unset: "+t,{force:!0})},e[t]=n},has:function(e){if("resolved"!=this.ready().state())throw"Feature detection has not finished yet.";if(!t.hasOwnProperty(e))throw'Unknown feature "'+e+'".';return t[e]},ready:function(){return n.promise()},detectFeatures:function(){var r={},i=function(t){var n=function(){if((pageflow.debugMode()||pageflow.ALLOW_FEATURE_OVERRIDES)&&window.localStorage&&"undefined"!=typeof window.localStorage["override "+t]){var n="on"===window.localStorage["override "+t];return pageflow.log("FEATURE OVERRIDDEN "+t+": "+n,{force:!0}),n}return e[t](i)};return r[t]=r[t]||$.when(n(t)),r[t]};return i.not=function(e){return i(e).pipe(function(e){return!e})},i.all=function(){
return $.when.apply(null,arguments).pipe(function(){return _.all(arguments)})},$.when.apply(null,_.map(_.keys(e),function(e){return i(e).then(function(n){var r=e.replace(/ /g,"_");$("body").toggleClass("has_"+r,!!n),$("body").toggleClass("has_no_"+r,!n),t[e]=!!n})})).then(n.resolve),this.ready()}}}(),pageflow.browser.agent={matchesSilk:function(){return navigator.userAgent.match(/\bSilk\b/)},matchesDesktopSafari9:function(){return this.matchesSafari9()&&!this.matchesMobilePlatform()},matchesDesktopSafari10:function(){return this.matchesSafari10()&&!this.matchesMobilePlatform()},matchesSafari9:function(){var e=[/Safari\//i,/Version\/9/i];return _.all(e,function(e){return navigator.userAgent.match(e)})},matchesSafari10:function(){var e=[/Safari\//i,/Version\/10/i];return _.all(e,function(e){return navigator.userAgent.match(e)})},matchesMobileSafari:function(){var e=[/iPod/i,/iPad/i,/iPhone/i];return _.any(e,function(e){return navigator.userAgent.match(e)})},matchesMobilePlatform:function(){var e=[/iPod/i,/iPad/i,/iPhone/i,/Android/i,/Silk/i,/IEMobile/i];return _.any(e,function(e){return navigator.userAgent.match(e)})},matchesIEUpTo11:function(){return navigator.userAgent.match(/Trident\//)},matchesFacebookInAppBrowser:function(){return navigator.userAgent.match(/FBAN/)&&navigator.userAgent.match(/FBAV/)}},pageflow.browser.feature("autoplay support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("css animations",function(){var e=["Webkit","Moz","O","ms","Khtml"],t=document.createElement("div");if(t.style.animationName!==undefined)return!0;for(var n=0;n<e.length;n++)if(t.style[e[n]+"AnimationName"]!==undefined)return!0;return!1}),pageflow.browser.feature("facebook toolbar",function(e){return e.all(e("iphone platform"),pageflow.browser.agent.matchesFacebookInAppBrowser())}),pageflow.browser.feature("high bandwidth",function(){return pageflow.bandwidth().pipe(function(e){var t=e.speedInBps>8192e3;return window.console&&window.console.log("Detected bandwidth "+e.speedInBps/8/1024+"KB/s. High: "+(t?"Yes":"No")),t})}),pageflow.browser.feature("ie",function(){return"Microsoft Internet Explorer"==navigator.appName}),pageflow.browser.feature("ios platform",function(){return pageflow.browser.agent.matchesMobileSafari()}),pageflow.browser.feature("iphone platform",function(e){return e.all(e("ios platform"),e("phone platform"))}),pageflow.browser.feature("mobile platform",function(){return pageflow.browser.agent.matchesMobilePlatform()}),navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&!window.navigator.standalone&&$("html").addClass("ipad ios7"),pageflow.browser.feature("phone platform",function(){var e=[/iPod/i,/iPad/i,/iPhone/i,/Android/i,/IEMobile/i];return _.any(e,function(e){return navigator.userAgent.match(e)&&$(window).width()<700})}),pageflow.browser.feature("pushstate support",function(){return window.history&&"pushState"in window.history}),pageflow.browser.feature("touch support",function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints}),pageflow.browser.feature("rewrite video sources support",function(){return!pageflow.ie9}),pageflow.browser.feature("stop buffering support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("buffer underrun waiting support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("prebuffering support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("mp4 support only",function(){return pageflow.browser.agent.matchesSilk()||pageflow.browser.agent.matchesDesktopSafari9()||pageflow.browser.agent.matchesDesktopSafari10()}),pageflow.browser.feature("native video player",function(e){return e("iphone platform")}),pageflow.browser.feature("volume control support",function(e){return e.not("ios platform")}),pageflow.Features=pageflow.Object.extend({initialize:function(){this.registry={},this.enabledFeatureNames=[]},has:function(){return pageflow.browser.has.apply(pageflow.browser,arguments)},register:function(e,t,n){this.registry[e]=this.registry[e]||{},this.registry[e][t]=this.registry[e][t]||[],this.registry[e][t].push(n)},isEnabled:function(e){return _(this.enabledFeatureNames).contains(e)},enable:function(e,t){var n=this.registry[e]||{};this.enabledFeatureNames=this.enabledFeatureNames.concat(t),_(t).each(function(e){_(n[e]||[]).each(function(e){e()})})}}),pageflow.features=new pageflow.Features,pageflow.Audio=function(e){function t(e){return e?parseInt(e.toString().split(".")[0],10):e}this.getSources=e.getSources||function(t){return e.audioFiles[t]||""},this.createPlayer=function(e,n){var r=this.getSources(t(e));return r?new pageflow.AudioPlayer(r,_.extend({volumeFading:!0},n||{})):new pageflow.AudioPlayer.Null},this.createMultiPlayer=function(e){return new pageflow.Audio.MultiPlayer(new pageflow.Audio.PlayerPool(this,e),e)}},pageflow.Audio.setup=function(e){pageflow.audio=new pageflow.Audio(e)},pageflow.Audio.PlayerPool=function(e,t){this.players={},this.get=function(n){return this.players[n]=this.players[n]||e.createPlayer(n,t),this.players[n]},this.dispose=function(){this.players={}}},pageflow.Audio.MultiPlayer=function(e,t){function n(n,l){if(t.playFromBeginning||n!==u||s.paused()){var c=e.get(n);u=n;var f=s.fadeOutAndPause(t.fadeDuration);f.then(function(){a(s)}),r(f).then(function(){s=c,o(s,n),i(c).then(function(){l(c)})})}}function r(e){return t.crossFade?(new $.Deferred).resolve().promise():e}function i(e){return t.playFromBeginning||t.rewindOnChange?e.rewind():(new $.Deferred).resolve().promise()}function o(e,t){l.listenTo(e,"play",function(){l.trigger("play",{audioFileId:t})}),l.listenTo(e,"pause",function(){l.trigger("pause",{audioFileId:t})}),l.listenTo(e,"timeupdate",function(){l.trigger("timeupdate",{audioFileId:t})}),l.listenTo(e,"ended",function(){l.trigger("ended",{audioFileId:t})})}function a(e){l.stopListening(e)}if(t.crossFade&&t.playFromBeginning)throw"pageflow.Audio.MultiPlayer: The options crossFade and playFromBeginning can not be used together at the moment.";var s=new pageflow.AudioPlayer.Null,u=null,l=this;this.resume=function(){return s.play()},this.resumeAndFadeIn=function(){return s.playAndFadeIn(t.fadeDuration)},this.seek=function(e){return s.seek(e)},this.pause=function(){return s.pause()},this.paused=function(){return s.paused()},this.fadeOutAndPause=function(){return s.fadeOutAndPause(t.fadeDuration)},this.position=function(){return s.position},this.duration=function(){return s.duration},this.fadeTo=function(e){return n(e,function(e){return e.playAndFadeIn(t.fadeDuration)})},this.play=function(e){return n(e,function(e){return e.play()})},this.changeVolumeFactor=function(e){return s.changeVolumeFactor(e,t.fadeDuration)},this.formatTime=function(e){return s.formatTime(e)}},_.extend(pageflow.Audio.MultiPlayer.prototype,Backbone.Events),pageflow.mediaPlayer={enhance:function(e,t){pageflow.mediaPlayer.catchPlayerPromise(e),pageflow.mediaPlayer.asyncPlay(e),t.hooks&&pageflow.mediaPlayer.hooks(e,t.hooks),t.volumeFading&&(pageflow.mediaPlayer.volumeFading(e),pageflow.mediaPlayer.volumeBinding(e,pageflow.settings,t)),t.loadWaiting&&pageflow.mediaPlayer.loadWaiting(e)}},pageflow.mediaPlayer.catchPlayerPromise=function(e){var t=e.play;e.play=function(){var n=t.apply(e,arguments);return n&&"undefined"!=typeof Promise&&n instanceof Promise&&n["catch"](function(){pageflow.log("Caught pending play exception - continuing")}),n}},pageflow.mediaPlayer.volumeFading=function(e){return pageflow.browser.has("volume control support")?pageflow.audioContext.get()&&e.getMediaElement?pageflow.mediaPlayer.volumeFading.webAudio(e,pageflow.audioContext.get()):pageflow.mediaPlayer.volumeFading.interval(e):pageflow.mediaPlayer.volumeFading.noop(e)},pageflow.mediaPlayer.volumeFading.interval=function(e){function t(){return a.apply(e,arguments)}function n(){clearInterval(o),i.resolve(),o=null,i=null}function r(){o&&(clearInterval(o),i.reject(),o=null,i=null)}var i,o,a=e.volume;e.volume=function(t){return void 0!==t&&r(),a.apply(e,arguments)},e.fadeVolume=function(e,a){return r(),new $.Deferred(function(r){var s=10,u=t(),l=a/s,c=(e-u)/l;e===u?r.resolve():(i=r,o=setInterval(function(){t(t()+c),(t()>=e&&e>=u||t()<=e&&e<=u)&&n()},s))})},e.one("dispose",r)},pageflow.mediaPlayer.volumeFading.noop=function(e){e.fadeVolume=function(){return(new jQuery.Deferred).resolve().promise()}},pageflow.mediaPlayer.volumeFading.webAudio=function(e,t){function n(){if(!u){u=t.createGain();t.createMediaElementSource(e.getMediaElement()).connect(u),u.connect(t.destination)}}function r(){clearTimeout(c),l.resolve(),c=null,l=null}function i(){l&&(u.gain.cancelScheduledValues(t.currentTime),clearTimeout(c),l.reject(),c=null,l=null,a())}function o(e){f=t.currentTime,p=h,d=e}function a(){if(1==u.gain.value){var e=1e3*(t.currentTime-f);h=s(p+e/d*(h-p))}else h=u.gain.value}function s(e){return e<g?g:e}var u,l,c,f,d,p,h=1,g=1e-6;e.volume=function(e){return n(),void 0!==e?(i(),h=s(e),u.gain.setValueAtTime(h,t.currentTime)):Math.round(100*h)/100},e.fadeVolume=function(e,a){return n(),i(),o(a),h=s(e),u.gain.setValueAtTime(p,t.currentTime),u.gain.linearRampToValueAtTime(h,t.currentTime+a/1e3),new $.Deferred(function(e){c=setTimeout(r,a),l=e}).promise()},e.one("dispose",i)},pageflow.mediaPlayer.volumeBinding=function(e,t,n){function r(){e.on("dispose",i),t.on("change:volume",o)}function i(){e.off("dispose",i),t.off("change:volume",o)}function o(){e.fadeVolume(e.targetVolume(),40)}n=n||{};var a=e.play,s=e.pause,u="volumeFactor"in n?n.volumeFactor:1;e.play=function(){return e.volume(e.targetVolume()),r(),a.call(e)},e.playAndFadeIn=function(t){return e.paused()||e.intendingToPause()?(e.intendToPlay(),e.volume(0),$.when(a.call(e)).then(function(){return r(),e.fadeVolume(e.targetVolume(),t).then(null,function(){return(new jQuery.Deferred).resolve().promise()})})):(new jQuery.Deferred).resolve().promise()},e.pause=function(){i(),s.call(e)},e.fadeOutAndPause=function(t){return e.paused()&&!e.intendingToPlay()?(new jQuery.Deferred).resolve().promise():(e.intendToPause(),i(),e.fadeVolume(0,t).always(function(){return e.ifIntendingToPause().then(function(){s.call(e)})}))},e.changeVolumeFactor=function(t,n){return u=t,e.fadeVolume(e.targetVolume(),n)},e.targetVolume=function(){return t.get("volume")*u}},pageflow.mediaPlayer.loadWaiting=function(e){var t=e.fadeVolume;e.fadeVolume=function(){var n=arguments;return jQuery.when(this.loadedPromise).then(function(){return t.apply(e,n)})}},pageflow.mediaPlayer.hooks=function(e,t){var n=e.play;e.play;t.before&&(e.play=function(){var r=arguments;return e.trigger("beforeplay"),e.intendToPlay(),$.when(t.before()).then(function(){return e.ifIntendingToPlay().then(function(){return n.apply(e,r)})})}),t.after&&(e.on("pause",t.after),e.on("ended",t.after))},pageflow.mediaPlayer.asyncPlay=function(e){function t(e){return new $.Deferred(function(t){e?t.resolve():t.reject("aborted")}).promise()}var n=e.play,r=e.pause,i=!1,o=!1;e.play=function(){return e.intendToPlay(),n.apply(e,arguments)},e.pause=function(){return e.intendToPause(),r.apply(e,arguments)},e.intendToPlay=function(){i=!0,o=!1},e.intendToPause=function(){o=!0,i=!1},e.intendingToPlay=function(){return i},e.intendingToPause=function(){return o},e.ifIntendingToPause=function(){return t(o)},e.ifIntendingToPlay=function(){return t(i)}},pageflow.AudioPlayer=function(e,t){t=t||{};var n={vorbis:"audio/ogg",mp4:"audio/mp4",mp3:"audio/mpeg"},r=new $.Deferred,i=new $.Deferred,o=new Audio5js({reusedTag:t.tag,swf_path:pageflow.assetUrls.audioSwf,throw_errors:!1,format_time:!1,codecs:["vorbis","mp4","mp3"],ready:r.resolve,loop:t.loop});o.readyPromise=r.promise(),o.loadedPromise=i.promise(),o.on("load",i.resolve),t.mediaEvents&&pageflow.AudioPlayer.mediaEvents(o,t.context),t.pauseInBackground&&pageflow.browser.has("mobile platform")&&pageflow.AudioPlayer.pauseInBackground(o),pageflow.mediaPlayer.enhance(o,_.extend({loadWaiting:!0},t||{})),pageflow.AudioPlayer.seekWithInvalidStateHandling(o),pageflow.AudioPlayer.rewindMethod(o),pageflow.AudioPlayer.getMediaElementMethod(o),o.src=function(e){r.then(function(){var t=_.detect(e||[],function(e){if(n[o.settings.player.codec]===e.type)return e.src});o.load(t?t.src:"")})};var a=o.load;o.load=function(e){e||(this.duration=0),this.currentSrc=e,this.position=0,this.trigger("timeupdate",this.position,this.duration),a.apply(this,arguments)};var s=o.seek;o.seek=function(){if(this.currentSrc)return s.apply(this,arguments)};var u=o.play;return o.play=function(){this.currentSrc&&u.apply(this,arguments)},o.paused=function(){return!o.playing},o.src(e),o},pageflow.AudioPlayer.fromAudioTag=function(e,t){return new pageflow.AudioPlayer(e.find("source").map(function(){return{src:$(this).attr("src"),type:$(this).attr("type")}}).get(),_.extend({tag:e[0]},t||{}))},pageflow.AudioPlayer.fromScriptTag=function(e,t){var n=e.length?JSON.parse(e.text()):[];return new pageflow.AudioPlayer(n,t)},pageflow.AudioPlayer.mediaEvents=function(e,t){function n(n){pageflow.events.trigger("media:"+n,{fileName:e.currentSrc,context:t,currentTime:e.position,duration:e.duration,volume:e.volume(),bitrate:128e3})}e.on("play",function(){n("play")}),e.on("timeupdate",function(){n("timeupdate")}),e.on("pause",function(){n("pause")}),e.on("ended",function(){n("ended")})},pageflow.AudioPlayer.Null=function(){this.playAndFadeIn=function(){return(new $.Deferred).resolve().promise()},this.fadeOutAndPause=function(){return(new $.Deferred).resolve().promise()},this.changeVolumeFactor=function(){return(new $.Deferred).resolve().promise()},this.play=function(){},this.pause=function(){},this.paused=function(){return!0},this.seek=function(){return(new $.Deferred).resolve().promise()},this.rewind=function(){return(new $.Deferred).resolve().promise()},this.formatTime=function(){},this.one=function(e,t){t()}},_.extend(pageflow.AudioPlayer.Null.prototype,Backbone.Events),pageflow.AudioPlayer.seekWithInvalidStateHandling=function(e){function t(t){var n=0;return new $.Deferred(function(r){function i(){if((n+=1)>=50)return void r.reject();try{t(),r.resolve()}catch(t){e.one("progress",i)}}i()}).promise()}var n=e.seek;e.seek=function(r){return t(function(){n.call(e,r)})}},pageflow.AudioPlayer.rewindMethod=function(e){e.rewind=function(){if(e.position>0){var t=e.seek(0);return e.trigger("timeupdate",e.position,e.duration),t}return(new $.Deferred).resolve().promise()}},pageflow.AudioPlayer.pauseInBackground=function(e){function t(){o=setInterval(function(){a=(new Date).getTime()},s)}function n(){clearInterval(o),o=null}function r(){i()&&e.pause()}function i(){return o&&a<(new Date).getTime()-5*s}var o,a,s=100;e.on("play",t),e.on("pause",n),e.on("ended",n),e.on("timeupdate",r)},pageflow.AudioPlayer.getMediaElementMethod=function(e){e.getMediaElement=function(){return e.audio.audio}},pageflow.audioContext={get:function(){var e=window.AudioContext||window.webkitAudioContext;if("undefined"==typeof this._audioContext)try{this._audioContext=e&&new e}catch(e){this._audioContext=null,pageflow.log("Failed to create AudioContext.",{force:!0})}return this._audioContext}},pageflow.VideoPlayer=function(e,t){t=t||{},e=pageflow.VideoPlayer.filterSources(e);var n=videojs(e,t);return t.useSlimPlayerControlsDuringPhonePlayback&&pageflow.mediaPlayer.useSlimPlayerControlsDuringPhonePlayback(n),pageflow.VideoPlayer.prebuffering(n),pageflow.VideoPlayer.cueSettingsMethods(n),pageflow.VideoPlayer.getMediaElementMethod(n),t.mediaEvents&&pageflow.VideoPlayer.mediaEvents(n,t.context),t.bufferUnderrunWaiting&&pageflow.VideoPlayer.bufferUnderrunWaiting(n),pageflow.mediaPlayer.enhance(n,t),n},videojs.Html5DashJS.hook("beforeinitialize",function(e,t){t.getDebug().setLogToBrowserConsole(!1)}),pageflow.mediaPlayer.useSlimPlayerControlsDuringPhonePlayback=function(e){var t=e.play;e.play=function(){return pageflow.browser.has("phone platform")&&!pageflow.browser.has("native video player")&&pageflow.widgets.use({name:"slim_player_controls",insteadOf:"classic_player_controls"},function(t){e.one("pause",t)}),t.apply(this,arguments)}},pageflow.VideoPlayer.mediaEvents=function(e,t){function n(n){pageflow.events.trigger("media:"+n,{fileName:e.currentSrc(),context:t,currentTime:e.currentTime(),duration:e.duration(),volume:e.volume(),bitrate:pageflow.browser.has("high bandwidth")?35e5:2e6})}e.on("play",function(){n("play")}),e.on("timeupdate",function(){n("timeupdate")}),e.on("pause",function(){n("pause")}),e.on("ended",function(){n("ended")})},pageflow.VideoPlayer.prebuffering=function(e){e.isBufferedAhead=function(t,n){var r=e.buffered(),i=r.end(r.length-1),o=e.currentTime()+t;e.duration()&&(o=Math.min(o,Math.floor(e.duration())));var a=i>=o;return n||pageflow.log("buffered ahead "+t+": "+a+" ("+i+"/"+o+")"),a},e.prebuffer=function(t){t=t||{};var n,r=t.secondsToBuffer||10,i=t.secondsToWait||3,o=200,a=1e3*i/o,s=0,u=$.Deferred();return pageflow.browser.has("prebuffering support")&&(e.isBufferedAhead(r)||e.prebufferDeferred||(pageflow.log("prebuffering video "+e.src()),n=function(){setTimeout(function(){e.prebufferDeferred&&(s++,e.isBufferedAhead(r)||s>a?(pageflow.log("finished prebuffering video "+e.src()),u.resolve(),e.prebufferDeferred=null):n())},o)},n(),e.prebufferDeferred=u)),e.prebufferDeferred?e.prebufferDeferred.promise():u.resolve().promise()},e.abortPrebuffering=function(){e.prebufferDeferred&&(pageflow.log("ABORT prebuffering"),e.prebufferDeferred.reject(),e.prebufferDeferred=null)};var t=e.pause;e.pause=function(){return e.abortPrebuffering(),t.apply(this,arguments)},e.one("dispose",function(){e.abortPrebuffering()})},pageflow.VideoPlayer.bufferUnderrunWaiting=function(e){function t(){n()&&r()}function n(){return!e.isBufferedAhead(.1,!0)&&!e.waitingOnUnderrun&&!o()}function r(){pageflow.log("Buffer underrun"),e.trigger("bufferunderrun"),e.pause(),e.waitingOnUnderrun=!0,e.prebuffer({secondsToBuffer:5,secondsToWait:5}).then(function(){e.waitingOnUnderrun&&(e.waitingOnUnderrun=!1,e.trigger("bufferunderruncontinue"),e.play())})}function i(){e.waitingOnUnderrun&&(e.ignoreUnderrunsUntil=(new Date).getTime()+5e3,e.waitingOnUnderrun=!1,e.trigger("bufferunderruncontinue"))}function o(){var t=e.ignoreUnderrunsUntil&&(new Date).getTime()<e.ignoreUnderrunsUntil;return t&&pageflow.log("ignoring underrun"),t}function a(){e.off("progress",t)}var s=e.pause;e.pause=function(){i(),s.apply(this,arguments)},pageflow.browser.has("buffer underrun waiting support")&&(e.on("play",function(){e.on("progress",t)}),e.on("pause",a),e.on("ended",a))},pageflow.VideoPlayer.filterSources=function(e){if($(e).is("video")&&pageflow.browser.has("mp4 support only")){$(e).find("source").not('source[type="video/mp4"]').remove();var t=$(e).clone(!0);return $(e).replaceWith(t),t[0]}return e},pageflow.VideoPlayer.Lazy=function(e,t){function n(e){s=e.html()}function r(){var e=s.replace(/preload="[a-z]*"/,'preload="auto"');e=e.replace(/src="([^"]*)"/g,'src="$1&t='+(new Date).getTime()+'"');var t=$(e);return pageflow.browser.has("mobile platform")&&t.attr("data-mobile-poster")?t.attr("poster",t.attr("data-mobile-poster")):pageflow.browser.has("high bandwidth")&&!pageflow.browser.has("mobile platform")?(t.attr("poster",t.attr("data-large-poster")),t.find("source").each(function(){$(this).attr("src",$(this).attr("data-high-src"))})):t.attr("poster",t.attr("data-poster")),t}var i,o,a,s,u=$('<span class="video_placeholder" />'),l=this,c=new $.Callbacks;n(e),e.before(u),this.ensureCreated=function(){i&&(clearTimeout(i),i=null),o||(o=r(),u.replaceWith(o),a=new pageflow.VideoPlayer(o[0],t),a.ready(c.fire))},this.isPresent=function(){return o&&!i},this.dispose=function(){o&&!pageflow.browser.has("mobile platform")&&(this.setEmptySrc(),$(a.el()).replaceWith(u),a.dispose(),a=null,o=null)},this.setEmptySrc=function(){a.src([{type:"video/webm",src:pageflow.assetUrls.emptyWebm},{type:"video/mp4",src:pageflow.assetUrls.emptyMp4}])},this.scheduleDispose=function(){i||(i=setTimeout(function(){l.dispose()},5e3))},this.ready=function(e){c.add(e)},this.paused=function(){return a&&a.paused()},this.volume=function(){return a?a.volume.apply(a,arguments):0},this.showPosterImage=function(){return a&&a.posterImage.show()},this.hidePosterImage=function(){return a&&a.posterImage.unlockShowing()},_.each(["play","playAndFadeIn","pause","fadeOutAndPause","prebuffer","src","on","load","currentTime"],function(e){l[e]=function(){var t=arguments;return a?new $.Deferred(function(n){a.ready(function(){$.when(a[e].apply(a,t)).then(n.resolve)})}):void pageflow.log("Video Player not yet initialized. ("+e+")",{force:!0})}})},pageflow.VideoPlayer.cueSettingsMethods=function(e){e.updateCueLineSettings=function(t){var n=t.split("."),r=n[0],i=n[1];r="top"==r?1:r;var o=!1;if(_(e.textTracks()).each(function(e){if("showing"==e.mode&&e.cues)for(var t=0;t<e.cues.length;t++)e.cues[t].line!=r&&(e.cues[t].line=r,o=!0)}),(this.prevLine!==t||o)&&"lazy"!=i){var a=e.tech({IWillNotUseThisInPlugins:!0});a&&a.trigger("texttrackchange")}this.prevLine=t}},pageflow.VideoPlayer.getMediaElementMethod=function(e){e.getMediaElement=function(){var t=e.tech({IWillNotUseThisInPlugins:!0});return t&&t.el()}},pageflow.visited=function(){function e(){i.hasItem(r)||i.setItem(r,n(),Infinity),pageflow.ready.then(function(){pageflow.slides.on("pageactivate",function(e){var n=e.target.getAttribute("id"),o=t();o.indexOf(n)<0&&o.push(n),i.setItem(r,o,Infinity)})})}function t(){return i.hasItem(r)&&i.getItem(r)?i.getItem(r).split(",").map(function(e){return parseInt(e,10)}):[]}function n(){return pageflow.pages.map(function(e){return e.perma_id})}var r,i=pageflow.cookies;return $(function(){r="_pageflow_"+pageflow.entryId+"_visited",pageflow.visited.enabled&&e()}),{getUnvisitedPages:function(){if(pageflow.visited.enabled){var e=t();return e.length?_.difference(n(),e):e}return[]}}}(),jQuery(function(e){pageflow.ready.then(function(){e("img.print_image").each(function(){var t=e(this);t.data("src")&&t.attr("src",t.data("printsrc"))})})}),pageflow.History=function(e,t){function n(){var e=window.location.href.match(/page=([^&]*)/);return e?e[1]:""}e.on("slideshowchangepage",function(n,r){var i=e.currentPage().attr("id");r.back?t.replaceState(null,"",t.hash()):r.ignoreInHistory?t.replaceState(null,"",i):(t.replaceState(r,"",t.hash()),t.pushState(null,"",i))}),t.on("popstate",function(){t.state()&&e.goToByPermaId(t.hash(),_.extend({back:!0},_.pick(t.state(),"direction","transition")))}),t.on("hashchange",function(){e.goToByPermaId(t.hash())}),this.getLandingPagePermaId=function(){return t.hash()||n()},this.start=function(){t.replaceState(null,"",e.currentPage().attr("id"))},this.back=_.bind(t.back,t)},pageflow.History.create=function(e,t){t=t||{};var n;return n=t.simulate?new pageflow.History.SimulatedAdapter:pageflow.browser.has("pushstate support")?new pageflow.History.PushStateAdapter:new pageflow.History.HashAdapter,new pageflow.History(e,n)},pageflow.History.HashAdapter=function(){var e=0;this.back=function(){return e>0&&(window.history.back(),e-=1,!0)},this.pushState=function(t,n,r){window.location.hash!==r&&(e+=1,window.location.hash=r)},this.replaceState=function(e,t,n){window.location.hash=n},this.state=function(){return{}},this.hash=function(){var e=window.location.href.match(/#(.*)$/);return e?e[1]:""},this.on=function(e,t){return $(window).on(e,t)}},pageflow.History.PushStateAdapter=function(){var e=0;this.back=function(){return e>0&&(window.history.back(),!0)},this.pushState=function(t,n,r){e+=1,window.history.pushState(t,n,"#"+r)},this.replaceState=function(e,t,n){window.history.replaceState(e,t,"#"+n)},this.state=function(){return history.state},this.hash=function(){var e=window.location.href.match(/#(.*)$/);return e?e[1]:""},this.on=function(e,t){return $(window).on(e,t)},$(window).on("popstate",function(){e-=1})},pageflow.History.SimulatedAdapter=function(){function e(){return t[t.length-1]}var t=[{hash:null,state:null}];this.back=function(){return t.length>1&&(t.pop(),this.trigger("popstate"),!0)},this.pushState=function(e,n,r){t.push({state:e,hash:r})},this.replaceState=function(t,n,r){e().state=t,e().hash=r},this.state=function(){return e().state},this.hash=function(){return e().hash}},_.extend(pageflow.History.SimulatedAdapter.prototype,Backbone.Events),pageflow.manualStart=function(e){var t=e.Deferred(),n=e.Deferred();return e(function(){pageflow.manualStart.enabled?t.resolve(n.resolve):n.resolve()}),{wait:function(e){var t=!1;return n.then(function(){t||e()}),{cancel:function(){t=!0}}},required:function(){return t.promise()}}}(jQuery),pageflow.widgets=function(){function e(e,t){$("div.widgets_present").removeClass(e).addClass(t),pageflow.events.trigger("widgets:update")}function t(e,t){return"widget_"+e+"_"+(t||"present")}return{isPresent:function(e){return!!$("div."+t(e)).length},areLoaded:function(){return!!$("div.widgets_present").length},use:function(n,r){var i=n.insteadOf,o=t(i),a=t(n.name)+" "+t(i,"replaced");this.isPresent(i)?(e(o,a),r(function(){e(a,o)})):r(function(){})}}}(),pageflow.widgetTypes=function(){var e={},t={enhance:function(){}};return{register:function(n,r){e[n]=_.extend({},t,r)},enhance:function(t){function n(t){var n=$(t).data("widget");e[n]&&e[n].enhance(t)}t.find("[data-widget]").each(function(){n($(this))})}}}(),pageflow.widgetTypes.register("default_navigation",{enhance:function(e){e.navigation()}}),pageflow.widgetTypes.register("default_mobile_navigation",{enhance:function(e){e.navigationMobile()}}),pageflow.links={setup:function(){this.ensureClickOnEnterKeyPress(),this.setupContentSkipLinks(),this.ensureTargetBlankForContentLinks()},ensureClickOnEnterKeyPress:function(){$("body").on("keypress","a, [tabindex]",function(e){13==e.which&&$(this).click()}),$("body").on("keyup","a, [tabindex]",function(e){e.stopPropagation()})},setupContentSkipLinks:function(){$(".content_link").attr("href","#firstContent"),$(".content_link").click(function(e){return $("#firstContent").focus(),e.preventDefault(),!1})},ensureTargetBlankForContentLinks:function(e){$(".contentText p a",e).attr("target","_blank")}},pageflow.HighlightedPage=pageflow.Object.extend({initialize:function(e,t){this.customNavigationBarMode=t&&t.customNavigationBarMode,this.entry=e},getPagePermaId:function(e){var t=this.entry.getStorylineIdByPagePermaId(e);if("inherit_from_parent"===this.getNavigationBarMode(t)){var n=this.entry.getParentPagePermaId(t);return n&&this.getPagePermaId(n)}return this.getDisplayedPageInChapter(e)},getDisplayedPageInChapter:function(e){return _(this.getChapterPagesUntil(e).reverse()).find(function(e){return this.pageIsDisplayedInNavigation(e)},this)},pageIsDisplayedInNavigation:function(e){return!1!==this.entry.getPageConfiguration(e).display_in_navigation},getNavigationBarMode:function(e){return this.customNavigationBarMode?this.customNavigationBarMode(e,this.entry):this.entry.getStorylineConfiguration(e).navigation_bar_mode},getChapterPagesUntil:function(e){var t=!1,n=this.entry.getChapterIdByPagePermaId(e);return _.filter(this.entry.getChapterPagePermaIds(n),function(n){var r=!t;return t=t||e===n,r})}}),pageflow.HighlightedPage.create=function(e){return new pageflow.HighlightedPage(pageflow.entryData,e)},pageflow.ChapterFilter=pageflow.Object.extend({initialize:function(e){this.entry=e},strategies:{non:function(){return!1},current_storyline:function(e,t){return this.entry.getStorylineIdByChapterId(e)===this.entry.getStorylineIdByChapterId(t)},inherit_from_parent:function(e,t){return this.chapterVisibleFromChapter(this.entry.getParentChapterId(e),t)}},chapterVisibleFromPage:function(e,t){var n=this.entry.getChapterIdByPagePermaId(e);return this.chapterVisibleFromChapter(n,t)},chapterVisibleFromChapter:function(e,t){return this.getStrategy(e).call(this,e,t)},getStrategy:function(e){return this.strategies[this.getNavigationBarMode(e)]||this.strategies.current_storyline},getNavigationBarMode:function(e){var t=this.entry.getStorylineIdByChapterId(e);return this.entry.getStorylineConfiguration(t).navigation_bar_mode}}),pageflow.ChapterFilter.strategies=_(pageflow.ChapterFilter.prototype.strategies).keys(),pageflow.ChapterFilter.create=function(){return new pageflow.ChapterFilter(pageflow.entryData)},pageflow.Fullscreen=pageflow.Object.extend({toggle:function(){var e=this;$.support.fullscreen&&$("#outer_wrapper").fullScreen({callback:function(t){e._active=t,e.trigger("change")}})},isSupported:function(){return $.support.fullscreen},isActive:function(){return this._active}}),pageflow.fullscreen=new pageflow.Fullscreen,pageflow.multimediaAlert={show:function(){pageflow.events.trigger("request:multimedia_alert")}},pageflow.nativeScrolling={preventScrollBouncing:function(e){e.on("touchmove",function(e){e.preventDefault()})},preventScrollingOnEmbed:function(e){e.on("wheel mousewheel DOMMouseScroll",function(e){e.stopPropagation(),e.preventDefault()})}},function(){pageflow.FocusOutline=pageflow.Object.extend({initialize:function(e){this.element=e},showOnlyAfterKeyboardInteraction:function(){var e=this;this.disable(),this.element.on("keydown",function(t){9===t.which&&e.enable()}),this.element.on("mousedown",function(){e.disable()})},disable:function(){this.disabled||(this.disabled=!0,this.element.addClass("disable_focus_outline"),this.element.removeClass("enable_focus_outline"))},enable:function(){this.disabled&&(this.disabled=!1,this.element.removeClass("disable_focus_outline"),this.element.addClass("enable_focus_outline"))}}),pageflow.FocusOutline.setup=function(e){pageflow.focusOutline=new pageflow.FocusOutline(e),pageflow.focusOutline.showOnlyAfterKeyboardInteraction()}}(),pageflow.phoneLandscapeFullscreen=function(){function e(){return 90==window.orientation||-90==window.orientation}function t(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitEnterFullscreen&&e.webkitEnterFullscreen()}window.screen.orientation&&pageflow.ready.then(function(){pageflow.browser.has("phone platform")&&!pageflow.browser.has("iphone platform")&&(window.screen.orientation.onchange=function(){e()&&t(document.body)})})},pageflow.Settings=Backbone.Model.extend({defaults:{volume:1},initialize:function(){var e=this.getLocalStorage();if(e){if(e["pageflow.settings"])try{this.set(JSON.parse(e["pageflow.settings"]))}catch(e){pageflow.log(e)}this.on("change",function(){e["pageflow.settings"]=JSON.stringify(this)})}},getLocalStorage:function(){try{return window.localStorage}catch(e){return null}}}),pageflow.settings=new pageflow.Settings,function(){pageflow.Atmo=pageflow.Object.extend({initialize:function(e,t,n){this.slideshow=e,this.multiPlayer=n,this.disabled=pageflow.browser.has("mobile platform"),this.listenTo(t,"page:change page:update",function(){this.update()})},disable:function(){this.disabled=!0,this.multiPlayer.fadeOutAndPause(),pageflow.events.trigger("atmo:disabled")},enable:function(){this.disabled=!1,this.update(),pageflow.events.trigger("atmo:enabled")},pause:function(){if(pageflow.browser.has("volume control support"))return this.multiPlayer.fadeOutAndPause();this.multiPlayer.pause()},turnDown:function(){if(pageflow.browser.has("volume control support"))return this.multiPlayer.changeVolumeFactor(.2);this.multiPlayer.pause()},resume:function(){return this.multiPlayer.paused()?this.disabled?(new $.Deferred).resolve().promise():this.multiPlayer.resumeAndFadeIn():this.multiPlayer.changeVolumeFactor(1)},update:function(){var e=this.slideshow.currentPageConfiguration();this.disabled||this.multiPlayer.fadeTo(e.atmo_audio_file_id)},createMediaPlayerHooks:function(e){var t=this;return{before:function(){"mute"===e.atmo_during_playback?t.pause():"turn_down"===e.atmo_during_playback&&t.turnDown()},after:function(){t.resume()}}}}),pageflow.Atmo.create=function(e,t,n){return new pageflow.Atmo(e,t,n.createMultiPlayer({loop:!0,fadeDuration:500,crossFade:!0,playFromBeginning:!1,rewindOnChange:!0,pauseInBackground:!0}))},pageflow.Atmo.duringPlaybackModes=["play","mute","turn_down"]}(),function(e){var t=["reinit","reactivate","activate","activateAsLandingPage","prepare","linkedPages"],n=["cleanup","refreshScroller","resize","preload","deactivate","unprepare"],r={_create:function(){this.configuration=this.element.data("configuration")||this.options.configuration,this.index=this.options.index},_destroy:function(){this.isDestroyed=!0},_ensureCreated:function(){this.created=!0,this.element.nonLazyPage(this.options)},_delegateToInner:function(e,t){return this.element.nonLazyPage.apply(this.element,[e].concat([].slice.call(t)))},getPermaId:function(){return parseInt(this.element.attr("id"),10)},getConfiguration:function(){return this.configuration},update:function(e){
this.created?this._delegateToInner("update",arguments):_.extend(this.configuration,e.attributes)}};_(t).each(function(e){r[e]=function(){return this._ensureCreated(),this._delegateToInner(e,arguments)}}),_(n).each(function(e){r[e]=function(){if(this.created)return this._delegateToInner(e,arguments)}}),e.widget("pageflow.page",r)}(jQuery),function(e){e.widget("pageflow.nonLazyPage",{widgetEventPrefix:"page",_create:function(){this.configuration=this.element.data("configuration")||this.options.configuration,this.index=this.options.index,this._setupNearBoundaryCssClasses(),this.reinit()},getPermaId:function(){return parseInt(this.element.attr("id"),10)},getConfiguration:function(){return this.configuration},update:function(e){_.extend(this.configuration,e.attributes),this.pageType.update(this.element,e)},reinit:function(){this.pageType=pageflow.pageType.get(this.element.data("template")),this.element.data("pageType",this.pageType),this.preloaded=!1,!1===this.pageType.scroller?this.content=e():this.content=this.element.find(".scroller"),this.content.scroller(this.pageType.scrollerOptions||{}),this.pageType.scroller=this.content.scroller("instance"),this.pageType.scrollIndicator=new pageflow.ScrollIndicator(this.element),this._setupHideTextOnSwipe(),this._triggerPageTypeHook("enhance"),this._trigger("enhanced")},reactivate:function(){this.element.hasClass("active")&&(this.preload(),this.content.scroller("enable"),this.content.scroller("resetPosition"),this.content.scroller("afterAnimationHook"),this._triggerPageTypeHook("activating"),this._triggerDelayedPageTypeHook("activated"))},cleanup:function(){this._triggerPageTypeHook("deactivating"),this._triggerDelayedPageTypeHook("deactivated"),this._triggerPageTypeHook("cleanup")},refreshScroller:function(){this.content.scroller("refresh")},resize:function(){this._triggerPageTypeHook("resize")},activateAsLandingPage:function(){this.element.addClass("active"),this.content.scroller("enable"),this.content.scroller("resetPosition"),this.content.scroller("afterAnimationHook"),this._trigger("activate",null,{page:this}),this._triggerPageTypeHook("activating"),this._triggerDelayedPageTypeHook("activated")},prepare:function(){this._triggerPageTypeHook("prepare")},unprepare:function(){this._triggerPageTypeHook("unprepare")},prepareNextPageTimeout:function(){return this.pageType.prepareNextPageTimeout},linkedPages:function(){return this._triggerPageTypeHook("linkedPages")},preload:function(){var t=this;if(!this.preloaded)return this.preloaded=!0,e.when(this._triggerPageTypeHook("preload")).then(function(){t._trigger("preloaded")})},activate:function(e){e=e||{},setTimeout(_.bind(function(){this.element.addClass("active")},this),0);var t=this.animateTransition("in",e,function(){this.content.scroller("enable"),this.content.scroller("afterAnimationHook"),this._triggerDelayedPageTypeHook("activated")});return this.content.scroller("resetPosition",{position:e.position}),this._trigger("activate",null,{page:this}),this._triggerPageTypeHook("activating",{position:e.position}),t},deactivate:function(e){e=e||{},this.element.removeClass("active");var t=this.animateTransition("out",e,function(){this._triggerPageTypeHook("deactivated")});return this.content.scroller("disable"),this._trigger("deactivate"),this._triggerPageTypeHook("deactivating"),t},animateTransition:function(e,t,n){var r="in"===e?"out":"in",i=t.transition||this.configuration.transition||"fade",o=pageflow.pageTransitions.get(i).duration,a=i+" animate-"+e+"-"+t.direction;return this.element.removeClass("animate-"+r+"-forwards animate-"+r+"-backwards").addClass(a),setTimeout(_.bind(function(){this.element.removeClass(a),n.call(this)},this),o),o},_triggerDelayedPageTypeHook:function(e){var t=this,n=pageflow.manualStart.wait(function(){t._triggerPageTypeHook(e)});this.element.one("pagedeactivate",function(){n.cancel()})},_triggerPageTypeHook:function(e,t){return this.pageType[e](this.element,this.configuration,t||{})},_setupHideTextOnSwipe:function(){pageflow.entryData.getThemingOption("hide_text_on_swipe")&&!this.pageType.noHideTextOnSwipe&&this.content.hideTextOnSwipe()},_setupNearBoundaryCssClasses:function(){var e=this.element;_(["top","bottom"]).each(function(t){e.on("scrollernear"+t,function(){e.addClass("is_near_"+t)}),e.on("scrollernotnear"+t,function(){e.removeClass("is_near_"+t)})})}})}(jQuery),function(e){e.widget("pageflow.scroller",{dragThreshold:50,maxXDelta:50,doubleBumpThreshold:500,_create:function(){this.iscroll=new IScroll(this.element[0],_.extend({mouseWheel:!0,bounce:!1,keyBindings:!0,probeType:2,preventDefault:!1},_.pick(this.options,"freeScroll","scrollX","noMouseWheelScrollX"))),this.iscroll.disable(),pageflow.entryData.getThemingOption("page_change_by_scrolling")&&(this._initMousewheelBump("up"),this._initMousewheelBump("down"),this._initDragGestureBump()),this._initKeyboardBump("up"),this._initKeyboardBump("down"),this._initNearBottomEvents(),this._initNearTopEvents(),this._initMoveEvents(),this._onScrollEndCallbacks=new e.Callbacks},enable:function(){this.iscroll.enable(),this.iscroll.refresh()},resetPosition:function(e){e=e||{},this.iscroll.refresh(),"bottom"===e.position?this.iscroll.scrollTo(0,this.iscroll.maxScrollY,0):this.iscroll.scrollTo(0,0,0),this._triggerBoundaryEvents()},scrollBy:function(e,t,n,r){this.scrollTo(this.iscroll.x+e,this.iscroll.y+t,n,r)},scrollTo:function(e,t,n,r){this.iscroll.scrollTo(Math.max(Math.min(e,0),this.iscroll.maxScrollX),Math.max(Math.min(t,0),this.iscroll.maxScrollY),n,r),this._onScrollEndCallbacks.fire()},refresh:function(){this.iscroll.refresh()},afterAnimationHook:function(){this._triggerBoundaryEvents()},disable:function(){this.iscroll.disable()},positionX:function(){return this.iscroll.x},positionY:function(){return this.iscroll.y},maxX:function(){return this.iscroll.maxScrollX},maxY:function(){return this.iscroll.maxScrollY},onScroll:function(e){this.iscroll.on("scroll",e)},onScrollEnd:function(e){this.iscroll.on("scrollEnd",e),this._onScrollEndCallbacks.add(e)},_initMoveEvents:function(){this.iscroll.on("mousewheelup",_.bind(this._triggerMoveEvent,this)),this.iscroll.on("mousewheeldown",_.bind(this._triggerMoveEvent,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerMoveEvent,this))},_triggerMoveEvent:function(){this._trigger("move")},_initNearBottomEvents:function(){this.iscroll.on("scroll",_.bind(this._triggerNearBottomEvents,this)),this.iscroll.on("scrollEnd",_.bind(this._triggerNearBottomEvents,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerNearBottomEvents,this))},_initNearTopEvents:function(){this.iscroll.on("scroll",_.bind(this._triggerNearTopEvents,this)),this.iscroll.on("scrollEnd",_.bind(this._triggerNearTopEvents,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerNearTopEvents,this))},_triggerBoundaryEvents:function(){this._triggerNearTopEvents(),this._triggerNearBottomEvents()},_triggerNearBottomEvents:function(){this._atBoundary("down",{delta:50})?this._trigger("nearbottom"):this._trigger("notnearbottom")},_triggerNearTopEvents:function(){this._atBoundary("up",{delta:50})?this._trigger("neartop"):this._trigger("notneartop")},_initMousewheelBump:function(e){var t=!1;this.iscroll.on("mousewheel"+e,_.bind(function(){this._atBoundary(e)&&(t?(this._trigger("bump"+e),t=!1,clearTimeout(this.waitForSecondBump)):(this._trigger("hint"+e),t=!0,this.waitForSecondBump=setTimeout(function(){t=!1},this.doubleBumpThreshold)))},this))},_initKeyboardBump:function(e){this.iscroll.on("keyboard"+e,_.bind(function(t){this._atBoundary(e)&&(t.stopImmediatePropagation(),this._trigger("bump"+e))},this)),this.iscroll.on("keyboardhint"+e,_.bind(function(){this._atBoundary(e)&&this._trigger("hint"+e)},this))},_initDragGestureBump:function(){function e(e){return e.originalEvent.pointerType&&e.originalEvent.pointerType!==e.originalEvent.MSPOINTER_TYPE_TOUCH&&"touch"!==e.originalEvent.pointerType}var t,n,r=!1,i=!1;this.element.on("touchstart MSPointerDown pointerdown",_.bind(function(o){var a=o.originalEvent.touches?o.originalEvent.touches[0]:o.originalEvent;t=a.pageX,n=a.pageY,e(o)||(i=this._atBoundary("down"),r=this._atBoundary("up"))},this)),this.element.on("touchmove MSPointerMove pointermove",_.bind(function(e){var o=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent,a=o.pageX-t,s=o.pageY-n;Math.abs(a)>this.maxXDelta&&(i=r=!1),r&&s>this.dragThreshold?(this._trigger("bumpup"),i=r=!1):i&&s<-this.dragThreshold&&(this._trigger("bumpdown"),i=r=!1)},this)),this.element.on("touchend MSPointerUp pointerup",_.bind(function(){r&&this._trigger("hintup"),i&&this._trigger("hintdown")},this))},_atBoundary:function(e,t){t=t||{};var n=t.delta||0;return"up"===e?this.iscroll.y>=-n:this.iscroll.y<=this.iscroll.maxScrollY+n}})}(jQuery),pageflow.ScrollIndicator=pageflow.Object.extend({initialize:function(e){this.pageElement=e},disable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:disable")},scheduleDisable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:schedule_disable")},enable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:enable")},_isPageActive:function(){return this.pageElement.hasClass("active")}}),function(e){var t={up:"top",down:"bottom"};e.widget("pageflow.scrollIndicator",{_create:function(){function n(e){e.hasClass("scroll_indicator_mode_non")||e.hasClass("scroll_indicator_mode_only_next")&&"up"===c||e.hasClass("scroll_indicator_mode_only_back")&&"down"===c?d.element.hide():d.element.show(),d.element.toggleClass("hidden_for_page",i(e)),d.element.toggleClass("invert",r(e)),d.element.toggleClass("horizontal",e.hasClass("scroll_indicator_orientation_horizontal")),d.element.toggleClass("available",s())}function r(e){var t=e.data("invertIndicator");return void 0===t&&(t=e.hasClass("invert")&&!o(e)),t}function i(e){return o(e)||!pageflow.widgets.areLoaded()}function o(e){return a(e)&&pageflow.widgets.isPresent("slim_player_controls")}function a(e){return!!e.find('[data-role="player_controls"]').length}function s(){return"down"===c?l.nextPageExists():l.previousPageExists()}var u,l=this.options.parent,c=this.element.data("direction"),f=t[c],d=this;l.on("pageactivate",function(t){n(e(t.target)),clearTimeout(u),d.element.removeClass("faded")}),pageflow.events.on({"page:update":function(){n(l.currentPage())},"scroll_indicator:disable":function(){clearTimeout(u),d.element.addClass("hidden_for_page")},"scroll_indicator:schedule_disable":function(){clearTimeout(u),u=setTimeout(function(){d.element.addClass("faded")},2e3)},"scroll_indicator:enable":function(){clearTimeout(u),d.element.removeClass("faded hidden_for_page")}}),l.on("scrollerhint"+c,function(){d.element.addClass("animate"),setTimeout(function(){d.element.removeClass("animate")},500)}),l.on("scrollernear"+f,function(t){e(t.target).parents("section").hasClass("active")&&d.element.toggleClass("visible",s())}),l.on("scrollernotnear"+f+" slideshowchangepage",function(){d.element.removeClass("visible")}),e.when(pageflow.ready,pageflow.manualStart).done(function(){setTimeout(function(){d.element.addClass("attract"),setTimeout(function(){d.element.removeClass("attract")},1500)},3e3)}),this.element.on("click",function(){"down"===c?l.next():l.back()})}})}(jQuery),function(e){e.widget("pageflow.hiddenTextIndicator",{_create:function(){var t=this.options.parent,n=this;t.on("pageactivate",function(t){var r=e(t.target).add(".content_and_background",t.target);n.element.toggleClass("invert",e(t.target).hasClass("invert")),n.element.toggleClass("hidden",r.hasClass("hide_content_with_text")||r.hasClass("no_hidden_text_indicator"))}),t.on("hidetextactivate",function(){n.element.addClass("visible")}),t.on("hidetextdeactivate",function(){n.element.removeClass("visible")})}})}(jQuery),pageflow.ProgressivePreload=function(){function e(e,t){function n(e,o){$.when(e.page("preload"),r()).then(function(){var r=e.next(".page");!i&&r.length&&o<t&&n(r,o+1)})}function r(){return new $.Deferred(function(e){setTimeout(function(){e.resolve()},1)}).promise()}var i=!1;this.cancel=function(){i=!0},this.start=function(){n(e,0)}}var t=null;this.start=function(n){t&&t.cancel(),t=new e(n,10),t.start()}},pageflow.AdjacentPages=pageflow.Object.extend({initialize:function(e,t){this.pages=e,this.scrollNavigator=t},of:function(e){var t=[],n=this.pages(),r=this.scrollNavigator.getNextPage(e.element,n);return r.length&&t.push(r.page("instance")),_(e.linkedPages()).each(function(e){var r=n.filter("#"+e);r.length&&t.push(r.page("instance"))},this),t}}),pageflow.AdjacentPreparer=pageflow.Object.extend({initialize:function(e){this.adjacentPages=e},attach:function(e){this.listenTo(e,"page:change",this.schedule)},schedule:function(e){clearTimeout(this.scheduleTimeout);var t=_.bind(this.prepareAdjacent,this,e.element.page("instance"));this.scheduleTimeout=setTimeout(t,e.prepareNextPageTimeout())},prepareAdjacent:function(e){var t=this.adjacentPages.of(e),n=_.difference(this.lastPreparedPages,t,[e]),r=_.difference(t,this.lastPreparedPages);_(n).each(function(e){e.isDestroyed||e.unprepare()}),_(r).each(function(e){e.prepare(),e.preload()}),this.lastPreparedPages=t.concat([e])}}),pageflow.AdjacentPreparer.create=function(e,t){return new pageflow.AdjacentPreparer(new pageflow.AdjacentPages(e,t))},function(e){e.widget("pageflow.swipeGesture",{_create:function(){function e(e){return e.originalEvent.pointerType&&e.originalEvent.pointerType!==e.originalEvent.MSPOINTER_TYPE_TOUCH&&"touch"!==e.originalEvent.pointerType}var t,n,r,i,o;this.options=_.extend({orientation:"x",minDist:100,maxOrthogonalDist:50,maxDuration:500},this.options),this.element.on("touchstart MSPointerDown pointerdown",_.bind(function(a){if(!e(a)){var s=a.originalEvent.touches?a.originalEvent.touches[0]:a.originalEvent;t=s.pageX,n=s.pageY,i=0,o=0,r=(new Date).getTime()}},this)),this.element.on("touchmove MSPointerMove pointermove",_.bind(function(r){if(!e(r)){var a=r.originalEvent.touches?r.originalEvent.touches[0]:r.originalEvent;i=a.pageX-t,o=a.pageY-n}},this)),this.element.on("touchend MSPointerUp pointerup",_.bind(function(t){if(!e(t)){var n=(new Date).getTime()-r,a="x"===this.options.orientation?i:o,s="x"===this.options.orientation?o:i;Math.abs(a)>this.options.minDist&&Math.abs(s)<this.options.maxOrthogonalDist&&n<this.options.maxDuration&&("x"===this.options.orientation?this._trigger(a>0?"right":"left"):this._trigger(a>0?"down":"up"))}},this))}})}(jQuery),pageflow.hideText=function(){function e(){return $("body")}function t(e){return _.map(e.split(" "),function(e){return"hidetext"+e}).join(" ")}return $(function(){e().on("keydown",function(e){27==e.keyCode&&pageflow.hideText.deactivate()})}),{isActive:function(){return e().hasClass("hideText")},toggle:function(){this.isActive()?this.deactivate():this.activate()},activate:function(){this.isActive()||(e().addClass("hideText"),e().trigger("hidetextactivate"))},deactivate:function(){this.isActive()&&(e().removeClass("hideText"),e().trigger("hidetextdeactivate"))},on:function(n,r){e().on(t(n),r)},off:function(n,r){e().off(t(n),r)}}}(),function(e){e.widget("pageflow.hideTextOnSwipe",{_create:function(){this.element.swipeGesture({orientation:"x"}),this.element.on("swipegestureleft",function(){pageflow.hideText.activate()}),this.element.on("touchstart MSPointerDown pointerdown mousedown",function(){pageflow.hideText.isActive()&&pageflow.hideText.deactivate()}),this.element.on("scrollermove",function(){pageflow.hideText.isActive()&&pageflow.hideText.deactivate()})}})}(jQuery),pageflow.DomOrderScrollNavigator=function(e,t){function n(e,n,r){var o=i(e,r);return t.getStorylineIdByPagePermaId(o.page("getPermaId"))==t.getStorylineIdByPagePermaId(n.page("getPermaId"))}function r(e,n){return t.getStorylineIdByPagePermaId(e.page("getPermaId"))==t.getStorylineIdByPagePermaId(n.page("getPermaId"))}function i(e,n){var r=s(e);return"parent_page_perma_id"in r&&t.getThemingOption("change_to_parent_page_at_storyline_boundary")?n.filter("#"+r.parent_page_perma_id):$()}function o(e){return s(e).page_transition||"scroll_over_from_right"}function a(e,t){var n=s(e);return"scroll_successor_id"in n?t.filter("#"+n.scroll_successor_id):$()}function s(e){var n=e.page("getPermaId"),r=t.getStorylineIdByPagePermaId(n);return t.getStorylineConfiguration(r)}this.getLandingPage=function(e){return e.first()},this.back=function(t,n){var r="bottom",o=this.getPreviousPage(t,n);o.is(i(t,n))&&(r=null),e.goTo(o,{position:r,ignoreInHistory:!0})},this.next=function(t,n){e.goTo(this.getNextPage(t,n),{ignoreInHistory:!0})},this.nextPageExists=function(e,t){return!!this.getNextPage(e,t).length},this.previousPageExists=function(e,t){return!!this.getPreviousPage(e,t).length},this.getNextPage=function(e,t){var n=e.next(".page");if(r(e,n))return n;var o=a(e,t);return o.length?o:i(e,t)},this.getPreviousPage=function(e,t){var n=e.prev(".page");return r(e,n)?n:i(e,t)},this.getTransitionDirection=function(e,t){return t.index()>e.index()?"forwards":"backwards"},this.getDefaultTransition=function(e,t,r){return n(t,e,r)?o(t):n(e,t,r)?o(e):void 0}},pageflow.Slideshow=function(e,t){function n(e,t){if(!l){l=!0;var n=e.call(t);setTimeout(function(){l=!1},n)}}function r(e){var t=$(d.get(e));return t.length?t:d.last()}function i(){return parseInt(f.attr("id"),10)}function o(e){var t=a(e);t&&(f=t,u=f.index(),f.page("activateAsLandingPage"),c.start(f))}function a(e){if(!f.length){var t=e&&e.landingPagePermaId;return t?s(t):p.scrollNavigator.getLandingPage(d)}if(!f.parent().length)return r(u)}function s(t){return e.find("#"+t)}var u,l=!1,c=new pageflow.ProgressivePreload,f=$(),d=$(),p=this;t=t||{},this.nextPageExists=function(){return this.scrollNavigator.nextPageExists(f,d)},this.previousPageExists=function(){return this.scrollNavigator.previousPageExists(f,d)},this.isOnLandingPage=function(){return f.is(this.scrollNavigator.getLandingPage(d))},this.goToLandingPage=function(){this.goTo(this.scrollNavigator.getLandingPage(d))},this.back=function(){this.scrollNavigator.back(f,d)},this.next=function(){this.scrollNavigator.next(f,d)},this.parentPageExists=function(){return!!pageflow.entryData.getParentPagePermaIdByPagePermaId(i())},this.goToParentPage=function(){this.goToByPermaId(pageflow.entryData.getParentPagePermaIdByPagePermaId(i()))},this.goToById=function(t,n){return this.goTo(e.find("[data-id="+t+"]"),n)},this.goToByPermaId=function(e,t){if(e)return this.goTo(s(e),t)},this.goTo=function(t,r){if(r=r||{},t.length&&!t.is(f))return n(function(){var n=f;f=t,u=f.index();var i=r.transition||this.scrollNavigator.getDefaultTransition(n,f,d),o=this.scrollNavigator.getTransitionDirection(n,f,r),a=n.page("deactivate",{direction:o,transition:i}),s=f.page("activate",{direction:o,position:r.position,transition:i});return c.start(f),e.trigger("slideshowchangepage",[r]),Math.max(a,s)},this),!0},this.goToFirstPage=function(){return this.goTo(d.first())},this.update=function(n){d=e.find("section.page"),d.each(function(e){var n=$(this);n.page({index:e,configuration:t[n.data("id")]})}),o(n)},this.currentPage=function(){return f},this.currentPageConfiguration=function(){return f.page("getConfiguration")},this.on=function(){e.on.apply(e,arguments)},this.triggerResizeHooks=function(){f.page("resize"),pageflow.events.trigger("resize")},e.on("scrollerbumpup",_.bind(function(){this.back()},this)),e.on("scrollerbumpdown",_.bind(function(){this.next()},this)),e.on("click","a.to_top",_.bind(function(){this.goToLandingPage()},this)),$(window).on("resize",this.triggerResizeHooks),pageflow.nativeScrolling.preventScrollBouncing(e),e.addClass("slideshow"),e.find(".hidden_text_indicator").hiddenTextIndicator({parent:$("body")}),this.on("slideshowchangepage",function(){pageflow.hideText.deactivate()}),e.find(".scroll_indicator").scrollIndicator({parent:this}),this.scrollNavigator=new pageflow.DomOrderScrollNavigator(this,pageflow.entryData),this.preparer=pageflow.AdjacentPreparer.create(function(){return d},this.scrollNavigator).attach(pageflow.events)},pageflow.Slideshow.setup=function(e){function t(e){return _.reduce(e,function(e,t){return e[t.id]=t.configuration,e},{})}return pageflow.slides=new pageflow.Slideshow(e.element,t(e.pages)),pageflow.features.enable("slideshow",e.enabledFeatureNames||[]),pageflow.atmo=pageflow.Atmo.create(pageflow.slides,pageflow.events,pageflow.audio),pageflow.history=pageflow.History.create(pageflow.slides,{simulate:e.simulateHistory}),e.beforeFirstUpdate&&e.beforeFirstUpdate(),pageflow.slides.update({landingPagePermaId:pageflow.history.getLandingPagePermaId()}),pageflow.history.start(),pageflow.slides},pageflow.ready=new $.Deferred(function(e){window.onload=function(){pageflow.browser.detectFeatures().then(function(){var t=$("[data-role=slideshow]"),n=$("body");n.one("pagepreloaded",function(){e.resolve()}),t.each(function(){pageflow.events.trigger("seed:loaded"),pageflow.entryData=new pageflow.SeedEntryData(pageflow.seed),pageflow.Audio.setup({audioFiles:pageflow.audioFiles}),pageflow.Slideshow.setup({element:$(this),pages:pageflow.pages,enabledFeatureNames:pageflow.enabledFeatureNames,beforeFirstUpdate:function(){$(".header").header({slideshow:pageflow.slides}),$(".overview").overview(),$(".multimedia_alert").multimediaAlert(),pageflow.widgetTypes.enhance(n),pageflow.phoneLandscapeFullscreen()}})}),pageflow.links.setup(),pageflow.FocusOutline.setup(n),pageflow.nativeScrolling.preventScrollingOnEmbed(t)})}}).promise(),jQuery(function(e){e("body").on("click","a.navigation_main",function(){pageflow.events.trigger("button:header")}),e("body").on("click","a.navigation_index",function(){pageflow.events.trigger("button:overview")}),e("body").on("click","a.navigation_fullscreen",function(){pageflow.events.trigger("button:fullscreen")}),e("body").on("click",".mute a",function(){pageflow.events.trigger("button:mute")}),e("body").on("click","a.share.facebook",function(){pageflow.events.trigger("share:facebook")}),e("body").on("click","a.share.twitter",function(){pageflow.events.trigger("share:twitter")}),e("body").on("click","a.share.google",function(){pageflow.events.trigger("share:google")}),e("body").on("pageactivate",function(e,t){pageflow.events.trigger("page:change",t.page)})}),function(e){e.widget("pageflow.fullscreenButton",{_create:function(){pageflow.fullscreen.on("change",this.update,this),this.update(),this.element.click(function(){pageflow.fullscreen.toggle()}),pageflow.fullscreen.isSupported()||this.element.css("visibility","hidden")},_destroy:function(){pageflow.fullscreen.off("change",this.update)},update:function(){this.element.toggleClass("active",!!pageflow.fullscreen.isActive()).updateTitle()}})}(jQuery),jQuery(function(e){e.widget("pageflow.header",{_create:function(){function t(e){r.element.toggleClass("invert",e.hasClass("invert")),r.element.toggleClass("first_page",0===e.index())}var n=this.options.slideshow,r=this;n.on("pageactivate",function(e,r){t(n.currentPage(),r)}),n.on("scrollerneartop",function(t){e(t.target).parents("section").is(n.currentPage())&&r.element.addClass("near_top")}),n.on("scrollernotneartop",function(t){e(t.target).parents("section").is(n.currentPage())&&r.element.removeClass("near_top")}),n.currentPage().length&&t(n.currentPage(),{}),this.element.addClass("near_top"),this.element.find(".header input").placeholder()}})}),function(e){e.widget("pageflow.loadingSpinner",{_create:function(){var e=this.element;pageflow.nativeScrolling.preventScrollBouncing(e),setTimeout(function(){pageflow.ready.then(function(){e.addClass("fade"),setTimeout(function(){e.hide()},1e3)})},1e3)}}),e(function(){e(".loading_spinner").loadingSpinner()})}(jQuery),function(e){e.widget("pageflow.multimediaAlert",{_create:function(){function t(){i.element.show(),r(!1)}function n(){i.element.hide(),r(!0)}function r(t){e(".page .content").toggleClass("initially_hidden",!t),e(".slideshow .scroll_indicator").toggleClass("initially_hidden",!t)}var i=this;pageflow.manualStart.required().then(function(e){t(),i.element.find(".close").one("click",function(){return n(),pageflow.events.trigger("button:close_multimedia_alert"),e(),!1})}),pageflow.events.on("request:multimedia_alert",function(){t(),i.element.find(".close").one("click",function(){n()})},this),pageflow.nativeScrolling.preventScrollBouncing(this.element)}})}(jQuery),function(e){e.widget("pageflow.muteButton",{_create:function(){function e(){pageflow.settings.get("volume")>0?(n=pageflow.settings.get("volume"),pageflow.settings.set("volume",0)):pageflow.settings.set("volume",n)}var t=this.element,n=1;t.on("click",e),pageflow.settings.on("change:volume",this.update,this),this.update()},_destroy:function(){pageflow.settings.off("change:volume",this.update)},update:function(){0===pageflow.settings.get("volume")?this.element.attr("title",this.element.attr("data-muted-title")).addClass("muted"):this.element.attr("title",this.element.attr("data-not-muted-title")).removeClass("muted")}})}(jQuery),function(e){e.widget("pageflow.navigation",{_create:function(){function t(){c=e(this),c.one("mouseup touchend",i)}function n(){f.off("mouseup touchend",i)}function r(){e(a).addClass("hidden").removeClass("visible")}function i(e){c&&c[0]!=e.currentTarget||(r(),pageflow.slides.goToById(this.getAttribute("data-link")),e.preventDefault())}var o=this.element,a=o.find(".navigation_site_detail"),s=function(){};o.addClass("js").append(a),e("a.navigation_top",o).topButton(),e(".navigation_bar_bottom",o).append(e(".navigation_bar_top > li",o).slice(-2)),e(".navigation_volume_box",o).volumeSlider({orientation:"h"}),e(".navigation_mute",o).muteButton(),pageflow.browser.has("mobile platform")&&(e("li.mute",o).hide(),e(".navigation_bar_bottom",o).css("height","224px"),e(".scroller",o).css("bottom","224px"),e(".navigation_scroll_indicator.bottom",o).css("bottom","190px")),e(".navigation_main",o).click(function(){e(this).toggleClass("active").updateTitle(),e(".header").toggleClass("active")}),e('a[href="#header"], a[href="#search"]',"#skipLinks").click(function(){e(".navigation_main",o).addClass("active"),e(".header").addClass("active"),e(this.getAttribute("href")).select()}),e(".navigation_menu .navigation_menu_box a",o).focus(function(){e(this).parents(".navigation_menu").addClass("focused")}).blur(function(){e(this).parents(".navigation_menu").removeClass("focused")});var u=e(".navigation_share_box",o),l=e("> a",u);u.shareMenu({subMenu:e(".sub_share",o),links:l,insertAfter:l.last(),closeOnMouseLeaving:u});var c,f=e(".navigation_thumbnails a",o);f.each(function(n){var o=function(){"ontouchstart"in document.documentElement||e(a[n]).css("top",e(this).offset().top).addClass("visible").removeClass("hidden")};e(this).on({mouseenter:o,mouseleave:r,"mousedown touchstart":t,click:i})}),e(window).on("resize",function(){e(a).css("top","0"),d()});var d=function(){setTimeout(function(){e(".navigation_scroll_indicator",o).show(),s()},500)};e(".scroller",o).each(function(){var t,r,i=e(".navigation_scroll_indicator.bottom",o),u=e(".navigation_scroll_indicator.top",o),l=function(){a.addClass("hidden").removeClass("visible")},c=function(e){return"up"===e?p.y>=0:p.y<=p.maxScrollY};s=function(){c("down")&&(clearInterval(r),i.removeClass("pressed")),c("up")&&(clearInterval(t),u.removeClass("pressed")),u.toggleClass("visible",!c("up")),i.toggleClass("visible",!c("down"))};var f=function(t){var n=this,r=function(){e(n).hasClass("bottom")?p.scrollBy(0,-20,80):p.scrollBy(0,20,80),s()};13==t.which?(r(),setTimeout(function(){n.focus()},50)):0===t.which&&r()},d={mouseWheel:!0,bounce:!1,probeType:2};window.navigator.msPointerEnabled&&(d.preventDefault=!1);var p=new IScroll(this,d);e("ul.navigation_thumbnails",o).pageNavigationList({scroller:p,scrollToActive:!0,animationDuration:500,onAnimationStart:function(){o.addClass("is_animating")},onAnimationEnd:function(){o.removeClass("is_animating")},onFilterChange:function(){s()}}),pageflow.ready.then(function(){s()}),u.on({mousedown:function(){t=setInterval(function(){p.scrollBy(0,1),s()},5)},keypress:f,touchstart:f}),u.on("mouseup touchend",function(){clearInterval(t)}),i.on({mousedown:function(){r=setInterval(function(){p.scrollBy(0,-1),s()},5)},keypress:f,touchstart:f}),i.on("mouseup touchend",function(){clearInterval(r)}),s(),p.on("scroll",function(){s(),l(),n()})});var p=e(".navigation_hide_text",o);p.click(function(){pageflow.hideText.toggle()}),pageflow.hideText.on("activate deactivate",function(){p.toggleClass("active",pageflow.hideText.isActive()).updateTitle()}),e(".navigation_bar_bottom .fullscreen a",o).fullscreenButton(),e(".button, .navigation_mute, .navigation_scroll_indicator",o).on({"touchstart mousedown":function(){e(this).addClass("pressed")},"touchend mouseup":function(){e(this).removeClass("pressed")}}),e(".navigation_share, .navigation_credits",o).on({touchstart:function(){function t(r){n.find(r.target).length||(n.removeClass("open"),e("body").off("touchstart",t))}var n=e(this).parent().parent();n.addClass("open"),e("body").on("touchstart",t)}}),e("li",o).on("mouseleave",function(){e(this).blur()}),e("body").on({pageactivate:function(){s()}})}})}(jQuery),function(e){e.widget("pageflow.navigationMobile",{_create:function(){var t,n=this,r=this.element;pageflow.nativeScrolling.preventScrollBouncing(r),e("body").on("touchstart mousedown MSPointerDown pointerdown",function(t){r.hasClass("active")&&!e(t.target).parents().filter(r).length&&r.removeClass("active imprint sharing")}),e(".menu.index",r).click(function(){e(r).hasClass("sharing")||e(r).hasClass("imprint")||e(r).toggleClass("active"),e(r).removeClass("imprint sharing")}),e(".menu.sharing",r).click(function(){e(r).addClass("sharing"),e(r).removeClass("imprint")}),e(".menu.imprint",r).click(function(){e(r).addClass("imprint"),e(r).removeClass("sharing")}),e(".imprint_mobile a",r).on("click touchstart",function(e){e.stopPropagation()}),e(".parent_page",r).parentPageButton({visibleClass:"is_visible"}),e(".wrapper",r).each(function(){var i=e(this).parents(".sharing_mobile");t=new IScroll(this,{preventDefault:!1,mouseWheel:!0,bounce:!1,probeType:3}),e("ul.pages",r).pageNavigationList({scroller:t,animationDuration:500}),t.on("scroll",function(){e(".overview_mobile li",r).removeClass("touched").off("touchend mouseup MSPointerUp pointerup",n._goToPage),e(".sub_share a",i).off("touchend mouseup MSPointerUp pointerup",n._openLink)}),e(".menu",r).click(function(){t.refresh()}),e(r).data("touchBound")||(e("li",r).on({"touchstart mousedown MSPointerDown pointerdown":function(){e(this).addClass("touched")},"touchend mouseup MSPointerUp pointerup":function(){e(this).removeClass("touched")}}),e(".overview_mobile li",r).on({"touchstart mousedown MSPointerDown pointerdown":function(){e(this).one("touchend mouseup MSPointerUp pointerup",n._goToPage)}}),e(r).data("touchBound",!0)),e(".sub_share a",i).on({"touchstart mousedown MSPointerDown pointerdown":function(){e(this).one("touchend mouseup MSPointerUp pointerup",n._openLink)}}),i.shareMenu({subMenu:e(".sub_share",r),links:e("li > a",i),scroller:t})})},_goToPage:function(){var t=e("a",this),n=t.attr("data-link");n!==undefined&&(pageflow.slides.goToById(n),e(".navigation_mobile").removeClass("active"))},_openLink:function(e){e.preventDefault(),window.open(this.href,"_blank")}})}(jQuery),jQuery(function(e){e.widget("pageflow.overview",{_create:function(){var t,n=this,r=e(".ov_chapter",this.element),i=e(".ov_page",this.element),o=r.size(),a=o*r.outerWidth(!0),s=e(".close",this.element),u=e(".navigation_index"),l=e(".overview"),c=e(".wrapper",this.element),f=function(t){var r=e(".slideshow .scroll_indicator");l.toggleClass("active",t),u.toggleClass("active",t).updateTitle(),e("section.page").toggleClass("hidden_by_overlay",t),r.toggleClass("hidden",t),l.hasClass("active")?pageflow.events.once("page:change",function(){f(!1)},n):pageflow.events.off("page:change",null,n)},d=function(){e(this).hasClass("active")||pageflow.slides.goToById(this.getAttribute("data-link"))};if(e(".scroller",this.element).width(a),c.find(".ov_chapter").length&&(t=new IScroll(c[0],{snap:".ov_chapter",bounce:!1,scrollX:!0,scrollY:!1,probeType:2,mouseWheel:!0,preventDefault:!1}),t.on("scroll",function(){i.removeClass("touched").off("touchend mouseup",d)}),c.pageNavigationList({scroller:t,scrollToActive:".ov_chapter"}),this.element.find(".overview_scroll_indicator.left").scrollButton({scroller:t,page:!0,direction:"left"}),this.element.find(".overview_scroll_indicator.right").scrollButton({scroller:t,page:!0,direction:"right"})),i.each(function(){e(this).on({"touchstart mousedown":function(){e(this).addClass("touched"),e(this).one("touchend mouseup",d)},"touchend mouseup":function(){e(this).removeClass("touched")},click:function(e){e.preventDefault()}})}),a<c.width()){var p=Math.max(400,a-s.width()-10);s.css({left:p+"px",
right:"auto"})}s.click(f),u.click(f),e("body").keyup(function(e){27==e.which&&l.hasClass("active")&&f()})}})}),pageflow.PageNavigationListAnimation=pageflow.Object.extend({initialize:function(e){this.entry=e},update:function(e){var t=this.entry.getPagePosition(e),n=this.entry.getStorylineIdByPagePermaId(e),r=this.entry.getStorylineLevel(n);this.enabled=this.lastStorylineId&&this.lastStorylineId!==n,this.movingUp=this.lastStorylineLevel>r,this.movingDown=this.lastStorylineLevel<r,this.movingForwards=this.lastStorylineLevel===r&&this.lastPagePosition<t,this.movingBackwards=this.lastStorylineLevel===r&&this.lastPagePosition>t,this.lastPagePosition=t,this.lastStorylineId=n,this.lastStorylineLevel=r},start:function(e,t){this.enabled&&(e.toggleClass("moving_up",this.movingUp),e.toggleClass("moving_down",this.movingDown),e.toggleClass("moving_forwards",this.movingForwards),e.toggleClass("moving_backwards",this.movingBackwards),e.toggleClass("animate_out",!t))},finish:function(e,t){this.enabled&&e.toggleClass("animate_in",!!t)}}),pageflow.PageNavigationListAnimation.create=function(){return new pageflow.PageNavigationListAnimation(pageflow.entryData)},function(e){e.widget("pageflow.pageNavigationList",{_create:function(){function t(t){return parseInt(e(t).attr("id")||e(t).attr("data-perma-id"),10)}function n(e){var t=g.getPagePermaId(e),n=pageflow.entryData.getChapterIdByPagePermaId(t);c.toggleClass("inside_sub_chapter",t!==e),s(e).then(function(){r(t,{animate:!v.enabled}),i(n),f.onFilterChange&&f.onFilterChange()})}function r(t,n){p.each(function(){var r=e(this),i="#"+t===r.attr("href");if(r.toggleClass("active",i),r.attr("tabindex",i?"-1":"3"),i&&f.scrollToActive){var o=!0===f.scrollToActive?r:r.parents(f.scrollToActive);d.scrollToElement(o[0],n.animate?800:0)}})}function i(t){p.each(function(){var n=e(this),r=t===n.data("chapterId");n.toggleClass("in_active_chapter",r)})}function o(t){p.each(function(){var n=e(this),r=t.indexOf(parseInt(n.attr("href").substr(1),10))>=0;n.toggleClass("unvisited",r)})}function a(e){c.find('[href="#'+e+'"]').removeClass("unvisited")}function s(t){return v.update(t),p.each(function(){var n=e(this);v.start(n.parent(),u(t,n))}),e.when(v.enabled&&l()).then(function(){p.each(function(){var n=e(this);v.finish(n.parent(),u(t,n)),n.parent().andSelf().toggleClass("filtered",!u(t,n))}),d.refresh()})}function u(e,t){return h.chapterVisibleFromPage(e,t.data("chapterId"))}function l(){if(f.animationDuration)return f.onAnimationStart&&f.onAnimationStart(),e.Deferred(function(e){setTimeout(function(){e.resolve(),f.onAnimationEnd&&setTimeout(f.onAnimationEnd,500)},500)}).promise()}var c=this.element,f=this.options,d=f.scroller,p=c.find("a[href]"),h=pageflow.ChapterFilter.create(),g=pageflow.HighlightedPage.create(f.highlightedPage),v=pageflow.PageNavigationListAnimation.create();pageflow.ready.then(function(){o(pageflow.visited.getUnvisitedPages()),n(t(pageflow.slides.currentPage()))}),pageflow.slides.on("pageactivate",function(e){a(e.target.getAttribute("id")),n(t(e.target))})}})}(jQuery),function(e){e.widget("pageflow.parentPageButton",{_create:function(){function e(){var e=parseInt(pageflow.slides.currentPage().attr("id"),10),r=pageflow.entryData.getChapterIdByPagePermaId(e),i=pageflow.entryData.getChapterConfiguration(r),o=pageflow.slides.parentPageExists()&&!1!==i.display_parent_page_button;n.visibleClass?t.toggleClass(n.visibleClass,o):t.toggle(o)}var t=this.element,n=this.options;t.click(function(e){pageflow.slides.goToParentPage(),e.preventDefault()}),pageflow.slides.on("pageactivate",function(){e()}),e()}})}(jQuery),jQuery.widget("pageflow.playerControls",{_create:function(){function e(){t.playing?t.pause():t.play()}var t=this.options.player,n=this.element.find(".vjs-play-control"),r=this.element.find(".vjs-progress-holder"),i=this.element.find(".vjs-play-progress"),o=this.element.find(".vjs-current-time-display"),a=this.element.find(".vjs-duration-display"),s=this.element.find(".vjs-slider-handle");5===a.html().length&&"0"===a.html().charAt(0)?(a.html("0:00"),o.html(o.html().substr(1))):a.html("00:00"),t.on("timeupdate",function(e,n){var u=n>0?t.position/t.duration*100:0;isNaN(e)||(t.duration<600?($(o).html(t.formatTime(e).substr(1)),$(a).html(t.formatTime(n).substr(1))):($(o).html(t.formatTime(e)),$(a).html(t.formatTime(n))));var l=(r.width()-s.width())*u/100;s.css({left:l+"px"}),i.css({width:u+"%"})}),t.on("play",function(){$(n).removeClass("vjs-play"),$(n).addClass("vjs-pause vjs-playing")}),t.on("pause",function(){$(n).removeClass("vjs-pause vjs-playing"),$(n).addClass("vjs-play")}),t.on("ended",function(){$(n).removeClass("vjs-pause vjs-playing"),$(n).addClass("vjs-play")}),n.on({"mousedown touchstart":function(){$(this).addClass("pressed")},"mouseup touchend":function(){$(this).removeClass("pressed")},click:function(){e()},keypress:function(t){if(13==t.which){var n=this;e(),setTimeout(function(){$(n).focus()},20)}}}),$(r).on("mousedown touchstart",function(e){function n(e){t.seek(o(e))}function i(){$("body").off({"mousemove touchmove":n,"mouseup touchend":i})}function o(e){var n=a(e)-$(r).offset().left,i=n/$(r).width();return Math.min(Math.max(i,0),1)*t.duration}function a(e){return e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX}t.seek(o(e)),$("body").on({"mousemove touchmove":n,"mouseup touchend":i})})}}),function(e){e.widget("pageflow.scrollButton",{_create:function(){function e(){r.toggle(!n())}function t(){"top"===o||"left"===o?i.prev():"down"!==o&&"right"!==o||i.next()}function n(){return"top"===o?i.y>=0:"left"===o?i.x>=0:"down"===o?i.y<=i.maxScrollY:i.x<=i.maxScrollX}var r=this.element,i=this.options.scroller,o=this.options.direction;i.on("scrollEnd",function(){e()}),this.element.on("click",function(){}),this.options.page&&r.on({click:function(){return t(),r.blur(),!1},keypress:function(e){32==e.which&&t()},touchstart:function(){t()}}),e()}})}(jQuery),function(e){e.widget("pageflow.shareMenu",{_create:function(){var t=this.element,n=this.options,r=n.links||e("a",t),i=n.subMenu||e(t.find(".sub_share")),o=e("a",i),a=n.closeOnMouseLeaving,s=n.scroller;r.on("click",function(t){var a=e(this),u=a.find("a").length?a.find("a"):a,l=u.hasClass("active");if(u.data("share-page")){r.removeClass("active"),u.addClass("active"),t.preventDefault();var c=pageflow.slides.currentPage(),f=c.attr("id")||c.data("perma-id"),d=u.data("share-page").replace(/permaId$/,f),p=n.insertAfter||u;e(o[0]).attr("href",u.attr("href")),e(o[1]).attr("href",d),p.next().hasClass("sub_share")||p.after(i),l?(i.toggle(),u.toggleClass("active")):(i.show(),r.find(".button").removeClass("pressed"),e(this).find(".button").addClass("pressed")),s&&s.refresh()}}),a&&a.on("mouseleave",function(){r.removeClass("active"),e(this).find(".button").removeClass("pressed"),i.hide()})}})}(jQuery),function(e){e.widget("pageflow.skipPageButton",{_create:function(){this.element.on("click",function(){pageflow.slides.next()}),pageflow.events.on("page:change page:update",this.update,this),this.update()},_destroy:function(){pageflow.events.off(null,this.update)},update:function(){pageflow.slides&&this.element.toggleClass("enabled",!!pageflow.slides.nextPageExists())}})}(jQuery),function(e){e.widget("pageflow.topButton",{_create:function(){function e(){var e=pageflow.slides.isOnLandingPage();t.toggleClass("deactivated",e),t.attr("tabindex",e?"-1":"2")}var t=this.element;t.click(function(e){pageflow.slides.goToLandingPage(),e.preventDefault()}),pageflow.slides.on("pageactivate",function(){e()}),e(pageflow.slides.currentPage())}})}(jQuery),function(e){e.widget("pageflow.volumeSlider",{_create:function(){var t=this.element,n=this.options.orientation,r=e(".volume-slider",t);t.on("mousedown",function(i){function o(e){var t;t="v"===n?1-(e.pageY-r.offset().top)/r.height():(e.pageX-r.offset().left)/r.width(),pageflow.settings.set("volume",Math.min(1,Math.max(0,t)))}var a=e("body");a.on("mousemove.volumeSlider",o),t.addClass("lock_showing"),a.on("mouseup.volumeSlider",function(){a.off("mousemove.volumeSlider mouseup.volumeSlider"),t.removeClass("lock_showing")}),o(i)}),pageflow.settings.on("change:volume",this.update,this),this.update()},_destroy:function(){pageflow.settings.off("change:volume",this.update)},update:function(){var t=pageflow.settings.get("volume");"v"===this.options.orientation?(e(".volume-level",this.element).css({height:100*t+"%"}),e(".volume-handle",this.element).css({bottom:100*t+"%",top:"initial"})):(e(".volume-level",this.element).css({width:100*t+"%"}),e(".volume-handle",this.element).css({left:100*t+"%"})),this.element.toggleClass("volume-high",t>2/3),this.element.toggleClass("volume-medium",t>=1/3&&t<=2/3),this.element.toggleClass("volume-low",t<1/3&&t>0),this.element.toggleClass("volume-mute",0===t)}})}(jQuery),pageflow="object"==typeof pageflow?pageflow:{},pageflow.react=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(297)},function(e,t,n){(function(e){"use strict";function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(2),n(293),n(294),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,function(){return this}())},function(e,t,n){n(3),n(52),n(53),n(54),n(55),n(57),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(70),n(72),n(74),n(76),n(79),n(80),n(81),n(85),n(87),n(89),n(92),n(93),n(94),n(95),n(97),n(98),n(99),n(100),n(101),n(102),n(103),n(105),n(106),n(107),n(109),n(110),n(111),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(131),n(132),n(136),n(137),n(138),n(139),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(159),n(160),n(166),n(167),n(169),n(170),n(171),n(175),n(176),n(177),n(178),n(179),n(181),n(182),n(183),n(184),n(187),n(189),n(190),n(191),n(193),n(195),n(197),n(198),n(199),n(201),n(202),n(203),n(204),n(211),n(214),n(215),n(217),n(218),n(221),n(222),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(244),n(245),n(246),n(247),n(248),n(249),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(260),n(261),n(263),n(264),n(265),n(266),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(291),n(292),e.exports=n(9)},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(6),a=n(8),s=n(18),u=n(22).KEY,l=n(7),c=n(23),f=n(24),d=n(19),p=n(25),h=n(26),g=n(27),v=n(29),m=n(42),y=n(45),_=n(12),b=n(32),T=n(16),E=n(17),w=n(46),S=n(49),P=n(51),C=n(11),I=n(30),x=P.f,A=C.f,O=S.f,k=r.Symbol,M=r.JSON,R=M&&M.stringify,D="prototype",N=p("_hidden"),L=p("toPrimitive"),j={}.propertyIsEnumerable,F=c("symbol-registry"),B=c("symbols"),U=c("op-symbols"),H=Object[D],V="function"==typeof k,z=r.QObject,q=!z||!z[D]||!z[D].findChild,G=o&&l(function(){return 7!=w(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(H,t);r&&delete H[t],A(e,t,n),r&&e!==H&&A(H,t,r)}:A,K=function(e){var t=B[e]=w(k[D]);return t._k=e,t},Y=V&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},W=function(e,t,n){return e===H&&W(U,t,n),_(e),t=T(t,!0),_(n),i(B,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=w(n,{enumerable:E(0,!1)})):(i(e,N)||A(e,N,E(1,{})),e[N][t]=!0),G(e,t,n)):A(e,t,n)},Q=function(e,t){_(e);for(var n,r=m(t=b(t)),i=0,o=r.length;o>i;)W(e,n=r[i++],t[n]);return e},X=function(e,t){return t===undefined?w(e):Q(w(e),t)},$=function(e){var t=j.call(this,e=T(e,!0));return!(this===H&&i(B,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(B,e)||i(this,N)&&this[N][e])||t)},J=function(e,t){if(e=b(e),t=T(t,!0),e!==H||!i(B,t)||i(U,t)){var n=x(e,t);return!n||!i(B,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=O(b(e)),r=[],o=0;n.length>o;)i(B,t=n[o++])||t==N||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=O(n?U:b(e)),o=[],a=0;r.length>a;)!i(B,t=r[a++])||n&&!i(H,t)||o.push(B[t]);return o};V||(k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:undefined),t=function(n){this===H&&t.call(U,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),G(this,e,E(1,n))};return o&&q&&G(H,e,{configurable:!0,set:t}),K(e)},s(k[D],"toString",function(){return this._k}),P.f=J,C.f=W,n(50).f=S.f=Z,n(44).f=$,n(43).f=ee,o&&!n(28)&&s(H,"propertyIsEnumerable",$,!0),h.f=function(e){return K(p(e))}),a(a.G+a.W+a.F*!V,{Symbol:k});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var te=I(p.store),ne=0;te.length>ne;)g(te[ne++]);a(a.S+a.F*!V,"Symbol",{"for":function(e){return i(F,e+="")?F[e]:F[e]=k(e)},keyFor:function(e){if(Y(e))return v(F,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!V,"Object",{create:X,defineProperty:W,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),M&&a(a.S+a.F*(!V||l(function(){var e=k();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){if(e!==undefined&&!Y(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return t=r[1],"function"==typeof t&&(n=t),!n&&y(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,R.apply(M,r)}}}),k[D][L]||n(10)(k[D],L,k[D].valueOf),f(k,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,t,n){e.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(4),i=n(9),o=n(10),a=n(18),s=n(20),u="prototype",l=function(e,t,n){var c,f,d,p,h=e&l.F,g=e&l.G,v=e&l.S,m=e&l.P,y=e&l.B,_=g?r:v?r[t]||(r[t]={}):(r[t]||{})[u],b=g?i:i[t]||(i[t]={}),T=b[u]||(b[u]={});g&&(n=t);for(c in n)f=!h&&_&&_[c]!==undefined,d=(f?_:n)[c],p=y&&f?s(d,r):m&&"function"==typeof d?s(Function.call,d):d,_&&a(_,c,d,e&l.U),b[c]!=d&&o(b,c,p),m&&T[c]!=d&&(T[c]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e){var t=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=t)},function(e,t,n){var r=n(11),i=n(17);e.exports=n(6)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(12),i=n(14),o=n(16),a=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(6)&&!n(7)(function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(13),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(4),i=n(10),o=n(5),a=n(19)("src"),s="toString",u=Function[s],l=(""+u).split(s);n(9).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++t+n).toString(36))}},function(e,t,n){var r=n(21);e.exports=function(e,t,n){if(r(e),t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(19)("meta"),i=n(13),o=n(5),a=n(11).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(7)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},p=function(e){return l&&h.NEED&&u(e)&&!o(e,r)&&c(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(4),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(11).f,i=n(5),o=n(25)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(23)("wks"),i=n(19),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){t.f=n(25)},function(e,t,n){var r=n(4),i=n(9),o=n(28),a=n(26),s=n(11).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e){e.exports=!1},function(e,t,n){var r=n(30),i=n(32);e.exports=function(e,t){for(var n,o=i(e),a=r(o),s=a.length,u=0;s>u;)if(o[n=a[u++]]===t)return n}},function(e,t,n){var r=n(31),i=n(41);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(5),i=n(32),o=n(36)(!1),a=n(40)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(33),i=n(35);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(32),i=n(37),o=n(39);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(38),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},function(e,t,n){var r=n(38),i=Math.max,o=Math.min;e.exports=function(e,t){return e=r(e),e<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(23)("keys"),i=n(19);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(30),i=n(43),o=n(44);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(12),i=n(47),o=n(41),a=n(40)("IE_PROTO"),s=function(){},u="prototype",l=function(){var e,t=n(15)("iframe"),r=o.length,i="<",a=">";for(t.style.display="none",n(48).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+a+"document.F=Object"+i+"/script"+a),e.close(),l=e.F;r--;)delete l[u][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=l(),t===undefined?n:i(n,t)}},function(e,t,n){var r=n(11),i=n(12),o=n(30);e.exports=n(6)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){e.exports=n(4).document&&document.documentElement},function(e,t,n){var r=n(32),i=n(50).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(31),i=n(41).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(44),i=n(17),o=n(32),a=n(16),s=n(5),u=n(14),l=Object.getOwnPropertyDescriptor;t.f=n(6)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(8);r(r.S,"Object",{create:n(46)})},function(e,t,n){var r=n(8);r(r.S+r.F*!n(6),"Object",{defineProperty:n(11).f})},function(e,t,n){var r=n(8);r(r.S+r.F*!n(6),"Object",{defineProperties:n(47)})},function(e,t,n){var r=n(32),i=n(51).f;n(56)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(8),i=n(9),o=n(7);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(58),i=n(59);n(56)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(5),i=n(58),o=n(40)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(58),i=n(30);n(56)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(56)("getOwnPropertyNames",function(){return n(49).f})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(56)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(56)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(56)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(13);n(56)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(13);n(56)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(13);n(56)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(69)})},function(e,t,n){"use strict";var r=n(30),i=n(43),o=n(44),a=n(58),s=n(33),u=Object.assign;e.exports=!u||n(7)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e){for(var t=a(e),n=arguments.length,u=1,l=i.f,c=o.f;n>u;)for(var f,d=s(arguments[u++]),p=l?r(d).concat(l(d)):r(d),h=p.length,g=0;h>g;)c.call(d,f=p[g++])&&(t[f]=d[f]);return t}:u},function(e,t,n){var r=n(8);r(r.S,"Object",{is:n(71)})},function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(8);r(r.S,"Object",{setPrototypeOf:n(73).set})},function(e,t,n){var r=n(13),i=n(12),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(20)(Function.call,n(51).f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):undefined),check:o}},function(e,t,n){"use strict";var r=n(75),i={};i[n(25)("toStringTag")]="z",i+""!="[object z]"&&n(18)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(34),i=n(25)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return e===undefined?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(8);r(r.P,"Function",{bind:n(77)})},function(e,t,n){"use strict";var r=n(21),i=n(13),o=n(78),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e){e.exports=function(e,t,n){var r=n===undefined;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(11).f,i=n(17),o=n(5),a=Function.prototype,s=/^\s*function ([^ (]*)/,u="name",l=Object.isExtensible||function(){return!0};u in a||n(6)&&r(a,u,{configurable:!0,get:function(){try{var e=this,t=(""+e).match(s)[1];return o(e,u)||!l(e)||r(e,u,i(5,t)),t}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(13),i=n(59),o=n(25)("hasInstance"),a=Function.prototype;o in a||n(11).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(8),i=n(82);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(4).parseInt,i=n(83).trim,o=n(84),a=/^[\-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(8),i=n(35),o=n(7),a=n(84),s="["+a+"]",u="\u200b\x85",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(e,t,n){var i={},s=o(function(){return!!a[e]()||u[e]()!=u}),l=i[e]=s?t(d):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e){e.exports="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){var r=n(8),i=n(86);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){var r=n(4).parseFloat,i=n(83).trim;e.exports=1/r(n(84)+"-0")!=-Infinity?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(34),a=n(88),s=n(16),u=n(7),l=n(50).f,c=n(51).f,f=n(11).f,d=n(83).trim,p="Number",h=r[p],g=h,v=h.prototype,m=o(n(46)(v))==p,y="trim"in String.prototype,_=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=y?t.trim():d(t,3);var n,r,i,o=t.charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(m?u(function(){v.valueOf.call(n)}):o(n)!=p)?a(new g(_(t)),n,h):_(t)};for(var b,T=n(6)?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;T.length>E;E++)i(g,b=T[E])&&!i(h,b)&&f(h,b,c(g,b));h.prototype=v,v.constructor=h,n(18)(r,p,h)}},function(e,t,n){var r=n(13),i=n(73).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(8),i=n(38),o=n(90),a=n(91),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f="0",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=u(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=u(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+a.call(f,7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)},v=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(7)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,c),l=i(e),m="",y=f;if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(t=v(u*g(2,69,1))-69,n=t<0?u*g(2,-t,1):u/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=l;r>=7;)d(1e7,0),r-=7;for(d(g(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),d(1,1),p(2),y=h()}else d(0,n),d(1<<-t,0),y=h()+a.call(f,l);return l>0?(s=y.length,y=m+(s<=l?"0."+a.call(f,l-s)+y:y.slice(0,s-l)+"."+y.slice(s-l))):y=m+y,y}})},function(e,t,n){var r=n(34);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){"use strict";var r=n(38),i=n(35);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==Infinity)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(8),i=n(7),o=n(90),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,undefined)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return e===undefined?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(8);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(8),i=n(4).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(8);r(r.S,"Number",{isInteger:n(96)})},function(e,t,n){var r=n(13),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(8);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(8),i=n(96),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(8);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(8);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(8),i=n(86);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(8),i=n(82);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(8),i=n(104),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(Infinity)==Infinity),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(8),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(8),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(8),i=n(108);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e){e.exports=Math.sign||function(e){
return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(8);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(8),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(8),i=n(112);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},function(e,t,n){var r=n(8),i=n(108),o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126),c=function(e){return e+1/a-1/a};r(r.S,"Math",{fround:function(e){var t,n,r=Math.abs(e),o=i(e);return r<l?o*c(r/l/s)*l*s:(t=(1+s/a)*r,n=t-(t-r),n>u||n!=n?o*Infinity:o*n)}})},function(e,t,n){var r=n(8),i=Math.abs;r(r.S,"Math",{hypot:function(){for(var e,t,n=0,r=0,o=arguments.length,a=0;r<o;)e=i(arguments[r++]),a<e?(t=a/e,n=n*t*t+1,a=e):e>0?(t=e/a,n+=t*t):n+=e;return a===Infinity?Infinity:a*Math.sqrt(n)}})},function(e,t,n){var r=n(8),i=Math.imul;r(r.S+r.F*n(7)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{log10:function(e){return Math.log(e)/Math.LN10}})},function(e,t,n){var r=n(8);r(r.S,"Math",{log1p:n(104)})},function(e,t,n){var r=n(8);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(8);r(r.S,"Math",{sign:n(108)})},function(e,t,n){var r=n(8),i=n(112),o=Math.exp;r(r.S+r.F*n(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(8),i=n(112),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==Infinity?1:n==Infinity?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(8);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(8),i=n(39),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(){for(var e,t=[],n=arguments.length,r=0;n>r;){if(e=+arguments[r++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");t.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return t.join("")}})},function(e,t,n){var r=n(8),i=n(32),o=n(37);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(83)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(127)(!0);n(128)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:undefined,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(38),i=n(35);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":undefined:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},function(e,t,n){"use strict";var r=n(28),i=n(8),o=n(18),a=n(10),s=n(5),u=n(129),l=n(130),c=n(24),f=n(59),d=n(25)("iterator"),p=!([].keys&&"next"in[].keys()),h="keys",g="values",v=function(){return this};e.exports=function(e,t,n,m,y,_,b){l(n,t,m);var T,E,w,S=function(e){if(!p&&e in x)return x[e];switch(e){case h:case g:return function(){return new n(this,e)}}return function(){return new n(this,e)}},P=t+" Iterator",C=y==g,I=!1,x=e.prototype,A=x[d]||x["@@iterator"]||y&&x[y],O=A||S(y),k=y?C?S("entries"):O:undefined,M="Array"==t?x.entries||A:A;if(M&&(w=f(M.call(new e)))!==Object.prototype&&(c(w,P,!0),r||s(w,d)||a(w,d,v)),C&&A&&A.name!==g&&(I=!0,O=function(){return A.call(this)}),r&&!b||!p&&!I&&x[d]||a(x,d,O),u[t]=O,u[P]=v,y)if(T={values:C?O:S(g),keys:_?O:S(h),entries:k},b)for(E in T)E in x||o(x,E,T[E]);else i(i.P+i.F*(p||I),t,T);return T}},function(e){e.exports={}},function(e,t,n){"use strict";var r=n(46),i=n(17),o=n(24),a={};n(10)(a,n(25)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(8),i=n(127)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(8),i=n(37),o=n(133),a="endsWith",s=""[a];r(r.P+r.F*n(135)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:undefined,r=i(t.length),u=n===undefined?r:Math.min(i(n),r),l=String(e);return s?s.call(t,l,u):t.slice(u-l.length,u)===l}})},function(e,t,n){var r=n(134),i=n(35);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(13),i=n(34),o=n(25)("match");e.exports=function(e){var t;return r(e)&&((t=e[o])!==undefined?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(25)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(8),i=n(133),o="includes";r(r.P+r.F*n(135)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:undefined)}})},function(e,t,n){var r=n(8);r(r.P,"String",{repeat:n(91)})},function(e,t,n){"use strict";var r=n(8),i=n(37),o=n(133),a="startsWith",s=""[a];r(r.P+r.F*n(135)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:undefined,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(140)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){var r=n(8),i=n(7),o=n(35),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";n(140)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(140)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(140)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(140)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(140)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(140)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(140)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(140)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(140)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(140)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(140)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(140)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(8);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(8),i=n(58),o=n(16);r(r.P+r.F*n(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var e=i(this),t=o(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},function(e,t,n){"use strict";var r=n(8),i=n(7),o=Date.prototype.getTime,a=function(e){return e>9?e:"0"+e};r(r.P+r.F*(i(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!i(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}})},function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(18)(r,o,function(){var e=s.call(this);return e===e?a.call(this):i})},function(e,t,n){var r=n(25)("toPrimitive"),i=Date.prototype;r in i||n(10)(i,r,n(158))},function(e,t,n){"use strict";var r=n(12),i=n(16),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},function(e,t,n){var r=n(8);r(r.S,"Array",{isArray:n(45)})},function(e,t,n){"use strict";var r=n(20),i=n(8),o=n(58),a=n(161),s=n(162),u=n(37),l=n(163),c=n(164);i(i.S+i.F*!n(165)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:undefined,v=g!==undefined,m=0,y=c(d);if(v&&(g=r(g,h>2?arguments[2]:undefined,2)),y==undefined||p==Array&&s(y))for(t=u(d.length),n=new p(t);t>m;m++)l(n,m,v?g(d[m],m):d[m]);else for(f=y.call(d),n=new p;!(i=f.next()).done;m++)l(n,m,v?a(f,g,[i.value,m],!0):i.value);return n.length=m,n}})},function(e,t,n){var r=n(12);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e["return"];throw o!==undefined&&r(o.call(e)),t}}},function(e,t,n){var r=n(129),i=n(25)("iterator"),o=Array.prototype;e.exports=function(e){return e!==undefined&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(11),i=n(17);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(75),i=n(25)("iterator"),o=n(129);e.exports=n(9).getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(25)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(8),i=n(163);r(r.S+r.F*n(7)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(8),i=n(32),o=[].join;r(r.P+r.F*(n(33)!=Object||!n(168)(o)),"Array",{join:function(e){return o.call(i(this),e===undefined?",":e)}})},function(e,t,n){var r=n(7);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=n(8),i=n(48),o=n(34),a=n(39),s=n(37),u=[].slice;r(r.P+r.F*n(7)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=t===undefined?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),l=a(t,n),c=s(l-i),f=Array(c),d=0;d<c;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(8),i=n(21),o=n(58),a=n(7),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(undefined)})||!a(function(){u.sort(null)})||!n(168)(s)),"Array",{sort:function(e){return e===undefined?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(8),i=n(172)(0),o=n(168)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(20),i=n(33),o=n(58),a=n(37),s=n(173);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var g,v,m=o(t),y=i(m),_=r(s,h,3),b=a(y.length),T=0,E=n?p(t,b):u?p(t,0):undefined;b>T;T++)if((d||T in y)&&(g=y[T],v=_(g,T,m),e))if(n)E[T]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:E.push(g)}else if(c)return!1;return f?-1:l||c?c:E}}},function(e,t,n){var r=n(174);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(13),i=n(45),o=n(25)("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=undefined),r(t)&&null===(t=t[o])&&(t=undefined)),t===undefined?Array:t}},function(e,t,n){"use strict";var r=n(8),i=n(172)(1);r(r.P+r.F*!n(168)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(172)(2);r(r.P+r.F*!n(168)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(172)(3);r(r.P+r.F*!n(168)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(172)(4);r(r.P+r.F*!n(168)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(180);r(r.P+r.F*!n(168)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var r=n(21),i=n(58),o=n(33),a=n(37);e.exports=function(e,t,n,s,u){r(t);var l=i(e),c=o(l),f=a(l.length),d=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=p;break}if(d+=p,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=p)d in c&&(s=t(s,c[d],d,l));return s}},function(e,t,n){"use strict";var r=n(8),i=n(180);r(r.P+r.F*!n(168)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(8),i=n(36)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(168)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(32),o=n(38),a=n(37),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(168)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(8);r(r.P,"Array",{copyWithin:n(185)}),n(186)("copyWithin")},function(e,t,n){"use strict";var r=n(58),i=n(39),o=n(37);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),l=arguments.length>2?arguments[2]:undefined,c=Math.min((l===undefined?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t,n){var r=n(25)("unscopables"),i=Array.prototype;i[r]==undefined&&n(10)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(8);r(r.P,"Array",{fill:n(188)}),n(186)("fill")},function(e,t,n){"use strict";var r=n(58),i=n(39),o=n(37);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:undefined,n),u=a>2?arguments[2]:undefined,l=u===undefined?n:i(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(8),i=n(172)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined)}}),n(186)(o)},function(e,t,n){"use strict";var r=n(8),i=n(172)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined)}}),n(186)(o)},function(e,t,n){n(192)("Array")},function(e,t,n){"use strict";var r=n(4),i=n(11),o=n(6),a=n(25)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(186),i=n(194),o=n(129),a=n(32);e.exports=n(128)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,i(1)):"keys"==t?i(0,n):"values"==t?i(0,e[n]):i(0,[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(4),i=n(88),o=n(11).f,a=n(50).f,s=n(134),u=n(196),l=r.RegExp,c=l,f=l.prototype,d=/a/g,p=/a/g,h=new l(d)!==d;if(n(6)&&(!h||n(7)(function(){return p[n(25)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")}))){l=function(e,t){var n=this instanceof l,r=s(e),o=t===undefined;return!n&&r&&e.constructor===l&&o?e:i(h?new c(r&&!o?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&o?u.call(e):t),n?this:f,l)};for(var g=(function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}),v=a(c),m=0;v.length>m;)g(v[m++]);f.constructor=l,l.prototype=f,n(18)(r,"RegExp",l)}n(192)("RegExp")},function(e,t,n){"use strict";var r=n(12);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n(198);var r=n(12),i=n(196),o=n(6),a="toString",s=/./[a],u=function(e){n(18)(RegExp.prototype,a,e,!0)};n(7)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):undefined)}):s.name!=a&&u(function(){return s.call(this)})},function(e,t,n){n(6)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(196)})},function(e,t,n){n(200)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=n==undefined?undefined:n[t];return i!==undefined?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(10),i=n(18),o=n(7),a=n(35),s=n(25);e.exports=function(e,t,n){var u=s(e),l=n(a,u,""[e]),c=l[0],f=l[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,c),r(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){n(200)("replace",2,function(e,t,n){return[function(r,i){"use strict";var o=e(this),a=r==undefined?undefined:r[t];return a!==undefined?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){n(200)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=n==undefined?undefined:n[t];return i!==undefined?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(200)("split",2,function(e,t,r){"use strict";var i=n(134),o=r,a=[].push,s="split",u="length",l="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var c=/()??/.exec("")[1]===undefined;r=function(e,t){var n=String(this);if(e===undefined&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,s,f,d,p,h=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,m=t===undefined?4294967295:t>>>0,y=new RegExp(e.source,g+"g");for(c||(r=new RegExp("^"+y.source+"$(?!\\s)",g));(s=y.exec(n))&&!((f=s.index+s[0][u])>v&&(h.push(n.slice(v,s.index)),!c&&s[u]>1&&s[0].replace(r,function(){for(p=1;p<arguments[u]-2;p++)arguments[p]===undefined&&(s[p]=undefined)}),s[u]>1&&s.index<n[u]&&a.apply(h,s.slice(1)),d=s[0][u],v=f,h[u]>=m));)y[l]===s.index&&y[l]++;return v===n[u]?!d&&y.test("")||h.push(""):h.push(n.slice(v)),h[u]>m?h.slice(0,m):h}}else"0"[s](undefined,0)[u]&&(r=function(e,t){return e===undefined&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=n==undefined?undefined:n[t];return a!==undefined?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){"use strict";var r,i,o,a=n(28),s=n(4),u=n(20),l=n(75),c=n(8),f=n(13),d=n(21),p=n(205),h=n(206),g=n(207),v=n(208).set,m=n(209)(),y="Promise",_=s.TypeError,b=s.process,T=s[y],b=s.process,E="process"==l(b),w=function(){},S=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(25)("species")]=function(e){e(w,w)};return(E||"function"==typeof PromiseRejectionEvent)&&e.then(w)instanceof t}catch(e){}}(),P=function(e,t){return e===t||e===T&&t===o},C=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},I=function(e){return P(T,e)?new x(e):new i(e)},x=i=function(e){var t,n;this.promise=new e(function(e,r){if(t!==undefined||n!==undefined)throw _("Bad Promise constructor");t=e,n=r}),this.resolve=d(t),this.reject=d(n)},A=function(e){try{e()}catch(e){return{error:e}}},O=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&R(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===t.promise?u(_("Promise-chain cycle")):(o=C(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&k(e)})}},k=function(e){v.call(s,function(){var t,n,r,i=e._v;if(M(e)&&(t=A(function(){E?b.emit("unhandledRejection",i,e):(n=s.onunhandledrejection)?n({promise:e,reason:i}):(r=s.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=E||M(e)?2:1),e._a=undefined,t)throw t.error})},M=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if(t=n[r++],t.fail||!M(t.promise))return!1;return!0},R=function(e){v.call(s,function(){var t;E?b.emit("rejectionHandled",e):(t=s.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},N=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw _("Promise can't be resolved itself");(t=C(e))?m(function(){var r={_w:n,_d:!1};try{t.call(e,u(N,r,1),u(D,r,1))}catch(e){D.call(r,e)}}):(n._v=e,n._s=1,O(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};S||(T=function(e){p(this,T,y,"_h"),d(e),r.call(this);try{e(u(N,this,1),u(D,this,1))}catch(e){D.call(this,e)}},r=function(){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1},r.prototype=n(210)(T.prototype,{then:function(e,t){var n=I(g(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=E?b.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},"catch":function(e){return this.then(undefined,e)}}),x=function(){var e=new r;this.promise=e,this.resolve=u(N,e,1),this.reject=u(D,e,1)}),c(c.G+c.W+c.F*!S,{Promise:T}),n(24)(T,y),n(192)(y),o=n(9)[y],c(c.S+c.F*!S,y,{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(a||!S),y,{resolve:function(e){if(e instanceof T&&P(e.constructor,this))return e;var t=I(this);return(0,t.resolve)(e),t.promise}}),c(c.S+c.F*!(S&&n(165)(function(e){T.all(e)["catch"](w)})),y,{all:function(e){var t=this,n=I(t),r=n.resolve,i=n.reject,o=A(function(){var n=[],o=0,a=1;h(e,!1,function(e){var s=o++,u=!1;n.push(undefined),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,i=A(function(){h(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i&&r(i.error),n.promise}})},function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||r!==undefined&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(20),i=n(161),o=n(162),a=n(12),s=n(37),u=n(164),l={},c={},t=e.exports=function(e,t,n,f,d){var p,h,g,v,m=d?function(){return e}:u(e),y=r(n,f,t?2:1),_=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(p=s(e.length);p>_;_++)if((v=t?y(a(h=e[_])[0],h[1]):y(e[_]))===l||v===c)return v}else for(g=m.call(e);!(h=g.next()).done;)if((v=i(g,y,h.value,t))===l||v===c)return v};t.BREAK=l,t.RETURN=c},function(e,t,n){var r=n(12),i=n(21),o=n(25)("species");e.exports=function(e,t){var n,a=r(e).constructor;return a===undefined||(n=r(a)[o])==undefined?t:i(n)}},function(e,t,n){var r,i,o,a=n(20),s=n(78),u=n(48),l=n(15),c=n(4),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,g=0,v={},m="onreadystatechange",y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},_=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==n(34)(f)?r=function(e){f.nextTick(a(y,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",_,!1)):r=m in l("script")?function(e){u.appendChild(l("script"))[m]=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(4),i=n(208).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(34)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=undefined,r}}t=undefined,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(o){var c=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=c=!c}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(l)}}else n=function(){i.call(r,l)};return function(r){var i={fn:r,next:undefined};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(18);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(212);e.exports=n(213)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{get:function(e){var t=r.getEntry(this,e);return t&&t.v},set:function(e,t){return r.def(this,0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(11).f,i=n(46),o=n(210),a=n(20),s=n(205),u=n(35),l=n(206),c=n(128),f=n(194),d=n(192),p=n(6),h=n(22).fastKey,g=p?"_s":"size",v=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var f=e(function(e,r){s(e,f,t,"_i"),e._i=i(null),e._f=undefined,e._l=undefined,e[g]=0,r!=undefined&&l(r,n,e[c],e)});return o(f.prototype,{clear:function(){for(var e=this,t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=undefined),delete t[n.i];e._f=e._l=undefined,e[g]=0},"delete":function(e){var t=this,n=v(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[g]--}return!!n},forEach:function(e){s(this,f,"forEach");for(var t,n=a(e,arguments.length>1?arguments[1]:undefined,3);t=t?t.n:this._f;)for(n(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!v(this,e)}}),p&&r(f.prototype,"size",{get:function(){return u(this[g])}}),f},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=h(t,!0),k:t,v:n,p:r=e._l,n:undefined,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){c(e,t,function(e,t){this._t=e,this._k=t,this._l=undefined},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?f(0,n.k):"values"==t?f(0,n.v):f(0,[n.k,n.v]):(e._t=undefined,f(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var r=n(4),i=n(8),o=n(18),a=n(210),s=n(22),u=n(206),l=n(205),c=n(13),f=n(7),d=n(165),p=n(24),h=n(88);e.exports=function(e,t,n,g,v,m){var y=r[e],_=y,b=v?"set":"add",T=_&&_.prototype,E={},w=function(e){var t=T[e];o(T,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?undefined:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(m||T.forEach&&!f(function(){(new _).entries().next()}))){var S=new _,P=S[b](m?{}:-0,1)!=S,C=f(function(){S.has(1)}),I=d(function(e){new _(e)}),x=!m&&f(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});I||(_=t(function(t,n){l(t,_,e);var r=h(new y,t,_);return n!=undefined&&u(n,v,r[b],r),r}),_.prototype=T,T.constructor=_),(C||x)&&(w("delete"),w("has"),v&&w("get")),(x||P)&&w(b),m&&T.clear&&delete T.clear}else _=g.getConstructor(t,e,v,b),a(_.prototype,n),s.NEED=!0;return p(_,e),E[e]=_,i(i.G+i.W+i.F*(_!=y),E),m||g.setStrong(_,e,v),_}},function(e,t,n){"use strict";var r=n(212);e.exports=n(213)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function(e){return r.def(this,e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(172)(0),o=n(18),a=n(22),s=n(69),u=n(216),l=n(13),c=a.getWeak,f=Object.isExtensible,d=u.ufstore,p={},h=function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},g={get:function(e){if(l(e)){var t=c(e);return!0===t?d(this).get(e):t?t[this._i]:undefined}},set:function(e,t){return u.def(this,e,t)}},v=e.exports=n(213)("WeakMap",h,g,u,!0,!0);7!=(new v).set((Object.freeze||Object)(p),7).get(p)&&(r=u.getConstructor(h),s(r.prototype,g),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=v.prototype,n=t[e];o(t,e,function(t,i){if(l(t)&&!f(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(210),i=n(22).getWeak,o=n(12),a=n(13),s=n(205),u=n(206),l=n(172),c=n(5),f=l(5),d=l(6),p=0,h=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return f(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e(function(e,r){s(e,l,t,"_i"),e._i=p++,e._l=undefined,r!=undefined&&u(r,n,e[o],e)});return r(l.prototype,{"delete":function(e){if(!a(e))return!1;var t=i(e);return!0===t?h(this)["delete"](e):t&&c(t,this._i)&&delete t[this._i]},has:function(e){if(!a(e))return!1;var t=i(e);return!0===t?h(this).has(e):t&&c(t,this._i)}}),l},def:function(e,t,n){var r=i(o(t),!0);return!0===r?h(e).set(t,n):r[e._i]=n,e},ufstore:h}},function(e,t,n){"use strict";var r=n(216);n(213)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function(e){return r.def(this,e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(8),i=n(219),o=n(220),a=n(12),s=n(39),u=n(37),l=n(13),c=n(4).ArrayBuffer,f=n(207),d=o.ArrayBuffer,p=o.DataView,h=i.ABV&&c.isView,g=d.prototype.slice,v=i.VIEW,m="ArrayBuffer";r(r.G+r.W+r.F*(c!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,m,{isView:function(e){return h&&h(e)||l(e)&&v in e}}),r(r.P+r.U+r.F*n(7)(function(){return!new d(2).slice(1,undefined).byteLength}),m,{slice:function(e,t){if(g!==undefined&&t===undefined)return g.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(t===undefined?n:t,n),o=new(f(this,d))(u(i-r)),l=new p(this),c=new p(o),h=0;r<i;)c.setUint8(h++,l.getUint8(r++));return o}}),n(192)(m)},function(e,t,n){for(var r,i=n(4),o=n(10),a=n(19),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,d=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<d;)(r=i[p[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){"use strict";var r=n(4),i=n(6),o=n(28),a=n(219),s=n(10),u=n(210),l=n(7),c=n(205),f=n(38),d=n(37),p=n(50).f,h=n(11).f,g=n(188),v=n(24),m="ArrayBuffer",y="DataView",_="prototype",b="Wrong length!",T="Wrong index!",E=r[m],w=r[y],S=r.Math,P=r.RangeError,C=r.Infinity,I=E,x=S.abs,A=S.pow,O=S.floor,k=S.log,M=S.LN2,R="buffer",D="byteLength",N="byteOffset",L=i?"_b":R,j=i?"_l":D,F=i?"_o":N,B=function(e,t,n){var r,i,o,a=Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?A(2,-24)-A(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=x(e),e!=e||e===C?(i=e!=e?1:0,r=u):(r=O(k(e)/M),e*(o=A(2,-r))<1&&(r--,o*=2),e+=r+l>=1?c/o:c*A(2,1-l),e*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(e*o-1)*A(2,t),r+=l):(i=e*A(2,l-1)*A(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a},U=function(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-C:C;r+=A(2,t),c-=a}return(l?-1:1)*r*A(2,c-t)},H=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},V=function(e){return[255&e]},z=function(e){return[255&e,e>>8&255]},q=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},G=function(e){return B(e,52,8)},K=function(e){return B(e,23,4)},Y=function(e,t,n){h(e[_],t,{get:function(){return this[n]}})},W=function(e,t,n,r){var i=+n,o=f(i);if(i!=o||o<0||o+t>e[j])throw P(T)
;var a=e[L]._b,s=o+e[F],u=a.slice(s,s+t);return r?u:u.reverse()},Q=function(e,t,n,r,i,o){var a=+n,s=f(a);if(a!=s||s<0||s+t>e[j])throw P(T);for(var u=e[L]._b,l=s+e[F],c=r(+i),d=0;d<t;d++)u[l+d]=c[o?d:t-d-1]},X=function(e,t){c(e,E,m);var n=+t,r=d(n);if(n!=r)throw P(b);return r};if(a.ABV){if(!l(function(){new E})||!l(function(){new E(.5)})){E=function(e){return new I(X(this,e))};for(var $,J=E[_]=I[_],Z=p(I),ee=0;Z.length>ee;)($=Z[ee++])in E||s(E,$,I[$]);o||(J.constructor=E)}var te=new w(new E(2)),ne=w[_].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||u(w[_],{setInt8:function(e,t){ne.call(this,e,t<<24>>24)},setUint8:function(e,t){ne.call(this,e,t<<24>>24)}},!0)}else E=function(e){var t=X(this,e);this._b=g.call(Array(t),0),this[j]=t},w=function(e,t,n){c(this,w,y),c(e,E,y);var r=e[j],i=f(t);if(i<0||i>r)throw P("Wrong offset!");if(n=n===undefined?r-i:d(n),i+n>r)throw P(b);this[L]=e,this[F]=i,this[j]=n},i&&(Y(E,D,"_l"),Y(w,R,"_b"),Y(w,D,"_l"),Y(w,N,"_o")),u(w[_],{getInt8:function(e){return W(this,1,e)[0]<<24>>24},getUint8:function(e){return W(this,1,e)[0]},getInt16:function(e){var t=W(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=W(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return H(W(this,4,e,arguments[1]))},getUint32:function(e){return H(W(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return U(W(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return U(W(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){Q(this,1,e,V,t)},setUint8:function(e,t){Q(this,1,e,V,t)},setInt16:function(e,t){Q(this,2,e,z,t,arguments[2])},setUint16:function(e,t){Q(this,2,e,z,t,arguments[2])},setInt32:function(e,t){Q(this,4,e,q,t,arguments[2])},setUint32:function(e,t){Q(this,4,e,q,t,arguments[2])},setFloat32:function(e,t){Q(this,4,e,K,t,arguments[2])},setFloat64:function(e,t){Q(this,8,e,G,t,arguments[2])}});v(E,m),v(w,y),s(w[_],a.VIEW,!0),t[m]=E,t[y]=w},function(e,t,n){var r=n(8);r(r.G+r.W+r.F*!n(219).ABV,{DataView:n(220).DataView})},function(e,t,n){n(223)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";if(n(6)){var r=n(28),i=n(4),o=n(7),a=n(8),s=n(219),u=n(220),l=n(20),c=n(205),f=n(17),d=n(10),p=n(210),h=n(38),g=n(37),v=n(39),m=n(16),y=n(5),_=n(71),b=n(75),T=n(13),E=n(58),w=n(162),S=n(46),P=n(59),C=n(50).f,I=n(164),x=n(19),A=n(25),O=n(172),k=n(36),M=n(207),R=n(193),D=n(129),N=n(165),L=n(192),j=n(188),F=n(185),B=n(11),U=n(51),H=B.f,V=U.f,z=i.RangeError,q=i.TypeError,G=i.Uint8Array,K="ArrayBuffer",Y="Shared"+K,W="BYTES_PER_ELEMENT",Q="prototype",X=Array[Q],$=u.ArrayBuffer,J=u.DataView,Z=O(0),ee=O(2),te=O(3),ne=O(4),re=O(5),ie=O(6),oe=k(!0),ae=k(!1),se=R.values,ue=R.keys,le=R.entries,ce=X.lastIndexOf,fe=X.reduce,de=X.reduceRight,pe=X.join,he=X.sort,ge=X.slice,ve=X.toString,me=X.toLocaleString,ye=A("iterator"),_e=A("toStringTag"),be=x("typed_constructor"),Te=x("def_constructor"),Ee=s.CONSTR,we=s.TYPED,Se=s.VIEW,Pe="Wrong length!",Ce=O(1,function(e,t){return Me(M(e,e[Te]),t)}),Ie=o(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),xe=!!G&&!!G[Q].set&&o(function(){new G(1).set({})}),Ae=function(e,t){if(e===undefined)throw q(Pe);var n=+e,r=g(e);if(t&&!_(n,r))throw z(Pe);return r},Oe=function(e,t){var n=h(e);if(n<0||n%t)throw z("Wrong offset!");return n},ke=function(e){if(T(e)&&we in e)return e;throw q(e+" is not a typed array!")},Me=function(e,t){if(!(T(e)&&be in e))throw q("It is not a typed array constructor!");return new e(t)},Re=function(e,t){return De(M(e,e[Te]),t)},De=function(e,t){for(var n=0,r=t.length,i=Me(e,r);r>n;)i[n]=t[n++];return i},Ne=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,r,i,o,a,s=E(e),u=arguments.length,c=u>1?arguments[1]:undefined,f=c!==undefined,d=I(s);if(d!=undefined&&!w(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),t=0,n=g(s.length),i=Me(this,n);n>t;t++)i[t]=f?c(s[t],t):s[t];return i},je=function(){for(var e=0,t=arguments.length,n=Me(this,t);t>e;)n[e]=arguments[e++];return n},Fe=!!G&&o(function(){me.call(new G(1))}),Be=function(){return me.apply(Fe?ge.call(ke(this)):ke(this),arguments)},Ue={copyWithin:function(e,t){return F.call(ke(this),e,t,arguments.length>2?arguments[2]:undefined)},every:function(e){return ne(ke(this),e,arguments.length>1?arguments[1]:undefined)},fill:function(){return j.apply(ke(this),arguments)},filter:function(e){return Re(this,ee(ke(this),e,arguments.length>1?arguments[1]:undefined))},find:function(e){return re(ke(this),e,arguments.length>1?arguments[1]:undefined)},findIndex:function(e){return ie(ke(this),e,arguments.length>1?arguments[1]:undefined)},forEach:function(e){Z(ke(this),e,arguments.length>1?arguments[1]:undefined)},indexOf:function(e){return ae(ke(this),e,arguments.length>1?arguments[1]:undefined)},includes:function(e){return oe(ke(this),e,arguments.length>1?arguments[1]:undefined)},join:function(){return pe.apply(ke(this),arguments)},lastIndexOf:function(){return ce.apply(ke(this),arguments)},map:function(e){return Ce(ke(this),e,arguments.length>1?arguments[1]:undefined)},reduce:function(){return fe.apply(ke(this),arguments)},reduceRight:function(){return de.apply(ke(this),arguments)},reverse:function(){for(var e,t=this,n=ke(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(ke(this),e,arguments.length>1?arguments[1]:undefined)},sort:function(e){return he.call(ke(this),e)},subarray:function(e,t){var n=ke(this),r=n.length,i=v(e,r);return new(M(n,n[Te]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((t===undefined?r:v(t,r))-i))}},He=function(e,t){return Re(this,ge.call(ke(this),e,t))},Ve=function(e){ke(this);var t=Oe(arguments[1],1),n=this.length,r=E(e),i=g(r.length),o=0;if(i+t>n)throw z(Pe);for(;o<i;)this[t+o]=r[o++]},ze={entries:function(){return le.call(ke(this))},keys:function(){return ue.call(ke(this))},values:function(){return se.call(ke(this))}},qe=function(e,t){return T(e)&&e[we]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Ge=function(e,t){return qe(e,t=m(t,!0))?f(2,e[t]):V(e,t)},Ke=function(e,t,n){return!(qe(e,t=m(t,!0))&&T(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};Ee||(U.f=Ge,B.f=Ke),a(a.S+a.F*!Ee,"Object",{getOwnPropertyDescriptor:Ge,defineProperty:Ke}),o(function(){ve.call({})})&&(ve=me=function(){return pe.call(this)});var Ye=p({},Ue);p(Ye,ze),d(Ye,ye,ze.values),p(Ye,{slice:He,set:Ve,constructor:function(){},toString:ve,toLocaleString:Be}),Ne(Ye,"buffer","b"),Ne(Ye,"byteOffset","o"),Ne(Ye,"byteLength","l"),Ne(Ye,"length","e"),H(Ye,_e,{get:function(){return this[we]}}),e.exports=function(e,t,n,u){u=!!u;var l=e+(u?"Clamped":"")+"Array",f="Uint8Array"!=l,p="get"+e,h="set"+e,v=i[l],m=v||{},y=v&&P(v),_=!v||!s.ABV,E={},w=v&&v[Q],I=function(e,n){var r=e._d;return r.v[p](n*t+r.o,Ie)},x=function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[h](n*t+i.o,r,Ie)},A=function(e,t){H(e,t,{get:function(){return I(this,t)},set:function(e){return x(this,t,e)},enumerable:!0})};_?(v=n(function(e,n,r,i){c(e,v,l,"_d");var o,a,s,u,f=0,p=0;if(T(n)){if(!(n instanceof $||(u=b(n))==K||u==Y))return we in n?De(v,n):Le.call(v,n);o=n,p=Oe(r,t);var h=n.byteLength;if(i===undefined){if(h%t)throw z(Pe);if((a=h-p)<0)throw z(Pe)}else if((a=g(i)*t)+p>h)throw z(Pe);s=a/t}else s=Ae(n,!0),a=s*t,o=new $(a);for(d(e,"_d",{b:o,o:p,l:a,e:s,v:new J(o)});f<s;)A(e,f++)}),w=v[Q]=S(Ye),d(w,"constructor",v)):N(function(e){new v(null),new v(e)},!0)||(v=n(function(e,n,r,i){c(e,v,l);var o;return T(n)?n instanceof $||(o=b(n))==K||o==Y?i!==undefined?new m(n,Oe(r,t),i):r!==undefined?new m(n,Oe(r,t)):new m(n):we in n?De(v,n):Le.call(v,n):new m(Ae(n,f))}),Z(y!==Function.prototype?C(m).concat(C(y)):C(m),function(e){e in v||d(v,e,m[e])}),v[Q]=w,r||(w.constructor=v));var O=w[ye],k=!!O&&("values"==O.name||O.name==undefined),M=ze.values;d(v,be,!0),d(w,we,l),d(w,Se,!0),d(w,Te,v),(u?new v(1)[_e]==l:_e in w)||H(w,_e,{get:function(){return l}}),E[l]=v,a(a.G+a.W+a.F*(v!=m),E),a(a.S,l,{BYTES_PER_ELEMENT:t,from:Le,of:je}),W in w||d(w,W,t),a(a.P,l,Ue),L(l),a(a.P+a.F*xe,l,{set:Ve}),a(a.P+a.F*!k,l,ze),a(a.P+a.F*(w.toString!=ve),l,{toString:ve}),a(a.P+a.F*o(function(){new v(1).slice()}),l,{slice:He}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!o(function(){w.toLocaleString.call([1,2])})),l,{toLocaleString:Be}),D[l]=k?O:M,r||k||d(w,ye,M)}}else e.exports=function(){}},function(e,t,n){n(223)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(223)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(223)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(223)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(223)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(223)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(223)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(223)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(8),i=n(21),o=n(12),a=(n(4).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(7)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(8),i=n(46),o=n(21),a=n(12),s=n(13),u=n(7),l=n(77),c=(n(4).Reflect||{}).construct,f=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!u(function(){c(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(11),i=n(8),o=n(12),a=n(16);i(i.S+i.F*n(7)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(8),i=n(51).f,o=n(12);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(8),i=n(12),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(130)(o,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:undefined,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){function r(e,t){var n,s,c=arguments.length<3?e:arguments[2];return l(e)===c?e[t]:(n=i.f(e,t))?a(n,"value")?n.value:n.get!==undefined?n.get.call(c):undefined:u(s=o(e))?r(s,t,c):void 0}var i=n(51),o=n(59),a=n(5),s=n(8),u=n(13),l=n(12);s(s.S,"Reflect",{get:r})},function(e,t,n){var r=n(51),i=n(8),o=n(12);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(8),i=n(59),o=n(12);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(8);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(8),i=n(12),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(8);r(r.S,"Reflect",{ownKeys:n(243)})},function(e,t,n){var r=n(50),i=n(43),o=n(12),a=n(4).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(8),i=n(12),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){function r(e,t,n){var u,d,p=arguments.length<4?e:arguments[3],h=o.f(c(e),t);if(!h){if(f(d=a(e)))return r(d,t,n,p);h=l(0)}return s(h,"value")?!(!1===h.writable||!f(p))&&(u=o.f(p,t)||l(0),u.value=n,i.f(p,t,u),!0):h.set!==undefined&&(h.set.call(p,n),!0)}var i=n(11),o=n(51),a=n(59),s=n(5),u=n(8),l=n(17),c=n(12),f=n(13);u(u.S,"Reflect",{set:r})},function(e,t,n){var r=n(8),i=n(73);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(8),i=n(36)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined)}}),n(186)("includes")},function(e,t,n){"use strict";var r=n(8),i=n(127)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(8),i=n(250);r(r.P,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined,!0)}})},function(e,t,n){var r=n(37),i=n(91),o=n(35);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,l=n===undefined?" ":String(n),c=r(t);if(c<=u||""==l)return s;var f=c-u,d=i.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(e,t,n){"use strict";var r=n(8),i=n(250);r(r.P,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined,!1)}})},function(e,t,n){"use strict";n(83)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(83)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(8),i=n(35),o=n(37),a=n(134),s=n(196),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(130)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},function(e,t,n){n(27)("asyncIterator")},function(e,t,n){n(27)("observable")},function(e,t,n){var r=n(8),i=n(243),o=n(32),a=n(51),s=n(163);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n=o(e),r=a.f,u=i(n),l={},c=0;u.length>c;)s(l,t=u[c++],r(n,t));return l}})},function(e,t,n){var r=n(8),i=n(259)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(30),i=n(32),o=n(44).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){var r=n(8),i=n(259)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(8),i=n(58),o=n(21),a=n(11);n(6)&&r(r.P+n(262),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){e.exports=n(28)||!n(7)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(4)[e]})},function(e,t,n){"use strict";var r=n(8),i=n(58),o=n(21),a=n(11);n(6)&&r(r.P+n(262),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(8),i=n(58),o=n(16),a=n(59),s=n(51).f;n(6)&&r(r.P+n(262),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(8),i=n(58),o=n(16),a=n(59),s=n(51).f;n(6)&&r(r.P+n(262),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(8);r(r.P+r.R,"Map",{toJSON:n(267)("Map")})},function(e,t,n){var r=n(75),i=n(268);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(206);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){var r=n(8);r(r.P+r.R,"Set",{toJSON:n(267)("Set")})},function(e,t,n){var r=n(8);r(r.S,"System",{global:n(4)})},function(e,t,n){var r=n(8),i=n(34);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o+(r>>>0)+((i&a|(i|a)&~(i+a>>>0))>>>31)|0}})},function(e,t,n){var r=n(8);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=t>>>0,a=n>>>0;return o-(r>>>0)-((~i&a|~(i^a)&i-a>>>0)>>>31)|0}})},function(e,t,n){var r=n(8);r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,u=i>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>16)+((o*u>>>0)+(l&n)>>16)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,u=i>>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>>16)+((o*u>>>0)+(l&n)>>>16)}})},function(e,t,n){var r=n(277),i=n(12),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var r=n(211),i=n(8),o=n(23)("metadata"),a=o.store||(o.store=new(n(215))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return undefined;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return undefined;i.set(t,o=new r)}return o},u=function(e,t,n){var r=s(t,n,!1);return r!==undefined&&r.has(e)},l=function(e,t,n){var r=s(t,n,!1);return r===undefined?undefined:r.get(e)},c=function(e,t,n,r){s(n,r,!0).set(e,t)},f=function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},d=function(e){return e===undefined||"symbol"==typeof e?e:String(e)},p=function(e){i(i.S,"Reflect",e)};e.exports={store:a,map:s,has:u,get:l,set:c,keys:f,key:d,exp:p}},function(e,t,n){var r=n(277),i=n(12),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?undefined:o(arguments[2]),r=a(i(t),n,!1);if(r===undefined||!r["delete"](e))return!1;if(r.size)return!0;var u=s.get(t);return u["delete"](n),!!u.size||s["delete"](t)}})},function(e,t,n){var r=n(277),i=n(12),o=n(59),a=r.has,s=r.get,u=r.key,l=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?l(e,r,n):undefined};r.exp({getMetadata:function(e,t){return l(e,i(t),arguments.length<3?undefined:u(arguments[2]))}})},function(e,t,n){var r=n(214),i=n(268),o=n(277),a=n(12),s=n(59),u=o.keys,l=o.key,c=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var a=c(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return c(a(e),arguments.length<2?undefined:l(arguments[1]))}})},function(e,t,n){var r=n(277),i=n(12),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?undefined:a(arguments[2]))}})},function(e,t,n){var r=n(277),i=n(12),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?undefined:a(arguments[1]))}})},function(e,t,n){var r=n(277),i=n(12),o=n(59),a=r.has,s=r.key,u=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?undefined:s(arguments[2]))}})},function(e,t,n){var r=n(277),i=n(12),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?undefined:a(arguments[2]))}})},function(e,t,n){var r=n(277),i=n(12),o=n(21),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(r!==undefined?i:o)(n),a(r))}}})},function(e,t,n){var r=n(8),i=n(209)(),o=n(4).process,a="process"==n(34)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(8),i=n(4),o=n(9),a=n(209)(),s=n(25)("observable"),u=n(21),l=n(12),c=n(205),f=n(210),d=n(10),p=n(206),h=p.RETURN,g=function(e){return null==e?undefined:u(e)},v=function(e){var t=e._c;t&&(e._c=undefined,t())},m=function(e){return e._o===undefined},y=function(e){m(e)||(e._o=undefined,v(e))},_=function(e,t){l(e),this._c=undefined,this._o=e,e=new b(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}m(this)&&v(this)};_.prototype=f({},{unsubscribe:function(){y(this)}});var b=function(e){this._s=e};b.prototype=f({},{next:function(e){var t=this._s;if(!m(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(m(t))throw e;var n=t._o;t._o=undefined;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{v(t)}finally{throw e}}return v(t),e},complete:function(e){var t=this._s;if(!m(t)){var n=t._o;t._o=undefined;try{var r=g(n.complete);e=r?r.call(n,e):undefined}catch(e){try{v(t)}finally{throw e}}return v(t),e}}});var T=function(e){c(this,T,"Observable","_f")._f=u(e)};f(T.prototype,{subscribe:function(e){return new _(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),f(T,{from:function(e){var t="function"==typeof this?this:T,n=g(l(e)[s]);if(n){var r=l(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return h})===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:T)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(T.prototype,s,function(){return this}),r(r.G,{Observable:T}),n(192)("Observable")},function(e,t,n){var r=n(4),i=n(8),o=n(78),a=n(289),s=r.navigator,u=!!s&&/MSIE .\./.test(s.userAgent),l=function(e){return u?function(t,n){return e(o(a,[].slice.call(arguments,2),"function"==typeof t?t:Function(t)),n)}:e};i(i.G+i.B+i.F*u,{setTimeout:l(r.setTimeout),setInterval:l(r.setInterval)})},function(e,t,n){"use strict";var r=n(290),i=n(78),o=n(21);e.exports=function(){for(var e=o(this),t=arguments.length,n=Array(t),a=0,s=r._,u=!1;t>a;)(n[a]=arguments[a++])===s&&(u=!0);return function(){var r,o=this,a=arguments.length,l=0,c=0;if(!u&&!a)return i(e,n,o);if(r=n.slice(),u)for(;t>l;l++)r[l]===s&&(r[l]=arguments[c++]);for(;a>c;)r.push(arguments[c++]);return i(e,r,o)}}},function(e,t,n){e.exports=n(4)},function(e,t,n){var r=n(8),i=n(208);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(193),i=n(18),o=n(4),a=n(10),s=n(129),u=n(25),l=u("iterator"),c=u("toStringTag"),f=s.Array,d=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var h,g=d[p],v=o[g],m=v&&v.prototype;if(m){m[l]||a(m,l,f),m[c]||a(m,c,g),s[g]=f;for(h in r)m[h]||i(m,h,r[h],!0)}}},function(e,t){(function(t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=l(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function n(t,i,o,a){var s=r(e[t],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&y.call(l,"__await")?Promise.resolve(l.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function i(e,t){function r(){return new Promise(function(r,i){n(e,t,r,i)})}return o=o?o.then(r,r):r()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var o;this._invoke=i}function l(e,t,n){var i=P;return function(o,a){if(i===I)throw new Error("Generator is already running");if(i===x){if("throw"===o)throw a;return g()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===A)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===P)throw i=x,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=I;var l=r(e,t,n);if("normal"===l.type){if(i=n.done?x:C,l.arg===A)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=x,n.method="throw",n.arg=l.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=v,c(e,t),"throw"===t.method))return A;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,A;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,A):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,A)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=v,t.done=!0,t};return r.next=r}}return{next:g}}function g(){return{value:v,done:!0}}var v,m=Object.prototype,y=m.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",T=_.asyncIterator||"@@asyncIterator",E=_.toStringTag||"@@toStringTag",w="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(w&&(e.exports=S));S=t.regeneratorRuntime=w?e.exports:{},S.wrap=n;var P="suspendedStart",C="suspendedYield",I="executing",x="completed",A={},O={};O[b]=function(){return this};var k=Object.getPrototypeOf,M=k&&k(k(h([])));M&&M!==m&&y.call(M,b)&&(O=M);var R=a.prototype=i.prototype=Object.create(O);o.prototype=R.constructor=a,a.constructor=o,a[E]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,E in e||(e[E]="GeneratorFunction")),e.prototype=Object.create(R),e},S.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[T]=function(){return this},S.AsyncIterator=u,S.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(R),R[E]="Generator",R[b]=function(){return this},R.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},S.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),A}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),A}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}())},function(e,t,n){n(295),e.exports=n(9).RegExp.escape},function(e,t,n){var r=n(8),i=n(296)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(298),s=i(a),u=n(301),l=i(u),c=n(453),f=i(c),d=n(459),p=n(497),h=n(318),g=n(502),v=r(g),m=n(504),y=r(m),_=n(505),b=r(_),T=n(421),E=r(T),w=n(424),S=r(w),P=n(304),C=r(P),I=n(321),x=n(367),A=n(309),O=n(506),k=r(O),M=n(536),R=n(542),D=r(R),N=n(507),L=r(N);(0,M.register)(),D["default"].events&&D["default"].events.on("seed:loaded",function(){return(0,L["default"])(D["default"])}),e.exports={components:o({MediaPageBackground:d.PageBackground,PageWithInteractiveBackground:p.Page},l),actions:s,selectors:f,registerPageType:v["default"],registerPageTypeWithDefaultBackground:y["default"],registerWidgetType:b["default"],mediaReduxModule:d.reduxModule,mediaPageBackgroundReduxModule:d.pageBackgroundReduxModule,pageWithInteractiveBackgroundReduxModule:p.reduxModule,iconMapping:E["default"],SvgIcon:S["default"],classNames:C["default"],connect:x.connect,connectInPage:h.connectInPage,combineReducers:I.combineReducers,combine:A.combine,ServerSidePage:k["default"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSetting=t.updatePageLink=t.updatePageAttribute=undefined;var r=n(299),i=n(300);t.updatePageAttribute=r.updatePageAttribute,t.updatePageLink=r.updatePageLink,t.updateSetting=i.update},function(e,t){"use strict";function n(e){var t=e.id,n=e.position;return g(m,t,{position:n})}function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(v,t)}function i(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(_,t)}function o(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(y,t)}function a(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(b,t)}function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(T,t)}function u(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(E,t)}function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(w,t)}function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(S,t)}function f(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(P,t)}function d(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id;return g(C,t)}function p(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id,n=e.name,r=e.value;return g(I,t,{name:n,value:r})}function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.pageId,n=e.linkId,r=e.name,i=e.value;return g(x,t,{linkId:n,name:r,value:i})}function g(e,t){return{type:e,meta:{collectionName:"pages",itemId:t},payload:arguments.length>2&&arguments[2]!==undefined?arguments[2]:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageWillActivate=n,t.pageDidActivate=r,t.pageWillDeactivate=i,t.pageDidDeactivate=o,
t.pageDidPreload=a,t.pageDidPrepare=s,t.pageScheduleUnprepare=u,t.pageDidUnprepare=l,t.pageDidResize=c,t.enhance=f,t.cleanup=d,t.updatePageAttribute=p,t.updatePageLink=h,t.pageAction=g;var v=t.PAGE_DID_ACTIVATE="PAGE_DID_ACTIVATE",m=t.PAGE_WILL_ACTIVATE="PAGE_WILL_ACTIVATE",y=t.PAGE_DID_DEACTIVATE="PAGE_DID_DEACTIVATE",_=t.PAGE_WILL_DEACTIVATE="PAGE_WILL_DEACTIVATE",b=t.PAGE_DID_PRELOAD="PAGE_DID_PRELOAD",T=t.PAGE_DID_PREPARE="PAGE_DID_PREPARE",E=t.PAGE_SCHEDULE_UNPREPARE="PAGE_SCHEDULE_UNPREPARE",w=t.PAGE_DID_UNPREPARE="PAGE_DID_UNPREPARE",S=t.PAGE_DID_RESIZE="PAGE_DID_RESIZE",P=t.ENHANCE="PAGE_ENHANCE",C=t.CLEANUP="PAGE_CLEANUP",I=t.UPDATE_PAGE_ATTRIBUTE="UPDATE_PAGE_ATTRIBUTE",x=t.UPDATE_PAGE_LINK="UPDATE_PAGE_LINK"},function(e,t){"use strict";function n(e){var t=e.settings;return{type:i,payload:{settings:t}}}function r(e){var t=e.property,n=e.value;return{type:o,payload:{property:t,value:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n,t.update=r;var i=t.LOAD="SETTINGS_LOAD",o=t.UPDATE="SETTINGS_UPDATE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Measure=t.Draggable=t.withVisibilityWatching=t.editorOnly=t.Icon=t.MenuBar=t.CloseButton=t.PlayerControls=t.LazyLoadedPageThumbnail=t.PageThumbnail=t.PageLink=t.PageText=t.PageHeader=t.PageScroller=t.PageContent=t.PageForeground=t.PageShadow=t.PageBackgroundImage=t.PageBackground=t.PageWrapper=undefined;var i=n(302),o=r(i),a=n(305),s=r(a),u=n(306),l=r(u),c=n(401),f=r(c),d=n(402),p=r(d),h=n(403),g=r(h),v=n(404),m=r(v),y=n(406),_=r(y),b=n(407),T=r(b),E=n(408),w=r(E),S=n(410),P=r(S),C=n(415),I=r(C),x=n(416),A=r(x),O=n(450),k=r(O),M=n(445),R=r(M),D=n(420),N=r(D),L=n(452),j=r(L),F=n(449),B=r(F),U=n(437),H=r(U),V=n(438),z=r(V);t.PageWrapper=o["default"],t.PageBackground=s["default"],t.PageBackgroundImage=l["default"],t.PageShadow=f["default"],t.PageForeground=g["default"],t.PageContent=p["default"],t.PageScroller=m["default"],t.PageHeader=_["default"],t.PageText=T["default"],t.PageLink=w["default"],t.PageThumbnail=P["default"],t.LazyLoadedPageThumbnail=I["default"],t.PlayerControls=A["default"],t.CloseButton=k["default"],t.MenuBar=R["default"],t.Icon=N["default"],t.editorOnly=j["default"],t.withVisibilityWatching=B["default"],t.Draggable=H["default"],t.Measure=z["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=n(304),c=r(l),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return React.createElement("div",{className:(0,c["default"])("content_and_background",this.props.className)},this.props.children)}}]),t}(u.Component);t["default"]=f},function(e){e.exports=React},function(e,t){var n,r;!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=i:(n=[],(r=function(){return i}.apply(t,n))!==undefined&&(e.exports=r))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},e.children)}function o(e){var t=e.pageHasPlayerControls;return(0,s["default"])("backgroundArea page_background",{"page_background-for_page_with_player_controls":t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=n(304),s=r(a);i.propTypes={pageHasPlayerControls:React.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=r(u),c=n(307),f=r(c),d=n(309),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.page,t=d.camelize.concat(this.props.propertyNamePrefix,this.props.propertyBaseName);return l["default"].createElement(f["default"],{fileId:e[t+"Id"],fileCollection:this.props.fileCollection,position:[e[t+"X"],e[t+"Y"]],className:"background background_image"})}}]),t}(l["default"].Component);t["default"]=p,p.propTypes={page:l["default"].PropTypes.object.isRequired,propertyBaseName:l["default"].PropTypes.string,fileCollection:l["default"].PropTypes.string},p.defaultProps={propertyBaseName:"backgroundImage"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(308),o=r(i),a=n(318),s=n(345),u=n(309);t["default"]=(0,a.connectInPage)((0,u.combineSelectors)({loaded:(0,s.pageIsPreloaded)()}))(o["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=r(u),c=n(304),f=r(c),d=n(309),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return l["default"].createElement("div",{className:this.cssClass(),style:this.style(),ref:function(t){return e.element=t}})}},{key:"componentDidUpdate",value:function(e){this.props.loaded&&!e.loaded&&(0,d.preloadBackgroundImage)(this.element)}},{key:"cssClass",value:function(){return(0,f["default"])(this.props.className,this.props.loaded?"load_image":null,this.imageCssClass())}},{key:"imageCssClass",value:function(){return["imageFiles"==this.props.fileCollection?"image":"video_poster",this.props.fileId||"none"].join("_")}},{key:"style",value:function(){return{backgroundPosition:this.positionCoordinate(0)+"% "+this.positionCoordinate(1)+"%"}}},{key:"positionCoordinate",value:function(e){var t=this.props.position[e];return void 0===t?50:t}}]),t}(l["default"].Component);t["default"]=p,p.propTypes={fileId:l["default"].PropTypes.number,fileCollection:l["default"].PropTypes.oneOf(["imageFiles","videoFiles"]),position:l["default"].PropTypes.arrayOf(l["default"].PropTypes.number),className:l["default"].PropTypes.string,loaded:l["default"].PropTypes.bool},p.defaultProps={position:[50,50],fileCollection:"imageFiles"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preloadBackgroundImage=t.has=t.memoizedSelector=t.combineSelectors=t.combine=t.isBlank=t.camelize=undefined;var i=n(310),o=r(i),a=n(312),s=r(a),u=n(313),l=r(u),c=n(314),f=r(c),d=n(316),p=r(d),h=n(317),g=r(h);t.camelize=s["default"],t.isBlank=o["default"],t.combine=l["default"],t.combineSelectors=c.combine,t.memoizedSelector=f["default"],t.has=p["default"],t.preloadBackgroundImage=g["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return!!(0,a["default"])(e).match(/^\s*$/)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(311),a=r(o)},function(e,t){var n,r,i;!function(o,a){r=[],n=a,(i="function"==typeof n?n.apply(t,r):n)!==undefined&&(e.exports=i)}(0,function(){function e(e,s,u){function l(e){h==n?v+=e:s&&h==r&&(m+=e)}function c(){var e,t,n,r="",i=!1;e:for(e=0,t=m.length;e<t;e++)switch(n=m[e].toLowerCase()){case"<":break;case">":break e;case"/":i=!0;break;default:if(n.match(a)){if(i)break e}else i=!0,r+=n}-1!==s.indexOf(r)?v+=m:u&&(v+=u),m=""}var f,d,p,e=e||"",h=n,g=0,v="",m="",y=!1;for("string"==typeof s?s=t(s):Array.isArray(s)||(s=null),f=0,d=e.length;f<d;f++)switch(p=e[f]){case"<":if(y)break;if(" "==e[f+1]){l(p);break}if(h==n){h=r,l(p);break}if(h==r){g++;break}l(p);break;case">":if(g){g--;break}if(y)break;if(h==r){y=h=0,s&&(m+=">",c());break}if(h==i){y=h=0,m="";break}if(h==o&&"-"==e[f-1]&&"-"==e[f-2]){y=h=0,m="";break}l(p);break;case'"':case"'":h==r&&(y==p?y=!1:y||(y=p)),l(p);break;case"!":if(h==r&&"<"==e[f-1]){h=i;break}l(p);break;case"-":if(h==i&&"-"==e[f-1]&&"!"==e[f-2]){h=o;break}l(p);break;case"E":case"e":if(h==i&&"doctype"==e.substr(f-6,7).toLowerCase()){h=r;break}l(p);break;default:l(p)}return v}function t(e){for(var t,n=[];null!==(t=s.exec(e));)n.push(t[1]);return 0!==n.length?n:null}var n=0,r=1,i=2,o=3,a=/\s/,s=/<(\w*)>/g;return e})},function(e,t){"use strict";function n(e){return e.replace(/_[a-z]/g,function(e){return e[1].toUpperCase()})}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.keys=function(e){return Object.keys(e).reduce(function(t,r){return t[n(r)]=e[r],t},{})},n.deep=function(e){return Array.isArray(e)?e.map(n.deep):"object"===(void 0===e?"undefined":r(e))&&e?Object.keys(e).reduce(function(t,r){return t[n(r)]=n.deep(e[r]),t},{}):e},n.concat=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).reduce(function(e,t){return e+t[0].toUpperCase()+t.slice(1)})},t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return Object.keys(e).reduce(function(t,r){return"function"==typeof e[r]?t[r]=e[r].apply(e,n):t[r]=e[r],t},{})}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(function(e,n){var i=t.slice(0,-1).map(u),o=t.slice(-1)[0],a=c.createSelector.apply(undefined,r(i).concat([o]));if(e===d)return a;if(e)return a(e,n);throw"Missing state argument for selector."})}function o(e){return l(function(){return(0,c.createStructuredSelector)(a(s(e)))})}function a(e){return Object.keys(e).reduce(function(t,n){return t[n]=u(e[n]),t},{})}function s(e){return Object.keys(e).reduce(function(t,n){return"function"==typeof e[n]?t[n]=e[n]:t[n]=function(){return e[n]},t},{})}function u(e){return"function"==typeof e&&e[f]?e(d):e}function l(e){return e[f]=!0,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i,t.combine=o,t.unwrap=u;var c=n(315),f=Symbol("selectorFactory"),d=Symbol("createSelector")},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return e===t}function i(e){var t=arguments.length<=1||arguments[1]===undefined?r:arguments[1],n=null,i=null;return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return null!==n&&n.length===o.length&&o.every(function(e,r){return t(e,n[r])})||(i=e.apply(undefined,o)),n=o,i}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var s=0,u=i.pop(),l=o(i),c=e.apply(undefined,[function(){return s++,u.apply(undefined,arguments)}].concat(r)),f=function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=l.map(function(n){return n.apply(undefined,[e,t].concat(i))});return c.apply(undefined,n(a))};return f.resultFunc=u,f.recomputations=function(){return s},f.resetRecomputations=function(){return s=0},f}}function s(e){var t=arguments.length<=1||arguments[1]===undefined?u:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=a,t.createStructuredSelector=s;var u=t.createSelector=a(i)},function(e,t){"use strict";function n(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:pageflow.browser;return t&&t.has(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){var t=window.getComputedStyle(e).getPropertyValue("background-image");t.match(/^url/)&&((new Image).src=t.replace(/^url\(['"]?/,"").replace(/['"]?\)$/,""))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return(0,d["default"])((0,c["default"])(e),e.mixin||{})}Object.defineProperty(t,"__esModule",{value:!0}),t.connectInPage=undefined,t.createPageType=i;var o=n(319),a=r(o),s=n(344),u=r(s),l=n(397),c=r(l),f=n(400),d=r(f),p=n(351),h=n(346);t["default"]={init:function(e){var t=e.pages,n=e.dispatch;(0,h.watch)({collection:t,collectionName:"pages",dispatch:n,idAttribute:"perma_id",attributes:["perma_id",{type:"template"},"chapter_id"],includeConfiguration:!0})},createReducers:function(e){var t=e.pageTypes,n=t===undefined?[]:t,r=n.reduce(function(e,t){var n=t.name,r=t.reducer;return e[n]=r,e},{});return{pages:(0,h.createReducer)("pages",{idAttribute:"permaId",itemReducer:(0,a["default"])(r)})}},createMiddleware:p.createMiddleware,createSaga:function(e){var t=e.pages,n=e.pageTypes,r=n===undefined?[]:n,i=e.middleware,o=r.reduce(function(e,t){var n=t.name,r=t.saga;return e[n]=r,e},{});return(0,h.createSaga)("pages",{itemSaga:(0,u["default"])({pages:t,pageTypeSagas:o}),middleware:i})}};t.connectInPage=(0,h.createItemScopeConnector)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){function t(t){return r[t]=r[t]||(0,l.combineReducers)({attributes:u["default"],state:(0,l.combineReducers)({custom:e[t]||function(){return arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}},common:a["default"]})}),r[t]}function n(e,t,n){return t&&t.type!==n.type?i({},e,{state:i({},e.state,{custom:undefined})}):e}var r={};return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=arguments[1],i=(0,u["default"])(e.attributes,r);return t(i.type)(n(e,e.attributes,i),r)}};var o=n(320),a=r(o),s=n(342),u=r(s),l=n(321)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];switch(arguments[1].type){case u.PAGE_DID_PRELOAD:return!0;default:return e}}function i(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];switch(arguments[1].type){case u.PAGE_DID_PREPARE:case u.PAGE_WILL_ACTIVATE:return!0;case u.PAGE_DID_UNPREPARE:return!1;default:return e}}function o(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];switch(arguments[1].type){case u.PAGE_WILL_ACTIVATE:return!0;case u.PAGE_WILL_DEACTIVATE:return!1;default:return e}}function a(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];switch(arguments[1].type){case u.PAGE_DID_ACTIVATE:return!0;case u.PAGE_WILL_DEACTIVATE:return!1;default:return e}}function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,t=arguments[1];switch(t.type){case u.PAGE_WILL_ACTIVATE:return t.payload.position||"top";case u.PAGE_WILL_DEACTIVATE:return null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(299),l=n(321);t["default"]=(0,l.combineReducers)({isPreloaded:r,isPrepared:i,isActive:o,isActivated:a,initialScrollerPosition:s})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=undefined;var i=n(322),o=r(i),a=n(337),s=r(a),u=n(339),l=r(u),c=n(340),f=r(c),d=n(341),p=r(d),h=n(338);r(h);t.createStore=o["default"],t.combineReducers=s["default"],t.bindActionCreators=l["default"],t.applyMiddleware=f["default"],t.compose=p["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){function r(){m===v&&(m=v.slice())}function o(){return g}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function c(e){if(!(0,a["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,g=h(g,e)}finally{y=!1}for(var t=v=m,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:l.INIT})}function d(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[u["default"]]=function(){return this},e}var p;if("function"==typeof t&&void 0===n&&(n=t,t=undefined),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,g=t,v=[],m=v,y=!1;return c({type:l.INIT}),p={dispatch:c,subscribe:s,getState:o,replaceReducer:f},p[u["default"]]=d,p}t.__esModule=!0,t.ActionTypes=undefined,t["default"]=i;var o=n(323),a=r(o),s=n(333),u=r(s),l=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var i=n(324),o=n(330),a=n(332),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){function r(e){return null==e?e===undefined?u:s:l&&l in Object(e)?o(e):a(e)}var i=n(325),o=n(328),a=n(329),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:undefined;e.exports=r},function(e,t,n){var r=n(326),i=r.Symbol;e.exports=i},function(e,t,n){var r=n(327),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=undefined;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(325),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:undefined;e.exports=r},function(e){function t(e){return r.call(e)}var n=Object.prototype,r=n.toString;e.exports=t},function(e,t,n){var r=n(331),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e){function t(e,t){return function(n){return e(t(n))}}e.exports=t},function(e){function t(e){return null!=e&&"object"==typeof e}e.exports=t},function(e,t,n){e.exports=n(334)},function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(336),s=i(a);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var u=(0,s["default"])(o);t["default"]=u}).call(t,function(){return this}(),n(335)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(undefined,{type:s.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var r="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(undefined,{type:r}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s=Object.keys(n),u=void 0;try{o(n)}catch(e){u=e}return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,o={},a=0;a<s.length;a++){var l=s[a],c=n[l],f=e[l],d=c(f,t);if(void 0===d){var p=i(l,t);throw new Error(p)}o[l]=d,r=r||d!==f}return r?o:e}}t.__esModule=!0,t["default"]=a;var s=n(322),u=n(323),l=(r(u),n(338));r(l)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(undefined,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var a=r[o],s=e[a];"function"==typeof s&&(i[a]=n(s,t))}return i}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a=e(n,r,i),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=s["default"].apply(undefined,l)(a.dispatch),o({},a,{dispatch:u})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=n(341),s=r(a)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(undefined,arguments))}})}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case i.ADD:case i.CHANGE:return t.payload.attributes;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(343)},function(e,t){"use strict";function n(e){var t=e.collectionName,n=e.items;return{type:a,meta:{collectionName:t},payload:{collectionName:t,items:n}}}function r(e){var t=e.collectionName,n=e.attributes;return{type:s,meta:{collectionName:t},payload:{attributes:n}}}function i(e){var t=e.collectionName,n=e.attributes;return{type:u,meta:{collectionName:t},payload:{attributes:n}}}function o(e){var t=e.collectionName,n=e.attributes;return{type:l,meta:{collectionName:t},payload:{attributes:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reset=n,t.add=r,t.change=i,t.remove=o;var a=t.RESET="COLLECTION_RESET",s=t.ADD="COLLECTION_ADD",u=t.CHANGE="COLLECTION_CHANGE",l=t.REMOVE="COLLECTION_REMOVE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.pages,n=e.pageTypeSagas;return regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,a["default"])(),"t0",1);case 1:return e.delegateYield((0,u["default"])(t),"t1",2);case 2:return r=void 0,e.next=5,(0,f.takeEvery)(l.ENHANCE,regeneratorRuntime.mark(function e(){var t,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.select)((0,i.pageAttribute)("type"));case 2:if(t=e.sent,!(o=n[t])){e.next=8;break}return e.next=7,(0,c.fork)(o);case 7:r=e.sent;case 8:case"end":return e.stop()}},e,this)}));case 5:return e.next=7,(0,f.takeEvery)(l.CLEANUP,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=3;break}return e.next=3,(0,c.cancel)(r);case 3:case"end":return e.stop()}},e,this)}));case 7:case"end":return e.stop()}},e,this)})};var i=n(345),o=n(395),a=r(o),s=n(396),u=r(s),l=n(299),c=n(353),f=n(357)},function(e,t,n){"use strict";function r(e,t){return(0,p.memoizedSelector)(h(t),function(t){return t&&t.attributes[e]})}function i(e){return(0,p.memoizedSelector)(h(e),function(e){return e&&e.attributes})}function o(e,t){return(0,p.memoizedSelector)(h(t),function(t){return t&&t.state.custom[e]})}function a(e){return f("isActive",e)}function s(e){return f("isActivated",e)}function u(e){return f("isPreloaded",e)}function l(e){return f("isPrepared",e)}function c(e){return f("initialScrollerPosition",e)}function f(e,t){return(0,p.memoizedSelector)(h(t),function(t){return t&&t.state.common[e]})}Object.defineProperty(t,"__esModule",{value:!0}),t.selector=undefined,t.pageAttribute=r,t.pageAttributes=i,t.pageState=o,t.pageIsActive=a,t.pageIsActivated=s,t.pageIsPreloaded=u,t.pageIsPrepared=l,t.initialScrollerPosition=c;var d=n(346),p=n(309),h=t.selector=(0,d.createItemSelector)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.createItemScopeProvider=t.createItemScopeConnector=t.createSaga=t.createReducer=t.createItemSelector=t.createItemsSelector=undefined;var i=n(347),o=r(i),a=n(348),s=r(a),u=n(350),l=r(u),c=n(351),f=r(c),d=n(366),p=r(d),h=n(389),g=r(h),v=n(390),m=r(v);t.createItemsSelector=o["default"],t.createItemSelector=s["default"],t.createReducer=l["default"],t.createSaga=f["default"],t.createItemScopeConnector=p["default"],t.createItemScopeProvider=g["default"],t.watch=m["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.namespace;return function(t){if(n){if(!t[n])throw new Error("Cannot select from unknown namespace "+n+".");t=t[n]}return t[e]||{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.namespace;return function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=t.id;return function(t,o){var a=i,s=t;if(n){if(!t[n])throw new Error("Cannot select from unknown namespace "+n+".");s=t[n]}if(!s[e])throw new Error("Cannot select from unknown collection "+e+".");return"function"==typeof i&&(a=i(t,o)),a=a||t[(0,r.getItemScopeProperty)(e)],a?s[e][a]:null}}};var r=n(349)},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,r){return o({},e,n({},i(t),r))}function i(e){return"__"+e+"_connectedId"}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.addItemScope=r,t.getItemScopeProperty=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.idAttribute,r=n===undefined?"id":n,s=t.itemReducer,l=s===undefined?u["default"]:s;return function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments[1],s=void 0,u=void 0;if(!n.meta||n.meta.collectionName!=e)return t;switch(n.type){case a.RESET:return n.payload.items.reduce(function(e,t){return e[t[r]]=l(undefined,(0,a.add)({collectioName:n.payload.collectioName,attributes:t})),e},{});case a.ADD:return o({},t,i({},n.payload.attributes[r],l(undefined,n)));case a.CHANGE:return u=n.payload.attributes[r],o({},t,i({},u,l(t[u],n)));case a.REMOVE:return u=n.payload.attributes[r],s=o({},t),delete s[u],s;default:if(n.meta.itemId){var c=t[n.meta.itemId],f=l(c,n);if(f!==c)return o({},t,i({},n.meta.itemId,f))}return t}}};var a=n(343),s=n(342),u=r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return function e(t){
var n=t.getState,r=t.dispatch,i=o();return e.getState=n,e.dispatch=r,e.subscribe=i.subscribe,function(e){return function(t){var n=e(t);return i.emit(t),n}}}}function o(){function e(e){return n.push(e),function(){return a(n,e)}}function t(e){for(var t=n.slice(),r=0,i=t.length;r<i;r++)t[r](e)}var n=[];return{subscribe:e,emit:t}}function a(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){function n(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.next=3,(0,c.takeEvery)([p.RESET,p.ADD,p.REMOVE],r,e);case 3:case"end":return t.stop()}},f[0],this)}function r(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.select)(v);case 2:return t=n.sent,n.delegateYield(i(t,e),"t0",4);case 4:return n.delegateYield(o(t,e),"t1",5);case 5:case"end":return n.stop()}},f[1],this)}function i(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object.keys(t).map(function(n){if(!(n in e))return(0,l.cancel)(t[n])});case 2:case"end":return n.stop()}},f[2],this)}function o(e,t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object.keys(e).map(function(e){if(!t[e])return(0,l.fork)(a,parseInt(e,10))});case 2:n=r.sent,Object.keys(e).forEach(function(e,r){t[e]||(t[e]=n[r])});case 4:case"end":return r.stop()}},f[3],this)}function a(t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,c.runSaga)(h(),{subscribe:function(n){return g.subscribe(function(r){(0,s.isItemAction)(r,e)&&(0,s.getItemIdFromItemAction)(r)!=t||n(r)})},dispatch:function(n){(0,s.ensureItemActionId)(n,e,t),g.dispatch(n)},getState:function(){return(0,u.addItemScope)(g.getState(),e,t)}}),r.prev=1,r.next=4,(0,l.call)(function(){return n.done});case 4:return r.prev=4,n.cancel(),r.finish(4);case 7:case"end":return r.stop()}},f[4],this,[[1,,4,7]])}var f=[n,r,i,o,a].map(regeneratorRuntime.mark),h=t.itemSaga,g=t.middleware,v=(0,d["default"])(e);return n},t.createMiddleware=i;var s=n(352),u=n(349),l=n(353),c=n(357),f=n(347),d=r(f),p=n(343)},function(e,t){"use strict";function n(e,t,n){e.meta&&e.meta.collectionName==t&&!e.meta.itemId&&(e.meta=o({},e.meta,{itemId:n}))}function r(e,t){return e.meta&&e.meta.collectionName==t}function i(e){return e.meta&&e.meta.itemId}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.ensureItemActionId=n,t.isItemAction=r,t.getItemIdFromItemAction=i},function(e,t,n){e.exports=n(354)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(355);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return r.take}}),Object.defineProperty(t,"takem",{enumerable:!0,get:function(){return r.takem}}),Object.defineProperty(t,"put",{enumerable:!0,get:function(){return r.put}}),Object.defineProperty(t,"race",{enumerable:!0,get:function(){return r.race}}),Object.defineProperty(t,"call",{enumerable:!0,get:function(){return r.call}}),Object.defineProperty(t,"apply",{enumerable:!0,get:function(){return r.apply}}),Object.defineProperty(t,"cps",{enumerable:!0,get:function(){return r.cps}}),Object.defineProperty(t,"fork",{enumerable:!0,get:function(){return r.fork}}),Object.defineProperty(t,"spawn",{enumerable:!0,get:function(){return r.spawn}}),Object.defineProperty(t,"join",{enumerable:!0,get:function(){return r.join}}),Object.defineProperty(t,"cancel",{enumerable:!0,get:function(){return r.cancel}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return r.select}}),Object.defineProperty(t,"actionChannel",{enumerable:!0,get:function(){return r.actionChannel}}),Object.defineProperty(t,"cancelled",{enumerable:!0,get:function(){return r.cancelled}}),Object.defineProperty(t,"flush",{enumerable:!0,get:function(){return r.flush}})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"*";if(arguments.length&&(0,T.check)(arguments[0],T.is.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),T.is.pattern(e))return N(w,{pattern:e});if(T.is.channel(e))return N(w,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}function o(){var e=i.apply(undefined,arguments);return e[w].maybe=!0,e}function a(e,t){return arguments.length>1?((0,T.check)(e,T.is.notUndef,"put(channel, action): argument channel is undefined"),(0,T.check)(e,T.is.channel,"put(channel, action): argument "+e+" is not a valid channel"),(0,T.check)(t,T.is.notUndef,"put(channel, action): argument action is undefined")):((0,T.check)(e,T.is.notUndef,"put(action): argument action is undefined"),t=e,e=null),N(S,{channel:e,action:t})}function s(e){return N(P,e)}function u(e,t,n){(0,T.check)(t,T.is.notUndef,e+": argument fn is undefined");var r=null;if(T.is.array(t)){var i=t,o=b(i,2);r=o[0],t=o[1]}else if(t.fn){var a=t;r=a.context,t=a.fn}return(0,T.check)(t,T.is.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(C,u("call",e,n))}function c(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];return N(C,u("apply",{context:e,fn:t},n))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(I,u("cps",e,n))}function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(x,u("fork",e,n))}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=d.apply(undefined,[e].concat(n));return i[x].detached=!0,i}function h(e){if((0,T.check)(e,T.is.notUndef,"join(task): argument task is undefined"),!L(e))throw new Error("join(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return N(A,e)}function g(e){if((0,T.check)(e,T.is.notUndef,"cancel(task): argument task is undefined"),!L(e))throw new Error("cancel(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return N(O,e)}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===arguments.length?e=T.ident:((0,T.check)(e,T.is.notUndef,"select(selector,[...]): argument selector is undefined"),(0,T.check)(e,T.is.func,"select(selector,[...]): argument "+e+" is not a function")),N(k,{selector:e,args:n})}function m(e,t){return(0,T.check)(e,T.is.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&((0,T.check)(t,T.is.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),(0,T.check)(t,T.is.notUndef,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),N(M,{pattern:e,buffer:t})}function y(){return N(R,{})}function _(e){return(0,T.check)(e,T.is.channel,"flush(channel): argument "+e+" is not valid channel"),N(D,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.asEffect=undefined;var b=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.take=i,t.takem=o,t.put=a,t.race=s,t.call=l,t.apply=c,t.cps=f,t.fork=d,t.spawn=p,t.join=h,t.cancel=g,t.select=v,t.actionChannel=m,t.cancelled=y,t.flush=_;var T=n(356),E=(0,T.sym)("IO"),w="TAKE",S="PUT",P="RACE",C="CALL",I="CPS",x="FORK",A="JOIN",O="CANCEL",k="SELECT",M="ACTION_CHANNEL",R="CANCELLED",D="FLUSH",N=function(e,t){var n;return n={},r(n,E,!0),r(n,e,t),n};a.sync=function(){var e=a.apply(undefined,arguments);return e[S].sync=!0,e};var L=function(e){return e[T.TASK]};t.asEffect={take:function(e){return e&&e[E]&&e[w]},put:function(e){return e&&e[E]&&e[S]},race:function(e){return e&&e[E]&&e[P]},call:function(e){return e&&e[E]&&e[C]},cps:function(e){return e&&e[E]&&e[I]},fork:function(e){return e&&e[E]&&e[x]},join:function(e){return e&&e[E]&&e[A]},cancel:function(e){return e&&e[E]&&e[O]},select:function(e){return e&&e[E]&&e[k]},actionChannel:function(e){return e&&e[E]&&e[M]},cancelled:function(e){return e&&e[E]&&e[R]},flush:function(e){return e&&e[E]&&e[D]}}},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n){if(!t(e))throw f("error","uncaught at check",n),new Error(n)}function i(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function o(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=p({},e),n=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}function a(e){for(var t=[],n=0;n<e;n++)t.push(o());return t}function s(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],n=void 0,r=new Promise(function(r){n=setTimeout(function(){return r(t)},e)});return r[y]=function(){return clearTimeout(n)},r}function u(){var e,t=!0,r=void 0,i=void 0;return e={},n(e,v,!0),n(e,"isRunning",function(){return t}),n(e,"result",function(){return r}),n(e,"error",function(){return i}),n(e,"setRunning",function(e){return t=e}),n(e,"setResult",function(e){return r=e}),n(e,"setError",function(e){return i=e}),e}function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return function(){return++e}}function c(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:E,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",r=arguments[3],i={name:n,next:e,"throw":t,"return":w};return r&&(i[m]=!0),"undefined"!=typeof Symbol&&(i[Symbol.iterator]=function(){return i}),i}function f(e,t,n){"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e](t,n)}function d(e){return function(t){var n=Object.defineProperty(t,_,{value:!0});return e(n)}}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.check=r,t.remove=i,t.deferred=o,t.arrayOfDeffered=a,t.delay=s,t.createMockTask=u,t.autoInc=l,t.makeIterator=c,t.log=f,t.wrapSagaDispatch=d;var g=t.sym=function(e){return"@@redux-saga/"+e},v=t.TASK=g("TASK"),m=t.HELPER=g("HELPER"),y=(t.MATCH=g("MATCH"),t.CANCEL=g("cancelPromise")),_=t.SAGA_ACTION=g("SAGA_ACTION"),b=t.konst=function(e){return function(){return e}},T=(t.kTrue=b(!0),t.kFalse=b(!1),t.noop=function(){},t.ident=function(e){return e},t.is={undef:function(e){return null===e||e===undefined},notUndef:function(e){return null!==e&&e!==undefined},func:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},array:Array.isArray,promise:function(e){return e&&T.func(e.then)},iterator:function(e){return e&&T.func(e.next)&&T.func(e["throw"])},task:function(e){return e&&e[v]},observable:function(e){return e&&T.func(e.subscribe)},buffer:function(e){return e&&T.func(e.isEmpty)&&T.func(e.take)&&T.func(e.put)},pattern:function(e){return e&&("string"==typeof e||"symbol"===(void 0===e?"undefined":h(e))||T.func(e)||T.array(e))},channel:function(e){return e&&T.func(e.take)&&T.func(e.close)},helper:function(e){return e&&e[m]}}),E=(t.uid=l(),function(e){throw e}),w=function(e){return{value:e,done:!0}};t.internalErr=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.effects=t.CANCEL=t.delay=t.throttle=t.takeLatest=t.takeEvery=t.buffers=t.channel=t.eventChannel=t.END=t.runSaga=undefined;var o=n(358);Object.defineProperty(t,"runSaga",{enumerable:!0,get:function(){return o.runSaga}});var a=n(361);Object.defineProperty(t,"END",{enumerable:!0,get:function(){return a.END}}),Object.defineProperty(t,"eventChannel",{enumerable:!0,get:function(){return a.eventChannel}}),Object.defineProperty(t,"channel",{enumerable:!0,get:function(){return a.channel}});var s=n(362);Object.defineProperty(t,"buffers",{enumerable:!0,get:function(){return s.buffers}});var u=n(363);Object.defineProperty(t,"takeEvery",{enumerable:!0,get:function(){return u.takeEvery}}),Object.defineProperty(t,"takeLatest",{enumerable:!0,get:function(){return u.takeLatest}}),Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return u.throttle}});var l=n(356);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return l.delay}}),Object.defineProperty(t,"CANCEL",{enumerable:!0,get:function(){return l.CANCEL}});var c=n(364),f=i(c),d=n(354),p=r(d),h=n(365),g=r(h);t["default"]=f["default"],t.effects=p,t.utils=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=t.subscribe,r=t.dispatch,i=t.getState,a=t.sagaMonitor,u=t.logger;(0,o.check)(e,o.is.iterator,"runSaga must be called on an iterator");var l=(0,o.uid)();a&&(r=(0,o.wrapSagaDispatch)(r),a.effectTriggered({effectId:l,root:!0,parentEffectId:0,effect:{root:!0,saga:e,args:[]}}));var c=(0,s["default"])(e,n,r,i,{sagaMonitor:a,logger:u},l,e.name);return a&&a.effectResolved(l,c),c}Object.defineProperty(t,"__esModule",{value:!0}),t.runSaga=i;var o=n(356),a=n(359),s=r(a)},function(e,t,n){"use strict";function r(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return("*"===e?b.wildcard:f.is.array(e)?b.array:f.is.func(e)?b.predicate:b["default"])(e)}function s(e,t,n){function r(e){o(),n(e,!0)}function i(e){a.push(e),e.cont=function(i,o){u||((0,f.remove)(a,e),e.cont=f.noop,o?r(i):(e===t&&(s=i),a.length||(u=!0,n(s))))}}function o(){u||(u=!0,a.forEach(function(e){e.cont=f.noop,e.cancel()}),a=[])}var a=[],s=void 0,u=!1;return i(t),{addTask:i,cancelAll:o,abort:r,getTasks:function(){return a},taskNames:function(){return a.map(function(e){return e.name})}}}function u(e){var t=e.context,n=e.fn,r=e.args;if(f.is.iterator(n))return n;var i=void 0,o=void 0;try{i=n.apply(t,r)}catch(e){o=e}return f.is.iterator(i)?i:o?(0,f.makeIterator)(function(){throw o}):(0,f.makeIterator)(function(){var e=void 0,t={done:!1,value:i},n=function(e){return{done:!0,value:e}};return function(r){return e?n(r):(e=!0,t)}}())}function l(e){return{fn:e}}function c(e){function t(){J.isRunning&&!J.isCancelled&&(J.isCancelled=!0,b(_))}function n(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,Z.cancelAll(),T(_))}function b(t,n){if(!J.isRunning)throw new Error("Trying to resume an already finished generator");try{var r=void 0;n?r=e["throw"](t):t===_?(J.isCancelled=!0,b.cancel(),r=f.is.func(e["return"])?e["return"](_):{done:!0,value:_}):r=t===y?f.is.func(e["return"])?e["return"]():{done:!0}:e.next(t),r.done?(J.isMainRunning=!1,J.cont&&J.cont(r.value)):E(r.value,z,"",b)}catch(e){J.isCancelled&&Q("error","uncaught at "+q,e.message),J.isMainRunning=!1,J.cont(e,!0)}}function T(t,n){e._isRunning=!1,X.close(),n?(t instanceof Error&&(t.sagaStack="at "+q+" \n "+(t.sagaStack||t.stack)),$.cont||(Q("error","uncaught",t.sagaStack||t.stack),t instanceof Error&&W&&W(t)),e._error=t,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(t)):(t===_&&v&&Q("info",q+" has been cancelled",""),e._result=t,e._deferredEnd&&e._deferredEnd.resolve(t)),$.cont&&$.cont(t,n),$.joiners.forEach(function(e){return e.cb(t,n)}),$.joiners=null}function E(e,t){function n(e,t){a||(a=!0,i.cancel=f.noop,K&&(t?K.effectRejected(o,e):K.effectResolved(o,e)),i(e,t))}var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",i=arguments[3],o=(0,f.uid)();K&&K.effectTriggered({effectId:o,parentEffectId:t,label:r,effect:e});var a=void 0;n.cancel=f.noop,i.cancel=function(){if(!a){a=!0;try{n.cancel()}catch(e){Q("error","uncaught at "+q,e.message)}n.cancel=f.noop,K&&K.effectCancelled(o)}};var s=void 0;return f.is.promise(e)?w(e,n):f.is.helper(e)?A(l(e),o,n):f.is.iterator(e)?S(e,o,q,n):f.is.array(e)?M(e,o,n):f.is.notUndef(s=p.asEffect.take(e))?P(s,n):f.is.notUndef(s=p.asEffect.put(e))?C(s,n):f.is.notUndef(s=p.asEffect.race(e))?R(s,o,n):f.is.notUndef(s=p.asEffect.call(e))?I(s,o,n):f.is.notUndef(s=p.asEffect.cps(e))?x(s,n):f.is.notUndef(s=p.asEffect.fork(e))?A(s,o,n):f.is.notUndef(s=p.asEffect.join(e))?O(s,n):f.is.notUndef(s=p.asEffect.cancel(e))?k(s,n):f.is.notUndef(s=p.asEffect.select(e))?D(s,n):f.is.notUndef(s=p.asEffect.actionChannel(e))?N(s,n):f.is.notUndef(s=p.asEffect.flush(e))?j(s,n):f.is.notUndef(s=p.asEffect.cancelled(e))?L(s,n):n(e)}function w(e,t){var n=e[f.CANCEL];"function"==typeof n&&(t.cancel=n),e.then(t,function(e){return t(e,!0)})}function S(e,t,n,r){c(e,B,U,H,V,t,n,r)}function P(e,t){var n=e.channel,r=e.pattern,i=e.maybe;n=n||X;var o=function(e){return e instanceof Error?t(e,!0):t((0,h.isEnd)(e)&&!i?y:e)};try{n.take(o,a(r))}catch(e){return t(e,!0)}t.cancel=o.cancel}function C(e,t){var n=e.channel,r=e.action,i=e.sync;(0,d.asap)(function(){var e=void 0;try{e=(n?n.put:U)(r)}catch(e){if(n||i)return t(e,!0);Q("error","uncaught at "+q,e.stack||e.message||e)}if(!i||!f.is.promise(e))return t(e);w(e,t)})}function I(e,t,n){var r=e.context,i=e.fn,o=e.args,a=void 0;try{a=i.apply(r,o)}catch(e){return n(e,!0)}return f.is.promise(a)?w(a,n):f.is.iterator(a)?S(a,t,i.name,n):n(a)}function x(e,t){var n=e.context,r=e.fn,i=e.args;try{!function(){var e=function(e,n){return f.is.undef(e)?t(n):t(e,!0)};r.apply(n,i.concat(e)),e.cancel&&(t.cancel=function(){return e.cancel()})}()}catch(e){return t(e,!0)}}function A(e,t,n){var r=e.context,i=e.fn,o=e.args,a=e.detached,s=u({context:r,fn:i,args:o});try{(0,d.suspend)();var l=c(s,B,U,H,V,t,i.name,a?null:f.noop);a?n(l):s._isRunning?(Z.addTask(l),n(l)):s._error?Z.abort(s._error):n(l)}finally{(0,d.flush)()}}function O(e,t){e.isRunning()?function(){var n={task:$,cb:t};t.cancel=function(){return(0,f.remove)(e.joiners,n)},e.joiners.push(n)}():e.isAborted()?t(e.error(),!0):t(e.result())}function k(e,t){e.isRunning()&&e.cancel(),t()}function M(e,t,n){function r(){i===a.length&&(o=!0,n(a))}if(!e.length)return n([]);var i=0,o=void 0,a=Array(e.length),s=e.map(function(e,t){var s=function(e,s){o||(s||(0,h.isEnd)(e)||e===y||e===_?(n.cancel(),n(e,s)):(a[t]=e,i++,r()))};return s.cancel=f.noop,s});n.cancel=function(){o||(o=!0,s.forEach(function(e){return e.cancel()}))},e.forEach(function(e,n){return E(e,t,n,s[n])})}function R(e,t,n){var r=void 0,i=Object.keys(e),a={};i.forEach(function(e){var t=function(t,i){r||(i?(n.cancel(),n(t,!0)):(0,h.isEnd)(t)||t===y||t===_||(n.cancel(),r=!0,n(o({},e,t))))};t.cancel=f.noop,a[e]=t}),n.cancel=function(){r||(r=!0,i.forEach(function(e){return a[e].cancel()}))},i.forEach(function(n){r||E(e[n],t,n,a[n])})}function D(e,t){var n=e.selector,r=e.args;try{var o=n.apply(undefined,[H()].concat(i(r)));t(o)}catch(e){t(e,!0)}}function N(e,t){var n=e.pattern,r=e.buffer,i=a(n);i.pattern=n,t((0,h.eventChannel)(B,r||g.buffers.fixed(),i))}function L(e,t){t(!!J.isCancelled)}function j(e,t){e.flush(t)}function F(e,t,i,a){var s,u,l;return i._deferredEnd=null,u={},o(u,f.TASK,!0),o(u,"id",e),o(u,"name",t),s="done",l={},l[s]=l[s]||{},l[s].get=function(){if(i._deferredEnd)return i._deferredEnd.promise;var e=(0,f.deferred)();return i._deferredEnd=e,i._isRunning||(i._error?e.reject(i._error):e.resolve(i._result)),e.promise},o(u,"cont",a),o(u,"joiners",[]),o(u,"cancel",n),o(u,"isRunning",function(){return i._isRunning}),o(u,"isCancelled",function(){return i._isCancelled}),o(u,"isAborted",function(){return i._isAborted}),o(u,"result",function(){return i._result}),o(u,"error",function(){return i._error}),r(u,l),u}var B=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return f.noop},U=arguments.length>2&&arguments[2]!==undefined?arguments[2]:f.noop,H=arguments.length>3&&arguments[3]!==undefined?arguments[3]:f.noop,V=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},z=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0,q=arguments.length>6&&arguments[6]!==undefined?arguments[6]:"anonymous",G=arguments[7];(0,f.check)(e,f.is.iterator,m);var K=V.sagaMonitor,Y=V.logger,W=V.onError,Q=Y||f.log,X=(0,h.stdChannel)(B);b.cancel=f.noop;var $=F(z,q,e,G),J={name:q,cancel:t,isRunning:!0},Z=s(q,J,T);return G&&(G.cancel=n),e._isRunning=!0,b(),$}Object.defineProperty(t,"__esModule",{value:!0}),t.TASK_CANCEL=t.CHANNEL_END=t.NOT_ITERATOR_ERROR=undefined,t["default"]=c;var f=n(356),d=n(360),p=n(355),h=n(361),g=n(362),v=!1,m=t.NOT_ITERATOR_ERROR="proc first argument (Saga function result) must be an iterator",y=t.CHANNEL_END={toString:function(){return"@@redux-saga/CHANNEL_END"}},_=t.TASK_CANCEL={toString:function(){return"@@redux-saga/TASK_CANCEL"}},b={wildcard:function(){return f.kTrue},"default":function(e){return function(t){return t.type===e}},array:function(e){return function(t){return e.some(function(e){return e===t.type})}},predicate:function(e){return function(t){return e(t)}}}},function(e,t){"use strict";function n(e){try{i(),e()}finally{o()}}function r(e){s?a.push(e):n(e)}function i(){s++}function o(){!--s&&a.length&&n(a.shift())}Object.defineProperty(t,"__esModule",{value:!0}),t.asap=r,t.suspend=i,t.flush=o;var a=[],s=0},function(e,t,n){"use strict";function r(){function e(e){return n.push(e),function(){return(0,u.remove)(n,e)}}function t(e){for(var t=n.slice(),r=0,i=t.length;r<i;r++)t[r](e)}var n=[];return{subscribe:e,emit:t}}function i(){function e(){if(a&&s.length)throw(0,u.internalErr)("Cannot have a closed channel with pending takers");if(s.length&&!o.isEmpty())throw(0,u.internalErr)("Cannot have pending takers with non empty buffer")}function t(t){if(e(),(0,u.check)(t,u.is.notUndef,h),!a){if(!s.length)return o.put(t);for(var n=0;n<s.length;n++){var r=s[n];if(!r[u.MATCH]||r[u.MATCH](t))return s.splice(n,1),r(t)}}}function n(t){e(),(0,u.check)(t,u.is.func,"channel.take's callback must be a function"),a&&o.isEmpty()?t(f):o.isEmpty()?(s.push(t),t.cancel=function(){return(0,u.remove)(s,t)}):t(o.take())}function r(t){if(e(),(0,u.check)(t,u.is.func,"channel.flush' callback must be a function"),a&&o.isEmpty())return void t(f);t(o.flush())}function i(){if(e(),!a&&(a=!0,s.length)){var t=s;s=[];for(var n=0,r=t.length;n<r;n++)t[n](f)}}var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:l.buffers.fixed(),a=!1,s=[];return(0,u.check)(o,u.is.buffer,p),{take:n,put:t,flush:r,close:i,get __takers__(){return s},get __closed__(){return a}}}function o(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:l.buffers.none(),n=arguments[2];arguments.length>2&&(0,u.check)(n,u.is.func,"Invalid match function passed to eventChannel");var r=i(t),o=e(function(e){d(e)?r.close():n&&!n(e)||r.put(e)});if(!u.is.func(o))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,flush:r.flush,close:function(){r.__closed__||(r.close(),o())}}}function a(e){var t=o(e);return s({},t,{take:function(e,n){arguments.length>1&&((0,u.check)(n,u.is.func,"channel.take's matcher argument must be a function"),e[u.MATCH]=n),t.take(e)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.UNDEFINED_INPUT_ERROR=t.INVALID_BUFFER=t.isEnd=t.END=undefined;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.emitter=r,t.channel=i,t.eventChannel=o,t.stdChannel=a;var u=n(356),l=n(362),c="@@redux-saga/CHANNEL_END",f=t.END={type:c},d=t.isEnd=function(e){return e&&e.type===c},p=t.INVALID_BUFFER="invalid buffer passed to channel factory function",h=t.UNDEFINED_INPUT_ERROR="Saga was provided with an undefined action"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,i=0,s=0,c=function(t){n[i]=t,i=(i+1)%e,r++},f=function(){if(0!=r){var t=n[s];return n[s]=null,r--,s=(s+1)%e,t}},d=function(){for(var e=[];r;)e.push(f());return e};return{isEmpty:function(){return 0==r},put:function(f){if(r<e)c(f);else{var p=void 0;switch(t){case a:throw new Error(o);case u:n[i]=f,i=(i+1)%e,s=i;break;case l:p=2*e,n=d(),r=n.length,i=n.length,s=0,n.length=p,e=p,c(f)}}},take:f,flush:d}}Object.defineProperty(t,"__esModule",{value:!0}),t.buffers=t.BUFFER_OVERFLOW=undefined;var i=n(356),o=t.BUFFER_OVERFLOW="Channel's Buffer overflow!",a=1,s=2,u=3,l=4,c={isEmpty:i.kTrue,put:i.noop,take:i.noop};t.buffers={none:function(){return c},fixed:function(e){return r(e,a)},dropping:function(e){return r(e,s)},sliding:function(e){return r(e,u)},expanding:function(e){return r(e,l)}}},function(e,t,n){"use strict";function r(e,t){function n(t,n){if(o===h)return p;if(n)throw o=h,n;i&&i(t);var r=e[o](),a=u(r,3),s=a[0],l=a[1],c=a[2];return o=s,i=c,o===h?p:l}var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"iterator",i=void 0,o=t;return(0,c.makeIterator)(n,function(e){return n(null,e)},r,!0)}function i(e){return Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function o(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s={done:!1,value:(0,f.take)(e)},u=function(e){return{done:!1,value:f.fork.apply(undefined,[t].concat(o,[e]))}},c=void 0,d=function(e){return c=e};return r({q1:function(){return["q2",s,d]},q2:function(){return c===l.END?[h]:["q1",u(c)]}},"q1","takeEvery("+i(e)+", "+t.name+")")}function a(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s={done:!1,value:(0,f.take)(e)},u=function(e){return{done:!1,value:f.fork.apply(undefined,[t].concat(o,[e]))}},c=function(e){return{done:!1,value:(0,f.cancel)(e)}},d=void 0,p=void 0,g=function(e){return d=e},v=function(e){return p=e};return r({q1:function(){return["q2",s,v]},q2:function(){return p===l.END?[h]:d?["q3",c(d)]:["q1",u(p),g]},q3:function(){return["q1",u(p),g]}},"q1","takeLatest("+i(e)+", "+t.name+")")}function s(e,t,n){for(var o=arguments.length,a=Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];var u=void 0,p=void 0,g={done:!1,value:(0,f.actionChannel)(t,d.buffers.sliding(1))},v=function(){return{done:!1,value:(0,f.take)(p,t)}},m=function(e){return{done:!1,value:f.fork.apply(undefined,[n].concat(a,[e]))}},y={done:!1,value:(0,f.call)(c.delay,e)},_=function(e){return u=e},b=function(e){return p=e};return r({q1:function(){return["q2",g,b]},q2:function(){return["q3",v(),_]},q3:function(){return u===l.END?[h]:["q4",m(u)]},q4:function(){return["q2",y]}},"q1","throttle("+i(t)+", "+n.name+")")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.takeEvery=o,t.takeLatest=a,t.throttle=s;var l=n(361),c=n(356),f=n(355),d=n(362),p={done:!0,value:undefined},h={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){function e(e){function o(e,n,r){return(0,u["default"])(e.apply(undefined,i(n)),d.subscribe,p,s,t,r,e.name)}var s=e.getState,f=e.dispatch;n=o;var d=(0,c.emitter)(),p=(0,a.wrapSagaDispatch)(f);return function(e){return function(t){r&&r.actionDispatched(t);var n=e(t);return t[a.SAGA_ACTION]?d.emit(t):(0,l.asap)(function(){return d.emit(t)}),n}}}var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=void 0,r=t.sagaMonitor;if(a.is.func(t))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(t.logger&&!a.is.func(t.logger))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(t.onerror&&!a.is.func(t.onerror))throw new Error("`options.onerror` passed to the Saga middleware is not a function!");return e.run=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];(0,a.check)(n,a.is.notUndef,"Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware"),(0,a.check)(e,a.is.func,"sagaMiddleware.run(saga, ...args): saga argument must be a Generator function!");var s=(0,a.uid)();r&&r.effectTriggered({effectId:s,root:!0,parentEffectId:0,effect:{root:!0,saga:e,args:i}});var u=n(e,i,s);return r&&r.effectResolved(s,u),u},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(356),s=n(359),u=r(s),l=n(360),c=n(361)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(356);Object.defineProperty(t,"TASK",{enumerable:!0,get:function(){return r.TASK}}),Object.defineProperty(t,"SAGA_ACTION",{enumerable:!0,get:function(){return r.SAGA_ACTION}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return r.noop}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return r.is}}),Object.defineProperty(t,"deferred",{enumerable:!0,get:function(){return r.deferred}}),Object.defineProperty(t,"arrayOfDeffered",{enumerable:!0,get:function(){return r.arrayOfDeffered}}),Object.defineProperty(t,"createMockTask",{enumerable:!0,get:function(){return r.createMockTask}});var i=n(355);Object.defineProperty(t,"CHANNEL_END",{enumerable:!0,get:function(){return i.CHANNEL_END}}),Object.defineProperty(t,"asEffect",{enumerable:!0,get:function(){return i.asEffect}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){var t=(0,f.getItemScopeProperty)(e);return function(n,r,h){var v=(0,d.connect)(n?function(r,i){var o=n((0,f.addItemScope)(r,e,i[t]),i);return"function"==typeof o?function(n,r){return o((0,f.addItemScope)(n,e,r[t]),r)}:o}:null,r?function(n,i){var o=function(r){return(0,c.ensureItemActionId)(r,e,i[t]),n(r)};return"function"==typeof r?r(o,i):(0,p.bindActionCreators)(r,o)}:null,h);return function(e){var n=v(e),r=function(e){function r(){return o(this,r),a(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return s(r,e),l(r,[{key:"render",
value:function(){var e=u({},this.props,i({},t,this.context[t]));return g["default"].createElement(n,e)}}]),r}(g["default"].Component);return r.contextTypes=i({},t,g["default"].PropTypes.number),r}}};var c=n(352),f=n(349),d=n(367),p=n(321),h=n(303),g=r(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.createProvider=t.Provider=undefined;var i=n(368),o=r(i),a=n(376),s=r(a),u=n(380),l=r(u);t.Provider=o["default"],t.createProvider=i.createProvider,t.connectAdvanced=s["default"],t.connect=l["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"store",n=arguments[1],r=n||t+"Subscription",s=function(e){function n(r,a){i(this,n);var s=o(this,e.call(this,r,a));return s[t]=r.store,s}return a(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[r]=null,e},n.prototype.render=function(){return u.Children.only(this.props.children)},n}(u.Component);return s.propTypes={store:f.storeShape.isRequired,children:c["default"].element.isRequired},s.childContextTypes=(e={},e[t]=f.storeShape.isRequired,e[r]=f.subscriptionShape,e),s.displayName="Provider",s}t.__esModule=!0,t.createProvider=s;var u=n(303),l=n(369),c=r(l),f=n(374),d=n(375);r(d);t["default"]=s()},function(e,t,n){e.exports=n(370)()},function(e,t,n){"use strict";var r=n(371),i=n(372),o=n(373);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){"use strict";function t(e,t,r,i,o,a,s,u){if(n(t),!e){var l;if(t===undefined)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,a,s,u],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};e.exports=t},function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.storeShape=t.subscriptionShape=undefined;var i=n(369),o=r(i);t.subscriptionShape=o["default"].shape({trySubscribe:o["default"].func.isRequired,tryUnsubscribe:o["default"].func.isRequired,notifyNestedSubs:o["default"].func.isRequired,isSubscribed:o["default"].func.isRequired}),t.storeShape=o["default"].shape({subscribe:o["default"].func.isRequired,dispatch:o["default"].func.isRequired,getState:o["default"].func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(){}function l(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function c(e){var t,n,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},c=r.getDisplayName,d=c===undefined?function(e){return"ConnectAdvanced("+e+")"}:c,h=r.methodName,m=h===undefined?"connectAdvanced":h,E=r.renderCountProp,w=E===undefined?undefined:E,S=r.shouldHandleStateChanges,P=S===undefined||S,C=r.storeKey,I=C===undefined?"store":C,x=r.withRef,A=x!==undefined&&x,O=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),k=I+"Subscription",M=b++,R=(t={},t[I]=_.storeShape,t[k]=_.subscriptionShape,t),D=(n={},n[k]=_.subscriptionShape,n);return function(t){(0,g["default"])("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=d(n),s=f({},O,{getDisplayName:d,methodName:m,renderCountProp:w,shouldHandleStateChanges:P,storeKey:I,withRef:A,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=function(n){function c(e,t){i(this,c);var a=o(this,n.call(this,e,t));return a.version=M,a.state={},a.renderCount=0,a.store=e[I]||t[I],a.propsMode=Boolean(e[I]),a.setWrappedInstance=a.setWrappedInstance.bind(a),(0,g["default"])(a.store,'Could not find "'+I+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+I+'" as a prop to "'+r+'".'),a.initSelector(),a.initSubscription(),a}return a(c,n),c.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[k]=t||this.context[k],e},c.prototype.componentDidMount=function(){P&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,g["default"])(A,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},c.prototype.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=l(t,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(P){var e=(this.propsMode?this.props:this.context)[k];this.subscription=new y["default"](this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(T)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=undefined,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(e){if(!(A||w||this.propsMode&&this.subscription))return e;var t=f({},e);return A&&(t.ref=this.setWrappedInstance),w&&(t[w]=this.renderCount++),this.propsMode&&this.subscription&&(t[k]=this.subscription),t},c.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,v.createElement)(t,this.addExtraProps(e.props))},c}(v.Component);return c.WrappedComponent=t,c.displayName=r,c.childContextTypes=D,c.contextTypes=R,c.propTypes=R,(0,p["default"])(c,t)}}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=c;var d=n(377),p=r(d),h=n(378),g=r(h),v=n(303),m=n(379),y=r(m),_=n(374),b=0,T={}},function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},r="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,i,o){if("string"!=typeof i){var a=Object.getOwnPropertyNames(i);r&&(a=a.concat(Object.getOwnPropertySymbols(i)));for(var s=0;s<a.length;++s)if(!(t[a[s]]||n[a[s]]||o&&o[a[s]]))try{e[a[s]]=i[a[s]]}catch(e){}}return e}},function(e){"use strict";var t=function(e,t,n,r,i,o,a,s){if(!e){var u;if(t===undefined)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=t},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}t.__esModule=!0;var i=null,o={notify:function(){}},a=function(){function e(t,r,i){n(this,e),this.store=t,this.parentSub=r,this.onStateChange=i,this.unsubscribe=null,this.listeners=o}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}();t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function a(e,t){return e===t}function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.connectHOC,n=t===undefined?c["default"]:t,r=e.mapStateToPropsFactories,s=r===undefined?v["default"]:r,l=e.mapDispatchToPropsFactories,f=l===undefined?h["default"]:l,p=e.mergePropsFactories,g=p===undefined?y["default"]:p,m=e.selectorFactory,_=m===undefined?b["default"]:m;return function(e,t,r){var l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},c=l.pure,p=c===undefined||c,h=l.areStatesEqual,v=h===undefined?a:h,m=l.areOwnPropsEqual,y=m===undefined?d["default"]:m,b=l.areStatePropsEqual,T=b===undefined?d["default"]:b,E=l.areMergedPropsEqual,w=E===undefined?d["default"]:E,S=i(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=o(e,s,"mapStateToProps"),C=o(t,f,"mapDispatchToProps"),I=o(r,g,"mergeProps");return n(_,u({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:C,initMergeProps:I,pure:p,areStatesEqual:v,areOwnPropsEqual:y,areStatePropsEqual:T,areMergedPropsEqual:w},S))}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=s;var l=n(376),c=r(l),f=n(381),d=r(f),p=n(382),h=r(p),g=n(385),v=r(g),m=n(386),y=r(m),_=n(387),b=r(_);t["default"]=s()},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}t.__esModule=!0,t["default"]=r;var i=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):undefined}function i(e){return e?undefined:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function o(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)(function(t){return(0,a.bindActionCreators)(e,t)}):undefined}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=o;var a=n(321),s=n(383);t["default"]=[r,i,o]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&e.dependsOnOwnProps!==undefined?Boolean(e.dependsOnOwnProps):1!==e.length}function a(e){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}}t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=o,t.wrapMapToPropsFunc=a;var s=n(384);r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){(0,a["default"])(e)||(0,u["default"])(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t["default"]=i;var o=n(323),a=r(o),s=n(375),u=r(s)},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapStateToProps"):undefined}function i(e){return e?undefined:(0,o.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=i;var o=n(383);t["default"]=[r,i]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return u({},n,e,t)}function o(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}function a(e){return"function"==typeof e?o(e):undefined}function s(e){return e?undefined:function(){return i}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=i,t.wrapMergePropsFunc=o,t.whenMergePropsIsFunction=a,t.whenMergePropsIsOmitted=s;var l=n(384);r(l);t["default"]=[a,s]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function a(e,t,n,r,i){function o(i,o){return h=i,g=o,v=e(h,g),m=t(r,g),y=n(v,m,g),p=!0,y}function a(){return v=e(h,g),t.dependsOnOwnProps&&(m=t(r,g)),y=n(v,m,g)}function s(){return e.dependsOnOwnProps&&(v=e(h,g)),t.dependsOnOwnProps&&(m=t(r,g)),y=n(v,m,g)}function u(){var t=e(h,g),r=!d(t,v);return v=t,r&&(y=n(v,m,g)),y}function l(e,t){var n=!f(t,g),r=!c(e,h);return h=e,g=t,n&&r?a():n?s():r?u():y}var c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1,h=void 0,g=void 0,v=void 0,m=void 0,y=void 0;return function(e,t){return p?l(e,t):o(e,t)}}function s(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,u=i(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=n(e,u),c=r(e,u),f=s(e,u);return(u.pure?a:o)(l,c,f,e,u)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=o,t.pureFinalPropsSelectorFactory=a,t["default"]=s;var u=n(388);r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,s["default"])("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function o(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}t.__esModule=!0,t["default"]=o;var a=n(375),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){var t=function(t){function n(){return o(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),u(n,[{key:"getChildContext",value:function(){return i({},(0,l.getItemScopeProperty)(e),this.props.itemId)}},{key:"render",value:function(){return this.props.children}}]),n}(f["default"].Component);return t.childContextTypes=i({},(0,l.getItemScopeProperty)(e),f["default"].PropTypes.number),t};var l=n(349),c=n(303),f=r(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.collection,n=e.collectionName,r=e.dispatch,i=e.attributes,a=e.includeConfiguration;(l["default"].Collection&&t instanceof l["default"].Collection?o["default"]:s["default"])({collection:t,collectionName:n,dispatch:r,attributes:i,includeConfiguration:a})};var i=n(391),o=r(i),a=n(393),s=r(a),u=n(394),l=r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=function(e){function t(e){return h.some(function(t){return e.hasChanged(t)})}function n(e){return(0,s["default"])(f,e.attributes,p&&e.configuration.attributes)}function r(e){return e[Object.keys(e)[0]]}var a=e.collection,u=e.dispatch,l=e.collectionName,c=e.attributes,f=c===undefined?["id"]:c,d=e.includeConfiguration,p=d!==undefined&&d;u((0,o.reset)({collectionName:l,items:a.map(n)})),a.on("add",function(e){e.isNew()||u((0,o.add)({collectionName:l,attributes:n(e)}))}),a.on("change:id",function(e){u((0,o.add)({collectionName:l,attributes:n(e)}))}),a.on("change",function(e){t(e)&&u((0,o.change)({collectionName:l,attributes:n(e)}))}),p&&a.on("change:configuration",function(e){u((0,o.change)({collectionName:l,attributes:n(e)}))}),a.on("remove",function(e){setTimeout(function(){u((0,o.remove)({collectionName:l,attributes:n(e)}))},0)});var h=f.map(function(e){return"object"==(void 0===e?"undefined":i(e))?r(e):e})};var o=n(343),a=n(392),s=r(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=function(e,t,n){var a=o.camelize.deep(e.reduce(function(e,n){if("object"==(void 0===n?"undefined":i(n))){var r=Object.keys(n)[0],o=n[r];e[r]=t[o]}else e[n]=t[n];return e},{}));return n?r({},a,o.camelize.deep(n)):a};var o=n(309)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.collection,n=e.collectionName,r=e.dispatch,o=e.attributes,s=o===undefined?["id"]:o,u=e.includeConfiguration,l=u!==undefined&&u;r((0,i.reset)({collectionName:n,items:t.map(function(e){return(0,a["default"])(s,e,l&&e.configuration)})}))};var i=n(343),o=n(392),a=r(o)},function(e){e.exports=Backbone},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([s.PAGE_SCHEDULE_UNPREPARE,s.PAGE_DID_PREPARE,s.PAGE_WILL_ACTIVATE],i);case 2:case"end":return e.stop()}},u[0],this)}function i(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.type!=s.PAGE_SCHEDULE_UNPREPARE){t.next=5;break}return t.next=3,(0,a.call)(o.delay,5e3);case 3:return t.next=5,(0,a.put)((0,s.pageDidUnprepare)());case 5:case"end":return t.stop()}},u[1],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(357),a=n(353),s=n(299),u=[r,i].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e instanceof p["default"].Collection){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,c.takeEvery)(u.UPDATE_PAGE_ATTRIBUTE,regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.call)(a,{pagesCollection:e,id:(0,l.getItemIdFromItemAction)(n),name:n.payload.name,value:n.payload.value});case 2:case"end":return t.stop()}},t,this)}));case 4:return t.next=6,(0,c.takeEvery)(u.UPDATE_PAGE_LINK,regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.call)(o,{pagesCollection:e,pageId:(0,l.getItemIdFromItemAction)(n),linkId:n.payload.linkId,name:n.payload.name,value:n.payload.value});case 2:case"end":return t.stop()}},t,this)}));case 6:case"end":return t.stop()}},h[0],this)}function o(e){var t=e.pagesCollection,n=e.pageId,r=e.linkId,i=e.name,o=e.value,a=s(t,n).pageLinks().get(r);if(!a)throw new Error("Could not find page link with id "+r+" in page with perma id "+n+".");a.set(i,o)}function a(e){var t=e.pagesCollection,n=e.id,r=e.name,i=e.value;s(t,n).configuration.set(r,i)}function s(e,t){var n=e.where({perma_id:t})[0];if(!n)throw new Error("Could not find page with perma id "+t+".");return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=n(299),l=n(352),c=n(357),f=n(353),d=n(394),p=r(d),h=[i].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return parseInt(e.attr("id"),10)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.Component,n=e.store,r=e.selectTargetElement,o=r===undefined?function(e){return e[0]}:r;return{scroller:!1,enhance:function(e){d["default"].render(c["default"].createElement(p.Provider,{store:n},c["default"].createElement(h,{itemId:i(e)},c["default"].createElement(u["default"],{mediaContext:{page:e.page("instance")}},c["default"].createElement(t,null)))),o(e)),n.dispatch((0,a.enhance)({id:i(e)}))},preload:function(e){n.dispatch((0,a.pageDidPreload)({id:i(e)}))},prepare:function(e){n.dispatch((0,a.pageDidPrepare)({id:i(e)}))},unprepare:function(e){n.dispatch((0,a.pageScheduleUnprepare)({id:i(e)}))},activating:function(e,t,r){n.dispatch((0,a.pageWillActivate)({id:i(e),position:r.position}))},activated:function(e){n.dispatch((0,a.pageDidActivate)({id:i(e)}))},deactivating:function(e){n.dispatch((0,a.pageWillDeactivate)({id:i(e)}))},deactivated:function(e){n.dispatch((0,a.pageDidDeactivate)({id:i(e)}))},resize:function(e){n.dispatch((0,a.pageDidResize)({id:i(e)}))},update:function(e,t){pageflow.commonPageCssClasses.updateCommonPageCssClasses(e,t)},cleanup:function(e){n.dispatch((0,a.cleanup)({id:i(e)})),d["default"].unmountComponentAtNode(e[0])}}};var o=n(346),a=n(299),s=n(398),u=r(s),l=n(303),c=r(l),f=n(399),d=r(f),p=n(367),h=(0,o.createItemScopeProvider)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=r(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"getChildContext",value:function(){return{mediaContext:this.props.mediaContext}}},{key:"render",value:function(){return this.props.children}}]),t}(l["default"].Component);t["default"]=c,c.childContextTypes={mediaContext:l["default"].PropTypes.object}},function(e){e.exports=ReactDOM},function(e,t){"use strict";function n(e,t){return Object.keys(t).reduce(function(n,r){return"function"==typeof e[r]?n[r]=function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e[r].apply(this,i),t[r].apply(this,i)}:n[r]=t[r],n},r({},e))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=r(u),c=n(304),f=r(c),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:"shadow_wrapper"},l["default"].createElement("div",{className:(0,f["default"])("shadow",this.props.className),style:this.style()}))}},{key:"style",value:function(){if("gradientOpacity"in this.props.page)return{opacity:this.props.page.gradientOpacity/100}}}]),t}(l["default"].Component);t["default"]=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(o["default"],null,React.createElement(s["default"],null,e.children))};var i=n(403),o=r(i),a=n(404),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return o["default"].createElement("div",{className:"content",onTouchStart:e.onInteraction,onMouseMove:e.onInteraction},e.children)};var i=n(303),o=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=r(u),c=n(405),f=r(c),d=n(318),p=n(345),h=n(309),g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.enabled&&e.enabled?this.refs.scroller.enable():this.props.enabled&&!e.enabled&&this.refs.scroller.disable(),this.props.initialScrollerPosition!==e.initialScrollerPosition&&e.initialScrollerPosition&&this.refs.scroller.resetPosition({position:e.initialScrollerPosition})}},{key:"getChildContext",value:function(){var e=this;return this._pageScroller=this._pageScroller||{disable:function(){e.refs.scroller.disable()},enable:function(){e.refs.scroller.enable()}},{pageScroller:this._pageScroller}}},{key:"render",value:function(){return l["default"].createElement(f["default"],{ref:"scroller",className:this.props.className},l["default"].createElement("div",{className:"contentWrapper"},this.props.children))}}]),t}(l["default"].Component);g.propTypes={className:l["default"].PropTypes.string},g.childContextTypes={pageScroller:l["default"].PropTypes.object},t["default"]=(0,d.connectInPage)((0,h.combineSelectors)({enabled:(0,p.pageIsActivated)(),initialScrollerPosition:(0,p.initialScrollerPosition)()}))(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),
t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=n(399),c=r(l),f=n(304),d=r(f),p=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return React.createElement("div",{ref:"wrapper",className:(0,d["default"])("scroller",this.props.className)},React.createElement("div",null,this.props.children))}},{key:"componentDidMount",value:function(){if("undefined"!=typeof jQuery){var e=jQuery(c["default"].findDOMNode(this.refs.wrapper));e.scroller(),window.sss=this.scroller=e.scroller("instance")}}},{key:"componentDidUpdate",value:function(){this.scroller.refresh()}},{key:"enable",value:function(){this.scroller.enable(),this.scroller.afterAnimationHook()}},{key:"disable",value:function(){this.scroller.disable()}},{key:"resetPosition",value:function(e){this.scroller.resetPosition(e)}},{key:"resetPosition",value:function(e){this.scroller.resetPosition(e)}}]),t}(u.Component);t["default"]=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=r(u),c=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("div",{className:"page_header"},l["default"].createElement("h2",null,l["default"].createElement("span",{className:"tagline"},this.props.page.tagline),l["default"].createElement("span",{className:"title"},this.props.page.title),l["default"].createElement("span",{className:"subtitle"},this.props.page.subtitle)))}}]),t}(l["default"].Component);t["default"]=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(303),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){return React.createElement("div",{className:"contentText"},React.createElement("p",{dangerouslySetInnerHTML:this.text()}),this.props.children)}},{key:"text",value:function(){return{__html:this.props.page.text}}}]),t}(s.Component);t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=r(u),c=n(367),f=n(309),d=n(409),p=n(345),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return l["default"].createElement("a",{href:this._href(),className:this.props.className,onClick:this._handleClick.bind(this)},this.props.children)}},{key:"_href",value:function(){return this._targetPage()?"#"+this._targetPage().permaId:"#missing"}},{key:"_handleClick",value:function(e){this._targetPage()&&pageflow.slides.goToByPermaId(this._targetPage().permaId,{transition:this.props.pageLink.pageTransition}),e.preventDefault()}},{key:"_targetPage",value:function(){return this.props.targetPage}}]),t}(l["default"].Component);t["default"]=(0,c.connect)((0,f.combineSelectors)({targetPage:(0,p.pageAttributes)({id:(0,d.prop)("pageLink.targetPageId")})}))(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return function(t,n){var r=e.split(".");if(!(r[0]in n))throw new Error("Missing required prop "+r[0]+".");return r.reduce(function(e,t){return e&&e[t]},n)}}function o(e){return function(t,n,r){return(0,s["default"])(e,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prop=i,t.has=o;var a=n(316),s=r(a)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return React.createElement("div",{className:a(e)})}function a(e){return(0,m["default"])({load_image:e.lazy&&e.loaded},e.className,s(e.pageType),u(e))}function s(e){return e?"is_"+e.name:"is_dangling"}function u(e){var t=l(e);if(t)return h(e,t)}function l(e){return f(e).find(function(t){if(t.condition&&!c(t.condition,e.page))return!1;var n=g(e,t);return e.fileExists((0,T.camelize)(t.collectionName),n)})}function c(e,t){var n=t[(0,T.camelize)(e.attribute)];return e.negated?n!=e.value:n==e.value}function f(e){return[d(e)].concat(i(p(e.pageType)))}function d(e){return{id:e.customThumbnailId,cssClassPrefix:"pageflow_image_file",collectionName:"image_files"}}function p(e){return e?e.thumbnailCandidates:[]}function h(e,t){return[e.lazy?"lazy":null,t.cssClassPrefix,e.imageStyle,g(e,t)].filter(Boolean).join("_")}function g(e,t){return"id"in t?t.id:e.page[(0,T.camelize)(t.attribute)]}Object.defineProperty(t,"__esModule",{value:!0}),t.PageThumbnail=o;var v=n(304),m=r(v),y=n(318),_=n(411),b=n(412),T=n(309);o.defaultProps={imageStyle:"navigation_thumbnail_large"},t["default"]=(0,y.connectInPage)((0,T.combineSelectors)({pageType:(0,_.pageType)({page:function(e){return e.page}}),fileExists:(0,b.fileExists)()}))(o)},function(e,t,n){"use strict";function r(e){var t=e.page;return function(e,n){var r="function"==typeof t?t(n):t;return r?e.pageTypes[(0,i.camelize)(r.type)]:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageType=r;var i=n(309)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return(0,l.memoizedSelector)((0,u.createItemSelector)(e,{namespace:"files"})(t),function(e){return e.fileUrlTemplates},function(e){return e.modelTypes},function(t,n,r){return s(e,t,n,r)})}function o(e,t){var n=t.parent;return(0,l.memoizedSelector)((0,u.createItemsSelector)(e,{namespace:"files"}),n,function(e){return e.fileUrlTemplates},function(e){return e.modelTypes},function(t,n,r,i){return n?Object.keys(t).reduce(function(o,a){var u=t[a];return u.id&&u.parentFileId==n.id&&u.parentFileModelType==n.modelType&&o.push(s(e,u,r,i)),o},[]):[]})}function a(){return(0,l.memoizedSelector)(function(e){return e.files},function(e){return function(t,n){return n&&!!(0,u.createItemSelector)(t)({id:n})(e)}})}function s(e,t,n,r){return(0,p["default"])(e,(0,f["default"])(e,t,n),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.file=i,t.nestedFiles=o,t.fileExists=a;var u=n(346),l=n(309),c=n(413),f=r(c),d=n(414),p=r(d)},function(e,t){"use strict";function n(e,t,n,i){var o=i[e],a=o[n];if(a)return a.replace(":id_partition",r(t.id)).replace(":basename",t.basename)}function r(e){return i(o(e,9),"/")}function i(e){return e.replace(/./g,function(e,t,n){return t&&(n.length-t)%3==0?"/"+e:e})}function o(e,t){return(Array(t).fill(0).join("")+e).slice(-t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t,r){if(!t)return null;if(!r[e])throw new Error("No file url templates found for "+e);var i=t.variants||Object.keys(r[e]),o=i.reduce(function(i,o){var a=n(e,t,o,r);return a&&(i[o]=a),i},{});return a({urls:o},t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t,r){if(!t)return null;if(!r[e])throw new Error("Could not find model type for collection name "+e);return n({},t,{collectionName:e,modelType:r[e]})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(410),o=r(i),a=n(318),s=n(345),u=n(309);t["default"]=(0,a.connectInPage)((0,u.combineSelectors)({loaded:(0,s.pageIsPreloaded)(),lazy:!0}))(o["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return c["default"].createElement(v["default"],e,c["default"].createElement("span",{className:"hint"},e.hint),c["default"].createElement(h["default"],u({},e.infoBox,{hiddenDuringPlayback:e.infoBoxHiddenDuringPlayback})),c["default"].createElement("div",{className:s(e)},o(e),c["default"].createElement("div",{className:"play_button"},c["default"].createElement(b["default"],{title:e.playButtonTitle,iconName:e.playButtonIconName,isPlaying:e.isPlaying,onClick:e.onPlayButtonClick})),a(e),c["default"].createElement("div",{className:"control_bar_text"},e.controlBarText)),c["default"].createElement(O["default"],{standAlone:!1,additionalButtons:e.additionalMenuBarButtons,onAdditionalButtonClick:e.onAdditionalButtonClick,onAdditionalButtonMouseEnter:e.onAdditionalButtonMouseEnter,onAdditionalButtonMouseLeave:e.onAdditionalButtonMouseLeave,qualityMenuButtonTitle:e.qualityMenuButtonTitle,qualityMenuItems:e.qualityMenuItems,onQualityMenuItemClick:e.onQualityMenuItemClick,textTracksMenuButtonTitle:e.textTracksMenuButtonTitle,textTracksMenuItems:e.textTracksMenuItems,onTextTracksMenuItemClick:e.onTextTracksMenuItemClick}))}function o(e){if(e.isLoading)return c["default"].createElement(y["default"],e)}function a(e){if(e.hasProgress)return c["default"].createElement("div",{className:"player_controls-progress"},c["default"].createElement(E["default"],e),c["default"].createElement(S["default"],null),c["default"].createElement(C["default"],e),c["default"].createElement(x["default"],e))}function s(e){return(0,d["default"])("vjs-control-bar",{with_quality_menu_present:e.qualityMenuItems&&e.qualityMenuItems.length>=2,with_text_tracks_menu_present:e.textTracksMenuItems&&e.textTracksMenuItems.length>=2})}Object.defineProperty(t,"__esModule",{value:!0}),t.isInfoBoxEmpty=undefined;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(303),c=r(l),f=n(304),d=r(f),p=n(417),h=r(p),g=n(418),v=r(g),m=n(419),y=r(m),_=n(430),b=r(_),T=n(432),E=r(T),w=n(434),S=r(w),P=n(435),C=r(P),I=n(436),x=r(I),A=n(445),O=r(A),k=n(449),M=r(k);i.propTypes={isLoading:c["default"].PropTypes.bool,hasProgress:c["default"].PropTypes.bool,hint:c["default"].PropTypes.string,controlBarText:c["default"].PropTypes.string,playButtonTitle:c["default"].PropTypes.string,infoBox:c["default"].PropTypes.object,onPlayButtonClick:c["default"].PropTypes.func},t.isInfoBoxEmpty=p.isEmpty,t["default"]=(0,M["default"])(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},a(e),s(e))}function o(e){return(0,c["default"])("add_info_box",{empty:u(e),title_empty:(0,f.isBlank)(e.title),description_empty:(0,f.isBlank)(e.description),"add_info_box-hidden_during_playback":e.hiddenDuringPlayback})}function a(e){if(!(0,f.isBlank)(e.title))return React.createElement("h3",null,e.title)}function s(e){if(!(0,f.isBlank)(e.description))return React.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}})}function u(e){return(0,f.isBlank)(e.title)&&(0,f.isBlank)(e.description)}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=u;var l=n(304),c=r(l),f=n(309);t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:(0,a["default"])("controls",e.className),"data-role":"player_controls",onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(304),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return React.createElement("div",{className:"vjs-loading-spinner"},React.createElement(o["default"],{name:"loadingSpinner"}))};var i=n(420),o=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=u["default"][e.name];if(!t)throw new Error('No icon registered for "'+e.name+'".');return a["default"].createElement(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(303),a=r(o),s=n(421),u=r(s);i.propTypes={name:a["default"].PropTypes.string.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(422),o=r(i);t["default"]={toggleInfoBox:o["default"].Info,mediaQuality:o["default"].Gear,textTracks:o["default"].Subtitles,activeMenuItem:o["default"].Checkmark,loadingSpinner:o["default"].CircleWithNotch}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(423),o=r(i),a=n(425),s=r(a),u=n(426),l=r(u),c=n(427),f=r(c),d=n(428),p=r(d),h=n(429),g=r(h);t["default"]={Checkmark:o["default"],CircleWithNotch:s["default"],Disk:l["default"],Gear:f["default"],Info:p["default"],Subtitles:g["default"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(a["default"],i({},e,{viewBoxWidth:512,viewBoxHeight:512}),React.createElement("polygon",{points:"434.442,58.997 195.559,297.881 77.554,179.88 0,257.438 195.559,453.003 512,136.551 "}))};var o=n(424),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return a["default"].createElement("svg",{className:e.className,version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:e.viewBoxLeft+" "+e.viewBoxTop+" "+e.viewBoxWidth+" "+e.viewBoxHeight},e.children)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(303),a=r(o);i.propTypes={viewBoxWidth:a["default"].PropTypes.number.isRequired,viewBoxHeight:a["default"].PropTypes.number.isRequired,viewBoxLeft:a["default"].PropTypes.number,viewBoxTop:a["default"].PropTypes.number,className:a["default"].PropTypes.string,width:a["default"].PropTypes.number,height:a["default"].PropTypes.number},i.defaultProps={width:20,height:20,viewBoxLeft:0,viewBoxTop:0},t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(a["default"],i({},e,{viewBoxWidth:1e3,viewBoxHeight:1e3}),React.createElement("path",{d:"M990,497.6c0,66.4-13,129.8-38.8,190.3c-25.9,60.5-60.7,112.7-104.4,156.4C803,888,750.9,922.8,690.3,948.7c-60.5,25.9-124,38.8-190.3,38.8s-129.8-12.9-190.3-38.8S197,888,153.3,844.3c-43.7-43.7-78.5-95.9-104.4-156.4C22.9,627.4,10,563.9,10,497.6c0-80.9,18.4-156.5,55.2-226.7c36.8-70.2,87.2-128,151.2-173.4s135.2-73.8,213.6-85v142.2c-80.6,16.4-147.4,56.7-200.4,120.9c-53,64.2-79.5,138.2-79.6,222c0,47.4,9.3,92.7,27.9,135.9c18.6,43.2,43.4,80.4,74.6,111.6c31.2,31.2,68.4,56.1,111.6,74.6c43.2,18.5,88.5,27.8,135.9,27.9c47.4,0,92.7-9.2,135.9-27.9C679,801,716.2,776.1,747.4,745c31.2-31.1,56-68.3,74.6-111.6c18.6-43.3,27.9-88.6,27.9-135.9c0-83.9-26.5-157.9-79.6-222C717.2,211.3,650.4,171,569.9,154.6V12.5c78.4,11.3,149.6,39.6,213.6,85c64,45.4,114.4,103.2,151.2,173.4c36.8,70.2,55.2,145.7,55.2,226.7H990z"}))};var o=n(424),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(a["default"],i({},e,{viewBoxWidth:24,viewBoxHeight:24}),React.createElement("circle",{cx:"12",cy:"12",r:"12"}))};var o=n(424),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(a["default"],i({},e,{viewBoxWidth:24,viewBoxHeight:24}),React.createElement("path",{d:"M21.312,14.056l-1.691-0.98c0,0-0.472-0.216-0.446-1.073c0,0-0.128-0.961,0.478-1.293l1.661-1.014 c0,0,0.546-0.245,0.313-0.818l-0.707-1.598c0,0-0.229-0.625-0.902-0.423l-1.93,0.615c0,0-0.666-0.009-1.078-0.458 c0,0-0.687-0.662-0.476-1.229l0.445-1.924c0,0,0.114-0.563-0.312-0.768l-1.995-0.757c0,0-0.43-0.026-0.562,0.305l-1.122,2.006 c0,0-0.524,0.437-1.248,0.292c0,0-0.752-0.072-0.928-0.253c0,0-1.135-1.916-1.19-2.015c0,0-0.21-0.437-0.65-0.262L7.144,3.176 c0,0-0.367,0.229-0.275,0.559l0.649,2.441c0,0-0.139,0.597-0.561,0.924c0,0-0.745,0.55-1.104,0.483L3.858,7.1 c0,0-0.578-0.207-0.805,0.294L2.306,9.232c0,0-0.143,0.38,0.251,0.616l1.96,1.123c0,0,0.624,0.286,0.441,1.38 c0,0,0.037,0.804-0.756,1.24c-0.793,0.437-1.476,0.875-1.476,0.875s-0.437,0.21-0.249,0.681c0.189,0.471,0.895,1.811,0.895,1.811 s0.131,0.336,0.762,0.091l1.723-0.466c0,0,0.5-0.151,1.031,0.319c0,0,0.741,0.504,0.687,0.919l-0.48,2.433 c0,0-0.157,0.411,0.312,0.676l1.929,0.733c0,0,0.538,0.052,0.68-0.389l0.84-1.532c0,0,0.278-0.669,1.177-0.625 c0,0,0.909-0.081,1.227,0.407l1.101,1.833c0,0,0.199,0.466,0.791,0.188l1.709-0.728c0,0,0.479-0.315,0.333-0.743l-0.533-1.853 c0,0-0.238-0.5,0.259-1.055c0,0,0.533-0.876,1.27-0.701l2.043,0.487c0,0,0.424,0.187,0.793-0.413l0.659-1.639 C21.685,14.901,21.886,14.313,21.312,14.056z M8.542,13.474c-0.824-1.931,0.073-4.166,2.004-4.989 c1.931-0.826,4.165,0.073,4.988,2.004c0.825,1.931-0.073,4.164-2.005,4.989C11.599,16.303,9.365,15.404,8.542,13.474z"}))};var o=n(424),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(a["default"],i({},e,{viewBoxLeft:5,viewBoxTop:5,viewBoxWidth:145,viewBoxHeight:145}),React.createElement("path",{d:"m80 15c-35.88 0-65 29.12-65 65s29.12 65 65 65 65-29.12 65-65-29.12-65-65-65zm0 10c30.36 0 55 24.64 55 55s-24.64 55-55 55-55-24.64-55-55 24.64-55 55-55z"}),React.createElement("path",{d:"m57.373 18.231a9.3834 9.1153 0 1 1 -18.767 0 9.3834 9.1153 0 1 1 18.767 0z",transform:"matrix(1.1989 0 0 1.2342 21.214 28.75)"}),React.createElement("path",{d:"m90.665 110.96c-0.069 2.73 1.211 3.5 4.327 3.82l5.008 0.1v5.12h-39.073v-5.12l5.503-0.1c3.291-0.1 4.082-1.38 4.327-3.82v-30.813c0.035-4.879-6.296-4.113-10.757-3.968v-5.074l30.665-1.105"}))};var o=n(424),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(a["default"],i({},e,{viewBoxWidth:1200,viewBoxHeight:1200}),React.createElement("path",{transform:"translate(100,100)",d:"M893.4,599V500H401.1V599H893.4z M893.4,794.5v-98.9H695.5v98.9H893.4z M598.9,794.5v-98.9H106.6v98.9H598.9z M106.6,500V599h197.8V500H106.6z M893.4,106.7c26.1,0,48.7,10,67.9,29.9s28.8,42.9,28.8,69v588.9c0,26.1-9.6,49.1-28.8,69c-19.2,19.9-41.8,29.9-67.9,29.9H106.6c-26.1,0-48.7-10-67.9-29.9c-19.2-19.9-28.8-42.9-28.8-69V205.5c0-26.1,9.6-49.1,28.8-69s41.8-29.9,67.9-29.9H893.4z"}))};var o=n(424),a=r(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("a",{className:o(e),href:"#",tabIndex:"4",id:e.id,title:e.title,onClick:a(e)},s(e))}function o(e){return(0,l["default"])("vjs-play-control",{"vjs-playing":e.isPlaying},{"player_controls-play_button-custom_icon":!!e.iconName})}function a(e){return function(t){e.onClick&&e.onClick(t),t.preventDefault()}}function s(e){return e.iconName?React.createElement(f["default"],{name:e.iconName}):React.createElement("span",null)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(304),l=r(u),c=n(420),f=r(c),d=n(431),p=r(d);t["default"]=(0,p["default"])(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(0,r.connectInPage)((0,o.combineSelectors)({id:(0,o.memoizedSelector)((0,i.pageIsActive)(),function(e){return e?"firstContent":undefined})}))(e)};var r=n(318),i=n(345),o=n(309)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(o["default"],{className:"vjs-current-time",value:e.currentTime})};var i=n(433),o=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:(0,u["default"])(e.className,"vjs-current-time")},o(e.value))}function o(e){if(isNaN(e))return l;var t=Math.floor(e)%60,n=Math.floor(e/60)%60,r=Math.floor(e/60/60);return r>0?r+":"+a(n)+":"+a(t):n+":"+a(t)}function a(e){return e<10?"0"+e:e}Object.defineProperty(t,"__esModule",{value:!0}),t.unknownTimePlaceholder=undefined,t["default"]=i;var s=n(304),u=r(s),l=t.unknownTimePlaceholder="-:--";i.defaultProps={value:0}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return React.createElement("div",{className:"vjs-time-divider"},"/")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(o["default"],{className:"vjs-duration",value:e.duration})};var i=n(433),o=r(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e>0?100*e+"%":0}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(303),c=r(l),f=n(437),d=n(438),p=r(d),h=n(444),g=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={handleWidth:null,progressHolderWidth:null},r.measureProgressHolder=function(e){var t=e.width;r.setState({progressHolderWidth:t})},r.measureHandle=function(e){var t=e.width;r.setState({handleWidth:t})},r.handleStop=function(e,t){r.props.onSeek&&r.props.onSeek(r.positionToTime(t.x))},r.handleDrag=function(e,t){r.props.onScrub&&r.props.onScrub(r.positionToTime(t.x))},r.handleKeyDown=function(e){var t=void 0;e.keyCode==h.ARROW_LEFT?t=Math.max(0,r.props.currentTime-1):e.keyCode==h.ARROW_RIGHT&&(t=Math.min(r.props.currentTime+1,r.props.duration||Infinity)),r.prop.onSeek&&r.props.onSeek(t)},r}return a(t,e),u(t,[{key:"positionToTime",value:function(e){if(this.props.duration&&this.state.progressHolderWidth){return Math.max(0,Math.min(1,e/this.state.progressHolderWidth))*this.props.duration}return 0}},{key:"render",value:function(){return c["default"].createElement("div",{className:"vjs-progress-control",tabIndex:"4",onKeyDown:this.handleKeyDown},c["default"].createElement(p["default"],{whitelist:["width"],onMeasure:this.measureProgressHolder},c["default"].createElement(f.DraggableCore,{onStart:this.handleDrag,onDrag:this.handleDrag,onStop:this.handleStop},c["default"].createElement("div",{className:"vjs-progress-holder"},c["default"].createElement("div",{className:"vjs-load-progress",style:{width:s(this.loadProgress())}}),c["default"].createElement("div",{className:"vjs-play-progress",style:{width:s(this.playProgress())}}),c["default"].createElement(p["default"],{whitelist:["width"],onMeasure:this.measureHandle},c["default"].createElement("div",{className:"vjs-seek-handle",style:{left:this.handlePosition()}}))))))}},{key:"handlePosition",value:function(){return this.state.handleWidth&&this.state.progressHolderWidth?(this.state.progressHolderWidth-this.state.handleWidth)*this.playProgress():s(this.playProgress())}},{key:"loadProgress",value:function(){return this.props.duration>0?this.props.bufferedEnd/this.props.duration:0}},{key:"playProgress",value:function(){return this.props.duration>0?this.props.currentTime/this.props.duration:0}}]),t}(c["default"].Component);t["default"]=g,g.defaultProps={currentTime:0,bufferedEnd:0}},function(e,t,n){!function(t,r){e.exports=r(n(303),n(399))}(0,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports=n(1)["default"],e.exports.DraggableCore=n(17)["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),d=r(f),p=n(3),h=r(p),g=n(11),v=r(g),m=n(12),y=r(m),_=n(13),b=n(16),T=n(14),E=n(17),w=r(E),S=n(19),P=r(S),C=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDragStart=function(e,t){if((0,P["default"])("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,b.createDraggableData)(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,P["default"])("Draggable: onDrag: %j",t);var r=(0,b.createDraggableData)(n,t),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,a=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var s=(0,b.getBoundPosition)(n,i.x,i.y),u=l(s,2);i.x=u[0],i.y=u[1],i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(a-i.y),r.x=o,r.y=a,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(i)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,b.createDraggableData)(n,t)))return!1;(0,P["default"])("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.x,a=i.y;r.x=o,r.y=a}n.setState(r)},n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}return s(t,e),c(t,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof SVGElement&&v["default"].findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,r=Boolean(this.props.position),o=!r||this.state.dragging,a=this.props.position||this.props.defaultPosition,s={x:(0,b.canDragX)(this)&&o?this.state.x:a.x,y:(0,b.canDragY)(this)&&o?this.state.y:a.y};this.state.isElementSVG?n=(0,_.createSVGTransform)(s):t=(0,_.createCSSTransform)(s)
;var l=this.props,c=l.defaultClassName,f=l.defaultClassNameDragging,p=l.defaultClassNameDragged,h=(0,y["default"])(this.props.children.props.className||"",c,(e={},i(e,f,this.state.dragging),i(e,p,this.state.dragged),e));return d["default"].createElement(w["default"],u({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),d["default"].cloneElement(d["default"].Children.only(this.props.children),{className:h,style:u({},this.props.children.props.style,t),transform:n}))}}]),t}(d["default"].Component);C.displayName="Draggable",C.propTypes=u({},w["default"].propTypes,{axis:h["default"].oneOf(["both","x","y","none"]),bounds:h["default"].oneOfType([h["default"].shape({left:h["default"].number,right:h["default"].number,top:h["default"].number,bottom:h["default"].number}),h["default"].string,h["default"].oneOf([!1])]),defaultClassName:h["default"].string,defaultClassNameDragging:h["default"].string,defaultClassNameDragged:h["default"].string,defaultPosition:h["default"].shape({x:h["default"].number,y:h["default"].number}),position:h["default"].shape({x:h["default"].number,y:h["default"].number}),className:T.dontSetMe,style:T.dontSetMe,transform:T.dontSetMe}),C.defaultProps=u({},w["default"].defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t["default"]=C},function(t){t.exports=e},function(e,t,n){if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV){var r="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r};e.exports=n(4)(i,!0)}else e.exports=n(10)()},function(e,t,n){"use strict";var r=n(5),i=n(6),o=n(7),a=n(8),s=n(9);e.exports=function(e,t){function n(e){var t=e&&(C&&e[C]||e[I]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function l(e){this.message=e,this.stack=""}function c(e){function n(n,u,c,f,d,p,h){if(f=f||x,p=p||c,h!==a)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&"undefined"!=typeof console){var g=f+":"+c;!r[g]&&s<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),r[g]=!0,s++)}return null==u[c]?n?new l(null===u[c]?"The "+d+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`.":"The "+d+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(u,c,f,d,p)}if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)var r={},s=0;var u=n.bind(null,!1);return u.isRequired=n.bind(null,!0),u}function f(e){function t(t,n,r,i,o){var a=t[n];if(w(a)!==e)return new l("Invalid "+i+" `"+o+"` of type `"+S(a)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return c(t)}function d(){return c(r.thatReturnsNull)}function p(e){function t(t,n,r,i,o){if("function"!=typeof e)return new l("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new l("Invalid "+i+" `"+o+"` of type `"+w(s)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var c=e(s,u,r,i,o+"["+u+"]",a);if(c instanceof Error)return c}return null}return c(t)}function h(){function t(t,n,r,i,o){var a=t[n];if(!e(a)){return new l("Invalid "+i+" `"+o+"` of type `"+w(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return c(t)}function g(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||x;return new l("Invalid "+i+" `"+o+"` of type `"+P(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function v(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new l("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function m(e){function t(t,n,r,i,o){if("function"!=typeof e)return new l("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=w(s);if("object"!==u)return new l("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var f=e(s,c,r,i,o+"."+c,a);if(f instanceof Error)return f}return null}return c(t)}function y(e){function t(t,n,r,i,o){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,i,o,a))return null}return new l("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return Array.isArray(e)?c(t):("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull)}function _(){function e(e,t,n,r,i){return T(e[t])?null:new l("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}function b(e){function t(t,n,r,i,o){var s=t[n],u=w(s);if("object"!==u)return new l("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var f=e[c];if(f){var d=f(s,c,r,i,o+"."+c,a);if(d)return d}}return null}return c(t)}function T(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(T);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!T(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!T(a[1]))return!1}return!0;default:return!1}}function E(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function w(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":E(t,e)?"symbol":t}function S(e){var t=w(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function P(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var C="function"==typeof Symbol&&Symbol.iterator,I="@@iterator",x="<<anonymous>>",A={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:d(),arrayOf:p,element:h(),instanceOf:g,node:_(),objectOf:m,oneOf:v,oneOfType:y,shape:b};return l.prototype=Error.prototype,A.checkPropTypes=s,A.PropTypes=A,A}},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){"use strict";function t(e,t,r,i,o,a,s,u){if(n(t),!e){var l;if(t===undefined)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,a,s,u],f=0;l=new Error(t.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};"production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&(n=function(e){if(e===undefined)throw new Error("invariant requires an error message argument")}),e.exports=t},function(e,t,n){"use strict";var r=n(5),i=r;"production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&function(){var e=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}};i=function(t,n){if(n===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==n.indexOf("Failed Composite propType: ")&&!t){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.apply(undefined,[n].concat(i))}}}(),e.exports=i},function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e,t,n,r,u){if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var c;try{i("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,l),c=e[l](t,l,r,n,null,a)}catch(e){c=e}if(o(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,l,typeof c),c instanceof Error&&!(c.message in s)){s[c.message]=!0;var f=u?u():"";o(!1,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)var i=n(6),o=n(7),a=n(8),s={};e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(6);e.exports=function(){function e(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e){e.exports=t},function(e,t){var n,r;!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=i:(n=[],(r=function(){return i}.apply(t,n))!==undefined&&(e.exports=r))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return P||(P=(0,E.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,E.isFunction)(e[t])})),e[P].call(e,t)}function a(e,t,n){var r=e;do{if(o(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function s(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function u(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function l(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,E["int"])(n.borderTopWidth),t+=(0,E["int"])(n.borderBottomWidth)}function c(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,E["int"])(n.borderLeftWidth),t+=(0,E["int"])(n.borderRightWidth)}function f(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,E["int"])(n.paddingTop),t-=(0,E["int"])(n.paddingBottom)}function d(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,E["int"])(n.paddingLeft),t-=(0,E["int"])(n.paddingRight)}function p(e,t){var n=t===t.ownerDocument.body,r=n?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-r.left,y:e.clientY+t.scrollTop-r.top}}function h(e){var t=e.x,n=e.y;return i({},(0,w.browserPrefixToKey)("transform",S["default"]),"translate("+t+"px,"+n+"px)")}function g(e){return"translate("+e.x+","+e.y+")"}function v(e,t){return e.targetTouches&&(0,E.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,E.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function m(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function y(e){var t=e.getAttribute("style")||"";A.test(t)||e.setAttribute("style",t+x)}function _(e){var t=e.getAttribute("style")||"";e.setAttribute("style",t.replace(A,""))}function b(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return T({touchAction:"none"},e)}Object.defineProperty(t,"__esModule",{value:!0});var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=o,t.matchesSelectorAndParentsTo=a,t.addEvent=s,t.removeEvent=u,t.outerHeight=l,t.outerWidth=c,t.innerHeight=f,t.innerWidth=d,t.offsetXYFromParent=p,t.createCSSTransform=h,t.createSVGTransform=g,t.getTouch=v,t.getTouchIdentifier=m,t.addUserSelectStyles=y,t.removeUserSelectStyles=_,t.styleHacks=b;var E=n(14),w=n(15),S=r(w),P="",C=(0,w.getPrefix)("user-select"),I=(0,w.browserPrefixToStyle)("user-select",C),x=";"+I+": none;",A=new RegExp(";?"+I+": none;")},function(e,t){"use strict";function n(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function r(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function i(e){return"number"==typeof e&&!isNaN(e)}function o(e){return parseInt(e,10)}function a(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=n,t.isFunction=r,t.isNum=i,t["int"]=o,t.dontSetMe=a},function(e,t){"use strict";function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"transform";if("undefined"==typeof window||"undefined"==typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<a.length;n++)if(r(e,a[n])in t)return a[n];return""}function r(e,t){return t?""+t+o(e):e}function i(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function o(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=n,t.browserPrefixToKey=r,t.browserPrefixToStyle=i;var a=["Moz","Webkit","O","ms"];t["default"]=n()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:f(r);var i=h["default"].findDOMNode(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if("parent"===r)s=i.parentNode;else if(!(s=o.querySelector(r)))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=a.getComputedStyle(i),l=a.getComputedStyle(s);r={left:-i.offsetLeft+(0,d["int"])(l.paddingLeft)+(0,d["int"])(u.marginLeft),top:-i.offsetTop+(0,d["int"])(l.paddingTop)+(0,d["int"])(u.marginTop),right:(0,g.innerWidth)(s)-(0,g.outerWidth)(i)-i.offsetLeft+(0,d["int"])(l.paddingRight)-(0,d["int"])(u.marginRight),bottom:(0,g.innerHeight)(s)-(0,g.outerHeight)(i)-i.offsetTop+(0,d["int"])(l.paddingBottom)-(0,d["int"])(u.marginBottom)}}return(0,d.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,d.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,d.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,d.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function o(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function a(e){return"both"===e.props.axis||"x"===e.props.axis}function s(e){return"both"===e.props.axis||"y"===e.props.axis}function u(e,t,n){var r="number"==typeof t?(0,g.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=h["default"].findDOMNode(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,g.offsetXYFromParent)(r||e,o)}function l(e,t,n){var r=e.state;return(0,d.isNum)(r.lastX)?{node:h["default"].findDOMNode(e),deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}:{node:h["default"].findDOMNode(e),deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}}function c(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function f(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=i,t.snapToGrid=o,t.canDragX=a,t.canDragY=s,t.getControlPosition=u,t.createCoreData=l,t.createDraggableData=c;var d=n(14),p=n(11),h=r(p),g=n(13)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(2),c=r(l),f=n(3),d=r(f),p=n(11),h=r(p),g=n(13),v=n(16),m=n(14),y=n(19),_=r(y),b={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},T=b.mouse,E=function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(e){if(r.props.onMouseDown(e),!r.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=h["default"].findDOMNode(r),n=t.ownerDocument;if(!(r.props.disabled||!(e.target instanceof n.defaultView.Node)||r.props.handle&&!(0,g.matchesSelectorAndParentsTo)(e.target,r.props.handle,t)||r.props.cancel&&(0,g.matchesSelectorAndParentsTo)(e.target,r.props.cancel,t))){var i=(0,g.getTouchIdentifier)(e);r.setState({touchIdentifier:i});var o=(0,v.getControlPosition)(e,i,r);if(null!=o){var a=o.x,s=o.y,u=(0,v.createCoreData)(r,a,s);(0,_["default"])("DraggableCore: handleDragStart: %j",u),(0,_["default"])("calling",r.props.onStart);!1!==r.props.onStart(e,u)&&(r.props.enableUserSelectHack&&(0,g.addUserSelectStyles)(n.body),r.setState({dragging:!0,lastX:a,lastY:s}),(0,g.addEvent)(n,T.move,r.handleDrag),(0,g.addEvent)(n,T.stop,r.handleDragStop))}}},r.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,v.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,i=t.y;if(Array.isArray(r.props.grid)){var o=n-r.state.lastX,a=i-r.state.lastY,u=(0,v.snapToGrid)(r.props.grid,o,a),l=s(u,2);if(o=l[0],a=l[1],!o&&!a)return;n=r.state.lastX+o,i=r.state.lastY+a}var c=(0,v.createCoreData)(r,n,i);(0,_["default"])("DraggableCore: handleDrag: %j",c);if(!1!==r.props.onDrag(e,c))r.setState({lastX:n,lastY:i});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(e){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(f)}}},r.handleDragStop=function(e){if(r.state.dragging){var t=(0,v.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,i=t.y,o=(0,v.createCoreData)(r,n,i),a=h["default"].findDOMNode(r),s=a.ownerDocument;r.props.enableUserSelectHack&&(0,g.removeUserSelectStyles)(s.body),(0,_["default"])("DraggableCore: handleDragStop: %j",o),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(e,o),(0,_["default"])("DraggableCore: Removing handlers"),(0,g.removeEvent)(s,T.move,r.handleDrag),(0,g.removeEvent)(s,T.stop,r.handleDragStop)}}},r.onMouseDown=function(e){return T=b.mouse,r.handleDragStart(e)},r.onMouseUp=function(e){return T=b.mouse,r.handleDragStop(e)},r.onTouchStart=function(e){return T=b.touch,r.handleDragStart(e)},r.onTouchEnd=function(e){return T=b.touch,r.handleDragStop(e)},a=n,o(r,a)}return a(t,e),u(t,[{key:"componentWillUnmount",value:function(){var e=h["default"].findDOMNode(this),t=e.ownerDocument;(0,g.removeEvent)(t,b.mouse.move,this.handleDrag),(0,g.removeEvent)(t,b.touch.move,this.handleDrag),(0,g.removeEvent)(t,b.mouse.stop,this.handleDragStop),(0,g.removeEvent)(t,b.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,g.removeUserSelectStyles)(t.body)}},{key:"render",value:function(){return c["default"].cloneElement(c["default"].Children.only(this.props.children),{style:(0,g.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),t}(c["default"].Component);E.displayName="DraggableCore",E.propTypes={allowAnyClick:d["default"].bool,disabled:d["default"].bool,enableUserSelectHack:d["default"].bool,offsetParent:function(t,n){if(e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:d["default"].arrayOf(d["default"].number),handle:d["default"].string,cancel:d["default"].string,onStart:d["default"].func,onDrag:d["default"].func,onStop:d["default"].func,onMouseDown:d["default"].func,className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe},E.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t["default"]=E}).call(t,n(18))},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){h&&d&&(h=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!h){var e=r(o);h=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,h=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var d,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){"use strict";function n(){var e;undefined&&(e=console).log.apply(e,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=undefined;var i=n(439),o=r(i);t["default"]=o["default"],e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(303),c=(r(l),n(369)),f=r(c),d=n(399),p=r(d),h=n(440),g=r(h),v=n(441),m=r(v),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.measure=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:n.props.includeMargin,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n.props.useClone;if(n.props.shouldMeasure){n._node.parentNode||n._setDOMNode();var r=n.getDimensions(n._node,e,t),i="function"==typeof n.props.children;n._propsToMeasure.some(function(e){if(r[e]!==n._lastDimensions[e])return n.props.onMeasure(r),i&&void 0!==n&&n.setState({dimensions:r}),n._lastDimensions=r,!0})}},n.state={dimensions:{width:0,height:0,top:0,right:0,bottom:0,left:0}},n._node=null,n._propsToMeasure=n._getPropsToMeasure(e),n._lastDimensions={},n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this._setDOMNode(),this.measure(),this.resizeObserver=new g["default"](function(){return e.measure()}),this.resizeObserver.observe(this._node)}},{key:"componentWillReceiveProps",value:function(e){var t=(e.config,e.whitelist),n=e.blacklist;this.props.whitelist===t&&this.props.blacklist===n||(this._propsToMeasure=this._getPropsToMeasure({whitelist:t,blacklist:n}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(this._node),this._node=null}},{key:"_setDOMNode",value:function(){this._node=p["default"].findDOMNode(this)}},{key:"getDimensions",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._node,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.props.includeMargin,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.props.useClone,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this.props.cloneOptions;return(0,m["default"])(e,s({margin:t,clone:n},r))}},{key:"_getPropsToMeasure",value:function(e){var t=e.whitelist,n=e.blacklist;return t.filter(function(e){return n.indexOf(e)<0})}},{key:"render",value:function(){var e=this.props.children;return l.Children.only("function"==typeof e?e(this.state.dimensions):e)}}]),t}(l.Component);y.propTypes={whitelist:f["default"].array,blacklist:f["default"].array,includeMargin:f["default"].bool,useClone:f["default"].bool,cloneOptions:f["default"].object,shouldMeasure:f["default"].bool,onMeasure:f["default"].func},y.defaultProps={whitelist:["width","height","top","right","bottom","left"],blacklist:[],includeMargin:!0,useClone:!1,cloneOptions:{},shouldMeasure:!0,onMeasure:function(){return null}},t["default"]=y,e.exports=t["default"]},function(e){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return parseFloat(e)||0}function t(t){return Array.prototype.slice.call(arguments,1).reduce(function(n,r){return n+e(t["border-"+r+"-width"])},0)}function n(t){for(var n=["top","right","bottom","left"],r={},i=0,o=n;i<o.length;i+=1){var a=o[i],s=t["padding-"+a];r[a]=e(s)}return r}function r(e){var t=e.getBBox();return u(0,0,t.width,t.height)}function i(r){var i=r.clientWidth,a=r.clientHeight;if(!i&&!a)return b;var s=getComputedStyle(r),l=n(s),c=l.left+l.right,f=l.top+l.bottom,d=e(s.width),p=e(s.height);if("border-box"===s.boxSizing&&(Math.round(d+c)!==i&&(d-=t(s,"left","right")+c),Math.round(p+f)!==a&&(p-=t(s,"top","bottom")+f)),!o(r)){var h=Math.round(d+c)-i,g=Math.round(p+f)-a;1!==Math.abs(h)&&(d-=h),1!==Math.abs(g)&&(p-=g)}return u(l.left,l.top,d,p)}function o(e){return e===document.documentElement}function a(e){return c?T(e)?r(e):i(e):b}function s(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return _(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function u(e,t,n,r){return{x:e,y:t,width:n,height:r}}var l=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype["delete"]=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),c="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,f=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame:function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),d=2,p=function(e,t){function n(){o&&(o=!1,e()),a&&i()}function r(){f(n)}function i(){var e=Date.now();if(o){if(e-s<d)return;a=!0}else o=!0,a=!1,setTimeout(r,t);s=e}var o=!1,a=!1,s=0;return i},h=20,g=["top","right","bottom","left","width","height","size","weight"],v="undefined"!=typeof navigator&&/Trident\/.*rv:11/.test(navigator.userAgent),m="undefined"!=typeof MutationObserver&&!v,y=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=p(this.refresh.bind(this),h)};y.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},y.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},y.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},y.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},y.prototype.connect_=function(){c&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),m?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},y.prototype.disconnect_=function(){c&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},y.prototype.onTransitionEnd_=function(e){var t=e.propertyName;g.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},y.getInstance=function(){return this.instance_||(this.instance_=new y),this.instance_},y.instance_=null;var _=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],
enumerable:!1,writable:!1,configurable:!0})}return e},b=u(0,0,0,0),T=function(){return"undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof SVGGraphicsElement}:function(e){return e instanceof SVGElement&&"function"==typeof e.getBBox}}(),E=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=u(0,0,0,0),this.target=e};E.prototype.isActive=function(){var e=a(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},E.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var w=function(e,t){var n=s(t);_(this,{target:e,contentRect:n})},S=function(e,t,n){if("function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.activeObservations_=[],this.observations_=new l,this.callback_=e,this.controller_=t,this.callbackCtx_=n};S.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},S.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t["delete"](e),t.size||this.controller_.removeObserver(this))}},S.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},S.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},S.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new w(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},S.prototype.clearActive=function(){this.activeObservations_.splice(0)},S.prototype.hasActive=function(){return this.activeObservations_.length>0};var P="undefined"!=typeof WeakMap?new WeakMap:new l,C=function(e){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=y.getInstance(),n=new S(e,t,this);P.set(this,n)};return["observe","unobserve","disconnect"].forEach(function(e){C.prototype[e]=function(){return(t=P.get(this))[e].apply(t,arguments);var t}}),function(){return"undefined"!=typeof ResizeObserver?ResizeObserver:C}()})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=e.getBoundingClientRect(),r=undefined,i=undefined,o=undefined;if(n.width&&n.height&&!t.clone)t.margin&&(o=(0,u["default"])(getComputedStyle(e)));else{var s=(0,a["default"])(e,t);n=s.rect,o=s.margin}return t.margin?(r=o.left+n.width+o.right,i=o.top+n.height+o.bottom):(r=n.width,i=n.height),{width:r,height:i,top:n.top,right:n.right,bottom:n.bottom,left:n.left}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(442),a=r(o),s=n(443),u=r(s);e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=e.parentNode,r=document.createElement("div"),i=e.cloneNode(!0),o=getComputedStyle(e),s=undefined,u=undefined,l=undefined;undefined;return r.style.height=0,r.style.overflow="hidden",i.setAttribute("id",""),i.setAttribute("name",""),(t.display||"none"===o.getPropertyValue("display"))&&(i.style.display=t.display||"block"),!t.width&&parseInt(o.getPropertyValue("width"))||(i.style.width=t.width||"auto"),!t.height&&parseInt(o.getPropertyValue("height"))||(i.style.height=t.height||"auto"),r.appendChild(i),n.appendChild(r),s=i.getBoundingClientRect(),u=i.offsetWidth,l=i.offsetHeight,n.removeChild(r),{rect:{width:u,height:l,top:s.top,right:s.right,bottom:s.bottom,left:s.left},margin:(0,a["default"])(o)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(443),a=r(o);e.exports=t["default"]},function(e,t){"use strict";function n(e){return{top:r(e.marginTop),right:r(e.marginRight),bottom:r(e.marginBottom),left:r(e.marginLeft)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=function(e){return parseInt(e)||0};e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ARROW_LEFT=37,t.ARROW_RIGHT=39,t.SPACE=32,t.TAB=9},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},a(e),React.createElement(p["default"],{buttonTitle:e.textTracksMenuButtonTitle,items:e.textTracksMenuItems,onItemClick:e.onTextTracksMenuItemClick}),React.createElement(f["default"],{buttonTitle:e.qualityMenuButtonTitle,items:e.qualityMenuItems,onItemClick:e.onQualityMenuItemClick}))}function o(e){return(0,l["default"])(e.className,"player_controls-menu_bar",{"player_controls-menu_bar-hidden_on_phone":e.hiddenOnPhone,"player_controls-menu_bar-stand_alone":e.standAlone})}function a(e){return e.additionalButtons.map(function(t){return React.createElement(g["default"],{title:t.label,iconName:t.iconName,className:t.className,key:t.name,onClick:s(e.onAdditionalButtonClick,t.name),onMouseEnter:s(e.onAdditionalButtonMouseEnter,t.name),onMouseLeave:s(e.onAdditionalButtonMouseLeave,t.name)})})}function s(e,t){if(e)return function(){return e(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=n(304),l=r(u),c=n(446),f=r(c),d=n(448),p=r(d),h=n(447),g=r(h);i.propTypes={additionalButtons:React.PropTypes.arrayOf(React.PropTypes.shape({name:React.PropTypes.string.isRequired,label:React.PropTypes.string.isRequired,className:React.PropTypes.string,iconName:React.PropTypes.string})),hiddenOnPhone:React.PropTypes.bool,onAdditionalButtonClick:React.PropTypes.func,qualityMenuButtonTitle:React.PropTypes.string,qualityMenuItems:f["default"].propTypes.items,onQualityMenuItemClick:React.PropTypes.func,textTracksMenuButtonTitle:React.PropTypes.string,textTracksMenuItems:p["default"].propTypes.items,onTextTracksMenuItemClick:React.PropTypes.func,standAlone:React.PropTypes.bool},i.defaultProps={additionalButtons:[],standAlone:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.items.length<2?React.createElement("noscript",null):React.createElement(a["default"],{className:"player_controls-quality_menu_button",title:e.buttonTitle,iconName:"mediaQuality",subMenuItems:e.items,onSubMenuItemClick:e.onItemClick})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(447),a=r(o);i.propTypes={buttonTitle:React.PropTypes.string,items:a["default"].propTypes.subMenuItems,onMenuItemClick:React.PropTypes.func},i.defaultProps={items:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(e.subMenuItems.length>0)return React.createElement("ul",{className:"player_controls-menu_bar_button_sub_menu"},u(e,t))}function u(e,t){return e.subMenuItems.map(function(n){return React.createElement("li",{className:c(n),key:n.value},React.createElement("a",{className:"player_controls-menu_bar_button_sub_menu_item_link",href:"#",tabIndex:"4",onClick:p(e,n.value,t)},f(n),n.label,d(e,n)))})}function l(e,t){return(0,m["default"])({"player_controls-menu_bar_button-sub_menu_visible":t},h(e))}function c(e){return(0,m["default"])("player_controls-menu_bar_button_sub_menu_item",{"player_controls-menu_bar_button_sub_menu_item-active":e.active})}function f(e){if(e.active)return React.createElement(_["default"],{className:"player_controls-menu_bar_button_sub_menu_item_icon",name:"activeMenuItem"})}function d(e,t){if(t.annotation)return React.createElement("span",{className:h(e,"sub_menu_item_annotation")},t.annotation)}function p(e,t,n){return function(r){r.preventDefault(),n(),e.onSubMenuItemClick&&e.onSubMenuItemClick(t)}}function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,m["default"])(["player_controls-menu_bar_button"].concat(n).join("_"),[e.className].concat(n).join("_"))}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(304),m=r(v),y=n(420),_=r(y),b=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={subMenuVisible:!1},r.onLinkClick=function(e){e.preventDefault(),r.props.subMenuItems.length>0&&r.setState({subMenuVisible:!0}),r.props.onClick&&r.props.onClick()},r.onMouseEnter=function(){r.props.subMenuItems.length>0&&r.setState({subMenuVisible:!0}),r.props.onMouseEnter&&r.props.onMouseEnter()},r.onMouseLeave=function(){r.closeMenu(),r.props.onMouseEnter&&r.props.onMouseLeave()},r.onFocus=function(){clearTimeout(r.closeMenuTimeout)},r.onBlur=function(){clearTimeout(r.closeMenuTimeout),r.closeMenuTimeout=setTimeout(function(){r.closeMenu()},100)},r.closeMenu=function(){r.setState({subMenuVisible:!1})},r}return a(t,e),g(t,[{key:"render",value:function(){var e=this,t=this.props;return React.createElement("div",{className:l(t,this.state.subMenuVisible),ref:function(t){return e.wrapper=t},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur},React.createElement("a",{className:h(t,"link"),href:"#",tabIndex:"4",title:t.title,onClick:this.onLinkClick},React.createElement(_["default"],{className:h(t,"icon"),name:t.iconName})),s(t,this.closeMenu))}}]),t}(React.Component);t["default"]=b,b.propTypes={title:React.PropTypes.string,iconName:React.PropTypes.string,subMenuItems:React.PropTypes.arrayOf(React.PropTypes.shape({label:React.PropTypes.node.isRequired,value:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]).isRequired,annotation:React.PropTypes.string,active:React.PropTypes.bool})),onClick:React.PropTypes.func,onMouseEnter:React.PropTypes.func,onMouseLeave:React.PropTypes.func,onSubMenuItemClick:React.PropTypes.func},b.defaultProps={subMenuItems:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.items.length<2?React.createElement("noscript",null):React.createElement(a["default"],{className:"player_controls-text_tracks_menu_button",title:e.buttonTitle,iconName:"textTracks",subMenuItems:e.items,onSubMenuItemClick:e.onItemClick})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(447),a=r(o);i.propTypes={buttonTitle:React.PropTypes.string,items:a["default"].propTypes.subMenuItems,onMenuItemClick:React.PropTypes.func},i.defaultProps={items:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(t){function n(e){i(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.checkVisibility=function(){var e=window.getComputedStyle(t.element);t.lastVisibility!=e.visibility&&("visible"==e.visibility&&"none"!=e.display?t.props.onVisible&&t.props.onVisible():t.props.onHidden&&t.props.onHidden()),t.lastVisibility=e.visibility},t}return a(n,t),u(n,[{key:"componentDidMount",value:function(){this.element=d["default"].findDOMNode(this),this.updateInterval()}},{key:"componentDidUpdate",value:function(){this.updateInterval()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),this.interval=null,this.element=null}},{key:"updateInterval",value:function(){this.props.watchVisibility&&!this.interval?this.interval=setInterval(this.checkVisibility,50):!this.props.watchVisibility&&this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"render",value:function(){return c["default"].createElement(e,this.props)}}]),n}(c["default"].Component)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=s;var l=n(303),c=r(l),f=n(399),d=r(f)},function(e,t,n){"use strict";function r(e){return React.createElement("div",{className:"close_button text_hidden_only",tabIndex:"4",title:e.t("pageflow.public.close"),onClick:e.onClick},React.createElement("div",{className:"label"},e.t("pageflow.public.close")))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(451),o=n(309),a=n(367);t["default"]=(0,a.connect)((0,o.combineSelectors)({t:i.t}))(r)},function(e,t,n){"use strict";function r(e){return e.i18n.locale}Object.defineProperty(t,"__esModule",{value:!0}),t.t=undefined;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.locale=r;var o=n(309);t.t=(0,o.memoizedSelector)(r,function(e){return function(t,n){return I18n.t(t,i({locale:e},n))}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return PAGEFLOW_EDITOR?e:function(){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetAttributes=t.prop=t.file=t.setting=t.t=t.currentParentChapterAttributes=t.currentParentPageAttributes=t.pageIsPrepared=t.pageIsActive=t.pageAttributes=t.pageAttribute=undefined;var r=n(345),i=n(454),o=n(451),a=n(457),s=n(412),u=n(409),l=n(458);t.pageAttribute=r.pageAttribute,t.pageAttributes=r.pageAttributes,t.pageIsActive=r.pageIsActive,t.pageIsPrepared=r.pageIsPrepared,t.currentParentPageAttributes=i.currentParentPageAttributes,t.currentParentChapterAttributes=i.currentParentChapterAttributes,t.t=o.t,t.setting=a.setting,t.file=s.file,t.prop=u.prop,t.widgetAttributes=l.widgetAttributes},function(e,t,n){"use strict";function r(){return function(e,t){var n=i()(e,t);return n?(0,a.chapterAttributes)({id:n.chapterId})(e,t):null}}function i(){return function(e,t){var n=(0,o.pageAttribute)("chapterId",{id:e.currentPageId})(e,t),r=(0,a.chapterAttribute)("storylineId",{id:n})(e,t),i=(0,s.storylineAttribute)("parentPagePermaId",{id:r})(e,t);return(0,o.pageAttributes)({id:i})(e,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.currentParentChapterAttributes=r,t.currentParentPageAttributes=i;var o=n(345),a=n(455),s=n(456)},function(e,t,n){"use strict";function r(e,t){return(0,o.memoizedSelector)(a(t),function(t){return t&&t[e]})}Object.defineProperty(t,"__esModule",{value:!0}),t.chapterAttributes=t.selector=undefined,t.chapterAttribute=r;var i=n(346),o=n(309),a=t.selector=(0,i.createItemSelector)("chapters");t.chapterAttributes=a},function(e,t,n){"use strict";function r(e,t){return(0,o.memoizedSelector)(a(t),function(t){return t&&t[e]})}Object.defineProperty(t,"__esModule",{value:!0}),t.selector=undefined,t.storylineAttribute=r;var i=n(346),o=n(309),a=t.selector=(0,i.createItemSelector)("storylines")},function(e,t){"use strict";function n(e){var t=e.property;return function(e){return e.settings[t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.setting=n},function(e,t,n){"use strict";function r(e){var t=e.role;return(0,o.memoizedSelector)(a({id:t}),function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0}),t.widgetAttributes=r;var i=n(346),o=n(309),a=(0,i.createItemSelector)("widgets")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return{reducers:{"media.default":(0,b["default"])({scope:"default"})},saga:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,E["default"])(e);case 2:case"end":return t.stop()}},t,this)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageBackground=t.PageBackgroundAsset=t.PageBackgroundVideo=t.PagePrintImage=t.MobilePageVideoPoster=t.PageVideoPlayer=t.Page=t.pageBackgroundReduxModule=undefined,t.reduxModule=i;var o=n(460),a=r(o),s=n(467),u=r(s),l=n(481),c=r(l),f=n(482),d=r(f),p=n(483),h=r(p),g=n(484),v=r(g),m=n(485),y=r(m),_=n(486),b=r(_),T=n(488),E=r(T),w=n(496),S=r(w),P=n(494),C=r(P);t.pageBackgroundReduxModule={reducers:{"media.background":(0,b["default"])({scope:"background"})},saga:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,S["default"])({scope:"background"}),(0,C["default"])({scope:"background"})];case 2:case"end":return e.stop()}},e,this)})};t.Page=a["default"],t.PageVideoPlayer=u["default"],t.MobilePageVideoPoster=c["default"],t.PagePrintImage=y["default"],t.PageBackgroundVideo=d["default"],t.PageBackgroundAsset=h["default"],t.PageBackground=v["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=e.playerState,r={title:t.additionalTitle,description:t.additionalDescription};return React.createElement(s.PageWrapper,{className:a(e.className,o(e),e.textTracks,n)},React.createElement(s.PageBackground,{pageHasPlayerControls:!0},e.children,React.createElement(s.PageShadow,{page:t,className:(0,h["default"])(n)})),React.createElement(s.PageForeground,{onInteraction:function(){return n.userIsIdle&&e.playerActions.userInteraction()},classNames:(0,h["default"])(n)},React.createElement(c["default"],{file:e.file,textTracks:e.textTracks,playerState:n,playerActions:e.playerActions,qualities:e.qualities,controlBarText:e.controlBarText,infoBox:r}),React.createElement(s.PageScroller,{className:(0,h["default"])(n)},React.createElement(s.PageHeader,{page:t}),React.createElement(u.PagePrintImage,{page:t}),React.createElement(s.PageText,{page:t},React.createElement(d["default"],{file:e.file})))))}function o(e){return!1!==e.page.autoplay&&e.hasAutoplaySupport}function a(e,t,n,r){return(0,_["default"])(e,{has_text_tracks:!!n.activeFileId,is_idle:r.isPlaying&&r.userIsIdle,is_control_bar_focused:r.focusInsideControls,is_control_bar_hovered:r.userHoveringControls,is_control_bar_hidden:r.controlsHidden,unplayed:r.unplayed&&!t,has_played:r.hasPlayed})}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPage=i;var s=n(301),u=n(459),l=n(461),c=r(l),f=n(465),d=r(f),p=n(462),h=r(p),g=n(309),v=n(409),m=n(463),y=n(304),_=r(y),b=n(367);t["default"]=(0,b.connect)((0,g.combineSelectors)({textTracks:(0,m.textTracks)({file:(0,v.prop)("file"),defaultTextTrackFileId:(0,v.prop)("page.defaultTextTrackFileId")}),hasAutoplaySupport:(0,v.has)("autoplay support")}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.playerActions,n=e.playerState,r=function(t){"off"==t?e.updateTextTrackSettings({kind:"off"}):e.updateTextTrackSettings(e.textTracks.files.find(function(e){return e.id==t}))};return T["default"].createElement(g["default"],f({hasProgress:!0,controlBarText:e.controlBarText,isLoading:n.isLoading||n.bufferUnderrun,isPlaying:n.shouldPlay,currentTime:n.scrubbingAt!==undefined?n.scrubbingAt:n.currentTime,bufferedEnd:n.bufferedEnd,duration:n.duration,onPlayButtonClick:t.togglePlaying,onScrub:t.scrubTo,onSeek:t.seekTo,onMouseEnter:t.controlsEntered,onMouseLeave:t.controlsLeft,onFocus:t.focusEnteredControls,onBlur:t.focusLeftControls,watchVisibility:n.isPlaying,onHidden:t.controlsHidden,additionalMenuBarButtons:a(e),infoBoxHiddenDuringPlayback:s(e),onAdditionalButtonMouseEnter:t.showInfoBoxDuringPlayback,onAdditionalButtonMouseLeave:t.hideInfoBoxDuringPlayback,onAdditionalButtonClick:t.toggleInfoBoxDuringPlayback,qualityMenuItems:l(e.qualities,e.file,e.activeQuality,e.t),qualityMenuButtonTitle:e.t("pageflow.public.media_quality"),onQualityMenuItemClick:e.updateVideoQualitySetting,textTracksMenuItems:u(e.textTracks,e.t),textTracksMenuButtonTitle:e.t("pageflow.public.text_tracks"),onTextTracksMenuItemClick:r},e,{className:o(n)}))}function o(e){return(0,w["default"])((0,p["default"])(e))}function a(e){var t=e.t;return(0,h.isInfoBoxEmpty)(e.infoBox)?[]:[{name:"toggleInfoBox",className:"player_controls-toggle_info_box_menu_button",label:t("pageflow.public.toggle_info_box"),iconName:"toggleInfoBox"}]}function s(e){var t=e.playerState;return t.infoBoxHiddenDuringPlayback===undefined?!!e.textTracks.activeFileId:t.infoBoxHiddenDuringPlayback}function u(e,t){if(!e.files.length)return[];var n={value:"off",label:t("pageflow.public.text_track_modes.none"),active:"off"==e.mode};return[{value:"auto",label:e.autoFile?t("pageflow.public.text_track_modes.auto",{label:e.autoFile.displayLabel}):t("pageflow.public.text_track_modes.auto_off"),active:"auto"==e.mode},n].concat(e.files.map(function(t){return{value:t.id,label:t.displayLabel,active:"user"==e.mode&&t.id==e.activeFileId}}))}function l(e,t,n,r){return n=n||"auto",c(e,t).map(function(e){return{value:e,label:r("pageflow.public.video_qualities.labels."+e),annotation:r("pageflow.public.video_qualities.annotations."+e,{defaultValue:""}),active:e==n}})}function c(e,t){return t?e.filter(function(e){return!!t.urls[e]||"auto"==e}):[]}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.MediaPlayerControls=i;var d=n(462),p=r(d),h=n(416),g=r(h),v=n(309),m=n(463),y=n(451),_=n(464),b=n(303),T=r(b),E=n(304),w=r(E),S=n(367);i.defaultProps={qualities:[],textTracks:{files:[]}},t["default"]=(0,S.connect)((0,v.combineSelectors)({activeQuality:(0,m.videoQualitySetting)(),t:y.t}),{updateTextTrackSettings:_.updateTextTrackSettings,updateVideoQualitySetting:_.updateVideoQualitySetting})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(0,o["default"])({is_playing:e.shouldPlay,is_playing_delayed:e.hasBeenPlayingJustNow,is_paused:!e.shouldPlay})};var i=n(304),o=r(i)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.scope,n=t===undefined?"default":t;return(0,p.pageState)("media."+n)}function i(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.scope,n=t===undefined?"default":t;return function(e){return(0,m.bindActionCreators)((0,f.actionCreators)({scope:n}),e)}}function o(e){var t=e.file,n=e.defaultTextTrackFileId,r=n===undefined?function(){}:n;return(0,v.memoizedSelector)((0,h.setting)({property:"textTrack"}),(0,h.setting)({property:"volume"}),g.t,g.locale,(0,d.nestedFiles)("textTrackFiles",{parent:t}),r,function(e,t,n,r,i,o){e=e||{};var l=i.map(function(e){return c({displayLabel:s(e,n)},e)}),f=a(l,o,r,t);return{files:l.sort(function(e,t){return(e.displayLabel||"").localeCompare(t.displayLabel||"")}),autoFile:f,activeFileId:u(l,f,e),mode:"off"==e.kind?"off":e.kind?"user":"auto"}})}function a(e,t,n,r){if(t){var i=e.find(function(e){return e.id==t});if(i)return i}var o=e.find(function(e){return"subtitles"==e.kind&&e.srclang==n}),a=0==r&&e.find(function(e){return"captions"==e.kind});return o||a}function s(e,t){return e.label||t("pageflow.public.languages."+e.srclang||"unknown",{defaultValue:t("pageflow.public.languages.unknown")})}function u(e,t,n){if("off"==n.kind)return null;var r=e.find(function(e){return e.srclang==n.srclang&&e.kind==n.kind});return r?r.id:t&&t.id}function l(){return(0,h.setting)({property:"videoQuality"})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.playerState=r,t.playerActions=i,t.textTracks=o,t.videoQualitySetting=l;var f=n(464),d=n(412),p=n(345),h=n(457),g=n(451),v=n(309),m=n(321)},function(e,t,n){"use strict";function r(){function e(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{type:e,meta:{collectionName:"pages",mediaScope:r},payload:t}}var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.scope,r=n===undefined?"default":n;return{togglePlaying:function(){return e(s)},play:function(){return e(u)},playAndFadeIn:function(t){var n=t.fadeDuration;return e(l,{fadeDuration:n})},pause:function(){return e(c)},fadeOutAndPause:function(t){var n=t.fadeDuration;return e(f,{fadeDuration:n})},scrubTo:function(t){return e(d,{time:t})},seekTo:function(t){return e(p,{time:t})},prebuffer:function(){return e(h)},prebuffered:function(){return e(g)},abortPrebuffering:function(){return e(v)},bufferUnderrun:function(){return e(m)},bufferUnderrunContinue:function(){return e(y)},playing:function(){return e(T)},paused:function(){return e(E)},timeUpdate:function(t){var n=t.currentTime,r=t.duration;return e(w,{currentTime:n,duration:r})},metaDataLoaded:function(t){var n=t.currentTime,r=t.duration;return e(_,{currentTime:n,duration:r})},progress:function(t){var n=t.bufferedEnd;return e(b,{bufferedEnd:n})},ended:function(){return e(S)},seeking:function(){return e(P)},seeked:function(){return e(C)},waiting:function(){return e(I)},hasNotBeenPlayingForAMoment:function(){return e(x)},userInteraction:function(){return e(A)},userIdle:function(){return e(O)},controlsEntered:function(){return e(k)},controlsLeft:function(){return e(M)},focusEnteredControls:function(){return e(R)},focusLeftControls:function(){return e(D)},controlsHidden:function(){return e(N)},showInfoBoxDuringPlayback:function(){return e(L)},hideInfoBoxDuringPlayback:function(){return e(j)},toggleInfoBoxDuringPlayback:function(){return e(F)}}}function i(e){return(0,a.update)({property:"textTrack",value:e?{srclang:e.srclang,kind:e.kind}:{}})}function o(e){return(0,a.update)({property:"videoQuality",value:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.TOGGLE_INFO_BOX_DURING_PLAYBACK=t.HIDE_INFO_BOX_DURING_PLAYBACK=t.SHOW_INFO_BOX_DURING_PLAYBACK=t.CONTROLS_HIDDEN=t.FOCUS_LEFT_CONTROLS=t.FOCUS_ENTERED_CONTROLS=t.CONTROLS_LEFT=t.CONTROLS_ENTERED=t.USER_IDLE=t.USER_INTERACTION=t.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT=t.WAITING=t.SEEKED=t.SEEKING=t.ENDED=t.TIME_UPDATE=t.PAUSED=t.PLAYING=t.PROGRESS=t.META_DATA_LOADED=t.BUFFER_UNDERRUN_CONTINUE=t.BUFFER_UNDERRUN=t.ABORT_PREBUFFERING=t.PREBUFFERED=t.PREBUFFER=t.SEEK_TO=t.SCRUB_TO=t.FADE_OUT_AND_PAUSE=t.PAUSE=t.PLAY_AND_FADE_IN=t.PLAY=t.TOGGLE_PLAYING=undefined,t.actionCreators=r,t.updateTextTrackSettings=i,t.updateVideoQualitySetting=o;var a=n(300),s=t.TOGGLE_PLAYING="MEDIA_TOGGLE_PLAYING",u=t.PLAY="MEDIA_PLAY",l=t.PLAY_AND_FADE_IN="MEDIA_PLAY_AND_FADE_IN",c=t.PAUSE="MEDIA_PAUSE",f=t.FADE_OUT_AND_PAUSE="MEDIA_FADE_OUT_AND_PAUSE",d=t.SCRUB_TO="MEDIA_SCRUB_TO",p=t.SEEK_TO="MEDIA_SEEK_TO",h=t.PREBUFFER="MEDIA_PREBUFFER",g=t.PREBUFFERED="MEDIA_PREBUFFERED",v=t.ABORT_PREBUFFERING="MEDIA_ABORT_PREBUFFERING",m=t.BUFFER_UNDERRUN="MEDIA_BUFFER_UNDERRUN",y=t.BUFFER_UNDERRUN_CONTINUE="MEDIA_BUFFER_UNDERRUN_CONTINUE",_=t.META_DATA_LOADED="MEDIA_META_DATA_LOADED",b=t.PROGRESS="MEDIA_PROGRESS",T=t.PLAYING="MEDIA_PLAYING",E=t.PAUSED="MEDIA_PAUSED",w=t.TIME_UPDATE="MEDIA_TIME_UPDATE",S=t.ENDED="MEDIA_ENDED",P=t.SEEKING="MEDIA_SEEKING",C=t.SEEKED="MEDIA_SEEKED",I=t.WAITING="MEDIA_WAITING",x=t.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT="MEDIA_HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT",A=t.USER_INTERACTION="MEDIA_USER_INTERACTION",O=t.USER_IDLE="MEDIA_USER_IDLE",k=t.CONTROLS_ENTERED="MEDIA_CONTROLS_ENTERED",M=t.CONTROLS_LEFT="MEDIA_CONTROLS_LEFT",R=t.FOCUS_ENTERED_CONTROLS="MEDIA_FOCUS_ENTERED_CONTROLS",D=t.FOCUS_LEFT_CONTROLS="MEDIA_FOCUS_LEFT_CONTROLS",N=t.CONTROLS_HIDDEN="MEDIA_CONTROLS_HIDDEN",L=t.SHOW_INFO_BOX_DURING_PLAYBACK="SHOW_INFO_BOX_DURING_PLAYBACK",j=t.HIDE_INFO_BOX_DURING_PLAYBACK="HIDE_INFO_BOX_DURING_PLAYBACK",F=t.TOGGLE_INFO_BOX_DURING_PLAYBACK="TOGGLE_INFO_BOX_DURING_PLAYBACK"},function(e,t,n){"use strict";function r(e){return e.file?React.createElement("p",{className:"non_js_video"},React.createElement("a",{href:i(e),target:"_blank"},o(e))):React.createElement("noscript",null)}function i(e){var t=e.entrySlug,n=e.file;return"/"+t+"/"+("videoFiles"==n.collectionName?"videos":"audio")+"/"+n.id}function o(e){var t=e.file;return(0,e.t)("pageflow.public.open_"+("videoFiles"==t.collectionName?"video":"audio"))}Object.defineProperty(t,"__esModule",{value:!0}),t.NonJsLinks=r;var a=n(309),s=n(451),u=n(466),l=n(367);t["default"]=(0,l.connect)((0,a.combineSelectors)({t:s.t,entrySlug:(0,u.entryAttribute)("slug")}))(r)},function(e,t){"use strict";function n(e){return function(t){return t.entry[e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.entryAttribute=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=f.camelize.concat(e.propertyNamePrefix,e.videoPropertyBaseName),r=f.camelize.concat(e.propertyNamePrefix,e.posterImagePropertyBaseName);return React.createElement(p,{videoFileId:t[n+"Id"],posterImageFileId:t[r+"Id"],playerState:e.playerState,playerActions:e.playerActions,fit:e.fit,position:[t[n+"X"],t[n+"Y"]],textTracksEnabled:e.textTracksEnabled,loop:e.loop,muted:e.muted,playsInline:e.playsInline})}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayer=undefined,t["default"]=i;var o=n(468),a=r(o),s=n(480),u=r(s),l=n(412),c=n(453),f=n(309),d=n(367),p=t.VideoPlayer=(0,d.connect)((0,f.combineSelectors)({file:(0,l.file)("videoFiles",{id:(0,c.prop)("videoFileId")}),posterImageFile:(0,l.file)("imageFiles",{id:(0,c.prop)("posterImageFileId")})}))((0,u["default"])(a["default"]));i.defaultProps={videoPropertyBaseName:"videoFile",posterImagePropertyBaseName:"posterImage",fit:"smart_contain"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(s["default"],{videoFile:e.file,fit:e.fit,position:e.position},React.createElement(f,{file:e.file,posterImageFile:e.posterImageFile,playerState:e.playerState,playerActions:e.playerActions,atmoDuringPlayback:e.atmoDuringPlayback,defaultTextTrackFileId:e.defaultTextTrackFileId,textTracksEnabled:e.textTracksEnabled,loop:e.loop,muted:e.muted,playsInline:e.playsInline}))};var i=n(469),o=r(i),a=n(476),s=r(a),u=n(479),l=r(u),c=n(309),f=(0,o["default"])({tagName:"video",sources:l["default"],poster:function(e,t){var n=(0,c.has)("mobile platform")?"medium":"large";return t?t.urls[n]:e.urls["poster_"+n]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.playerState;return I(e)?n.controlsHidden?"auto.lazy":"auto.translated":n.controlsHidden?"auto.lazy":"top"}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){
function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){var t=e.tagName,n=e.sources,r=e.poster,l=r===undefined?function(){}:r,f=e.emulateTextTracksDisplay,p=f!==undefined&&f,E=e.createPlayer,w=E===undefined?d["default"]:E,I=function(e){function r(e,n){i(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,n));return a.displaysTextTracksInNativePlayer=a.props.hasNativeVideoPlayer&&"video"==t,a.updateAtmoSettings(),a.setupMediaTag=function(t){a.player=w(t,{emulateTextTracksDisplay:p,atmoSettings:a.atmoSettings,mediaContext:a.context.mediaContext,playsInline:e.playsInline}),a.player.ready(function(){(0,v.initPlayer)(a.player,function(){return a.props.playerState},a.props.playerActions,a.prevFileId,a.props.file.id),a.displaysTextTracksInNativePlayer||(0,m.initTextTracks)(a.player,function(){return a.props.textTracks.activeFileId},function(){return a.props.textTrackPosition}),(0,h["default"])(a.player,a.props.playerActions),a.prevFileId=a.props.file.id})},a.disposeMediaTag=function(){a.player.dispose(),a.player=null},a}return a(r,e),u(r,[{key:"componentDidUpdate",value:function(e){this.player&&((0,v.updatePlayer)(this.player,e.playerState,this.props.playerState,this.props.playerActions,this.props.playsInline),this.displaysTextTracksInNativePlayer||(0,m.updateTextTracks)(this.player,e.textTracks.activeFileId,this.props.textTracks.activeFileId,this.props.textTrackPosition),this.updateAtmoSettings())}},{key:"updateAtmoSettings",value:function(){this.atmoSettings=this.atmoSettings||{},this.atmoSettings.atmo_during_playback=this.props.atmoDuringPlayback}},{key:"render",value:function(){return S["default"].createElement(c["default"],{tagName:t,sources:n(this.props.file,this.props.quality,{hasHighBandwidth:this.props.hasHighBandwidth}),tracks:(0,m.textTracksFromFiles)(this.props.textTracks.files,this.props.textTracksEnabled),poster:l(this.props.file,this.props.posterImageFile),loop:this.props.loop,muted:this.props.muted,playsInline:this.props.playsInline,alt:this.props.file.alt,onSetup:this.setupMediaTag,onDispose:this.disposeMediaTag})}}]),r}(S["default"].Component);I.contextTypes={mediaContext:S["default"].PropTypes.object},I.defaultProps={textTracksEnabled:!0,textTracks:{files:[]}},I.propTypes={file:S["default"].PropTypes.object.isRequired};var x=(0,C.connect)((0,P.combineSelectors)({textTracks:(0,y.textTracks)({file:(0,b.prop)("file"),defaultTextTrackFileId:(0,b.prop)("defaultTextTrackFileId")}),quality:(0,_.setting)({property:"videoQuality"}),hasNativeVideoPlayer:(0,T.has)("native video player"),hasHighBandwidth:(0,T.has)("high bandwidth"),textTrackPosition:s}),{updateTextTrackSettings:g.updateTextTrackSettings})(I);return x.WrappedComponent=I,x};var l=n(470),c=r(l),f=n(471),d=r(f),p=n(472),h=r(p),g=n(464),v=n(473),m=n(474),y=n(463),_=n(457),b=n(453),T=n(409),E=n(475),w=n(303),S=r(w),P=n(309),C=n(367),I=(0,E.widgetPresent)("slimPlayerControls")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(Object.keys(r).length!==Object.keys(i).length)return!1;for(var o in r)if(r[o]!==i[o])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(303),c=r(l),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=this;return c["default"].createElement("div",{ref:function(t){return e.containerElement=t},dangerouslySetInnerHTML:this.mediaTagHTML()})}},{key:"shouldComponentUpdate",value:function(e){return e.tagName!==this.props.tagName||e.poster!==this.props.poster||e.loop!==this.props.loop||e.muted!==this.props.muted||e.playsInline!==this.props.playsInline||!s(e.sources,this.props.sources)||!s(e.tracks,this.props.tracks)}},{key:"componentDidMount",value:function(){this.triggerOnSetup()}},{key:"componentWillUpdate",value:function(){this.triggerOnDispose()}},{key:"componentDidUpdate",value:function(){this.triggerOnSetup()}},{key:"componentWillUnmount",value:function(){this.triggerOnDispose()}},{key:"triggerOnSetup",value:function(){this.props.onSetup&&this.props.onSetup(this.containerElement.firstElementChild)}},{key:"triggerOnDispose",value:function(){this.props.onDispose&&this.props.onDispose()}},{key:"mediaTagHTML",value:function(){var e=document.createElement("div"),t=document.createElement(this.props.tagName);return t.setAttribute("preload","auto"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("alt",this.props.alt),this.props.poster&&t.setAttribute("data-poster",this.props.poster),this.props.loop&&t.setAttribute("loop","true"),this.props.muted&&t.setAttribute("muted","true"),this.props.playsInline&&t.setAttribute("playsinline","true"),this.props.sources.forEach(function(e){var n=document.createElement("source");n.setAttribute("src",e.src),n.setAttribute("type",e.type),t.appendChild(n)}),this.props.tracks.forEach(function(e){var n=document.createElement("track");n.setAttribute("src",e.src),n.setAttribute("id",e.id),n.setAttribute("kind",e.kind),n.setAttribute("srclang",e.srclang),n.setAttribute("label",e.label),t.appendChild(n)}),e.appendChild(t),{__html:e.innerHTML}}}]),t}(c["default"].Component);t["default"]=f,f.defaultProps={tagName:"video",sources:[],tracks:[]}},function(e,t){"use strict";function n(e,t){var n=(t.emulateTextTracksDisplay,t.atmoSettings),r=t.mediaContext,i=t.playsInline,o="audio"==e.tagName.toLowerCase(),a=new pageflow.VideoPlayer(e,{controlBar:!1,loadingSpinner:!1,bigPlayButton:!1,errorDisplay:!1,textTrackSettings:!1,poster:e.getAttribute("data-poster"),html5:{nativeCaptions:!o&&pageflow.browser.has("iphone platform")},bufferUnderrunWaiting:!0,useSlimPlayerControlsDuringPhonePlayback:!i&&!o,fullscreenDuringPhonePlayback:!i&&!o,volumeFading:!0,hooks:pageflow.atmo.createMediaPlayerHooks(n),mediaEvents:!0,context:r});return a.textTrackSettings={getValues:function(){return{}}},a.addClass("video-js"),a.addClass("player"),a}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("loadedmetadata",function(){return t.metaDataLoaded({currentTime:e.currentTime(),duration:e.duration()})}),e.on("progress",function(){return t.progress({bufferedEnd:e.bufferedEnd()})}),e.on("play",t.playing),e.on("pause",t.paused),e.on("waiting",t.waiting),e.on("seeking",t.seeking),e.on("seeked",t.seeked),e.on("bufferunderrun",t.bufferUnderrun),e.on("bufferunderruncontinue",t.bufferUnderrunContinue),e.on("timeupdate",function(){return t.timeUpdate({currentTime:e.currentTime(),duration:e.duration()})}),e.on("ended",t.ended)}},function(e,t){"use strict";function n(e,t,n,r,i){var o=t();i===r&&o.currentTime>0&&e.currentTime(o.currentTime),o.shouldPrebuffer&&e.prebuffer().then(n.prebuffered),o.isPlaying&&e.play(),e.on("canplay",function(){t().shouldPlay&&e.paused()&&e.play()})}function r(e,t,n,r){!t.shouldPrebuffer&&n.shouldPrebuffer&&e.prebuffer().then(r.prebuffered),!t.shouldPlay&&n.shouldPlay?n.fadeDuration?e.playAndFadeIn(n.fadeDuration):e.play():t.shouldPlay&&!n.shouldPlay&&(n.fadeDuration?e.fadeOutAndPause(n.fadeDuration):e.pause()),n.shouldSeekTo!==undefined&&n.shouldSeekTo!==t.shouldSeekTo&&e.currentTime(n.shouldSeekTo)}Object.defineProperty(t,"__esModule",{value:!0}),t.initPlayer=n,t.updatePlayer=r},function(e,t){"use strict";function n(e,t,n){e.on("pause",function(){r(e,t,n)}),e.textTracks().on("addtrack",function(){i(e,null,t(),n())}),i(e,null,t(),n()),r(e,t,n)}function r(e,t,n){e.one("timeupdate",function(){i(e,null,t(),n())})}function i(e,t,n,r){t!=n&&o(e,n),a(e,r)}function o(e,t){[].slice.call(e.textTracks()).forEach(function(e){e.id=="text_track_file_"+t?e.mode="showing":e.mode="disabled"})}function a(e,t){e.updateCueLineSettings(t)}function s(e,t){return t?e.filter(function(e){return e.isReady}).map(function(e){return{id:"text_track_file_"+e.id,kind:e.kind,label:e.displayLabel,srclang:e.srclang,src:e.urls.vtt}}):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.initTextTracks=n,t.updateTextTracks=i,t.textTracksFromFiles=s},function(e,t){"use strict";function n(e){return function(t){return t.widgetPresence[e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.widgetPresent=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return p["default"].createElement(g["default"],{whitelist:["width","height"]},function(t){return o(e,t)})}function o(e,t){var n=(0,l["default"])(e.videoFile,e.fit,e.position,t);return p["default"].createElement("div",{className:"videoWrapper"},p["default"].createElement("div",{className:(0,f["default"])(n,t),style:a(n)},e.children))}function a(e){return e&&s({position:"absolute"},e)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var u=n(477),l=r(u),c=n(478),f=r(c),d=n(303),p=r(d),h=n(438),g=r(h);i.propTypes={videoFile:p["default"].PropTypes.object,fit:p["default"].PropTypes.oneOf(["contain","cover","smart_contain"]),position:p["default"].PropTypes.arrayOf(p["default"].PropTypes.number)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n,r){if(r&&r.height&&t&&"contain"!=t){var i=void 0,o=void 0,a=void 0,s=e.width/e.height;if("width"==(r.width/r.height>s?"width":"height")?(o=r.height,i=o*s,a=r.width/i):(i=r.width,o=i/s,a=r.height/o),!("smart_contain"==t&&a>1.2)){var u=i*a,l=o*a,c=n[0]!==undefined&&"cover"==t?n[0]:50,f=n[1]!==undefined&&"cover"==t?n[1]:50;return{left:(r.width-u)*c/100,top:(r.height-l)*f/100,width:u,height:l}}}}},function(e,t){"use strict";function n(e,t){if(e&&t){var n=Math.max(0,-e.left),r=Math.max(0,e.width-t.width+e.left),i=Math.max(0,-e.top),o=Math.max(0,e.height-t.height+e.top);return["cue_offset","cue_offset_"+Math.ceil(o/10),"cue_margin_left_"+Math.ceil(n/10),"cue_margin_right_"+Math.ceil(r/10),"cue_margin_top_"+Math.ceil(i/10),"cue_margin_bottom_"+Math.ceil(o/10)].join(" ")}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=n.hasHighBandwidth;if("auto"==(t=t||"auto")){var i=r?"high":"medium",o=[{type:"application/x-mpegURL",src:e.urls["hls-playlist"]+"?u=1"},{type:"video/mp4",src:e.urls[i]+"?u=1"}];return e.urls["dash-playlist"]&&(o=[{type:"application/dash+xml",src:""+e.urls["dash-playlist"]}].concat(o)),o}return e.urls[t]||(t="high"),[{type:"video/mp4",src:e.urls[t]+"?u=1"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(t){return t.file&&t.file.isReady&&t.pageIsPrepared?React.createElement(e,{file:t.file,posterImageFile:t.posterImageFile,playerState:t.playerState,playerActions:t.playerActions,atmoDuringPlayback:t.atmoDuringPlayback,fit:t.fit,position:t.position,loop:t.loop,muted:t.muted,playsInline:t.playsInline,defaultTextTrackFileId:t.defaultTextTrackFileId,textTracksEnabled:t.textTracksEnabled}):null}return(0,r.connectInPage)((0,o.combineSelectors)({pageIsPrepared:(0,i.pageIsPrepared)(),atmoDuringPlayback:(0,i.pageAttribute)("atmoDuringPlayback"),defaultTextTrackFileId:(0,i.pageAttribute)("defaultTextTrackFileId")}))(t)};var r=n(318),i=n(345),o=n(309)},function(e,t,n){"use strict";function r(e){var t=i(e);return t?React.createElement(a.PageBackgroundImage,{page:e.page,propertyBaseName:t.propertyBaseName,fileCollection:t.collection}):React.createElement("noscript",null)}function i(e){return o(e.propertyNamePrefix).find(function(t){return e.fileExists(t.collection,e.page[t.propertyBaseName+"Id"])})}function o(e){return[{propertyBaseName:s.camelize.concat(e,"mobilePosterImage"),collection:"imageFiles"},{propertyBaseName:s.camelize.concat(e,"posterImage"),collection:"imageFiles"},{propertyBaseName:s.camelize.concat(e,"videoFile"),collection:"videoFiles"}]}Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePageVideoPoster=r;var a=n(301),s=n(309),u=n(412),l=n(367);t["default"]=(0,l.connect)((0,s.combineSelectors)({fileExists:(0,u.fileExists)()}))(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.hasMobilePlatform&&o(e)?React.createElement(c["default"],{page:e.page,propertyNamePrefix:e.propertyNamePrefix}):React.createElement(u["default"],a({loop:!0,fit:"cover",muted:e.hasMobilePlatform,playsInline:!0,textTracksEnabled:!1},e))}function o(e){var t=f.camelize.concat(e.propertyNamePrefix,"mobilePosterImageId");return e.fileExists("imageFiles",e.page[t])}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.PageBackgroundVideo=i;var s=n(467),u=r(s),l=n(481),c=r(l),f=n(309),d=n(412),p=n(409),h=n(367);t["default"]=(0,h.connect)((0,f.combineSelectors)({fileExists:(0,d.fileExists)(),hasMobilePlatform:(0,p.has)("mobile platform")}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=e.playerState,r=e.playerActions,i=e.propertyNamePrefix;return"video"==t[f.camelize.concat(i,"backgroundType")]?React.createElement(s["default"],{page:t,playerState:n,playerActions:r,propertyNamePrefix:i}):React.createElement(o.PageBackgroundImage,{page:t,propertyNamePrefix:i})}Object.defineProperty(t,"__esModule",{value:!0}),t.PageBackgroundAsset=i;var o=n(301),a=n(482),s=r(a),u=n(463),l=n(318),c=n(345),f=n(309);t["default"]=(0,l.connectInPage)((0,f.combineSelectors)({page:(0,c.pageAttributes)(),playerState:(0,u.playerState)({scope:"background"})}),(0,f.combine)({playerActions:(0,u.playerActions)({scope:"background"})}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(o.PageBackground,null,React.createElement(s["default"],{propertyNamePrefix:e.propertyNamePrefix}),React.createElement(o.PageShadow,{page:e.page}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(301),a=n(483),s=r(a)},function(e,t,n){"use strict";function r(e){var t=e.page;return"video"==t.backgroundType||"video"==t.type?React.createElement(c,{videoId:t.videoFileId,posterImageId:t.posterImageId}):React.createElement(f,{imageId:t.backgroundImageId})}function i(e){var t=e.file;return t&&s.pageIsPrepared?React.createElement("img",{src:t.urls.print,alt:t.alt,className:"print_image"}):React.createElement("noscript",null)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(367),a=n(318),s=n(345),u=n(453),l=n(309),c=(0,o.connect)((0,l.combineSelectors)({videoFile:(0,u.file)("videoFiles",{id:(0,u.prop)("videoId")}),posterImageFile:(0,u.file)("imageFiles",{id:(0,u.prop)("posterImageId")})}))(function(e){var t=e.videoFile,n=e.posterImageFile;return n?React.createElement(i,{file:n}):React.createElement(i,{file:t})}),f=(0,a.connectInPage)((0,l.combineSelectors)({file:(0,u.file)("imageFiles",{id:(0,u.prop)("imageId")}),pageIsPrepared:(0,s.pageIsPrepared)()}))(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.scope,n=t===undefined?"default":t;return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];if(t.meta&&t.meta.mediaScope&&t.meta.mediaScope!==n)return e;switch(t.type){case a.PAGE_WILL_ACTIVATE:return r({},e,{hasPlayed:!1,unplayed:!0,infoBoxHiddenDuringPlayback:undefined,userIsIdle:!1});case a.PAGE_WILL_DEACTIVATE:return r({},e,{shouldPrebuffer:!1});case i.PLAY:return r({},e,{shouldPlay:!0,hasBeenPlayingJustNow:!0,unplayed:!1,fadeDuration:null,isLoading:!0});case i.PLAYING:return r({},e,{isPlaying:!0});case i.PLAY_AND_FADE_IN:return r({},e,{shouldPlay:!0,hasBeenPlayingJustNow:!0,fadeDuration:t.payload.fadeDuration,isLoading:!0});case i.PAUSE:return r({},e,{shouldPlay:!1,fadeDuration:null,isLoading:!1});case i.PAUSED:return e.bufferUnderrun?r({},e,{isPlaying:!1,hasPlayed:!0}):r({},e,{shouldPlay:!1,isPlaying:!1,fadeDuration:null,isLoading:!1});case i.FADE_OUT_AND_PAUSE:return r({},e,{shouldPlay:!1,isPlaying:!1,fadeDuration:t.payload.fadeDuration,isLoading:!1});case i.PREBUFFER:return r({},e,{shouldPrebuffer:!0});case i.PREBUFFERED:return r({},e,{shouldPrebuffer:!1});case i.WAITING:return r({},e,{isLoading:!0});case i.BUFFER_UNDERRUN:return r({},e,{bufferUnderrun:!0});case i.BUFFER_UNDERRUN_CONTINUE:return r({},e,{bufferUnderrun:!1});case i.SCRUB_TO:return r({},e,{scrubbingAt:t.payload.time});case i.SEEK_TO:return r({},e,{shouldSeekTo:t.payload.time});case i.SEEKING:return r({},e,{isLoading:!0});case i.SEEKED:return r({},e,{scrubbingAt:undefined,isLoading:!1});case i.META_DATA_LOADED:return r({},e,{currentTime:t.payload.currentTime,duration:t.payload.duration});case i.PROGRESS:return r({},e,{bufferedEnd:t.payload.bufferedEnd});case i.TIME_UPDATE:return r({},e,{currentTime:t.payload.currentTime,duration:t.payload.duration,isLoading:!1});case i.ENDED:return r({},e,{shouldPlay:!1,isPlaying:!1});case i.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT:return r({},e,{hasBeenPlayingJustNow:!1});case o.HOTKEY_TAB:case i.USER_INTERACTION:return r({},e,{userIsIdle:!1,controlsHidden:!1});case i.USER_IDLE:return r({},e,{userIsIdle:!0});case i.CONTROLS_ENTERED:return r({},e,{userHoveringControls:!0});case i.CONTROLS_LEFT:return r({},e,{userHoveringControls:!1});case i.FOCUS_ENTERED_CONTROLS:return r({},e,{focusInsideControls:!0});case i.FOCUS_LEFT_CONTROLS:return r({},e,{focusInsideControls:!1});case i.CONTROLS_HIDDEN:return r({},e,{controlsHidden:!0,infoBoxHiddenDuringPlayback:!0});case i.HIDE_INFO_BOX_DURING_PLAYBACK:return r({},e,{infoBoxHiddenDuringPlayback:!0});case i.SHOW_INFO_BOX_DURING_PLAYBACK:return r({},e,{infoBoxHiddenDuringPlayback:!1});case i.TOGGLE_INFO_BOX_DURING_PLAYBACK:return r({},e,{infoBoxHiddenDuringPlayback:!e.infoBoxHiddenDuringPlayback});default:return e}}};var i=n(464),o=n(487),a=n(299)},function(e,t,n){"use strict";function r(e){var t=e.currentPageId;return(0,o.pageAction)(a,t)}function i(e){var t=e.currentPageId;return(0,o.pageAction)(s,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HOTKEY_TAB=t.HOTKEY_SPACE=undefined,t.space=r,t.tab=i;var o=n(299),a=t.HOTKEY_SPACE="HOTKEY_SPACE",s=t.HOTKEY_TAB="HOTKEY_TAB"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=[(0,a["default"])()],t.playsInNativePlayer&&t.playsInNativePlayer()||e.push([(0,c["default"])(),(0,y["default"])(),(0,v["default"])(),(0,d["default"])()]),(0,_.has)("mobile platform")||e.push([(0,u["default"])()]),t.hideControls&&e.push([(0,h["default"])()]),n.next=6,e;case 6:case"end":return n.stop()}},b[0],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(489),a=r(o),s=n(490),u=r(s),l=n(491),c=r(l),f=n(492),d=r(f),p=n(493),h=r(p),g=n(494),v=r(g),m=n(495),y=r(m),_=n(309),b=[i].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)([a.HOTKEY_SPACE,o.TOGGLE_PLAYING],i,(0,o.actionCreators)());case 2:case"end":return e.stop()}},c[0],this)}function i(e){var t,n=e.play,r=e.pause;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.select)((0,s.playerState)());case 2:if(t=e.sent,!t.shouldPlay){e.next=8;break}return e.next=6,(0,l.put)(r());case 6:e.next=10;break;case 8:return e.next=10,(0,l.put)(n());case 10:case"end":return e.stop()}},c[1],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(464),a=n(487),s=n(463),u=n(357),l=n(353),c=[r,i].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.PAGE_DID_ACTIVATE,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.race)({task:(0,a.call)(i),cancel:(0,a.take)(s.PAGE_WILL_DEACTIVATE)});case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},c[0],this)}function i(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.select)((0,l.pageAttribute)("autoplay"));case 2:if(!1===(e=t.sent)){t.next=6;break}return t.next=6,(0,a.put)(h());case 6:return t.next=8,[(0,a.take)(u.PREBUFFERED),(0,a.put)(p())];case 8:if(!1===e){t.next=13;break}return t.next=11,(0,a.call)(o.delay,1e3);case 11:return t.next=13,(0,a.put)(d());case 13:case"end":return t.stop()}},c[1],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(357),a=n(353),s=n(299),u=n(464),l=n(345),c=[r,i].map(regeneratorRuntime.mark),f=(0,u.actionCreators)(),d=f.play,p=f.prebuffer,h=f.waiting},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.takeEvery)(u.PLAY,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.select)((0,l.pageIsActive)());case 2:if(!e.sent){e.next=5;break}return e.next=5,(0,s.call)(i);case 5:case"end":return e.stop()}},e,this)}));case 2:return e.next=4,(0,a.takeEvery)([u.PAUSE,u.ENDED],regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.select)((0,l.pageIsActive)());case 2:if(!e.sent){e.next=5;break}return e.next=5,(0,s.call)(o);case 5:case"end":return e.stop()}},e,this)}));case 4:case"end":return e.stop()}},c[0],this)}function i(){pageflow.events.trigger("scroll_indicator:disable")}function o(){pageflow.events.trigger("scroll_indicator:enable")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(357),s=n(353),u=n(464),l=n(345),c=[r].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,a.actionCreators)(),t=e.hasNotBeenPlayingForAMoment,n.next=3,(0,i.takeEvery)([a.PAUSE,a.ENDED],regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.race)({task:(0,o.call)(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.call)(i.delay,700);case 2:return e.next=4,(0,o.put)(t(!1));case 4:case"end":return e.stop()}},e,this)})),cancel:(0,o.take)(a.PLAYING)});case 2:case"end":return e.stop()}},e,this)}));case 3:case"end":return n.stop()}},s[0],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(357),o=n(353),a=n(464),s=[r].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,s.actionCreators)(),t=e.userIdle,n.next=3,(0,o.takeLatest)([s.PLAY,s.USER_INTERACTION,u.HOTKEY_TAB],i,t);case 3:case"end":return n.stop()}},l[0],this)}function i(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.call)(o.delay,3e3);case 2:return t.next=4,(0,a.put)(e());case 4:case"end":return t.stop()}},l[1],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(357),a=n(353),s=n(464),u=n(487),l=[r,i].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(){var e,t,n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=n.scope;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,a.actionCreators)({scope:r}),t=e.fadeOutAndPause,n.next=3,(0,i.takeEvery)(s.PAGE_DID_DEACTIVATE,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)(t({fadeDuration:400}));case 2:case"end":return e.stop()}},e,this)}));case 3:case"end":return n.stop()}},u[0],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(357),o=n(353),a=n(464),s=n(299),u=[r].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.ENDED,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.select)((0,u.pageAttribute)("autoChangePageOnEnded"));case 2:return t=e.sent,e.next=5,(0,a.select)((0,u.pageIsActive)());case 5:if(n=e.sent,!t||!n){e.next=9;break}return e.next=9,(0,a.call)(i);case 9:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},l[0],this)}function i(){pageflow.slides.next()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(357),a=n(353),s=n(464),u=n(345),l=[r].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=t.scope;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,s.actionCreators)({scope:n}),t.next=3,(0,o.takeEvery)(u.PAGE_WILL_ACTIVATE,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.race)({task:(0,a.call)(i,e),cancel:(0,a.take)(u.PAGE_WILL_DEACTIVATE)});case 2:case"end":return t.stop()}},t,this)}));case 3:case"end":return t.stop()}},l[0],this)}function i(e){var t=e.prebuffer,n=e.playAndFadeIn;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,a.take)(s.PREBUFFERED),(0,a.put)(t())];case 2:return e.next=4,(0,a.put)(n({fadeDuration:1e3}));case 4:case"end":return e.stop()}},l[1],this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(357),a=n(353),s=n(464),u=n(299),l=[r,i].map(regeneratorRuntime.mark)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=t.reduxModule=undefined;var i=n(498),o=r(i),a=n(500),s=r(a);t.reduxModule={name:"interactivePageBackground",saga:s["default"]};t.Page=o["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(303),l=r(u),c=n(304),f=r(c),d=n(301),p=n(499),h=n(318),g=n(309),v=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onPlayButtonClick=function(){pageflow.hideText.activate(),r.props.onEnterBackground&&r.props.onEnterBackground()},r.onCloseButtonClick=function(){pageflow.hideText.deactivate(),r.props.onLeaveBackground&&r.props.onLeaveBackground()},r}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props.page;return l["default"].createElement(d.PageWrapper,{className:(0,f["default"])({unplayed:!this.props.textHasBeenHidden},"hide_content_with_text")},l["default"].createElement(d.CloseButton,{onClick:this.onCloseButtonClick}),l["default"].createElement(d.MenuBar,{additionalButtons:this.props.additionalMenuBarButtons,onAdditionalButtonClick:this.props.onAdditionalButtonClick,qualityMenuButtonTitle:this.props.qualityMenuButtonTitle,qualityMenuItems:this.props.qualityMenuItems,onQualityMenuItemClick:this.props.onQualityMenuItemClick,hiddenOnPhone:this.props.textHasBeenHidden&&!this.props.textIsHidden}),l["default"].createElement(d.PageBackground,{pageHasPlayerControls:!0},l["default"].createElement("div",{className:"videoWrapper"},this.props.children),l["default"].createElement(d.PageShadow,{page:e})),l["default"].createElement(d.PageForeground,null,l["default"].createElement(d.PlayerControls,{playButtonTitle:"Starten",playButtonIconName:this.props.playButtonIconName,controlBarText:e.controlBarText||this.props.defaultControlBarText,onPlayButtonClick:this.onPlayButtonClick,infoBox:{title:e.additionalTitle,description:e.additionalDescription}}),l["default"].createElement(d.PageScroller,null,l["default"].createElement(d.PageHeader,{page:e}),l["default"].createElement(d.PageText,{page:e}))))}}]),t}(l["default"].Component);v.propTypes={page:l["default"].PropTypes.object,defaultControlBarText:l["default"].PropTypes.string,playButtonIconName:l["default"].PropTypes.string,onEnterBackground:l["default"].PropTypes.func,onLeaveBackground:l["default"].PropTypes.func,additionalMenuBarButtons:l["default"].PropTypes.array,onAdditionalButtonClick:l["default"].PropTypes.func,qualityMenuItems:l["default"].PropTypes.array,onQualityMenuItemClick:l["default"].PropTypes.func},t["default"]=(0,h.connectInPage)((0,g.combineSelectors)({textIsHidden:p.textIsHidden,textHasBeenHidden:p.textHasBeenHidden}))(v)},function(e,t){"use strict";function n(e){return e.hideText.isActive}function r(e){return e.hideText.hasBeenActive}Object.defineProperty(t,"__esModule",{value:!0}),t.textIsHidden=n,t.textHasBeenHidden=r},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.DEACTIVATE,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.select)((0,u.pageIsActive)());case 2:if(!e.sent){e.next=5;break}return e.next=5,(0,a.call)(i);case 5:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},l[0],this)}function i(){pageflow.events.trigger("scroll_indicator:enable")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(357),a=n(353),s=n(501),u=n(345),l=[r].map(regeneratorRuntime.mark)},function(e,t){"use strict";function n(){return{type:i}}function r(){return{type:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.activate=n,t.deactivate=r;var i=t.ACTIVATE="HIDE_TEXT_ACTIVATE",o=t.DEACTIVATE="HIDE_TEXT_DEACTIVATE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.registry=undefined;var i=n(503),o=r(i),a=t.registry=new o["default"];t["default"]=a.register},function(e,t,n){"use strict";function r(e,t){var n={}
;for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(){var e=[];this.register=function(t,n){function i(e){throw new Error(e+" Check registerPageType call of "+t+" page type.")}var u=n.component,l=n.reduxModules,c=l===undefined?[]:l,f=r(n,["component","reduxModules"]);u||i("Requires component option to be present"),Array.isArray(c)||i("Expected reduxModules option to be an array.");var d=[],p=c.reduce(function(e,t){return"object"===(void 0===t?"undefined":a(t))&&3==new Set(Object.keys(t).concat(["name","reducers","saga"])).size||i("Expected redux module to be object with name, reducers and saga properties at most."),t.reducers&&"object"!==a(t.reducers)&&i("Expected reducers property of "+t.name+" reduxModule to be object."),t.saga&&d.push(t.saga),o({},e,t.reducers)},{});e.push(o({name:t,component:u,reducer:Object.keys(p).length?(0,s.combineReducers)(p):undefined,saga:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.map(function(e){return e()});case 2:case"end":return e.stop()}},e,this)})},f))},this.forEach=function(){return e.forEach.apply(e,arguments)},this.reduce=function(){return e.reduce.apply(e,arguments)},this.findByName=function(t){return e.find(function(e){var n=e.name;e.component;return n==t})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=i;var s=n(321)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t){(0,a["default"])(e,{component:s.PageBackgroundAsset,selectTargetElement:function(e){return e.find(".page_background_asset")[0]},mixin:i({scroller:!0},t),reduxModules:[s.pageBackgroundReduxModule]})};var o=n(502),a=r(o),s=n(459)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var r=t.component;n.push({name:e,component:r})};var n=t.registry=[]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(346),l=n(502),c=n(507),f=r(c),d=n(303),p=r(d),h=n(367),g=(0,u.createItemScopeProvider)("pages"),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentWillMount",value:function(){this.store=(0,f["default"])({seed:this.props.resolverSeed}),this.pageComponent=l.registry.findByName(this.props.pageType).component}},{key:"render",value:function(){var e=this.pageComponent;return p["default"].createElement(h.Provider,{store:this.store},p["default"].createElement(g,{itemId:this.props.pageId},p["default"].createElement(e,null)))}}]),t}(p["default"].Component);t["default"]=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){var t=!!e.storylines,n=!e.settings,r=e.seed,s=t?e:r,l={isServerSide:n,locale:r.locale,slug:r.slug,fileUrlTemplates:r.file_url_templates,modelTypes:r.file_model_types,pageTypesSeed:r.page_types,pageTypes:o.registry,files:s.files||{},storylines:s.storylines,chapters:s.chapters,pages:s.pages,widgets:t?e.entry.widgets:r.widgets,hideText:e.hideText,events:e.events,settings:e.settings,widgetsApi:e.widgets,window:n?null:window},f=(0,u["default"])([S["default"],C["default"],y["default"],c["default"],d["default"],h["default"],b["default"],E["default"],O["default"],M["default"],D["default"],v["default"],x["default"]],l);return n||(o.registry.forEach(function(t){return e.pageType.register(t.name,(0,p.createPageType)(i({},t,{Component:t.component,store:f})))}),a.registry.forEach(function(t){var n=t.name,r=t.component;return e.widgetTypes.register(n,(0,k.createWidgetType)(r,f))})),f};var o=n(502),a=n(505),s=n(508),u=r(s),l=n(510),c=r(l),f=n(511),d=r(f),p=n(318),h=r(p),g=n(512),v=r(g),m=n(515),y=r(m),_=n(519),b=r(_),T=n(520),E=r(T),w=n(522),S=r(w),P=n(525),C=r(P),I=n(528),x=r(I),A=n(529),O=r(A),k=n(532),M=r(k),R=n(533),D=r(R)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n=e.reduce(function(e,n){return n.createReducers?l({},e,n.createReducers(t)):e},{});return Object.keys(n).length?(0,c.combineReducers)(n):function(e){return e}}function a(e,t){var n=[],r=[];return e.forEach(function(e){var i=void 0;e.createMiddleware&&(i=e.createMiddleware(t),r.push(i)),e.createSaga&&n.push((0,p.call)(e.createSaga(l({},t,{middleware:i}))))}),{sagas:n,middlewares:r}}function s(e,t){e.forEach(function(e){e.init&&e.init(t)})}function u(t){return void 0===e&&"undefined"!=typeof __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(t):t}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t){var n=(0,d["default"])(),r=[],f=[];if(!t.isServerSide){var p=a(e,t);r=p.sagas,f=p.middlewares}var h=(0,c.createStore)(o(e,t),{},u(c.applyMiddleware.apply(undefined,[n].concat(i(f)))));return n.run(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:case"end":return e.stop()}},e,this)})),s(e,l({},t,{dispatch:h.dispatch,getState:h.getState})),h};var c=n(321),f=n(357),d=r(f),p=n(353)}).call(t,n(509))},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){h&&d&&(h=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!h){var e=r(o);h=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,h=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var d,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(){return[]},f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);t["default"]={init:function(e){var t=e.storylines,n=e.dispatch;(0,r.watch)({collection:t,collectionName:"storylines",dispatch:n,attributes:["id"],includeConfiguration:!0})},createReducers:function(){return{storylines:(0,r.createReducer)("storylines")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346);t["default"]={init:function(e){var t=e.chapters,n=e.dispatch;(0,r.watch)({collection:t,collectionName:"chapters",dispatch:n,attributes:["id","title","position","storyline_id"]})},createReducers:function(){return{chapters:(0,r.createReducer)("chapters")}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(513),o=n(514),a=r(o),s=n(309);t["default"]={createReducers:function(){return{pageTypes:a["default"]}},init:function(e){var t=e.pageTypesSeed;(0,e.dispatch)((0,i.init)({pageTypes:s.camelize.deep(t)}))}}},function(e,t){"use strict";function n(e){var t=e.pageTypes;return{type:r,payload:{pageTypes:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="PAGE_TYPES_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.INIT:return t.payload.pageTypes;default:return e}};var r=n(513)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.reducers=undefined;var i=n(516),o=r(i),a=n(518),s=r(a);t["default"]={init:function(e){var t=e.isServerSide,n=e.events,r=e.dispatch;t||(0,s["default"])(n,r)},createReducers:function(){return{currentPageId:o["default"]}}};t.reducers={currentPageId:o["default"]};t.watch=s["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,t=arguments[1];switch(t.type){case r.PAGE_CHANGE:return t.payload.id;default:return e}};var r=n(517)},function(e,t){"use strict";function n(e){var t=e.id;return{type:r,payload:{id:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageChange=n;var r=t.PAGE_CHANGE="CURRENT_PAGE_CHANGE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("page:change",function(e){return t((0,r.pageChange)({id:e.getPermaId()}))})};var r=n(517)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(346),i=n(309),o=n(321);t["default"]={init:function(e){var t=e.files,n=e.dispatch;Object.keys(t).forEach(function(e){(0,r.watch)({collection:t[e],collectionName:(0,i.camelize)(e),dispatch:n,attributes:["id","basename","variants","is_ready","parent_file_id","parent_file_model_type","width","height"],includeConfiguration:!0})})},createReducers:function(e){var t=e.files,n=e.fileUrlTemplates,a=n===undefined?{}:n,s=e.modelTypes,u=s===undefined?{}:s;return a=i.camelize.keys(a),u=i.camelize.keys(u),{files:(0,o.combineReducers)(Object.keys(t).reduce(function(e,t){return t=(0,i.camelize)(t),e[t]=(0,r.createReducer)(t),e},{})),fileUrlTemplates:function(){return a},modelTypes:function(){return u}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,l.takeEvery)(u.UPDATE,regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.call)([e,e.set],n.payload.property,n.payload.value);case 2:case"end":return t.stop()}},t,this)}));case 2:case"end":return t.stop()}},t,this)})}function o(e,t){t((0,u.load)({settings:e.toJSON()})),e.on("change",function(){return t((0,u.load)({settings:e.toJSON()}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=undefined,t.createSaga=i,t.watch=o;var a=n(521),s=r(a),u=n(300),l=n(357),c=n(353);t["default"]={init:function(e){var t=e.isServerSide,n=e.settings,r=e.dispatch;t||(r((0,u.load)({settings:n.toJSON()})),n.on("change",function(){return r((0,u.load)({settings:n.toJSON()}))}))},createReducers:function(){return{settings:s["default"]}},createSaga:function(e){var t=e.settings;return regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.takeEvery)(u.UPDATE,regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.call)([t,t.set],n.payload.property,n.payload.value);case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},e,this)})}};t.reducers={settings:s["default"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.LOAD:return t.payload.settings;default:return e}};var r=n(300)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(523),o=n(524),a=r(o);t["default"]={createReducers:function(){return{i18n:a["default"]}},init:function(e){var t=e.locale;(0,e.dispatch)((0,i.init)({locale:t}))}}},function(e,t){"use strict";function n(e){var t=e.locale;return{type:r,payload:{locale:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="I18N_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.INIT:return{locale:t.payload.locale};default:return e}};var r=n(523)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(526),o=n(527),a=r(o);t["default"]={init:function(e){var t=e.slug;(0,e.dispatch)((0,i.init)({slug:t}))},createReducers:function(){return{entry:a["default"]}}}},function(e,t){"use strict";function n(e){var t=e.slug;return{type:r,payload:{slug:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="ENTRY_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.INIT:return{slug:t.payload.slug};default:return e}};var r=n(526)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(444),i=n(487);t["default"]={init:function(e){var t=e.isServerSide,n=e.window,o=e.getState,a=e.dispatch;t||n.addEventListener("keydown",function(e){var t=o().currentPageId;e.keyCode==r.SPACE?a((0,i.space)({currentPageId:t})):e.keyCode==r.TAB&&a((0,i.tab)({currentPageId:t}))})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.reducers=undefined;var i=n(530),o=r(i),a=n(531),s=r(a);t["default"]={init:function(e){var t=e.isServerSide,n=e.hideText,r=e.dispatch;t||(0,o["default"])(n,r)},createReducers:function(){return{hideText:s["default"]}}};t.reducers={hideText:s["default"]};t.watch=o["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("activate",function(){return t((0,r.activate)())}),e.on("deactivate",function(){return t((0,r.deactivate)())})};var r=n(501)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:a;switch(arguments[1].type){case i.ACTIVATE:return{isActive:!0,hasBeenActive:!0};case i.DEACTIVATE:return r({},e,{isActive:!1});case o.PAGE_CHANGE:return r({},e,{hasBeenActive:!1});default:return e}};var i=n(501),o=n(517),a={isActive:!1,hasBeenActive:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return{enhance:function(n){a["default"].render(React.createElement(s.Provider,{store:t},React.createElement(e,null)),n[0])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createWidgetType=i;var o=n(399),a=r(o),s=n(367),u=n(346);t["default"]={init:function(e){var t=e.widgets,n=e.dispatch;(0,u.watch)({collection:t,collectionName:"widgets",dispatch:n,attributes:["role","type_name"],includeConfiguration:!0})},createReducers:function(){return{widgets:(0,u.createReducer)("widgets",{idAttribute:"role"})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(534),o=r(i),a=n(535);t["default"]={init:function(e){function t(){o((0,a.load)({widgets:{classicPlayerControls:i.isPresent("classic_player_controls"),slimPlayerControls:i.isPresent("slim_player_controls")}}))}var n=e.isServerSide,r=e.events,i=e.widgetsApi,o=e.dispatch;n||(r.on("widgets:update",t),t())},createReducers:function(){return{widgetPresence:o["default"]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.LOAD:return t.payload.widgets;default:return e}};var r=n(535)},function(e,t){"use strict";function n(e){var t=e.widgets;return{type:r,payload:{widgets:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n;var r=t.LOAD="WIDGETS_LOAD"},function(e,t,n){"use strict";function r(){(0,o.register)(),(0,a.register)(),(0,i.register)()}Object.defineProperty(t,"__esModule",{value:!0}),t.register=r;var i=n(537),o=n(540),a=n(541)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(a.Page,{className:"audioPage",page:e.page,file:e.audioFile,playerState:e.playerState,playerActions:e.playerActions,controlBarText:e.t("pageflow.public.start_audio")},React.createElement(a.PageBackgroundAsset,null),React.createElement(u["default"],{file:e.audioFile,playerState:e.playerState,playerActions:e.playerActions}))}function o(){(0,c["default"])("audio",{component:(0,f.connectInPage)((0,v.combineSelectors)({page:(0,p.pageAttributes)(),audioFile:(0,g.file)("audioFiles",{id:(0,p.pageAttribute)("audioFileId")}),playerState:(0,d.playerState)(),t:h.t}),(0,v.combine)({playerActions:(0,d.playerActions)()}))(i),reduxModules:[(0,a.reduxModule)(),a.pageBackgroundReduxModule]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(459),s=n(538),u=r(s),l=n(502),c=r(l),f=n(318),d=n(463),p=n(345),h=n(451),g=n(412),v=n(309)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(480),o=r(i),a=n(539),s=r(a);t["default"]=(0,o["default"])(s["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(469),o=r(i);t["default"]=(0,o["default"])({tagName:"audio",sources:function(e){return[{type:"audio/ogg",src:e.urls.ogg+"?u=1"},{type:"audio/mp4",src:e.urls.m4a+"?u=1"},{type:"audio/mp3",src:e.urls.mp3+"?u=1"}]},emulateTextTracksDisplay:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page;return React.createElement(a.PageWrapper,null,React.createElement(s.PageBackground,{page:t}),React.createElement(a.PageForeground,null,React.createElement(a.PageScroller,null,React.createElement(a.PageHeader,{page:t}),React.createElement(s.PagePrintImage,{page:t}),React.createElement(a.PageText,{page:t}))))}function o(){(0,l["default"])("background_image",{component:(0,c.connectInPage)((0,d.combineSelectors)({page:(0,f.pageAttributes)()}))(i),reduxModules:[s.pageBackgroundReduxModule]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(301),s=n(459),u=n(502),l=r(u),c=n(318),f=n(345),d=n(309)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(a.Page,{className:"videoPage",page:e.page,file:e.videoFile,qualities:v,playerState:e.playerState,playerActions:e.playerActions,controlBarText:e.t("pageflow.public.start_video")},React.createElement(a.PageVideoPlayer,{page:e.page,playerState:e.playerState,playerActions:e.playerActions}),React.createElement(a.MobilePageVideoPoster,{page:e.page}))}function o(){(0,u["default"])("video",{component:(0,l.connectInPage)((0,g.combineSelectors)({page:(0,f.pageAttributes)(),videoFile:(0,p.file)("videoFiles",{id:(0,f.pageAttribute)("videoFileId")}),playerState:(0,c.playerState)(),t:d.t}),(0,g.combine)({playerActions:(0,c.playerActions)()}))(i),reduxModules:[(0,a.reduxModule)({hideControls:!0,playsInNativePlayer:(0,h.has)("native video player")})]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(459),s=n(502),u=r(s),l=n(318),c=n(463),f=n(345),d=n(451),p=n(412),h=n(409),g=n(309),v=["auto","4k","fullhd","medium"]},function(e){e.exports=pageflow}]),pageflow.react.registerPageTypeWithDefaultBackground("internal_links_grid",{prepareNextPageTimeout:0,enhance:function(e){e.on("click","nav .thumbnail",function(){return pageflow.slides.goToByPermaId($(this).data("page"),{transition:$(this).data("pageTransition")}),!1})},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),e.find("nav").attr("data-layout",t.get("linked_pages_layout"))}}),pageflow.react.registerPageTypeWithDefaultBackground("internal_links_list",{prepareNextPageTimeout:0,enhance:function(e){e.on("click","nav a[data-page]",function(){return pageflow.slides.goToByPermaId($(this).data("page"),{transition:$(this).data("pageTransition")}),!1})},activated:function(e){this._updateThumbnailHeights(e)},resize:function(e){this._updateThumbnailHeights(e)},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find(".contentText p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this._updateThumbnailHeights(e)},_updateThumbnailHeights:function(e){e.find(".page_link.custom_thumbnail").each(function(){var e=$(".page_thumbnail",this),t=$(".details",this);$(this).hasClass("own_description")?e.css("bottom",t.outerHeight()+"px"):e.css("bottom","0")})}}),pageflow.externalLinks=pageflow.externalLinks||{},pageflow.react.registerPageTypeWithDefaultBackground("external_links",{prepareNextPageTimeout:0,enhance:function(e){var t=e.find(".ext-links"),n=this,r=e.find("#horizontal_scroller");e.find(".contentWrapper");this.linkScroller=new IScroll(t[0],{mouseWheel:!0,bounce:!1,keyBindings:!0,scrollX:!0,scrollY:!1,probeType:2,eventPassthrough:!0}),this.linkScroller.checkDisable=function(){n._checkForIScroll(t,r,e.find(".arrow-forward"),e.find(".arrow-back"),e)},this.linkScroller.updateHeight=function(){n._adjustHeight(e)},t.data("scroller",this.linkScroller),n.linkScroller.on("scroll",function(){n.linkScroller.checkDisable()}),e.find(".arrow-back").on("click",function(e){var r=Math.round(n.linkScroller.x/-260-t.width()/260/2,10);return r<=1?n.linkScroller.scrollTo(0,0,500,IScroll.ease.quadratic):n.linkScroller.scrollToElement($(".page.active #horizontal_scroller a")[r],500,0,0,IScroll.ease.quadratic),n.linkScroller.checkDisable(),e.stopPropagation(),!1}),e.find(".arrow-forward").on("click",function(e){var i=Math.round(n.linkScroller.x/-260+t.width()/260/2,10);return i==r.find("a").length-1?n.linkScroller.scrollTo(n.linkScroller.maxScrollX,0,500,IScroll.ease.quadratic):n.linkScroller.scrollToElement($(".page.active #horizontal_scroller a")[i]),n.linkScroller.checkDisable(),e.stopPropagation(),!1})},resize:function(){this.linkScroller.refresh(),this.linkScroller.checkDisable()},_checkForIScroll:function(e,t,n,r,i){i.width()<=700?this.linkScroller.disable():t.width()<=e.width()?(this.linkScroller.disable(),n.css("display","none"),r.css("display","none")):(this.linkScroller.enable(),this.linkScroller.x==this.linkScroller.maxScrollX?n.css("display","none"):n.css("display","block"),0===this.linkScroller.x?r.css("display","none"):r.css("display","block"))},_adjustHeight:function(e){var t=e.find(".ext-links"),n=e.find(".ext-links > div");t.height(n.height()),this.scroller.refresh()},prepare:function(){},activating:function(){this.linkScroller.refresh(),this.linkScroller.checkDisable()},activated:function(e){this._adjustHeight(e)},deactivating:function(){},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find(".contentText p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this.linkScroller.refresh(),this.linkScroller.checkDisable()},embeddedEditorViews:function(){return{".ext-links":{view:pageflow.externalLinks.ListEmbeddedView,options:{propertyName:"linked_external_site_perma_ids"}}}}}),pageflow.linkmapPage=pageflow.linkmapPage||{},pageflow.linkmapPage.markerOptions=["no_marker","dynamic_marker"],pageflow.features.register("slideshow","page_type.linkmap_page",function(){pageflow.linkmapPage.visitedPages=[],pageflow.events.on("page:change",function(e){pageflow.linkmapPage.visitedPages.indexOf(e.getPermaId())<0&&pageflow.linkmapPage.visitedPages.push(e.getPermaId())})}),pageflow.pageType.register("linkmap_page",_.extend({scrollerOptions:{freeScroll:!0,scrollX:!0,noMouseWheelScrollX:!0},noHideTextOnSwipe:!0,enhance:function(e,t){this.setupPanoramaBackground(e,t),this.setupHoverImages(e,t),this.setupVideoPlayer(e),this.content=e.find(".scroller"),this.panorama=e.find(".panorama"),this.content.linkmapPanorama({page:e,panorama:function(){return e.find(".panorama.active")},scroller:this.scroller,activeAreasSelector:".linkmap_areas > .hover_area",limitScrolling:t.limit_scrolling,minScaling:pageflow.browser.has("mobile platform"),addEnvironment:t.add_environment,marginScrollingDisabled:t.margin_scrolling_disabled,startScrollPosition:this.getPanoramaStartScrollPosition(t)}),this.content.linkmapLookaround({scroller:this.scroller,marginScrollingDisabled:t.margin_scrolling_disabled}),e.find(".linkmap_page").linkmapScrollIndicators({scroller:this.scroller}),e.find(".hover_video").linkmapHoverVideo({video:e.find(".panorama_video")}),this.linkmapAreas=e.find(".linkmap_areas"),this.linkmapAreas.linkmap({hoverImageUrl:this.linkmapAreas.data("hoverImageUrl"),visitedImageUrl:this.linkmapAreas.data("visitedImageUrl"),maskSpriteUrlTemplate:this.linkmapAreas.data("maskSpriteUrlTemplate"),masksData:t.linkmap_masks,baseImage:function(){return e.find(".panorama.active")},hoverVideo:e.find(".hover_video").linkmapHoverVideo("instance"),hoverVideoEnabled:"hover_video"===t.background_type}),this.setupPageLinkAreas(e),this.setupExternalLinkAreas(e),this.setupAudioFileAreas(e,t)},getPanoramaStartScrollPosition:function(e){function t(t){return t in e?e[t]/100:.5}return"video"===e.background_type?{x:t("panorama_video_x"),y:t("panorama_video_y")}:{x:t("panorama_image_x"),y:t("panorama_image_y")}},setupPanoramaBackground:function(e,t){e.find(".panorama_image").toggleClass("active",!this.isBackgroundVideoEnabled(t)),e.find(".panorama_video").toggleClass("active",this.isBackgroundVideoEnabled(t))},setupHoverImages:function(e,t){e.find(".hover_image").toggle(!this.isHoverVideoEnabled(t))},setupVideoPlayer:function(e){var t=e.find(".panorama_video"),n=t.find("[data-template=video]");t.attr("data-width",n.data("videoWidth")).attr("data-height",n.data("videoHeight")),this.videoPlayer=new pageflow.VideoPlayer.Lazy(n,{volumeFading:!0,width:"100%",height:"100%"}),t.data("videoPlayer",this.videoPlayer)},setupPageLinkAreas:function(e){e.on("linkmapareaclick",'[data-target-type="page"]',function(){var e=$(this);pageflow.slides.goToByPermaId(e.data("targetId"),{transition:e.data("pageTransition")})})},setupExternalLinkAreas:function(e){e.on("linkmapareaclick",'[data-target-type="external_site"]',function(){var e=$(this);e.attr("target")?window.open(e.attr("href"),e.attr("target")):window.location.href=e.attr("href")})},setupAudioFileAreas:function(e,t){this.multiPlayer=pageflow.audio.createMultiPlayer({playFromBeginning:!0,fadeDuration:1e3,hooks:pageflow.atmo.createMediaPlayerHooks(t)}),e.linkmapAudioPlayersController({player:this.multiPlayer}),e.find('[data-target-type="audio_file"]').linkmapAudioPlayerControls()},resize:function(){this.content.linkmapPanorama("refresh"),this.linkmapAreas.linkmap("refresh")},prepare:function(e,t){if(this.isVideoEnabled(t))return this.videoPlayer.ensureCreated()},unprepare:function(e,t){if(this.isVideoEnabled(t))return this.videoPlayer.scheduleDispose()},linkedPages:function(e,t){return _(t.linkmap_areas).select(function(e){return"page"===e.target_type}).map(function(e){return e.target_id})},preload:function(e){return pageflow.preload.backgroundImage(e.find(".background_image"))},activating:function(e,t){this.isVideoEnabled(t)&&this.playVideo(t),this.content.linkmapPanorama("refresh"),this.linkmapAreas.linkmap("refresh"),this.content.linkmapLookaround("activate"),this.content.linkmapPanorama("resetScrollPosition"),this.content.linkmapPanorama("resetAreaHighlighting")},activated:function(){this.content.linkmapPanorama("highlightAreas")},deactivating:function(){this.multiPlayer.pause(),this.content.linkmapLookaround("deactivate")},deactivated:function(e,t){this.isVideoEnabled(t)&&this.pauseVideo(t)},update:function(e,t){this.setupPanoramaBackground(e,t.attributes),this.updateCommonPageCssClasses(e,t),this.linkmapAreas.linkmap("updateHoverVideoEnabled","hover_video"===t.get("background_type")),this.afterEmbeddedViewsUpdate(function(){this.linkmapAreas.linkmap("option","hoverImageUrl",t.getImageFileUrl("hover_image_id",{styleGroup:"panorama"})),this.linkmapAreas.linkmap("option","visitedImageUrl",t.getImageFileUrl("visited_image_id",{styleGroup:"panorama"})),this.linkmapAreas.linkmap("option","masksData",t.get("linkmap_masks")),this.content.linkmapPanorama("update",t.get("add_environment"),t.get("limit_scrolling"),this.getPanoramaStartScrollPosition(t.attributes),!1),this.updateScaledOnPhoneFlags(t.page,this.content.linkmapPanorama("instance")),this.content.linkmapLookaround("update",t.get("margin_scrolling_disabled")),this.setupHoverImages(e,t.attributes),this.updateVideoPlayState(t),this.linkmapAreas.linkmap("refresh"),this.scroller.refresh()})},updateScaledOnPhoneFlags:function(e,t){e.set("scaled_on_portrait_phone",t.getPanoramaSize({pageWidth:360,pageHeight:640,minScaling:!0}).scaled),e.set("scaled_on_landscape_phone",t.getPanoramaSize({pageWidth:640,pageHeight:360,minScaling:!0}).scaled)},updateVideoPlayState:function(e){e.hasChanged("background_type")&&(this.isVideoEnabled(e.attributes)?this.playVideo(e.attributes):this.pauseVideo(e.attributes))},afterEmbeddedViewsUpdate:function(e){setTimeout(_.bind(e,this),10)},isVideoEnabled:function(e){return!pageflow.browser.has("mobile platform")&&("video"===e.background_type||"hover_video"===e.background_type)},isBackgroundVideoEnabled:function(e){return!pageflow.browser.has("mobile platform")&&"video"===e.background_type},isHoverVideoEnabled:function(e){
return!pageflow.browser.has("mobile platform")&&"hover_video"===e.background_type},playVideo:function(e){var t=this;this.videoPlayer.ensureCreated(),this.prebufferingPromise=this.videoPlayer.prebuffer().then(function(){"video"===e.background_type&&t.videoPlayer.playAndFadeIn(1e3)})},pauseVideo:function(){this.videoPlayer.fadeOutAndPause(1e3),this.videoPlayer.scheduleDispose()}},pageflow.commonPageCssClasses)),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.gyro=t()}(this,function(){var e={x:null,y:null,z:null,alpha:null,beta:null,gamma:null},t={x:0,y:0,z:0,alpha:0,beta:0,gamma:0},n=null,r=[],i={frequency:500,calibrate:function(){for(var n in e)t[n]="number"==typeof e[n]?e[n]:0},getOrientation:function(){return e},startTracking:function(t){n=setInterval(function(){t(e)},i.frequency)},stopTracking:function(){clearInterval(n)},hasFeature:function(e){for(var t in r)if(e==r[t])return!0;return!1},getFeatures:function(){return r}};return window&&window.addEventListener&&function(){function n(i){r.push("MozOrientation"),i.target.removeEventListener("MozOrientation",n,!0),i.target.addEventListener("MozOrientation",function(n){e.x=n.x-t.x,e.y=n.y-t.y,e.z=n.z-t.z},!0)}function i(n){r.push("devicemotion"),n.target.removeEventListener("devicemotion",i,!0),n.target.addEventListener("devicemotion",function(n){e.x=n.accelerationIncludingGravity.x-t.x,e.y=n.accelerationIncludingGravity.y-t.y,e.z=n.accelerationIncludingGravity.z-t.z},!0)}function o(n){r.push("deviceorientation"),n.target.removeEventListener("deviceorientation",o,!0),n.target.addEventListener("deviceorientation",function(n){e.alpha=n.alpha-t.alpha,e.beta=n.beta-t.beta,e.gamma=n.gamma-t.gamma},!0)}window.addEventListener("MozOrientation",n,!0),window.addEventListener("devicemotion",i,!0),window.addEventListener("deviceorientation",o,!0)}(),i}),function(e){e.widget("pageflow.linkmapHoverVideo",{activate:function(){var e=this.options.video;this.hoverVideoParent||(this.hoverVideoParent=e.parent(),e.appendTo(this.element))},deactivate:function(){var e=this.options.video;this.hoverVideoParent&&(e.prependTo(this.hoverVideoParent),this.hoverVideoParent=null,e.css({left:"auto",top:"auto",width:"auto",height:"auto"}))},schedulePlay:function(e){this.currentArea!==e.area&&(clearTimeout(this.playTimeout),this.currentArea=e.area,this.playTimeout=setTimeout(_.bind(function(){this.play(e)},this),500))},play:function(e){var t=this.options.video,n=e.area.position();t.width(e.baseImage.width()).height(e.baseImage.height()),this.element.css({left:n.left+"px",top:n.top+"px"}).width(e.area.width()).height(e.area.height()),this.element.linkmapAreaClip(n),t.data("videoPlayer").play(),this.element.addClass("playing")},pause:function(){clearTimeout(this.playTimeout),this.currentArea=null;var e=this.options.video.data("videoPlayer");setTimeout(function(){e.currentTime(0),e.pause()},300),this.element.removeClass("playing")}})}(jQuery),function(e){var t=32,n=190;e.widget("pageflow.linkmap",{_create:function(){var t=this;this.lastImageUrls={},this.imagePromises={},this.refresh(),t.options.hoverVideoEnabled&&t.options.hoverVideo.activate(),this.element.on("mousemove",".hover_area",function(){var n=e(this);t.options.hoverVideoEnabled&&t.options.hoverVideo.schedulePlay({area:n,baseImage:t.options.baseImage()})}),this.element.on("mouseleave",".hover_area",function(){t.options.hoverVideoEnabled&&t.options.hoverVideo.pause()}),this.element.on("click",function(n){var r=t.areaAt(t.positionFromEvent(n));return r.length?r.first().trigger(e.Event("linkmapareaclick",{originalEvent:n})):t._trigger("backgroundclick"),!1}),this.element.on("mousemove mouseleave",function(e){t.updateHoverStates(e)})},areaAt:function(t){return this.element.find(".hover_area").filter(function(){return e(this).linkmapAreaContains(t)}).first()},updateHoverStates:function(t){var n=this.positionFromEvent(t);this.element.find(".hover_area").each(function(){var t=e(this),r=t.linkmapAreaContains(n);t.hasClass("hover")&&!r&&t.trigger("linkmaparealeave")}),this.element.find(".hover_area").each(function(){var t=e(this),r=t.linkmapAreaContains(n);!t.hasClass("hover")&&r&&t.trigger("linkmapareaenter"),t.css("cursor",r&&"text_only"!==t.attr("data-target-type")?"pointer":"default"),t.toggleClass("hover",r)})},positionFromEvent:function(e){var t=this.element[0].getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;return{leftInPixel:n,topInPixel:r,leftInPercent:n/this.element.width()*100,topInPercent:r/this.element.height()*100}},updateHoverVideoEnabled:function(e){e?this.options.hoverVideo.activate():this.options.hoverVideo.deactivate(),this.options.hoverVideoEnabled=e},refresh:function(){var t=this.element.find(".hover_area"),n=this;e.when(this.loadImage("hover"),this.loadImage("visited"),this.loadMasks()).then(function(e,r,i){var o=n.options.baseImage(),a=o.width(),s=o.height();t.linkmapAreaRedraw({target:".hover_image",image:e,width:a,height:s,masks:i}),t.linkmapAreaRedraw({target:".visited_image",image:r,width:a,height:s,masks:i})}),t.linkmapAreaClip(),t.linkmapAreaFormat(),t.linkmapAreaVisited()},loadImage:function(e){var t=this.options[e+"ImageUrl"];return this.lastImageUrls[e]!==t&&(this.lastImageUrls[e]=t,this.imagePromises[e]=t&&pageflow.linkmapPage.RemoteImage.load(t)),this.imagePromises[e]},loadMasks:function(){var t=this,n=this.options.masksData&&this.options.masksData.id;return this.lastMaskImageId!==n&&(this.lastMaskImageId=n,this.masksPromise=this.options.masksData?pageflow.linkmapPage.Masks.deserialize(this.options.masksData,this.options.maskSpriteUrlTemplate):e.when(pageflow.linkmapPage.Masks.empty),this.masksPromise.then(function(e){t._trigger("updatemasks",null,{masks:e})})),this.masksPromise}}),e.fn.linkmapAreaClip=function(t){this.each(function(){var n=e(this),r=n.find(".panorama_video, .hover_image, .visited_image"),i=t||n.position();r.css({left:-i.left+"px",top:-i.top+"px"})})},e.fn.linkmapAreaFormat=function(){this.each(function(){var r=e(this),i=r.find(".linkmap_marker");r.toggleClass("portrait",r.width()<=r.height()),r.toggleClass("landscape",r.width()>r.height()),r.toggleClass("small",r.width()<=n||r.height()<=n),r.width()<=r.height()?i.css({width:r.width()-t,height:r.width()-t}):i.css({width:r.height()-t,height:r.height()-t})})},e.fn.linkmapAreaVisited=function(){this.each(function(){var t=e(this),n="page"===t.data("targetType")&&pageflow.linkmapPage.visitedPages.indexOf(t.data("targetId"))>=0;t.toggleClass("visited",n)})}}(jQuery),$.fn.linkmapAreaContains=function(e){var t=$(this),n=t.data("mask");if(n)return n.contains(e.leftInPercent/100,e.topInPercent/100);var r=t.position(),i=t.width(),o=t.height();return e.leftInPixel>=r.left&&e.leftInPixel<r.left+i&&e.topInPixel>=r.top&&e.topInPixel<r.top+o},$.fn.linkmapAreaRedraw=function(e){this.each(function(){var t=$(this),n=(t.position(),e.masks&&e.masks.findByPermaId(t.attr("data-mask-id")));t.data("mask",n||null);var r=t.find("canvas").filter(e.target)[0];if(r){var i=r.getContext("2d");e.image?(r.width=e.width,r.height=e.height,n&&(n.draw(i,e.width),i.globalCompositeOperation="source-in"),e.image&&e.image.draw(r)):i.clearRect(0,0,e.width,e.height)}})},pageflow.linkmapPage.ColorMap=function(){function e(e,t,n){this.width=e,this.height=t,this.components=n,this.sumOfComponentWidths=function(){return _(n).reduce(function(e,t){return e+t.boundingBox.width},0)},this.maxComponentHeight=function(){return _(n).reduce(function(e,t){return Math.max(e,t.boundingBox.height)},0)},this.serialize=function(){return{w:this.width,h:this.height,c:_(n).map(function(e){return{c:e.color,l:e.boundingBox.left,t:e.boundingBox.top,w:e.boundingBox.width,h:e.boundingBox.height}})}}}function t(e,t){return 0===e[t]&&0===e[t+1]&&0===e[t+2]||0===e[t+3]}function n(e,t,n){var i=t-4*n,o=t+4*n;return i>=0&&o<e.length&&r(e,t,i)&&r(e,t,o)}function r(e,t,n){return e[t]===e[n]&&e[t+1]===e[n+1]&&e[t+2]===e[n+2]&&e[t+3]===e[n+3]}function i(){var e=new Error("No big enough components detected.");return e.i18nKey="pageflow.linkmap_page.errors.no_big_enough_color_map_components",e}return e.deserialize=function(t){return new e(t.w,t.h,_(t.c).map(function(e){return{color:e.c,boundingBox:{left:e.l,top:e.t,width:e.w,height:e.h,right:e.l+e.w,bottom:e.t+e.h}}}))},e.fromImageData=function(r){for(var o,a,s,u,l,c=r.width,f=r.height,d=r.get(0,0,c,f).data,p={},h=[],g=0;g<f;g++){u=null,l=0;for(var v=0;v<c;v++)o=4*(g*c+v),t(d,o)||(a=[d[o],d[o+1],d[o+2]].join("-"),s=p[a],u===a&&n(d,o,c)?l+=1:(u=a,l=1),s?(s.left=Math.min(s.left,v),s.top=Math.min(s.top,g),s.right=Math.max(s.right,v+1),s.bottom=Math.max(s.bottom,g+1),s.longestStreak=Math.max(s.longestStreak,l)):(s=p[a]={color:[d[o],d[o+1],d[o+2]],left:v,top:g,right:v+1,bottom:g+1,longestStreak:l},h.push(s)))}if(h=_(h).select(function(e){return e.longestStreak>7}),0===h.length)throw i();return new e(c,f,_(h).map(function(e){return{color:e.color,boundingBox:{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}}}))},e}(),pageflow.linkmapPage.ImageData=function(){function e(e,n){var r=document.createElement("canvas");this.width=e,this.height=n,r.width=e,r.height=n,this.loadImage=function(e){e.draw(r,{disableImageSmoothing:!0})},this.draw=function(e,t,n,i,o,a,s,u,l){e.drawImage(r,t,n,i,o,a,s,u,l)},this.copyColorFrom=function(e,t,n,i){for(var o=e.data,a=r.getContext("2d"),s=0;s<o.length;s+=4)o[s]!=t[0]||o[s+1]!=t[1]||o[s+2]!=t[2]?o[s+3]=0:o[s+3]=255;a.putImageData(e,n,i)},this.getBoundingBox=function(e){return this.get(e.left,e.top,e.width,e.height)},this.get=function(e,t,n,i){return r.getContext("2d").getImageData(e,t,n,i)},this.toDataURL=function(){var e=r.toDataURL();if(!e.match(/^data:image/))throw new t;return e}}function t(){var e=new Error("Invalid data url from canvas.");return e.i18nKey="pageflow.linkmap_page.errors.invalid_image_data",e}return e.load=function(t){return pageflow.linkmapPage.RemoteImage.load(t).then(function(t){var n=new e(t.width(),t.height());return n.loadImage(t),n})},e}(),pageflow.linkmapPage.Mask=function(e){var t=e.sprite,n=e.spriteOffset,r=e.boundingBox;this.permaId=e.permaId,this.areaAttributes=function(){return{mask_perma_id:e.permaId,top:r.top/e.originalHeight*100,left:r.left/e.originalWidth*100,height:r.height/e.originalHeight*100,width:r.width/e.originalWidth*100}},this.contains=function(i,o){var a=i*e.originalWidth,s=o*e.originalHeight,u=a-r.left,l=s-r.top;return!(u<0||u>=r.width||l<0||l>=r.height)&&t.nonTransparentAt(n+u,l)},this.draw=function(i,o){var a=o/e.originalWidth;t.draw(i,n,r,a)}},pageflow.linkmapPage.MaskSprite=function(){function e(e,t){this.id=e,this.nonTransparentAt=function(e,n){return t.get(e,n,1,1).data[3]>0},this.draw=function(e,n,r,i){t.draw(e,n,0,r.width,r.height,r.left*i,r.top*i,r.width*i,r.height*i)},this.toDataURL=function(){return t.toDataURL()}}function t(e,t){return e.replace(":id_partition",n(t))}function n(e){return r(i(e,9),"/")}function r(e){return e.replace(/./g,function(e,t,n){return t&&(n.length-t)%3==0?"/"+e:e})}function i(e,t){return(_.times(t,function(){return"0"}).join("")+e).slice(-t)}return e.load=function(n,r){return pageflow.linkmapPage.ImageData.load(t(n,r)).then(function(t){return new e(r,t)})},e.fromColorMapImageData=function(t,n){var r=new pageflow.linkmapPage.ImageData(n.sumOfComponentWidths(),n.maxComponentHeight());return _(n.components).reduce(function(e,n){return r.copyColorFrom(t.getBoundingBox(n.boundingBox),n.color,e,0),e+n.boundingBox.width},0),new e("a",r)},e}(),pageflow.linkmapPage.Masks=function(){function e(e,t,i){this.findByPermaId=function(t){return _(e).detect(function(e){return e.permaId===t})},this.atPoint=function(t,n){return _(e).detect(function(e){return e.contains(t,n)})},this.draw=function(t,n){_(e).each(function(e){e.draw(t,n)})},this.each=function(t,n){_(e).each(t,n)},this.isEmpty=function(){return!e.length},this.serialize=function(e){var t={};return t[n]=e,t[r]=i.serialize(),t},this.getSpriteDataUrl=function(){return t.toDataURL()}}function t(t,n){var r=[],i=0;return _(n.components).reduce(function(e,o){return r.push(new pageflow.linkmapPage.Mask({permaId:t.id+":"+i.toString(),sprite:t,spriteOffset:e,originalWidth:n.width,originalHeight:n.height,boundingBox:o.boundingBox})),i+=1,e+o.boundingBox.width},0),new e(r,t,n)}var n="id",r="c";return e.empty=new e([]),e.loadColorMapImage=function(e){return pageflow.linkmapPage.ImageData.load(e).then(function(e){try{var n=pageflow.linkmapPage.ColorMap.fromImageData(e);return t(pageflow.linkmapPage.MaskSprite.fromColorMapImageData(e,n),n)}catch(e){return(new $.Deferred).reject(e).promise()}})},e.deserialize=function(e,i){return pageflow.linkmapPage.MaskSprite.load(i,e[n]).then(function(n){return t(n,pageflow.linkmapPage.ColorMap.deserialize(e[r]))})},e}(),pageflow.linkmapPage.RemoteImage=function(){function e(e,t){this.width=function(){return t.width},this.height=function(){return t.height},this.draw=function(e,n){n=n||{};var r=e.getContext("2d");n.disableImageSmoothing&&(r.imageSmoothingEnabled=!1),r.drawImage(t,0,0,e.width,e.height)}}function t(e){var t=new Error("Error while loading "+e+".");return t.i18nKey="pageflow.linkmap_page.errors.loading_remote_image_failed",t}return e.load=function(e){return new $.Deferred(function(n){function r(){n.resolve(new pageflow.linkmapPage.RemoteImage(e,o))}function i(){n.reject(t(e))}var o=new Image;o.onload=r,o.onerror=i,o.crossOrigin="Anonymous",o.src=e}).promise()},e}(),function(e){e.widget("pageflow.linkmapAudioPlayerControls",{_create:function(){var t=this;this.wrapper=e("<div />").addClass("linkmap_audio_player_controls").appendTo(this.element.find(".linkmap_marker")),this.playButton=e("<div />").addClass("play").appendTo(this.wrapper),this.pauseButton=e("<div />").addClass("pause").appendTo(this.wrapper),this.progressElement=e("<div />").addClass("progress").appendTo(this.wrapper),this.progressElement.html('<div class="audio_inline_progress"><div class="progress_inner"><div class="left_circle"><div class="circle_inner"><div class="circle_innerst"></div></div></div><div class="right_circle"><div class="circle_inner"><div class="circle_innerst"></div></div></div><div class="audio_inline_loading_spinner"><div class="circle_inner"><div class="circle_innerst"></div></div></div></div></div>'),this.currentTimeElement=e("<div />").addClass("current_time").appendTo(this.wrapper),this.durationElement=e("<div />").addClass("duration").appendTo(this.wrapper),this.playButton.on("click",function(e){t.element.addClass("loading"),t._trigger("play",null,{audioFileId:t.element.data("audioFile")}),e.preventDefault(),e.stopPropagation()}),this.pauseButton.on("click",function(e){t._trigger("pause",null,{audioFileId:t.element.data("audioFile")}),e.preventDefault(),e.stopPropagation()}),this.element.on("linkmapareaclick",function(){t.element.hasClass("dynamic_marker")||t._trigger("play",null,{audioFileId:t.element.data("audioFile")})}),this.progressElement.on("click",function(n){var r={x:e(this).offset().left+e(this).width()/2,y:e(this).offset().top+e(this).height()/2},i=180*Math.atan2(n.pageY-r.y,n.pageX-r.x)/Math.PI,o=(i+90)/360;o=o<0?1+o:o,t._trigger("seek",null,{positionInPercent:o,audioFileId:t.element.data("audioFile")}),n.stopPropagation()})},drawCircle:function(e){var t,n=this.element.find(".right_circle .circle_inner"),r=this.element.find(".left_circle .circle_inner"),i=this.element.find(".right_circle .circle_innerst"),o=this.element.find(".left_circle .circle_innerst"),a=Math.min(e/100*360,180),s=Math.max(e/100*360-180,0);t=a,n.attr("style","-webkit-transform: rotate("+t+"deg); -moz-transform: rotate("+t+"deg); -ms-transform: rotate("+t+"deg); -o-transform: rotate("+t+"deg); transform: rotate("+t+"deg)"),i.attr("style","-webkit-transform: rotate("+-t+"deg); -moz-transform: rotate("+-t+"deg); -ms-transform: rotate("+-t+"deg); -o-transform: rotate("+-t+"deg); transform: rotate("+-t+"deg)"),t=s,r.attr("style","-webkit-transform: rotate("+t+"deg); -moz-transform: rotate("+t+"deg); -ms-transform: rotate("+t+"deg); -o-transform: rotate("+t+"deg); transform: rotate("+t+"deg)"),o.attr("style","-webkit-transform: rotate("+-t+"deg); -moz-transform: rotate("+-t+"deg); -ms-transform: rotate("+-t+"deg); -o-transform: rotate("+-t+"deg); transform: rotate("+-t+"deg)")},playing:function(){this.element.addClass("loading")},notPlaying:function(){this.element.removeClass("playing loading")},cancelLoading:function(){this.element.removeClass("loading")},updateProgress:function(e){this.element.removeClass("loading"),this.element.addClass("playing"),this.currentTimeElement.text(e.formatTime(e.position())),this.durationElement.text(e.formatTime(e.duration()));var t=e.duration()>0?e.position()/e.duration()*100:0;this.drawCircle(t)},refresh:function(){}})}(jQuery),function(e){e.widget("pageflow.linkmapAudioPlayersController",{_create:function(){var t=this.options.player,n=this.element;this.delegatePlayerEvent("play","playing"),this.delegatePlayerEvent("pause ended","notPlaying"),this.delegatePlayerEvent("timeupdate","updateProgress"),t.on("play",function(t){n.find('[data-target-type="audio_file"]').each(function(){var n=e(this);n.data("audioFile")!==t.audioFileId&&n.linkmapAudioPlayerControls("cancelLoading")})}),this.element.on("linkmapaudioplayercontrolsplay",function(e,n){t.play(n.audioFileId)}),this.element.on("linkmapaudioplayercontrolspause",function(){t.pause()}),this.element.on("linkmapaudioplayercontrolsseek",function(e,n){t.seek(t.duration()*n.positionInPercent)})},delegatePlayerEvent:function(e,t){var n=this.element,r=this.options.player;r.on(e,function(e){var i='[data-audio-file="'+e.audioFileId+'"]';n.find(i).linkmapAudioPlayerControls(t,r)})}})}(jQuery),function(e){e.widget("pageflow.linkmapLookaround",{speedUp:10,drag:!1,_create:function(){this.disabled=!1,this.marginScrolling=!this.options.marginScrollingDisabled;var t=this.scroller=this.options.scroller,n=this;this.scrollStrategyX=new pageflow.linkmapPage.TargetSpeedStrategy({scrollerPosition:function(){return t.positionX()},scrollerMax:function(){return t.maxX()}},"x"),this.scrollStrategyY=new pageflow.linkmapPage.TargetSpeedStrategy({scrollerPosition:function(){return t.positionY()},scrollerMax:function(){return t.maxY()}},"y"),this.element.on("mousedown touchstart",function(){n.drag=!0,e(window).one("mouseup touchend",function(){n.drag=!1,n.initialBeta=null,n.initialGamma=null})}),this.element.on("mousedown",function(e){e.originalEvent.preventDefault()}),this.element.on("mouseenter",function(){n.scrollStrategyX.reset(),n.scrollStrategyY.reset()}),this.element.on("mouseleave",function(){n.scrollStrategyX.reset(),n.scrollStrategyY.reset()}),e(window).on("orientationchange",function(){n.drag=!1,n.initialBeta=null,n.initialGamma=null}),pageflow.browser.has("mobile platform")||this.element.on("mousemove",function(e){var t=n.element.width(),r=n.element.height();n.scrollStrategyX.updateMouse(e.pageX/t),n.scrollStrategyY.updateMouse(e.pageY/r)})},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},activate:function(){this.startInterval(),pageflow.browser.has("mobile platform")&&this.startGyro()},deactivate:function(){this.stopInterval(),pageflow.browser.has("mobile platform")&&this.stopGyro()},startInterval:function(){this.interval||(this.interval=setInterval(_.bind(this.onTick,this),25))},stopInterval:function(){this.interval&&(clearInterval(this.interval),this.interval=null)},onTick:function(){this.drag||!this.marginScrolling||this.disabled||this.scroller.scrollBy(this.scrollStrategyX.getNextScrollDelta(),this.scrollStrategyY.getNextScrollDelta())},update:function(e){this.marginScrolling=!e},startGyro:function(){var t=this;gyro.startTracking(function(n){if(t.initialBeta||(t.initialBeta=n.beta),t.initialGamma||(t.initialGamma=n.gamma),!this.drag){var r=n.gamma-t.initialGamma,i=n.beta-t.initialBeta;e(window).height()>=e(window).width()?(t.scrollStrategyX.updateGyro(r),t.scrollStrategyY.updateGyro(-i)):(t.scrollStrategyX.updateGyro(-i),t.scrollStrategyY.updateGyro(r))}})},stopGyro:function(){gyro.stopTracking()}})}(jQuery),pageflow.linkmapPage.TargetSpeedStrategy=function(e){function t(){if(Math.abs(s-a)>.01){var e=Math.abs(a)>Math.abs(s)?.02:.04;s=n(s+e*o(a-s),a)}else s=a}function n(e,t){return e>t?Math.max(e,t):Math.min(e,t)}function r(){c=!1,l=1,p()<.8*h()&&a>=0&&(l=(h()-p())/(.2*h()),c=!0),p()>.2*h()&&a<=0&&(l=p()/(.2*h()),c=!0),l>1&&(l=l)}function i(){f&&!c&&(s=u),f=c}function o(e){return e>0?1:-1}var a=0,s=0,u=0,l=1,c=!1,f=!1,d=.4,p=e.scrollerPosition,h=e.scrollerMax;this.reset=function(){a=0},this.updateGyro=function(e){this.updateTargetSpeed(Math.abs(e)<8?0:e/90)},this.updateMouse=function(e){var t=2*e-1,n=Math.abs(t)>1-d;this.updateTargetSpeed(n?(t-(1-d)*o(t))/d:0)},this.updateTargetSpeed=function(e){a=e},this.getNextScrollDelta=function(){return t(),r(),i(),10*-(u=s*l)}},function(e){e.widget("pageflow.linkmapPanorama",{scrollHoverMargin:.2,environmentMargin:.2,lastMouseMoveEvent:null,_create:function(){var t=this,n=this.options.page;this.addEnvironment=this.options.addEnvironment,this.panorama=this.options.panorama(),this.limitScrolling=this.options.limitScrolling,this.minScaling=this.options.minScaling,this.scroller=this.options.scroller,this.activeAreas=n.find(this.options.activeAreasSelector),this.panoramaWrapper=n.find(".panorama_wrapper"),this.innerScrollerElement=n.find(".linkmap"),this.overlayBox=n.find(".description_overlay"),this.overlayInnerBox=n.find(".description_overlay_wrapper"),this.overlayTitle=n.find(".description_overlay .link_title"),this.overlayDescription=n.find(".description_overlay .link_description"),this.touchIndicator=n.find(".touch_indicator"),this.externalLinkLoadingIndicator=n.find(".external_link_loading_indicator"),this.globalIndicators=this.touchIndicator.add(this.externalLinkLoadingIndicator),this.startScrollPosition=_.clone(this.options.startScrollPosition),this.currentScrollPosition=null,this.refresh(),this.scroller.onScrollEnd(function(){t.updateScrollPosition()}),e(window).on("resize",function(){t.centerToPoint(null,0)}),this.element.on("mousemove",function(e){t.lastMouseMoveEvent=e,t.calcAreaOpacity(t.activeAreas,e.pageX,e.pageY)}),n.on("linkmapareaenter",".hover_area",function(){r(e(this))}),n.on("click linkmapbackgroundclick",function(){t.overlayBox.removeClass("active"),t.activeAreas.removeClass("hover hover_mobile"),t.globalIndicators.hide()}),e("body").on("linkmaparealeave",".hover_area",function(){t.overlayBox.removeClass("active")}),n.on("dragstart resizestart",".hover_area",function(){t.overlayBox.removeClass("active")}),t.activeAreas.each(function(){var n=e(this);n.on("linkmapareaclick",function(a){if(pageflow.browser.has("mobile platform")){if(!n.hasClass("hover_mobile"))return t.activeAreas.removeClass("hover hover_mobile"),n.addClass("hover hover_mobile"),r(e(this)),n.hasClass("dynamic_marker")||o(a.originalEvent),!1;t.activeAreas.removeClass("active"),n.addClass("active")}else t.activeAreas.removeClass("active"),n.addClass("active");!n.hasClass("dynamic_marker")&&n.hasClass("external_site_area")&&i(a.originalEvent)})});var r=function(r){if(!r.is(".editing")){var i=r.find(".link_title").html(),o=r.find(".link_description").html();if(i||o){if(t.overlayTitle.html(i),t.overlayDescription.html(o),t.overlayBox.addClass("active"),t.panorama.width()-(r.position().left+r.outerWidth())<t.overlayBox.outerWidth()){var a="left";t.overlayBox.addClass("left_aligned")}else{var s=r.offset().left;if(s<e(n).width()-r.offset().left-r.outerWidth()||s<t.overlayBox.outerWidth()){var a="right";t.overlayBox.removeClass("left_aligned")}else{var a="left";t.overlayBox.addClass("left_aligned")}}"right"==a&&(t.overlayBox.removeClass("left_aligned"),t.overlayBox.css({left:r.position().left+r.width(),top:r.position().top,"margin-top":r.height()/2})),"left"==a&&(t.overlayBox.addClass("left_aligned"),t.overlayBox.css({left:r.position().left-t.overlayBox.outerWidth(),top:r.position().top,"margin-top":r.height()/2}));var u=t.panorama.height()-r.position().top,l=e(n).height()-r.offset().top-r.height()/2,c=e(n).height()-50;t.overlayBox.outerHeight()>u?t.overlayInnerBox.css("top",u-t.overlayInnerBox.outerHeight()-40-r.height()/2+"px"):t.overlayInnerBox.css("top","0px");var f=10;l<t.overlayBox.outerHeight()&&t.overlayBox.outerHeight()+f<c?(f=l-t.overlayBox.outerHeight()-f,t.overlayInnerBox.css("top",f+"px")):t.overlayInnerBox.css("top","0px")}}},i=function(e){s(t.externalLinkLoadingIndicator,e),t.externalLinkLoadingIndicator.show()},o=function(e){s(t.touchIndicator,e),a()},a=function(){t.touchIndicator.hide(),setTimeout(function(){t.touchIndicator.show()},500)},s=function(e,n){var r=t.panoramaWrapper[0].getBoundingClientRect(),i=n.touches?n.touches[0]:n;e.css({left:i.clientX-r.left,top:i.clientY-r.top})};this.refresh()},calcAreaOpacity:function(t,n,r){function i(e,t,n){return Math.floor(Math.sqrt(Math.pow(t-(e.offset().left+e.width()/2),2)+Math.pow(n-(e.offset().top+e.height()/2),2)))}if(!pageflow.browser.has("mobile platform")){var o=this.options.page,a=o.width()>o.height()?o.height():o.width(),s=.4;t.each(function(){var t=i(e(this),n,r);if(t<=a){var o=1+s-Math.sqrt(t/a);e(this).find(".linkmap_marker.no_transition").css("opacity",o)}else e(this).find(".linkmap_marker.no_transition").css("opacity",s)})}},highlightAreas:function(){var e=this.element;e.find(".linkmap_marker").addClass("teasing"),setTimeout(function(){e.find(".linkmap_marker").removeClass("teasing")},1e3),setTimeout(function(){e.find(".linkmap_marker").addClass("no_transition")},2e3)},resetAreaHighlighting:function(){var e=this.element;e.find(".linkmap_marker").removeClass("no_transition teasing"),e.find(".linkmap_marker").css("opacity",pageflow.browser.has("mobile platform")?"0.8":"0.4")},getScrollArea:function(t){var n,r=this.panorama,i=this.options.page;this.startScrollPosition;return t.length&&this.limitScrolling?(n={top:this.startScrollPosition.y*r.height(),left:this.startScrollPosition.x*r.width(),bottom:this.startScrollPosition.y*r.height(),right:this.startScrollPosition.x*r.width()},t.each(function(){var t=e(this);n.top=n.top>t.position().top?t.position().top:n.top,n.left=n.left>t.position().left?t.position().left:n.left,n.bottom=n.bottom<t.position().top+t.height()?t.position().top+t.height():n.bottom,n.right=n.right<t.position().left+t.width()?t.position().left+t.width():n.right}),n.top=Math.max(0,n.top-i.height()*this.scrollHoverMargin),n.left=Math.max(0,n.left-i.width()*this.scrollHoverMargin),n.bottom=Math.min(r.height(),n.bottom+i.height()*this.scrollHoverMargin),n.right=Math.min(r.width(),n.right+i.width()*this.scrollHoverMargin)):n={top:r.position().top,left:r.position().left,bottom:r.position().top+r.height(),right:r.position().left+r.width()},n},update:function(e,t,n,r){this.addEnvironment=e,this.limitScrolling=t,this.startScrollPosition=_.clone(n),this.minScaling=r,this.refresh()},refresh:function(){this.keepingScrollPosition(function(){var e=this.options.page;this.panorama=this.options.panorama(),this.panoramaSize=this.getPanoramaSize({pageWidth:e.width(),pageHeight:e.height(),minScaling:this.minScaling}),this.panorama.width(this.panoramaSize.width),this.panorama.height(this.panoramaSize.height),e.toggleClass("linkmap_panorama_h","h"===this.panoramaSize.orientation),e.toggleClass("linkmap_panorama_v","v"===this.panoramaSize.orientation),this.activeAreas=e.find(this.options.activeAreasSelector),this.scrollArea=this.getScrollArea(this.activeAreas),this.innerScrollerElement.addClass("measuring"),this.innerScrollerElement.width(this.scrollArea.right-this.scrollArea.left),this.innerScrollerElement.height(this.scrollArea.bottom-this.scrollArea.top);var t=Math.max(0,(e.width()-(this.scrollArea.right-this.scrollArea.left))/2),n=Math.max(0,(e.height()-(this.scrollArea.bottom-this.scrollArea.top))/2),r=this.scrollArea.left-t,i=this.scrollArea.top-n,o=this.panoramaSize.width-e.width(),a=this.panoramaSize.height-e.height();this.panoramaWrapper.css({left:-Math.min(o,Math.max(0,r))+"px",top:-Math.min(a,Math.max(0,i))+"px"}),this.innerScrollerElement.removeClass("measuring"),this.scroller.refresh()})},getPanoramaSize:function(t){return pageflow.linkmapPage.getPanoramaSize({pageWidth:t.pageWidth,pageHeight:t.pageHeight,panoramaWidth:this.panorama.attr("data-width"),panoramaHeight:this.panorama.attr("data-height"),areaDimensions:this.activeAreas.map(function(){var t=e(this);return{width:t.attr("data-width"),height:t.attr("data-height")}}).get(),minScaling:t.minScaling,addEnvironment:this.addEnvironment})},resetScrollPosition:function(){this.centerToPoint(this.panoramaToScroller(this.startScrollPosition),0)},centerToPoint:function(e,t){e=e||this.currentScrollPosition;var n=this.scroller.maxX()*e.x,r=this.scroller.maxY()*e.y;this.scroller.scrollTo(n,r,t),this.currentScrollPosition=this.currentScrollPosition||e},keepingScrollPosition:function(e){var t;t=this.currentScrollPosition?this.scrollerToPanorama(this.currentScrollPosition):this.startScrollPosition,e.call(this),this.centerToPoint(this.panoramaToScroller(t))},scrollerToPanorama:function(e){var t=this.scrollArea.right-this.scrollArea.left,n=this.scrollArea.bottom-this.scrollArea.top;return{x:0===this.panoramaSize.width?0:(this.scrollArea.left+e.x*t)/this.panoramaSize.width,y:0===this.panoramaSize.height?0:(this.scrollArea.top+e.y*n)/this.panoramaSize.height}},panoramaToScroller:function(e){var t=this.scrollArea.right-this.scrollArea.left,n=this.scrollArea.bottom-this.scrollArea.top;return{x:0===t?0:(e.x*this.panoramaSize.width-this.scrollArea.left)/t,y:0===n?0:(e.y*this.panoramaSize.height-this.scrollArea.top)/n}},updateScrollPosition:function(){var e=this;setTimeout(function(){e.currentScrollPosition.x=0!==e.scroller.maxX()?e.scroller.positionX()/e.scroller.maxX():0,e.currentScrollPosition.y=0!==e.scroller.maxY()?e.scroller.positionY()/e.scroller.maxY():0},10),this.lastMouseMoveEvent&&this.calcAreaOpacity(this.activeAreas,this.lastMouseMoveEvent.pageX,this.lastMouseMoveEvent.pageY)}})}(jQuery),pageflow.linkmapPage.getPanoramaSize=function(){function e(e){var n=Math.min(e.panoramaWidth,e.panoramaHeight);return _(e.areaDimensions).each(function(t){var r=t.width/100*e.panoramaWidth,i=t.height/100*e.panoramaHeight;n=Math.min(n,Math.min(r,i))}),t/n}var t=30;return function(t){var n,r={scaled:!1},i=t.addEnvironment?1.2:1,o=t.pageWidth/t.pageHeight;if(n=t.panoramaHeight>0?t.panoramaWidth/t.panoramaHeight:1,n>o?(r.height=t.pageHeight*i,r.width=r.height*n,r.orientation="h"):(r.width=t.pageWidth*i,r.height=r.width/n,r.orientation="v"),t.minScaling){var a=e(t);r.width<t.panoramaWidth*a&&(r.width=t.panoramaWidth*a,r.height=t.panoramaHeight*a,r.scaled=!0)}return r}}(),function(e){var t=40;e.widget("pageflow.linkmapScrollIndicators",{_create:function(){function e(){n.toggleClass("can_scroll_left",Math.ceil(r.positionX())<-t),n.toggleClass("can_scroll_right",Math.floor(r.positionX())>r.maxX()+t),n.toggleClass("can_scroll_up",Math.ceil(r.positionY())<-t),n.toggleClass("can_scroll_down",Math.floor(r.positionY())>r.maxY()+t)}var n=this.element,r=this.options.scroller;r.onScroll(e),r.onScrollEnd(e),e()}})}(jQuery),pageflow.textPage=pageflow.textPage||{},pageflow.textPage.titlePositions=["left","center","right"],pageflow.textPage.inlineTextPositions=["left","center","right"],pageflow.textPage.textCoverageOptions=["extend_into","banner","title_only"],pageflow.react.registerPageTypeWithDefaultBackground("text_page",{prepareNextPageTimeout:0,enhance:function(e,t){this.content=e.find(".scroller"),this.scrollingDiv=e.find(".scroller > div"),this.pageSpacerElement=e.find(".page_spacer"),this.contentArea=e.find(".contentText"),this.backgroundAsset=e.find(".page_background_asset"),this.inlineImage=e.find(".inline_image"),this.inlineImageInitialOffset=e.find(".contentText h3").position().top+e.find(".contentText h3").outerHeight(),this.fullScreenLayer=e.find(".image_fullscreen_view"),"left"==t.text_position||"right"==t.text_position?this.titleArea=e.find(".backgroundArea .fixed_header_area"):this.titleArea=e.find(".contentInnerWrapper .page_header"),this.resizePageSpacer(e,t),e.data("invertIndicator",!t.invert_text),this.updateScrollEventListeners(e,t),pageflow.features.has("mobile platform")||($(this.inlineImage).on("click",function(e){t.prevent_fullscreen||($("body").toggleClass("bigScreen"),e.preventDefault())}),$(this.fullScreenLayer).on("click",function(){$("body").toggleClass("bigScreen")}))},updateScrollEventListeners:function(e,t){var n=this;n.storedConfiguration=t,n.scrollEventHandlerAdded||(n.scrollEventHandlerAdded=!0,n.content.scroller("onScroll",function(){n.applyBackgroundEffects(e,n.storedConfiguration),n.applyInlineImageEffects(e,n.storedConfiguration)}),n.content.scroller("onScrollEnd",function(){
n.applyBackgroundEffects(e,n.storedConfiguration)}))},applyBackgroundEffects:function(e,t){var n=this.content.scroller("positionY"),r=e.height()/20,i="left"==t.text_position||"right"==t.text_position?0:this.titleArea.height(),o=this.pageSpacerElement.height()-i-r,a=this.pageSpacerElement.height()-r;e.height();e.find(".backgroundArea .fixed_header_area").css("opacity",(.6*a+n)/(.6*a)),t.topasset_dim?this.backgroundAsset.css("opacity",1- -n/o):this.backgroundAsset.css("opacity",1);var s=.2*n;t.topasset_parallax?this.backgroundAsset.css({"-webkit-transform":"translateY("+s+"px)","-moz-transform":"translateY("+s+"px)","-ms-transform":"translateY("+s+"px)","-o-transform":"translateY("+s+"px)",transform:"translateY("+s+"px)"}):this.backgroundAsset.css({"-webkit-transform":"translateY(0)","-o-transform":"translateY(0)","-ms-transform":"translateY(0)","-moz-transform":"translateY(0)",transform:"translateY(0)"})},applyInlineImageEffects:function(e,t){if(e.width()>=700)if(t.sticky_inline_image){var n=this.content.scroller("positionY"),r=this.inlineImage.outerHeight()<e.height()?(e.height()-this.inlineImage.outerHeight())/2:e.height()-this.inlineImage.outerHeight(),i=r-this.inlineImageInitialTop;n<=i?this.inlineImage.css("top",-n-this.inlineImageInitialTop+this.inlineImageInitialOffset+r+"px"):this.inlineImage.css("top",this.inlineImageInitialOffset+"px")}else"center"==t.inline_text_position?this.inlineImage.css("top","0px"):this.inlineImage.css("top",this.inlineImageInitialOffset+"px");else this.inlineImage.css("top","0px")},resizePageSpacer:function(e,t){if(e.find(".content_and_background").hasClass("no_background_asset"))this.pageSpacerElement.css("height",this.titleArea.outerHeight()+"px");else if("banner"==t.text_coverage){var n=this.titleArea.outerHeight()>e.height()/3?this.titleArea.outerHeight():e.height()/3;this.pageSpacerElement.css("height",n+"px")}else"title_only"==t.text_coverage?this.pageSpacerElement.css("height",e.height()+"px"):e.height()-200>200&&this.pageSpacerElement.css("height",e.height()-200+"px");this.backgroundAsset.css("height",this.pageSpacerElement.height()+"px"),this.contentArea.css("min-height",e.height()+"px"),this.content.scroller("refresh")},resize:function(e,t){this.content.scroller("positionY");this.resizePageSpacer(e,t),this.inlineImageInitialOffset=e.find(".contentText h3").position().top,this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyInlineImageEffects(e,t),this.applyBackgroundEffects(e,t)},prepare:function(){},activating:function(e,t){this.content.scroller("positionY");this.resizePageSpacer(e,t),this.inlineImageInitialOffset=e.find(".contentText h3").position().top+e.find(".contentText h3").outerHeight(),this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyBackgroundEffects(e,t),this.applyInlineImageEffects(e,t)},activated:function(){},deactivating:function(){$("body").removeClass("bigScreen")},deactivated:function(){},update:function(e,t){this.content.scroller("positionY");e.attr("data-template","text_page"),e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find(".contentText .text_title").text(t.get("text_title")||""),e.find(".contentText p").html(t.get("text")||""),e.find(".content_and_background").toggleClass("no_background_asset","video"==t.get("background_type")?!t.getVideoFile("video_file_id"):!t.getImageFile("background_image_id")),e.find(".content_and_background").toggleClass("sticky_inline_image",!!t.get("sticky_inline_image")),"left"==t.get("text_position")||"right"==t.get("text_position")?this.titleArea=e.find(".backgroundArea .fixed_header_area"):this.titleArea=e.find(".contentInnerWrapper .page_header"),_.forEach(pageflow.textPage.titlePositions,function(n){e.toggleClass("text_position_"+n,t.get("text_position")===n)}),_.forEach(pageflow.textPage.inlineTextPositions,function(n){e.find(".content").toggleClass("inline_text_position_"+n,t.get("inline_text_position")===n)}),t.get("inline_text_position")||e.find(".content").addClass("inline_text_position_left"),!t.get("prevent_fullscreen")&&t.get("text_image_id")?this.inlineImage.attr("href",t.getImageFileUrl("text_image_id")):this.inlineImage.attr("href","#"),this.inlineImage.toggleClass("allow_fullscreen",!t.get("prevent_fullscreen")),_.forEach(pageflow.textPage.textCoverageOptions,function(n){e.toggleClass(n,t.get("text_coverage")===n)}),e.find(".content_and_background").toggleClass("invert_text",!!t.get("invert_text")),e.data("invertIndicator",!t.get("invert_text")),e.find(".shadow, .header_background_layer").css({opacity:t.get("gradient_opacity")/100}),this.resizePageSpacer(e,t.attributes),this.inlineImageInitialOffset=e.find(".contentText h3").position().top+e.find(".contentText h3").outerHeight(),this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyInlineImageEffects(e,t.attributes),this.applyBackgroundEffects(e,t.attributes),this.updateScrollEventListeners(e,t.attributes)},embeddedEditorViews:function(){return{".inline_image":{view:pageflow.textPage.ContentImageEmbeddedView,options:{imagePropertyName:"text_image_id",descriptionPropertyName:"image_description"}},".image_fullscreen_inner_wrapper":{view:pageflow.textPage.ContentImageEmbeddedView,options:{imagePropertyName:"text_image_id",descriptionPropertyName:"image_description"}}}}}),pageflow.embeddedVideo=pageflow.embeddedVideo||{},pageflow.react.registerPageTypeWithDefaultBackground("embedded_video",{prepareNextPageTimeout:0,enhance:function(e,t){var n=this;e.addClass("no_hidden_text_indicator"),pageflow.features.has("mobile platform")&&(e.find(".close_button, .iframe_container").click(function(t){t.stopPropagation(),n._pauseVideo(),e.find(".iframe_container, .close_button").removeClass("show"),pageflow.hideText.deactivate()}),this._initPlaceholderImage(e,t)),this.fullscreen=!1,$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange msfullscreenchange",function(){n.fullscreen=!n.fullscreen})},resize:function(e,t){var n=e.find(".iframe_wrapper"),r=e.find(".page_header"),i=e.find(".scroller"),o=e.find(".iframe_container"),a=e.find(".iframe_overlay"),s=e.find(".video_caption"),u=e.width()>1430,l=t.full_width,c=pageflow.features.has("mobile platform");l&&!this.fullscreen&&(u=!1),n.add(i).toggleClass("widescreened",u),this.fullscreen||(u||c?o.find("iframe").length||o.append(n):i.find("iframe").length||n.insertAfter(r)),u?n.append(s):c?a.after(s):n.after(s),i.scroller("refresh")},prepare:function(){},activating:function(e,t){var n=this;this.listenTo(pageflow.settings,"change:volume",function(e,t){n._setPlayerVolume(t)}),this._createPlayer(e,t),this.resize(e,t),this.active=!0},activated:function(){},deactivating:function(e){this.active=!1,this.stopListening(pageflow.settings),this._removePlayer(e)},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||"");var n=this,r=e.find(".iframe_wrapper"),i=e.find(".video_caption"),o=t.get("video_caption");""!==(o||"").trim()?(i.length||(i=$('<div class="video_caption"></div>'),e.find(".scroller iframe").length?i.insertAfter(r):i.appendTo(r)),i.text(o||"")):i.remove(),this.active&&t.hasChanged("display_embedded_video_url")&&this._removePlayer(e,function(){n._createPlayer(e,t.attributes)}),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this.resize(e,t.attributes)},_createPlayer:function(e,t){var n=this,r=t.display_embedded_video_url,i=this._urlOrigin(r);"youtube"===i?this.ytApiInitialize().done(function(){n._createYouTubePlayer(e,r)}):"vimeo"==i&&n._createVimeoPlayer(e,r)},ytApiInitialize:function(){if(!window.youtubeInitialized){var e=new $.Deferred;window.youtubeInitialized=e.promise(),window.onYouTubeIframeAPIReady=function(){e.resolve()};var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}return window.youtubeInitialized},_createYouTubePlayer:function(e,t){var n=this,r=document.createElement("div");this.playerId="youtube-player-"+this._getRandom(t),r.setAttribute("id",this.playerId),e.find(".iframe_wrapper").prepend(r),this.ytApiInitialize().done(function(){new YT.Player(r,{height:"100%",width:"100%",videoId:n._getVideoId(t),playerVars:{rel:!1,start:n._getVideoStartTime(t)},events:{onReady:function(e){n.player=e.target,n._setPlayerVolume(pageflow.settings.get("volume"))}}})})},_createVimeoPlayer:function(e,t){var n=this,r=document.createElement("iframe"),i=new URI("//player.vimeo.com/video/");this.playerId="vimeo-player-"+this._getRandom(t),i.filename(n._getVideoId(t)),i.search({api:"1",player_id:this.playerId}),$(r).attr({id:this.playerId,width:"100%",height:"100%",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,src:i.toString()}),e.find(".iframe_wrapper").prepend(r),this.player=$f(r),this.player.addEvent("ready",function(){n._setPlayerVolume(pageflow.settings.get("volume"))})},_setPlayerVolume:function(e){this.player&&("function"==typeof this.player.setVolume?this.player.setVolume(100*e):"function"==typeof this.player.api&&this.player.api("setVolume",e))},_pauseVideo:function(){this.player&&("function"==typeof this.player.pauseVideo?this.player.pauseVideo():"function"==typeof this.player.api&&this.player.api("pause"))},_removePlayer:function(e,t){this.player&&"function"==typeof this.player.destroy&&this.player.destroy(),this.player=null,$("#"+this.playerId,e).remove(),"function"==typeof t&&t()},_initPlaceholderImage:function(e,t){var n=$(document.createElement("div")),r=e.find(".page_header"),i=e.find(".iframe_container, .close_button"),o=t.display_embedded_video_url;n.addClass("iframe_overlay "+this._urlOrigin(o)),this._setBackgroundImage(o,n),r.after(n),n.click(function(e){e.preventDefault(),i.addClass("show"),pageflow.hideText.activate()})},_setBackgroundImage:function(e,t){var n=this._urlOrigin(e),r=this._getVideoId(e),i="";if("youtube"===n)i="http://img.youtube.com/vi/"+r+"/hqdefault.jpg",t.css("background-image",'url("'+i+'")');else if("vimeo"===n){var o="http://vimeo.com/api/v2/video/"+r+".json";$.getJSON(o,function(e){t.css("background-image",'url("'+e[0].thumbnail_large+'")')})}},_urlOrigin:function(e){var t=new URI(e),n=t.domain(!0);return["youtu.be","youtube.com"].indexOf(n)>=0?"youtube":"vimeo.com"===n?"vimeo":""},_getVideoId:function(e){var t=new URI(e),n=t.domain(!0);return["youtu.be","vimeo.com"].indexOf(n)>=0?t.filename():"youtube.com"===n?"/embed"===t.directory()?t.filename():t.search(!0).v:""},_getVideoStartTime:function(e){var t=new URI(e).query(),n=t.split("&"),r=this;return _.reduce(n,function(e,t){var n=t.split("=");return"t"===n[0]?r._timestampToSeconds(n[1]||""):e},0)},_timestampToSeconds:function(e){if(e.match(/\d+m(\d+s)?/)){var t=e.split("m");return 60*parseInt(t[0],10)+parseInt(t[1]||0,10)}return 0},_getRandom:function(e){e+=(new Date).getTime();var t,n,r,i=0;if(0===e)return i;for(t=0,r=e.length;t<r;t++)n=e.charCodeAt(t),i=(i<<5)-i+n,i|=0;return i}}),function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(e,t,n,r){function i(e,t){return this instanceof i?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new i(e,t)}function o(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function s(e){return"Array"===a(e)}function u(e,t){var n,r;if(s(t)){for(n=0,r=t.length;n<r;n++)if(!u(e,t[n]))return!1;return!0}var i=a(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function l(e,t){if(!s(e)||!s(t)||e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function c(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,c).replace(/\*/g,"%2A")}function d(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function p(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&(n+="",n.charAt(0)===t&&(n=n.substring(1))),this._parts[e]=n,this.build(!r),this)}}var h=r&&r.URI;i.version="1.14.1";var g=i.prototype,v=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:i.domAttributes[t]}},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(t){return e}},i.recodePath=function(e){e=(e+"").split("/");for(var t=0,n=e.length;t<n;t++)e[t]=i.encodePathSegment(i.decode(e[t]));return e.join("/")},i.decodePath=function(e){e=(e+"").split("/");for(var t=0,n=e.length;t<n;t++)e[t]=i.decodePathSegment(e[t]);return e.join("/")};var m,y={encode:"encode",decode:"decode"},_=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(e){return n}}};for(m in y)i[m+"PathSegment"]=_("pathname",y[m]);i.encodeReserved=_("reserved","encode"),i.parse=function(e,t){var n;return t||(t={}),n=e.indexOf("#"),-1<n&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),n=e.indexOf("?"),-1<n&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):-1<(n=e.indexOf(":"))&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){var n,r=e.indexOf("/");return-1===r&&(r=e.length),"["===e.charAt(0)?(n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,r)||null,"/"===t.port&&(t.port=null)):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,r)||null,t.port=null):(n=e.substring(0,r).split(":"),t.hostname=n[0]||null,t.port=n[1]||null),t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n=e.indexOf("/"),r=e.lastIndexOf("@",-1<n?n:e.length-1);return-1<r&&(-1===n||r<n)?(n=e.substring(0,r).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,o={},a=e.split("&"),s=a.length,u=0;u<s;u++)n=a[u].split("="),r=i.decodeQuery(n.shift(),t),n=n.length?i.decodeQuery(n.join("="),t):null,v.call(o,r)?("string"==typeof o[r]&&(o[r]=[o[r]]),o[r].push(n)):o[r]=n;return o},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(t=i.ip6_expression.test(e.hostname)?t+"["+e.hostname+"]":t+e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username),e.password&&(t+=":"+i.encode(e.password)),t+="@"),t},i.buildQuery=function(e,t,n){var r,o,a,u,l="";for(o in e)if(v.call(e,o)&&o)if(s(e[o]))for(r={},a=0,u=e[o].length;a<u;a++)void 0!==e[o][a]&&void 0===r[e[o][a]+""]&&(l+="&"+i.buildQueryParameter(o,e[o][a],n),!0!==t&&(r[e[o][a]+""]=!0));else void 0!==e[o]&&(l+="&"+i.buildQueryParameter(o,e[o],n));return l.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)v.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===e[t]?e[t]=n:("string"==typeof e[t]&&(e[t]=[e[t]]),s(n)||(n=[n]),e[t]=(e[t]||[]).concat(n))}},i.removeQuery=function(e,t,n){var r;if(s(t))for(n=0,r=t.length;n<r;n++)e[t[n]]=void 0;else if("object"==typeof t)for(r in t)v.call(t,r)&&i.removeQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==n){if(e[t]===n)e[t]=void 0;else if(s(e[t])){r=e[t];var o,a,u={};if(s(n))for(o=0,a=n.length;o<a;o++)u[n[o]]=!0;else u[n]=!0;for(o=0,a=r.length;o<a;o++)void 0!==u[r[o]]&&(r.splice(o,1),a--,o--);e[t]=r}}else e[t]=void 0}},i.hasQuery=function(e,t,n,r){if("object"==typeof t){for(var o in t)if(v.call(t,o)&&!i.hasQuery(e,o,t[o]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(n)){case"Undefined":return t in e;case"Boolean":return e=Boolean(s(e[t])?e[t].length:e[t]),n===e;case"Function":return!!n(e[t],t,e);case"Array":return!!s(e[t])&&(r?u:l)(e[t],n);case"RegExp":return s(e[t])?!!r&&u(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return s(e[t])?!!r&&u(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return 1>n?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;if(u=u.index,n.ignoreHtml){var l=e.slice(Math.max(u-3,0),u);if(l&&s.test(l))continue}var l=u+e.slice(u).search(o),c=e.slice(u,l).replace(a,"");n.ignore&&n.ignore.test(c)||(l=u+c.length,c=t(c,u,l,e),e=e.slice(0,u)+c+e.slice(l),r.lastIndex=u+c.length)}return r.lastIndex=0,e},i.ensureValidHostname=function(t){if(t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(e){return e?(e={URI:this.noConflict()},r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(e.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(e.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=r.SecondLevelDomains.noConflict()),e):(r.URI===this&&(r.URI=h),this)},g.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},g.clone=function(){return new i(this)},g.valueOf=g.toString=function(){return this.build(!1)._string},g.protocol=d("protocol"),g.username=d("username"),g.password=d("password"),g.hostname=d("hostname"),g.port=d("port"),g.query=p("query","?"),g.fragment=p("fragment","#"),g.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},g.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},g.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?i.decodePath(n):n}return this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},g.path=g.pathname,g.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(o=i.getDomAttribute(e),e=e[o]||"",o=!1),!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");for(n in r=r?e._parts:e)v.call(this._parts,n)&&(this._parts[n]=r[n])}return this.build(!t),this},g.is=function(e){var t=!1,r=!1,o=!1,a=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),t=r||o,s=(a=!t)&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),l=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var b=g.protocol,T=g.port,E=g.hostname;g.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(i.protocol_expression)))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,e,t)},g.scheme=g.protocol,g.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return T.call(this,e,t)},g.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={};i.parseHost(e,n),e=n.hostname}return E.call(this,e,t)},g.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?i.buildHost(this._parts):"":(i.parseHost(e,this._parts),this.build(!t),this)},g.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?i.buildAuthority(this._parts):"":(i.parseAuthority(e,this._parts),this.build(!t),this)},g.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var n=i.buildUserinfo(this._parts);return n.substring(0,n.length-1)}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},g.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},g.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}return n=this._parts.hostname.length-this.domain().length,n=this._parts.hostname.substring(0,n),n=new RegExp("^"+o(n)),e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&i.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(n,e),this.build(!t),this},g.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);return n&&2>n.length?this._parts.hostname:(n=this._parts.hostname.length-this.tld(t).length-1,n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||"")}if(!e)throw new TypeError("cannot set domain empty");return i.ensureValidHostname(e),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(n=new RegExp(o(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)),this.build(!t),this},g.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[r.toLowerCase()]?n.get(this._parts.hostname)||r:r}if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');r=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},g.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(n):n}return n=this._parts.path.length-this.filename().length,n=this._parts.path.substring(0,n),n=new RegExp("^"+o(n)),this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(n,e),this.build(!t),this},g.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(n+1);return e?i.decodePathSegment(n):n}n=!1,"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(n=!0);var r=new RegExp(o(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(r,e),n?this.normalizePath(t):this.build(!t),this},g.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this.filename(),r=n.lastIndexOf(".");return-1===r?"":(n=n.substring(r+1),n=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(n):n)}if("."===e.charAt(0)&&(e=e.substring(1)),n=this.suffix())r=e?new RegExp(o(n)+"$"):new RegExp(o("."+n)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return r&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(r,e)),this.build(!t),this},g.segment=function(e,t,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),i=i.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw Error('Bad segment "'+e+'", must be 0-based integer');if(o&&i.shift(),0>e&&(e=Math.max(i.length+e,0)),void 0===t)return void 0===e?i:i[e];if(null===e||void 0===i[e])if(s(t)){i=[],e=0;for(var a=t.length;e<a;e++)(t[e].length||i.length&&i[i.length-1].length)&&(i.length&&!i[i.length-1].length&&i.pop(),i.push(t[e]))}else(t||"string"==typeof t)&&(""===i[i.length-1]?i[i.length-1]=t:i.push(t));else t?i[e]=t:i.splice(e,1);return o&&i.unshift(""),this.path(i.join(r),n)},g.segmentCoded=function(e,t,n){var r,o;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(e=this.segment(e,t,n),s(e))for(r=0,o=e.length;r<o;r++)e[r]=i.decode(e[r]);else e=void 0!==e?i.decode(e):void 0;return e}if(s(t))for(r=0,o=t.length;r<o;r++)t[r]=i.decode(t[r]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var w=g.query;return g.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):w.call(this,e,t)},g.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)v.call(e,o)&&(r[o]=e[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},g.setSearch=g.setQuery,g.addSearch=g.addQuery,g.removeSearch=g.removeQuery,g.hasSearch=g.hasQuery,g.normalize=function(){
return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},g.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},g.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},g.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},g.normalizePath=function(e){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var t,n,r,o=this._parts.path,a="";for("/"!==o.charAt(0)&&(t=!0,o="/"+o),o=o.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=o.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(n=o.indexOf("/.."));)0!==n?(r=o.substring(0,n).lastIndexOf("/"),-1===r&&(r=n),o=o.substring(0,r)+o.substring(n+3)):o=o.substring(3);return t&&this.is("relative")&&(o=a+o.substring(1)),o=i.recodePath(o),this._parts.path=o,this.build(!e),this},g.normalizePathname=g.normalizePath,g.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},g.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},g.normalizeSearch=g.normalizeQuery,g.normalizeHash=g.normalizeFragment,g.iso8859=function(){var e=i.encode,t=i.decode;return i.encode=escape,i.decode=decodeURIComponent,this.normalize(),i.encode=e,i.decode=t,this},g.unicode=function(){var e=i.encode,t=i.decode;return i.encode=f,i.decode=unescape,this.normalize(),i.encode=e,i.decode=t,this},g.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,a=t._parts.query.split("&"),s=a.length;o<s;o++){var u=(a[o]||"").split("="),r=r+"&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(t.hash(),!0)},g.absoluteTo=function(e){var t,n,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),r._parts.protocol||(r._parts.protocol=e._parts.protocol),this._parts.hostname)return r;for(t=0;n=o[t];t++)r._parts[n]=e._parts[n];return r._parts.path?".."===r._parts.path.substring(-2)&&(r._parts.path+="/"):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),"/"!==r.path().charAt(0)&&(e=e.directory(),r._parts.path=(e?e+"/":"")+r._parts.path,r.normalizePath()),r.build(),r},g.relativeTo=function(e){var t,n,r,o,a=this.clone().normalize();if(a._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=a._parts,n=e._parts,r=a.path(),o=e.path(),"/"!==r.charAt(0))throw Error("URI is already relative");if("/"!==o.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password||null!==t.protocol||null!==t.username||null!==t.password||t.hostname!==n.hostname||t.port!==n.port?a.build():(t.hostname=null,t.port=null,r===o?(t.path="",a.build()):(e=i.commonPath(a.path(),e.path()))?(n=n.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),t.path=n+t.path.substring(e.length),a.build()):a.build())},g.equals=function(e){var t=this.clone();e=new i(e);var n,r={},o={},a={};if(t.normalize(),e.normalize(),t.toString()===e.toString())return!0;if(r=t.query(),o=e.query(),t.query(""),e.query(""),t.toString()!==e.toString()||r.length!==o.length)return!1;r=i.parseQuery(r,this._parts.escapeQuerySpace),o=i.parseQuery(o,this._parts.escapeQuerySpace);for(n in r)if(v.call(r,n)){if(s(r[n])){if(!l(r[n],o[n]))return!1}else if(r[n]!==o[n])return!1;a[n]=!0}for(n in o)if(v.call(o,n)&&!a[n])return!1;return!0},g.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},g.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i});var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,n){if(!n.contentWindow.postMessage)return!1;var r=n.getAttribute("src").split("?")[0],i=JSON.stringify({method:e,value:t});"//"===r.substr(0,2)&&(r=window.location.protocol+r),n.contentWindow.postMessage(i,r)}function n(e){var t,n;try{t=JSON.parse(e.data),n=t.event||t.method}catch(e){}if("ready"!=n||this.isReady||(this.isReady=!0),e.origin!=l)return!1;var r=t.value,o=t.data,a=""===a?null:t.player_id,s=i(n,a),u=[];return!!s&&(r!==undefined&&u.push(r),o&&u.push(o),a&&u.push(a),u.length>0?s.apply(null,u):s.call())}function r(e,t,n){n?(u[n]||(u[n]={}),u[n][e]=t):u[e]=t}function i(e,t){return t?u[t][e]:u[e]}function o(e,t){if(t&&u[t]){if(!u[t][e])return!1;u[t][e]=null}else{if(!u[e])return!1;u[e]=null}return!0}function a(e){"//"===e.substr(0,2)&&(e=window.location.protocol+e);for(var t=e.split("/"),n="",r=0,i=t.length;r<i&&r<3;r++)n+=t[r],r<2&&(n+="/");return n}function s(e){return!!(e&&e.constructor&&e.call&&e.apply)}var u={},l=(Array.prototype.slice,"");return e.fn=e.prototype={element:null,isReady:!1,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,l=a(this.element.getAttribute("src")),this},api:function(e,n){if(!this.element||!e)return!1;var i=this,o=i.element,a=""!==o.id?o.id:null,u=s(n)?null:n,l=s(n)?n:null;return l&&r(e,l,a),t(e,u,o),i},addEvent:function(e,n){if(!this.element)return!1;var i=this,o=i.element,a=""!==o.id?o.id:null;return r(e,n,a),"ready"!=e?t("addEventListener",e,o):"ready"==e&&this.isReady&&n.call(null,a),i},removeEvent:function(e){if(!this.element)return!1;var n=this,r=n.element,i=""!==r.id?r.id:null,a=o(e,i);"ready"!=e&&a&&t("removeEventListener",e,r)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),window.Froogaloop=window.$f=e}();!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,o,a,s=t.nodeName.toLowerCase();return"area"===s?(i=t.parentNode,o=i.name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&(!!(a=e("img[usemap='#"+o+"']")[0])&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s?t.href||r:r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!r||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,o){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return t===undefined?a["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(("absolute"===(n=i.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,n=Array.prototype.slice;return e.cleanData=function(t){return function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,o,a,s,u={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[l]=e[l]||{},o=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(r,function(t,r){if(!e.isFunction(r))return void(u[t]=r);u[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},u,{constructor:a,namespace:l,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var r,i,o=n.call(arguments,1),a=0,s=o.length;a<s;a++)for(r in o[a])i=o[a][r],o[a].hasOwnProperty(r)&&i!==undefined&&(e.isPlainObject(i)?t[r]=e.isPlainObject(t[r])?e.widget.extend({},t[r],i):e.widget.extend({},i):t[r]=i);return t},e.widget.bridge=function(t,r){var i=r.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=n.call(arguments,1),u=this;return a?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(u=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s),n!==r&&n!==undefined?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new r(o,this))})),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},r=t.split("."),t=r.shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=n}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var u=r.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?i.delegate(c,l,s):n.bind(l,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(e){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),void((r=n[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=e.pageX,l=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-a.grid[1]:i+a.grid[1]:i,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,o=this
;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i})),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,a=r.scrollParentNotHidden[0],s=r.document[0];a!==s&&"HTML"!==a.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+a.offsetHeight-t.pageY<i.scrollSensitivity?a.scrollTop=o=a.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+a.offsetWidth-t.pageX<i.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(s).scrollTop()<i.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<i.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(s).scrollLeft()<i.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<i.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+i.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,o,a,s,u,l,c,f,d,p,h=r.options,g=h.snapTolerance,v=n.offset.left,m=v+r.helperProportions.width,y=n.offset.top,_=y+r.helperProportions.height;for(d=r.snapElements.length-1;d>=0;d--)u=r.snapElements[d].left-r.margins.left,l=u+r.snapElements[d].width,c=r.snapElements[d].top-r.margins.top,f=c+r.snapElements[d].height,m<u-g||v>l+g||_<c-g||y>f+g||!e.contains(r.snapElements[d].item.ownerDocument,r.snapElements[d].item)?(r.snapElements[d].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=!1):("inner"!==h.snapMode&&(i=Math.abs(c-_)<=g,o=Math.abs(f-y)<=g,a=Math.abs(u-m)<=g,s=Math.abs(l-v)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left)),p=i||o||a||s,"outer"!==h.snapMode&&(i=Math.abs(c-y)<=g,o=Math.abs(f-_)<=g,a=Math.abs(u-v)<=g,s=Math.abs(l-m)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f-r.helperProportions.height,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left)),!r.snapElements[d].snapping&&(i||o||a||s||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=i||o||a||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,a=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});a.length&&(i=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable}),function(e){e.widget("pageflow.before_after",{_create:function(){function t(){var n=l.get()[0].getBoundingClientRect();m.draggable({axis:"x",containment:[n.left-g,n.top,n.right-g,n.bottom],drag:t,stop:t});var r=parseInt(e(this).css("left"),10)+g,i=r/n.width;i>=1&&(i=1),v.css("width",100*i+"%"),u.onSlide.call(this,i),e("#lt-arrow"+s+", #rt-arrow"+s).stop().css("opacity",0)}function n(){h=l.get()[0].getBoundingClientRect(),e(l).hover(function(){e("#lt-arrow"+s).stop().css({"z-index":"20",position:"absolute",top:h.height/2-e("#lt-arrow"+s).height()/2+"px",left:parseInt(m.css("left"),10)-14+"px"}).animate({opacity:1,left:parseInt(e("#lt-arrow"+s).css("left"),10)-6+"px"},200),e("#rt-arrow"+s).stop().css({position:"absolute",top:h.height/2-e("#lt-arrow"+s).height()/2+"px",left:parseInt(m.css("left"),10)+10+"px"}).animate({opacity:1,left:parseInt(e("#rt-arrow"+s).css("left"),10)+6+"px"},200)},function(){e("#lt-arrow"+s).animate({opacity:0,left:parseInt(e("#lt-arrow"+s).css("left"),10)-6+"px"},350),e("#rt-arrow"+s).animate({opacity:0,left:parseInt(e("#rt-arrow"+s).css("left"),10)+6+"px"},350)}),e(l).on("click touchmove touchstart",function(t){h=l.get()[0].getBoundingClientRect();var n=t.pageX||t.originalEvent.touches[0].pageX,i=u.clickSpeed;"touchmove"==t.type&&(i=10);var o=n-e(this).offset().left,a=o/e(this).width()*100,c=(o-g)/e(this).width()*100;n<h.left||n>h.right||(m.stop().animate({left:c+"%"},i),v.stop().animate({width:a+"%"},i,function(){var t=parseInt(e("> div:eq(2)",l).css("width"),10)/r;u.onSlide.call(this,t)}),e("#lt-arrow"+s+",#rt-arrow"+s).stop().animate({opacity:0},50))}),e(l).one("mousemove",function(){m.stop().animate({opacity:1},500)})}var r,i,o={animateIntro:!0,introDelay:1e3,introDuration:1e3,introPosition:.65,clickSpeed:600,linkDisplaySpeed:200,keypressAmount:20,onReady:function(){},onInitialized:function(){},onSlide:function(){}},a=o,s=Math.round(1e8*Math.random()),u=a,l=e(this.element),c=e(".before_image",l),f=e(".after_image",l),d=e(l).parentsUntil(".backgroundArea").last(),p=function(){var n=function(){if(d.width()/d.height()<o){e(l).parent().css({width:"100%",height:"auto"});var t=(d.height()-e(l).parent().height())/2;e(l).css({top:t+"px",left:"0"})}else{e(l).parent().css({width:d.height()*o+"px",height:"100%"});var n=(d.width()-e(l).parent().width())/2;e(l).css({top:"0",left:n+"px"})}};r=c.attr("data-width"),i=c.attr("data-height");var o=r/i;e(l).parent().toggleClass("image-is-landscape",o>1),e(l).parent().toggleClass("image-is-portrait",o<=1);var a=i/r*100;e(l).css({overflow:"visible",position:"relative",padding:"0",width:"100%","padding-top":a+"%"}),n(),h=l.get()[0].getBoundingClientRect(),g=0,m.draggable(),m.draggable("option",{axis:"x",containment:[h.left-g,h.top,h.right-g,h.bottom],drag:t,stop:t})};this.refresh=p,c.attr("id","beforeimage"+s),f.attr("id","afterimage"+s);var h,g,v=e(".before_wrapper",l),m=e('<div class="dragwrapper" />');m.attr("id","dragwrapper"+s),m.attr("title",I18n.t("pageflow.public.before_after.drag_hint",{locale:pageflow.seed.locale})),e(l).prepend(m);var y=e('<span class="draghandle" />');y.attr("id","draghandle"+s),m.append(y);var _=e('<div class="drag" />');_.attr("id","drag"+s),m.append(_),m.css({opacity:1,position:"absolute",padding:"0",left:100*u.introPosition+"%"}).height("100%");var b=e(".after_wrapper",l);v.css({width:"100%",height:"100%",position:"absolute",left:"0px","z-index":"1",top:"0"}),b.css({width:"100%",height:"100%",position:"absolute",overflow:"hidden",right:"0px",top:"0","text-align":"right"}),e("#drag"+s).height("100%"),e(l).append('<div class="ba_left_indicator ba_indicator" id="lt-arrow'+s+'"></div><div class="ba_right_indicator ba_indicator" id="rt-arrow'+s+'"></div>'),e(".ba_indicator",l).css("opacity",0),p(),e("img",l).on("dragstart",function(e){e.preventDefault()}),u.onInitialized.call(this),u.animateIntro?(v.width(h.width),m.css("left",r-g+"px"),setTimeout(function(){m.css({opacity:1}).animate({left:100*u.introPosition+"%"},u.introDuration,function(){m.animate({opacity:1},1e3)}),v.width(h.width).animate({width:100*u.introPosition+"%"},u.introDuration,function(){n(),u.onReady.call(this)}),u.onSlide.call(this,u.introDelay)},u.introDelay)):(n(),u.onReady.call(this))}})}(jQuery),pageflow.pageType.register("before_after",_.extend({prepareNextPageTimeout:0,enhance:function(e){var t=this;e.addClass("hide_content_with_text"),e.find(".play_button").on("click",function(){pageflow.hideText.activate()}),e.find(".close_button").on("click",function(e){pageflow.hideText.deactivate(),e.stopPropagation()}),this.removeUnplayedClass=function(){e.find(".content_and_background").removeClass("unplayed")},this.enableScrollIndicator=function(){t.scrollIndicator.enable()}},prepare:function(){},resize:function(e){e.find(".before_after").before_after("refresh"),e.find(".scroller").scroller("refresh")},preload:function(e){return pageflow.preload.backgroundImage(e.find(".background_image"))},activating:function(e){e.find(".before_after").before_after(),e.find(".before_after").before_after("refresh"),e.find(".scroller").scroller("refresh"),e.find(".content_and_background").addClass("unplayed")},activated:function(){pageflow.hideText.on("activate",this.removeUnplayedClass),pageflow.hideText.on("deactivate",this.enableScrollIndicator)},deactivating:function(){pageflow.hideText.off("activate",this.removeUnplayedClass),pageflow.hideText.off("deactivate",this.enableScrollIndicator)},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||""),e.find(".control_bar_text").text(t.get("control_bar_text")||I18n.t("pageflow.public.before_after.start",{locale:pageflow.seed.locale})),this.updateInfoBox(e,t),this.updateCommonPageCssClasses(e,t),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100})},embeddedEditorViews:function(){return{".background_image":{view:pageflow.BackgroundImageEmbeddedView,options:{propertyName:"background_image_id"}},".before_after":{view:pageflow.beforeAfter.BeforeAfterEmbeddedView}}}},pageflow.commonPageCssClasses,pageflow.infoBox)),function(e,t){function n(t){var n,r=e(t.ownerDocument);return t=e(t),n=t.offset(),{x:n.left+t.outerWidth()/2-r.scrollLeft(),y:n.top+t.outerHeight()/2-r.scrollTop()}}var r=/^key/,i=/^(?:mouse|contextmenu)|click/;e.fn.simulate=function(t,n){return this.each(function(){new e.simulate(this,t,n)})},e.simulate=function(t,n,r){var i=e.camelCase("simulate-"+n);this.target=t,this.options=r,this[i]?this[i]():this.simulateEvent(t,n,r)},e.extend(e.simulate,{keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},buttonCode:{LEFT:0,MIDDLE:1,RIGHT:2}}),e.extend(e.simulate.prototype,{simulateEvent:function(e,t,n){var r=this.createEvent(t,n);this.dispatchEvent(e,t,r,n)},createEvent:function(e,t){return r.test(e)?this.keyEvent(e,t):i.test(e)?this.mouseEvent(e,t):void 0},mouseEvent:function(n,r){var i,o,a,s;return r=e.extend({bubbles:!0,cancelable:"mousemove"!==n,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:t},r),document.createEvent?(i=document.createEvent("MouseEvents"),i.initMouseEvent(n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget||document.body.parentNode),0===i.pageX&&0===i.pageY&&Object.defineProperty&&(o=i.relatedTarget.ownerDocument||document,a=o.documentElement,s=o.body,Object.defineProperty(i,"pageX",{get:function(){return r.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0)}}),Object.defineProperty(i,"pageY",{get:function(){return r.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}}))):document.createEventObject&&(i=document.createEventObject(),e.extend(i,r),i.button={0:1,1:4,2:2}[i.button]||i.button),i},keyEvent:function(n,r){var i;if(r=e.extend({bubbles:!0,cancelable:!0,view:window,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:0,charCode:t},r),document.createEvent)try{i=document.createEvent("KeyEvents"),i.initKeyEvent(n,r.bubbles,r.cancelable,r.view,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode)}catch(t){i=document.createEvent("Events"),i.initEvent(n,r.bubbles,r.cancelable),e.extend(i,{view:r.view,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey,keyCode:r.keyCode,charCode:r.charCode})}else document.createEventObject&&(i=document.createEventObject(),e.extend(i,r));return(/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())||"[object Opera]"==={}.toString.call(window.opera))&&(i.keyCode=r.charCode>0?r.charCode:r.keyCode,i.charCode=t),i},dispatchEvent:function(e,t,n){e.dispatchEvent?e.dispatchEvent(n):e.fireEvent&&e.fireEvent("on"+t,n)},simulateFocus:function(){function t(){r=!0}var n,r=!1,i=e(this.target);i.bind("focus",t),i[0].focus(),r||(n=e.Event("focusin"),n.preventDefault(),i.trigger(n),i.triggerHandler("focus")),i.unbind("focus",t)},simulateBlur:function(){function t(){r=!0}var n,r=!1,i=e(this.target);i.bind("blur",t),i[0].blur(),setTimeout(function(){i[0].ownerDocument.activeElement===i[0]&&i[0].ownerDocument.body.focus(),r||(n=e.Event("focusout"),n.preventDefault(),i.trigger(n),i.triggerHandler("blur")),i.unbind("blur",t)},1)}}),e.extend(e.simulate.prototype,{simulateDrag:function(){var e=0,t=this.target,r=this.options,i=n(t),o=Math.floor(i.x),a=Math.floor(i.y),s=r.dx||0,u=r.dy||0,l=r.moves||3,c={clientX:o,clientY:a};for(this.simulateEvent(t,"mousedown",c);e<l;e++)o+=s/l,a+=u/l,c={clientX:Math.round(o),clientY:Math.round(a)},this.simulateEvent(document,"mousemove",c);this.simulateEvent(t,"mouseup",c),this.simulateEvent(t,"click",c)}})}(jQuery),pageflow.chart=pageflow.chart||{},pageflow.chart.assetUrls={customStylesheet:"http://scrollytelling.link/assets/pageflow/chart/custom-3d96fcf294dadebea1482f24b3caebcc2795af1d385cd97d6ca24a1e5c555ce6.css",transparentBackgroundStylesheet:"http://scrollytelling.link/assets/pageflow/chart/transparent_background-857b14cca42a81a4f95e9f67eb6249a30f63258edec43e6fe38c2214df9fe238.css"},pageflow.react.registerPageTypeWithDefaultBackground("chart",{prepareNextPageTimeout:0,enhance:function(e){var t=e.find(".scroller");e.find(".bigscreen_toggler").on("click",function(){$("body").toggleClass("bigScreen"),t.scroller("refresh")}),$("body").keydown(function(e){27==e.keyCode&&$(this).removeClass("bigScreen")})},resize:function(e,t){var n=e.find(".iframeWrapper"),r=e.find(".page_header"),i=e.find(".scroller"),o=t.full_width,a=e.width()>1430;o&&(a=!1),n.toggleClass("widescreened",a),a?n.insertAfter(i):n.insertAfter(r)},customizeLayout:function(e){var t=this,n=e.find("iframe"),r=e.find(".scroller");e.find(".iframe_overlay");this.layoutCustomized||(n.load(function(){$(this).contents().find(".fs-btn").css("display","none"),$(this).contents().find("body").addClass($("[data-theme]").attr("data-theme")),t._injectStylesheets($(this)),pageflow.features.has("mobile platform")&&setTimeout(function(){n&&(n.attr("height",n.contents().height()+"px"),e.find(".iframeWrapper").height(n.contents().height()),r.scroller("refresh"))},1e3),r.scroller("refresh"),e.find(".iframeWrapper").addClass("active")}),this.layoutCustomized=!0)},_injectStylesheets:function(e){e.data("useCustomTheme")?this._injectStylesheet(e,pageflow.chart.assetUrls.customStylesheet):this._injectStylesheet(e,pageflow.chart.assetUrls.transparentBackgroundStylesheet)},_injectStylesheet:function(e,t){head=e.contents().find("head"),head.append('<link rel="stylesheet" type="text/css" href="'+t+'">')},_initEventSimulation:function(e,t,n){e.on("click",function(n){var r=t.contents()[0];if(e.css("display","none"),r&&n){var i=t.offset(),o=$.extend({},n,{screenX:n.screenX-i.left,screenY:n.screenY-i.top,clientX:n.clientX-i.left,clientY:n.clientY-i.top}),a=$(r.elementFromPoint(n.pageX-i.left,n.pageY-i.top));a.simulate("mousedown",o),a.simulate("mousemove",o),a.simulate("click",o),a.simulate("mouseup",o),e.css("cursor",a.css("cursor"))}e.css("display","block"),n.preventDefault(),n.stopPropagation()}),t.load(function(){t.contents().find("*").on("mousemove",function(){n.addClass("hovering")}),t.contents().on("mouseout",function(){n.removeClass("hovering")})})},prepare:function(e){this._loadIframe(e)},activating:function(e,t){this._loadIframe(e),this.resize(e,t),this.customizeLayout(e,t),this._initEventSimulation(e.find(".iframe_overlay"),e.find("iframe"),e.find(".iframeWrapper"))},activated:function(){},deactivating:function(){$("body").removeClass("bigScreen")},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),t.hasChanged("full_width")&&$("body").removeClass("bigScreen"),this.resize(e,t.attributes)},embeddedEditorViews:function(){return{iframe:{view:pageflow.chart.IframeEmbeddedView,options:{propertyName:"scraped_site_id"}}}},_loadIframe:function(e){e.find("iframe[data-src]").each(function(){var e=$(this);e.attr("src")||e.attr("src",e.data("src"))})}}),pageflow.ready.then(function(){$("body").addClass("finished-loading")}),$.widget("scrollytelling.scrollytellingNavigationInvert",{changeInvert:function(e){this.setInvert(e.element)},setInvert:function(e){this.element.toggleClass("page-invert",e.hasClass("invert")),$(".navigation_mobile").toggleClass("page-invert",e.hasClass("invert"))},_create:function(){this.setInvert(pageflow.slides.currentPage()),pageflow.events.on("page:change",this.changeInvert.bind(this))}}),$.widget("scrollytelling.scrollytellingNavigationCounter",{setActive:function(e){$("nav a",this.element).removeClass("active"),$('nav a[href="#'+e.attr("id")+'"]',this.element).addClass("active")},updateActive:function(e){this.setActive(e.element)},_create:function(){this.setActive(pageflow.slides.currentPage()),pageflow.events.on("page:change",this.updateActive.bind(this)),$("nav a",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();var t=$(this).attr("data-page-id");pageflow.slides.goToById(t)}}),$.widget("scrollytelling.audioControl",{showState:function(){var e=$("#scrollytelling-audio",this.element);pageflow.settings.get("volume")>0?e.removeClass("audio-muted").addClass("audio-playing"):e.removeClass("audio-playing").addClass("audio-muted")},_create:function(){this.showState(),$("#scrollytelling-audio",this.element).on("click",this.toggleAudio.bind(this))},toggleAudio:function(e){pageflow.settings.get("volume")>0?pageflow.settings.set("volume",0):pageflow.settings.set("volume",1),e.preventDefault(),this.showState()}}),$.widget("scrollytelling.facebookSharing",{_create:function(){$("#share-fb",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();window.open("//www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href.replace(location.hash,"")),"Facebook","width=600,height=300")}}),$.widget("scrollytelling.twitterSharing",{_create:function(){$("#share-tw",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();var t=$("meta[name='description']").attr("content");window.scrollytelling=window.scrollytelling||{};var n=window.scrollytelling.twitter_via||"scrollytelling";window.open("//twitter.com/intent/tweet?text="+encodeURIComponent(t)+"&amp;via="+n+"&amp;url="+encodeURIComponent(location.href.replace(location.hash,"")),"Twitter","width=600,height=260")}}),pageflow.widgetTypes.register("scrollytelling_navigation",{enhance:function(e){e.scrollytellingNavigationCounter(),e.scrollytellingNavigationInvert(),e.facebookSharing(),e.twitterSharing(),e.audioControl(),$(".parent_page",e).parentPageButton({visibleClass:"is_visible"}),$('head link[href*="onsite"]').length>0&&e.addClass("onsite")}}),function(){function e(){e=function(){},he.Symbol||(he.Symbol=t)}function t(e){return"jscomp_symbol_"+(e||"")+ge++}function n(){e();var t=he.Symbol.iterator;t||(t=he.Symbol.iterator=he.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&pe(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return r(this)}}),n=function(){}}function r(e){var t=0;return i(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function i(e){return n(),e={next:e},e[he.Symbol.iterator]=function(){return this},e}function o(t){n(),e(),n();var i=t[Symbol.iterator];return i?i.call(t):r(t)}function a(e){if(!(e instanceof Array)){e=o(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}function s(e,t){function n(){}n.prototype=t.prototype,e.ha=t.prototype,e.prototype=new n,e.prototype.constructor=e;for(var r in t)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}else e[r]=t[r]}function u(e,t){if(e&&1==e.nodeType&&t){if("string"==typeof t||1==t.nodeType)return e==t||l(e,t);if("length"in t)for(var n,r=0;n=t[r];r++)if(e==n||l(e,n))return!0}return!1}function l(e,t){if("string"!=typeof t)return!1;if(me)return me.call(e,t);t=e.parentNode.querySelectorAll(t);for(var n,r=0;n=t[r];r++)if(n==e)return!0;return!1}function c(e){for(var t=[];e&&e.parentNode&&1==e.parentNode.nodeType;)e=e.parentNode,t.push(e);return t}function f(e,t,n){function r(e){var r;if(o.composed&&"function"==typeof e.composedPath)for(var i,a=e.composedPath(),s=0;i=a[s];s++)1==i.nodeType&&u(i,t)&&(r=i);else e:{if((r=e.target)&&1==r.nodeType&&t)for(r=[r].concat(c(r)),a=0;s=r[a];a++)if(u(s,t)){r=s;break e}r=void 0}r&&n.call(r,e,r)}var i=document,o={composed:!0,S:!0},o=void 0===o?{}:o;return i.addEventListener(e,r,o.S),{j:function(){i.removeEventListener(e,r,o.S)}}}function d(e){var t={};if(!e||1!=e.nodeType)return t;if(e=e.attributes,!e.length)return{};for(var n,r=0;n=e[r];r++)t[n.name]=n.value;return t}function p(e){if(e=e&&"."!=e?e:location.href,be[e])return be[e];if(_e.href=e,"."==e.charAt(0)||"/"==e.charAt(0))return p(_e.href);var t="80"==_e.port||"443"==_e.port?"":_e.port,t="0"==t?"":t,n=_e.host.replace(ye,"");return be[e]={hash:_e.hash,host:n,hostname:_e.hostname,href:_e.href,origin:_e.origin?_e.origin:_e.protocol+"//"+n,pathname:"/"==_e.pathname.charAt(0)?_e.pathname:"/"+_e.pathname,port:t,protocol:_e.protocol,search:_e.search}}function h(e,t){var n=this;this.context=e,this.P=t,this.f=(this.c=/Task$/.test(t))?e.get(t):e[t],this.b=[],this.a=[],this.g=function(){for(var e=[],t=0;t<arguments.length;++t)e[t-0]=arguments[t];return n.a[n.a.length-1].apply(null,[].concat(a(e)))},this.c?e.set(t,this.g):e[t]=this.g}function g(e,t,n){e=y(e,t),e.b.push(n),m(e)}function v(e,t,n){e=y(e,t),-1<(n=e.b.indexOf(n))&&(e.b.splice(n,1),0<e.b.length?m(e):e.j())}function m(e){e.a=[];for(var t,n=0;t=e.b[n];n++){var r=e.a[n-1]||e.f.bind(e.context);e.a.push(t(r))}}function y(e,t){var n=Te.filter(function(n){return n.context==e&&n.P==t})[0];return n||(n=new h(e,t),Te.push(n)),n}function _(e,t,n,r,i,o){if("function"==typeof r){var a=n.get("buildHitTask");return{buildHitTask:function(n){n.set(e,null,!0),n.set(t,null,!0),r(n,i,o),a(n)}}}return we({},e,t)}function b(e,t){var n=d(e),r={};return Object.keys(n).forEach(function(e){if(!e.indexOf(t)&&e!=t+"on"){var i=n[e];"true"==i&&(i=!0),"false"==i&&(i=!1),e=P(e.slice(t.length)),r[e]=i}}),r}function T(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):e()}function E(e,t){var n;return function(){for(var r=[],i=0;i<arguments.length;++i)r[i-0]=arguments[i];clearTimeout(n),n=setTimeout(function(){return e.apply(null,[].concat(a(r)))},t)}}function w(e){function t(){n||(n=!0,e())}var n=!1;return setTimeout(t,2e3),t}function S(e,t){function n(){clearTimeout(i.timeout),i.send&&v(e,"send",i.send),delete Ee[r],i.R.forEach(function(e){return e()})}var r=e.get("trackingId"),i=Ee[r]=Ee[r]||{};clearTimeout(i.timeout),i.timeout=setTimeout(n,0),i.R=i.R||[],i.R.push(t),i.send||(i.send=function(e){return function(){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];n(),e.apply(null,[].concat(a(t)))}},g(e,"send",i.send))}function P(e){return e.replace(/[\-\_]+(\w?)/g,function(e,t){return t.toUpperCase()})}function C(e){return"object"==typeof e&&null!==e}function I(e,t){var n=window.GoogleAnalyticsObject||"ga";window[n]=window[n]||function(){for(var e=[],t=0;t<arguments.length;++t)e[t-0]=arguments[t];(window[n].q=window[n].q||[]).push(e)},window.gaDevIds=window.gaDevIds||[],0>window.gaDevIds.indexOf("i5iSjo")&&window.gaDevIds.push("i5iSjo"),window[n]("provide",e,t),window.gaplugins=window.gaplugins||{},window.gaplugins[e.charAt(0).toUpperCase()+e.slice(1)]=t}function x(e,t){e.set("&_av","2.4.1");var n=e.get("&_au"),n=parseInt(n||"0",16).toString(2);if(n.length<Ce)for(var r=Ce-n.length;r;)n="0"+n,r--;t=Ce-t,n=n.substr(0,t)+1+n.substr(t+1),e.set("&_au",parseInt(n||"0",2).toString(16))}function A(e,t){x(e,Pe.T),this.a=we({},t),this.g=e,this.b=this.a.stripQuery&&this.a.queryDimensionIndex?"dimension"+this.a.queryDimensionIndex:null,this.f=this.f.bind(this),this.c=this.c.bind(this),g(e,"get",this.f),g(e,"buildHitTask",this.c)}function O(e,t){var n=p(t.page||t.location),r=n.pathname;if(e.a.indexFilename){var i=r.split("/");e.a.indexFilename==i[i.length-1]&&(i[i.length-1]="",r=i.join("/"))}return"remove"==e.a.trailingSlash?r=r.replace(/\/+$/,""):"add"==e.a.trailingSlash&&(/\.\w+$/.test(r)||"/"==r.substr(-1)||(r+="/")),r={page:r+(e.a.stripQuery?k(e,n.search):n.search)},t.location&&(r.location=t.location),e.b&&(r[e.b]=n.search.slice(1)||"(not set)"),"function"==typeof e.a.urlFieldsFilter?(t=e.a.urlFieldsFilter(r,p),n={page:t.page,location:t.location},e.b&&(n[e.b]=t[e.b]),n):r}function k(e,t){if(Array.isArray(e.a.queryParamsWhitelist)){var n=[];return t.slice(1).split("&").forEach(function(t){var r=o(t.split("="));t=r.next().value,r=r.next().value,-1<e.a.queryParamsWhitelist.indexOf(t)&&r&&n.push([t,r])}),n.length?"?"+n.map(function(e){return e.join("=")}).join("&"):""}return""}function M(e,t){var n=this;if(x(e,Pe.U),window.addEventListener){this.a=we({events:["click"],fieldsObj:{},attributePrefix:"ga-"},t),this.f=e,this.c=this.c.bind(this);var r="["+this.a.attributePrefix+"on]";this.b={},this.a.events.forEach(function(e){n.b[e]=f(e,r,n.c)})}}function R(e,t){var n=this;x(e,Pe.V),window.IntersectionObserver&&window.MutationObserver&&(this.a=we({rootMargin:"0px",fieldsObj:{},attributePrefix:"ga-"},t),this.c=e,this.M=this.M.bind(this),this.O=this.O.bind(this),this.K=this.K.bind(this),this.L=this.L.bind(this),this.b=null,this.items=[],this.i={},this.h={},T(function(){n.a.elements&&n.observeElements(n.a.elements)}))}function D(e,t){var n=[],r={},i={};return t.length&&t.forEach(function(t){t=L(t),n.push(t),i[t.id]=e.i[t.id]||null,r[t.threshold]=e.h[t.threshold]||null}),{items:n,i:i,h:r}}function N(e,t,n){1==t.nodeType&&t.id in e.i&&n(t.id);for(var r,i=0;r=t.childNodes[i];i++)N(e,r,n)}function L(e){return"string"==typeof e&&(e={id:e}),we({threshold:0,trackFirstImpressionOnly:!0},e)}function j(){this.a={}}function F(e,t){(e.a.externalSet=e.a.externalSet||[]).push(t)}function B(e,t){t=void 0===t?{}:t,this.a={},this.b=e,this.w=t,this.l=null}function U(e,t,n){return e=["autotrack",e,t].join(":"),xe[e]||(xe[e]=new B(e,n),Ae||(window.addEventListener("storage",z),Ae=!0)),xe[e]}function H(){if(null!=Ie)return Ie;try{window.localStorage.setItem("autotrack","autotrack"),window.localStorage.removeItem("autotrack"),Ie=!0}catch(e){Ie=!1}return Ie}function V(e){if(e.l={},H())try{window.localStorage.removeItem(e.b)}catch(e){}}function z(e){var t=xe[e.key];if(t){var n=we({},t.w,q(e.oldValue));e=we({},t.w,q(e.newValue)),t.l=e,t.ca("externalSet",e,n)}}function q(e){var t={};if(e)try{t=JSON.parse(e)}catch(e){}return t}function G(e,t,n){this.f=e,this.timeout=t||ke,this.timeZone=n,this.b=this.b.bind(this),g(e,"sendHitTask",this.b);try{this.c=new Intl.DateTimeFormat("en-US",{timeZone:this.timeZone})}catch(e){}this.a=U(e.get("trackingId"),"session",{hitTime:0,isExpired:!1}),this.a.get().id||this.a.set({id:Se()})}function K(e,t,n){var r=e.get("trackingId");return Oe[r]?Oe[r]:Oe[r]=new G(e,t,n)}function Y(e){return e.a.get().id}function W(e,t){x(e,Pe.W),window.addEventListener&&(this.b=we({increaseThreshold:20,sessionTimeout:ke,fieldsObj:{}},t),this.f=e,this.c=X(this),this.g=E(this.g.bind(this),500),this.o=this.o.bind(this),this.a=U(e.get("trackingId"),"plugins/max-scroll-tracker"),this.m=K(e,this.b.sessionTimeout,this.b.timeZone),g(e,"set",this.o),Q(this))}function Q(e){100>(e.a.get()[e.c]||0)&&window.addEventListener("scroll",e.g)}function X(e){return e=p(e.f.get("page")||e.f.get("location")),e.pathname+e.search}function $(e,t){x(e,Pe.X),window.matchMedia&&(this.a=we({changeTemplate:this.changeTemplate,changeTimeout:1e3,fieldsObj:{}},t),C(this.a.definitions)&&(t=this.a.definitions,this.a.definitions=Array.isArray(t)?t:[t],this.b=e,this.c=[],J(this)))}function J(e){e.a.definitions.forEach(function(t){if(t.name&&t.dimensionIndex){var n=Z(t);e.b.set("dimension"+t.dimensionIndex,n),ee(e,t)}})}function Z(e){var t;return e.items.forEach(function(e){te(e.media).matches&&(t=e)}),t?t.name:"(not set)"}function ee(e,t){t.items.forEach(function(n){n=te(n.media);var r=E(function(){var n=Z(t),r=e.b.get("dimension"+t.dimensionIndex);n!==r&&(e.b.set("dimension"+t.dimensionIndex,n),n={transport:"beacon",eventCategory:t.name,eventAction:"change",eventLabel:e.a.changeTemplate(r,n),nonInteraction:!0},e.b.send("event",_(n,e.a.fieldsObj,e.b,e.a.hitFilter)))},e.a.changeTimeout);n.addListener(r),e.c.push({fa:n,da:r})})}function te(e){return Me[e]||(Me[e]=window.matchMedia(e))}function ne(e,t){x(e,Pe.Y),window.addEventListener&&(this.a=we({formSelector:"form",shouldTrackOutboundForm:this.shouldTrackOutboundForm,fieldsObj:{},attributePrefix:"ga-"},t),this.b=e,this.c=f("submit",this.a.formSelector,this.f.bind(this)))}function re(e,t){var n=this;x(e,Pe.Z),window.addEventListener&&(this.a=we({events:["click"],linkSelector:"a, area",shouldTrackOutboundLink:this.shouldTrackOutboundLink,fieldsObj:{},attributePrefix:"ga-"},t),this.c=e,this.f=this.f.bind(this),this.b={},this.a.events.forEach(function(e){n.b[e]=f(e,n.a.linkSelector,n.f)}))}function ie(e,t){var n=this;x(e,Pe.$),document.visibilityState&&(this.a=we({sessionTimeout:ke,visibleThreshold:5e3,sendInitialPageview:!1,fieldsObj:{}},t),this.b=e,this.g=document.visibilityState,this.m=null,this.o=!1,
this.v=this.v.bind(this),this.s=this.s.bind(this),this.G=this.G.bind(this),this.N=this.N.bind(this),this.c=U(e.get("trackingId"),"plugins/page-visibility-tracker"),F(this.c,this.N),this.f=K(e,this.a.sessionTimeout,this.a.timeZone),g(e,"set",this.v),window.addEventListener("unload",this.G),document.addEventListener("visibilitychange",this.s),S(this.b,function(){if("visible"==document.visibilityState)n.a.sendInitialPageview&&(se(n,{ea:!0}),n.o=!0),n.c.set({time:+new Date,state:"visible",pageId:Re,sessionId:Y(n.f)});else if(n.a.sendInitialPageview&&n.a.pageLoadsMetricIndex){var e={},e=(e.transport="beacon",e.eventCategory="Page Visibility",e.eventAction="page load",e.eventLabel="(not set)",e["metric"+n.a.pageLoadsMetricIndex]=1,e.nonInteraction=!0,e);n.b.send("event",_(e,n.a.fieldsObj,n.b,n.a.hitFilter))}}))}function oe(e){var t=e.c.get();return"visible"==e.g&&"hidden"==t.state&&t.pageId!=Re&&(t.state="visible",t.pageId=Re,e.c.set(t)),t}function ae(e,t,n){n=(n||{}).hitTime;var r={hitTime:n},r=(r||{}).hitTime;(t=t.time?(r||+new Date)-t.time:0)&&t>=e.a.visibleThreshold&&(t=Math.round(t/1e3),r={transport:"beacon",nonInteraction:!0,eventCategory:"Page Visibility",eventAction:"track",eventValue:t,eventLabel:"(not set)"},n&&(r.queueTime=+new Date-n),e.a.visibleMetricIndex&&(r["metric"+e.a.visibleMetricIndex]=t),e.b.send("event",_(r,e.a.fieldsObj,e.b,e.a.hitFilter)))}function se(e,t){var n=t||{};t=n.hitTime;var n=n.ea,r={transport:"beacon"};t&&(r.queueTime=+new Date-t),n&&e.a.pageLoadsMetricIndex&&(r["metric"+e.a.pageLoadsMetricIndex]=1),e.b.send("pageview",_(r,e.a.fieldsObj,e.b,e.a.hitFilter))}function ue(e,t){x(e,Pe.aa),window.addEventListener&&(this.a=we({fieldsObj:{},hitFilter:null},t),this.b=e,this.u=this.u.bind(this),this.J=this.J.bind(this),this.D=this.D.bind(this),this.A=this.A.bind(this),this.B=this.B.bind(this),this.F=this.F.bind(this),"complete"!=document.readyState?window.addEventListener("load",this.u):this.u())}function le(e){try{window.twttr.ready(function(){window.twttr.events.unbind("tweet",e.D),window.twttr.events.unbind("follow",e.A)})}catch(e){}}function ce(e,t){x(e,Pe.ba),history.pushState&&window.addEventListener&&(this.a=we({shouldTrackUrlChange:this.shouldTrackUrlChange,trackReplaceState:!1,fieldsObj:{},hitFilter:null},t),this.b=e,this.c=location.pathname+location.search,this.H=this.H.bind(this),this.I=this.I.bind(this),this.C=this.C.bind(this),g(history,"pushState",this.H),g(history,"replaceState",this.I),window.addEventListener("popstate",this.C))}function fe(e,t){setTimeout(function(){var n=e.c,r=location.pathname+location.search;n!=r&&e.a.shouldTrackUrlChange.call(e,r,n)&&(e.c=r,e.b.set({page:r,title:document.title}),(t||e.a.trackReplaceState)&&e.b.send("pageview",_({transport:"beacon"},e.a.fieldsObj,e.b,e.a.hitFilter)))},0)}var de,pe="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},he="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ge=0,ve=window.Element.prototype,me=ve.matches||ve.matchesSelector||ve.webkitMatchesSelector||ve.mozMatchesSelector||ve.msMatchesSelector||ve.oMatchesSelector,ye=/:(80|443)$/,_e=document.createElement("a"),be={},Te=[];h.prototype.j=function(){var e=Te.indexOf(this);-1<e&&(Te.splice(e,1),this.c?this.context.set(this.P,this.f):this.context[this.P]=this.f)};var Ee={},we=Object.assign||function(e){for(var t=[],n=1;n<arguments.length;++n)t[n-1]=arguments[n];for(var n=0,r=t.length;n<r;n++){var i,o=Object(t[n]);for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},Se=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e)},Pe={T:1,U:2,V:3,X:4,Y:5,Z:6,$:7,aa:8,ba:9,W:10},Ce=Object.keys(Pe).length;A.prototype.f=function(e){var t=this;return function(n){if("page"==n||n==t.b){var r={location:e("location"),page:e("page")};return O(t,r)[n]}return e(n)}},A.prototype.c=function(e){var t=this;return function(n){var r=O(t,{location:n.get("location"),page:n.get("page")});n.set(r,null,!0),e(n)}},A.prototype.remove=function(){v(this.g,"get",this.f),v(this.g,"buildHitTask",this.c)},I("cleanUrlTracker",A),M.prototype.c=function(e,t){var n=this.a.attributePrefix;if(!(0>t.getAttribute(n+"on").split(/\s*,\s*/).indexOf(e.type))){var n=b(t,n),r=we({},this.a.fieldsObj,n);this.f.send(n.hitType||"event",_({transport:"beacon"},r,this.f,this.a.hitFilter,t,e))}},M.prototype.remove=function(){var e=this;Object.keys(this.b).forEach(function(t){e.b[t].j()})},I("eventTracker",M),de=R.prototype,de.observeElements=function(e){var t=this;e=D(this,e),this.items=this.items.concat(e.items),this.i=we({},e.i,this.i),this.h=we({},e.h,this.h),e.items.forEach(function(e){var n=t.h[e.threshold]=t.h[e.threshold]||new IntersectionObserver(t.O,{rootMargin:t.a.rootMargin,threshold:[+e.threshold]});(e=t.i[e.id]||(t.i[e.id]=document.getElementById(e.id)))&&n.observe(e)}),this.b||(this.b=new MutationObserver(this.M),this.b.observe(document.body,{childList:!0,subtree:!0})),requestAnimationFrame(function(){})},de.unobserveElements=function(e){var t=[],n=[];if(this.items.forEach(function(r){e.some(function(e){return e=L(e),e.id===r.id&&e.threshold===r.threshold&&e.trackFirstImpressionOnly===r.trackFirstImpressionOnly})?n.push(r):t.push(r)}),t.length){var r=D(this,t),i=D(this,n);this.items=r.items,this.i=r.i,this.h=r.h,n.forEach(function(e){if(!r.i[e.id]){var t=i.h[e.threshold],n=i.i[e.id];n&&t.unobserve(n),r.h[e.threshold]||i.h[e.threshold].disconnect()}})}else this.unobserveAllElements()},de.unobserveAllElements=function(){var e=this;Object.keys(this.h).forEach(function(t){e.h[t].disconnect()}),this.b.disconnect(),this.b=null,this.items=[],this.i={},this.h={}},de.M=function(e){for(var t,n=0;t=e[n];n++){for(var r,i=0;r=t.removedNodes[i];i++)N(this,r,this.L);for(i=0;r=t.addedNodes[i];i++)N(this,r,this.K)}},de.O=function(e){for(var t,n=[],r=0;t=e[r];r++)for(var i,o=0;i=this.items[o];o++){var a;if((a=t.target.id===i.id)&&((a=i.threshold)?a=t.intersectionRatio>=a:(a=t.intersectionRect,a=0<a.top||0<a.bottom||0<a.left||0<a.right)),a){var s=i.id;a=document.getElementById(s);var s={transport:"beacon",eventCategory:"Viewport",eventAction:"impression",eventLabel:s,nonInteraction:!0},u=we({},this.a.fieldsObj,b(a,this.a.attributePrefix));this.c.send("event",_(s,u,this.c,this.a.hitFilter,a)),i.trackFirstImpressionOnly&&n.push(i)}}n.length&&this.unobserveElements(n)},de.K=function(e){var t=this,n=this.i[e]=document.getElementById(e);this.items.forEach(function(r){e==r.id&&t.h[r.threshold].observe(n)})},de.L=function(e){var t=this,n=this.i[e];this.items.forEach(function(r){e==r.id&&t.h[r.threshold].unobserve(n)}),this.i[e]=null},de.remove=function(){this.unobserveAllElements()},I("impressionTracker",R),j.prototype.ca=function(e){for(var t=[],n=1;n<arguments.length;++n)t[n-1]=arguments[n];(this.a[e]=this.a[e]||[]).forEach(function(e){return e.apply(null,[].concat(a(t)))})};var Ie,xe={},Ae=!1;s(B,j),B.prototype.get=function(){if(this.l)return this.l;if(H())try{this.l=q(window.localStorage.getItem(this.b))}catch(e){}return this.l=we({},this.w,this.l)},B.prototype.set=function(e){if(this.l=we({},this.w,this.l,e),H())try{var t=JSON.stringify(this.l);window.localStorage.setItem(this.b,t)}catch(e){}},B.prototype.j=function(){delete xe[this.b],Object.keys(xe).length||(window.removeEventListener("storage",z),Ae=!1)};var Oe={};G.prototype.isExpired=function(e){if((e=void 0===e?Y(this):e)!=Y(this))return!0;if(e=this.a.get(),e.isExpired)return!0;var t=e.hitTime;return!!(t&&(e=new Date,t=new Date(t),e-t>6e4*this.timeout||this.c&&this.c.format(e)!=this.c.format(t)))},G.prototype.b=function(e){var t=this;return function(n){e(n);var r=n.get("sessionControl");n="start"==r||t.isExpired();var r="end"==r,i=t.a.get();i.hitTime=+new Date,n&&(i.isExpired=!1,i.id=Se()),r&&(i.isExpired=!0),t.a.set(i)}},G.prototype.j=function(){v(this.f,"sendHitTask",this.b),this.a.j(),delete Oe[this.f.get("trackingId")]};var ke=30;W.prototype.g=function(){var e=document.documentElement,t=document.body,e=Math.min(100,Math.max(0,Math.round(window.pageYOffset/(Math.max(e.offsetHeight,e.scrollHeight,t.offsetHeight,t.scrollHeight)-window.innerHeight)*100))),t=Y(this.m);if(t!=this.a.get().sessionId&&(V(this.a),this.a.set({sessionId:t})),this.m.isExpired(this.a.get().sessionId))V(this.a);else if(t=this.a.get()[this.c]||0,e>t&&(100!=e&&100!=t||window.removeEventListener("scroll",this.g),t=e-t,100==e||t>=this.b.increaseThreshold)){var n={};this.a.set((n[this.c]=e,n.sessionId=Y(this.m),n)),e={transport:"beacon",eventCategory:"Max Scroll",eventAction:"increase",eventValue:t,eventLabel:String(e),nonInteraction:!0},this.b.maxScrollMetricIndex&&(e["metric"+this.b.maxScrollMetricIndex]=t),this.f.send("event",_(e,this.b.fieldsObj,this.f,this.b.hitFilter))}},W.prototype.o=function(e){var t=this;return function(n,r){e(n,r);var i={};(C(n)?n:(i[n]=r,i)).page&&(n=t.c,t.c=X(t),t.c!=n&&Q(t))}},W.prototype.remove=function(){this.m.j(),window.removeEventListener("scroll",this.g),v(this.f,"set",this.o)},I("maxScrollTracker",W);var Me={};$.prototype.remove=function(){for(var e,t=0;e=this.c[t];t++)e.fa.removeListener(e.da)},$.prototype.changeTemplate=function(e,t){return e+" => "+t},I("mediaQueryTracker",$),ne.prototype.f=function(e,t){var n={transport:"beacon",eventCategory:"Outbound Form",eventAction:"submit",eventLabel:p(t.action).href};if(this.a.shouldTrackOutboundForm(t,p)){navigator.sendBeacon||(e.preventDefault(),n.hitCallback=w(function(){t.submit()}));var r=we({},this.a.fieldsObj,b(t,this.a.attributePrefix));this.b.send("event",_(n,r,this.b,this.a.hitFilter,t,e))}},ne.prototype.shouldTrackOutboundForm=function(e,t){return e=t(e.action),e.hostname!=location.hostname&&"http"==e.protocol.slice(0,4)},ne.prototype.remove=function(){this.c.j()},I("outboundFormTracker",ne),re.prototype.f=function(e,t){var n=this;if(this.a.shouldTrackOutboundLink(t,p)){var r=t.getAttribute("href")||t.getAttribute("xlink:href"),i=p(r),i={transport:"beacon",eventCategory:"Outbound Link",eventAction:e.type,eventLabel:i.href},o=we({},this.a.fieldsObj,b(t,this.a.attributePrefix)),a=_(i,o,this.c,this.a.hitFilter,t,e);if(navigator.sendBeacon||"click"!=e.type||"_blank"==t.target||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||1<e.which)this.c.send("event",a);else{var s=function(){if(window.removeEventListener("click",s),!e.defaultPrevented){e.preventDefault();var t=a.hitCallback;a.hitCallback=w(function(){"function"==typeof t&&t(),location.href=r})}n.c.send("event",a)};window.addEventListener("click",s)}}},re.prototype.shouldTrackOutboundLink=function(e,t){return e=e.getAttribute("href")||e.getAttribute("xlink:href"),t=t(e),t.hostname!=location.hostname&&"http"==t.protocol.slice(0,4)},re.prototype.remove=function(){var e=this;Object.keys(this.b).forEach(function(t){e.b[t].j()})},I("outboundLinkTracker",re);var Re=Se();de=ie.prototype,de.s=function(){var e=this;if("visible"==document.visibilityState||"hidden"==document.visibilityState){var t=oe(this),n={time:+new Date,state:document.visibilityState,pageId:Re,sessionId:Y(this.f)};"visible"==document.visibilityState&&this.a.sendInitialPageview&&!this.o&&(se(this),this.o=!0),"hidden"==document.visibilityState&&this.m&&clearTimeout(this.m),this.f.isExpired(t.sessionId)?(V(this.c),"hidden"==this.g&&"visible"==document.visibilityState&&(clearTimeout(this.m),this.m=setTimeout(function(){e.c.set(n),se(e,{hitTime:n.time})},this.a.visibleThreshold))):(t.pageId==Re&&"visible"==t.state&&ae(this,t),this.c.set(n)),this.g=document.visibilityState}},de.v=function(e){var t=this;return function(n,r){var i={},i=C(n)?n:(i[n]=r,i);i.page&&i.page!==t.b.get("page")&&"visible"==t.g&&t.s(),e(n,r)}},de.N=function(e,t){e.time!=t.time&&(t.pageId!=Re||"visible"!=t.state||this.f.isExpired(t.sessionId)||ae(this,t,{hitTime:e.time}))},de.G=function(){"hidden"!=this.g&&this.s()},de.remove=function(){this.c.j(),this.f.j(),v(this.b,"set",this.v),window.removeEventListener("unload",this.G),document.removeEventListener("visibilitychange",this.s)},I("pageVisibilityTracker",ie),de=ue.prototype,de.u=function(){if(window.FB)try{window.FB.Event.subscribe("edge.create",this.B),window.FB.Event.subscribe("edge.remove",this.F)}catch(e){}window.twttr&&this.J()},de.J=function(){var e=this;try{window.twttr.ready(function(){window.twttr.events.bind("tweet",e.D),window.twttr.events.bind("follow",e.A)})}catch(e){}},de.D=function(e){if("tweet"==e.region){var t={transport:"beacon",socialNetwork:"Twitter",socialAction:"tweet",socialTarget:e.data.url||e.target.getAttribute("data-url")||location.href};this.b.send("social",_(t,this.a.fieldsObj,this.b,this.a.hitFilter,e.target,e))}},de.A=function(e){if("follow"==e.region){var t={transport:"beacon",socialNetwork:"Twitter",socialAction:"follow",socialTarget:e.data.screen_name||e.target.getAttribute("data-screen-name")};this.b.send("social",_(t,this.a.fieldsObj,this.b,this.a.hitFilter,e.target,e))}},de.B=function(e){this.b.send("social",_({transport:"beacon",socialNetwork:"Facebook",socialAction:"like",socialTarget:e},this.a.fieldsObj,this.b,this.a.hitFilter))},de.F=function(e){this.b.send("social",_({transport:"beacon",socialNetwork:"Facebook",socialAction:"unlike",socialTarget:e},this.a.fieldsObj,this.b,this.a.hitFilter))},de.remove=function(){window.removeEventListener("load",this.u);try{window.FB.Event.unsubscribe("edge.create",this.B),window.FB.Event.unsubscribe("edge.remove",this.F)}catch(e){}le(this)},I("socialWidgetTracker",ue),de=ce.prototype,de.H=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];e.apply(null,[].concat(a(n))),fe(t,!0)}},de.I=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];e.apply(null,[].concat(a(n))),fe(t,!1)}},de.C=function(){fe(this,!0)},de.shouldTrackUrlChange=function(e,t){return!(!e||!t)},de.remove=function(){v(history,"pushState",this.H),v(history,"replaceState",this.I),window.removeEventListener("popstate",this.C)},I("urlChangeTracker",ce)}(),pageflow.ready.then(function(){pageflow.atmo.enable()});
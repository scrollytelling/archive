function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i}),$.fn.updateTitle=function(){this.data("title")||this.data("title",this.attr("title")),this.hasClass("active")?this.attr("title",this.data("activeTitle")):this.attr("title",this.data("title"))},window.VIDEOJS_NO_DYNAMIC_STYLE=!0,function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}function b(t,n){zt(t).forEach(function(e){return n(t[e],e)})}function T(n,r,e){var t=2<arguments.length&&e!==undefined?e:0;return zt(n).reduce(function(e,t){return r(e,n[t],t)},t)}function Ke(n){for(var e=arguments.length,t=Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Object.assign?Object.assign.apply(Object,[n].concat(t)):(t.forEach(function(e){e&&b(e,function(e,t){n[t]=e})}),n)}function s(e){return!!e&&"object"===(void 0===e?"undefined":jt(e))}function j(e){return s(e)&&"[object Object]"===Vt.call(e)&&e.constructor===Object}function r(e){return e.replace(/\n\r?\s*/g,"")}function i(e,t){if(!e||!t)return"";if("function"!=typeof pt.getComputedStyle)return e.currentStyle[t]||"";var n=pt.getComputedStyle(e);return n?n[t]:""}function o(e){return"string"==typeof e&&/\S/.test(e)}function n(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function a(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function c(){return ht===pt.document&&"undefined"!=typeof ht.createElement}function u(e){return s(e)&&1===e.nodeType}function t(r){return function(e,t){if(!o(e))return ht[r](null);o(t)&&(t=ht.querySelector(t));var n=u(t)?t:ht;return n[r]&&n[r](e)}}function J(e,t,n,r){var i=0<arguments.length&&e!==undefined?e:"div",o=1<arguments.length&&t!==undefined?t:{},a=2<arguments.length&&n!==undefined?n:{},s=r,u=ht.createElement(i);return Object.getOwnPropertyNames(o).forEach(function(e){var t=o[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Wt.warn(Qt(Xt,e,t)),u.setAttribute(e,t)):"textContent"===e?y(u,t):u[e]=t}),Object.getOwnPropertyNames(a).forEach(function(e){u.setAttribute(e,a[e])}),s&&m(u,s),u}function y(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function Ye(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function We(e,t){return n(t),e.classList?e.classList.contains(t):a(t).test(e.className)}function Qe(e,t){return e.classList?e.classList.add(t):We(e,t)||(e.className=(e.className+" "+t).trim()),e}function Xe(e,t){return e.classList?e.classList.remove(t):(n(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function Z(e,t,n){var r=We(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?Qe(e,t):Xe(e,t),e}function S(n,r){Object.getOwnPropertyNames(r).forEach(function(e){var t=r[e];null==t||!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})}function $e(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&0<e.attributes.length)for(var r=e.attributes,i=r.length-1;0<=i;i--){var o=r[i].name,a=r[i].value;"boolean"!=typeof e[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function ee(e,t){return e.getAttribute(t)}function te(e,t,n){e.setAttribute(t,n)}function ne(e,t){e.removeAttribute(t)}function p(){ht.body.focus(),ht.onselectstart=function(){return!1}}function h(){ht.onselectstart=function(){return!0}}function d(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){t[e]!==undefined&&(n[e]=t[e])}),n.height||(n.height=parseFloat(i(e,"height"))),n.width||(n.width=parseFloat(i(e,"width"))),n}}function f(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=ht.documentElement,r=ht.body,i=n.clientLeft||r.clientLeft||0,o=pt.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=pt.pageYOffset||r.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}}function g(e,t){var n={},r=f(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function l(e){return s(e)&&3===e.nodeType}function _(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function v(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),u(e)||l(e)?e:"string"==typeof e&&/\S/.test(e)?ht.createTextNode(e):void 0}).filter(function(e){return e})}function m(t,e){return v(e).forEach(function(e){return t.appendChild(e)}),t}function w(e,t){return m(_(e),t)}function Je(){return en++}function E(e){var t=e[nn];return t||(t=e[nn]=Je()),tn[t]||(tn[t]={}),tn[t]}function P(e){var t=e[nn];return!!t&&!!Object.getOwnPropertyNames(tn[t]).length}function re(e){var t=e[nn];if(t){delete tn[t];try{delete e[nn]}catch(n){e.removeAttribute?e.removeAttribute(nn):e[nn]=null}}}function C(e,t){var n=E(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&re(e)}function I(t,n,e,r){e.forEach(function(e){t(n,e,r)})}function x(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||pt.event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||ht),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&e.clientX!==undefined){var o=ht.documentElement,a=ht.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&e.button!==undefined&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function Ze(s,e,t){if(Array.isArray(e))return I(Ze,s,e,t);var u=E(s);if(u.handlers||(u.handlers={}),u.handlers[e]||(u.handlers[e]=[]),t.guid||(t.guid=Je()),u.handlers[e].push(t),u.dispatcher||(u.disabled=!1,u.dispatcher=function(e,t){if(!u.disabled){e=x(e);var n=u.handlers[e.type];if(n)for(var r=n.slice(0),i=0,o=r.length;i<o&&!e.isImmediatePropagationStopped();i++)try{r[i].call(s,e,t)}catch(a){Wt.error(a)}}}),1===u.handlers[e].length)if(s.addEventListener){var n=!1;rn&&-1<on.indexOf(e)&&(n={passive:!0}),s.addEventListener(e,u.dispatcher,n)}else s.attachEvent&&s.attachEvent("on"+e,u.dispatcher)}function et(t,e,n){if(P(t)){var r=E(t);if(r.handlers){if(Array.isArray(e))return I(et,t,e,n);var i=function i(e){r.handlers[e]=[],C(t,e)};if(e){var o=r.handlers[e];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);C(t,e)}else i(e)}else for(var s in r.handlers)i(s)}}}function A(e,t,n){var r=P(e)?E(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=x(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)A.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var o=E(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function O(e,t,n){if(Array.isArray(t))return I(O,e,t,n);var r=function r(){et(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||Je(),Ze(e,t,r)}function k(e,t){t&&(un=t),pt.setTimeout(ln,e)}function tt(e,t){var n=(1<arguments.length&&t!==undefined?t:{}).eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=J("span",{className:"vjs-event-bus"});return Ke(e,wn),e.on("dispose",function(){return e.off()}),e}function ie(e,t){return Ke(e,En),e.state=Ke({},e.state,t),"function"==typeof e.handleStateChanged&&gn(e)&&e.on("statechanged",e.handleStateChanged),e}function nt(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function rt(e,t){return nt(e)===nt(t)}function it(){for(var n={},e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(function(e){e&&b(e,function(e,t){j(e)?(j(n[t])||(n[t]={}),n[t]=it(n[t],e)):n[t]=e})}),n}function M(e,t,n){if("number"!=typeof t||t<0||n<t)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}function R(e,t,n,r){return M(e,r,n.length-1),n[r][t]}function D(e){return e===undefined||0===e.length?{length:0,start:function t(){throw new Error("This TimeRanges object is empty")},end:function n(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:R.bind(null,"start",0,e),end:R.bind(null,"end",1,e)}}function ot(e,t){return Array.isArray(e)?D(e):e===undefined||t===undefined?D():D([[e,t]])}function at(e,t){var n=0,r=void 0,i=void 0;if(!t)return 0;e&&e.length||(e=ot(0,0));for(var o=0;o<e.length;o++)r=e.start(o),t<(i=e.end(o))&&(i=t),n+=i-r;return n/t}function st(e){if(e instanceof st)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:s(e)&&("number"==typeof e.code&&(this.code=e.code),Ke(this,e)),this.message||(this.message=st.defaultMessages[this.code]||"")}function N(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}function L(e){var t=ar.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}function F(e,t,n){if(!or(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===lr.call(e)?B(e,t,n):"string"==typeof e?U(e,t,n):H(e,t,n)}function B(e,t,n){for(var r=0,i=e.length;r<i;r++)cr.call(e,r)&&t.call(n,e[r],r,e)}function U(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function H(e,t,n){for(var r in e)cr.call(e,r)&&t.call(n,e[r],r,e)}function V(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)hr.call(n,r)&&(e[r]=n[r])}return e}function z(e,t){for(var n=0;n<e.length;n++)t(e[n])}function q(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function G(e,t,n){var r=e;return or(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=pr(t,{uri:e}),r.callback=n,r}function K(e,t,n){return Y(t=G(e,t,n))}function Y(r){function e(){4===l.readyState&&setTimeout(n,0)}function i(){var e=undefined;if(e=l.response?l.response:l.responseText||W(l),v)try{e=JSON.parse(e)}catch(t){}return e}function t(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,u(e,m)}function n(){if(!a){var e;clearTimeout(c),e=r.useXDR&&l.status===undefined?200:1223===l.status?204:l.status;var t=m,n=null;return 0!==e?(t={body:i(),statusCode:e,method:d,headers:{},url:f,rawRequest:l},l.getAllResponseHeaders&&(t.headers=dr(l.getAllResponseHeaders()))):n=new Error("Internal XMLHttpRequest Error"),u(n,t,t.body)}}if("undefined"==typeof r.callback)throw new Error("callback argument missing");var o,a,s=!1,u=function y(e,t,n){s||(s=!0,r.callback(e,t,n))},l=r.xhr||null;l||(l=r.cors||r.useXDR?new K.XDomainRequest:new K.XMLHttpRequest);var c,f=l.url=r.uri||r.url,d=l.method=r.method||"GET",p=r.body||r.data,h=l.headers=r.headers||{},g=!!r.sync,v=!1,m={body:undefined,headers:{},statusCode:0,method:d,url:f,rawRequest:l};if("json"in r&&!1!==r.json&&(v=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),p=JSON.stringify(!0===r.json?p:r.json))),l.onreadystatechange=e,l.onload=n,l.onerror=t,l.onprogress=function(){},l.onabort=function(){a=!0},l.ontimeout=t,l.open(d,f,!g,r.username,r.password),g||(l.withCredentials=!!r.withCredentials),!g&&0<r.timeout&&(c=setTimeout(function(){if(!a){a=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",t(e)}},r.timeout)),l.setRequestHeader)for(o in h)h.hasOwnProperty(o)&&l.setRequestHeader(o,h[o]);else if(r.headers&&!q(r.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in r&&(l.responseType=r.responseType),"beforeSend"in r&&"function"==typeof r.beforeSend&&r.beforeSend(l),l.send(p||null),l}function W(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function Q(){}function X(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function $(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):59<n[1]?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function oe(){this.values=Ar(null)}function ae(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length)t(a[0],a[1])}}function se(t,e,a){function n(){var e=$(t);if(null===e)throw new X(X.Errors.BadTimeStamp,"Malformed timestamp: "+o);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function r(e,t){var o=new oe;ae(e,function(e,t){switch(e){case"region":for(var n=a.length-1;0<=n;n--)if(a[n].id===t){o.set(e,a[n].region);break}break;case"vertical":o.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),i=r[0];o.integer(e,i),o.percent(e,i)&&o.set("snapToLines",!1),o.alt(e,i,["auto"]),2===r.length&&o.alt("lineAlign",r[1],["start","middle","end"]);break;case"position":r=t.split(","),o.percent(e,r[0]),2===r.length&&o.alt("positionAlign",r[1],["start","middle","end"]);break;case"size":o.percent(e,t);break;case"align":o.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=o.get("region",null),t.vertical=o.get("vertical",""),t.line=o.get("line","auto"),t.lineAlign=o.get("lineAlign","start"),t.snapToLines=o.get("snapToLines",!0),t.size=o.get("size",100),t.align=o.get("align","middle"),t.position=o.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=o.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function i(){t=t.replace(/^\s+/,"")}var o=t;if(i(),e.startTime=n(),i(),"-->"!==t.substr(0,3))throw new X(X.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+o);t=t.substr(3),i(),e.endTime=n(),i(),r(t,e)}function ue(o,n){function e(){function e(e){return n=n.substr(e.length),e}if(!n)return null;var t=n.match(/^([^<]*)(<[^>]+>?)?/);return e(t[1]?t[1]:t[2])}function t(e){return Or[e]}function r(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],t);return e}function i(e,t){return!Rr[t.localName]||Rr[t.localName]===e.localName}function a(e,t){var n=kr[e];if(!n)return null;var r=o.document.createElement(n);r.localName=n;var i=Mr[e];return i&&t&&(r[i]=t.trim()),r}for(var s,u=o.document.createElement("div"),l=u,c=[];null!==(s=e());)if("<"!==s[0])l.appendChild(o.document.createTextNode(r(s)));else{if("/"===s[1]){c.length&&c[c.length-1]===s.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var f,d=$(s.substr(1,s.length-2));if(d){f=o.document.createProcessingInstruction("timestamp",d),l.appendChild(f);continue}var p=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(f=a(p[1],p[3])))continue;if(!i(l,f))continue;p[2]&&(f.className=p[2].substr(1).replace("."," ")),c.push(p[1]),l.appendChild(f),l=f}return u}function le(e){for(var t=0;t<Dr.length;t++){var n=Dr[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function ce(e){function i(e,t){for(var n=t.childNodes.length-1;0<=n;n--)e.push(t.childNodes[n])}function o(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var r=n.match(/^.*(\n|\r)/);return r?r[e.length=0]:n}return"ruby"===t.tagName?o(e):t.childNodes?(i(e,t),o(e)):void 0}var t=[],n="";if(!e||!e.childNodes)return"ltr";for(i(t,e);n=o(t);)for(var r=0;r<n.length;r++)if(le(n.charCodeAt(r)))return"rtl";return"ltr"}function fe(e){if("number"==typeof e.line&&(e.snapToLines||0<=e.line&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}function de(){}function pe(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),de.call(this),this.cue=t,this.cueDiv=ue(e,t.text);var a={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(a.direction=ce(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function he(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=t!==undefined?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function ge(e,t,s,u){function n(e,t){for(var n,r=new he(e),i=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(s,t[o])||e.within(s)&&e.overlapsAny(u);)e.move(t[o]);if(e.within(s))return e;var a=e.intersectPercentage(s);a<i&&(n=new he(e),i=a),e=new he(r)}return n||r}var r=new he(t),i=t.cue,o=fe(i),a=[];if(i.snapToLines){var l;switch(i.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var c=r.lineHeight,f=c*Math.round(o),d=s[l]+c,p=a[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/c)*c),o<0&&(f+=""===i.vertical?s.height:s.width,a=a.reverse()),r.move(p,f)}else{var h=r.lineHeight/s.height*100;switch(i.lineAlign){case"middle":o-=h/2;break;case"end":o-=h}switch(i.vertical){case"":t.applyStyles({top:t.formatStyle(o,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(o,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(o,"%")})}a=["+y","-x","+x","-y"],r=new he(t)}var g=n(r,a);t.move(g.toCSSCompatValues(s))}function ve(){}function me(e){return"string"==typeof e&&(!!Ur[e.toLowerCase()]&&e.toLowerCase())}function ye(e){return"string"==typeof e&&(!!Hr[e.toLowerCase()]&&e.toLowerCase())}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function be(e,t,n){var r=this,i=/MSIE\s8\.0/.test(navigator.userAgent),o={};i?r=document.createElement("custom"):o.enumerable=!0,r.hasBeenReset=!1;var a="",s=!1,u=e,l=t,c=n,f=null,d="",p=!0,h="auto",g="start",v=50,m="middle",y=50,_="middle";if(Object.defineProperty(r,"id",_e({},o,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(r,"pauseOnExit",_e({},o,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(r,"startTime",_e({},o,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",_e({},o,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",_e({},o,{get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",_e({},o,{get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",_e({},o,{get:function(){return d},set:function(e){var t=me(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",_e({},o,{get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",_e({},o,{get:function(){return h},set:function(e){if("number"!=typeof e&&e!==Br)throw new SyntaxError("An invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",_e({},o,{get:function(){return g},set:function(e){var t=ye(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",_e({},o,{get:function(){return v},set:function(e){if(e<0||100<e)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",_e({},o,{get:function(){return m},set:function(e){var t=ye(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",_e({},o,{get:function(){return y},set:function(e){if(e<0||100<e)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",_e({},o,{get:function(){return _},set:function(e){var t=ye(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),r.displayState=undefined,i)return r}function Te(e){return"string"==typeof e&&(!!zr[e.toLowerCase()]&&e.toLowerCase())}function we(e){return"number"==typeof e&&0<=e&&e<=100}function Ee(){var t=100,n=3,r=0,i=100,o=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!we(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return n},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");n=e}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(e){if(!we(e))throw new Error("RegionAnchorX must be between 0 and 100.");i=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!we(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!we(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(e){if(!we(e))throw new Error("ViewportAnchorX must be between 0 and 100.");o=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t=Te(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");s=t}}})}function Se(e,t,n,r,i){var o=4<arguments.length&&i!==undefined?i:{},a=e.textTracks();o.kind=t,n&&(o.label=n),r&&(o.language=r),o.tech=e;var s=new xr.text.TrackClass(o);return a.addTrack(s),s}function Pe(e,t){Yr[e]=Yr[e]||[],Yr[e].push(t)}function ut(e,t,n){e.setTimeout(function(){return Ie(t,Yr[t.type],n,e)},1)}function lt(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function ct(e,t,n){return e.reduceRight(Ce(n),t[n]())}function ft(e,t,n,r){return t[n](e.reduce(Ce(n),r))}function Ce(n){return function(e,t){return t[n]?t[n](e):e}}function Ie(e,t,n,r,i,o){var a=0<arguments.length&&e!==undefined?e:{},s=1<arguments.length&&t!==undefined?t:[],u=n,l=r,c=4<arguments.length&&i!==undefined?i:[],f=5<arguments.length&&o!==undefined&&o,d=s[0],p=s.slice(1);if("string"==typeof d)Ie(a,Yr[d],u,l,c,f);else if(d){var h=d(l);h.setSource(Ke({},a),function(e,t){if(e)return Ie(a,p,u,l,c,f);c.push(h),Ie(t,a.type===t.type?p:Yr[t.type],u,l,c,f)})}else p.length?Ie(a,p,u,l,c,f):f?u(a,c):Ie(a,Yr["*"],u,l,c,!0)}function xe(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function Ae(e,t,n){try{e.style[t]=n}catch(r){return}}function Oe(e,t){var n=1<arguments.length&&t!==undefined?t:e;e=e<0?0:e;var r=Math.floor(e%60),i=Math.floor(e/60%60),o=Math.floor(e/3600),a=Math.floor(n/60%60),s=Math.floor(n/3600);return(isNaN(e)||e===Infinity)&&(o=i=r="-"),(o=0<o||0<s?o+":":"")+(i=((o||10<=a)&&i<10?"0"+i:i)+":")+(r=r<10?"0"+r:r)}function ke(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function Me(e,t){return ke(e.options[e.options.selectedIndex].value,t)}function Re(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if(ke(e.options[r].value,n)===t){e.selectedIndex=r;break}}function De(e,n,t){var r=void 0;if("string"==typeof e){var i=De.getPlayers();if(0===e.indexOf("#")&&(e=e.slice(1)),i[e])return n&&Wt.warn('Player "'+e+'" is already initialised. Options will not be applied.'),t&&i[e].ready(t),i[e];r=$t("#"+e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||To.players[r.playerId])return r.player||To.players[r.playerId];n=n||{},De.hooks("beforesetup").forEach(function(e){var t=e(r,it(n));s(t)&&!Array.isArray(t)?n=it(n,t):Wt.error("please return an object in beforesetup hooks")});var o=new(Sn.getComponent("Player"))(r,n,t);return De.hooks("setup").forEach(function(e){return e(o)}),o}var Ne,dt="6.2.7",Le="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pt="undefined"!=typeof window?window:void 0!==Le?Le:"undefined"!=typeof self?self:{},je={},Fe=(Object.freeze||Object)({"default":je}),Be=Fe&&je||Fe,Ue=void 0!==Le?Le:"undefined"!=typeof window?window:{};"undefined"!=typeof document?Ne=document:(Ne=Ue["__GLOBAL_DOCUMENT_CACHE@4"])||(Ne=Ue["__GLOBAL_DOCUMENT_CACHE@4"]=Be);var He,Ve,ze,qe,ht=Ne,Ge=pt.navigator&&pt.navigator.userAgent||"",gt=/AppleWebKit\/([\d.]+)/i.exec(Ge),vt=gt?parseFloat(gt.pop()):null,mt=/iPad/i.test(Ge),yt=/iPhone/i.test(Ge)&&!mt,_t=/iPod/i.test(Ge),bt=yt||mt||_t,Tt=(He=Ge.match(/OS (\d+)_/i))&&He[1]?He[1]:null,wt=/Android/i.test(Ge),Et=function(){var e=Ge.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),St=wt&&/webkit/i.test(Ge)&&Et<2.3,Pt=wt&&Et<5&&vt<537,Ct=/Firefox/i.test(Ge),It=/Edge/i.test(Ge),xt=!It&&/Chrome/i.test(Ge),At=(Ve=Ge.match(/Chrome\/(\d+)/))&&Ve[1]?parseFloat(Ve[1]):null,Ot=/MSIE\s8\.0/.test(Ge),kt=(ze=/MSIE\s(\d+)\.\d/.exec(Ge),!(qe=ze&&parseFloat(ze[1]))&&/Trident\/7.0/i.test(Ge)&&/rv:11.0/.test(Ge)&&(qe=11),qe),Mt=/Safari/i.test(Ge)&&!xt&&!wt&&!It,Rt=Mt||bt,Dt=c()&&("ontouchstart"in pt||pt.DocumentTouch&&pt.document instanceof pt.DocumentTouch),Nt=c()&&"backgroundSize"in pt.document.createElement("video").style,Lt=(Object.freeze||Object)({IS_IPAD:mt,IS_IPHONE:yt,IS_IPOD:_t,IS_IOS:bt,IOS_VERSION:Tt,IS_ANDROID:wt,ANDROID_VERSION:Et,IS_OLD_ANDROID:St,IS_NATIVE_ANDROID:Pt,IS_FIREFOX:Ct,IS_EDGE:It,IS_CHROME:xt,CHROME_VERSION:At,IS_IE8:Ot,IE_VERSION:kt,IS_SAFARI:Mt,IS_ANY_SAFARI:Rt,TOUCH_ENABLED:Dt,BACKGROUND_SIZE_SUPPORTED:Nt}),jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Bt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ut=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ht=function(e,t){return e.raw=t,e},Vt=Object.prototype.toString,zt=function zt(e){return s(e)?Object.keys(e):[]},qt=void 0,Gt="all",Kt=[],Yt=function Yt(e,t,n){var r=2<arguments.length&&n!==undefined?n:!!kt&&kt<11,i=qt.levels[Gt],o=new RegExp("^("+i+")$");"log"!==e&&t.unshift(e.toUpperCase()+":"),Kt&&Kt.push([].concat(t)),t.unshift("VIDEOJS:");var a=pt.console&&pt.console[e];a&&i&&o.test(e)&&(r&&(t=t.map(function(e){if(s(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),a.apply?a[Array.isArray(t)?"apply":"call"](pt.console,t):a(t))};(qt=function qt(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Yt("log",t)}).levels={all:"log|warn|error",error:"error",off:"",warn:"warn|error",DEFAULT:Gt},qt.level=function(e){if("string"==typeof e){if(!qt.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');Gt=e}return Gt},qt.history=function(){return Kt?[].concat(Kt):[]},qt.history.clear=function(){Kt&&(Kt.length=0)},qt.history.disable=function(){null!==Kt&&(Kt.length=0,Kt=null)},qt.history.enable=function(){null===Kt&&(Kt=[])},qt.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yt("error",t)},qt.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yt("warn",t)};var Wt=qt,Qt=function Qt(e){for(var t="",n=0;n<arguments.length;n++)t+=r(e[n])+(arguments[n+1]||"");return t},Xt=Ht(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),$t=t("querySelector"),Jt=t("querySelectorAll"),Zt=(Object.freeze||Object)({isReal:c,isEl:u,createEl:J,textContent:y,prependTo:Ye,hasClass:We,addClass:Qe,removeClass:Xe,toggleClass:Z,setAttributes:S,getAttributes:$e,getAttribute:ee,setAttribute:te,removeAttribute:ne,blockTextSelection:p,unblockTextSelection:h,getBoundingClientRect:d,findPosition:f,getPointerPosition:g,isTextNode:l,emptyEl:_,normalizeContent:v,appendContent:m,insertContent:w,$:$t,$$:Jt}),en=1,tn={},nn="vdata"+(new Date).getTime(),rn=!1;!function(
){try{var e=Object.defineProperty({},"passive",{get:function t(){rn=!0}});pt.addEventListener("test",null,e)}catch(n){}}();var on=["touchstart","touchmove"],an=(Object.freeze||Object)({fixEvent:x,on:Ze,off:et,trigger:A,one:O}),sn=!1,un=void 0,ln=function ln(){if(c()){var e=ht.getElementsByTagName("video"),t=ht.getElementsByTagName("audio"),n=[];if(e&&0<e.length)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);if(t&&0<t.length)for(var o=0,a=t.length;o<a;o++)n.push(t[o]);if(n&&0<n.length)for(var s=0,u=n.length;s<u;s++){var l=n[s];if(!l||!l.getAttribute){k(1);break}l.player===undefined&&null!==l.getAttribute("data-setup")&&un(l)}else sn||k(1)}};c()&&"complete"===ht.readyState?sn=!0:O(pt,"load",function(){sn=!0});var cn=function cn(e){var t=ht.createElement("style");return t.className=e,t},fn=function fn(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},dn=function dn(e,t,n){t.guid||(t.guid=Je());var r=function r(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},pn=function pn(t,n){var r=Date.now(),i=function i(){var e=Date.now();n<=e-r&&(t.apply(undefined,arguments),r=e)};return i},hn=function hn(){};hn.prototype.allowedEvents_={},hn.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},Ze(this,e,t),this.addEventListener=n},hn.prototype.addEventListener=hn.prototype.on,hn.prototype.off=function(e,t){et(this,e,t)},hn.prototype.removeEventListener=hn.prototype.off,hn.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},O(this,e,t),this.addEventListener=n},hn.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=x(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),A(this,e)},hn.prototype.dispatchEvent=hn.prototype.trigger;var gn=function gn(t){return t instanceof hn||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},vn=function vn(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},mn=function mn(e){if(!e.nodeName&&!gn(e))throw new Error("Invalid target; must be a DOM node or evented object.")},yn=function yn(e){if(!vn(e))throw new Error("Invalid event type; must be a non-empty string or array.")},_n=function _n(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},bn=function bn(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,r=void 0,i=void 0,o=void 0;return o=n?(r=e.eventBusEl_,3<=t.length&&t.shift(),i=t[0],t[1]):(r=t[0],i=t[1],t[2]),mn(r),yn(i),_n(o),{isTargetingSelf:n,target:r,type:i,listener:o=dn(e,o)}},Tn=function Tn(e,t,n,r){mn(e),e.nodeName?an[t](e,n,r):e[t](n,r)},wn={on:function jo(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bn(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(Tn(a,"on",s,u),!o){var l=function l(){return e.off(a,s,u)};l.guid=u.guid;var c=function c(){return e.off("dispose",l)};c.guid=u.guid,Tn(this,"on","dispose",l),Tn(a,"on","dispose",c)}},one:function Fo(){for(var r=this,e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=bn(this,t),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)Tn(a,"one",s,u);else{var l=function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r.off(a,s,l),u.apply(null,t)};l.guid=u.guid,Tn(a,"one",s,l)}},off:function Bo(e,t,n){if(!e||vn(e))et(this.eventBusEl_,e,t);else{var r=e,i=t;mn(r),yn(i),_n(n),n=dn(this,n),this.off("dispose",n),r.nodeName?(et(r,i,n),et(r,"dispose",n)):gn(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function Uo(e,t){return A(this.eventBusEl_,e,t)}},En={state:{},setState:function Ho(e){var n=this;"function"==typeof e&&(e=e());var r=void 0;return b(e,function(e,t){n.state[t]!==e&&((r=r||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),r&&gn(this)&&this.trigger({changes:r,type:"statechanged"}),r}},Sn=function(){function c(e,t,n){if(Ft(this,c),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=it({},this.options_),t=this.options_=it(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Je()}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),tt(this,{eventBusKey:this.el_?"el_":null}),ie(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},!(this.childNameIndex_={})!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}return c.prototype.dispose=function t(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;0<=e;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),re(this.el_),this.el_=null)},c.prototype.player=function e(){return this.player_},c.prototype.options=function n(e){return Wt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e&&(this.options_=it(this.options_,e)),this.options_},c.prototype.el=function r(){return this.el_},c.prototype.createEl=function i(e,t,n){return J(e,t,n)},c.prototype.localize=function f(e,i,t){var n=2<arguments.length&&t!==undefined?t:e,r=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),a=o&&o[r],s=r&&r.split("-")[0],u=o&&o[s],l=n;return a&&a[e]?l=a[e]:u&&u[e]&&(l=u[e]),i&&(l=l.replace(/\{(\d+)\}/g,function(e,t){var n=i[t-1],r=n;return void 0===n&&(r=e),r})),l},c.prototype.contentEl=function o(){return this.contentEl_||this.el_},c.prototype.id=function a(){return this.id_},c.prototype.name=function s(){return this.name_},c.prototype.children=function u(){return this.children_},c.prototype.getChildById=function l(e){return this.childIndex_[e]},c.prototype.getChild=function d(e){if(e)return e=nt(e),this.childNameIndex_[e]},c.prototype.addChild=function p(e,t,n){var r=1<arguments.length&&t!==undefined?t:{},i=2<arguments.length&&n!==undefined?n:this.children_.length,o=void 0,a=void 0;if("string"==typeof e){a=nt(e);var s=r.componentClass||a;r.name=a;var u=c.getComponent(s);if(!u)throw new Error("Component "+s+" does not exist");if("function"!=typeof u)return null;o=new u(this.player_||this,r)}else o=e;if(this.children_.splice(i,0,o),"function"==typeof o.id&&(this.childIndex_[o.id()]=o),(a=a||o.name&&nt(o.name()))&&(this.childNameIndex_[a]=o),"function"==typeof o.el&&o.el()){var l=this.contentEl().children[i]||null;this.contentEl().insertBefore(o.el(),l)}return o},c.prototype.removeChild=function h(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;0<=n;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},c.prototype.initChildren=function g(){var i=this,r=this.options_.children;if(r){var o=this.options_,a=function a(e){var t=e.name,n=e.opts;if(o[t]!==undefined&&(n=o[t]),!1!==n){!0===n&&(n={}),n.playerOptions=i.options_.playerOptions;var r=i.addChild(t,n);r&&(i[t]=r)}},e=void 0,n=c.getComponent("Tech");(e=Array.isArray(r)?r:Object.keys(r)).concat(Object.keys(this.options_).filter(function(t){return!e.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(e){var t=void 0,n=void 0;return n="string"==typeof e?r[t=e]||i.options_[t]||{}:(t=e.name,e),{name:t,opts:n}}).filter(function(e){var t=c.getComponent(e.opts.componentClass||nt(e.name));return t&&!n.isTech(t)}).forEach(a)}},c.prototype.buildCSSClass=function v(){return""},c.prototype.ready=function m(e,t){var n=1<arguments.length&&t!==undefined&&t;e&&(this.isReady_?n?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e)))},c.prototype.triggerReady=function y(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&0<e.length&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},c.prototype.$=function _(e,t){return $t(e,t||this.contentEl())},c.prototype.$$=function b(e,t){return Jt(e,t||this.contentEl())},c.prototype.hasClass=function T(e){return We(this.el_,e)},c.prototype.addClass=function w(e){Qe(this.el_,e)},c.prototype.removeClass=function E(e){Xe(this.el_,e)},c.prototype.toggleClass=function S(e,t){Z(this.el_,e,t)},c.prototype.show=function P(){this.removeClass("vjs-hidden")},c.prototype.hide=function C(){this.addClass("vjs-hidden")},c.prototype.lockShowing=function I(){this.addClass("vjs-lock-showing")},c.prototype.unlockShowing=function x(){this.removeClass("vjs-lock-showing")},c.prototype.getAttribute=function A(e){return ee(this.el_,e)},c.prototype.setAttribute=function O(e,t){te(this.el_,e,t)},c.prototype.removeAttribute=function k(e){ne(this.el_,e)},c.prototype.width=function M(e,t){return this.dimension("width",e,t)},c.prototype.height=function R(e,t){return this.dimension("height",e,t)},c.prototype.dimensions=function D(e,t){this.width(e,!0),this.height(t)},c.prototype.dimension=function N(e,t,n){if(t!==undefined)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+nt(e)],10)},c.prototype.currentDimension=function L(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof pt.getComputedStyle){var n=pt.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var r="offset"+nt(e);t=this.el_[r]}return t},c.prototype.currentDimensions=function j(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},c.prototype.currentWidth=function F(){return this.currentDimension("width")},c.prototype.currentHeight=function B(){return this.currentDimension("height")},c.prototype.focus=function U(){this.el_.focus()},c.prototype.blur=function H(){this.el_.blur()},c.prototype.emitTapEvents=function V(){var t=0,i=null,o=10,n=200,a=void 0;this.on("touchstart",function(e){1===e.touches.length&&(i={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY},t=(new Date).getTime(),a=!0)}),this.on("touchmove",function(e){if(1<e.touches.length)a=!1;else if(i){var t=e.touches[0].pageX-i.pageX,n=e.touches[0].pageY-i.pageY,r=Math.sqrt(t*t+n*n);o<r&&(a=!1)}});var e=function e(){a=!1};this.on("touchleave",e),this.on("touchcancel",e),this.on("touchend",function(e){!(i=null)===a&&((new Date).getTime()-t<n&&(e.preventDefault(),this.trigger("tap")))})},c.prototype.enableTouchActivity=function z(){if(this.player()&&this.player().reportUserActivity){var e=dn(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function n(){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},c.prototype.setTimeout=function q(e,t){e=dn(this,e);var n=pt.setTimeout(e,t),r=function r(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},c.prototype.clearTimeout=function G(e){pt.clearTimeout(e);var t=function t(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},c.prototype.setInterval=function K(e,t){e=dn(this,e);var n=pt.setInterval(e,t),r=function r(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},c.prototype.clearInterval=function Y(e){pt.clearInterval(e);var t=function t(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},c.prototype.requestAnimationFrame=function W(e){var t=this;if(this.supportsRaf_){e=dn(this,e);var n=pt.requestAnimationFrame(e),r=function r(){return t.cancelAnimationFrame(n)};return r.guid="vjs-raf-"+n,this.on("dispose",r),n}return this.setTimeout(e,1e3/60)},c.prototype.cancelAnimationFrame=function Q(e){if(this.supportsRaf_){pt.cancelAnimationFrame(e);var t=function t(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},c.registerComponent=function X(e,t){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=c.getComponent("Tech"),r=n&&n.isTech(t),i=c===t||c.prototype.isPrototypeOf(t.prototype);if(r||!i){var o=void 0;throw o=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+o+".")}e=nt(e),c.components_||(c.components_={});var a=c.getComponent("Player");if("Player"===e&&a&&a.players){var s=a.players,u=Object.keys(s);if(s&&0<u.length&&u.map(function(e){return s[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return c.components_[e]=t},c.getComponent=function $(e){if(e)return e=nt(e),c.components_&&c.components_[e]?c.components_[e]:void 0},c}();Sn.prototype.supportsRaf_="function"==typeof pt.requestAnimationFrame&&"function"==typeof pt.cancelAnimationFrame,Sn.registerComponent("Component",Sn);for(var Pn={},Cn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],In=Cn[0],xn=void 0,An=0;An<Cn.length;An++)if(Cn[An][1]in ht){xn=Cn[An];break}if(xn)for(var On=0;On<xn.length;On++)Pn[In[On]]=xn[On];st.prototype.code=0,st.prototype.message="",st.prototype.status=null,st.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],st.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var kn=0;kn<st.errorTypes.length;kn++)st[st.errorTypes[kn]]=kn,st.prototype[st.errorTypes[kn]]=kn;var Mn=N,Rn=function Rn(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,t){return n[t]&&(e[t]=n[t]),e},{cues:n.cues&&Array.prototype.map.call(n.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},Dn=function Dn(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Rn(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(Rn))},Nn=function Nn(e,n){return e.forEach(function(e){var t=n.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return t.addCue(e)})}),n.textTracks()},Ln={textTracksToJson:Dn,jsonToTextTracks:Nn,trackToJson_:Rn},jn="vjs-modal-dialog",Fn=27,Bn=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=J("div",{className:jn+"-content"},{role:"document"}),n.descEl_=J("p",{className:jn+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),y(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}return Bt(i,r),i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.prototype.buildCSSClass=function t(){return jn+" vjs-hidden "+r.prototype.buildCSSClass.call(this)},i.prototype.handleKeyPress=function n(e){e.which===Fn&&this.closeable()&&this.close()},i.prototype.label=function o(){return this.localize(this.options_.label||"Modal Window")},i.prototype.description=function a(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},i.prototype.open=function s(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",dn(this,this.handleKeyPress)),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.prototype.opened=function u(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},i.prototype.close=function l(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",dn(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.prototype.closeable=function e(t){if("boolean"==typeof t){var e=this.closeable_=!!t,n=this.getChild("closeButton");if(e&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!e&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},i.prototype.fill=function c(){this.fillWith(this.content())},i.prototype.fillWith=function f(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),w(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},i.prototype.empty=function d(){this.trigger("beforemodalempty"),_(this.contentEl()),this.trigger("modalempty")},i.prototype.content=function p(e){return void 0!==e&&(this.content_=e),this.content_},i.prototype.conditionalFocus_=function h(){var e=ht.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(ht,"keydown",this.handleKeyDown))},i.prototype.conditionalBlur_=function g(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(ht,"keydown",this.handleKeyDown)},i.prototype.handleKeyDown=function v(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,i=0;i<t.length;i++)if(n===t[i]){r=i;break}ht.activeElement===this.el_&&(r=0),e.shiftKey&&0===r?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||r!==t.length-1||(t[0].focus(),e.preventDefault())}},i.prototype.focusableEls_=function m(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof pt.HTMLAnchorElement||e instanceof pt.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof pt.HTMLInputElement||e instanceof pt.HTMLSelectElement||e instanceof pt.HTMLTextAreaElement||e instanceof pt.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof pt.HTMLIFrameElement||e instanceof pt.HTMLObjectElement||e instanceof pt.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},i}(Sn);Bn.prototype.options_={pauseOnOpen:!0,temporary:!0},Sn.registerComponent("ModalDialog",Bn);var Un=function(u){function l(e,t){var n=0<arguments.length&&e!==undefined?e:[],r=1<arguments.length&&t!==undefined?t:null;Ft(this,l);var i=Ut(this,u.call(this));if(!r&&(r=i,Ot))for(var o in r=ht.createElement("custom"),l.prototype)"constructor"!==o&&(r[o]=l.prototype[o]);r.tracks_=[],Object.defineProperty(r,"length",{get:function s(){return this.tracks_.length}});for(var a=0;a<n.length;a++)r.addTrack(n[a]);return Ut(i,r)}return Bt(l,u),l.prototype.addTrack=function r(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function n(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},l.prototype.removeTrack=function i(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},l.prototype.getTrackById=function o(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},l}(hn);for(var Hn in Un.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Un.prototype.allowedEvents_)Un.prototype["on"+Hn]=null;var Vn=function Vn(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},zn=function(s){function u(e){var t,n=0<arguments.length&&e!==undefined?e:[];Ft(this,u);for(var r=void 0,i=n.length-1;0<=i;i--)if(n[i].enabled){Vn(n,n[i]);break}if(Ot){for(var o in r=ht.createElement("custom"),Un.prototype)"constructor"!==o&&(r[o]=Un.prototype[o]);for(var a in u.prototype)"constructor"!==a&&(r[a]=u.prototype[a])}return(r=t=Ut(this,s.call(this,n,r))).changing_=!1,Ut(t,r)}return Bt(u,s),u.prototype.addTrack=function n(e){var t=this;e.enabled&&Vn(this,e),s.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){t.changing_||(t.changing_=!0,Vn(t,e),t.changing_=!1,t.trigger("change"))})},u}(Un),qn=function Vn(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},Gn=function(l){function c(e){var t,n=0<arguments.length&&e!==undefined?e:[];Ft(this,c);for(var r=void 0,i=n.length-1;0<=i;i--)if(n[i].selected){qn(n,n[i]);break}if(Ot){for(var o in r=ht.createElement("custom"),Un.prototype)"constructor"!==o&&(r[o]=Un.prototype[o]);for(var a in c.prototype)"constructor"!==a&&(r[a]=c.prototype[a])}return(r=t=Ut(this,l.call(this,n,r))).changing_=!1,Object.defineProperty(r,"selectedIndex",{get:function s(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function u(){}}),Ut(t,r)}return Bt(c,l),c.prototype.addTrack=function n(e){var t=this;e.selected&&qn(this,e),l.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){t.changing_||(t.changing_=!0,qn(t,e),t.changing_=!1,t.trigger("change"))})},c}(Un),Kn=function(a){function s(e){var t,n=0<arguments.length&&e!==undefined?e:[];Ft(this,s);var r=void 0;if(Ot){for(var i in r=ht.createElement("custom"),Un.prototype)"constructor"!==i&&(r[i]=Un.prototype[i]);for(var o in s.prototype)"constructor"!==o&&(r[o]=s.prototype[o])}return t=Ut(this,a.call(this,n,r)),Ut(r=t,r)}return Bt(s,a),s.prototype.addTrack=function t(e){a.prototype.addTrack.call(this,e),e.addEventListener("modechange",dn(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",dn(this,function(){this.trigger("selectedlanguagechange")}))},s}(Un),Yn=function(){function s(e){var t=0<arguments.length&&e!==undefined?e:[];Ft(this,s);var n=this;if(Ot)for(var r in n=ht.createElement("custom"),s.prototype)"constructor"!==r&&(n[r]=s.prototype[r]);n.trackElements_=[],Object.defineProperty(n,"length",{get:function a(){return this.trackElements_.length}});for(var i=0,o=t.length;i<o;i++)n.addTrackElement_(t[i]);if(Ot)return n}return s.prototype.addTrackElement_=function r(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function n(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},s.prototype.getTrackElementByTrack_=function i(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},s.prototype.removeTrackElement_=function o(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},s}(),Wn=function(){function i(e){Ft(this,i);var t=this;if(Ot)for(var n in t=ht.createElement("custom"),i.prototype)"constructor"!==n&&(t[n]=i.prototype[n]);if(i.prototype.setCues_.call(t,e),Object.defineProperty(t,"length",{get:function r(){return this.length_}}),Ot)return t}return i.prototype.setCues_=function o(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function i(e){""+e in this||Object.defineProperty(this,""+e,{get:function t(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},i.prototype.getCueById=function a(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},i}(),Qn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Xn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},$n={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Jn={disabled:"disabled",hidden:"hidden",showing:"showing"},Zn=function(u){function l(e){var t=0<arguments.length&&e!==undefined?e:{};Ft(this,l);var n=Ut(this,u.call(this)),r=n;if(Ot)for(var i in r=ht.createElement("custom"),l.prototype)"constructor"!==i&&(r[i]=l.prototype[i]);var o={id:t.id||"vjs_track_"+Je(),kind:t.kind||"",label:t.label||"",language:t.language||""},a=function a(e){Object.defineProperty(r,e,{get:function t(){return o[e]},set:function n(){}})};for(var s in o)a(s);return Ut(n,r)}return Bt(l,u),l}(hn),er=function er(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=ht.createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&((i=ht.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),ht.body.appendChild(i));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),r&&ht.body.removeChild(i),o},tr=function tr(e){if(!e.match(/^https?:\/\//)){var t=ht.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},nr=function nr(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},rr=function rr(e){var t=pt.location,n=er(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},ir=(Object.freeze||Object)({parseUrl:er,getAbsoluteURL:tr,getFileExtension:nr,isCrossOrigin:rr}),or=L,ar=Object.prototype.toString,sr=e(function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}(t=e.exports=n).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),ur=F,lr=Object.prototype.toString,cr=Object.prototype.hasOwnProperty,fr=function(e){return"[object Array]"===Object.prototype.toString.call(e)},dr=function(e){if(!e)return{};var i={};return ur(sr(e).split("\n"),function(e){var t=e.indexOf(":"),n=sr(e.slice(0,t)).toLowerCase(),r=sr(e.slice(t+1));"undefined"==typeof i[n]?i[n]=r:fr(i[n])?i[n].push(r):i[n]=[i[n],r]}),i},pr=V,hr=Object.prototype.hasOwnProperty,gr=K;K.XMLHttpRequest=pt.XMLHttpRequest||Q,K.XDomainRequest="withCredentials"in new K.XMLHttpRequest?K.XMLHttpRequest:pt.XDomainRequest,z(["get","put","post","patch","head","delete"],function(r){K["delete"===r?"del":r]=function(e,t,n){return(t=G(e,t,n)).method=r.toUpperCase(),Y(t)}});var vr=function vr(e,t){var n=new pt.WebVTT.Parser(pt,pt.vttjs,pt.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),0<r.length&&(pt.console&&pt.console.groupCollapsed&&pt.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return Wt.error(e)}),pt.console&&pt.console.groupEnd&&pt.console.groupEnd()),n.flush()},mr=function mr(e,i){var t={uri:e},n=rr(e);n&&(t.cors=n),gr(t,dn(this,function(e,t,n){if(e)return Wt.error(e,t);if(i.loaded_=!0,"function"!=typeof pt.WebVTT){if(i.tech_){var r=function r(){return vr(n,i)};i.tech_.on("vttjsloaded",r),i.tech_.on("vttjserror",function(){Wt.error("vttjs failed to load, stopping trying to process "+i.src),i.tech_.off("vttjsloaded",r)})}}else vr(n,i)}))},yr=function(h){function g(e){var t,n=0<arguments.length&&e!==undefined?e:{};if(Ft(this,g),!n.tech)throw new Error("A tech was not provided.");var r=it(n,{kind:$n[n.kind]||"subtitles",language:n.language||n.srclang||""}),i=Jn[r.mode]||"disabled",o=r["default"];"metadata"!==r.kind&&"chapters"!==r.kind||(i="hidden");var a=t=Ut(this,h.call(this,r));if(a.tech_=r.tech,Ot)for(var s in g.prototype)"constructor"!==s&&(a[s]=g.prototype[s]);a.cues_=[],a.activeCues_=[];var u=new Wn(a.cues_),l=new Wn(a.activeCues_),c=!1,f=dn(a,function(){this.activeCues,c&&(this.trigger("cuechange"),c=!1)});return"disabled"!==i&&a.tech_.ready(function(){a.tech_.on("timeupdate",f)},!0),Object.defineProperty(a,"default",{get:function d(){return o},set:function p(){}}),Object.defineProperty(a,"mode",{get:function d(){return i},set:function p(e){var t=this;Jn[e]&&("showing"===(i=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",f)},!0),this.trigger("modechange"))}}),Object.defineProperty(a,"cues",{get:function d(){return this.loaded_?u:null},set:function p(){}}),Object.defineProperty(a,"activeCues",{get:function d(){if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(c=!1,t.length!==this.activeCues_.length)c=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(c=!0);return this.activeCues_=t,l.setCues_(this.activeCues_),l},set:function p(){}}),r.src?(a.src=r.src,mr(r.src,a)):a.loaded_=!0,Ut(t,a)}return Bt(g,h),g.prototype.addCue=function o(e){var t=e;if(pt.vttjs&&!(e instanceof pt.vttjs.VTTCue)){for(var n in t=new pt.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},g.prototype.removeCue=function r(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},g}(Zn);yr.prototype.allowedEvents_={cuechange:"cuechange"};var _r=function(l){function c(e){var t,n=0<arguments.length&&e!==undefined?e:{};Ft(this,c);var r=it(n,{kind:Xn[n.kind]||""}),i=t=Ut(this,l.call(this,r)),o=!1;if(Ot)for(var a in c.prototype)"constructor"!==a&&(i[a]=c.prototype[a]);return Object.defineProperty(i,"enabled",{get:function s(){return o},set:function u(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("enabledchange"))}}),r.enabled&&(i.enabled=r.enabled),i.loaded_=!0,Ut(t,i)}return Bt(c,l),c}(Zn),br=function(l){function c(e){var t,n=0<arguments.length&&e!==undefined?e:{};Ft(this,c);var r=it(n,{kind:Qn[n.kind]||""}),i=t=Ut(this,l.call(this,r)),o=!1;if(Ot)for(var a in c.prototype)"constructor"!==a&&(i[a]=c.prototype[a]);return Object.defineProperty(i,"selected",{get:function s(){return o},set:function u(e){"boolean"==typeof e&&e!==o&&(o=e,this.trigger("selectedchange"))}}),r.selected&&(i.selected=r.selected),Ut(t,i)}return Bt(c,l),c}(Zn),Tr=0,wr=1,Er=2,Sr=3,Pr=function(u){function l(e){var t=0<arguments.length&&e!==undefined?e:{};Ft(this,l);var n=Ut(this,u.call(this)),r=void 0,i=n;if(Ot)for(var o in i=ht.createElement("custom"),l.prototype)"constructor"!==o&&(i[o]=l.prototype[o]);var a=new yr(t);return i.kind=a.kind,i.src=a.src,i.srclang=a.language,i.label=a.label,i["default"]=a["default"],Object.defineProperty(i,"readyState",{get:function s(){return r}}),Object.defineProperty(i,"track",{get:function s(){return a}}),r=Tr,
a.addEventListener("loadeddata",function(){r=Er,i.trigger({type:"load",target:i})}),Ot?Ut(n,i):n}return Bt(l,u),l}(hn);Pr.prototype.allowedEvents_={load:"load"},Pr.NONE=Tr,Pr.LOADING=wr,Pr.LOADED=Er,Pr.ERROR=Sr;var Cr={audio:{ListClass:zn,TrackClass:_r,capitalName:"Audio"},video:{ListClass:Gn,TrackClass:br,capitalName:"Video"},text:{ListClass:Kn,TrackClass:yr,capitalName:"Text"}};Object.keys(Cr).forEach(function(e){Cr[e].getterName=e+"Tracks",Cr[e].privateName=e+"Tracks_"});var Ir={remoteText:{ListClass:Kn,TrackClass:yr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Yn,TrackClass:Pr,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},xr=it(Cr,Ir);Ir.names=Object.keys(Ir),Cr.names=Object.keys(Cr),xr.names=[].concat(Ir.names).concat(Cr.names);var Ar=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();X.prototype=Ar(Error.prototype),(X.prototype.constructor=X).Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},oe.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&0<=(t=parseFloat(t))&&t<=100)&&(this.set(e,t),!0)}};var Or={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},kr={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Mr={v:"title",lang:"lang"},Rr={rt:"ruby"},Dr=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];de.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},de.prototype.formatStyle=function(e,t){return 0===e?0:e+t},pe.prototype=Ar(de.prototype),pe.prototype.constructor=pe,he.prototype.move=function(e,t){switch(t=t!==undefined?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},he.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},he.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},he.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},he.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},he.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},he.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},he.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},ve.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},ve.convertCueToDOMTree=function(e,t){return e&&t?ue(e,t):null};var Nr=.05,Lr="sans-serif",jr="1.5%";ve.processCues=function(r,i,e){function t(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!r||!i||!e)return null;for(;e.firstChild;)e.removeChild(e.firstChild);var o=r.document.createElement("div");if(o.style.position="absolute",o.style.left="0",o.style.right="0",o.style.top="0",o.style.bottom="0",o.style.margin=jr,e.appendChild(o),t(i)){var a=[],s=he.getSimpleBoxPosition(o),u={font:Math.round(s.height*Nr*100)/100+"px "+Lr};!function(){for(var e,t,n=0;n<i.length;n++)t=i[n],e=new pe(r,t,u),o.appendChild(e.div),ge(r,e,s,a),t.displayState=e.div,a.push(he.getSimpleBoxPosition(e))}()}else for(var n=0;n<i.length;n++)o.appendChild(i[n].displayState)},ve.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},ve.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof X))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=o.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,o.buffer=e.substr(t),n}function n(e){var i=new oe;if(ae(e,function(e,t){switch(e){case"id":i.set(e,t);break;case"width":i.percent(e,t);break;case"lines":i.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var r=new oe;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(e+"X",r.get("x")),i.set(e+"Y",r.get("y"));break;case"scroll":i.alt(e,t,["up"])}},/=/,/\s/),i.has("id")){var t=new(o.vttjs.VTTRegion||o.window.VTTRegion);t.width=i.get("width",100),t.lines=i.get("lines",3),t.regionAnchorX=i.get("regionanchorX",0),t.regionAnchorY=i.get("regionanchorY",100),t.viewportAnchorX=i.get("viewportanchorX",0),t.viewportAnchorY=i.get("viewportanchorY",100),t.scroll=i.get("scroll",""),o.onregion&&o.onregion(t),o.regionList.push({id:i.get("id"),region:t})}}function r(e){var n=new oe;ae(e,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",$(t))}},/[^\d]:/,/,/),o.ontimestampmap&&o.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}function i(e){e.match(/X-TIMESTAMP-MAP/)?ae(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":r(t)}},/=/):ae(e,function(e,t){switch(e){case"Region":n(t)}},/:/)}var o=this;e&&(o.buffer+=o.decoder.decode(e,{stream:!0}));try{var a;if("INITIAL"===o.state){if(!/\r\n|\n/.test(o.buffer))return this;var s=(a=t()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new X(X.Errors.BadSignature);o.state="HEADER"}for(var u=!1;o.buffer;){if(!/\r\n|\n/.test(o.buffer))return this;switch(u?u=!1:a=t(),o.state){case"HEADER":/:/.test(a)?i(a):a||(o.state="ID");continue;case"NOTE":a||(o.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){o.state="NOTE";break}if(!a)continue;if(o.cue=new(o.vttjs.VTTCue||o.window.VTTCue)(0,0,""),o.state="CUE",-1===a.indexOf("-->")){o.cue.id=a;continue}case"CUE":try{se(a,o.cue,o.regionList)}catch(c){o.reportOrThrowError(c),o.cue=null,o.state="BADCUE";continue}o.state="CUETEXT";continue;case"CUETEXT":var l=-1!==a.indexOf("-->");if(!a||l&&(u=!0)){o.oncue&&o.oncue(o.cue),o.cue=null,o.state="ID";continue}o.cue.text&&(o.cue.text+="\n"),o.cue.text+=a;continue;case"BADCUE":a||(o.state="ID");continue}}}catch(c){o.reportOrThrowError(c),"CUETEXT"===o.state&&o.cue&&o.oncue&&o.oncue(o.cue),o.cue=null,o.state="INITIAL"===o.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new X(X.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var Fr=ve,Br="auto",Ur={"":!0,lr:!0,rl:!0},Hr={start:!0,middle:!0,end:!0,left:!0,right:!0};be.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Vr=be,zr={"":!0,up:!0},qr=Ee,Gr=e(function(e){var t=e.exports={WebVTT:Fr,VTTCue:Vr,VTTRegion:qr};pt.vttjs=t,pt.WebVTT=t.WebVTT;var n=t.VTTCue,r=t.VTTRegion,i=pt.VTTCue,o=pt.VTTRegion;t.shim=function(){pt.VTTCue=n,pt.VTTRegion=r},t.restore=function(){pt.VTTCue=i,pt.VTTRegion=o},pt.VTTCue||t.shim()}),Kr=function(o){function a(e,t){var n=0<arguments.length&&e!==undefined?e:{},r=1<arguments.length&&t!==undefined?t:function(){};Ft(this,a),n.reportTouchActivity=!1;var i=Ut(this,o.call(this,null,n,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),xr.names.forEach(function(e){var t=xr[e];n&&n[t.getterName]&&(i[t.privateName]=n[t.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===n["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new xr.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return Bt(a,o),a.prototype.manualProgressOn=function e(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},a.prototype.manualProgressOff=function t(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},a.prototype.trackProgress=function n(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(dn(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),1===(this.bufferedPercent_=e)&&this.stopTrackingProgress()}),500)},a.prototype.onDurationChange=function r(){this.duration_=this.duration()},a.prototype.buffered=function i(){return ot(0,0)},a.prototype.bufferedPercent=function s(){return at(this.buffered(),this.duration_)},a.prototype.stopTrackingProgress=function u(){this.clearInterval(this.progressInterval)},a.prototype.manualTimeUpdatesOn=function l(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},a.prototype.manualTimeUpdatesOff=function c(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},a.prototype.trackCurrentTime=function f(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},a.prototype.stopTrackingCurrentTime=function d(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},a.prototype.dispose=function p(){this.clearTracks(Cr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),o.prototype.dispose.call(this)},a.prototype.clearTracks=function h(e){var i=this;(e=[].concat(e)).forEach(function(e){for(var t=i[e+"Tracks"]()||[],n=t.length;n--;){var r=t[n];"text"===e&&i.removeRemoteTextTrack(r),t.removeTrack(r)}})},a.prototype.cleanupAutoTextTracks=function g(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},a.prototype.reset=function v(){},a.prototype.error=function m(e){return e!==undefined&&(this.error_=new st(e),this.trigger("error")),this.error_},a.prototype.played=function y(){return this.hasStarted_?ot(0,0):ot()},a.prototype.setCurrentTime=function _(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},a.prototype.initTrackListeners=function b(){var i=this;Cr.names.forEach(function(e){var t=Cr[e],n=function n(){i.trigger(e+"trackchange")},r=i[t.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),i.on("dispose",function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)})})},a.prototype.addWebVttScript_=function T(){var e=this;if(!pt.WebVTT)if(ht.body.contains(this.el())){if(!this.options_["vtt.js"]&&j(Gr)&&0<Object.keys(Gr).length)return void this.trigger("vttjsloaded");var t=ht.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),pt.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},a.prototype.emulateTextTracks=function w(){var e=this,n=this.textTracks(),t=this.remoteTextTracks(),r=function r(e){return n.addTrack(e.track)},i=function i(e){return n.removeTrack(e.track)};t.on("addtrack",r),t.on("removetrack",i),this.addWebVttScript_();var o=function o(){return e.trigger("texttrackchange")},a=function a(){o();for(var e=0;e<n.length;e++){var t=n[e];t.removeEventListener("cuechange",o),"showing"===t.mode&&t.addEventListener("cuechange",o)}};a(),n.addEventListener("change",a),n.addEventListener("addtrack",a),n.addEventListener("removetrack",a),this.on("dispose",function(){t.off("addtrack",r),t.off("removetrack",i),n.removeEventListener("change",a),n.removeEventListener("addtrack",a),n.removeEventListener("removetrack",a);for(var e=0;e<n.length;e++){n[e].removeEventListener("cuechange",o)}})},a.prototype.addTextTrack=function E(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return Se(this,e,t,n)},a.prototype.createRemoteTextTrack=function S(e){var t=it(e,{tech:this});return new Ir.remoteTextEl.TrackClass(t)},a.prototype.addRemoteTextTrack=function P(e,t){var n=this,r=0<arguments.length&&e!==undefined?e:{},i=t,o=this.createRemoteTextTrack(r);return!0!==i&&!1!==i&&(Wt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),i=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),!0!==i&&this.ready(function(){return n.autoRemoteTextTracks_.addTrack(o.track)}),o},a.prototype.removeRemoteTextTrack=function C(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},a.prototype.getVideoPlaybackQuality=function I(){return{}},a.prototype.setPoster=function x(){},a.prototype.playsinline=function A(){},a.prototype.setPlaysinline=function O(){},a.prototype.canPlayType=function k(){return""},a.canPlayType=function M(){return""},a.canPlaySource=function R(e){return a.canPlayType(e.type)},a.isTech=function D(e){return e.prototype instanceof a||e instanceof a||e===a},a.registerTech=function N(e,t){if(a.techs_||(a.techs_={}),!a.isTech(t))throw new Error("Tech "+e+" must be a Tech");if(!a.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!a.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=nt(e),a.techs_[e]=t,"Tech"!==e&&a.defaultTechOrder_.push(e),t},a.getTech=function L(e){if(e)return e=nt(e),a.techs_&&a.techs_[e]?a.techs_[e]:pt&&pt.videojs&&pt.videojs[e]?(Wt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),pt.videojs[e]):void 0},a}(Sn);xr.names.forEach(function(e){var t=xr[e];Kr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),Kr.prototype.featuresVolumeControl=!0,Kr.prototype.featuresFullscreenResize=!1,Kr.prototype.featuresPlaybackRate=!1,Kr.prototype.featuresProgressEvents=!1,Kr.prototype.featuresTimeupdateEvents=!1,Kr.prototype.featuresNativeTextTracks=!1,Kr.withSourceHandlers=function(i){i.registerSourceHandler=function(e,t){var n=i.sourceHandlers;n||(n=i.sourceHandlers=[]),t===undefined&&(t=n.length),n.splice(t,0,e)},i.canPlayType=function(e){for(var t=i.sourceHandlers||[],n=void 0,r=0;r<t.length;r++)if(n=t[r].canPlayType(e))return n;return""},i.selectSourceHandler=function(e,t){for(var n=i.sourceHandlers||[],r=0;r<n.length;r++)if(n[r].canHandleSource(e,t))return n[r];return null},i.canPlaySource=function(e,t){var n=i.selectSourceHandler(e,t);return n?n.canHandleSource(e,t):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},i.prototype),i.prototype.setSource=function(e){var t=i.selectSourceHandler(e,this.options_);t||(i.nativeSourceHandler?t=i.nativeSourceHandler:Wt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),t!==i.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=t.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},i.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Sn.registerComponent("Tech",Kr),Kr.registerTech("Tech",Kr),Kr.defaultTechOrder_=[];var Yr={},Wr={buffered:1,currentTime:1,duration:1,seekable:1,played:1},Qr={setCurrentTime:1},Xr=function Xr(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){e=Xr(e),Array.isArray(e)?t=t.concat(e):s(e)&&t.push(e)}),e=t}else e="string"==typeof e&&e.trim()?[{src:e}]:s(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[e]:[];return e},$r=function(l){function c(e,t,n){Ft(this,c);var r=it({createEl:!1},t),i=Ut(this,l.call(this,e,r,n));if(t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(var o=0,a=t.playerOptions.techOrder;o<a.length;o++){var s=nt(a[o]),u=Kr.getTech(s);if(s||(u=Sn.getComponent(s)),u&&u.isSupported()){e.loadTech_(s);break}}return i}return Bt(c,l),c}(Sn);Sn.registerComponent("MediaLoader",$r);var Jr=function(s){function r(e,t){Ft(this,r);var n=Ut(this,s.call(this,e,t));return n.emitTapEvents(),n.enable(),n}return Bt(r,s),r.prototype.createEl=function u(e,t,n){var r=0<arguments.length&&e!==undefined?e:"div",i=1<arguments.length&&t!==undefined?t:{},o=2<arguments.length&&n!==undefined?n:{};i=Ke({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===r&&Wt.error("Creating a ClickableComponent with an HTML element of "+r+" is not supported; use a Button instead."),o=Ke({role:"button","aria-live":"polite"},o),this.tabIndex_=i.tabIndex;var a=s.prototype.createEl.call(this,r,i,o);return this.createControlTextEl(a),a},r.prototype.createControlTextEl=function t(e){return this.controlTextEl_=J("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},r.prototype.controlText=function i(e,t){var n=1<arguments.length&&t!==undefined?t:this.el();if(!e)return this.controlText_||"Need Text";var r=this.localize(e);this.controlText_=e,y(this.controlTextEl_,r),this.nonIconControl||n.setAttribute("title",r)},r.prototype.buildCSSClass=function e(){return"vjs-control vjs-button "+s.prototype.buildCSSClass.call(this)},r.prototype.enable=function n(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},r.prototype.disable=function o(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},r.prototype.handleClick=function a(){},r.prototype.handleFocus=function l(){Ze(ht,"keydown",dn(this,this.handleKeyPress))},r.prototype.handleKeyPress=function c(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):s.prototype.handleKeyPress&&s.prototype.handleKeyPress.call(this,e)},r.prototype.handleBlur=function f(){et(ht,"keydown",dn(this,this.handleKeyPress))},r}(Sn);Sn.registerComponent("ClickableComponent",Jr);var Zr=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.update(),e.on("posterchange",dn(n,n.update)),n}return Bt(i,r),i.prototype.dispose=function e(){this.player().off("posterchange",this.update),r.prototype.dispose.call(this)},i.prototype.createEl=function t(){var e=J("div",{className:"vjs-poster",tabIndex:-1});return Nt||(this.fallbackImg_=J("img"),e.appendChild(this.fallbackImg_)),e},i.prototype.update=function n(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},i.prototype.setSrc=function o(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},i.prototype.handleClick=function a(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},i}(Jr);Sn.registerComponent("PosterImage",Zr);var ei="#222",ti="#ccc",ni={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},ri=function(i){function o(n,e,t){Ft(this,o);var r=Ut(this,i.call(this,n,e,t));return n.on("loadstart",dn(r,r.toggleDisplay)),n.on("texttrackchange",dn(r,r.updateDisplay)),n.on("loadstart",dn(r,r.preselectTrack)),n.ready(dn(r,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",dn(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),r}return Bt(o,i),o.prototype.preselectTrack=function u(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,i=void 0,o=void 0,a=0;a<t.length;a++){var s=t[a];n&&n.enabled&&n.language===s.language?s.kind===n.kind?o=s:o||(o=s):n&&!n.enabled?i=r=o=null:s["default"]&&("descriptions"!==s.kind||r?s.kind in e&&!i&&(i=s):r=s)}o?o.mode="showing":i?i.mode="showing":r&&(r.mode="showing")},o.prototype.toggleDisplay=function e(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},o.prototype.createEl=function t(){return i.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},o.prototype.clearDisplay=function n(){"function"==typeof pt.WebVTT&&pt.WebVTT.processCues(pt,[],this.el_)},o.prototype.updateDisplay=function a(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},o.prototype.updateForTrack=function l(e){if("function"==typeof pt.WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);pt.WebVTT.processCues(pt,n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&Ae(a.firstChild,"color",xe(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Ae(a.firstChild,"backgroundColor",xe(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Ae(a,"backgroundColor",xe(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+ei+", 2px 2px 4px "+ei+", 2px 2px 5px "+ei:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+ei+", 2px 2px "+ei+", 3px 3px "+ei:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+ti+", 0 1px "+ti+", -1px -1px "+ei+", 0 -1px "+ei:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+ei+", 0 0 4px "+ei+", 0 0 4px "+ei+", 0 0 4px "+ei)),t.fontPercent&&1!==t.fontPercent){var s=pt.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=ni[t.fontFamily])}}}},o}(Sn);Sn.registerComponent("TextTrackDisplay",ri);var ii=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(Sn);Sn.registerComponent("LoadingSpinner",ii);var oi=function(t){function e(){return Ft(this,e),Ut(this,t.apply(this,arguments))}return Bt(e,t),e.prototype.createEl=function a(e,t,n){var r=1<arguments.length&&t!==undefined?t:{},i=2<arguments.length&&n!==undefined?n:{};e="button",r=Ke({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},r),i=Ke({type:"button","aria-live":"polite"},i);var o=Sn.prototype.createEl.call(this,e,r,i);return this.createControlTextEl(o),o},e.prototype.addChild=function i(e,t){var n=1<arguments.length&&t!==undefined?t:{},r=this.constructor.name;return Wt.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead."),Sn.prototype.addChild.call(this,e,n)},e.prototype.enable=function n(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function r(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function o(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(Jr);Sn.registerComponent("Button",oi);var ai=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-big-play-button"},i.prototype.handleClick=function a(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var i=function i(){return r.focus()};if(t&&t.then){var o=function o(){};t.then(i,o)}else this.setTimeout(i,1)}else this.player_.focus()}},i.prototype.handleKeyPress=function t(e){this.mouseused_=!1,r.prototype.handleKeyPress.call(this,e)},i.prototype.handleMouseDown=function n(){this.mouseused_=!0},i}(oi);ai.prototype.controlText_="Play Video",Sn.registerComponent("BigPlayButton",ai);var si=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.controlText(t&&t.controlText||n.localize("Close")),n}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function t(){this.trigger({type:"close",bubbles:!1})},i}(oi);Sn.registerComponent("CloseButton",si);var ui=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),n.on(e,"ended",n.handleEnded),n}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function t(){this.player_.paused()?this.player_.play():this.player_.pause()},i.prototype.handlePlay=function n(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.prototype.handlePause=function o(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.prototype.handleEnded=function a(){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay")},i}(oi);ui.prototype.controlText_="Play",Sn.registerComponent("PlayToggle",ui);var li=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.throttledUpdateContent=pn(dn(n,n.updateContent),25),n.on(e,"timeupdate",n.throttledUpdateContent),n}return Bt(i,r),i.prototype.createEl=function t(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=J("div",{className:"vjs-current-time-display"},{"aria-live":"off"},J("span",{className:"vjs-control-text",textContent:this.localize("Current Time")})),this.updateTextNode_(),e.appendChild(this.contentEl_),e},i.prototype.updateTextNode_=function e(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=ht.createTextNode(" "+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},i.prototype.updateContent=function n(){var e=Oe(this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.player_.duration());e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},i}(Sn);Sn.registerComponent("CurrentTimeDisplay",li);var ci=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.throttledUpdateContent=pn(dn(n,n.updateContent),25),n.on(e,["durationchange","loadedmetadata","timeupdate"],n.throttledUpdateContent),n}return Bt(i,r),i.prototype.createEl=function t(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=J("div",{className:"vjs-duration-display"},{"aria-live":"off"},J("span",{className:"vjs-control-text",textContent:this.localize("Duration Time")})),this.updateTextNode_(),e.appendChild(this.contentEl_),e},i.prototype.updateTextNode_=function e(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=ht.createTextNode(" "+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},i.prototype.updateContent=function n(){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.formattedTime_=Oe(e),this.requestAnimationFrame(this.updateTextNode_))},i}(Sn);Sn.registerComponent("DurationDisplay",ci);var fi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(Sn);Sn.registerComponent("TimeDivider",fi);var di=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.throttledUpdateContent=pn(dn(n,n.updateContent),25),n.on(e,["timeupdate","durationchange"],n.throttledUpdateContent),n}return Bt(i,r),i.prototype.createEl=function t(){
var e=r.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=J("div",{className:"vjs-remaining-time-display"},{"aria-live":"off"},J("span",{className:"vjs-control-text",textContent:this.localize("Remaining Time")})),this.updateTextNode_(),e.appendChild(this.contentEl_),e},i.prototype.updateTextNode_=function e(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=ht.createTextNode(" -"+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},i.prototype.updateContent=function n(){if(this.player_.duration()){var e=Oe(this.player_.remainingTime());e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))}},i}(Sn);Sn.registerComponent("RemainingTimeDisplay",di);var pi=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}return Bt(i,r),i.prototype.createEl=function t(){var e=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=J("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},i.prototype.updateShowing=function e(){this.player().duration()===Infinity?this.show():this.hide()},i}(Sn);Sn.registerComponent("LiveDisplay",pi);var hi=function(o){function r(e,t){Ft(this,r);var n=Ut(this,o.call(this,e,t));return n.bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on("focus",n.handleFocus),n.on("blur",n.handleBlur),n.on("click",n.handleClick),n.on(e,"controlsvisible",n.update),n.playerEvent&&n.on(e,n.playerEvent,n.update),n}return Bt(r,o),r.prototype.createEl=function a(e,t,n){var r=1<arguments.length&&t!==undefined?t:{},i=2<arguments.length&&n!==undefined?n:{};return r.className=r.className+" vjs-slider",r=Ke({tabIndex:0},r),i=Ke({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),o.prototype.createEl.call(this,e,r,i)},r.prototype.handleMouseDown=function n(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),p(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},r.prototype.handleMouseMove=function e(){},r.prototype.handleMouseUp=function t(){var e=this.bar.el_.ownerDocument;h(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},r.prototype.update=function i(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===Infinity)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style;return this.vertical()?r.height=n:r.width=n,e}}},r.prototype.calculateDistance=function s(e){var t=g(this.el_,e);return this.vertical()?t.y:t.x},r.prototype.handleFocus=function u(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},r.prototype.handleKeyPress=function l(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},r.prototype.handleBlur=function c(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},r.prototype.handleClick=function f(e){e.stopImmediatePropagation(),e.preventDefault()},r.prototype.vertical=function d(e){if(e===undefined)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},r}(Sn);Sn.registerComponent("Slider",hi);var gi=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.partEls_=[],n.on(e,"progress",n.update),n}return Bt(i,r),i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},i.prototype.update=function c(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,i=function i(e,t){var n=e/t||0;return 100*(1<=n?1:n)+"%"};this.el_.style.width=i(n,t);for(var o=0;o<e.length;o++){var a=e.start(o),s=e.end(o),u=r[o];u||(u=this.el_.appendChild(J()),r[o]=u),u.style.left=i(a,n),u.style.width=i(s-a,n)}for(var l=r.length;l>e.length;l--)this.el_.removeChild(r[l-1]);r.length=e.length},i}(Sn);Sn.registerComponent("LoadProgressBar",gi);var vi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function l(e,t,n){var r=d(this.el_),i=d(this.player_.el()),o=e.width*t;if(i&&r){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),u=r.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right="-"+u+"px",y(this.el_,n)}},t}(Sn);Sn.registerComponent("TimeTooltip",vi);var mi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function o(n,r){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=Oe(i.player_.scrubbing()?i.player_.getCache().currentTime:i.player_.currentTime(),i.player_.duration()),t=i.getChild("timeTooltip");t&&t.update(n,r,e)})},t}(Sn);mi.prototype.options_={children:[]},kt&&!(8<kt)||bt||wt||mi.prototype.options_.children.push("timeTooltip"),Sn.registerComponent("PlayProgressBar",mi);var yi=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.update=pn(dn(n,n.update),25),n}return Bt(i,r),i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.prototype.update=function t(n,r){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var e=i.player_.duration(),t=Oe(r*e,e);i.el_.style.left=n.width*r+"px",i.getChild("timeTooltip").update(n,r,t)})},i}(Sn);yi.prototype.options_={children:["timeTooltip"]},Sn.registerComponent("MouseTimeDisplay",yi);var _i=5,bi=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.update=pn(dn(n,n.update),50),n.on(e,["timeupdate","ended"],n.update),n}return Bt(i,r),i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.prototype.update=function o(){var e=r.prototype.update.call(this),t=this.player_.duration(),n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();return this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Oe(n,t),Oe(t,t)],"{1} of {2}")),this.bar.update(d(this.el_),e),e},i.prototype.getPercent=function t(){var e=(this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime())/this.player_.duration();return 1<=e?1:e},i.prototype.handleMouseDown=function n(e){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,e)},i.prototype.handleMouseMove=function a(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},i.prototype.handleMouseUp=function s(e){r.prototype.handleMouseUp.call(this,e),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},i.prototype.stepForward=function u(){this.player_.currentTime(this.player_.currentTime()+_i)},i.prototype.stepBack=function l(){this.player_.currentTime(this.player_.currentTime()-_i)},i.prototype.handleAction=function c(){this.player_.paused()?this.player_.play():this.player_.pause()},i.prototype.handleKeyPress=function f(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):r.prototype.handleKeyPress&&r.prototype.handleKeyPress.call(this,e)},i}(hi);bi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},kt&&!(8<kt)||bt||wt||bi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),bi.prototype.playerEvent="timeupdate",Sn.registerComponent("SeekBar",bi);var Ti=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.handleMouseMove=pn(dn(n,n.handleMouseMove),25),n.on(n.el_,"mousemove",n.handleMouseMove),n.throttledHandleMouseSeek=pn(dn(n,n.handleMouseSeek),25),n.on(["mousedown","touchstart"],n.handleMouseDown),n}return Bt(i,r),i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.prototype.handleMouseMove=function a(e){var t=this.getChild("seekBar"),n=t.getChild("mouseTimeDisplay"),r=t.el(),i=d(r),o=g(r,e).x;1<o?o=1:o<0&&(o=0),n&&n.update(i,o)},i.prototype.handleMouseSeek=function t(e){this.getChild("seekBar").handleMouseMove(e)},i.prototype.handleMouseDown=function n(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.prototype.handleMouseUp=function o(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},i}(Sn);Ti.prototype.options_={children:["seekBar"]},Sn.registerComponent("ProgressControl",Ti);var wi=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.on(e,"fullscreenchange",n.handleFullscreenChange),n}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)},i.prototype.handleFullscreenChange=function t(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.prototype.handleClick=function n(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},i}(oi);wi.prototype.controlText_="Fullscreen",Sn.registerComponent("FullscreenToggle",wi);var Ei=function Ei(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},Si=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Sn);Sn.registerComponent("VolumeLevel",Si);var Pi=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready(function(){return n.updateARIAAttributes()}),n}return Bt(i,r),i.prototype.createEl=function e(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.prototype.handleMouseMove=function t(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},i.prototype.checkMuted=function n(){this.player_.muted()&&this.player_.muted(!1)},i.prototype.getPercent=function o(){return this.player_.muted()?0:this.player_.volume()},i.prototype.stepForward=function a(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.prototype.stepBack=function s(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.prototype.updateARIAAttributes=function u(){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},i.prototype.volumeAsPercentage_=function l(){return Math.round(100*this.player_.volume())},i.prototype.updateLastVolume_=function c(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},i}(hi);Pi.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Pi.prototype.playerEvent="volumechange",Sn.registerComponent("VolumeBar",Pi);var Ci=function(i){function o(e,t){var n=1<arguments.length&&t!==undefined?t:{};Ft(this,o),n.vertical=n.vertical||!1,("undefined"==typeof n.volumeBar||j(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical);var r=Ut(this,i.call(this,e,n));return Ei(r,e),r.throttledHandleMouseMove=pn(dn(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}return Bt(o,i),o.prototype.createEl=function t(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},o.prototype.handleMouseDown=function n(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},o.prototype.handleMouseUp=function r(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},o.prototype.handleMouseMove=function a(e){this.volumeBar.handleMouseMove(e)},o}(Sn);Ci.prototype.options_={children:["volumeBar"]},Sn.registerComponent("VolumeControl",Ci);var Ii=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return Ei(n,e),n.on(e,["loadstart","volumechange"],n.update),n}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},i.prototype.handleClick=function o(){var e=this.player_.volume(),t=this.player_.lastVolume_();if(0===e){var n=t<.1?.1:t;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.prototype.update=function t(){this.updateIcon_(),this.updateControlText_()},i.prototype.updateIcon_=function a(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)Xe(this.el_,"vjs-vol-"+n);Qe(this.el_,"vjs-vol-"+t)},i.prototype.updateControlText_=function n(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},i}(oi);Ii.prototype.controlText_="Mute",Sn.registerComponent("MuteToggle",Ii);var xi=function(i){function o(e,t){var n=1<arguments.length&&t!==undefined?t:{};Ft(this,o),"undefined"!=typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"==typeof n.volumeControl||j(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline);var r=Ut(this,i.call(this,e,n));return Ei(r,e),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.muteToggle,"focus",r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r.on(r.muteToggle,"blur",r.sliderInactive_),r}return Bt(o,i),o.prototype.sliderActive_=function e(){this.addClass("vjs-slider-active")},o.prototype.sliderInactive_=function t(){this.removeClass("vjs-slider-active")},o.prototype.createEl=function n(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),i.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},o}(Sn);xi.prototype.options_={children:["muteToggle","volumeControl"]},Sn.registerComponent("VolumePanel",xi);var Ai=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return t&&(n.menuButton_=t.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}return Bt(i,r),i.prototype.addItem=function t(e){this.addChild(e),e.on("click",dn(this,function(){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},i.prototype.createEl=function n(){var e=this.options_.contentElType||"ul";this.contentEl_=J(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var t=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Ze(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t},i.prototype.handleKeyPress=function o(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},i.prototype.stepForward=function a(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_+1),this.focus(e)},i.prototype.stepBack=function s(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_-1),this.focus(e)},i.prototype.focus=function u(e){var t=0<arguments.length&&e!==undefined?e:0,n=this.children().slice();n.length&&n[0].className&&/vjs-menu-title/.test(n[0].className)&&n.shift(),0<n.length&&(t<0?t=0:t>=n.length&&(t=n.length-1),n[this.focusedChild_=t].el_.focus())},i}(Sn);Sn.registerComponent("Menu",Ai);var Oi=function(o){function a(e,t){var n=1<arguments.length&&t!==undefined?t:{};Ft(this,a);var r=Ut(this,o.call(this,e,n));r.menuButton_=new oi(e,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var i=oi.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+i,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"focus",r.handleFocus),r.on(r.menuButton_,"blur",r.handleBlur),r.on("keydown",r.handleSubmenuKeyPress),r}return Bt(a,o),a.prototype.update=function t(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},a.prototype.createMenu=function r(){var e=new Ai(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=J("li",{className:"vjs-menu-title",innerHTML:nt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),Ye(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},a.prototype.createItems=function e(){},a.prototype.createEl=function n(){return o.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},a.prototype.buildWrapperCSSClass=function i(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+oi.prototype.buildCSSClass()+" "+o.prototype.buildCSSClass.call(this)},a.prototype.buildCSSClass=function s(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+o.prototype.buildCSSClass.call(this)},a.prototype.controlText=function u(e,t){var n=1<arguments.length&&t!==undefined?t:this.menuButton_.el();return this.menuButton_.controlText(e,n)},a.prototype.handleClick=function l(){this.one(this.menu.contentEl(),"mouseleave",dn(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},a.prototype.focus=function c(){this.menuButton_.focus()},a.prototype.blur=function f(){this.menuButton_.blur()},a.prototype.handleFocus=function d(){Ze(ht,"keydown",dn(this,this.handleKeyPress))},a.prototype.handleBlur=function p(){et(ht,"keydown",dn(this,this.handleKeyPress))},a.prototype.handleKeyPress=function h(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},a.prototype.handleSubmenuKeyPress=function g(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},a.prototype.pressButton=function v(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),this.menu.focus())},a.prototype.unpressButton=function m(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},a.prototype.disable=function y(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},a.prototype.enable=function _(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},a}(Sn);Sn.registerComponent("MenuButton",Oi);var ki=function(o){function a(e,t){Ft(this,a);var n=t.tracks,r=Ut(this,o.call(this,e,t));if(r.items.length<=1&&r.hide(),!n)return Ut(r);var i=dn(r,r.update);return n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),r.player_.on("ready",i),r.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)}),r}return Bt(a,o),a}(Oi);Sn.registerComponent("TrackButton",ki);var Mi=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.selectable=t.selectable,n.selected(t.selected),n.selectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitem"),n}return Bt(i,r),i.prototype.createEl=function o(e,t,n){return this.nonIconControl=!0,r.prototype.createEl.call(this,"li",Ke({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},t),n)},i.prototype.handleClick=function e(){this.selected(!0)},i.prototype.selected=function t(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},i}(Jr);Sn.registerComponent("MenuItem",Mi);var Ri=function(u){function l(e,t){Ft(this,l);var n=t.track,r=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode;var i=Ut(this,u.call(this,e,t));i.track=n;var o=dn(i,i.handleTracksChange),a=dn(i,i.handleSelectedLanguageChange);if(e.on(["loadstart","texttrackchange"],o),r.addEventListener("change",o),r.addEventListener("selectedlanguagechange",a),i.on("dispose",function(){r.removeEventListener("change",o),r.removeEventListener("selectedlanguagechange",a)}),r.onchange===undefined){var s=void 0;i.on(["tap","click"],function(){if("object"!==jt(pt.Event))try{s=new pt.Event("change")}catch(e){}s||(s=ht.createEvent("Event")).initEvent("change",!0,!0),r.dispatchEvent(s)})}return i}return Bt(l,u),l.prototype.handleClick=function a(e){var t=this.track.kind,n=this.track.kinds,r=this.player_.textTracks();if(n||(n=[t]),u.prototype.handleClick.call(this,e),r)for(var i=0;i<r.length;i++){var o=r[i];o===this.track&&-1<n.indexOf(o.kind)?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},l.prototype.handleTracksChange=function e(){this.selected("showing"===this.track.mode)},l.prototype.handleSelectedLanguageChange=function t(){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},l}(Mi);Sn.registerComponent("TextTrackMenuItem",Ri);var Di=function(r){function i(e,t){Ft(this,i),t.track={player:e,kind:t.kind,kinds:t.kinds,"default":!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0;var n=Ut(this,r.call(this,e,t));return n.selected(!0),n}return Bt(i,r),i.prototype.handleTracksChange=function o(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;n<r;n++){var i=e[n];if(-1<this.options_.kinds.indexOf(i.kind)&&"showing"===i.mode){t=!1;break}}this.selected(t)},i.prototype.handleSelectedLanguageChange=function a(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;n<r;n++){var i=e[n];if(-1<["captions","descriptions","subtitles"].indexOf(i.kind)&&"showing"===i.mode){t=!1;break}}t&&(this.player_.cache_.selectedLanguage={enabled:!1})},i}(Ri);Sn.registerComponent("OffTextTrackMenuItem",Di);var Ni=function(r){function i(e,t){var n=1<arguments.length&&t!==undefined?t:{};return Ft(this,i),n.tracks=e.textTracks(),Ut(this,r.call(this,e,n))}return Bt(i,r),i.prototype.createItems=function l(e,t){var n=0<arguments.length&&e!==undefined?e:[],r=1<arguments.length&&t!==undefined?t:Ri,i=void 0;this.label_&&(i=this.label_+" off"),n.push(new Di(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var a=0;a<o.length;a++){var s=o[a];if(-1<this.kinds_.indexOf(s.kind)){var u=new r(this.player_,{track:s,selectable:!0});u.addClass("vjs-"+s.kind+"-menu-item"),n.push(u)}}return n},i}(ki);Sn.registerComponent("TextTrackButton",Ni);var Li=function(a){function s(e,t){Ft(this,s);var n=t.track,r=t.cue,i=e.currentTime();t.selectable=!0,t.label=r.text,t.selected=r.startTime<=i&&i<r.endTime;var o=Ut(this,a.call(this,e,t));return o.track=n,o.cue=r,n.addEventListener("cuechange",dn(o,o.update)),o}return Bt(s,a),s.prototype.handleClick=function e(){a.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},s.prototype.update=function n(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},s}(Mi);Sn.registerComponent("ChaptersTrackMenuItem",Li);var ji=function(r){function i(e,t,n){return Ft(this,i),Ut(this,r.call(this,e,t,n))}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function t(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},i.prototype.update=function n(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),r.prototype.update.call(this)},i.prototype.setTrack=function o(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},i.prototype.findChaptersTrack=function a(){for(var e=this.player_.textTracks()||[],t=e.length-1;0<=t;t--){var n=e[t];if(n.kind===this.kind_)return n}},i.prototype.getMenuCaption=function s(){return this.track_&&this.track_.label?this.track_.label:this.localize(nt(this.kind_))},i.prototype.createMenu=function u(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},i.prototype.createItems=function l(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new Li(this.player_,{track:this.track_,cue:i});e.push(o)}return e},i}(Ni);ji.prototype.kind_="chapters",ji.prototype.controlText_="Chapters",Sn.registerComponent("ChaptersButton",ji);var Fi=function(a){function s(e,t,n){Ft(this,s);var r=Ut(this,a.call(this,e,t,n)),i=e.textTracks(),o=dn(r,r.handleTracksChange);return i.addEventListener("change",o),r.on("dispose",function(){i.removeEventListener("change",o)}),r}return Bt(s,a),s.prototype.handleTracksChange=function o(){for(var e=this.player().textTracks(),t=!1,n=0,r=e.length;n<r;n++){var i=e[n];if(i.kind!==this.kind_&&"showing"===i.mode){t=!0;break}}t?this.disable():this.enable()},s.prototype.buildCSSClass=function e(){return"vjs-descriptions-button "+a.prototype.buildCSSClass.call(this)},s.prototype.buildWrapperCSSClass=function t(){return"vjs-descriptions-button "+a.prototype.buildWrapperCSSClass.call(this)},s}(Ni);Fi.prototype.kind_="descriptions",Fi.prototype.controlText_="Descriptions",Sn.registerComponent("DescriptionsButton",Fi);var Bi=function(r){function i(e,t,n){return Ft(this,i),Ut(this,r.call(this,e,t,n))}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function t(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)},i}(Ni);Bi.prototype.kind_="subtitles",Bi.prototype.controlText_="Subtitles",Sn.registerComponent("SubtitlesButton",Bi);var Ui=function(r){function i(e,t){Ft(this,i),t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem";var n=Ut(this,r.call(this,e,t));return n.addClass("vjs-texttrack-settings"),n.controlText(", opens "+t.kind+" settings dialog"),n}return Bt(i,r),i.prototype.handleClick=function e(){this.player().getChild("textTrackSettings").open()},i}(Ri);Sn.registerComponent("CaptionSettingsMenuItem",Ui);var Hi=function(r){function i(e,t,n){return Ft(this,i),Ut(this,r.call(this,e,t,n))}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function t(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)},i.prototype.createItems=function n(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(e.push(new Ui(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,e)},i}(Ni);Hi.prototype.kind_="captions",Hi.prototype.controlText_="Captions",Sn.registerComponent("CaptionsButton",Hi);var Vi=function(i){function e(){return Ft(this,e),Ut(this,i.apply(this,arguments))}return Bt(e,i),e.prototype.createEl=function o(e,t,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",i.prototype.createEl.call(this,e,Ke({innerHTML:r},t),n)},e}(Ri);Sn.registerComponent("SubsCapsMenuItem",Vi);var zi=function(i){function o(e,t){var n=1<arguments.length&&t!==undefined?t:{};Ft(this,o);var r=Ut(this,i.call(this,e,n));return r.label_="subtitles",-1<["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)&&(r.label_="captions"),r.menuButton_.controlText(nt(r.label_)),r}return Bt(o,i),o.prototype.buildCSSClass=function e(){return"vjs-subs-caps-button "+i.prototype.buildCSSClass.call(this)},o.prototype.buildWrapperCSSClass=function t(){return"vjs-subs-caps-button "+i.prototype.buildWrapperCSSClass.call(this)},o.prototype.createItems=function n(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(e.push(new Ui(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=i.prototype.createItems.call(this,e,Vi)},o}(Ni);zi.prototype.kinds_=["captions","subtitles"],zi.prototype.controlText_="Subtitles",Sn.registerComponent("SubsCapsButton",zi);var qi=function(a){function s(e,t){Ft(this,s);var n=t.track,r=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled;var i=Ut(this,a.call(this,e,t));i.track=n;var o=dn(i,i.handleTracksChange);return r.addEventListener("change",o),i.on("dispose",function(){r.removeEventListener("change",o)}),i}return Bt(s,a),s.prototype.handleClick=function i(e){var t=this.player_.audioTracks();a.prototype.handleClick.call(this,e);for(var n=0;n<t.length;n++){var r=t[n];r.enabled=r===this.track}},s.prototype.handleTracksChange=function e(){this.selected(this.track.enabled)},s}(Mi);Sn.registerComponent("AudioTrackMenuItem",qi);var Gi=function(r){function i(e,t){
var n=1<arguments.length&&t!==undefined?t:{};return Ft(this,i),n.tracks=e.audioTracks(),Ut(this,r.call(this,e,n))}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-audio-button "+r.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function t(){return"vjs-audio-button "+r.prototype.buildWrapperCSSClass.call(this)},i.prototype.createItems=function o(e){var t=0<arguments.length&&e!==undefined?e:[];this.hideThreshold_=1;for(var n=this.player_.audioTracks(),r=0;r<n.length;r++){var i=n[r];t.push(new qi(this.player_,{track:i,selectable:!0}))}return t},i}(ki);Gi.prototype.controlText_="Audio Track",Sn.registerComponent("AudioTrackButton",Gi);var Ki=function(o){function a(e,t){Ft(this,a);var n=t.rate,r=parseFloat(n,10);t.label=n,t.selected=1===r,t.selectable=!0;var i=Ut(this,o.call(this,e,t));return i.label=n,i.rate=r,i.on(e,"ratechange",i.update),i}return Bt(a,o),a.prototype.handleClick=function e(){o.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},a.prototype.update=function t(){this.selected(this.player().playbackRate()===this.rate)},a}(Mi);Ki.prototype.contentElType="button",Sn.registerComponent("PlaybackRateMenuItem",Ki);var Yi=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}return Bt(i,r),i.prototype.createEl=function t(){var e=r.prototype.createEl.call(this);return this.labelEl_=J("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},i.prototype.buildCSSClass=function e(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)},i.prototype.buildWrapperCSSClass=function n(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)},i.prototype.createMenu=function o(){var e=new Ai(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;0<=n;n--)e.addChild(new Ki(this.player(),{rate:t[n]+"x"}));return e},i.prototype.updateARIAAttributes=function a(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.prototype.handleClick=function s(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],r=0;r<t.length;r++)if(t[r]>e){n=t[r];break}this.player().playbackRate(n)},i.prototype.playbackRates=function u(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},i.prototype.playbackRateSupported=function l(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&0<this.playbackRates().length},i.prototype.updateVisibility=function c(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.prototype.updateLabel=function f(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},i}(Oi);Yi.prototype.controlText_="Playback Rate",Sn.registerComponent("PlaybackRateMenuButton",Yi);var Wi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.buildCSSClass=function n(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function r(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Sn);Sn.registerComponent("Spacer",Wi);var Qi=function(t){function e(){return Ft(this,e),Ut(this,t.apply(this,arguments))}return Bt(e,t),e.prototype.buildCSSClass=function n(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function r(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},e}(Wi);Sn.registerComponent("CustomControlSpacer",Qi);var Xi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function n(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(Sn);Xi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Sn.registerComponent("ControlBar",Xi);var $i=function(r){function i(e,t){Ft(this,i);var n=Ut(this,r.call(this,e,t));return n.on(e,"error",n.open),n}return Bt(i,r),i.prototype.buildCSSClass=function e(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)},i.prototype.content=function t(){var e=this.player().error();return e?this.localize(e.message):""},i}(Bn);$i.prototype.options_=it(Bn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Sn.registerComponent("ErrorDisplay",$i);var Ji="vjs-text-track-settings",Zi=["#000","Black"],eo=["#00F","Blue"],to=["#0FF","Cyan"],no=["#0F0","Green"],ro=["#F0F","Magenta"],io=["#F00","Red"],oo=["#FFF","White"],ao=["#FF0","Yellow"],so=["1","Opaque"],uo=["0.5","Semi-Transparent"],lo=["0","Transparent"],co={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Zi,oo,io,no,eo,ao,ro,to]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[so,uo,lo]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[oo,Zi,io,no,eo,ao,ro,to]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function Vo(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[so,uo]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[lo,uo,so]}};co.windowColor.options=co.backgroundColor.options;var fo=function(r){function i(e,t){Ft(this,i),t.temporary=!1;var n=Ut(this,r.call(this,e,t));return n.updateDisplay=dn(n,n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=J("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),t.persistTextTrackSettings===undefined&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),b(co,function(e){n.on(n.$(e.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}return Bt(i,r),i.prototype.createElSelect_=function u(e,t,n){var r=this,i=1<arguments.length&&t!==undefined?t:"",o=2<arguments.length&&n!==undefined?n:"label",a=co[e],s=a.id.replace("%s",this.id_);return["<"+o+' id="'+s+'" class="'+("label"===o?"vjs-label":"")+'">',this.localize(a.label),"</"+o+">",'<select aria-labelledby="'+i+" "+s+'">'].concat(a.options.map(function(e){var t=s+"-"+e[1];return['<option id="'+t+'" value="'+e[0]+'" ','aria-labelledby="'+i+" "+s+" "+t+'">',r.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},i.prototype.createElFgColor_=function t(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},i.prototype.createElBgColor_=function n(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},i.prototype.createElWinColor_=function o(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},i.prototype.createElColors_=function e(){return J("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.prototype.createElFont_=function a(){return J("div",{className:'vjs-track-settings-font">',innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.prototype.createElControls_=function s(){var e=this.localize("restore all settings to the default values");return J("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.prototype.content=function l(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.prototype.label=function c(){return this.localize("Caption Settings Dialog")},i.prototype.description=function f(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.prototype.buildCSSClass=function d(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.prototype.getValues=function p(){var i=this;return T(co,function(e,t,n){var r=Me(i.$(t.selector),t.parser);return r!==undefined&&(e[n]=r),e},{})},i.prototype.setValues=function h(n){var r=this;b(co,function(e,t){Re(r.$(e.selector),n[t],e.parser)})},i.prototype.setDefaults=function g(){var n=this;b(co,function(e){var t=e.hasOwnProperty("default")?e["default"]:0;n.$(e.selector).selectedIndex=t})},i.prototype.restoreSettings=function v(){var e=void 0;try{e=JSON.parse(pt.localStorage.getItem(Ji))}catch(t){Wt.warn(t)}e&&this.setValues(e)},i.prototype.saveSettings=function m(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?pt.localStorage.setItem(Ji,JSON.stringify(e)):pt.localStorage.removeItem(Ji)}catch(t){Wt.warn(t)}}},i.prototype.updateDisplay=function y(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},i.prototype.conditionalBlur_=function _(){this.previouslyActiveEl_=null,this.off(ht,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},i}(Bn);Sn.registerComponent("TextTrackSettings",fo);var po=Ht(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),ho=function(c){function f(e,t){Ft(this,f);var n=Ut(this,c.call(this,e,t)),r=e.source,i=!1;if(r&&(n.el_.currentSrc!==r.src||e.tag&&3===e.tag.initNetworkState_)?n.setSource(r):n.handleLateInit_(n.el_),n.el_.hasChildNodes()){for(var o=n.el_.childNodes,a=o.length,s=[];a--;){var u=o[a];"track"===u.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(u),n.remoteTextTracks().addTrack(u.track),n.textTracks().addTrack(u.track),i||n.el_.hasAttribute("crossorigin")||!rr(u.src)||(i=!0)):s.push(u))}for(var l=0;l<s.length;l++)n.el_.removeChild(s[l])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&i&&Wt.warn(Qt(po)),n.restoreMetadataTracksInIOSNativePlayer_(),(Dt||yt||Pt)&&!0===e.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}return Bt(f,c),f.prototype.dispose=function e(){f.disposeMediaElement(this.el_),c.prototype.dispose.call(this)},f.prototype.restoreMetadataTracksInIOSNativePlayer_=function t(){var n=this.textTracks(),r=void 0,i=function i(){r=[];for(var e=0;e<n.length;e++){var t=n[e];"metadata"===t.kind&&r.push({track:t,storedMode:t.mode})}};i(),n.addEventListener("change",i);var o=function o(){for(var e=0;e<r.length;e++){var t=r[e];"disabled"===t.track.mode&&t.track.mode!==t.storedMode&&(t.track.mode=t.storedMode)}n.removeEventListener("change",o)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",i),n.removeEventListener("change",o),n.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",i),n.addEventListener("change",i),n.removeEventListener("change",o)})},f.prototype.proxyNativeTracks_=function n(){var l=this;Cr.names.forEach(function(e){var t=Cr[e],i=l.el()[t.getterName],o=l[t.getterName]();if(l["featuresNative"+t.capitalName+"Tracks"]&&i&&i.addEventListener){var n={change:function r(){o.trigger({type:"change",target:o,currentTarget:o,srcElement:o})},addtrack:function s(e){o.addTrack(e.track)},removetrack:function u(e){o.removeTrack(e.track)}},a=function a(){for(var e=[],t=0;t<o.length;t++){for(var n=!1,r=0;r<i.length;r++)if(i[r]===o[t]){n=!0;break}n||e.push(o[t])}for(;e.length;)o.removeTrack(e.shift())};Object.keys(n).forEach(function(e){var t=n[e];i.addEventListener(e,t),l.on("dispose",function(){return i.removeEventListener(e,t)})}),l.on("loadstart",a),l.on("dispose",function(){return l.off("loadstart",a)})}})},f.prototype.createEl=function s(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),f.disposeMediaElement(e),e=t}else{e=ht.createElement("video");var n=it({},this.options_.tag&&$e(this.options_.tag));Dt&&!0===this.options_.nativeControlsForTouch||delete n.controls,S(e,Ke(n,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&te(e,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],i=r.length-1;0<=i;i--){var o=r[i],a=this.options_[o];void 0!==a&&(a?te(e,o,o):ne(e,o),e[o]=a)}return e},f.prototype.handleLateInit_=function o(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function n(){t=!0};this.on("loadstart",n);var r=function r(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),2<=e.readyState&&i.push("loadeddata"),3<=e.readyState&&i.push("canplay"),4<=e.readyState&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},f.prototype.setCurrentTime=function r(e){try{this.el_.currentTime=e}catch(t){Wt(t,"Video is not ready. (Video.js)")}},f.prototype.duration=function i(){var e=this;if(this.el_.duration===Infinity&&wt&&xt&&0===this.el_.currentTime){var t=function t(){0<e.el_.currentTime&&(e.el_.duration===Infinity&&e.trigger("durationchange"),e.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},f.prototype.width=function a(){return this.el_.offsetWidth},f.prototype.height=function u(){return this.el_.offsetHeight},f.prototype.proxyWebkitFullscreen_=function l(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function t(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function n(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},f.prototype.supportsFullScreen=function d(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=pt.navigator&&pt.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},f.prototype.enterFullScreen=function p(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},f.prototype.exitFullScreen=function h(){this.el_.webkitExitFullScreen()},f.prototype.src=function g(e){if(e===undefined)return this.el_.src;this.setSrc(e)},f.prototype.reset=function v(){f.resetMediaElement(this.el_)},f.prototype.currentSrc=function m(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},f.prototype.setControls=function y(e){this.el_.controls=!!e},f.prototype.addTextTrack=function _(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):c.prototype.addTextTrack.call(this,e,t,n)},f.prototype.createRemoteTextTrack=function b(e){if(!this.featuresNativeTextTracks)return c.prototype.createRemoteTextTrack.call(this,e);var t=ht.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e["default"]&&(t["default"]=e["default"]),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t},f.prototype.addRemoteTextTrack=function T(e,t){var n=c.prototype.addRemoteTextTrack.call(this,e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},f.prototype.removeRemoteTextTrack=function w(e){if(c.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var t=this.$$("track"),n=t.length;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])},f.prototype.getVideoPlaybackQuality=function E(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),pt.performance&&"function"==typeof pt.performance.now?e.creationTime=pt.performance.now():pt.performance&&pt.performance.timing&&"number"==typeof pt.performance.timing.navigationStart&&(e.creationTime=pt.Date.now()-pt.performance.timing.navigationStart),e},f}(Kr);if(c()){ho.TEST_VID=ht.createElement("video");var go=ht.createElement("track");go.kind="captions",go.srclang="en",go.label="English",ho.TEST_VID.appendChild(go)}ho.isSupported=function(){try{ho.TEST_VID.volume=.5}catch(e){return!1}return!(!ho.TEST_VID||!ho.TEST_VID.canPlayType)},ho.canPlayType=function(e){return ho.TEST_VID.canPlayType(e)},ho.canPlaySource=function(e){return ho.canPlayType(e.type)},ho.canControlVolume=function(){try{var e=ho.TEST_VID.volume;return ho.TEST_VID.volume=e/2+.1,e!==ho.TEST_VID.volume}catch(t){return!1}},ho.canControlPlaybackRate=function(){if(wt&&xt&&At<58)return!1;try{var e=ho.TEST_VID.playbackRate;return ho.TEST_VID.playbackRate=e/2+.1,e!==ho.TEST_VID.playbackRate}catch(t){return!1}},ho.supportsNativeTextTracks=function(){return Rt},ho.supportsNativeVideoTracks=function(){return!(!ho.TEST_VID||!ho.TEST_VID.videoTracks)},ho.supportsNativeAudioTracks=function(){return!(!ho.TEST_VID||!ho.TEST_VID.audioTracks)},ho.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],ho.prototype.featuresVolumeControl=ho.canControlVolume(),ho.prototype.featuresPlaybackRate=ho.canControlPlaybackRate(),ho.prototype.movingMediaElementInDOM=!bt,ho.prototype.featuresFullscreenResize=!0,ho.prototype.featuresProgressEvents=!0,ho.prototype.featuresTimeupdateEvents=!0,ho.prototype.featuresNativeTextTracks=ho.supportsNativeTextTracks(),ho.prototype.featuresNativeVideoTracks=ho.supportsNativeVideoTracks(),ho.prototype.featuresNativeAudioTracks=ho.supportsNativeAudioTracks();var vo=ho.TEST_VID&&ho.TEST_VID.constructor.prototype.canPlayType,mo=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,yo=/^video\/mp4/i;ho.patchCanPlayType=function(){4<=Et&&!Ct?ho.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&mo.test(e)?"maybe":vo.call(this,e)}:St&&(ho.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&yo.test(e)?"maybe":vo.call(this,e)})},ho.unpatchCanPlayType=function(){var e=ho.TEST_VID.constructor.prototype.canPlayType;return ho.TEST_VID.constructor.prototype.canPlayType=vo,e},ho.patchCanPlayType(),ho.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(e){}}()}},ho.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),n=e.length;n--;)t.removeChild(e[n]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){ho.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){ho.prototype["set"+nt(t)]=function(e){(this.el_[t]=e)?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){ho.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){ho.prototype["set"+nt(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(e){ho.prototype[e]=function(){return this.el_[e]()}}),Kr.withSourceHandlers(ho),ho.nativeSourceHandler={},ho.nativeSourceHandler.canPlayType=function(e){try{return ho.TEST_VID.canPlayType(e)}catch(t){return""}},ho.nativeSourceHandler.canHandleSource=function(e){if(e.type)return ho.nativeSourceHandler.canPlayType(e.type);if(e.src){var t=nr(e.src);return ho.nativeSourceHandler.canPlayType("video/"+t)}return""},ho.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},ho.nativeSourceHandler.dispose=function(){},ho.registerSourceHandler(ho.nativeSourceHandler),Kr.registerTech("Html5",ho);var _o=Ht(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),bo=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],To=function(c){function f(e,t,n){if(Ft(this,f),e.id=e.id||"vjs_video_"+Je(),(t=Ke(f.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof e.closest){var r=e.closest("[lang]");r&&(t.language=r.getAttribute("lang"))}else for(var i=e;i&&1===i.nodeType;){if($e(i).hasOwnProperty("lang")){t.language=i.getAttribute("lang");break}i=i.parentNode}var o=Ut(this,c.call(this,null,t,n));if(o.isReady_=!1,!o.options_||!o.options_.techOrder||!o.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(o.tag=e,o.tagAttributes=e&&$e(e),o.language(o.options_.language),t.languages){var a={};Object.getOwnPropertyNames(t.languages).forEach(function(e){a[e.toLowerCase()]=t.languages[e]}),o.languages_=a}else o.languages_=f.prototype.options_.languages;o.cache_={},o.poster_=t.poster||"",o.controls_=!!t.controls,o.cache_.lastVolume=1,e.controls=!1,o.scrubbing_=!1,o.el_=o.createEl(),tt(o,{eventBusKey:"el_"});var s=it(o.options_);if(t.plugins){var u=t.plugins;Object.keys(u).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](u[e])},o)}o.options_.playerOptions=s,o.middleware_=[],o.initChildren(),o.isAudio("audio"===e.nodeName.toLowerCase()),o.controls()?o.addClass("vjs-controls-enabled"):o.addClass("vjs-controls-disabled"),o.el_.setAttribute("role","region"),o.isAudio()?o.el_.setAttribute("aria-label",o.localize("Audio Player")):o.el_.setAttribute("aria-label",o.localize("Video Player")),o.isAudio()&&o.addClass("vjs-audio"),o.flexNotSupported_()&&o.addClass("vjs-no-flex"),bt||o.addClass("vjs-workinghover"),f.players[o.id_]=o;var l=dt.split(".")[0];return o.addClass("vjs-v"+l),o.userActive(!0),o.reportUserActivity(),o.listenForUserActivity_(),o.on("fullscreenchange",o.handleFullscreenChange_),o.on("stageclick",o.handleStageClick_),o.changingSrc_=!1,o}return Bt(f,c),f.prototype.dispose=function e(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),f.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),c.prototype.dispose.call(this)},f.prototype.createEl=function l(){var e=this.tag,t=void 0,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");t=this.el_=n?e.parentNode:c.prototype.createEl.call(this,"div"),e.setAttribute("tabindex","-1"),e.removeAttribute("width"),e.removeAttribute("height");var r=$e(e);if(Object.getOwnPropertyNames(r).forEach(function(e){"class"===e?t.className+=" "+r[e]:t.setAttribute(e,r[e])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused"),!0!==pt.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=cn("vjs-styles-dimensions");var i=$t(".vjs-styles-defaults"),o=$t("head");o.insertBefore(this.styleEl_,i?i.nextSibling:o.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var a=e.getElementsByTagName("a"),s=0;s<a.length;s++){var u=a.item(s);Qe(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(t,e),Ye(e,t),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=t},f.prototype.width=function t(e){return this.dimension("width",e)},f.prototype.height=function n(e){return this.dimension("height",e)},f.prototype.dimension=function i(e,t){var n=e+"_";if(t===undefined)return this[n]||0;if(""===t)this[n]=undefined;else{var r=parseFloat(t);if(isNaN(r))return void Wt.error('Improper value "'+t+'" supplied for for '+e);this[n]=r}this.updateStyleEl_()},f.prototype.fluid=function r(e){if(e===undefined)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},f.prototype.aspectRatio=function o(e){if(e===undefined)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},f.prototype.updateStyleEl_=function u(){if(!0!==pt.VIDEOJS_NO_DYNAMIC_STYLE){var e=void 0,t=void 0,n=void 0,r=(this.aspectRatio_!==undefined&&"auto"!==this.aspectRatio_?this.aspectRatio_:0<this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=this.width_!==undefined?this.width_:this.height_!==undefined?this.height_/i:this.videoWidth()||300,t=this.height_!==undefined?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),fn(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(0<=o&&(s.width=o),0<=a&&(s.height=a))}},f.prototype.loadTech_=function s(e,t){var n=this;this.tech_&&this.unloadTech_();var r=nt(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==r&&this.tag&&(Kr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;var o={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]};xr.names.forEach(function(e){var t=xr[e];o[t.getterName]=n[t.privateName]}),Ke(o,this.options_[r]),Ke(o,this.options_[i]),Ke(o,this.options_[e.toLowerCase()]),this.tag&&(o.tag=this.tag),t&&t.src===this.cache_.src&&0<this.cache_.currentTime&&(o.startTime=this.cache_.currentTime);var a=Kr.getTech(e);if(!a)throw new Error("No Tech named '"+r+"' exists! '"+r+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(dn(this,this.handleTechReady_),!0),Ln.jsonToTextTracks(this.textTracksJson_||[],this.tech_),bo.forEach(function(e){n.on(n.tech_,e,n["handleTech"+nt(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===r&&this.tag||Ye(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},f.prototype.unloadTech_=function a(){var n=this;xr.names.forEach(function(e){var t=xr[e];n[t.privateName]=n[t.getterName]()}),this.textTracksJson_=Ln.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},f.prototype.tech=function d(e){return e===undefined&&Wt.warn(Qt(_o)),this.tech_},f.prototype.addTechControlsListeners_=function p(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},f.prototype.removeTechControlsListeners_=function h(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},f.prototype.handleTechReady_=function g(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src(
)||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){Wt("deleting tag.poster throws in some browsers",e)}this.play()}},f.prototype.handleTechLoadStart_=function v(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},f.prototype.hasStarted=function m(e){if(e===undefined)return!!this.hasStarted_;this.hasStarted_!==e&&((this.hasStarted_=e)?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},f.prototype.handleTechPlay_=function y(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},f.prototype.handleTechWaiting_=function _(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},f.prototype.handleTechCanPlay_=function b(){this.removeClass("vjs-waiting"),this.trigger("canplay")},f.prototype.handleTechCanPlayThrough_=function T(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},f.prototype.handleTechPlaying_=function w(){this.removeClass("vjs-waiting"),this.trigger("playing")},f.prototype.handleTechSeeking_=function E(){this.addClass("vjs-seeking"),this.trigger("seeking")},f.prototype.handleTechSeeked_=function S(){this.removeClass("vjs-seeking"),this.trigger("seeked")},f.prototype.handleTechFirstPlay_=function P(){this.options_.starttime&&(Wt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},f.prototype.handleTechPause_=function C(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},f.prototype.handleTechEnded_=function I(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},f.prototype.handleTechDurationChange_=function x(){this.duration(this.techGet_("duration"))},f.prototype.handleTechClick_=function A(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},f.prototype.handleTechTap_=function O(){this.userActive(!this.userActive())},f.prototype.handleTechTouchStart_=function k(){this.userWasActive=this.userActive()},f.prototype.handleTechTouchMove_=function M(){this.userWasActive&&this.reportUserActivity()},f.prototype.handleTechTouchEnd_=function R(e){e.preventDefault()},f.prototype.handleFullscreenChange_=function D(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},f.prototype.handleStageClick_=function N(){this.reportUserActivity()},f.prototype.handleTechFullscreenChange_=function L(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},f.prototype.handleTechError_=function j(){var e=this.tech_.error();this.error(e)},f.prototype.handleTechTextData_=function F(e,t){var n=null;1<arguments.length&&(n=t),this.trigger("textdata",n)},f.prototype.getCache=function B(){return this.cache_},f.prototype.techCall_=function U(t,n){this.ready(function(){if(t in Qr)return ft(this.middleware_,this.tech_,t,n);try{this.tech_&&this.tech_[t](n)}catch(e){throw Wt(e),e}},!0)},f.prototype.techGet_=function H(e){if(this.tech_&&this.tech_.isReady_){if(e in Wr)return ct(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw this.tech_[e]===undefined?Wt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(Wt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):Wt(t),t}}},f.prototype.play=function V(){if(this.changingSrc_)this.ready(function(){var e=this.techGet_("play");e!==undefined&&"function"==typeof e.then&&e.then(null,function(){})});else{if(this.isReady_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.ready(function(){this.tech_.one("loadstart",function(){var e=this.play();e!==undefined&&"function"==typeof e.then&&e.then(null,function(){})})})}},f.prototype.pause=function z(){this.techCall_("pause")},f.prototype.paused=function q(){return!1!==this.techGet_("paused")},f.prototype.played=function G(){return this.techGet_("played")||ot(0,0)},f.prototype.scrubbing=function K(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},f.prototype.currentTime=function Y(e){if(void 0===e)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;this.techCall_("setCurrentTime",e)},f.prototype.duration=function W(e){if(e===undefined)return this.cache_.duration!==undefined?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=Infinity),e!==this.cache_.duration&&((this.cache_.duration=e)===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},f.prototype.remainingTime=function Q(){return this.duration()-this.currentTime()},f.prototype.buffered=function e(){var e=this.techGet_("buffered");return e&&e.length||(e=ot(0,0)),e},f.prototype.bufferedPercent=function X(){return at(this.buffered(),this.duration())},f.prototype.bufferedEnd=function $(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return t<n&&(n=t),n},f.prototype.volume=function J(e){var t=void 0;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(0<t&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},f.prototype.muted=function Z(e){if(e===undefined)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},f.prototype.defaultMuted=function ee(e){return e!==undefined?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},f.prototype.lastVolume_=function te(e){if(e===undefined||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},f.prototype.supportsFullScreen=function ne(){return this.techGet_("supportsFullScreen")||!1},f.prototype.isFullscreen=function re(e){if(e===undefined)return!!this.isFullscreen_;this.isFullscreen_=!!e},f.prototype.requestFullscreen=function ie(){var e=Pn;this.isFullscreen(!0),e.requestFullscreen?(Ze(ht,e.fullscreenchange,dn(this,function t(){this.isFullscreen(ht[e.fullscreenElement]),!1===this.isFullscreen()&&et(ht,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},f.prototype.exitFullscreen=function oe(){var e=Pn;this.isFullscreen(!1),e.requestFullscreen?ht[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},f.prototype.enterFullWindow=function ae(){this.isFullWindow=!0,this.docOrigOverflow=ht.documentElement.style.overflow,Ze(ht,"keydown",dn(this,this.fullWindowOnEscKey)),ht.documentElement.style.overflow="hidden",Qe(ht.body,"vjs-full-window"),this.trigger("enterFullWindow")},f.prototype.fullWindowOnEscKey=function se(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},f.prototype.exitFullWindow=function ue(){this.isFullWindow=!1,et(ht,"keydown",this.fullWindowOnEscKey),ht.documentElement.style.overflow=this.docOrigOverflow,Xe(ht.body,"vjs-full-window"),this.trigger("exitFullWindow")},f.prototype.canPlayType=function le(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=Kr.getTech(i);if(o||(o=Sn.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else Wt.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},f.prototype.selectSource=function ce(e){var r=this,t=this.options_.techOrder.map(function(e){return[e,Kr.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(Wt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function o(e,n,r){var i=void 0;return e.some(function(t){return n.some(function(e){if(i=r(t,e))return!0})}),i},i=function i(n){return function(e,t){return n(t,e)}},a=function a(e,t){var n=e[0];if(e[1].canPlaySource(t,r.options_[n.toLowerCase()]))return{source:t,tech:n}};return(this.options_.sourceOrder?o(e,t,i(a)):o(t,e,a))||!1},f.prototype.src=function fe(e){var n=this;if(void 0===e)return this.cache_.src;var r=Xr(e);r.length?(this.cache_.sources=r,this.changingSrc_=!0,this.cache_.source=r[0],ut(this,r[0],function(e,t){if(n.middleware_=t,n.src_(e))return 1<r.length?n.src(r.slice(1)):(n.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void n.triggerReady());n.changingSrc_=!1,n.cache_.src=e.src,lt(t,n.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},f.prototype.src_=function de(e){var t=this.selectSource([e]);return!t||(rt(t.tech,this.techName_)?this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source)),!1)},f.prototype.load=function pe(){this.techCall_("load")},f.prototype.reset=function he(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},f.prototype.currentSources=function ge(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},f.prototype.currentSource=function ve(){return this.cache_.source||{}},f.prototype.currentSrc=function me(){return this.currentSource()&&this.currentSource().src||""},f.prototype.currentType=function ye(){return this.currentSource()&&this.currentSource().type||""},f.prototype.preload=function _e(e){return e!==undefined?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},f.prototype.autoplay=function be(e){return e!==undefined?(this.techCall_("setAutoplay",e),void(this.options_.autoplay=e)):this.techGet_("autoplay",e)},f.prototype.playsinline=function Te(e){return e!==undefined?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},f.prototype.loop=function we(e){return e!==undefined?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},f.prototype.poster=function Ee(e){if(e===undefined)return this.poster_;e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange")},f.prototype.handleTechPosterChange_=function Se(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},f.prototype.controls=function Pe(e){return e!==undefined?(e=!!e,void(this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())))):!!this.controls_},f.prototype.usingNativeControls=function Ce(e){return e!==undefined?(e=!!e,void(this.usingNativeControls_!==e&&((this.usingNativeControls_=e)?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))))):!!this.usingNativeControls_},f.prototype.error=function Ie(e){return e===undefined?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new st(e),this.addClass("vjs-error"),Wt.error("(CODE:"+this.error_.code+" "+st.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},f.prototype.reportUserActivity=function xe(){this.userActivity_=!0},f.prototype.userActive=function Ae(e){if(e===undefined)return this.userActive_;(e=!!e)!==this.userActive_&&((this.userActive_=e)?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))},f.prototype.listenForUserActivity_=function Oe(){var e=void 0,t=void 0,n=void 0,r=dn(this,this.reportUserActivity),i=function i(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function o(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function a(){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;0<e&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},f.prototype.playbackRate=function ke(e){if(e===undefined)return this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},f.prototype.defaultPlaybackRate=function Me(e){return e!==undefined?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},f.prototype.isAudio=function Re(e){if(e===undefined)return!!this.isAudio_;this.isAudio_=!!e},f.prototype.addTextTrack=function De(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},f.prototype.addRemoteTextTrack=function Ne(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},f.prototype.removeRemoteTextTrack=function Le(e){var t=(0<arguments.length&&e!==undefined?e:{}).track,n=t===undefined?e:t;if(this.tech_)return this.tech_.removeRemoteTextTrack(n)},f.prototype.getVideoPlaybackQuality=function je(){return this.techGet_("getVideoPlaybackQuality")},f.prototype.videoWidth=function Fe(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},f.prototype.videoHeight=function Be(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},f.prototype.language=function Ue(e){if(e===undefined)return this.language_;this.language_=String(e).toLowerCase()},f.prototype.languages=function He(){return it(f.prototype.options_.languages,this.languages_)},f.prototype.toJSON=function Ve(){var e=it(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=it(r)).player=undefined,e.tracks[n]=r}return e},f.prototype.createModal=function ze(e,t){var n=this;(t=t||{}).content=e||"";var r=new Bn(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},f.getTagSettings=function qe(e){var t={sources:[],tracks:[]},n=$e(e),r=n["data-setup"];if(We(e,"vjs-fluid")&&(n.fluid=!0),null!==r){var i=Mn(r||"{}"),o=i[0],a=i[1];o&&Wt.error(o),Ke(n,a)}if(Ke(t,n),e.hasChildNodes())for(var s=e.childNodes,u=0,l=s.length;u<l;u++){var c=s[u],f=c.nodeName.toLowerCase();"source"===f?t.sources.push($e(c)):"track"===f&&t.tracks.push($e(c))}return t},f.prototype.flexNotSupported_=function Ge(){var e=ht.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},f}(Sn);xr.names.forEach(function(e){var t=xr[e];To.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),To.players={};var wo=pt.navigator;To.prototype.options_={techOrder:Kr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:wo&&(wo.languages&&wo.languages[0]||wo.userLanguage||wo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){To.prototype[e]=function(){return this.techGet_(e)}}),bo.forEach(function(e){To.prototype["handleTech"+nt(e)+"_"]=function(){return this.trigger(e)}}),Sn.registerComponent("Player",To);var Eo="plugin",So="activePlugins_",Po={},Co=function Co(e){return Po.hasOwnProperty(e)},Io=function Io(e){return Co(e)?Po[e]:undefined},xo=function xo(e,t){e[So]=e[So]||{},e[So][t]=!0},Ao=function Ao(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},Oo=function Oo(t,n){var r=function r(){Ao(this,{name:t,plugin:n,instance:null},!0);var e=n.apply(this,arguments);return xo(this,t),Ao(this,{name:t,plugin:n,instance:e}),e};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r},ko=function ko(i,o){return o.prototype.name=i,function(){Ao(this,{name:i,plugin:o,instance:null},!0);for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=new(Function.prototype.bind.apply(o,[null].concat([this].concat(t))));return this[i]=function(){return r},Ao(this,r.getEventHash()),r}},Mo=function(){function n(e){if(Ft(this,n),this.constructor===n)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,tt(this),delete this.trigger,ie(this,this.constructor.defaultState),xo(e,this.name),this.dispose=dn(this,this.dispose),e.on("dispose",this.dispose)}return n.prototype.getEventHash=function r(e){var t=0<arguments.length&&e!==undefined?e:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},n.prototype.trigger=function i(e,t){var n=1<arguments.length&&t!==undefined?t:{};return A(this.eventBusEl_,e,this.getEventHash(n))},n.prototype.handleStateChanged=function e(){},n.prototype.dispose=function o(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[So][e]=!1,this.player=this.state=null,t[e]=ko(e,Po[e])},n.isBasic=function a(e){var t="string"==typeof e?Io(e):e;return"function"==typeof t&&!n.prototype.isPrototypeOf(t.prototype)},n.registerPlugin=function s(e,t){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+(void 0===e?"undefined":jt(e))+".");if(Co(e))Wt.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(To.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+(void 0===t?"undefined":jt(t))+".");return Po[e]=t,e!==Eo&&(n.isBasic(t)?To.prototype[e]=Oo(e,t):To.prototype[e]=ko(e,t)),t},n.deregisterPlugin=function t(e){if(e===Eo)throw new Error("Cannot de-register base plugin.");Co(e)&&(delete Po[e],delete To.prototype[e])},n.getPlugins=function u(e){var t=0<arguments.length&&e!==undefined?e:Object.keys(Po),n=void 0;return t.forEach(function(e){var t=Io(e);t&&((n=n||{})[e]=t)}),n},n.getPluginVersion=function l(e){var t=Io(e);return t&&t.VERSION||""},n}();Mo.getPlugin=Io,Mo.BASE_PLUGIN_NAME=Eo,Mo.registerPlugin(Eo,Mo),To.prototype.usingPlugin=function(e){return!!this[So]&&!0===this[So][e]},To.prototype.hasPlugin=function(e){return!!Co(e)};var Ro=function Ro(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":jt(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},Do=function Do(e,t){var n=1<arguments.length&&t!==undefined?t:{},r=function r(){e.apply(this,arguments)},i={};for(var o in"object"===(void 0===n?"undefined":jt(n))?(n.constructor!==Object.prototype.constructor&&(r=n.constructor),i=n):"function"==typeof n&&(r=n),Ro(r,e),i)i.hasOwnProperty(o)&&(r.prototype[o]=i[o]);return r};if("undefined"==typeof HTMLVideoElement&&c()&&(ht.createElement("video"),ht.createElement("audio"),ht.createElement("track")),De.hooks_={},De.hooks=function(e,t){return De.hooks_[e]=De.hooks_[e]||[],t&&(De.hooks_[e]=De.hooks_[e].concat(t)),De.hooks_[e]},De.hook=function(e,t){De.hooks(e,t)},De.removeHook=function(e,t){var n=De.hooks(e).indexOf(t);return!(n<=-1)&&(De.hooks_[e]=De.hooks_[e].slice(),De.hooks_[e].splice(n,1),!0)},!0!==pt.VIDEOJS_NO_DYNAMIC_STYLE&&c()){var No=$t(".vjs-styles-defaults");if(!No){No=cn("vjs-styles-defaults");var Lo=$t("head");Lo&&Lo.insertBefore(No,Lo.firstChild),fn(No,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return k(1,De),De.VERSION=dt,De.options=To.prototype.options_,De.getPlayers=function(){return To.players},De.players=To.players,De.getComponent=Sn.getComponent,De.registerComponent=function(e,t){Kr.isTech(t)&&Wt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Sn.registerComponent.call(Sn,e,t)},De.getTech=Kr.getTech,De.registerTech=Kr.registerTech,De.use=Pe,De.browser=Lt,De.TOUCH_ENABLED=Dt,De.extend=Do,De.mergeOptions=it,De.bind=dn,De.registerPlugin=Mo.registerPlugin,De.plugin=function(e,t){return Wt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Mo.registerPlugin(e,t)},De.getPlugins=Mo.getPlugins,De.getPlugin=Mo.getPlugin,De.getPluginVersion=Mo.getPluginVersion,De.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),De.options.languages=it(De.options.languages,((n={})[e]=t,n)),De.options.languages[e]},De.log=Wt,De.createTimeRange=De.createTimeRanges=ot,De.formatTime=Oe,De.parseUrl=er,De.isCrossOrigin=rr,De.EventTarget=hn,De.on=Ze,De.one=O,De.off=et,De.trigger=A,De.xhr=gr,De.TextTrack=yr,De.AudioTrack=_r,De.VideoTrack=br,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){De[e]=function(){return Wt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Zt[e].apply(null,arguments)}}),De.computedStyle=i,De.dom=Zt,De.url=ir,De}),function Z0(o,a,s){function u(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[n]={exports:{}};o[n][0].call(i.exports,function(e){var t=o[n][1][e];return u(t||e)},i,i.exports,Z0,o,a,s)}return a[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,n){"use strict";var o,r,u,i,l,c={encode:function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):(r<2048?t.push(192|r>>6):(r<65536?t.push(224|r>>12):(t.push(240|r>>18),t.push(128|63&r>>12)),t.push(128|63&r>>6)),t.push(128|63&r))}return t},decode:function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?r=(31&r)<<6:(r<240?r=(15&r)<<12:(r=(7&r)<<18,r|=(63&e[n++])<<12),r|=(63&e[n++])<<6),r|=63&e[n++]),t.push(String.fromCharCode(r))}return t.join("")}},f={};o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(e){for(var t=0,n=[],r=0|e.length/3;0<r--;){var i=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,n.push(o.charAt(63&i>>18)),n.push(o.charAt(63&i>>12)),n.push(o.charAt(63&i>>6)),n.push(o.charAt(63&i))}if(2==e.length-t){i=(e[t]<<16)+(e[t+1]<<8);n.push(o.charAt(63&i>>18)),n.push(o.charAt(63&i>>12)),n.push(o.charAt(63&i>>6)),n.push("=")}else if(1==e.length-t){i=e[t]<<16;n.push(o.charAt(63&i>>18)),n.push(o.charAt(63&i>>12)),n.push("==")}return n.join("")},u=function(){for(var e=[],t=0;t<o.length;++t)e[o.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),i=function(e){for(var t=0,n=[],r=0|e.length/4;0<r--;){var i=(u[e.charCodeAt(t)]<<18)+(u[e.charCodeAt(t+1)]<<12)+(u[e.charCodeAt(t+2)]<<6)+u[e.charCodeAt(t+3)];n.push(255&i>>16),n.push(255&i>>8),n.push(255&i),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n},l={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(){for(var e=0;e<s.length;++e)a[e]=String.fromCharCode(a[e]);return a.join("")}},f.decodeArray=function(e){var t=i(e);return new Uint8Array(t)},f.encodeASCII=function(e){var t=l.encode(e);return r(t)},f.decodeASCII=function(e){var t=i(e);return l.decode(t)},f.encode=function(e){var t=c.encode(e);return r(t)},f.decode=function(e){var t=i(e);return c.decode(t)},void 0!==n&&(n.decode=f.decode,n.decodeArray=f.decodeArray)},{}],2:[function(e,t,n){"use strict";!function(e){var n={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},s=function(e){var t=e;return n.hasOwnProperty(e)&&(t=n[e]),String.fromCharCode(t)},a=15,i=32,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},u={17:2,18:4,21:6,22:8,23:10,19:13,20:15},l={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},c={25:2,26:4,29:6,30:8,31:10,27:13,28:15},f=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],d={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},p=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},h=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};h.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var t=function(e,t,n,r,i,o){this.uchar=e||" ",this.penState=new h(t,n,r,i,o)};t.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var r=function(){this.chars=[];for(var e=0;e<i;e++)this.chars.push(new t);this.pos=0,this.currPenState=new h};r.prototype={equals:function(e){for(var t=!0,n=0;n<i;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<i;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<i;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(d.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(1<e)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){144<=e&&this.backSpace();var t=s(e);return this.pos>=i?void d.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<i;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<i;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var g=function(){this.rows=[];for(var e=0;e<a;e++)this.rows.push(new r);this.currRow=a-1,this.nrRollUpRows=null,this.reset()};g.prototype={reset:function(){for(var e=0;e<a;e++)this.rows[e].clear();this.currRow=a-1},equals:function(e){for(var t=!0,n=0;n<a;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<a;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<a;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){d.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){d.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){d.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){d.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),d.log("INFO","Rolling up")}else d.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<a;i++){var o=this.rows[i].getTextString();o&&(r=i+1,e?t.push("Row "+r+': "'+o+'"'):t.push(o.trim()))}return 0<t.length&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var v=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};v.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[a-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,d.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";d.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},
cc_RCL:function(){d.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){d.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){d.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){d.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){d.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){d.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){d.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){d.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){d.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){d.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){d.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){d.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=46<=e,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}d.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=d.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var m=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new v(1,t),new v(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,"char":0,cmd:0,other:0}};m.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,o=!1;this.lastTime=e,d.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(d.log("DATA","["+p([t[a],t[a+1]])+"] -> ("+p([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&0<=this.currChNr){this.channels[this.currChNr-1].insertChars(o)}else d.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters["char"]+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+p([r,i])+" orig: "+p([t[a],t[a+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null;if(!((20===e||28===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+p([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var r=this.channels[n-1];return 20===e||28===e?32===t?r.cc_RCL():33===t?r.cc_BS():34===t?r.cc_AOF():35===t?r.cc_AON():36===t?r.cc_DER():37===t?r.cc_RU(2):38===t?r.cc_RU(3):39===t?r.cc_RU(4):40===t?r.cc_FON():41===t?r.cc_RDC():42===t?r.cc_TR():43===t?r.cc_RTD():44===t?r.cc_EDM():45===t?r.cc_CR():46===t?r.cc_ENM():47===t&&r.cc_EOC():r.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(d.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].cc_MIDROW(t),d.log("DEBUG","MIDROW ("+p([e,t])+")"),!0))},parsePAC:function(e,t){var n=null,r=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,!(this.lastCmdB=null);n=e<=23?1:2,r=64<=t&&t<=95?1===n?o[e]:l[e]:1===n?u[e]:c[e];var i=this.interpretPAC(r,t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=95<t?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var n=null,r=null,i=null;if(17<=(i=25<=e?(n=2,e-8):(n=1,e))&&i<=19){var o=t;o=17===i?t+80:18===i?t+112:t+144,d.log("INFO","Special char '"+s(o)+"' in channel "+n),r=[o]}else 32<=e&&e<=127&&(r=0===t?[e]:[e,t]);if(r){var a=p(r);d.log("DEBUG","Char codes =  "+a.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},parseBackgroundAttributes:function(e,t){var n,r,i;return!(!((16===e||24===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&45<=t&&t<=47)||(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=f[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,this.channels[i-1].setBkgData(n),this.lastCmdA=null,this.lastCmdB=null))},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};var y=function(e,t,n){for(var r=0,i=t,o=[],a=function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),o=n.getUint16(r+1),a=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==o&&1195456820==a&&3==s};i<t+n;){if(r=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var s=i+5,u=-1;s<i+4+r-1;){u=0;for(var l=255;255===l;)u+=l=e.getUint8(s),s++;var c=0;for(l=255;255===l;)c+=l=e.getUint8(s),s++;a(u,c,e,s)&&o.push([s,c]),s+=c}i+=r+4}return o},_=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var o=0;o<i;o++){var a=e.getUint8(n),s=4&a,u=3&a;n++;var l=e.getUint8(n);n++;var c=e.getUint8(n);n++,s&&(127&l)+(127&c)!=0&&(0===u?(r[0].push(l),r[0].push(c)):1===u&&(r[1].push(l),r[1].push(c)))}return r};e.logger=d,e.PenState=h,e.CaptionScreen=g,e.Cea608Parser=m,e.findCea608Nalus=y,e.extractCea608DataFromRange=_}(void 0===n?(void 0).cea608parser={}:n)},{}],3:[function(e,t,n){"use strict";function r(c){var u,l,e;for(u=[],e=0,l=c.length;e<l;e+=1)c[e].isRoot?u.push("root"):u.push(c[e].name);var f=function(e,t){var n;if(null!==e&&null!==t)for(n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]))},d=function(e,t,n){var r,i,o,a,s;if(null!==e&&0!==e.length)for(r=0,i=e.length;r<i;r+=1)o=e[r],t.hasOwnProperty(o.name)&&(n.hasOwnProperty(o.name)?o.merge&&(a=t[o.name],s=n[o.name],"object"==typeof a&&"object"==typeof s?f(a,s):null!=o.mergeFunction?n[o.name]=o.mergeFunction(a,s):n[o.name]=a+s):n[o.name]=t[o.name])},p=function c(e,t){var n,r,i,o,a,s,u,l=e;if(null!==l.children&&0!==l.children.length)for(n=0,r=l.children.length;n<r;n+=1)if(s=l.children[n],t.hasOwnProperty(s.name))if(s.isArray)for(i=0,o=(a=t[s.name+"_asArray"]).length;i<o;i+=1)u=a[i],d(l.properties,t,u),c(s,u);else u=t[s.name],d(l.properties,t,u),c(s,u)};return{run:function l(e){var t,n,r,i,o,a,s;if(null===e)return e;if("object"!=typeof e)return e;for(t=0,n=u.length;t<n;t+=1)"root"===u[t]&&(o=c[t],p(o,a=e));for(i in e)if(e.hasOwnProperty(i)&&"__children"!=i){if(-1!==(r=u.indexOf(i)))if((o=c[r]).isArray)for(t=0,n=(s=e[i+"_asArray"]).length;t<n;t+=1)a=s[t],p(o,a);else a=e[i],p(o,a);l(e[i])}return e}}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function r(b,T,w){function E(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function S(e){return e.prefix}function n(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function P(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function C(e){if(e.nodeType==x.DOCUMENT_NODE){var t,n,r=e.firstChild;for(t=0,n=e.childNodes.length;t<n;t+=1)if(e.childNodes[t].nodeType!==x.COMMENT_NODE){r=e.childNodes[t];break}if(w)i=C(r);else(i={})[u=E(r)]=C(r);return i}if(e.nodeType!=x.ELEMENT_NODE)return e.nodeType==x.TEXT_NODE||e.nodeType==x.CDATA_SECTION_NODE?e.nodeValue:e.nodeType==x.COMMENT_NODE?null:void 0;var i;(i=new Object).__cnt=0;for(var o=[],a=e.childNodes,s=0;s<a.length;s++){var u=E(r=a.item(s));if(i.__cnt++,null==i[u]){var l=C(r);if("#text"!=u||/[^\s]/.test(l))(d={})[u]=l,o.push(d);i[u]=l,i[u+"_asArray"]=new Array(1),i[u+"_asArray"][0]=i[u]}else{if(null!=i[u]&&!(i[u]instanceof Array)){var c=i[u];i[u]=new Array,i[u][0]=c,i[u+"_asArray"]=i[u]}for(var f=0;null!=i[u][f];)f++;var d;l=C(r);if("#text"!=u||/[^\s]/.test(l))(d={})[u]=l,o.push(d);i[u][f]=l}}i.__children=o;for(var p=0;p<e.attributes.length;p++){var h=e.attributes.item(p);i.__cnt++;for(var g=h.value,v=0,m=b.length;v<m;v++){var y=b[v];y.test(h)&&(g=y.converter(h.value))}i[T+h.name]=g}var _=S(e);return null!=_&&""!=_&&(i.__cnt++,i.__prefix=_),1==i.__cnt&&null!=i["#text"]&&(i=i["#text"]),null!=i["#text"]&&(i.__text=i["#text"],I&&(i.__text=P(i.__text)),delete i["#text"],delete i["#text_asArray"]),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],delete i["#cdata-section_asArray"]),null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}function o(e,t,n,r){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];i+=" "+a.substr(1)+"='"+s+"'"}return i+(r?"/>":">")}function a(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function r(e,t){return-1!==e.indexOf(t,e.length-t.length)}function s(e,t){return!!(r(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function u(e){var t=0;if(e instanceof Object)for(var n in e)s(e,n)||t++;return t}function l(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf("_")&&t.push(n);return t}function i(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=I?n(e.__text):e.__text),t}function c(e){var t="";return e instanceof Object?t+=i(e):null!=e&&(t+=I?n(e):e),t}function f(e,t,n){var r="";if(0==e.length)r+=o(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=o(e[i],t,l(e[i]),!1),r+=d(e[i]),r+=a(e[i],t);return r}function d(e){var t="";if(0<u(e))for(var n in e)if(!s(e,n)){var r=e[n],i=l(r);if(null==r||null==r)t+=o(r,n,i,!0);else if(r instanceof Object)if(r instanceof Array)t+=f(r,n,i);else{0<u(r)||null!=r.__text||null!=r.__cdata?(t+=o(r,n,i,!1),t+=d(r),t+=a(r,n)):t+=o(r,n,i,!0)}else t+=o(r,n,i,!1),t+=c(r),t+=a(r,n)}return t+c(e)}null!=T||(T="_"),null!=w||(w=!1);var e="1.0.11",I=!1,x={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t,n,r;if(window.DOMParser){n=new window.DOMParser;try{r=n.parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(S){}try{t=n.parseFromString(e,"text/xml"),r&&t.getElementsByTagNameNS(r,"parsererror").length&&(t=void 0)}catch(S){}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.xml2json=function(e){return C(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return t?this.xml2json(t):void 0},this.json2xml_str=function(e){return d(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return e},this.escapeMode=function(e){I=e}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],5:[function(l,e,c){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(c,"__esModule",{value:!0});var n=t(l(51)),r=t(l(106)),i=t(l(75)),o=t(l(53)),a=l(11),s=window||e,u=s.dashjs;u||(u=s.dashjs={}),u.MediaPlayer=n["default"],u.Protection=r["default"],u.MetricsReporting=i["default"],u.MediaPlayerFactory=o["default"],u.Version=(0,a.getVersionString)(),c["default"]=u,c.MediaPlayer=n["default"],c.Protection=r["default"],c.MetricsReporting=i["default"],c.MediaPlayerFactory=o["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{106:106,11:11,51:51,53:53,75:75}],6:[function(e,t,n){var r={parseBuffer:function(e){return new i(e).parse()},Utils:{}};r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?o=(31&o)<<6:(o<240?o=(15&o)<<12:(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12),o|=(63&e.getUint8(i++))<<6),o|=63&e.getUint8(i++)),r.push(String.fromCharCode(o))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},void 0!==n&&(n.parseBuffer=r.parseBuffer,n.Utils=r.Utils),r.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._raw=new DataView(e),this._cursor=new r.Cursor,this.boxes=[]};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if("undefined"==typeof e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){for(var r in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}};var o=function(){this._cursor=new r.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t=null;switch(e){case 8:t=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:t=((n=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset))<<8)+(r=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2));break;case 32:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},o.prototype._readTerminatedString=function(){for(var e="";;){var t=this._readUint(8);if(0==t)break;e+=String.fromCharCode(t)}return e},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)}},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._boxParsers={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){o.prototype._boxParsers[e]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))}}),o.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},o.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.free=o.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.ftyp=o.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},o.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},o.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.pre_defined=this._readUint(16)},o.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},o.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(e=0;e<6;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},o.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=r.Utils.dataViewToString(e)},o.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},n=this._readUint(32);t.reference_type=n>>31&1,t.referenced_size=2147483647&n,t.subsegment_duration=this._readUint(32);var r=this._readUint(32);t.starts_with_SAP=r>>31&1,t.SAP_type=r>>28&7,t.SAP_delta_time=268435455&r,this.references.push(t)}},o.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var n=0;n<t.ranges_count;n++){var r={};r.level=this._readUint(8),r.range_size=this._readUint(24),t.ranges.push(r)}this.subsegments.push(t)}},o.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},o.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},o.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},o.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?t.sample_composition_time_offset=this._readUint(32):t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},o.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vtte=function(){}},{}],7:[function(e,t,n){var r=n.decimalAdjust=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))};t.exports={round10:function(e,t){return r("round",e,t)},floor10:function(e,t){return r("floor",e,t)},ceil10:function(e,t){return r("ceil",e,t)}},t.exports.polyfill=function(){Math.round10||(Math.round10=t.exports.round10),Math.floor10||(Math.floor10=t.exports.floor10),Math.ceil10||(Math.ceil10=t.exports.ceil10)}},{}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){l=u=!0,c=(new Date).getTime()}function t(e){l=e}function n(e){u=e}function r(){return u}function i(){var t="",e=null;l&&(e=(new Date).getTime(),t+="["+(e-c)+"]"),0<t.length&&(t+=" "),Array.apply(null,arguments).forEach(function(e){t+=e+" "}),u&&console.log(t),a.trigger(d["default"].LOG,{message:t})}var o=this.context,a=(0,f["default"])(o).getInstance(),s=void 0,u=void 0,l=void 0,c=void 0;return s={log:i,setLogTimestampVisible:t,setLogToBrowserConsole:n,getLogToBrowserConsole:r},e(),s}Object.defineProperty(n,"__esModule",{value:!0});var f=r(e(9)),d=r(e(13)),o=r(e(10));i.__dashjs_factory_name="Debug",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(n,e,t,r){var i=arguments.length<=3||void 0===r?u:arguments[3];if(!n)throw new Error("event type cannot be null or undefined");if(!e||"function"!=typeof e)throw new Error("listener must be a function: "+e);if(!(0<=a(n,e,t))){s[n]=s[n]||[];var o={callback:e,scope:t,priority:i};s[n].some(function(e,t){if(i>e.priority)return s[n].splice(t,0,o),!0})||s[n].push(o)}}function t(e,t,n){if(e&&t&&s[e]){var r=a(e,t,n);r<0||s[e].splice(r,1)}}function n(e,t){if(e&&s[e]){if((t=t||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=e,s[e].forEach(function(e){return e.callback.call(e.scope,t)})}}function a(e,n,r){var i=-1;return s[e]&&s[e].some(function(e,t){if(e.callback===n&&(!r||r===e.scope))return i=t,!0}),i}function r(){s={}}var s={};return{on:e,off:t,trigger:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),u=0,a=5e3;i.__dashjs_factory_name="EventBus";var s=o["default"].getSingletonFactory(i);s.EVENT_PRIORITY_LOW=u,s.EVENT_PRIORITY_HIGH=a,n["default"]=s,t.exports=n["default"]},{10:10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){var i=s(r);!i[e]&&t&&(i[e]={instance:t,override:n})}function r(e,t){for(var n in l){var r=l[n];if(r.context===e&&r.name===t)return r.instance}return null}function t(e,t,n){for(var r in l){var i=l[r];if(i.context===e&&i.name===t)return void(l[r].instance=n)}l.push({name:t,context:e,instance:n})}function n(t){return function(e){return void 0===e&&(e={}),{create:function(){return o(t.__dashjs_factory_name,t.apply({context:e},arguments),e,arguments)}}}}function i(n){return function(e){var t=void 0;return void 0===e&&(e={}),{getInstance:function(){return t||(t=r(e,n.__dashjs_factory_name)),t||(t=o(n.__dashjs_factory_name,n.apply({context:e},arguments),e,arguments),l.push({name:n.__dashjs_factory_name,context:e,instance:t})),t}}}}function o(e,t,n,r){var i=s(n)[e];if(i){var o=i.instance;if(!i.override)return o.apply({context:n,factory:u},r);for(var a in o=o.apply({context:n,factory:u,parent:t},r))t.hasOwnProperty(a)&&(t[a]=o[a])}return t}function s(t){var n=void 0;return a.forEach(function(e){e===t&&(n=e)}),n||(n=a.push(t)),n}var u=void 0,a=[],l=[];return u={extend:e,getSingletonInstance:r,setSingletonInstance:t,getSingletonFactory:i,getClassFactory:n}}();n["default"]=r,t.exports=n["default"]},{}],11:[function(e,t,n){"use strict";function r(){return i}Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionString=r;var i="2.3.0"},{}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(14)),u=function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astinfuture",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CHUNK_APPENDED="chunkAppended",this.CURRENT_TRACK_CHANGED="currenttrackchanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.STREAM_INITIALIZED="streaminitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ALL_ELEMENTS_LOADED="xlinkAllElementsLoaded",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return o(e,s["default"]),e}();n["default"]=u,t.exports=n["default"]},{14:14}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(12)),u=new(function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,s["default"]),e}());n["default"]=u,t.exports=n["default"]},{12:12}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(
var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function e(){r(this,e)}return i(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();n["default"]=o,t.exports=n["default"]},{}],15:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e){e&&e.dashManifestModel&&(C=e.dashManifestModel)}function t(){I=[],x={}}function o(e,t){return t.getRepresentationForQuality(e.quality)}function u(e){return x[e.streamInfo.id][e.index]}function v(e){for(var t=I.length,n=0;n<t;n++){var r=I[n];if(e.id===r.id)return r}return null}function i(e,t){var n=new A["default"],r=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index],i=C.getRepresentationFor(t.index,r);return n.id=t.id,n.quality=t.index,n.bandwidth=C.getBandwidth(i),n.DVRWindow=t.segmentAvailabilityRange,n.fragmentDuration=t.segmentDuration||(t.segments&&0<t.segments.length?t.segments[0].duration:NaN),n.MSETimeOffset=t.MSETimeOffset,n.useCalculatedLiveEdgeTime=t.useCalculatedLiveEdgeTime,n.mediaInfo=m(e,t.adaptation),n}function m(e,t){var n,r=new O["default"],i=t.period.mpd.manifest.Period_asArray[t.period.index].AdaptationSet_asArray[t.index];return r.id=t.id,r.index=t.index,r.type=t.type,r.streamInfo=a(e,t.period),r.representationCount=C.getRepresentationCount(i),r.lang=C.getLanguageForAdaptation(i),n=C.getViewpointForAdaptation(i),r.viewpoint=n?n.value:void 0,r.accessibility=C.getAccessibilityForAdaptation(i).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&0<=e.schemeIdUri.search("cea-608")&&"undefined"!=typeof D["default"]&&(n=t?"cea-608:"+t:"cea-608",r.embeddedCaptions=!0),n}),r.audioChannelConfiguration=C.getAudioChannelConfigurationForAdaptation(i).map(function(e){return e.value}),r.roles=C.getRolesForAdaptation(i).map(function(e){return e.value}),r.codec=C.getCodec(i),r.mimeType=C.getMimeType(i),r.contentProtection=C.getContentProtectionData(i),r.bitrateList=C.getBitrateListForAdaptation(i),r.contentProtection&&r.contentProtection.forEach(function(e){e.KID=C.getKID(e)}),r.isText=C.getIsTextTrack(r.mimeType),r}function y(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type="embeddedText",e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=t+" "+n,e.roles=["caption"]}function a(e,t){var n=new k["default"],r=1;return n.id=t.id,n.index=t.index,n.start=t.start,n.duration=t.duration,n.manifestInfo=s(e,t.mpd),n.isLast=1===e.Period_asArray.length||Math.abs(n.start+n.duration-n.manifestInfo.duration)<r,n.isFirst=1===e.Period_asArray.length||C.getRegularPeriods(e,C.getMpd(e))[0].id===t.id,n}function s(e,t){var n=new M["default"];return n.DVRWindowSize=t.timeShiftBufferDepth,n.loadedTime=t.manifest.loadedTime,n.availableFrom=t.availabilityStartTime,n.minBufferTime=t.manifest.minBufferTime,n.maxFragmentDuration=t.maxSegmentDuration,n.duration=C.getDuration(e),n.isDynamic=C.getIsDynamic(e),n}function n(e,t,n){var r=C.getAdaptationForType(e,t.index,n,t);if(!r)return null;var i=v(t),o=i.id,a=C.getIndexForAdaptation(r,e,t.index);return x[o]=x[o]||C.getAdaptationsForPeriod(e,i),m(e,x[o][a])}function r(e,t,n){var r,i,o,a,s,u,l=v(t),c=l.id,f=C.getAdaptationsForType(e,t.index,"embeddedText"!==n?n:"video"),d=[];if(!f)return d;for(x[c]=x[c]||C.getAdaptationsForPeriod(e,l),a=0,u=f.length;a<u;a++){if(r=f[a],o=C.getIndexForAdaptation(r,e,t.index),i=m(e,x[c][o]),"embeddedText"===n){var p=i.accessibility.length;for(s=0;s<p;s++)if(i){var h=i.accessibility[s];if(0===h.indexOf("cea-608:")){var g=h.substring(8).split(";");if("CC"===g[0].substring(0,2))for(s=0;s<g.length;s++)i||(i=m.call(this,e,x[c][o])),y(i,g[s].substring(0,3),g[s].substring(4)),d.push(i),i=null;else for(s=0;s<g.length;s++)i||(i=m.call(this,e,x[c][o])),y(i,"CC"+(s+1),g[s]),d.push(i),i=null}else 0===h.indexOf("cea-608")&&(y(i,"CC1","eng"),d.push(i),i=null)}}i&&"embeddedText"!==n&&d.push(i)}return d}function l(e){var t,n,r,i=[];if(!e)return null;for(t=C.getMpd(e),I=C.getRegularPeriods(e,t),t.checkTime=C.getCheckTime(e,I[0]),x={},n=I.length,r=0;r<n;r++)i.push(a(e,I[r]));return i}function c(e){return s(e,C.getMpd(e))}function f(e,t){var n=e.getRepresentationController().getRepresentationForQuality(t);return e.getIndexHandler().getInitRequest(n)}function d(e,t){var n=o(t,e.getRepresentationController());return e.getIndexHandler().getNextSegmentRequest(n)}function p(e,t,n,r){var i=o(t,e.getRepresentationController());return e.getIndexHandler().getSegmentRequestForTime(i,n,r)}function h(e,t,n){var r=o(t,e.getRepresentationController());return e.getIndexHandler().generateSegmentRequestForTime(r,n)}function g(e){return e.getIndexHandler().getCurrentTime()}function _(e,t){return e.getIndexHandler().setCurrentTime(t)}function b(e,t){var n,r,i=v(t.getStreamInfo()),o=t.getMediaInfo(),a=u(o),s=t.getType();r=(n=o.id)?C.getAdaptationForId(n,e,i.index):C.getAdaptationForIndex(o.index,e,i.index),t.getRepresentationController().updateData(r,a,s)}function T(e,t,n){var r=t.getRepresentationForQuality(n);return r?i(e,r):null}function w(e,t){var n=t.getCurrentRepresentation();return n?i(e,n):null}function E(e,t,n){var r=new R["default"],i=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,u=e.event_duration,l=e.id,c=e.message_data,f=n*a+s;return t[i]?(r.eventStream=t[i],r.eventStream.value=o,r.eventStream.timescale=a,r.duration=u,r.id=l,r.presentationTime=f,r.messageData=c,r.presentationTimeDelta=s,r):null}function S(e,t,n){var r=[];return t instanceof k["default"]?r=C.getEventsForPeriod(e,v(t)):t instanceof O["default"]?r=C.getEventStreamForAdaptationSet(e,u(t)):t instanceof A["default"]&&(r=C.getEventStreamForRepresentation(e,o(t,n.getRepresentationController()))),r}function P(){I=[],x={}}var C=void 0,I=void 0,x=void 0;return{initialize:t,convertDataToTrack:i,convertDataToMedia:m,convertDataToStream:a,getDataForTrack:o,getDataForMedia:u,getDataForStream:v,getStreamsInfo:l,getManifestInfo:c,getMediaInfoForType:n,getAllMediaInfoForType:r,getCurrentRepresentationInfo:w,getRepresentationInfoForQuality:T,updateData:b,getInitRequest:f,getNextFragmentRequest:d,getFragmentRequestForTime:p,generateFragmentRequestForTime:h,getIndexHandlerTime:g,setIndexHandlerTime:_,getEventsFor:S,getEvent:E,setConfig:e,reset:P,metricsList:N}}Object.defineProperty(n,"__esModule",{value:!0});var A=i(e(172)),O=i(e(167)),k=i(e(169)),M=i(e(166)),R=i(e(41)),a=i(e(10)),D=i(e(2)),N=r(e(20));o.__dashjs_factory_name="DashAdapter",n["default"]=a["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10,166:166,167:167,169:169,172:172,2:2,20:20,41:41}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(t){function e(){L=-1,U=0,H=NaN,x.on(Y["default"].INITIALIZATION_LOADED,S,N),x.on(Y["default"].SEGMENTS_LOADED,P,N)}function n(e){B=(V=e).getType(),F=V.isDynamic(),z=(0,J["default"])(C).create(t,F)}function r(){return V}function i(e){U=e}function o(){return U}function a(){return L}function s(){return H}function u(){z=null,U=0,H=NaN,j=NaN,L=-1,V=B=F=null,x.off(Y["default"].INITIALIZATION_LOADED,S,N),x.off(Y["default"].SEGMENTS_LOADED,P,N)}function l(e){return e.split("$$").join("$")}function c(e,t){if(null===t||-1===e.indexOf("$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)}function f(e,t,n){var r,i,o=D.resolve(n.path);return o&&t!==o.url&&A.isRelative(t)?(r=o.url,i=o.serviceLocation,t&&(r+=t)):r=t,!A.isRelative(r)&&(e.url=r,e.serviceLocation=i,!0)}function d(e,t){var n,r,i=new q["default"];if(n=e.adaptation.period,i.mediaType=t,i.type=K.HTTPRequest.INIT_SEGMENT_TYPE,i.range=e.range,r=n.start,i.availabilityStartTime=k.calcAvailabilityStartTimeFromPresentationTime(r,e.adaptation.period.mpd,F),i.availabilityEndTime=k.calcAvailabilityEndTimeFromPresentationTime(r+n.duration,n.mpd,F),i.quality=e.index,i.mediaInfo=V.getMediaInfo(),f(i,e.initialization,e))return i}function p(e){return e?d(e,B):null}function h(e){var t,n,r,i=e.adaptation.period,o=e.segmentInfoType,a=!1;return L<0?a=!1:F||L<e.availableSegmentsNumber?(n=(0,$.getSegmentByIndex)(L,e))&&(r=n.presentationStartTime-i.start,t=e.adaptation.period.duration,I(e.segmentInfoType+": "+r+" / "+t),a=("SegmentTimeline"!==o||!F)&&t<=r):a=!0,a}function g(e){return z.getSegments(e,j,L,v)}function v(e,t){if((e.segments=t)&&0<t.length&&(H=isNaN(H)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,H)),F&&isNaN(k.getExpectedLiveEdge())){var n=t[t.length-1].presentationStartTime,r=R.getMetricsFor("stream");k.setExpectedLiveEdge(n),R.updateManifestUpdateInfo(M.getCurrentManifestUpdate(r),{presentationStartTime:n})}}function m(e){if(!e)throw new G["default"]("no representation");return e.segments=null,g(e),e}function y(e,t){var n,r=e.initialization,i="BaseURL"!==e.segmentInfoType&&"SegmentBase"!==e.segmentInfoType&&!e.indexRange;return e.segmentDuration||e.segments||m(e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=k.calcSegmentAvailabilityRange(e,F),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?(n=new G["default"](Z,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void x.trigger(Y["default"].REPRESENTATION_UPDATED,{sender:this,representation:e,error:n})):(t||(L=-1),e.segmentDuration&&m(e),r||O.loadInitialization(e),i||O.loadSegments(e,B,e.indexRange),void(r&&i&&x.trigger(Y["default"].REPRESENTATION_UPDATED,{sender:this,representation:e})))}function _(e,t,n){var r,i,o,a,s,u=t.segments,l=u?u.length:null,c=-1;if(u&&0<l)for(s=0;s<l;s++)if(o=(i=u[s]).presentationStartTime,a=i.duration,o<=e+(r=null==n?a/2:n)&&e-r<o+a){c=i.availabilityIdx;break}return c}function b(e){if(null==e)return null;var t=new q["default"],n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media;return i=(0,$.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,$.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=l(i=c(i=(0,$.replaceTokenForTemplate)(i,"Bandwidth",r),n.id)),t.mediaType=B,t.type=K.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=V.getMediaInfo(),t.adaptationIndex=n.adaptation.index,f(t,i,n)?t:void 0}function T(e,t,n){var r,i=L,o=!!n&&n.keepIdx,a=n?n.timeThreshold:null,s=!(!n||!n.ignoreIsFinished);return e?(j!==t&&I("Getting the request for "+B+" time : "+(j=t)),L=_(t,e,a),g(e),L<0&&(L=_(t,e,a)),0<L&&I("Index for "+B+" time "+t+" is "+L),!s&&h(e)?((r=new q["default"]).action=q["default"].ACTION_COMPLETE,r.index=L,r.mediaType=B,r.mediaInfo=V.getMediaInfo(),I("Signal complete.",r)):r=b((0,$.getSegmentByIndex)(L,e)),o&&0<=i&&(L="SegmentTimeline"===e.segmentInfoType&&F?L:i),r):null}function w(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},T(e,t,{keepIdx:!1,ignoreIsFinished:!0})}function E(e){var t,n;return e&&-1!==L?(j=null,I("Getting the next request at index: "+ ++L),h(e)?((t=new q["default"]).action=q["default"].ACTION_COMPLETE,t.index=L,t.mediaType=B,t.mediaInfo=V.getMediaInfo(),I("Signal complete.")):(g(e),t=b(n=(0,$.getSegmentByIndex)(L,e)),!n&&F&&L--),t):null}function S(e){var t=e.representation;t.segments&&x.trigger(Y["default"].REPRESENTATION_UPDATED,{sender:this,representation:t})}function P(e){if(!e.error&&B===e.mediaType){var t,n,r,i,o=e.segments,a=e.representation,s=[],u=0;for(t=0,n=o.length;t<n;t++)r=o[t],i=(0,$.getTimeBasedSegment)(k,F,a,r.startTime,r.duration,r.timescale,r.media,r.mediaRange,u),s.push(i),i=null,u++;a.segmentAvailabilityRange={start:s[0].presentationStartTime,end:s[n-1].presentationStartTime},a.availableSegmentsNumber=n,v(a,s),a.initialization&&x.trigger(Y["default"].REPRESENTATION_UPDATED,{sender:this,representation:a})}}var C=this.context,I=(0,Q["default"])(C).getInstance().log,x=(0,W["default"])(C).getInstance(),A=(0,X["default"])(C).getInstance(),O=t.segmentBaseLoader,k=t.timelineConverter,M=t.dashMetrics,R=t.metricsModel,D=t.baseURLController,N=void 0,L=void 0,j=void 0,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0;return N={initialize:n,getStreamProcessor:r,getInitRequest:p,getSegmentRequestForTime:T,getNextSegmentRequest:E,generateSegmentRequestForTime:w,updateRepresentation:y,setCurrentTime:i,getCurrentTime:o,getCurrentIndex:a,getEarliestTime:s,reset:u},e(),N}Object.defineProperty(n,"__esModule",{value:!0});var q=r(e(163)),G=r(e(162)),K=e(179),Y=r(e(13)),W=r(e(9)),o=r(e(10)),Q=r(e(8)),X=r(e(158)),$=e(35),J=r(e(34)),Z=1;i.__dashjs_factory_name="DashHandler";var a=o["default"].getClassFactory(i);a.SEGMENTS_UNAVAILABLE_ERROR_CODE=Z,n["default"]=a,t.exports=n["default"]},{10:10,13:13,158:158,162:162,163:163,179:179,34:34,35:35,8:8,9:9}],17:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e,t){var n;return null===(n=y(w.getValue().Period_asArray[t],e))?null:n.bandwidth}function t(e,t){return m(w.getValue().Period_asArray[t],e)}function n(e,t){return b(w.getValue().Period_asArray[t],e)}function r(e){return l(e,C.TRACK_SWITCH)}function i(e){return l(e,C.BUFFER_LEVEL)}function o(e){var t=i(e);return t?(0,I.round10)(t.level/1e3,-3):0}function a(e){return e.RequestsQueue}function s(e){if(null===e)return null;var t,n=e.HttpList,r=null;if(null===n||n.length<=0)return null;for(t=n.length-1;0<=t;){if(n[t].responsecode){r=n[t];break}t--}return r}function u(e){return null===e?[]:e.HttpList?e.HttpList:[]}function l(e,t){if(null===e)return null;var n=e[t];if(null===n)return null;var r=n.length;return r<=0?null:n[r-1]}function c(e){return l(e,C.DROPPED_FRAMES)}function f(e){return l(e,C.SCHEDULING_INFO)}function d(e){return l(e,C.MANIFEST_UPDATE)}function p(e){return l(e,C.DVR_INFO)}function h(e,t){var n,r,i,o={};if(null===e)return null;for(i=(n=u(e)).length-1;0<=i;i--)if((r=n[i]).type===E.HTTPRequest.MPD_TYPE){o=v(r._responseHeaders);break}return void 0===o[t]?null:o[t]}function g(e,t){if(null===e)return null;var n,r=s(e);return null===r||null===r._responseHeaders?null:void 0===(n=v(r._responseHeaders))[t]?null:n[t]}function v(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.indexOf(": ");0<a&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function m(e,t){var n=y(e,t,!0);return null!==n?n:-1}function y(e,t,n){var r,i,o,a,s;for(r=e.AdaptationSet_asArray,a=0;a<r.length;a+=1)for(o=r[a].Representation_asArray,s=0;s<o.length;s+=1)if(t===(i=o[s]).id)return n?s:i;return null}function _(e,t){return(0,P["default"])(T).getInstance().getIsTypeOf(e,t)}function b(e,t){var n,r,i,o;if(!e||!t)return-1;for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)if(i=(n=r[o]).Representation_asArray,_(n,t))return i.length;return-1}var T=this.context,w=(0,S["default"])(T).getInstance();return{getBandwidthForRepresentation:e,getIndexForRepresentation:t,getMaxIndexForBufferType:n,getCurrentRepresentationSwitch:r,getLatestBufferLevelVO:i,getCurrentBufferLevel:o,getCurrentHttpRequest:s,getHttpRequests:u,getCurrentDroppedFrames:c,getCurrentSchedulingInfo:f,getCurrentDVRInfo:p,getCurrentManifestUpdate:d,getLatestFragmentRequestHeaderValueByID:g,getLatestMPDRequestHeaderValueByID:h,getRequestsQueue:a}}Object.defineProperty(n,"__esModule",{value:!0});var E=e(179),S=i(e(100)),P=i(e(22)),a=i(e(10)),C=r(e(20)),I=e(7);o.__dashjs_factory_name="DashMetrics",n["default"]=a["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10,100:100,179:179,20:20,22:22,7:7}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){d=(0,g["default"])(r).getInstance(),P=(0,y["default"])(r).getInstance(),i=(0,a["default"])(r).getInstance()}function t(e){e.baseURLController&&(p=e.baseURLController)}function u(e,t){var n=!0,r=null,i=null,o=new XMLHttpRequest,a=p.resolve(e.path),s=t||{url:a?a.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:o};S("Start searching for initialization."),o.onload=function(){o.status<200||299<o.status||(n=!1,s.bytesLoaded=s.range.end,i=P.parse(o.response),(r=l(i))?(e.range=r,e.initialization=s.url,f.trigger(v["default"].INITIALIZATION_LOADED,{representation:e})):(s.range.end=s.bytesLoaded+s.bytesToLoad,u(e,s)))},o.onloadend=o.onerror=function(){n&&(n=!1,d.downloadError("initialization",s.url,o),f.trigger(v["default"].INITIALIZATION_LOADED,{representation:e}))},c(o,s),S("Perform init search: "+s.url)}function w(h,g,e,t,v){if(e&&(void 0===e.start||void 0===e.end)){var n=e?e.toString().split("-"):null;e=n?{start:parseFloat(n[0]),end:parseFloat(n[1])}:null}v=v||o;var m=!0,y=null,_=null,r=!!e,b=new XMLHttpRequest,i=p.resolve(h.path),T={url:i?i.url:void 0,range:r?e:{start:0,end:1500},searching:!r,bytesLoaded:t?t.bytesLoaded:0,bytesToLoad:1500,request:b};b.onload=function(){if(!(b.status<200||299<b.status)){var e=T.bytesToLoad,t=b.response.byteLength;if(m=!1,T.bytesLoaded=T.range.end-T.range.start,y=P.parse(b.response),(_=y.getBox("sidx"))&&_.isComplete){var n,r,i=_.references;if(null!=i&&0<i.length&&(n=1===i[0].reference_type),n){S("Initiate multiple SIDX load."),T.range.end=T.range.start+_.size;var o,a,s,u,l=[],c=0,f=(_.offset||T.range.start)+_.size,d=function(e){e?(l=l.concat(e),a<=++c&&v(l,h,g)):v(null,h,g)};for(o=0,a=i.length;o<a;o++)u=(s=f)+i[o].referenced_size-1,f+=i[o].referenced_size,w(h,null,{start:s,end:u},T,d)}else S("Parsing segments from SIDX."),r=E(_,T),v(r,h,g)}else{if(_)T.range.start=_.offset||T.range.start,T.range.end=T.range.start+(_.size||e);else{if(t<T.bytesLoaded)return void v(null,h,g);var p=y.getLastBox();p&&p.size?(T.range.start=p.offset+p.size,T.range.end=T.range.start+e):T.range.end+=e}w(h,g,T.range,T,v)}}},b.onloadend=b.onerror=function(){m&&(m=!1,d.downloadError("SIDX",T.url,b),v(null,h,g))},c(b,T),S("Perform SIDX load: "+T.url)}function n(){S=i=P=d=null}function E(e,t){for(var n,r,i,o,a=e.references,s=a.length,u=e.timescale,l=e.earliest_presentation_time,c=t.range.start+e.offset+e.first_offset+e.size,f=[],d=0;d<s;d++)i=a[d].subsegment_duration,o=a[d].referenced_size,(n=new h["default"]).duration=i,n.media=t.url,n.startTime=l,n.timescale=u,r=c+o-1,n.mediaRange=c+"-"+r,f.push(n),l+=i,c+=o;return f}function l(e){var t,n,r=e.getBox("ftyp"),i=e.getBox("moov"),o=null;return S("Searching for initialization."),i&&i.isComplete&&(t=r?r.offset:i.offset,n=i.offset+i.size-1,S("Found the initialization.  Range: "+(o=t+"-"+n))),o}function c(e,t){t.url&&(e.open("GET",i.modifyRequestURL(t.url)),e.responseType="arraybuffer",e.setRequestHeader("Range","bytes="+t.range.start+"-"+t.range.end),(e=i.modifyRequestHeader(e)).send(null))}function o(e,t,n){e?f.trigger(v["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):f.trigger(v["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new s["default"](null,"error loading segments",null)})}var r=this.context,S=(0,_["default"])(r).getInstance().log,f=(0,m["default"])(r).getInstance(),d=void 0,P=void 0,i=void 0,p=void 0;return{setConfig:t,initialize:e,loadInitialization:u,loadSegments:w,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(156)),h=r(e(46)),s=r(e(162)),g=r(e(151)),v=r(e(13)),m=r(e(9)),y=r(e(146)),o=r(e(10)),_=r(e(8));i.__dashjs_factory_name="SegmentBaseLoader",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,146:146,151:151,156:156,162:162,46:46,8:8,9:9}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){b={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}}}function t(){s=(0,P["default"])(y).getInstance(),u=(0,C["default"])(y).getInstance(),T=(0,O["default"])(y).create({errHandler:s,metricsModel:d,requestModifier:u})}function n(e){if(!e.baseURLController||!e.metricsModel)throw new Error("Missing config parameter(s)");h=e.baseURLController,d=e.metricsModel}function p(e){var t=[],n=void 0,r=void 0,i=void 0,o=(0,E["default"])(y).create({data:e}),a=void 0;for(o.consumeTag(b.Segment.Cues),r=o.getMatroskaCodedNum();o.moreData()&&o.consumeTagAndSize(b.Segment.Cues.CuePoint,!0);){for((n={}).CueTime=o.parseTag(b.Segment.Cues.CuePoint.CueTime),n.CueTracks=[];o.moreData()&&o.consumeTagAndSize(b.Segment.Cues.CuePoint.CueTrackPositions,!0);){if((i={}).Track=o.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=o.parseTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),o.getPos()+4>r||!o.consumeTag(b.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)||(a=o.getMatroskaCodedNum(),i.BlockNumber=o.getMatroskaUint(a)),n.CueTracks.push(i)}if(0===n.CueTracks.length)throw new Error("Mandatory cuetrack not found");t.push(n)}if(0===t.length)throw new Error("mandatory cuepoint not found");return t}function v(e,t,n,r,i){var o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,d=void 0;for(s=[],l=0,c=(a=p(e)).length;l<c;l+=1)u=new I["default"],o=0,o=l<a.length-1?a[l+1].CueTime-a[l].CueTime:i-a[l].CueTime,u.duration=o,u.media=t,u.startTime=a[l].CueTime,u.timescale=1e3,f=a[l].CueTracks[0].ClusterPosition+n,d=l<a.length-1?a[l+1].CueTracks[0].ClusterPosition+n-1:r-1,u.mediaRange=f+"-"+d,s.push(u);return _("Parsed cues: "+s.length+" cues."),s}function c(e,t,n,r){var i=(0,E["default"])(y).create({data:e}),o=void 0,a=void 0,s=n.split("-"),u=null,l={url:t,range:{start:parseFloat(s[0]),end:parseFloat(s[1])},request:u},c=void 0,f=void 0;for(_("Parse EBML header: "+l.url),i.skipOverElement(b.EBML),i.consumeTag(b.Segment),c=i.getMatroskaCodedNum(),c+=i.getPos(),f=i.getPos();i.moreData()&&!i.consumeTagAndSize(b.Segment.Info,!0);)if(!(i.skipOverElement(b.Segment.SeekHead,!0)||i.skipOverElement(b.Segment.Tracks,!0)||i.skipOverElement(b.Segment.Cues,!0)||i.skipOverElement(b.Void,!0)))throw new Error("no valid top level element found");for(;void 0===o;){var d=i.getMatroskaCodedNum(!0),p=i.getMatroskaCodedNum();switch(d){case b.Segment.Info.Duration.tag:o=i[b.Segment.Info.Duration.parse](p);break;default:i.setPos(i.getPos()+p)}}u=m(l);var h=function(e){a=v(e,l.url,f,c,o),r(a)},g=function(){_("Download Error: Cues "+l.url),r(null)};T.load({request:u,success:h,error:g}),_("Perform cues load: "+l.url+" bytes="+l.range.start+"-"+l.range.end)}function r(e,t){var n=null,r=h.resolve(e.path),i=r?r.url:void 0,o=e.range.split("-"),a=t||{range:{start:parseFloat(o[0]),end:parseFloat(o[1])},request:n,url:i,init:!0};_("Start loading initialization."),n=m(a);var s=function(){e.initialization=a.url,l.trigger(g["default"].INITIALIZATION_LOADED,{representation:e})},u=function(){l.trigger(g["default"].INITIALIZATION_LOADED,{representation:e})};T.load({request:n,success:s,error:u}),_("Perform init load: "+a.url)}function i(t,n,r,i){var e=null,o=h.resolve(t.path),a=o?o.url:void 0,s=8192;i=i||f,e=m({bytesLoaded:0,bytesToLoad:s,range:{start:0,end:s},request:e,url:a,init:!1}),_("Parsing ebml header");var u=function(e){c(e,a,r,function(e){i(e,t,n)})},l=function(){i(null,t,n)};T.load({request:e,success:u,error:l})}function f(e,t,n){e?l.trigger(g["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):l.trigger(g["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}function m(e){var t=new A["default"];return t.type=e.init?x.HTTPRequest.INIT_SEGMENT_TYPE:x.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}function o(){_=u=s=null}var y=this.context,_=(0,S["default"])(y).getInstance().log,l=(0,w["default"])(y).getInstance(),a=void 0,b=void 0,s=void 0,u=void 0,d=void 0,T=void 0,h=void 0;return a={setConfig:n,initialize:t,loadInitialization:r,loadSegments:i,reset:o},e(),a}Object.defineProperty(n,"__esModule",{value:!0});var g=r(e(13)),w=r(e(9)),E=r(e(150)),o=r(e(10)),S=r(e(8)),P=r(e(151)),C=r(e(156)),I=r(e(46)),x=e(179),A=r(e(163)),O=r(e(58));i.__dashjs_factory_name="WebmSegmentBaseLoader",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,150:150,151:151,156:156,163:163,179:179,46:46,58:58,8:8,9:9}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="TcpList";n.TCP_CONNECTION=r;var i="HttpList";n.HTTP_REQUEST=i;var o="RepSwitchList";n.TRACK_SWITCH=o;var a="BufferLevel";n.BUFFER_LEVEL=a;var s="BufferState";n.BUFFER_STATE=s;var u="DVRInfo";n.DVR_INFO=u;var l="DroppedFrames";n.DROPPED_FRAMES=l;var c="SchedulingInfo";n.SCHEDULING_INFO=c;var f="RequestsQueue";n.REQUESTS_QUEUE=f;var d="ManifestUpdate";n.MANIFEST_UPDATE=d;var p="ManifestUpdatePeriodInfo";n.MANIFEST_UPDATE_STREAM_INFO=p;var h="ManifestUpdateRepresentationInfo";n.MANIFEST_UPDATE_TRACK_INFO=h;var g="PlayList";n.PLAY_LIST=g;var v="DVBErrors";n.DVB_ERRORS=v},{}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){A=-1,O=!(x=null),k=[],D=(0,Y["default"])(P).getInstance(),L=(0,Q["default"])(P).getInstance(),j=(0,W["default"])(P).getInstance(),F=(0,X["default"])(P).getInstance(),B=(0,$["default"])(P).getInstance(),U=(0,Z["default"])(P).getInstance(),H=(0,K["default"])(P).getInstance(),V=(0,q["default"])(P).getInstance(),z=(0,G["default"])(P).getInstance(),(0,J["default"])(P).getInstance(),C.on(ne["default"].QUALITY_CHANGE_REQUESTED,E,I),C.on(ne["default"].REPRESENTATION_UPDATED,_,I),C.on(ne["default"].WALLCLOCK_TIME_UPDATED,b,I),C.on(ne["default"].BUFFER_LEVEL_UPDATED,w,I),C.on(ne["default"].LIVE_EDGE_SEARCH_COMPLETED,T,I)}function t(e){e.abrController&&(D=e.abrController)}function n(e){N=(R=e).getIndexHandler()}function r(){return R}function i(){return x}function o(){return A}function f(){return O}function d(){return M}function a(){C.off(ne["default"].QUALITY_CHANGE_REQUESTED,E,I),C.off(ne["default"].REPRESENTATION_UPDATED,_,I),C.off(ne["default"].WALLCLOCK_TIME_UPDATED,b,I),C.off(ne["default"].BUFFER_LEVEL_UPDATED,w,I),C.off(ne["default"].LIVE_EDGE_SEARCH_COMPLETED,T,I),A=-1,O=!(x=null),k=[],z=V=H=U=B=F=j=L=D=null}function s(e,t,n){var r,i=null,o=R.getStreamInfo(),a=D.getTopQualityIndexFor(n,o.id);if(O=!0,C.trigger(ne["default"].DATA_UPDATE_STARTED,{sender:this}),k=l(t),a<(r=null===x&&"fragmentedText"!==n?(i=D.getAverageThroughput(n)||D.getInitialBitrateFor(n,o),D.getQualityForBitrate(R.getMediaInfo(),i)):D.getQualityFor(n,o))&&(r=a),M=u(r),x=e,"video"!==n&&"audio"!==n&&"fragmentedText"!==n)return O=!1,void C.trigger(ne["default"].DATA_UPDATE_COMPLETED,{sender:this,data:x,currentRepresentation:M});for(var s=0;s<k.length;s++)N.updateRepresentation(k[s],!0)}function p(){var e=new Date,t=d(),n=1e3*j.getTime();B.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function h(){var e=H.calcSegmentAvailabilityRange(M,R.isDynamic());B.addDVRInfo(R.getType(),j.getTime(),R.getStreamInfo().manifestInfo,e)}function u(e){return k[e]}function g(e){return k.indexOf(e)}function v(){for(var e=0,t=k.length;e<t;e++){var n=k[e].segmentInfoType;if(null===k[e].segmentAvailabilityRange||null===k[e].initialization||("SegmentBase"===n||"BaseURL"===n)&&!k[e].segments)return!1}return!0}function l(e){var t=F.getValue();return A=V.getIndexForAdaptation(x,t,e.period.index),V.getRepresentationsForAdaptation(t,e)}function c(e){for(var t,n=0,r=k.length;n<r;n++)(t=k[n]).segmentAvailabilityRange=H.calcSegmentAvailabilityRange(t,e)}function m(){k.forEach(function(e){e.segmentAvailabilityRange=null})}function y(e){var t=e,n=function(){if(!f()){O=!0,C.trigger(ne["default"].DATA_UPDATE_STARTED,{sender:I}),m();for(var e=0;e<k.length;e++)N.updateRepresentation(k[e],!0)}};O=!1,C.trigger(ne["default"].AST_IN_FUTURE,{delay:t}),setTimeout(n,t)}function _(e){if(e.sender.getStreamProcessor()===R&&f()){var t,n,r=e.representation,i=B.getMetricsFor("stream"),o=B.getMetricsFor(d().adaptation.type),a=z.getCurrentManifestUpdate(i),s=!1,u=0;if("dynamic"===r.adaptation.period.mpd.manifest.type){var l=r.segmentAvailabilityRange.end-r.segmentAvailabilityRange.start;u=1e3*(j.computeLiveDelay(M.segmentDuration,R.getStreamInfo().manifestInfo.DVRWindowSize)-l)}if(0<u)return h(),y(u),n=new ee["default"](S,"Segments update failed",null),void C.trigger(ne["default"].DATA_UPDATE_COMPLETED,{sender:this,data:x,currentRepresentation:M,error:n});if(a){for(var c=0;c<a.trackInfo.length;c++)if((t=a.trackInfo[c]).index===r.index&&t.mediaType===R.getType()){s=!0;break}s||B.addManifestUpdateRepresentationInfo(a,r.id,r.index,r.adaptation.period.index,R.getType(),r.presentationTimeOffset,r.startNumber,r.segmentInfoType)}v()&&(O=!1,D.setPlaybackQuality(R.getType(),R.getStreamInfo(),g(M)),B.updateManifestUpdateInfo(a,{latency:M.segmentAvailabilityRange.end-j.getTime()}),z.getCurrentRepresentationSwitch(o)||p(),C.trigger(ne["default"].DATA_UPDATE_COMPLETED,{sender:this,data:x,currentRepresentation:M}))}}function b(e){e.isDynamic&&c(e.isDynamic)}function T(e){if(!e.error){c(!0),N.updateRepresentation(M,!1);var t=F.getValue(),n=M.adaptation.period,r=L.getActiveStreamInfo();r.isLast&&(n.mpd.checkTime=V.getCheckTime(t,n),n.duration=V.getEndTimeForLastPeriod(F.getValue(),n)-n.start,r.duration=n.duration)}}function w(e){e.sender.getStreamProcessor()===R&&h()}function E(e){e.mediaType===R.getType()&&R.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality&&(M=u(e.newQuality),U.setSavedBitrateSettings(e.mediaType,M.bandwidth),p())}var S=1,P=this.context,C=(0,te["default"])(P).getInstance(),I=void 0,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0;return I={initialize:n,setConfig:t,getData:i,getDataIndex:o,isUpdating:f,updateData:s,getStreamProcessor:r,getCurrentRepresentation:d,getRepresentationForQuality:u,reset:a},e(),I}Object.defineProperty(n,"__esModule",{value:!0});var q=r(e(22)),G=r(e(17)),K=r(e(37)),Y=r(e(60)),W=r(e(68)),Q=r(e(71)),X=r(e(100)),$=r(e(102)),J=r(e(101)),Z=r(e(149)),ee=r(e(162)),te=r(e(9)),ne=r(e(13)),o=r(e(10));i.__dashjs_factory_name="RepresentationController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,100:100,101:101,102:102,13:13,149:149,162:162,17:17,22:22,37:37,60:60,68:68,71:71,9:9}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function s(e,t){var n,r,i,o=!1,a=!1,s=e.ContentComponent_asArray,u="text"!==t?new RegExp(t):new RegExp("(vtt|ttml)");if(0<e.Representation_asArray.length&&e.Representation_asArray[0].hasOwnProperty("codecs")){var l=e.Representation_asArray[0].codecs;if("stpp"===l||"wvtt"===l)return"fragmentedText"===t}if(s){if(1<s.length)return"muxed"===t;s[0]&&s[0].contentType===t&&(a=o=!0)}if(e.hasOwnProperty("mimeType")&&(o=u.test(e.mimeType),a=!0),!a)for(n=0,r=e.Representation_asArray.length;!a&&n<r;)(i=e.Representation_asArray[n]).hasOwnProperty("mimeType")&&(o=u.test(i.mimeType),a=!0),n++;return o}function u(e){return s(e,"audio")}function l(e){return s(e,"video")}function c(e){return s(e,"fragmentedText")}function e(e){return s(e,"text")}function f(e){return s(e,"muxed")}function d(e){return"text/vtt"===e||"application/ttml+xml"===e}function t(e){var t="";return e.hasOwnProperty("lang")&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t}function n(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null}function r(e){return e.hasOwnProperty(
"Role_asArray")?e.Role_asArray:[]}function i(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]}function o(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]}function p(e){return r(e).filter(function(e){return"main"===e.value})[0]}function a(){return function(e,t){return e.bandwidth-t.bandwidth}}function h(e){return void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(a()),e}function g(e,t,n){var r,i,o=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=o.length;r<i;r++)if(o[r].hasOwnProperty("id")&&o[r].id===e)return o[r];return null}function v(e,t,n){return t.Period_asArray[n].AdaptationSet_asArray[e]}function m(e,t,n){var r,i,o=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=o.length;r<i;r++)if(o[r]===e)return r;return-1}function y(e,t,n){var r,i,o=e.Period_asArray[t].AdaptationSet_asArray,a=[];for(r=0,i=o.length;r<i;r++)s(o[r],n)&&a.push(h(o[r]));return a}function _(e,t,n,r){var i=y(e,t,n);if(!i||0===i.length)return null;if(1<i.length&&r)for(var o=J.getCurrentTrackFor(n,r),a=Z.getAllMediaInfoForType(e,r,n),s=0,u=i.length;s<u;s++){if(o&&J.isTracksEqual(o,a[s]))return i[s];if(p(i[s]))return i[s]}return i[0]}function b(e){var t=e.Representation_asArray[0];return t.mimeType+';codecs="'+t.codecs+'"'}function T(e){return e.Representation_asArray[0].mimeType}function w(e){return e&&e.hasOwnProperty("cenc:default_KID")?e["cenc:default_KID"]:null}function E(e){return e&&e.hasOwnProperty("ContentProtection_asArray")&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null}function S(e){var t=!1;return e.hasOwnProperty("type")&&(t="dynamic"===e.type),t}function P(e){var t,n=S(e);return t=!isNaN(e.timeShiftBufferDepth),n&&t}function C(e,t){var n=!1;return e.profiles&&0<e.profiles.length&&(n=-1!==e.profiles.indexOf(t)),n}function I(e){return C(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")}function x(e){return C(e,"urn:dvb:dash:profile:dvb-dash:2014")}function A(e){return e.hasOwnProperty("mediaPresentationDuration")?e.mediaPresentationDuration:Number.MAX_VALUE}function O(e){return e.bandwidth}function k(e){var t=NaN,n=2;return e.hasOwnProperty("minimumUpdatePeriod")&&(t=Math.max(parseFloat(e.minimumUpdatePeriod),n)),t}function M(e){return e.Representation_asArray.length}function R(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;for(var t=h(e).Representation_asArray,n=t.length,r=[],i=0;i<n;i++)r.push({bandwidth:t[i].bandwidth,width:t[i].width||0,height:t[i].height||0});return r}function D(e,t){return t.Representation_asArray[e]}function N(e,t){for(var n,r,i,o,a,s=h(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]),u=[],l=0;l<s.Representation_asArray.length;l++)o=s.Representation_asArray[l],(n=new te["default"]).index=l,n.adaptation=t,o.hasOwnProperty("id")&&(n.id=o.id),o.hasOwnProperty("bandwidth")&&(n.bandwidth=o.bandwidth),o.hasOwnProperty("maxPlayoutRate")&&(n.maxPlayoutRate=o.maxPlayoutRate),o.hasOwnProperty("SegmentBase")?(i=o.SegmentBase,n.segmentInfoType="SegmentBase"):o.hasOwnProperty("SegmentList")?(i=o.SegmentList).hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",(!(a=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1]).hasOwnProperty("r")||0<=a.r)&&(n.useCalculatedLiveEdgeTime=!0)):(n.segmentInfoType="SegmentList",n.useCalculatedLiveEdgeTime=!0):o.hasOwnProperty("SegmentTemplate")?((i=o.SegmentTemplate).hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",(!(a=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1]).hasOwnProperty("r")||0<=a.r)&&(n.useCalculatedLiveEdgeTime=!0)):n.segmentInfoType="SegmentTemplate",i.hasOwnProperty("initialization")&&(n.initialization=i.initialization.split("$Bandwidth$").join(o.bandwidth).split("$RepresentationID$").join(o.id))):(i=o.BaseURL,n.segmentInfoType="BaseURL"),i.hasOwnProperty("Initialization")?(r=i.Initialization).hasOwnProperty("sourceURL")?n.initialization=r.sourceURL:r.hasOwnProperty("range")&&(n.range=r.range):o.hasOwnProperty("mimeType")&&d(o.mimeType)&&(n.range=0),i.hasOwnProperty("timescale")&&(n.timescale=i.timescale),i.hasOwnProperty("duration")&&(n.segmentDuration=i.duration/n.timescale),i.hasOwnProperty("startNumber")&&(n.startNumber=i.startNumber),i.hasOwnProperty("indexRange")&&(n.indexRange=i.indexRange),i.hasOwnProperty("presentationTimeOffset")&&(n.presentationTimeOffset=i.presentationTimeOffset/n.timescale),n.MSETimeOffset=$.calcMSETimeOffset(n),n.path=[t.period.index,t.index,l],u.push(n);return u}function L(e,t){for(var n,r,i=e.Period_asArray[t.index],o=[],a=0;a<i.AdaptationSet_asArray.length;a++)r=i.AdaptationSet_asArray[a],n=new ne["default"],r.hasOwnProperty("id")&&(n.id=r.id),n.index=a,n.period=t,f(r)?n.type="muxed":u(r)?n.type="audio":l(r)?n.type="video":c(r)?n.type="fragmentedText":n.type="text",o.push(n);return o}function j(e,t){var n,r,i=S(e),o=[],a=null,s=null,u=null,l=null;for(r=0,n=e.Period_asArray.length;r<n;r++)(s=e.Period_asArray[r]).hasOwnProperty("start")?(l=new re["default"]).start=s.start:null!==a&&s.hasOwnProperty("duration")&&null!==u?((l=new re["default"]).start=u.start+u.duration,l.duration=s.duration):0!==r||i||((l=new re["default"]).start=0),null!==u&&isNaN(u.duration)&&(u.duration=l.start-u.start),null!==l&&(l.id=F(s)),null!==l&&s.hasOwnProperty("duration")&&(l.duration=s.duration),null!==l&&(l.index=r,l.mpd=t,o.push(l),a=s,u=l),l=s=null;return 0===o.length||null!==u&&isNaN(u.duration)&&(u.duration=V(e,u)-u.start),o}function F(e){if(!e)throw new Error("Period cannot be null or undefined");var t=re["default"].DEFAULT_ID;return e.hasOwnProperty("id")&&"__proto__"!==e.id&&(t=e.id),t}function B(e){var t=new ie["default"];return(t.manifest=e).hasOwnProperty("availabilityStartTime")?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("suggestedPresentationDelay")&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty("timeShiftBufferDepth")&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(t.maxSegmentDuration=e.maxSegmentDuration),t}function U(e,t){return $.calcPresentationTimeFromWallTime(e.loadedTime,t)}function H(e,t){var n=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(n=U(e,t)+e.minimumUpdatePeriod),n}function V(e,t){var n,r=H(e,t);if(e.mediaPresentationDuration)n=e.mediaPresentationDuration;else{if(isNaN(r))throw new Error("Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.");n=r}return n}function z(e,t){var n=e.Period_asArray[t.index].EventStream_asArray,r=[];if(n)for(var i=0;i<n.length;i++){var o=new fe["default"];if(o.period=t,o.timescale=1,!n[i].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=n[i].schemeIdUri,n[i].hasOwnProperty("timescale")&&(o.timescale=n[i].timescale),n[i].hasOwnProperty("value")&&(o.value=n[i].value);for(var a=0;a<n[i].Event_asArray.length;a++){var s=new le["default"];s.presentationTime=0,s.eventStream=o,n[i].Event_asArray[a].hasOwnProperty("presentationTime")&&(s.presentationTime=n[i].Event_asArray[a].presentationTime),n[i].Event_asArray[a].hasOwnProperty("duration")&&(s.duration=n[i].Event_asArray[a].duration),n[i].Event_asArray[a].hasOwnProperty("id")&&(s.id=n[i].Event_asArray[a].id),r.push(s)}}return r}function q(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=new fe["default"];if(i.timescale=1,i.representation=t,!e[r].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty("timescale")&&(i.timescale=e[r].timescale),e[r].hasOwnProperty("value")&&(i.value=e[r].value),n.push(i)}return n}function G(e,t){return q(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray,null)}function K(e,t){return q(e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray,t)}function Y(e){var t=S(e),n=e.hasOwnProperty("availabilityStartTime"),r=e.UTCTiming_asArray,i=[];return(t||n)&&r&&r.forEach(function(e){var t=new oe["default"];e.hasOwnProperty("schemeIdUri")&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value.toString(),i.push(t)))}),i}function W(r){var i=[],e=r.BaseURL_asArray||[r.baseUri],o=!1;return e.some(function(e){if(e){var t=new ce["default"],n=e.__text||e;return ee.isRelative(n)&&(o=!0,r.baseUri&&(n=r.baseUri+n)),t.url=n,e.hasOwnProperty("serviceLocation")&&e.serviceLocation.length?t.serviceLocation=e.serviceLocation:t.serviceLocation=n,e.hasOwnProperty("dvb:priority")&&(t.dvb_priority=e["dvb:priority"]),e.hasOwnProperty("dvb:weight")&&(t.dvb_weight=e["dvb:weight"]),i.push(t),o}}),i}function Q(e){return e.hasOwnProperty("Location")&&(e.Location=e.Location_asArray[0]),e.Location}var X=this.context,$=(0,ae["default"])(X).getInstance(),J=(0,se["default"])(X).getInstance(),Z=(0,ue["default"])(X).getInstance(),ee=(0,de["default"])(X).getInstance();return{getIsTypeOf:s,getIsAudio:u,getIsVideo:l,getIsText:e,getIsMuxed:f,getIsTextTrack:d,getIsFragmentedText:c,getIsMain:p,getLanguageForAdaptation:t,getViewpointForAdaptation:n,getRolesForAdaptation:r,getAccessibilityForAdaptation:i,getAudioChannelConfigurationForAdaptation:o,processAdaptation:h,getAdaptationForIndex:v,getIndexForAdaptation:m,getAdaptationForId:g,getAdaptationsForType:y,getAdaptationForType:_,getCodec:b,getMimeType:T,getKID:w,getContentProtectionData:E,getIsDynamic:S,getIsDVR:P,getIsOnDemand:I,getIsDVB:x,getDuration:A,getBandwidth:O,getRefreshDelay:k,getRepresentationCount:M,getBitrateListForAdaptation:R,getRepresentationFor:D,getRepresentationsForAdaptation:N,getAdaptationsForPeriod:L,getRegularPeriods:j,getPeriodId:F,getMpd:B,getFetchTime:U,getCheckTime:H,getEndTimeForLastPeriod:V,getEventsForPeriod:z,getEventStreams:q,getEventStreamForAdaptationSet:G,getEventStreamForRepresentation:K,getUTCTimingSources:Y,getBaseURLsFromElement:W,getRepresentationSortFunction:a,getLocation:Q}}Object.defineProperty(n,"__esModule",{value:!0});var te=r(e(45)),ne=r(e(39)),re=r(e(44)),ie=r(e(43)),oe=r(e(47)),ae=r(e(37)),se=r(e(66)),ue=r(e(15)),le=r(e(41)),ce=r(e(40)),fe=r(e(42)),de=r(e(158)),o=r(e(10));i.__dashjs_factory_name="DashManifestModel",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,15:15,158:158,37:37,39:39,40:40,41:41,42:42,43:43,44:44,45:45,47:47,66:66}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){u=[new g["default"],new v["default"],new m["default"]],l=new h["default"](u,"",!0),c=new p["default"]([new y["default"],new _["default"]])}function t(e,t){var n;try{var r=window.performance.now();if(!(n=l.xml_str2json(e)))throw new Error("parser error");var i=window.performance.now();c.run(n);var o=window.performance.now();t.setMatchers(u),t.setIron(c),a("Parsing complete: ( xml2json: "+(i-r).toPrecision(3)+"ms, objectiron: "+(o-i).toPrecision(3)+"ms, total: "+((o-r)/1e3).toPrecision(3)+"s)")}catch(d){return s.manifestError("parsing the manifest failed","parse",e,d),null}return n}var n=this.context,a=(0,f["default"])(n).getInstance().log,s=(0,o["default"])(n).getInstance(),r=void 0,u=void 0,l=void 0,c=void 0;return r={parse:t},e(),r}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(151)),a=r(e(10)),f=r(e(8)),d=e(3),p=r(d),h=r(e(4)),g=r(e(30)),v=r(e(29)),m=r(e(31)),y=r(e(26)),_=r(e(27));i.__dashjs_factory_name="DashParser",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,151:151,26:26,27:27,29:29,3:3,30:30,31:31,4:4,8:8}],24:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r=function(){function r(e,t){i(this,r);var n=function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()};this._name=e,this._merge=void 0!==t?t:n(e)}return o(r,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),r}();n["default"]=r,t.exports=n["default"]},{}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=r(e(24)),o=function(){function a(e,t,n,r,i){var o=this;s(this,a),this._name=e||"",this._properties=[],this._children=n||[],this._isRoot=r||!1,this._isArray=i||!0,Array.isArray(t)&&t.forEach(function(e){o._properties.push(new u["default"](e))})}return i(a,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),a}();n["default"]=o,t.exports=n["default"]},{24:24}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(25)),u=function(){function t(){i(this,t);var e=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"];return a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"AdaptationSet",e,[new s["default"]("Representation",e,[new s["default"]("SubRepresentation",e)])])}return o(t,s["default"]),t}();n["default"]=u,t.exports=n["default"]},{25:25}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(25)),u=function(){function t(){i(this,t);var e=["SegmentBase","SegmentTemplate","SegmentList"];return a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,"Period",e,[new s["default"]("AdaptationSet",e,[new s["default"]("Representation",e)])])}return o(t,s["default"]),t}();n["default"]=u,t.exports=n["default"]},{25:25}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function n(e,t){r(this,n),this._test=e,this._converter=t}return i(n,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),n}();n["default"]=o,t.exports=n["default"]},{}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(28)),u=60,l=60,c=1e3,f=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,d=function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,function(e){return f.test(e.value)},function(e){var t=f.exec(e),n=void 0;if(n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*c||0),t[9]&&t[10]){var r=parseInt(t[9],10)*l+parseInt(t[10],10);n+=("+"===t[8]?-1:1)*r*u*c}return new Date(n)})}return o(e,s["default"]),e}();n["default"]=d,t.exports=n["default"]},{28:28}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(28)),u=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=31536e3,c=2592e3,f=86400,d=3600,p=60,h=function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,function(e){for(var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return u.test(e.value);return!1},function(e){var t=u.exec(e),n=parseFloat(t[2]||0)*l+parseFloat(t[4]||0)*c+parseFloat(t[6]||0)*f+parseFloat(t[8]||0)*d+parseFloat(t[10]||0)*p+parseFloat(t[12]||0);return void 0!==t[1]&&(n=-n),n})}return o(e,s["default"]),e}();n["default"]=h,t.exports=n["default"]},{28:28}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(28)),u=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,l=function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,function(e){return u.test(e.value)},function(e){return parseFloat(e)})}return o(e,s["default"]),e}();n["default"]=l,t.exports=n["default"]},{28:28}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.boxParser&&(v=e.boxParser)}function t(e){var t,n,r,i,o,a,s,u,l,c,f=v.parse(e),d=f.getBox("tfhd"),p=f.getBox("tfdt"),h=f.getBox("trun"),g=f.getBox("moof");for(c=f.getBox("mfhd").sequence_number,r=h.sample_count,o=p.baseMediaDecodeTime,l=(d.base_data_offset||0)+(h.data_offset||0),a=[],u=0;u<r;u++)t=void 0!==(s=h.samples[u]).sample_duration?s.sample_duration:d.default_sample_duration,i=void 0!==s.sample_size?s.sample_size:d.default_sample_size,n=void 0!==s.sample_composition_time_offset?s.sample_composition_time_offset:0,a.push({dts:o,cts:o+n,duration:t,offset:g.offset+l,size:i}),l+=i,o+=t;return{sampleList:a,sequenceNumber:c,totalDuration:o-p.baseMediaDecodeTime}}function n(e){var t=v.parse(e).getBox("mdhd");return t?t.timescale:NaN}var v=void 0;return{getSamplesInfo:t,getMediaTimescaleFromMoov:n,setConfig:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="FragmentedTextBoxParser",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,h){function t(e,t,n,r){var i,o,a,s,u,l,c,f=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,d=f.SegmentURL_asArray.length,p=[];for(c=e.startNumber,s=(0,v.decideSegmentListRangeForTemplate)(g,h,e,t,n,r),u=Math.max(s.start,0),l=Math.min(s.end,f.SegmentURL_asArray.length-1),i=u;i<=l;i++)a=f.SegmentURL_asArray[i],(o=(0,v.getIndexBasedSegment)(g,h,e,i)).replacementTime=(c+i-1)*e.segmentDuration,o.media=a.media?a.media:"",o.mediaRange=a.mediaRange,o.index=a.index,o.indexRange=a.indexRange,p.push(o),o=null;return e.availableSegmentsNumber=d,p}var g=e.timelineConverter;return{getSegments:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),v=e(35);i.__dashjs_factory_name="ListSegmentsGetter";var a=o["default"].getClassFactory(i);n["default"]=a,t.exports=n["default"]},{10:10,35:35}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(){u=(0,a["default"])(i).create(e,t),l=(0,f["default"])(i).create(e,t),c=(0,d["default"])(i).create(e,t)}function r(e,t,n,r,i){var o,a=e.segmentInfoType;return"SegmentBase"!==a&&"BaseURL"!==a&&s(e,n)?("SegmentTimeline"===a?o=u.getSegments(e,t,n,i):"SegmentTemplate"===a?o=l.getSegments(e,t,n,i):"SegmentList"===a&&(o=c.getSegments(e,t,n,i)),r&&r(e,o)):o=e.segments,o}function s(e,t){var n,r,i=e.segments;return!i||0===i.length||(r=i[0].availabilityIdx,n=i[i.length-1].availabilityIdx,t<r||n<t)}var i=this.context,o=void 0,u=void 0,l=void 0,c=void 0;return o={getSegments:r},n(),o}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(38)),f=r(e(36)),d=r(e(33));i.__dashjs_factory_name="SegmentsGetter";var s=o["default"].getClassFactory(i);n["default"]=s,t.exports=n["default"]},{10:10,33:33,36:36,38:38}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){for(;e.length<t;)e="0"+e;return e}function h(e,t){return e.representation.startNumber+t}function g(e,t,n){for(var r,i,o,a,s,u,l="%0",c=t.length,f=l.length;;){if((r=e.indexOf("$"+t))<0)return e;if((i=e.indexOf("$",r+c))<0)return e;if(r<(o=e.indexOf(l,r+c))&&o<i)switch(a=e.charAt(i-1),s=parseInt(e.substring(o+f,i-1),10),a){case"d":case"i":case"u":u=d(n.toString(),s);break;case"x":u=d(n.toString(16),s);break;case"X":u=d(n.toString(16),s).toUpperCase();break;case"o":u=d(n.toString(8),s);break;default:return e}else u=n;e=e.substring(0,r)+u+e.substring(i+1)}}function i(e,t,n,r){var i,o,a,s;return o=n.segmentDuration,isNaN(o)&&(o=n.adaptation.period.duration),s=(a=n.adaptation.period.start+r*o)+o,(i=new v["default"]).representation=n,i.duration=o,i.presentationStartTime=a,i.mediaStartTime=e.calcMediaTimeFromPresentationTime(i.presentationStartTime,n),i.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(i.presentationStartTime,n.adaptation.period.mpd,t),i.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(s,n.adaptation.period.mpd,t),i.wallStartTime=e.calcWallTimeForSegment(i,t),i.replacementNumber=h(i,r),i.availabilityIdx=r,i}function o(e,t,n,r,i,o,a,s,u){var l,c,f,d=r/o,p=Math.min(i/o,n.adaptation.period.mpd.maxSegmentDuration);return c=(l=e.calcPresentationTimeFromMediaTime(d,n))+p,(f=new v["default"]).representation=n,f.duration=p,f.mediaStartTime=d,f.presentationStartTime=l,f.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,f.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(c,n.adaptation.period.mpd,t),f.wallStartTime=e.calcWallTimeForSegment(f,t),f.replacementTime=r,f.replacementNumber=h(f,u),a=g(a=g(a,"Number",f.replacementNumber),"Time",f.replacementTime),f.media=a,f.mediaRange=s,f.availabilityIdx=u,f}function m(e,t){if(!t||!t.segments)return null;var n,r,i=t.segments.length;if(e<i&&((n=t.segments[e])&&n.availabilityIdx===e))return n;for(r=0;r<i;r++)if((n=t.segments[r])&&n.availabilityIdx===e)return n;return null}function a(e,t,n,r,i){var o=2,a=i||10,s=0,u=Number.POSITIVE_INFINITY;return t&&!e.isTimeSyncCompleted()?{start:s,end:u}:!t&&n||r<0?null:{start:Math.max(r-o,s),end:Math.min(r+a,u)}}function s(e,t,n,r,i,o){var a,s,u=n.segmentDuration,l=n.adaptation.period.mpd.manifest.minBufferTime,c=n.segmentAvailabilityRange,f={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,c.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,c.end)},d=n.segments,p=2*u,h=o||Math.max(2*l,10*u),g=NaN,v=null;return f.start=Math.max(f.start,0),s=t&&!e.isTimeSyncCompleted()?(a=Math.floor(f.start/u),Math.floor(f.end/u)):(g=d&&0<d.length?(v=m(i,n))?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,v.presentationStartTime):0<i?i*u:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r):0<i?i*u:t?f.end:f.start,a=Math.floor(Math.max(g-p,f.start)/u),Math.floor(Math.min(a+h/u,f.end/u))),{start:a,end:s}}Object.defineProperty(n,"__esModule",{value:!0}),n.replaceTokenForTemplate=g,n.getIndexBasedSegment=i,n.getTimeBasedSegment=o,n.getSegmentByIndex=m,n.decideSegmentListRangeForTimeline=a,n.decideSegmentListRangeForTemplate=s;var v=r(e(46))},{46:46}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,g){function t(e,t,n,r){var i,o,a,s,u,l=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,c=e.segmentDuration,f=e.segmentAvailabilityRange,d=[],p=null,h=null;for(u=e.startNumber,a=(i=isNaN(c)&&!g?{start:u,end:u}:(0,m.decideSegmentListRangeForTemplate)(v,g,e,t,n,r)).start,s=i.end,o=a;o<=s;o++)(h=(0,m.getIndexBasedSegment)(v,g,e,o)).replacementTime=(u+o-1)*e.segmentDuration,p=l.media,p=(0,m.replaceTokenForTemplate)(p,"Number",h.replacementNumber),p=(0,m.replaceTokenForTemplate)(p,"Time",h.replacementTime),h.media=p,d.push(h),h=null;return isNaN(c)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((f.end-f.start)/c),d}var v=e.timelineConverter;return{getSegments:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),m=e(35);i.__dashjs_factory_name="TemplateSegmentsGetter";var a=o["default"].getClassFactory(i);n["default"]=a,t.exports=n["default"]},{10:10,35:35}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){w=0,E=!1,S=NaN,T.on(C["default"].LIVE_EDGE_SEARCH_COMPLETED,v,this),T.on(C["default"].TIME_SYNCHRONIZATION_COMPLETED,m,this)}function t(){return E}function n(e){E=e}function r(){return w}function i(){return S}function o(e){S=e}function a(e,t,n,r){NaN;return r?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-w)):t.availabilityStartTime}function s(e,t,n){return a.call(this,e,t,n)}function u(e,t,n){return a.call(this,e,t,n,!0)}function c(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*w)/1e3}function l(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)}function f(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset}function d(e,t){var n,r,i;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i}function p(e,t){var n,r,i=e.adaptation.period.start,o=i+e.adaptation.period.duration,a={start:i,end:o},s=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);if(!t)return a;if(!E&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;n=e.adaptation.period.mpd.checkTime,r=c(new Date,e.adaptation.period),i=Math.max(r-e.adaptation.period.mpd.timeShiftBufferDepth,e.adaptation.period.start);var u=isNaN(n)?r:Math.min(n,r),l=e.adaptation.period.start+e.adaptation.period.duration;return{start:i,end:o=(l<=u&&u-s<l?l:u)-s}}function h(e,t){return t-e.adaptation.period.start}function g(e,t){return t+e.adaptation.period.start}function v(e){E||e.error||(w+=e.liveEdge-(S+e.searchTime),E=!0)}function m(e){E||e.error||(w=e.offset/1e3,E=!0)}function y(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t}function _(){T.off(C["default"].LIVE_EDGE_SEARCH_COMPLETED,v,this),T.off(C["default"].TIME_SYNCHRONIZATION_COMPLETED,m,this),w=0,E=!1,S=NaN}var b=this.context,T=(0,P["default"])(b).getInstance(),w=void 0,E=void 0,S=void 0;return{initialize:e,isTimeSyncCompleted:t,setTimeSyncCompleted:n,getClientTimeOffset:r,getExpectedLiveEdge:i,setExpectedLiveEdge:o,calcAvailabilityStartTimeFromPresentationTime:s,calcAvailabilityEndTimeFromPresentationTime:u,calcPresentationTimeFromWallTime:c,calcPresentationTimeFromMediaTime:l,calcPeriodRelativeTimeFromMpdRelativeTime:h,calcMpdRelativeTimeFromPeriodRelativeTime:g,calcMediaTimeFromPresentationTime:f,calcSegmentAvailabilityRange:p,calcWallTimeForSegment:d,calcMSETimeOffset:y,reset:_}}Object.defineProperty(n,"__esModule",{value:!0});var P=r(e(9)),C=r(e(13)),o=r(e(10));i.__dashjs_factory_name="TimelineConverter",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,O){function t(i,e,t,n){var r,o,a,s,u,l,c,f,d,p,h,g,v,m,y=i.adaptation.period.mpd.manifest.Period_asArray[i.adaptation.period.index].AdaptationSet_asArray[i.adaptation.index].Representation_asArray[i.index].SegmentTemplate||i.adaptation.period.mpd.manifest.Period_asArray[i.adaptation.period.index].AdaptationSet_asArray[i.adaptation.index].Representation_asArray[i.index].SegmentList,_=y.SegmentTimeline,b=y.SegmentURL_asArray,T=0<i.availableSegmentsNumber,w=10,E=0,S=0,P=-1,C=[],I=!1,x=function(e,t){var n=y.media,r=e.mediaRange;return b&&(n=b[t].media||"",r=b[t].mediaRange),(0,M.getTimeBasedSegment)(k,O,i,E,e.d,m,n,r,P)};for(m=i.timescale,r=_.S_asArray,(d=(0,M.decideSegmentListRangeForTimeline)(k,O,e,t,n))?(g=d.start,v=d.end):h=k.calcMediaTimeFromPresentationTime(e||0,i),a=0,s=r.length;a<s;a++){if(l=0,(o=r[a]).hasOwnProperty("r")&&(l=o.r),o.hasOwnProperty("t")&&(S=(E=o.t)/m),l<0){if((f=r[a+1]
)&&f.hasOwnProperty("t"))c=f.t/m;else{var A=i.segmentAvailabilityRange?i.segmentAvailabilityRange.end:k.calcSegmentAvailabilityRange(i,O).end;c=k.calcMediaTimeFromPresentationTime(A,i),i.segmentDuration=o.d/m}l=Math.ceil((c-S)/(o.d/m))-1}if(p){if(T)break;P+=l+1}else for(u=0;u<=l;u++){if(P++,d){if(v<P){if(p=!0,T)break;continue}g<=P&&C.push(x(o,P))}else{if(C.length>w){if(p=!0,T)break;continue}I?C.push(x(o,P)):S>=h-o.d/m*1.5&&(I=!0,C.push(x(o,P)))}S=(E+=o.d)/m}}return T||(i.availableSegmentsNumber=P+1),C}var k=e.timelineConverter;return{getSegments:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),M=e(35);i.__dashjs_factory_name="TimelineSegmentsGetter";var a=o["default"].getClassFactory(i);n["default"]=a,t.exports=n["default"]},{10:10,35:35}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.period=null,this.index=-1,this.type=null};n["default"]=i,t.exports=n["default"]},{}],40:[function(i,e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=1,s=1,n=function i(e,t,n,r){o(this,i),this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=n||a,this.dvb_weight=r||s};n.DEFAULT_DVB_PRIORITY=a,n.DEFAULT_DVB_WEIGHT=s,t["default"]=n,e.exports=t["default"]},{}],41:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};n["default"]=i,t.exports=n["default"]},{}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};n["default"]=i,t.exports=n["default"]},{}],43:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.checkTime=NaN,this.clientServerTimeShift=0,this.isClientServerTimeSyncCompleted=!1};n["default"]=i,t.exports=n["default"]},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};i.DEFAULT_ID="defaultId",n["default"]=i,t.exports=n["default"]},{}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN};n["default"]=i,t.exports=n["default"]},{}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};n["default"]=i,t.exports=n["default"]},{}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.schemeIdUri="",this.value=""};n["default"]=i,t.exports=n["default"]},{}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){l=(0,c["default"])(a).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(t){var e=function(e){s.trigger(h["default"].CHECK_FOR_EXISTENCE_COMPLETED,{request:t,exists:e})};if(t){var n=new f["default"](t.url);l.load({request:n,success:function(){e(!0)},error:function(){e(!1)}})}else e(!1)}function r(n){var r=function(e,t){s.trigger(h["default"].LOADING_COMPLETED,{request:n,response:e||null,error:t||null,sender:u})};n?l.load({request:n,progress:function(){s.trigger(h["default"].LOADING_PROGRESS,{request:n})},success:function(e){r(e)},error:function(e,t,n){r(void 0,new d["default"](g,n,t))}}):r(void 0,new d["default"](v,m))}function i(){l&&l.abort()}function o(){l&&(l.abort(),l=null)}var a=this.context,s=(0,p["default"])(a).getInstance(),u=void 0,l=void 0;return u={checkForExistence:n,load:r,abort:i,reset:o},t(),u}Object.defineProperty(n,"__esModule",{value:!0});var c=r(e(58)),f=r(e(164)),d=r(e(162)),p=r(e(9)),h=r(e(13)),o=r(e(10)),g=1,v=2,m="request is null";i.__dashjs_factory_name="FragmentLoader";var a=o["default"].getClassFactory(i);a.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=g,a.FRAGMENT_LOADER_ERROR_NULL_REQUEST=v,n["default"]=a,t.exports=n["default"]},{10:10,13:13,162:162,164:164,58:58,9:9}],49:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){s.on(_["default"].XLINK_READY,n,a),c=(0,p["default"])(o).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),f=(0,d["default"])(o).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){s.trigger(_["default"].INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function r(a){var e=new g["default"](a,m.HTTPRequest.MPD_TYPE);c.load({request:e,success:function(e,t,n){var r,i;n.responseURL&&n.responseURL!==a?(i=u.parseBaseUrl(n.responseURL),r=n.responseURL):(u.isRelative(a)&&(a=u.parseBaseUrl(window.location.href)+a),i=u.parseBaseUrl(a));var o=l.parse(e,f);o?(o.url=r||a,o.originalUrl||(o.originalUrl=o.url),o.baseUri=i,o.loadedTime=new Date,f.resolveManifestOnLoad(o)):s.trigger(_["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v["default"](b,w)})},error:function(e,t,n){s.trigger(_["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v["default"](T,"Failed loading manifest: "+a+", "+n)})}})}function i(){s.off(_["default"].XLINK_READY,n,a),f&&(f.reset(),f=null),c&&(c.abort(),c=null)}var o=this.context,s=(0,y["default"])(o).getInstance(),u=(0,h["default"])(o).getInstance(),l=e.parser,a=void 0,c=void 0,f=void 0;return a={load:r,reset:i},t(),a}Object.defineProperty(n,"__esModule",{value:!0});var d=r(e(74)),p=r(e(58)),h=r(e(158)),g=r(e(170)),v=r(e(162)),m=e(179),y=r(e(9)),_=r(e(13)),o=r(e(10)),b=1,T=2,w="parsing failed";i.__dashjs_factory_name="ManifestLoader";var a=o["default"].getClassFactory(i);a.MANIFEST_LOADER_ERROR_PARSING_FAILURE=b,a.MANIFEST_LOADER_ERROR_LOADING_FAILURE=T,n["default"]=a,t.exports=n["default"]},{10:10,13:13,158:158,162:162,170:170,179:179,58:58,74:74,9:9}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&(e.manifestModel&&(T=e.manifestModel),e.dashManifestModel&&(w=e.dashManifestModel))}function t(e){b=e,v=NaN,m=null,y=!(_=!1),g.on(S["default"].STREAMS_COMPOSED,d,this),g.on(S["default"].PLAYBACK_STARTED,c,this),g.on(S["default"].PLAYBACK_PAUSED,f,this),g.on(S["default"].INTERNAL_MANIFEST_LOADED,l,this)}function n(e){s(e)}function r(){return b}function i(){g.off(S["default"].PLAYBACK_STARTED,c,this),g.off(S["default"].PLAYBACK_PAUSED,f,this),g.off(S["default"].STREAMS_COMPOSED,d,this),g.off(S["default"].INTERNAL_MANIFEST_LOADED,l,this),_=!(y=!0),o(),v=NaN}function o(){null!==m&&(clearInterval(m),m=null)}function a(){o(),isNaN(v)||(h("Refresh manifest in "+v+" seconds."),m=setTimeout(u,Math.min(1e3*v,Math.pow(2,31)-1),this))}function s(e){var t,n,r=new Date;T.setValue(e),h("Manifest has been refreshed at "+r+"["+r.getTime()/1e3+"] "),t=w.getRefreshDelay(e),n=((new Date).getTime()-e.loadedTime.getTime())/1e3,v=Math.max(t-n,0),g.trigger(S["default"].MANIFEST_UPDATED,{manifest:e}),y||a()}function u(){var e,t;if(!y&&!_){_=!0,t=(e=T.getValue()).url;var n=w.getLocation(e);n&&(t=n),b.load(t)}}function l(e){e.error||s(e.manifest)}function c(){y=!1,a()}function f(){y=!0,o()}function d(){_=!1}var p=this.context,h=(0,P["default"])(p).getInstance().log,g=(0,E["default"])(p).getInstance(),v=void 0,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,w=void 0;return{initialize:t,setManifest:n,getManifestLoader:r,setConfig:e,reset:i}}Object.defineProperty(n,"__esModule",{value:!0});var E=r(e(9)),S=r(e(13)),o=r(e(10)),P=r(e(8));i.__dashjs_factory_name="ManifestUpdater",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,8:8,9:9}],51:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){bt=!(_t=yt=!1),Pt=mt=Et=null,cn["default"].extend(fn["default"]),It=(0,$t["default"])(ft).getInstance()}function t(e,t,n){return At=(0,qt["default"])(ft).getInstance(),xt=(0,zt["default"])(ft).getInstance(),At.supportsMediaSource()?void(yt||(yt=!0,Tt=(0,Zt["default"])(ft).getInstance(),Mt=(0,Ft["default"])(ft).getInstance(),(wt=(0,Ut["default"])(ft).getInstance()).initialize(),Dt=(0,vn["default"])(ft).getInstance(),Rt=(0,mn["default"])(ft).getInstance(),(Ct=(0,Jt["default"])(ft).getInstance()).setConfig({adapter:et()}),we(),L(void 0===n||n),e&&qe(e),t&&We(t),ht("[dash.js "+S()+"] MediaPlayer has been initialized"))):void xt.capabilityError("mediasource")}function n(){return!!Nt&&!!vt}function r(){if(!_t)throw st;(!bt||o()&&_t)&&Mt.play()}function i(){if(!_t)throw st;Mt.pause()}function o(){if(!_t)throw st;return Mt.isPaused()}function a(){if(!_t)throw st;return Mt.isSeeking()}function s(e){if(!Nt)throw ut;ze().muted=e}function u(){if(!Nt)throw ut;return ze().muted}function l(e){if(!Nt)throw ut;ze().volume=e}function c(){if(!Nt)throw ut;return ze().volume}function f(e){var t=["video","audio","fragmentedText"];if(e){if(-1===t.indexOf(e))return ht("Warning  - getBufferLength requested for invalid type"),NaN;var n=U().getCurrentBufferLevel(H(e));return n||NaN}return t.map(function(e){return 0<te(e).length?U().getCurrentBufferLevel(H(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)})}function d(){var e=rt();return e?e.manifestInfo.DVRWindowSize:0}function p(e){var t=rt();if(!t)return 0;var n=t.range.start+e;return n>t.range.end&&(n=t.range.end),n}function h(e){if(!_t)throw st;var t=Mt.getIsDynamic()?p(e):e;Mt.seek(t)}function g(e){if(!_t)throw st;var t=ze().currentTime;if(void 0!==e)t=Ot.getTimeRelativeToStreamId(t,e);else if(Mt.getIsDynamic()){var n=rt();t=null===n?0:v()-(n.range.end-n.time)}return t}function v(){if(!_t)throw st;var e=ze().duration;if(Mt.getIsDynamic()){var t,n=rt();if(!n)return 0;e=(t=n.range.end-n.range.start)<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function m(){if(!_t)throw st;return g()<0?NaN:it(g())}function y(){if(!_t)throw st;return it(v())}function _(e,t,n){var r=new Date(1e3*e),i=r.toLocaleDateString(t);return r.toLocaleTimeString(t,{hour12:n})+" "+i}function b(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())}function T(e,t,n){dn["default"].extend(e,t,n,ft)}function w(e,t,n){dt.on(e,t,n)}function E(e,t,n){dt.off(e,t,n)}function S(){return(0,pn.getVersionString)()}function P(){return pt}function C(){if(!Nt)throw ut;return Nt}function I(e){It.setLiveDelayFragmentCount(e)}function x(e){It.setLiveDelay(e)}function A(e){It.setUseSuggestedPresentationDelay(e)}function O(e,t){It.setLastBitrateCachingInfo(e,t)}function k(e,t){It.setLastMediaSettingsCachingInfo(e,t)}function M(e,t){Tt.setMaxAllowedBitrateFor(e,t)}function R(e){return Tt.getMaxAllowedBitrateFor(e)}function D(e,t){Tt.setMaxAllowedRepresentationRatioFor(e,t)}function N(e){return Tt.getMaxAllowedRepresentationRatioFor(e)}function L(e){bt=e}function j(){return bt}function F(e){It.setScheduleWhilePaused(e)}function B(){return It.getScheduleWhilePaused()}function U(){return Rt}function H(e){return Ct.getReadOnlyMetricsFor(e)}function V(e){if(!_t)throw st;return Tt.getQualityFor(e,Ot.getActiveStreamInfo())}function z(e,t){if(!_t)throw st;Tt.setPlaybackQuality(e,Ot.getActiveStreamInfo(),t)}function q(){return Tt.getLimitBitrateByPortal()}function G(e){Tt.setLimitBitrateByPortal(e)}function K(){return Tt.getUsePixelRatioInLimitBitrateByPortal()}function Y(e){Tt.setUsePixelRatioInLimitBitrateByPortal(e)}function W(e){if(!_t)throw st;void 0===Lt&&(Lt=(0,Wt["default"])(ft).getInstance());for(var t=ze().textTracks,n=t.length,r=0;r<n;r++){var i=t[r],o=e===r?"showing":"hidden";i.mode!==o&&(i.mode=o)}Lt.setTextTrack()}function Q(e){if(!_t)throw st;var t=ot();return t?t.getBitrateListFor(e):[]}function X(e,t){Tt.setInitialBitrateFor(e,t)}function $(e){if(!_t)throw st;return Tt.getInitialBitrateFor(e)}function J(e,t){Tt.setInitialRepresentationRatioFor(e,t)}function Z(e){return Tt.getInitialRepresentationRatioFor(e)}function ee(e){if(!_t)throw st;return Pt.getStreamsInfo(e)}function te(e){if(!_t)throw st;var t=Ot.getActiveStreamInfo();return t?wt.getTracksFor(e,t):[]}function ne(e,t,n){if(!_t)throw st;return(n=n||Pt.getStreamsInfo(t)[0])?Pt.getAllMediaInfoForType(t,n,e):[]}function re(e){if(!_t)throw st;var t=Ot.getActiveStreamInfo();return t?wt.getCurrentTrackFor(e,t):null}function ie(e,t){wt.setInitialSettings(e,t)}function oe(e){return wt.getInitialSettings(e)}function ae(e){if(!_t)throw st;wt.setTrack(e)}function se(e){return wt.getSwitchMode(e)}function ue(e,t){wt.setSwitchMode(e,t)}function le(e){wt.setSelectionModeForInitialTrack(e)}function ce(){return wt.getSelectionModeForInitialTrack()}function fe(){return Tt.getAutoSwitchBitrateFor("video")||Tt.getAutoSwitchBitrateFor("audio")}function de(e){Tt.setAutoSwitchBitrateFor("video",e),Tt.setAutoSwitchBitrateFor("audio",e)}function pe(e){return Tt.getAutoSwitchBitrateFor(e)}function he(e,t){Tt.setAutoSwitchBitrateFor(e,t)}function ge(e){It.setFastSwitchEnabled(e)}function ve(){return It.getFastSwitchEnabled()}function me(e){It.setBufferOccupancyABREnabled(e)}function ye(t,n){var r=Je(),i=this,e=function t(e){e.error?n(null,e.error):n(e.manifest),dt.off(cn["default"].INTERNAL_MANIFEST_LOADED,t,i),r.reset()};dt.on(cn["default"].INTERNAL_MANIFEST_LOADED,e,i);var o=(0,Qt["default"])(ft).getInstance();o.initialize(),r.load(o.parseURI(t))}function _e(e,t){be(e,t);var n=new jt["default"];n.schemeIdUri=e,n.value=t,It.getUTCTimingSources().push(n)}function be(n,r){var i=It.getUTCTimingSources();i.forEach(function(e,t){e.schemeIdUri===n&&e.value===r&&i.splice(t,1)})}function Te(){It.setUTCTimingSources([])}function we(){_e($t["default"].DEFAULT_UTC_TIMING_SOURCE.scheme,$t["default"].DEFAULT_UTC_TIMING_SOURCE.value)}function Ee(e){It.setUseManifestDateHeaderTimeSource(e)}function Se(e){It.setBufferToKeep(e)}function Pe(e){It.setBufferPruningInterval(e)}function Ce(e){It.setStableBufferTime(e)}function Ie(e){It.setBufferTimeAtTopQuality(e)}function xe(e){It.setBufferTimeAtTopQualityLongForm(e)}function Ae(e){It.setLongFormContentDurationThreshold(e)}function Oe(e){It.setRichBufferThreshold(e)}function ke(e){It.setBandwidthSafetyFactor(e)}function Me(){return It.getBandwidthSafetyFactor()}function Re(e){It.setAbandonLoadTimeout(e)}function De(e){It.setFragmentRetryAttempts(e)}function Ne(e){It.setFragmentRetryInterval(e)}function Le(e){It.setXHRWithCredentials(e)}function je(){return tt()}function Fe(e){Et=e}function Be(e){mt=e}function Ue(e){var t=(0,Gt["default"])(ft).getInstance();t.setConfig({videoModel:Nt}),t.initialize(),t.displayCConTop(e)}function He(){return Nt?Nt.getVideoContainer():null}function Ve(e){if(!Nt)throw ut;Nt.setVideoContainer(e)}function ze(){if(!Nt)throw ut;return Nt.getElement()}function qe(e){if(!yt)throw ct;Nt=null,e&&((Nt=(0,nn["default"])(ft).getInstance()).initialize(),Nt.setElement(e),tt(),nt()),Xe()}function Ge(){return Nt?Nt.getTTMLRenderingDiv():null}function Ke(e){if(!Nt)throw ut;Nt.setTTMLRenderingDiv(e)}function Ye(){if(!vt)throw lt;return vt}function We(e){if(!yt)throw ct;if("string"==typeof e){var t=(0,Qt["default"])(ft).getInstance();t.initialize(),vt=t.parseURI(e)}else vt=e;Xe()}function Qe(){We(null),qe(null),Et=mt=null}function Xe(){_t&&(_t=!1,Pt.reset(),Ot.reset(),Mt.reset(),Tt.reset(),kt.reset(),wt.reset(),St=Ot=null),n()&&at()}function $e(){var e=(0,on["default"])(ft).getInstance();e.initialize();var t=(0,tn["default"])(ft).getInstance();t.initialize(),(0,Kt["default"])(ft).getInstance().setConfig({dashManifestModel:Dt}),wt.initialize(),wt.setConfig({errHandler:xt}),(kt=(0,rn["default"])(ft).getInstance()).initialize(),kt.setConfig({abrRulesCollection:t,synchronizationRulesCollection:e}),(Ot=(0,Bt["default"])(ft).getInstance()).setConfig({capabilities:At,manifestLoader:Je(),manifestModel:(0,Xt["default"])(ft).getInstance(),dashManifestModel:Dt,protectionController:Et,adapter:Pt,metricsModel:Ct,dashMetrics:Rt,liveEdgeFinder:(0,Vt["default"])(ft).getInstance(),mediaSourceController:(0,an["default"])(ft).getInstance(),timeSyncController:(0,en["default"])(ft).getInstance(),baseURLController:(0,sn["default"])(ft).getInstance(),errHandler:xt,timelineConverter:(0,yn["default"])(ft).getInstance()}),Ot.initialize(bt,mt),Tt.setConfig({abrRulesCollection:t,rulesController:kt,streamController:Ot})}function Je(){return(0,Ht["default"])(ft).create({errHandler:xt,parser:Ze(),metricsModel:Ct,requestModifier:(0,Yt["default"])(ft).getInstance()})}function Ze(){return(0,gn["default"])(ft).create()}function et(){return(Pt=(0,hn["default"])(ft).getInstance()).initialize(),Pt.setConfig({dashManifestModel:Dt}),Pt}function tt(){if(Et)return Et;var e=dashjs.Protection;if("function"!=typeof e)return null;var t=e(ft).create();return cn["default"].extend(e.events),fn["default"].extend(e.events,{publicOnly:!0}),Et=t.createProtectionSystem({log:ht,videoModel:Nt,capabilities:At,eventBus:dt,adapter:Pt})}function nt(){if(St)return St;var e=dashjs.MetricsReporting;if("function"!=typeof e)return null;var t=e(ft).create();return St=t.createMetricsReporting({log:ht,eventBus:dt,mediaElement:ze(),dashManifestModel:Dt,metricsModel:Ct})}function rt(){var e=Ct.getReadOnlyMetricsFor("video")||Ct.getReadOnlyMetricsFor("audio");return Rt.getCurrentDVRInfo(e)}function it(e){var t=rt();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function ot(){if(!_t)throw st;var e=Ot.getActiveStreamInfo();return e?Ot.getStreamById(e.id):null}function at(){_t||(_t=!0,ht("Playback Initialized"),$e(),"string"==typeof vt?Ot.load(vt):Ot.loadWithManifest(vt))}var st="You must first call play() to init playback before calling this method",ut="You must first call attachView() to set the video element before calling this method",lt="You must first call attachSource() with a valid source before calling this method",ct="MediaPlayer not initialized!",ft=this.context,dt=(0,ln["default"])(ft).getInstance(),pt=(0,un["default"])(ft).getInstance(),ht=pt.log,gt=void 0,vt=void 0,mt=void 0,yt=void 0,_t=void 0,bt=void 0,Tt=void 0,wt=void 0,Et=void 0,St=void 0,Pt=void 0,Ct=void 0,It=void 0,xt=void 0,At=void 0,Ot=void 0,kt=void 0,Mt=void 0,Rt=void 0,Dt=void 0,Nt=void 0,Lt=void 0;return gt={initialize:t,on:w,off:E,extend:T,attachView:qe,attachSource:We,isReady:n,play:r,isPaused:o,pause:i,isSeeking:a,seek:h,setMute:s,isMuted:u,setVolume:l,getVolume:c,time:g,duration:v,timeAsUTC:m,durationAsUTC:y,getActiveStream:ot,getDVRWindowSize:d,getDVRSeekOffset:p,convertToTimeCode:b,formatUTC:_,getVersion:S,getDebug:P,getBufferLength:f,getVideoModel:C,getVideoContainer:He,getTTMLRenderingDiv:Ge,getVideoElement:ze,getSource:Ye,setLiveDelayFragmentCount:I,setLiveDelay:x,useSuggestedPresentationDelay:A,enableLastBitrateCaching:O,enableLastMediaSettingsCaching:k,setMaxAllowedBitrateFor:M,getMaxAllowedBitrateFor:R,setMaxAllowedRepresentationRatioFor:D,getMaxAllowedRepresentationRatioFor:N,setAutoPlay:L,getAutoPlay:j,setScheduleWhilePaused:F,getScheduleWhilePaused:B,getDashMetrics:U,getMetricsFor:H,getQualityFor:V,setQualityFor:z,getLimitBitrateByPortal:q,setLimitBitrateByPortal:G,getUsePixelRatioInLimitBitrateByPortal:K,setUsePixelRatioInLimitBitrateByPortal:Y,setTextTrack:W,getBitrateInfoListFor:Q,setInitialBitrateFor:X,getInitialBitrateFor:$,setInitialRepresentationRatioFor:J,getInitialRepresentationRatioFor:Z,getStreamsFromManifest:ee,getTracksFor:te,getTracksForTypeFromManifest:ne,getCurrentTrackFor:re,setInitialMediaSettingsFor:ie,getInitialMediaSettingsFor:oe,setCurrentTrack:ae,getTrackSwitchModeFor:se,setTrackSwitchModeFor:ue,setSelectionModeForInitialTrack:le,getSelectionModeForInitialTrack:ce,getAutoSwitchQuality:fe,setAutoSwitchQuality:de,setFastSwitchEnabled:ge,getFastSwitchEnabled:ve,getAutoSwitchQualityFor:pe,setAutoSwitchQualityFor:he,enableBufferOccupancyABR:me,setBandwidthSafetyFactor:ke,getBandwidthSafetyFactor:Me,setAbandonLoadTimeout:Re,retrieveManifest:ye,addUTCTimingSource:_e,removeUTCTimingSource:be,clearDefaultUTCTimingSources:Te,restoreDefaultUTCTimingSources:we,setBufferToKeep:Se,setBufferPruningInterval:Pe,setStableBufferTime:Ce,setBufferTimeAtTopQuality:Ie,setFragmentLoaderRetryAttempts:De,setFragmentLoaderRetryInterval:Ne,setXHRWithCredentials:Le,setBufferTimeAtTopQualityLongForm:xe,setLongFormContentDurationThreshold:Ae,setRichBufferThreshold:Oe,getProtectionController:je,attachProtectionController:Fe,setProtectionData:Be,enableManifestDateHeaderTimeSource:Ee,displayCaptionsOnTop:Ue,attachVideoContainer:Ve,attachTTMLRenderingDiv:Ke,reset:Qe},e(),gt}Object.defineProperty(n,"__esModule",{value:!0});var jt=r(e(47)),Ft=r(e(68)),Bt=r(e(71)),Ut=r(e(66)),Ht=r(e(49)),Vt=r(e(154)),zt=r(e(151)),qt=r(e(147)),Gt=r(e(57)),Kt=r(e(70)),Yt=r(e(156)),Wt=r(e(56)),Qt=r(e(103)),Xt=r(e(100)),$t=r(e(101)),Jt=r(e(102)),Zt=r(e(60)),en=r(e(73)),tn=r(e(131)),nn=r(e(104)),rn=r(e(129)),on=r(e(144)),an=r(e(67)),sn=r(e(61)),un=r(e(8)),ln=r(e(9)),cn=r(e(13)),fn=r(e(52)),dn=r(e(10)),pn=e(11),hn=r(e(15)),gn=r(e(23)),vn=r(e(22)),mn=r(e(17)),yn=r(e(37));i.__dashjs_factory_name="MediaPlayer";var o=dn["default"].getClassFactory(i);o.events=fn["default"],n["default"]=o,t.exports=n["default"]},{10:10,100:100,101:101,102:102,103:103,104:104,11:11,129:129,13:13,131:131,144:144,147:147,15:15,151:151,154:154,156:156,17:17,22:22,23:23,37:37,47:47,49:49,52:52,56:56,57:57,60:60,61:61,66:66,67:67,68:68,70:70,71:71,73:73,8:8,9:9}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(14)),u=new(function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.BUFFER_EMPTY="bufferstalled",this.BUFFER_LOADED="bufferloaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.LOG="log",this.MANIFEST_LOADED="manifestloaded",this.METRICS_CHANGED="metricschanged",this.METRIC_CHANGED="metricchanged",this.METRIC_ADDED="metricadded",this.METRIC_UPDATED="metricupdated",this.PERIOD_SWITCH_COMPLETED="streamswitchcompleted",this.PERIOD_SWITCH_STARTED="streamswitchstarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streaminitialized",this.TEXT_TRACKS_ADDED="alltexttracksadded",this.TEXT_TRACK_ADDED="texttrackadded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return o(e,s["default"]),e}());n["default"]=u,t.exports=n["default"]},{14:14}],53:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function s(e,t,n){if(!e||"VIDEO"!==e.nodeName)return null;if(e._dashjs_player)return e._dashjs_player;var r,i=e.id||e.name||"video element";if(!(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==l})[0])&&e.src)(t=document.createElement("source")).src=e.src;else if(!t&&!e.src)return null;return n=n||{},(r=(0,a["default"])(n).create()).initialize(e,t.src,e.autoplay),r.getDebug().log("Converted "+i+" to dash.js player and added content: "+t.src),e._dashjs_player=r}function e(e,t){var n=[];e=e||"[data-dashjs-player]";for(var r=(t=t||document).querySelectorAll(e),i=0;i<r.length;i++){var o=s(r[i],null);n.push(o)}var a=t.querySelectorAll('source[type="'+l+'"]');for(i=0;i<a.length;i++){o=s(u(a[i]),null);n.push(o)}return n}function u(e){for(var t=!0;t;){var n=e;if(t=!1,"video"===n.nodeName.toLowerCase())return n;e=n.parentNode,t=!0}}var l="application/dash+xml";return{create:s,createAll:e}}function o(){window.removeEventListener("load",o),s.createAll()}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(51)),s=i();!(window&&window.dashjs&&window.dashjs.skipAutoCreate)&&window&&window.addEventListener&&("complete"===window.document.readyState?s.createAll():window.addEventListener("load",o)),n["default"]=s,t.exports=n["default"]},{51:51}],54:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){W=Y=!(K=[]),Q=null,J=$=!(X={}),ee=(0,se["default"])(N).getInstance(),te=(0,ge["default"])(N).getInstance(),oe=(0,de["default"])(N).getInstance(),ne=(0,le["default"])(N).getInstance(),re=(0,fe["default"])(N).create(),ae=(0,Ee["default"])(N).getInstance(),j.on(Te["default"].BUFFERING_COMPLETED,A,G),j.on(Te["default"].DATA_UPDATE_COMPLETED,O,G)}function n(e,t){Q=e,(Z=t)&&(j.on(Te["default"].KEY_ERROR,m,G),j.on(Te["default"].SERVER_CERTIFICATE_UPDATED,m,G),j.on(Te["default"].LICENSE_REQUEST_COMPLETE,m,G),j.on(Te["default"].KEY_SYSTEM_SELECTED,m,G),j.on(Te["default"].KEY_SESSION_CREATED,m,G))}function r(e){Y?x():(j.on(Te["default"].CURRENT_TRACK_CHANGED,b,G),P(e))}function i(){for(var e=K.length,t=0;t<e;t++)K[t].reset();W=Y=!(K=[]),h(),j.off(Te["default"].CURRENT_TRACK_CHANGED,b,G)}function o(){te&&(te.pause(),te=null),re&&(re.reset(),re=null),ee.abortSearch(),i(),V=L=H=U=F=B=oe=ne=null,J=$=!1,X={},j.off(Te["default"].DATA_UPDATE_COMPLETED,O,G),j.off(Te["default"].BUFFERING_COMPLETED,A,G),j.off(Te["default"].KEY_ERROR,m,G),j.off(Te["default"].SERVER_CERTIFICATE_UPDATED,m,G),j.off(Te["default"].LICENSE_REQUEST_COMPLETE,m,G),j.off(Te["default"].KEY_SYSTEM_SELECTED,m,G),j.off(Te["default"].KEY_SESSION_CREATED,m,G)}function a(){return Q.duration}function s(){return Q.start}function u(){return Q.index}function l(){return Q.id}function c(){return Q}function f(e){return null!==I(e)}function d(e){var t=I(e);return oe.getBitrateList(t)}function p(){ie&&ie.start()}function h(){ie&&ie.clear()}function g(){return Y}function v(){return J}function m(e){e.error&&(V.mediaKeySessionError(e.error),L(e.error),o())}function y(e){return"text"===e.type?e.mimeType:e.type}function _(e,t,n){var r,i,o=e.type;if("muxed"===o&&e)return L(i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),V.manifestError(i,"multiplexedrep",F.getValue()),!1;if("text"===o||"fragmentedText"===o||"embeddedText"===o)return!0;if(r=e.codec,L(o+" codec: "+r),e.contentProtection&&!H.supportsEncryptedMedia())V.capabilityError("encryptedmedia");else if(!H.supportsCodec((0,pe["default"])(N).getInstance().getElement(),r))return i=o+"Codec ("+r+") is not supported.",V.manifestError(i,"codec",n),L(i),!1;return!0}function b(e){if(e.newMediaInfo.streamInfo.id===Q.id){var t=k(e.oldMediaInfo);if(t){var n=te.getTime(),r=t.getBuffer(),i=e.newMediaInfo,o=F.getValue(),a=K.indexOf(t),s=t.getMediaSource();"fragmentedText"!==i.type?(t.reset(!0),E(i,o,s,{buffer:r,replaceIdx:a,currentTime:n}),te.seek(te.getTime())):t.updateMediaInfo(o,i)}}}function T(e){return"webm"===e.split("/")[1].toLowerCase()}function w(e){var t=T(e.mimeType)?(0,ye["default"])(N).getInstance():(0,me["default"])(N).getInstance();return t.setConfig({baseURLController:q,metricsModel:(0,he["default"])(N).getInstance()}),t.initialize(),(0,ve["default"])(N).create({segmentBaseLoader:t,timelineConverter:z,dashMetrics:(0,_e["default"])(N).getInstance(),metricsModel:(0,he["default"])(N).getInstance(),baseURLController:q})}function E(e,t,n,r){var i=(0,ue["default"])(N).create({indexHandler:w(e),timelineConverter:z,adapter:U,manifestModel:F}),o=U.getAllMediaInfoForType(t,Q,e.type);if(i.initialize(y(e),re,n,G,ie),oe.updateTopQualityIndex(e),r?(i.setBuffer(r.buffer),i.getIndexHandler().setCurrentTime(r.currentTime),K[r.replaceIdx]=i):K.push(i),"text"===e.type||"fragmentedText"===e.type){for(var a,s=0;s<o.length;s++)o[s].index===e.index&&(a=s),i.updateMediaInfo(t,o[s]);"fragmentedText"===e.type&&i.updateMediaInfo(t,o[a])}else i.updateMediaInfo(t,e);return i}function S(e,t){var n=F.getValue(),r=U.getAllMediaInfoForType(n,Q,e),i=null;if(r&&0!==r.length){for(var o=0,a=r.length;o<a;o++)if(i=r[o],"embeddedText"===e)ae.addEmbeddedTrack(i);else{if(!_(i,t,n))continue;ne.isMultiTrackSupportedByType(i.type)&&ne.addTrack(i,Q)}"embeddedText"!==e&&0!==ne.getTracksFor(e,Q).length&&(ne.checkInitialMediaSettingsForType(e,Q),E(ne.getCurrentTrackFor(e,Q),n,t))}else L("No "+e+" data.")}function P(e){var t,n=F.getValue();if((ie=(0,ce["default"])(N).getInstance()).initialize(),ie.setConfig({manifestModel:F,manifestUpdater:B}),t=U.getEventsFor(n,Q),ie.addInlineEvents(t),$=!0,S("video",e),S("audio",e),S("text",e),S("fragmentedText",e),S("embeddedText",e),S("muxed",e),x(),$=!(W=!0),0===K.length){var r="No streams to play.";V.manifestError(r,"nostreams",n),L(r)}else ee.initialize(z,K[0]),C()}function C(){for(var e=K.length,t=!!X.audio||!!X.video?new Error(D,"Data update failed",null):null,n=0;n<e;n++)if(K[n].isUpdating()||$)return;Y=J=!0,W&&(Z&&Z.initialize(F.getValue(),I("audio"),I("video")),j.trigger(Te["default"].STREAM_INITIALIZED,{streamInfo:Q,error:t}))}function I(e){for(var t=K.length,n=null,r=0;r<t;r++)if((n=K[r]).getType()===e)return n.getMediaInfo();return null}function x(){for(var e=0,t=K.length;e<t;e++)K[e].createBuffer()}function A(e){if(e.streamInfo===Q){for(var t=M(),n=t.length,r=0;r<n;r++)if(!t[r].isBufferingCompleted())return;j.trigger(Te["default"].STREAM_BUFFERING_COMPLETED,{streamInfo:Q})}}function O(e){var t=e.sender.getStreamProcessor();t.getStreamInfo()===Q&&(X[t.getType()]=e.error,C())}function k(t){return!!t&&M().filter(function(e){return e.getType()===t.type})[0]}function M(){for(var e,t,n=K.length,r=[],i=0;i<n;i++)"audio"!==(e=(t=K[i]).getType())&&"video"!==e&&"fragmentedText"!==e||r.push(t);return r}function R(e){L("Manifest updated... updating data system wide.");var t=F.getValue();if(J=!($=!(Y=!1)),Q=e,ie){var n=U.getEventsFor(t,Q);ie.addInlineEvents(n)}for(var r=0,i=K.length;r<i;r++){var o=K[r],a=U.getMediaInfoForType(t,Q,o.getType());oe.updateTopQualityIndex(a),o.updateMediaInfo(t
,a)}$=!1,C()}var D=1,N=this.context,L=(0,we["default"])(N).getInstance().log,j=(0,be["default"])(N).getInstance(),F=e.manifestModel,B=e.manifestUpdater,U=e.adapter,H=e.capabilities,V=e.errHandler,z=e.timelineConverter,q=e.baseURLController,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0;return G={initialize:n,activate:r,deactivate:i,getDuration:a,getStartTime:s,getStreamIndex:u,getId:l,getStreamInfo:c,hasMedia:f,getBitrateListFor:d,startEventController:p,isActivated:g,isInitialized:v,updateData:R,reset:o,getProcessors:M},t(),G}Object.defineProperty(n,"__esModule",{value:!0});var se=r(e(154)),ue=r(e(55)),le=r(e(66)),ce=r(e(64)),fe=r(e(65)),de=r(e(60)),pe=r(e(104)),he=r(e(102)),ge=r(e(68)),ve=r(e(16)),me=r(e(18)),ye=r(e(19)),_e=r(e(17)),be=r(e(9)),Te=r(e(13)),we=r(e(8)),o=r(e(10)),Ee=r(e(56));i.__dashjs_factory_name="Stream",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,104:104,13:13,154:154,16:16,17:17,18:18,19:19,55:55,56:56,60:60,64:64,65:65,66:66,68:68,8:8,9:9}],55:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){B=[]}function n(e,t,n,r,i){F=e,H=i,K=t,L=(U=r).getStreamInfo().manifestInfo.isDynamic,k.initialize(this),(V=(0,Q["default"])(O).getInstance()).initialize(F,this),z=A(e),q=(0,ee["default"])(O).create({metricsModel:(0,re["default"])(O).getInstance(),manifestModel:D,adapter:R,dashMetrics:(0,le["default"])(O).getInstance(),dashManifestModel:(0,ue["default"])(O).getInstance(),timelineConverter:M,rulesController:(0,te["default"])(O).getInstance(),mediaPlayerModel:(0,ne["default"])(O).getInstance()}),z.initialize(F,n,this),q.initialize(F,this),Y=(0,ie["default"])(O).create({metricsModel:(0,re["default"])(O).getInstance(),errHandler:(0,fe["default"])(O).getInstance(),requestModifier:(0,oe["default"])(O).getInstance()}),(W=q.getFragmentModel()).setLoader(Y),(G=(0,ce["default"])(O).create()).initialize(this)}function r(e){k.reset(),z&&(z.reset(e),z=null),q&&(q.reset(),q=null),G&&(G.reset(),G=null),B=[],F=j=L=U=H=Y=K=null}function i(){return G.isUpdating()}function o(){return F}function a(){return V}function s(){return G}function u(){return Y}function l(){return k}function c(){return K}function f(){return z.getBuffer()}function d(e){z.setBuffer(e)}function p(){return z}function h(){return W}function g(){return U.getStreamInfo()}function v(e,t){t===j||t&&j&&t.type!==j.type||(j=t),-1===B.indexOf(t)&&B.push(t),R.updateData(e,this)}function m(){return B}function y(){return j}function _(){return z.getMediaSource()}function b(){return q}function T(){return H}function w(){q.start()}function E(){q.stop()}function S(){return R.getCurrentRepresentationInfo(D.getValue(),G)}function P(e){return R.getRepresentationInfoForQuality(D.getValue(),G,e)}function C(){return z.getIsBufferingCompleted()}function I(){return z.getBuffer()||z.createBuffer(j)}function x(){return L}function A(e){return"video"===e||"audio"===e||"fragmentedText"===e?(0,X["default"])(O).create({metricsModel:(0,re["default"])(O).getInstance(),manifestModel:D,sourceBufferController:(0,ae["default"])(O).getInstance(),errHandler:(0,fe["default"])(O).getInstance(),streamController:(0,$["default"])(O).getInstance(),mediaController:(0,J["default"])(O).getInstance(),adapter:R,textSourceBuffer:(0,se["default"])(O).getInstance()}):(0,Z["default"])(O).create({errHandler:(0,fe["default"])(O).getInstance(),sourceBufferController:(0,ae["default"])(O).getInstance()})}var O=this.context,k=e.indexHandler,M=e.timelineConverter,R=e.adapter,D=e.manifestModel,N=void 0,L=void 0,j=void 0,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0;return N={initialize:n,isUpdating:i,getType:o,getBufferController:p,getABRController:a,getFragmentLoader:u,getFragmentModel:h,getScheduleController:b,getEventController:T,getFragmentController:c,getRepresentationController:s,getIndexHandler:l,getCurrentRepresentationInfo:S,getRepresentationInfoForQuality:P,isBufferingCompleted:C,createBuffer:I,getStreamInfo:g,updateMediaInfo:v,getMediaInfoArr:m,getMediaInfo:y,getMediaSource:_,getBuffer:f,setBuffer:d,start:w,stop:E,isDynamic:x,reset:r},t(),N}Object.defineProperty(n,"__esModule",{value:!0});var Q=r(e(60)),X=r(e(63)),$=r(e(71)),J=r(e(66)),Z=r(e(72)),ee=r(e(69)),te=r(e(129)),ne=r(e(101)),re=r(e(102)),ie=r(e(48)),oe=r(e(156)),ae=r(e(70)),se=r(e(56)),ue=r(e(22)),le=r(e(17)),ce=r(e(21)),fe=r(e(151)),o=r(e(10));i.__dashjs_factory_name="StreamProcessor",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,102:102,129:129,151:151,156:156,17:17,21:21,22:22,48:48,56:56,60:60,63:63,66:66,69:69,70:70,71:71,72:72}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){v=Y=null,J=p=!1,Z=NaN,m=[],te=null,c||o();var n=t.getStreamProcessor();if(Q=n.getMediaInfoArr(),X.setConfig({videoModel:ee}),X.initialize(),$=!f.getIsTextTrack(e),w=(0,b["default"])(l).getInstance(),(W=(0,_["default"])(l).getInstance()).setConfig({boxParser:w}),$){v=n.getFragmentModel(),this.buffered=(0,T["default"])(l).create(),m=d.getTracksFor("fragmentedText",y.getActiveStreamInfo());for(var r=d.getCurrentTrackFor("fragmentedText",y.getActiveStreamInfo()),i=0;i<m.length;i++)if(m[i]===r){ne=i;break}}}function o(){re=[],Q=[],ee=(0,S["default"])(l).getInstance(),(X=(0,P["default"])(l).getInstance()).setConfig({videoModel:ee}),X.initialize(),w=(0,b["default"])(l).getInstance(),(W=(0,_["default"])(l).getInstance()).setConfig({boxParser:w}),$=!1,ie=0,se=[],ae=[],c=!(oe=ne=null)}function t(e,t){function n(e,t){var n=new ue["default"],r={subtitle:"subtitles",caption:"captions"},i=function(){var e=0<t.roles.length?r[t.roles[0]]:r.caption;return e===r.caption||e===r.subtitle?e:r.caption},o=function(){var e=!1;return t.codec&&0<=t.codec.search("stpp")&&(e=!0),t.mimeType&&0<=t.mimeType.search("ttml")&&(e=!0),e};n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=o(),n.video=ee.getElement(),n.defaultTrack=j(t),n.isFragmented=$,n.isEmbedded=!!t.isEmbedded,n.kind=i();var a=(Q?Q.length:0)+re.length;X.addTextTrack(n,a)}var r,i,o,a,s=t.mediaInfo,u=s.type,l=s.mimeType,c=s.codec||l;if(c){if("fragmentedText"===u)if(J)if(i=W.getSamplesInfo(e).sampleList,!te&&0<i.length&&(te=i[0].cts-t.start*Z),0<=c.search("stpp"))for(Y=null!==Y?Y:z(c),o=0;o<i.length;o++){var f=i[o],d=f.cts,p=d-te;this.buffered.add(p/Z,(p+f.duration)/Z);var h=new DataView(e,f.offset,f.size);a=le["default"].Utils.dataViewToString(h,"utf-8");try{r=Y.parse(a,d/Z,(d+f.duration)/Z),X.addCaptions(ne,te/Z,r)}catch(L){q("TTML parser error: "+L.message)}}else{var g=[];for(o=0;o<i.length;o++){var v=i[o];v.cts-=te,this.buffered.add(v.cts/Z,(v.cts+v.duration)/Z);for(var m=e.slice(v.offset,v.offset+v.size),y=le["default"].parseBuffer(m),_=0;_<y.boxes.length;_++){var b=y.boxes[_];if(q("VTT box1: "+b.type),"vtte"!==b.type&&"vttc"===b.type){q("VTT vttc boxes.length = "+b.boxes.length);for(var T=0;T<b.boxes.length;T++){var w=b.boxes[T];if(q("VTT box2: "+w.type),"payl"===w.type){var E=w.cue_text;q("VTT cue_text = "+E);var S=v.cts/Z,P=(v.cts+v.duration)/Z;g.push({start:S,end:P,data:E,styles:{}}),q("VTT "+S+"-"+P+" : "+E)}}}}}0<g.length&&X.addCaptions(ne,0,g)}else{for(J=!0,o=0;o<Q.length;o++)n(null,Q[o]);Z=W.getMediaTimescaleFromMoov(e)}else if("text"===u){h=new DataView(e,0,e.byteLength);a=le["default"].Utils.dataViewToString(h,"utf-8");try{n(r=z(c).parse(a),s)}catch(L){K.timedTextError(L,"parse",a)}}else if("video"===u)if("InitializationSegment"===t.segmentType){if(0===ie)for(ie=W.getMediaTimescaleFromMoov(e),o=0;o<re.length;o++)n(null,re[o])}else{if(0===ie)return void q("CEA-608: No timescale for embeddedTextTrack yet");var C=function(e,i){function t(e,t,n){var r=null;ee.getTTMLRenderingDiv()?r=N(ee.getElement(),e,t,n):r=[{start:e,end:t,data:n.getDisplayText(),styles:{}}];r&&X.addCaptions(i,0,r)}return t},I=W.getSamplesInfo(e).sequenceNumber;if(!se[0]&&!se[1]){var x=void 0,A=void 0;for(o=0;o<re.length;o++){if("CC1"===re[o].id?(0,A=X.getTrackIdxForId("CC1")):"CC3"===re[o].id&&(1,A=X.getTrackIdxForId("CC3")),-1===A)return void q("CEA-608: data before track is ready.");x=C(this,A),se[o]=new ce["default"].Cea608Parser(o,{newCue:x},null)}}if(ie&&-1==ae.indexOf(I)){if(null!==oe&&I!==oe+1)for(o=0;o<se.length;o++)se[o]&&se[o].reset();for(var O=D(e),k=0;k<se.length;k++){var M=O.fields[k],R=se[k];if(R){for(o=0;o<M.length;o++)R.addData(M[o][0]/ie,M[o][1]);O.endTime&&R.cueSplitAtTime(O.endTime/ie)}}oe=I,ae.push(I)}}}else q("No text type defined")}function D(e){var t=function(e,t,n){var r=e.length;if(0<r){if(t>=e[r-1][0])e.push([t,n]);else for(var i=r-1;0<=i;i--)if(t<e[i][0]){e.splice(i,0,[t,n]);break}}else e.push([t,n])},n=w.parse(e),r=n.getBox("moof"),i=n.getBox("tfdt"),o=n.getBoxes("trun"),a=null;if(0===o.length)return null;a=o[0],1<o.length&&q("Warning: Too many truns");for(var s=r.offset+a.data_offset,u=a.sample_count,l=s,c=i.baseMediaDecodeTime,f=new DataView(e),d={startTime:null,endTime:null,fields:[[],[]]},p=0,h=0;h<u;h++){for(var g=a.samples[h],v=c+p+g.sample_composition_time_offset,m=ce["default"].findCea608Nalus(f,l,g.sample_size),y=0;y<m.length;y++)for(var _=ce["default"].extractCea608DataFromRange(f,m[y]),b=0;b<2;b++)0<_[b].length&&t(d.fields[b],v,_[b]);p+=g.sample_duration,l+=g.sample_size}var T=c+p;return d.startTime=c,d.endTime=T,d}function F(e){for(var t="",n=0;n<e.length;++n){t+=e[n].uchar}return t.length-t.replace(/^\s+/,"").length}function B(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function r(e){return"red"==e?"rgb(255, 0, 0)":"green"==e?"rgb(0, 255, 0)":"blue"==e?"rgb(0, 0, 255)":"cyan"==e?"rgb(0, 255, 255)":"magenta"==e?"rgb(255, 0, 255)":"yellow"==e?"rgb(255, 255, 0)":"white"==e?"rgb(255, 255, 255)":"black"==e?"rgb(0, 0, 0)":e}function U(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?r(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?r(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function H(e){return e.replace(/^\s+/g,"")}function V(e){return e.replace(/\s+$/g,"")}function N(e,t,n,r){var i=null,o=!1,a=-1,s={start:t,end:n,spans:[]},u="style_cea608_white_black",l={},c={},f=[],d=void 0,p=void 0;for(d=0;d<15;++d){var h=r.rows[d],g="",v=null;if(!1===h.isEmpty()){var m=F(h.chars);null===i&&(i={x:m,y1:d,y2:d+1,p:[]}),m!==a&&o&&(i.p.push(s),s={start:t,end:n,spans:[]},i.y2=d,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(f.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i={x:m,y1:d,y2:d+1,p:[]});for(var y=0;y<h.chars.length;++y){var _=h.chars[y],b=_.penState;if(null===v||!b.equals(v)){0<g.trim().length&&(s.spans.push({name:u,line:g,row:d}),g="");var T="style_cea608_"+b.foreground+"_"+b.background;b.underline&&(T+="_underline"),b.italics&&(T+="_italics"),c.hasOwnProperty(T)||(c[T]=JSON.parse(JSON.stringify(b))),v=b,u=T}g+=_.uchar}0<g.trim().length&&s.spans.push({name:u,line:g,row:d}),o=!0,a=m}else o=!1,a=-1,i&&(i.p.push(s),s={start:t,end:n,spans:[]},i.y2=d,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(f.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i=null)}i&&(i.p.push(s),i.y2=d+1,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(f.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i=null);var w=[];for(d=0;d<f.length;++d){var E=f[d],S="sub_cea608_"+G++,P=document.createElement("div");P.id=S;var C=B(E);P.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+C;var I=document.createElement("div");I.className="paragraph bodyStyle",I.style.cssText=U(e);var x=document.createElement("div");x.className="cueUniWrapper",x.style.cssText="unicode-bidi: normal; direction: ltr;";for(var A=0;A<E.p.length;++A){var O=E.p[A],k=0;for(p=0;p<O.spans.length;++p){var M=O.spans[p];if(0<M.line.length){if(0!==p&&k!=M.row){var R=document.createElement("br");R.className="lineBreak",x.appendChild(R)}var D=!1;k===M.row&&(D=!0),k=M.row;var N=c[M.name],L=document.createElement("span");L.className="spanPadding "+M.name+" customSpanColor",L.style.cssText=U(e,N),0!==p&&D?p===O.spans.length-1?L.textContent=V(M.line):L.textContent=M.line:0===p&&1<O.spans.length&&M.row===O.spans[1].row?L.textContent=H(M.line):L.textContent=M.line.trim(),x.appendChild(L)}}}I.appendChild(x),P.appendChild(I);var j={bodyStyle:90};for(p in c)c.hasOwnProperty(p)&&(j[p]=90);w.push({type:"html",start:t,end:n,cueHTMLElement:P,cueID:S,cellResolution:[32,15],isFromCEA608:!0,regions:f,regionID:E.name,videoHeight:e.videoHeight,videoWidth:e.videoWidth,fontSize:j||{defaultFontSize:"100"},lineHeight:{},linePadding:{}})}return w}function n(){X.deleteAllTextTracks(),v=X=Q=W=Y=null,J=$=p=!1,Z=NaN,c=!(m=[]),re=y=ee=null}function i(e){c||o(),"CC1"===e.id||"CC3"===e.id?re.push(e):q("Warning: Embedded track "+e.id+" not supported!")}function L(){c=!1,re=[],se=[null,null],ae=[],oe=null}function a(){return p}function s(e){e&&(e.errHandler&&(K=e.errHandler),e.adapter&&e.adapter,e.dashManifestModel&&(f=e.dashManifestModel),e.mediaController&&(d=e.mediaController),e.videoModel&&(ee=e.videoModel),e.streamController&&(y=e.streamController),e.textTracks&&(X=e.textTracks),e.VTTParser&&(h=e.VTTParser),e.TTMLParser&&(g=e.TTMLParser))}function u(){for(var e=ee.getElement().textTracks,t=e.length,n=t-re.length,r=X.getCurrentTrackIdx(),i=0;i<t;i++){var o=e[i];if(p="showing"!==o.mode,"showing"===o.mode){if(r!==i&&(X.setCurrentTrackIdx(i),X.addCaptions(i,0,null),$&&i<n)){var a=d.getCurrentTrackFor("fragmentedText",y.getActiveStreamInfo()),s=m[i];s!==a&&(v.abortRequests(),X.deleteTrackCues(a),d.setTrack(s),ne=i)}break}}p&&X.setCurrentTrackIdx(-1)}function j(e){var t=!1;return 1<re.length?t=e.id&&"CC1"===e.id:1===re.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):t=e.index===Q[0].index,t}function z(e){var t;return 0<=e.search("vtt")?t=h:(0<=e.search("ttml")||0<=e.search("stpp"))&&(t=g).setConfig({videoModel:ee}),t}var l=this.context,q=(0,E["default"])(l).getInstance().log,c=!1,G=0,w=void 0,K=void 0,f=void 0,d=void 0,p=void 0,Y=void 0,h=void 0,g=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,v=void 0,J=void 0,Z=void 0,m=void 0,ee=void 0,y=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0;return{initialize:e,append:t,abort:n,getAllTracksAreDisabled:a,setTextTrack:u,setConfig:s,addEmbeddedTrack:i,resetEmbedded:L}}Object.defineProperty(n,"__esModule",{value:!0});var ue=r(e(171)),_=r(e(32)),b=r(e(146)),T=r(e(148)),o=r(e(10)),E=r(e(8)),S=r(e(104)),P=r(e(57)),le=r(e(6)),ce=r(e(2));i.__dashjs_factory_name="TextSourceBuffer",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,104:104,146:146,148:148,171:171,2:2,32:32,57:57,6:6,8:8}],57:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){P=window.VTTCue||window.TextTrackCue,x=[],A=[],D=R=M=k=0,L=N=null,B=!(O=-1),U=2147483647,j=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?F="fullscreenElement":void 0!==document.webkitIsFullScreen?F="webkitIsFullScreen":document.msFullscreenElement?F="msFullscreenElement":document.mozFullScreen&&(F="mozFullScreen")}function a(e){var t=x[e].kind,n=void 0!==x[e].label?x[e].label:x[e].lang,r=x[e].lang,i=j?document.createElement("track"):I.addTextTrack(t,n,r);return j&&(i.kind=t,i.label=n,i.srclang=r),i}function t(e){B=e,N&&!document[F]&&(N.style.zIndex=e?U:null)}function n(e,t){if(x.length!==t){if(x.push(e),void 0===I&&(I=e.video),x.length===t){x.sort(function(e,t){return e.index-t.index}),N=C.getTTMLRenderingDiv();for(var n=-1,r=0;r<x.length;r++){var i=a.call(this,r);A.push(i),x[r].defaultTrack&&(i["default"]=!0,n=r),j&&I.appendChild(i);var o=I.textTracks[r];o.nonAddedCues=[],N&&(x[r].isTTML||x[r].isEmbedded)?o.renderingType="html":o.renderingType="default",this.addCaptions(r,0,x[r].captionData),E.trigger(V["default"].TEXT_TRACK_ADDED)}p.call(this,n),0<=n&&(I.textTracks[n].mode="showing",this.addCaptions(n,0,null)),E.trigger(V["default"].TEXT_TRACKS_ADDED,{index:O,tracks:x})}}else S("Trying to add too many tracks.")}function u(e,t,n,r,i,o){var a=0,s=0;n/r<e/t?a=(s=t)/r*n:s=(a=e)/n*r;var u=0,l=0,c=0,f=0;return l=i<a/s?(u=(e-(c=(f=s)/(1/i)))/2,0):(u=0,(t-(f=(c=a)/i))/2),o?{x:u+.1*c,y:l+.1*f,w:.8*c,h:.8*f}:{x:u,y:l,w:c,h:f}}function l(){var e=this.getCurrentTextTrack();if(e&&"html"===e.renderingType){var t=I.clientWidth/I.clientHeight,n=!1;e.isFromCEA608&&(t=3.5/3,n=!0);var r=u.call(this,I.clientWidth,I.clientHeight,I.videoWidth,I.videoHeight,t,n),i=r.w,o=r.h;if(i!=R||o!=D){k=r.x,M=r.y,R=i,D=o,N.style.left=k+"px",N.style.top=M+"px",N.style.width=R+"px",N.style.height=D+"px";for(var a=0;e.activeCues&&a<e.activeCues.length;++a){var s=e.activeCues[a];s.scaleCue(s)}F&&document[F]||B?N.style.zIndex=U:N.style.zIndex=null}}}function c(e,t){return Math.round(.01*e*t).toString()+"px"}function f(e){var t=R,n=D;if(t*n!=0&&e.layout){var r=e.layout,i=c(r.left,t),o=c(r.top,n),a=c(r.width,t),s=c(r.height,n);N.style.left=i,N.style.top=o,N.style.width=a,N.style.height=s;var u=N.firstChild;u&&u.style&&(u.style.left="0px",u.style.top="0px",u.style.width=a,u.style.height=s)}}function d(e){var t,n,r,i=D,o=[R/e.cellResolution[0],i/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){n=(e.linePadding[t]*o[0]).toString();for(var a=document.getElementsByClassName("spanPadding"),s=0;s<a.length;s++)a[s].style.cssText=a[s].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n),a[s].style.cssText=a[s].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.fontSize)for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){n=(e.fontSize[t]/100*o[1]).toString(),r="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var u=0;u<r.length;u++)r[u].style.cssText=r[u].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){n=(e.lineHeight[t]/100*o[1]).toString(),r=document.getElementsByClassName(t);for(var l=0;l<r.length;l++)r[l].style.cssText=r[l].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}}function r(e,t,n){var r=0<=e?I.textTracks[e]:null,i=this;if(r){if("showing"!==r.mode)return void(n&&0<n.length&&(r.nonAddedCues=r.nonAddedCues.concat(n)));if(n||(n=r.nonAddedCues,r.nonAddedCues=[]),n&&0!==n.length)for(var o in n){var a,s=n[o];r.cellResolution=s.cellResolution,r.isFromCEA608=s.isFromCEA608,L||"html"!==s.type&&"image"!==s.type||(L=setInterval(l.bind(this),500)),"image"===s.type?((a=new P(s.start-t,s.end-t,"")).image=s.data,a.id=s.id,a.size=0,a.type="image",a.layout=s.layout,a.scaleCue=f.bind(i),a.onenter=function(){if(N&&"showing"===r.mode){var e=new Image;e.id="ttmlImage_"+this.id,e.src=this.image,e.style.cssText="z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;",N.appendChild(e),f.call(i,this)}},a.onexit=function(){if(N)for(var e=N.childNodes,t=0;t<e.length;t++)e[t].id==="ttmlImage_"+this.id&&N.removeChild(e[t])}):"html"===s.type?((a=new P(s.start-t,s.end-t,"")).cueHTMLElement=s.cueHTMLElement,a.regions=s.regions,a.regionID=s.regionID,a.cueID=s.cueID,a.videoWidth=s.videoWidth,a.videoHeight=s.videoHeight,a.cellResolution=s.cellResolution,a.fontSize=s.fontSize,a.lineHeight=s.lineHeight,a.linePadding=s.linePadding,a.scaleCue=d.bind(i),N.style.left=k+"px",N.style.top=M+"px",N.style.width=R+"px",N.style.height=D+"px",a.onenter=function(){"showing"===r.mode&&(S("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText),N.appendChild(this.cueHTMLElement),d.call(i,this))},a.onexit=function(){for(var e=N.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&N.removeChild(e[t])}):(a=new P(s.start-t,s.end-t,s.data),s.styles&&(void 0!==s.styles.align&&a.hasOwnProperty("align")&&(a.align=s.styles.align),void 0!==s.styles.line&&a.hasOwnProperty("line")&&(a.line=s.styles.line),void 0!==s.styles.position&&a.hasOwnProperty("position")&&(a.position=s.styles.position),void 0!==s.styles.size&&a.hasOwnProperty("size")&&(a.size=s.styles.size))),r.addCue(a)}}}function i(){return 0<=O?I.textTracks[O]:null}function o(){return O}function s(e){for(var t=-1,n=0;n<I.textTracks.length;n++)if(I.textTracks[n].label===e){t=n;break}return t}function p(e){(O=e,b.call(this),0<=e)?"html"===I.textTracks[e].renderingType?y.call(this):_.call(this):_.call(this)}function h(e){return I.textTracks[e]}function g(e){if(e.cues){for(var t=e.cues,n=t.length-1;0<=n;n--)e.removeCue(t[n]);e.mode="disabled"}}function v(){for(var e=A.length,t=0;t<e;t++)if(j)I.removeChild(A[t]);else{var n=h.call(this,t);n.nonAddedCues=[],g.call(this,n)}A=[],x=[],L&&(clearInterval(L),L=null),b.call(this)}function m(e){I.removeChild(A[e]),A.splice(e,1)}function y(){if(j){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet;I.id?t.insertRule("#"+I.id+"::cue {background: transparent}",0):0!==I.classList.length?t.insertRule("."+I.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0)}}}function _(){if(j){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}}function b(){if(N)for(;N.firstChild;)N.removeChild(N.firstChild)}function T(e){e&&e.videoModel&&(C=e.videoModel)}var w=this.context,E=(0,H["default"])(w).getInstance(),S=(0,z["default"])(w).getInstance().log,P=void 0,C=void 0,I=void 0,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0,F=void 0,B=void 0,U=void 0;return{initialize:e,displayCConTop:t,addTextTrack:n,addCaptions:r,getTextTrack:h,getCurrentTextTrack:i,getCurrentTrackIdx:o,setCurrentTrackIdx:p,getTrackIdxForId:s,deleteTrackCues:g,deleteAllTextTracks:v,deleteTextTrack:m,setConfig:T}}Object.defineProperty(n,"__esModule",{value:!0});var H=r(e(9)),V=r(e(13)),o=r(e(10)),z=r(e(8));i.__dashjs_factory_name="TextTracks",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,8:8,9:9}],58:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){function t(){var e;S=[],P=[],C=[],a(e={},s.HTTPRequest.MPD_TYPE,l["default"].DOWNLOAD_ERROR_ID_MANIFEST),a(e,s.HTTPRequest.XLINK_EXPANSION_TYPE,l["default"].DOWNLOAD_ERROR_ID_XLINK),a(e,s.HTTPRequest.INIT_SEGMENT_TYPE,l["default"].DOWNLOAD_ERROR_ID_INITIALIZATION),a(e,s.HTTPRequest.MEDIA_SEGMENT_TYPE,l["default"].DOWNLOAD_ERROR_ID_CONTENT),a(e,s.HTTPRequest.INDEX_SEGMENT_TYPE,l["default"].DOWNLOAD_ERROR_ID_CONTENT),a(e,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,l["default"].DOWNLOAD_ERROR_ID_CONTENT),a(e,s.HTTPRequest.OTHER_TYPE,l["default"].DOWNLOAD_ERROR_ID_CONTENT),I=e}function _(n,e){var t,r=n.request,i=new XMLHttpRequest,o=[],a=!0,s=!0,u=new Date,l=u,c=0,f=function(e){s=!1,r.requestStartDate=u,r.requestEndDate=new Date,r.firstByteDate=r.firstByteDate||u,r.checkExistenceOnly||w.addHttpRequest(r.mediaType,null,r.type,r.url,i.responseURL||null,r.serviceLocation||null,r.range||null,r.requestStartDate,r.firstByteDate,r.requestEndDate,i.status,r.duration,i.getAllResponseHeaders(),e?o:null)},d=function(){-1!==S.indexOf(i)&&(S.splice(S.indexOf(i),1),s&&(f(!1),0<e?(e--,C.push(setTimeout(function(){_(n,e)},b.getRetryIntervalForType(r.type)))):(T.downloadError(I[r.type],r.url,r),n.error&&n.error(r,"error",i.statusText),n.complete&&n.complete(r,i.statusText))))},p=function(e){var t=new Date;a&&(a=!1,(!e.lengthComputable||e.lengthComputable&&e.total!==e.loaded)&&(r.firstByteDate=t)),e.lengthComputable&&(r.bytesLoaded=e.loaded,r.bytesTotal=e.total),o.push({s:l,d:t.getTime()-l.getTime(),b:[e.loaded?e.loaded-c:0]}),l=t,c=e.loaded,n.progress&&n.progress()},h=function(){200<=i.status&&i.status<=299&&(f(!0),n.success&&n.success(i.response,i.statusText,i),n.complete&&n.complete(r,i.statusText))};try{var g=E.modifyRequestURL(r.url),v=r.checkExistenceOnly?"HEAD":"GET";i.open(v,g,!0),r.responseType&&(i.responseType=r.responseType),r.range&&i.setRequestHeader("Range","bytes="+r.range),r.requestStartDate||(r.requestStartDate=u),(i=E.modifyRequestHeader(i)).withCredentials=b.getXHRWithCredentials(),i.onload=h,i.onloadend=d,i.onerror=d,i.onprogress=p;var m=(new Date).getTime();isNaN(r.delayLoadingTime)||m>=r.delayLoadingTime?(S.push(i),i.send()):(t={xhr:i},P.push(t),t.delayTimeout=setTimeout(function(){if(-1!==P.indexOf(t)){P.splice(P.indexOf(t),1);try{S.push(t.xhr),t.xhr.send()}catch(e){t.xhr.onerror()}}},r.delayLoadingTime-m))}catch(y){i.onerror()}}function n(e){e.request&&_(e,b.getRetryAttemptsForType(e.request.type))}function r(){C.forEach(function(e){return clearTimeout(e)}),C=[],P.forEach(function(e){return clearTimeout(e.delayTimeout)}),P=[],S.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.abort()}),S=[]}var i=this.context,b=(0,u["default"])(i).getInstance(),T=e.errHandler,w=e.metricsModel,E=e.requestModifier,o=void 0,S=void 0,P=void 0,C=void 0,I=void 0;return o={load:n,abort:r},t(),o}Object.defineProperty(n,"__esModule",{value:!0});var s=e(179),o=r(e(10)),u=r(e(101)),l=r(e(151));i.__dashjs_factory_name="XHRLoader";var c=o["default"].getClassFactory(i);n["default"]=c,t.exports=n["default"]},{10:10,101:101,151:151,179:179}],59:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(n,r,i){var t=function(e,t){r.resolved=!0,r.resolvedContent=e||null,a.trigger(p["default"].XLINK_ELEMENT_LOADED,{element:r,resolveObject:i,error:e||t?null:new u["default"](h,"Failed loading Xlink element: "+n)})};if(n===o)t(null,!0);else{var e=new f["default"](n,c.HTTPRequest.XLINK_TYPE);s.load({request:e,success:function(e){t(e)},error:function(){t(null)}})}}function n(){s&&(s.abort(),s=null)}var o="urn:mpeg:dash:resolve-to-zero:2013",r=this.context,a=(0,d["default"])(r).getInstance(),s=(0,l["default"])(r).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});return{load:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(162)),l=r(e(58)),c=e(179),f=r(e(170)),d=r(e(9)),p=r(e(13)),o=r(e(10)),h=1;i.__dashjs_factory_name="XlinkLoader";var a=o["default"].getClassFactory(i);a.XLINK_LOADER_ERROR_LOADING_FAILURE=h,n["default"]=a,t.exports=n["default"]},{10:10,13:13,162:162,170:170,179:179,58:58,9:9}],60:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){G={video:!0,audio:!0},K={},Y={},W={},Q={},X={},$={},Z={},ne=te=!(J={}),se=(0,ce["default"])(B).getInstance(),ae=(0,de["default"])(B).getInstance(),re=(0,ve["default"])(B).getInstance(),ie=(0,me["default"])(B).getInstance(),oe=(0,ye["default"])(B).getInstance()}function t(e,t){J[e]=t,Z[e]=Z[e]||{},Z[e].state=be,U.on(ge["default"].LOADING_PROGRESS,F,this)}function n(e){e&&(e.abrRulesCollection&&(V=e.abrRulesCollection),e.rulesController&&(z=e.rulesController),e.streamController&&(q=e.streamController))}function u(e,t){return K[t]=K[t]||{},K[t].hasOwnProperty(e)||(K[t][e]=0),j(L(N(K[t][e],e),e,K[t][e]),e)}function r(e){var t=se.getSavedBitrateSettings(e);if(!Q.hasOwnProperty(e))if(X.hasOwnProperty(e)){var n=re.getValue(),r=ie.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*X[e])-1,0);Q[e]=r[i].bandwidth}else Q[e]=0}else isNaN(t)?Q[e]="video"===e?Te:we:Q[e]=t;return Q[e]}function i(e,t){Q[e]=t}function o(e){return X.hasOwnProperty(e)?X[e]:null}function a(e,t){X[e]=t}function s(e){return Q.hasOwnProperty("max")&&Q.max.hasOwnProperty(e)?Q.max[e]:NaN}function l(e,t){Q.max=Q.max||{},Q.max[e]=t}function c(e){return X.hasOwnProperty("max")&&X.max.hasOwnProperty(e)?X.max[e]:1}function f(e,t){X.max=X.max||{},X.max[e]=t}function d(e){return G[e]}function p(e,t){G[e]=t}function h(){return te}function g(e){te=e}function v(){return ne}function m(e){ne=e}function y(e,i){var o=e.getType(),a=e.getStreamInfo(),s=a.id,t=function(e){var t=u(o,s),n=e.value;n<0&&(n=0),t<n&&(n=t);var r=O(o,a);n!==r&&(Z[o].state===be||r<n)&&(R(o,s,e.confidence),b(o,a,r,n,e.reason)),i&&i()};if(d(o)){var n=V.getRules(fe["default"].QUALITY_SWITCH_RULES);z.applyRules(n,e,t,O(o,a),function(e,t){return e=e===ue["default"].NO_CHANGE?0:e,Math.max(e,t)})}else i&&i()}function _(e,t,n,r){var i=t.id,o=O(e,t);if(!(null!==n&&!isNaN(n)&&n%1==0))throw new Error("argument is not an integer");n!==o&&0<=n&&n<=u(e,i)&&b(e,t,o,n,r)}function b(e,t,n,r,i){k(e,t.id,r),U.trigger(ge["default"].QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:t,oldQuality:n,newQuality:r,reason:i})}function T(e,t){Z[e].state=t}function w(e){return Z[e].state}function E(e,t){var n=S(e);if(!n||0===n.length)return Ee;for(var r=n.length-1;0<=r;r--){if(1e3*t>=n[r].bitrate)return r}return 0}function S(e){if(!e||!e.bitrateList)return null;for(var t,n=e.bitrateList,r=e.type,i=[],o=0,a=n.length;o<a;o++)(t=new le["default"]).mediaType=r,t.qualityIndex=o,t.bitrate=n[o].bandwidth,t.width=n[o].width,t.height=n[o].height,i.push(t);return i}function P(e,t){$[e]=t}function C(e){return $[e]}function I(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return D(t,n,r),r}function x(e){var t=e.id,n=O("audio",e),r=O("video",e);return n===u("audio",t)&&r===u("video",t)}function A(){U.off(ge["default"].LOADING_PROGRESS,F,this),clearTimeout(ee),ee=null,e()}function O(e,t){var n=t.id;return Y[n]=Y[n]||{},Y[n].hasOwnProperty(e)||(Y[n][e]=Ee),Y[n][e]}function k(e,t,n){Y[t]=Y[t]||{},Y[t][e]=n}function M(e,t){return W[t]=W[t]||{},W[t].hasOwnProperty(e)||(W[t][e]=0),W[t][e]}function R(e,t,n){W[t]=W[t]||{},W[t][e]=n}function D(e,t,n){K[t]=K[t]||{},K[t][e]=n}function N(e,t){var n=s(t);if(isNaN(n)||!J[t])return e;var r=E(J[t].getMediaInfo(),n);return Math.min(e,r)}function L(e,t,n){var r=c(t);return isNaN(r)||1<=r||r<0?e:Math.min(e,Math.round(n*r))}function j(e,t){if("video"!==t||!te||!J[t])return e;var n=ne&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,r=oe.getElement(),i=r.clientWidth*n,o=r.clientHeight*n,a=re.getValue(),s=ie.getAdaptationForType(a,0,t).Representation,u=e;if(0<i&&0<o){for(;0<u&&s[u]&&i<s[u].width&&i-s[u-1].width<s[u].width-i;)u-=1;s.length-2>=u&&s[u].width===s[u+1].width&&(u=Math.min(e,u+1))}return u}function F(i){var o=i.request.mediaType;if(d(o)){var e=function(){var e=V.getRules(fe["default"].ABANDON_FRAGMENT_RULES),r=J[o].getScheduleController();if(!r)return{v:void 0};var t=function(e){if(e.confidence===ue["default"].STRONG&&e.value<O(o,q.getActiveStreamInfo())){var t=r.getFragmentModel(),n=t.getRequests({state:pe["default"].FRAGMENT_MODEL_LOADING,index:i.request.index})[0];n&&(t.abortRequests(),T(o,_e),_(o,q.getActiveStreamInfo(),e.value,e.reason),U.trigger(ge["default"].FRAGMENT_LOADING_ABANDONED,{streamProcessor:J[o],request:n,mediaType:o}),clearTimeout(ee),ee=setTimeout(function(){T(o,be),ee=null},ae.getAbandonLoadTimeout()))}};z.applyRules(e,J[o],t,i,function(e,t){return t})}();if("object"==typeof e)return e.v}}var B=this.context,U=(0,he["default"])(B).getInstance(),H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0;return H={isPlayingAtTopQuality:x,updateTopQualityIndex:I,getAverageThroughput:C,getBitrateList:S,getQualityForBitrate:E,getMaxAllowedBitrateFor:s,setMaxAllowedBitrateFor:l,getMaxAllowedRepresentationRatioFor:c,setMaxAllowedRepresentationRatioFor:f,getInitialBitrateFor:r,setInitialBitrateFor:i,getInitialRepresentationRatioFor:o,setInitialRepresentationRatioFor:a,setAutoSwitchBitrateFor:p,getAutoSwitchBitrateFor:d,setLimitBitrateByPortal:g,getLimitBitrateByPortal:h,getUsePixelRatioInLimitBitrateByPortal:v,setUsePixelRatioInLimitBitrateByPortal:m,getConfidenceFor:M,getQualityFor:O,getAbandonmentStateFor:w,setAbandonmentStateFor:T,setPlaybackQuality:_,
getPlaybackQuality:y,setAverageThroughput:P,getTopQualityIndexFor:u,initialize:t,setConfig:n,reset:A},e(),H}Object.defineProperty(n,"__esModule",{value:!0});var ue=r(e(130)),le=r(e(160)),ce=r(e(149)),fe=r(e(131)),de=r(e(101)),pe=r(e(99)),he=r(e(9)),ge=r(e(13)),o=r(e(10)),ve=r(e(100)),me=r(e(22)),ye=r(e(104)),_e="abandonload",be="allowload",Te=1e3,we=100,Ee=0;i.__dashjs_factory_name="AbrController";var a=o["default"].getSingletonFactory(i);a.ABANDON_LOAD=_e,a.QUALITY_DEFAULT=Ee,n["default"]=a,t.exports=n["default"]},{10:10,100:100,101:101,104:104,13:13,130:130,131:131,149:149,160:160,22:22,9:9,99:99}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){c.invalidateSelectedIndexes(e.entry)}function t(){c=(0,d["default"])(s).create(),f=(0,p["default"])(s).create(),u.on(m["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,e,a)}function n(e){c.update(e),f.chooseSelectorFromManifest(e)}function r(e){var t=c.getForPath(e).reduce(function(e,t){var n=f.select(t);return n&&(l.isRelative(n.url)?e.url+=n.url:l.isPathAbsolute(n.url)?e.url=l.parseOrigin(e.url)+n.url:(e.url=n.url,e.serviceLocation=n.serviceLocation)),e},new g["default"]);if(!l.isRelative(t.url))return t}function i(){c.reset(),f.reset()}function o(e){n(e)}var a=void 0,s=this.context,u=(0,v["default"])(s).getInstance(),l=(0,h["default"])(s).getInstance(),c=void 0,f=void 0;return a={reset:i,initialize:o,resolve:r},t(),a}Object.defineProperty(n,"__esModule",{value:!0});var d=r(e(98)),p=r(e(145)),h=r(e(158)),g=r(e(40)),o=r(e(10)),v=r(e(9)),m=r(e(13));i.__dashjs_factory_name="BaseURLController",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,145:145,158:158,40:40,9:9,98:98}],62:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){return!!(a.length&&e&&e.length)&&-1!==a.indexOf(e)}function n(e){-1===a.indexOf(e)&&(a.push(e),s.trigger(u,{entry:e}))}function r(e){e.error&&n(e.request.serviceLocation)}function i(){l&&s.on(l,r,this)}function o(){a=[]}var a=[],s=(0,c["default"])(this.context).getInstance(),u=e.updateEventName,l=e.loadFailedEventName;return i(),{add:n,contains:t,reset:o}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),c=r(e(9));i.__dashjs_factory_name="BlackListController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,9:9}],63:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){ee=Se["default"].QUALITY_DEFAULT,te=!1,ne=0,re=Number.POSITIVE_INFINITY,ue=null,le=Re,fe=ae=oe=0,he=pe=de=!1}function n(e,t,n){se=e,F(t),ve=n,_e=(0,we["default"])(V).getInstance(),ge=(0,Pe["default"])(V).getInstance(),me=(0,Se["default"])(V).getInstance(),be=(0,ke["default"])(V).getInstance(),ye=ve.getScheduleController(),ee=me.getQualityFor(se,ve.getStreamInfo()),q.on(xe["default"].DATA_UPDATE_COMPLETED,C,this),q.on(xe["default"].INIT_FRAGMENT_LOADED,o,this),q.on(xe["default"].MEDIA_FRAGMENT_LOADED,s,this),q.on(xe["default"].QUALITY_CHANGE_REQUESTED,c,this),q.on(xe["default"].STREAM_COMPLETED,I,this),q.on(xe["default"].PLAYBACK_PROGRESS,d,this),q.on(xe["default"].PLAYBACK_TIME_UPDATED,d,this),q.on(xe["default"].PLAYBACK_RATE_CHANGED,O,this),q.on(xe["default"].PLAYBACK_SEEKING,f,this),q.on(xe["default"].WALLCLOCK_TIME_UPDATED,A,this),q.on(xe["default"].CURRENT_TRACK_CHANGED,x,this,Ie["default"].EVENT_PRIORITY_HIGH),q.on(xe["default"].SOURCEBUFFER_APPEND_COMPLETED,u,this),q.on(xe["default"].SOURCEBUFFER_REMOVE_COMPLETED,S,this)}function r(e){if(!e||!ie||!ve)return null;var t=null;try{(t=Y.createSourceBuffer(ie,e))&&t.hasOwnProperty("initialize")&&t.initialize(se,this)}catch(n){W.mediaSourceError("Error creating "+se+" source buffer.")}return N(t),P(ve.getRepresentationInfoForQuality(ee).MSETimeOffset),t}function i(){return ve.getStreamInfo().id===Q.getActiveStreamInfo().id}function o(e){e.fragmentModel===ve.getFragmentModel()&&(z("Init fragment finished loading saving to",se+"'s init cache"),be.save(e.chunk),l(e.chunk))}function a(e,t){var n=be.extract(e,se,t);n?l(n):q.trigger(xe["default"].INIT_REQUESTED,{sender:Z})}function s(e){if(e.fragmentModel===ve.getFragmentModel()){var t=e.chunk,n=t.bytes,r=t.quality,i=ve.getRepresentationInfoForQuality(r),o=K.getValue(),a=$.getEventsFor(o,i.mediaInfo,ve),s=$.getEventsFor(o,i,ve);if(0<a.length||0<s.length){var u=y(n,ve.getFragmentModel().getRequests({state:Te["default"].FRAGMENT_MODEL_EXECUTED,quality:r,index:t.index})[0],a,s);ve.getEventController().addInbandEvents(u)}t.bytes=_(n),l(t)}}function l(e){de=!0,ce=e,Y.append(ue,e),"video"===e.mediaInfo.type&&e.mediaInfo.embeddedCaptions&&J.append(e.bytes,e)}function u(e){if(ue===e.buffer){if(e.error||!b())return e.error.code===Ee["default"].QUOTA_EXCEEDED_ERROR_CODE&&(re=.8*Y.getTotalBufferedTime(ue)),void(e.error.code!==Ee["default"].QUOTA_EXCEEDED_ERROR_CODE&&b()||(q.trigger(xe["default"].QUOTA_EXCEEDED,{sender:Z,criticalBufferLevel:re}),E(w())));isNaN(ce.index)||(oe=Math.max(ce.index,oe),g());var t=Y.getAllRanges(ue);if(t&&0<t.length)for(var n=0,r=t.length;n<r;n++)z("Buffered Range for type:",se,":",t.start(n)," - ",t.end(n));d(),de=!1,q.trigger(xe["default"].BYTES_APPENDED,{sender:Z,quality:ce.quality,startTime:ce.start,index:ce.index,bufferedRanges:t})}}function c(e){ee!==e.newQuality&&se===e.mediaType&&ve.getStreamInfo().id===e.streamInfo.id&&(P(ve.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),ee=e.newQuality)}function f(){ae=0,te=!1,d()}function d(){p(),h()}function p(){ne=Y.getBufferLength(ue,ge.getTime()),q.trigger(xe["default"].BUFFER_LEVEL_UPDATED,{sender:Z,bufferLevel:ne}),v()}function h(){i()&&(G.addBufferState(se,le,ye.getBufferTarget()),G.addBufferLevel(se,new Date,1e3*ne))}function g(){oe===ae-1&&!te&&(te=!0,q.trigger(xe["default"].BUFFERING_COMPLETED,{sender:Z,streamInfo:ve.getStreamInfo()}))}function v(){m(ne<De&&!te?Re:Me)}function m(e){le===e||"fragmentedText"===se&&J.getAllTracksAreDisabled()||(le=e,h(),q.trigger(xe["default"].BUFFER_LEVEL_STATE_CHANGED,{sender:Z,state:e,mediaType:se,streamInfo:ve.getStreamInfo()}),q.trigger(e===Me?xe["default"].BUFFER_LOADED:xe["default"].BUFFER_EMPTY,{mediaType:se}),z(e===Me?"Got enough buffer to start.":"Waiting for more buffer before starting playback."))}function y(e,t,n,r){var i=Math.max(isNaN(t.startTime)?0:t.startTime,0),o=[],a=[];he=!1;for(var s=n.concat(r),u=0,l=s.length;u<l;u++)o[s[u].schemeIdUri]=s[u];var c=(0,Ae["default"])(V).getInstance().parse(e).getBoxes("emsg");for(u=0,l=c.length;u<l;u++){var f=$.getEvent(c[u],o,i);f&&a.push(f)}return a}function _(e){if(!he)return e;for(var t=e.length,n=Math.pow(256,2),r=Math.pow(256,3),i=new Uint8Array(e.length),o=0,a=0;o<t;){var s=String.fromCharCode(e[o+4],e[o+5],e[o+6],e[o+7]),u=e[o]*r+e[o+1]*n+256*e[o+2]+1*e[o+3];if("emsg"!=s)for(var l=o;l<o+u;l++)i[a]=e[l],a++;o+=u}return i.subarray(0,a)}function b(){return Y.getTotalBufferedTime(ue)<re}function T(){if("fragmentedText"!==se){var e=ue.buffered.length?ue.buffered.start(0):0,t=ge.getTime()-e-_e.getBufferToKeep();0<t&&(z("pruning buffer: "+t+" seconds."),pe=!0,Y.remove(ue,0,Math.round(e+t),ie))}}function w(){if(!ue)return null;var e=ge.getTime(),t=ve.getFragmentModel().getRequests({state:Te["default"].FRAGMENT_MODEL_EXECUTED,time:e})[0],n=Y.getBufferRange(ue,e),r=t&&!isNaN(t.startTime)?t.startTime:Math.floor(e);return null===n&&0<ue.buffered.length&&(r=ue.buffered.end(ue.buffered.length-1)),{start:ue.buffered.start(0),end:r}}function E(e){e&&ue&&Y.remove(ue,e.start,e.end,ie)}function S(e){ue===e.buffer&&(pe&&(pe=!1),p(),q.trigger(xe["default"].BUFFER_CLEARED,{sender:Z,from:e.from,to:e.to,hasEnoughSpaceToAppend:b()}))}function P(e){ue&&ue.timestampOffset!==e&&!isNaN(e)&&(ue.timestampOffset=e)}function C(e){e.sender.getStreamProcessor()!==ve||e.error||P(e.currentRepresentation.MSETimeOffset)}function I(e){e.fragmentModel===ve.getFragmentModel()&&(ae=e.request.index,g())}function x(e){ue&&e.newMediaInfo.type===se&&e.newMediaInfo.streamInfo.id===ve.getStreamInfo().id&&X.getSwitchMode(se)===Ce["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE&&E(w())}function A(){++fe*(_e.getWallclockTimeUpdateInterval()/1e3)>=_e.getBufferPruningInterval()&&!de&&(fe=0,T())}function O(){v()}function k(){return se}function M(){return ve}function R(e){ve=e}function D(){return ue}function N(e){ue=e}function L(){return ne}function j(){return re}function F(e){ie=e}function B(){return ie}function U(){return te}function H(e){q.off(xe["default"].DATA_UPDATE_COMPLETED,C,this),q.off(xe["default"].QUALITY_CHANGE_REQUESTED,c,this),q.off(xe["default"].INIT_FRAGMENT_LOADED,o,this),q.off(xe["default"].MEDIA_FRAGMENT_LOADED,s,this),q.off(xe["default"].STREAM_COMPLETED,I,this),q.off(xe["default"].CURRENT_TRACK_CHANGED,x,this),q.off(xe["default"].PLAYBACK_PROGRESS,d,this),q.off(xe["default"].PLAYBACK_TIME_UPDATED,d,this),q.off(xe["default"].PLAYBACK_RATE_CHANGED,O,this),q.off(xe["default"].PLAYBACK_SEEKING,f,this),q.off(xe["default"].WALLCLOCK_TIME_UPDATED,A,this),q.off(xe["default"].SOURCEBUFFER_APPEND_COMPLETED,u,this),q.off(xe["default"].SOURCEBUFFER_REMOVE_COMPLETED,S,this),re=Number.POSITIVE_INFINITY,le=Re,ee=Se["default"].QUALITY_DEFAULT,oe=ae=0,pe=de=te=!1,ye=me=ve=ge=ce=null,e||(Y.abort(ie,ue),Y.removeSourceBuffer(ie,ue)),ue=null}var V=this.context,z=(0,Oe["default"])(V).getInstance().log,q=(0,Ie["default"])(V).getInstance(),G=e.metricsModel,K=e.manifestModel,Y=e.sourceBufferController,W=e.errHandler,Q=e.streamController,X=e.mediaController,$=e.adapter,J=e.textSourceBuffer,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0;return Z={initialize:n,createBuffer:r,getType:k,getStreamProcessor:M,setStreamProcessor:R,getBuffer:D,setBuffer:N,getBufferLevel:L,getCriticalBufferLevel:j,setMediaSource:F,getMediaSource:B,getIsBufferingCompleted:U,switchInitData:a,reset:H},t(),Z}Object.defineProperty(n,"__esModule",{value:!0});var Te=r(e(99)),we=r(e(101)),Ee=r(e(70)),Se=r(e(60)),Pe=r(e(68)),Ce=r(e(66)),Ie=r(e(9)),xe=r(e(13)),Ae=r(e(146)),o=r(e(10)),Oe=r(e(8)),ke=r(e(152)),Me="bufferLoaded",Re="bufferStalled",De=.5;i.__dashjs_factory_name="BufferController";var a=o["default"].getClassFactory(i);a.BUFFER_LOADED=Me,a.BUFFER_EMPTY=Re,n["default"]=a,t.exports=n["default"]},{10:10,101:101,13:13,146:146,152:152,60:60,66:66,68:68,70:70,8:8,9:9,99:99}],64:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){P=!1,v={},m={},y={},_=null,T=(b=100)/1e3,S=(0,C["default"])(p).getInstance()}function t(){null!==_&&P&&(clearInterval(_),_=null,P=!1)}function n(){h("Start Event Controller"),P||isNaN(b)||(P=!0,_=setInterval(a,b))}function r(e){if(v={},e)for(var t=0;t<e.length;t++){var n=e[t];v[n.id]=n,h("Add inline event with id "+n.id)}h("Added "+e.length+" inline events")}function i(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in m?h("Repeated event with id "+n.id):(m[n.id]=n,h("Add inband event with id "+n.id))}}function o(){if(y)for(var e=S.getTime(),t=Object.keys(y),n=0;n<t.length;n++){var r=t[n],i=y[r];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(h("Remove Event "+r+" at time "+e),i=null,delete y[r])}}function a(){u(m),u(v),o()}function s(){var e=w.getValue(),t=e.url;e.hasOwnProperty("Location")&&(t=e.Location),h("Refresh manifest @ "+t),E.getManifestLoader().load(t)}function u(e){var t,n=S.getTime();if(e)for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=e[o];void 0!==a&&((0===(t=a.presentationTime/a.eventStream.timescale)||t<=n&&n<t+T)&&(h("Start Event "+o+" at "+n),0<a.duration&&(y[o]=a),a.eventStream.schemeIdUri==f&&a.eventStream.value==d?s():g.trigger(a.eventStream.schemeIdUri,{event:a}),delete e[o]))}}function l(e){e&&(e.manifestModel&&(w=e.manifestModel),e.manifestUpdater&&(E=e.manifestUpdater))}function c(){t(),S=y=m=v=null}var f="urn:mpeg:dash:event:2012",d=1,p=this.context,h=(0,I["default"])(p).getInstance().log,g=(0,x["default"])(p).getInstance(),v=void 0,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,S=void 0,P=void 0;return{initialize:e,addInlineEvents:r,addInbandEvents:i,clear:t,start:n,setConfig:l,reset:c}}Object.defineProperty(n,"__esModule",{value:!0});var C=r(e(68)),o=r(e(10)),I=r(e(8)),x=r(e(9));i.__dashjs_factory_name="EventController",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,68:68,8:8,9:9}],65:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){f={},c.on(m["default"].FRAGMENT_LOADING_COMPLETED,i,a)}function t(e){var t=null;return null!=e&&0<e.byteLength&&(t=new Uint8Array(e)),t}function n(e){var t=f[e];return t||(t=(0,h["default"])(o).create({metricsModel:(0,g["default"])(o).getInstance()}),f[e]=t),t}function s(e){return e&&e.type&&e.type===d.HTTPRequest.INIT_SEGMENT_TYPE}function r(){for(var e in c.off(m["default"].FRAGMENT_LOADING_COMPLETED,i,this),f)f[e].reset();f={}}function u(e,t,n){var r=new p["default"];return r.streamId=n,r.mediaInfo=t.mediaInfo,r.segmentType=t.type,r.start=t.startTime,r.duration=t.duration,r.end=r.start+r.duration,r.bytes=e,r.index=t.index,r.quality=t.quality,r}function i(e){if(f[e.request.mediaType]===e.sender){var t=e.sender.getScheduleController(),n=e.request,r=e.response,i=s(n),o=t.getStreamProcessor().getStreamInfo().id;if(!r)return void l("No "+n.mediaType+" bytes to push.");var a=u(r,n,o);c.trigger(i?m["default"].INIT_FRAGMENT_LOADED:m["default"].MEDIA_FRAGMENT_LOADED,{chunk:a,fragmentModel:e.sender})}}var o=this.context,l=(0,y["default"])(o).getInstance().log,c=(0,v["default"])(o).getInstance(),a=void 0,f=void 0;return a={process:t,getModel:n,isInitializationRequest:s,reset:r},e(),a}Object.defineProperty(n,"__esModule",{value:!0});var d=e(179),p=r(e(161)),h=r(e(99)),g=r(e(102)),v=r(e(9)),m=r(e(13)),o=r(e(10)),y=r(e(8));i.__dashjs_factory_name="FragmentController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,13:13,161:161,179:179,8:8,9:9,99:99}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){x={},b(),_()}function t(e,t){var n=l(e),r=o(e,t),i=[];return"fragmentedText"===e?void s(r[0]):(n||u(e,n=I.getSavedMediaSettings(e)),void(r&&0!==r.length&&(n&&r.forEach(function(e){y(n,e)&&i.push(e)}),s(0===i.length?T(r):1<i.length?T(i):i[0]))))}function n(e){var t=e?e.type:null,n=e?e.streamInfo.id:null,r=l(t);return!(!e||!p(t)||(x[n]=x[n]||w(),0<=x[n][t].list.indexOf(e)||(x[n][t].list.push(e),r&&y(r,e)&&!a(t,e.streamInfo)&&s(e),0)))}function o(e,t){if(!e||!t)return[];var n=t.id;return x[n]&&x[n][e]?x[n][e].list:[]}function a(e,t){return!e||!t||t&&!x[t.id]?null:x[t.id][e].current}function r(e){var t=e.type,n=e.streamInfo.id;return x[n]&&x[n][t]&&h(x[n][t].current,e)}function s(e){if(e){var t=e.type,n=e.streamInfo,r=n.id,i=a(t,n);if(x[r]&&x[r][t]&&(!i||!h(e,i))){x[r][t].current=e,i&&P.trigger(D["default"].CURRENT_TRACK_CHANGED,{oldMediaInfo:i,newMediaInfo:e,switchMode:k[t]});var o=m(e);o&&x[r][t].storeLastSettings&&(o.roles&&(o.role=o.roles[0],delete o.roles),o.accessibility&&(o.accessibility=o.accessibility[0]),o.audioChannelConfiguration&&(o.audioChannelConfiguration=o.audioChannelConfiguration[0]),I.setSavedMediaSettings(t,o))}}}function u(e,t){e&&t&&(A[e]=t)}function l(e){return e?A[e]:null}function i(e,t){return-1!==M.indexOf(t)?void(k[e]=t):void S("track switch mode is not supported: "+t)}function c(e){return k[e]}function f(e){return-1!==R.indexOf(e)?void(O=e):void S("track selection mode is not supported: "+e)}function d(){return O||z}function p(e){return"audio"===e||"video"===e||"text"===e||"fragmentedText"===e}function h(e,t){var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&o&&a&&s}function g(e){e&&e.errHandler&&e.errHandler}function v(){e(),C.resetEmbedded()}function m(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&0<t.role.length||t.accessibility&&0<t.accessibility.length||t.audioChannelConfiguration&&0<t.audioChannelConfiguration.length?t:null}function y(t,e){var n=!t.lang||t.lang===e.lang,r=!t.viewpoint||t.viewpoint===e.viewpoint,i=!t.role||!!e.roles.filter(function(e){return e===t.role})[0],o=!t.accessibility||!!e.accessibility.filter(function(e){return e===t.accessibility})[0],a=!t.audioChannelConfiguration||!!e.audioChannelConfiguration.filter(function(e){return e===t.audioChannelConfiguration})[0];return n&&r&&i&&o&&a}function _(){k={audio:U,video:B}}function b(){A={audio:null,video:null}}function T(e){var t=d(),n=[],r=function(e){var t,n=0,r=[];return e.forEach(function(e){t=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})),n<t?(n=t,r=[e]):t===n&&r.push(e)}),r},i=function(e){var t,n=0,r=[];return e.forEach(function(e){t=e.representationCount,n<t?(n=t,r=[e]):t===n&&r.push(e)}),r};switch(t){case H:1<(n=r(e)).length&&(n=i(n));break;case V:1<(n=i(e)).length&&(n=r(e));break;default:S("track selection mode is not supported: "+t)}return n[0]}function w(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}}}var E=this.context,S=(0,L["default"])(E).getInstance().log,P=(0,N["default"])(E).getInstance(),C=(0,j["default"])(E).getInstance(),I=(0,F["default"])(E).getInstance(),x=void 0,A=void 0,O=void 0,k=void 0,M=[U,B],R=[H,V];return{initialize:e,checkInitialMediaSettingsForType:t,addTrack:n,getTracksFor:o,getCurrentTrackFor:a,isCurrentTrack:r,setTrack:s,setInitialSettings:u,getInitialSettings:l,setSwitchMode:i,getSwitchMode:c,setSelectionModeForInitialTrack:f,getSelectionModeForInitialTrack:d,isMultiTrackSupportedByType:p,isTracksEqual:h,setConfig:g,reset:v}}Object.defineProperty(n,"__esModule",{value:!0});var D=r(e(13)),N=r(e(9)),o=r(e(10)),L=r(e(8)),j=r(e(56)),F=r(e(149)),B="neverReplace",U="alwaysReplace",H="highestBitrate",V="widestRange",z=H;i.__dashjs_factory_name="MediaController";var a=o["default"].getSingletonFactory(i);a.TRACK_SWITCH_MODE_NEVER_REPLACE=B,a.TRACK_SWITCH_MODE_ALWAYS_REPLACE=U,a.TRACK_SELECTION_MODE_HIGHEST_BITRATE=H,a.TRACK_SELECTION_MODE_WIDEST_RANGE=V,a.DEFAULT_INIT_TRACK_SELECTION_MODE=z,n["default"]=a,t.exports=n["default"]},{10:10,13:13,149:149,56:56,8:8,9:9}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null}function t(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n}function n(e){e.setSource(null)}function r(e,t){return e.duration!=t&&(e.duration=t),e.duration}function i(e){var t=e.sourceBuffers,n=t.length,r=0;if("open"===e.readyState){for(;r<n;r++){if(t[r].updating)return;if(0===t[r].buffered.length)return}e.endOfStream()}}return{createMediaSource:e,attachMediaSource:t,detachMediaSource:n,setDuration:r,signalEndOfStream:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="MediaSourceController",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],68:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){ae=0,se=NaN,fe=ue=null,pe=!1,le={},de=(0,ve["default"])(Y).getInstance()}function t(e){ce=e,$=oe.getElement(),G(),fe=ce.manifestInfo.isDynamic,se=ce.start,Q.on(ye["default"].DATA_UPDATE_COMPLETED,x,this),Q.on(ye["default"].LIVE_EDGE_SEARCH_COMPLETED,A,this),Q.on(ye["default"].BYTES_APPENDED,z,this),Q.on(ye["default"].BUFFER_LEVEL_STATE_CHANGED,q,this),Q.on(ye["default"].PERIOD_SWITCH_STARTED,n,this),pe&&(pe=!1,s())}function n(e){e.fromStreamInfo&&le[e.fromStreamInfo.id]&&delete le[e.fromStreamInfo.id]}function r(){return w(!0)+ce.duration-d()}function i(){return 0<d()}function o(){return ce.id}function a(){return ce.duration}function s(){if($){$.autoplay=!0;var e=$.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e["catch"](function(e){"NotAllowedError"===e.name&&Q.trigger(ye["default"].PLAYBACK_NOT_ALLOWED),W("Caught pending play exception - continuing ("+e+")")})}else pe=!0}function u(){if($)return $.paused}function l(){$&&($.pause(),$.autoplay=!1)}function c(){if($)return $.seeking}function f(e){oe&&(W("Requesting seek to time: "+e),oe.setCurrentTime(e))}function d(){if($)return $.currentTime}function p(){if($)return $.playbackRate}function h(){if($)return $.played}function g(){if($)return $.ended}function v(){return fe}function m(e){se=e}function y(){return se}function _(e,t){var n=re.getMpd(ne.getValue()),r=void 0,i=10;r=de.getUseSuggestedPresentationDelay()&&n.hasOwnProperty("suggestedPresentationDelay")?n.suggestedPresentationDelay:de.getLiveDelay()?de.getLiveDelay():isNaN(e)?2*ce.manifestInfo.minBufferTime:e*de.getLiveDelayFragmentCount();var o=Math.max(t-i,t/2);return Math.min(r,o)}function b(){oe&&$&&(Q.off(ye["default"].DATA_UPDATE_COMPLETED,x,this),Q.off(ye["default"].BUFFER_LEVEL_STATE_CHANGED,q,this),Q.off(ye["default"].LIVE_EDGE_SEARCH_COMPLETED,A,this),Q.off(ye["default"].BYTES_APPENDED,z,this),P(),K()),fe=$=ce=oe=null,e()}function T(e){e&&(e.streamController&&(J=e.streamController),e.timelineConverter&&(Z=e.timelineConverter),e.metricsModel&&(ee=e.metricsModel),e.dashMetrics&&(te=e.dashMetrics),e.manifestModel&&(ne=e.manifestModel),e.dashManifestModel&&(re=e.dashManifestModel),e.adapter&&(ie=e.adapter),e.videoModel&&(oe=e.videoModel))}function w(e){var t=void 0,n=(0,ge["default"])(Y).getInstance().getURIFragmentData(),r=parseInt(n.s,10),i=parseInt(n.t,10),o=NaN;if(e||(o=isNaN(r)?i:r),fe)!isNaN(o)&&1262304e3<o&&(t=o-ce.manifestInfo.availableFrom.getTime()/1e3,(se<t||t<se-ce.manifestInfo.DVRWindowSize)&&(t=null)),t=t||se;else if(!isNaN(o)&&o<Math.max(ce.manifestInfo.duration,ce.duration)&&0<=o)t=o;else{var a=le[ce.id];void 0===a&&(a=J.getActiveStreamCommonEarliestTime()),t=Math.max(a,ce.start)}return t}function E(e){var t=ee.getReadOnlyMetricsFor("video")||ee.getReadOnlyMetricsFor("audio"),n=te.getCurrentDVRInfo(t),r=n?n.range:null;return r?e>=r.start&&e<=r.end?e:Math.max(r.end-2*ce.manifestInfo.minBufferTime,r.start):NaN}function S(){null===ue&&(ue=setInterval(function(){V()},de.getWallclockTimeUpdateInterval()))}function P(){clearInterval(ue),ue=null}function C(){var e=w(!1);0<e&&(f(e),W("Starting playback at offset: "+e))}function I(){if(!u()&&fe&&0!==$.readyState){var e=d(),t=E(e);!isNaN(t)&&t!==e&&f(t)}}function x(e){if(!e.error){var t=ie.convertDataToTrack(ne.getValue(),e.currentRepresentation).mediaInfo.streamInfo;ce.id===t.id&&(ce=t,I())}}function A(e){e.error||0===$.readyState||C()}function O(){Q.trigger(ye["default"].CAN_PLAY)}function k(){W("Native video element event: play"),I(),S(),Q.trigger(ye["default"].PLAYBACK_STARTED,{startTime:d()})}function M(){W("Native video element event: playing"),Q.trigger(ye["default"].PLAYBACK_PLAYING,{playingTime:d()})}function R(){W("Native video element event: pause"),Q.trigger(ye["default"].PLAYBACK_PAUSED,{ended:g()})}function D(){var e=d();W("Seeking to: "+e),S(),Q.trigger(ye["default"].PLAYBACK_SEEKING,{seekTime:e})}function N(){W("Native video element event: seeked"),Q.trigger(ye["default"].PLAYBACK_SEEKED)}function L(){var e=d();e!==ae&&(ae=e,Q.trigger(ye["default"].PLAYBACK_TIME_UPDATED,{timeToEnd:r(),time:e}))}function j(){Q.trigger(ye["default"].PLAYBACK_PROGRESS)}function F(){var e=p();W("Native video element event: ratechange: ",e),Q.trigger(ye["default"].PLAYBACK_RATE_CHANGED,{playbackRate:e})}function B(){W("Native video element event: loadedmetadata"),(!fe&&ce.isFirst||Z.isTimeSyncCompleted())&&C(),Q.trigger(ye["default"].PLAYBACK_METADATA_LOADED),S()}function U(){W("Native video element event: ended"),l(),P(),Q.trigger(ye["default"].PLAYBACK_ENDED)}function H(e){var t=e.target||e.srcElement;Q.trigger(ye["default"].PLAYBACK_ERROR,{error:t.error})}function V(){Q.trigger(ye["default"].WALLCLOCK_TIME_UPDATED,{isDynamic:fe,time:new Date})}function z(e){var t=e.bufferedRanges;if(t&&t.length){var n=Math.max(t.start(0),ce.start),r=void 0===le[ce.id]?n:Math.max(le[ce.id],n);r!==le[ce.id]&&(!fe&&w(!0)<r&&d()<r&&f(r),le[ce.id]=r)}}function q(e){e.streamInfo.id===ce.id&&oe.setStallState(e.mediaType,e.state===he["default"].BUFFER_EMPTY)}function G(){$.addEventListener("canplay",O),$.addEventListener("play",k),$.addEventListener("playing",M),$.addEventListener("pause",R),$.addEventListener("error",H),$.addEventListener("seeking",D),$.addEventListener("seeked",N),$.addEventListener("timeupdate",L),$.addEventListener("progress",j),$.addEventListener("ratechange",F),$.addEventListener("loadedmetadata",B),$.addEventListener("ended",U)}function K(){$.removeEventListener("canplay",O),$.removeEventListener("play",k),$.removeEventListener("playing",M),$.removeEventListener("pause",R),$.removeEventListener("error",H),$.removeEventListener("seeking",D),$.removeEventListener("seeked",N),$.removeEventListener("timeupdate",L),$.removeEventListener("progress",j),$.removeEventListener("ratechange",F),$.removeEventListener("loadedmetadata",B),$.removeEventListener("ended",U)}var Y=this.context,W=(0,_e["default"])(Y).getInstance().log,Q=(0,me["default"])(Y).getInstance(),X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0;return X={initialize:t,setConfig:T,getStreamStartTime:w,getTimeToStreamEnd:r,isPlaybackStarted:i,getStreamId:o,getStreamDuration:a,getTime:d,getPlaybackRate:p,getPlayedRanges:h,getEnded:g,getIsDynamic:v,setLiveStartTime:m,getLiveStartTime:y,computeLiveDelay:_,play:s,isPaused:u,pause:l,isSeeking:c,seek:f,reset:b},e(),X}Object.defineProperty(n,"__esModule",{value:!0});var he=r(e(63)),ge=r(e(103)),ve=r(e(101)),me=r(e(9)),ye=r(e(13)),o=r(e(10)),_e=r(e(8));i.__dashjs_factory_name="PlaybackController",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,101:101,103:103,13:13,63:63,8:8,9:9}],69:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){ie=!0,Pe=NaN,Se=NaN,oe=!(Ce=[]),le=!(ue=!(se=ae=null)),ce=0,de=NaN}function n(e,t){Z=e,ve=t,_e=(0,Ue["default"])(V).getInstance(),pe=(0,xe["default"])(V).getInstance(),he=(0,ke["default"])(V).getInstance(),ge=(0,Ae["default"])(V).getInstance(),me=(0,ze["default"])(V).getInstance(),ye=ve.getFragmentController(),be=ve.getBufferController(),(te=ye.getModel(Z)).setScheduleController(this),ne=ve.isDynamic(),Ee=$.getScheduleWhilePaused(),Te=(0,Me["default"])(V).create({dashMetrics:(0,je["default"])(V).getInstance(),metricsModel:(0,Ne["default"])(V).getInstance(),textSourceBuffer:(0,De["default"])(V).getInstance()}),we=(0,Re["default"])(V).create({adapter:(0,Fe["default"])(V).getInstance(),sourceBufferController:(0,Be["default"])(V).getInstance(),textSourceBuffer:(0,De["default"])(V).getInstance()}),Q.getIsTextTrack(Z)&&q.on(Ve["default"].TIMED_TEXT_REQUESTED,P,this),q.on(Ve["default"].LIVE_EDGE_SEARCH_COMPLETED,A,this),q.on(Ve["default"].QUALITY_CHANGE_REQUESTED,f,this),q.on(Ve["default"].DATA_UPDATE_STARTED,b,this),q.on(Ve["default"].DATA_UPDATE_COMPLETED,p,this),q.on(Ve["default"].FRAGMENT_LOADING_COMPLETED,v,this),q.on(Ve["default"].STREAM_COMPLETED,g,this),q.on(Ve["default"].STREAM_INITIALIZED,h,this),q.on(Ve["default"].BUFFER_LEVEL_STATE_CHANGED,w,this),q.on(Ve["default"].BUFFER_CLEARED,T,this),q.on(Ve["default"].BYTES_APPENDED,y,this),q.on(Ve["default"].INIT_REQUESTED,u,this),q.on(Ve["default"].QUOTA_EXCEEDED,E,this),q.on(Ve["default"].BUFFER_LEVEL_STATE_CHANGED,w,this),q.on(Ve["default"].PLAYBACK_STARTED,C,this),q.on(Ve["default"].PLAYBACK_SEEKING,I,this),q.on(Ve["default"].PLAYBACK_RATE_CHANGED,x,this),q.on(Ve["default"].PLAYBACK_TIME_UPDATED,m,this),q.on(Ve["default"].URL_RESOLUTION_FAILED,S,this),q.on(Ve["default"].FRAGMENT_LOADING_ABANDONED,_,this)}function a(){ee&&(U(),oe=!1,ie?l(re.quality):s(0),ie&&(ie=!1),z("Schedule controller starting for "+Z))}function r(){oe||(oe=!0,clearTimeout(fe),z("Schedule controller stopping for "+Z))}function i(){if(!(oe||le||!be||pe.isPaused()&&!Ee)){o();var e=0<Ce.length;if(Te.execute(ve,Z,me.isVideoTrackPresent())||e){var t=function(){if(re.quality!==Pe)Pe=re.quality,be.switchInitData(ve.getStreamInfo().id,re.quality);else{var e=we.execute(ve,Ce.shift());e?te.executeRequest(e):(le=!1,s(250))}};le=!0,e?t():ge.getPlaybackQuality(ve,t)}else s(500)}}function o(){var e=1.5*re.fragmentDuration,t=te.getRequests({state:Le["default"].FRAGMENT_MODEL_EXECUTED,time:pe.getTime()+e,threshold:0})[0];t&&-1===Ce.indexOf(t)&&!Q.getIsTextTrack(Z)&&(!he.isCurrentTrack(t.mediaInfo)||$.getFastSwitchEnabled()&&t.quality<re.quality&&be.getBufferLevel()>=e&&ge.getAbandonmentStateFor(Z)!==Ae["default"].ABANDON_LOAD?(c(t),z("Reloading outdated fragment at index: ",t.index)):t.quality>re.quality&&k(pe.getTime()+be.getBufferLevel()))}function s(e){clearTimeout(fe),fe=setTimeout(i,e)}function u(e){e.sender.getStreamProcessor()===ve&&l(re.quality)}function l(e){Pe=e;var t=Y.getInitRequest(ve,e);t&&(le=!0,te.executeRequest(t))}function c(e){Ce.push(e)}function f(e){if(Z===e.mediaType&&ve.getStreamInfo().id===e.streamInfo.id){if(null==(re=ve.getRepresentationInfoForQuality(e.newQuality)))throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");B(new Date,Ie.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),U()}}function d(e){var t=te.getRequests({state:Le["default"].FRAGMENT_MODEL_EXECUTED,time:pe.getTime(),threshold:0})[0];t&&pe.getTime()>=t.startTime&&(t.quality!==Se&&e&&q.trigger(Ve["default"].QUALITY_CHANGE_RENDERED,{mediaType:Z,oldQuality:Se,newQuality:t.quality}),Se=t.quality)}function p(e){e.error||e.sender.getStreamProcessor()!==ve||(re=Y.convertDataToTrack(K.getValue(),e.currentRepresentation))}function h(e){e.error||ve.getStreamInfo().id!==e.streamInfo.id||(re=ve.getCurrentRepresentationInfo(),ne&&null===_e.getLiveEdge()||(ee=!0),oe&&a())}function g(e){e.fragmentModel===te&&(r(),le=!1,z("Stream is complete"))}function v(e){e.sender===te&&(Q.getIsTextTrack(Z)&&(le=!1),e.error&&e.serviceLocation&&!oe&&c(e.request))}function m(){d(!0)}function y(e){e.sender.getStreamProcessor()===ve&&(le=!1,s(0))}function _(e){e.streamProcessor===ve&&(c(e.request),le=!1,s(0))}function b(e){e.sender.getStreamProcessor()===ve&&r()}function T(e){e.sender.getStreamProcessor()===ve&&(te.removeExecutedRequestsBeforeTime(e.to),e.hasEnoughSpaceToAppend&&!be.getIsBufferingCompleted()&&oe&&a())}function w(e){e.sender.getStreamProcessor()!==ve||e.state!==Oe["default"].BUFFER_EMPTY||pe.isSeeking()||(z("Buffer is empty! Stalling!"),B(new Date,Ie.PlayListTrace.REBUFFERING_REASON))}function E(e){e.sender.getStreamProcessor()===ve&&r()}function S(){te.abortRequests(),r()}function P(e){e.sender.getStreamProcessor()===ve&&l(e.index)}function C(){oe&&a()}function I(e){de=e.seekTime,R(0),oe&&a();var t=W.getCurrentManifestUpdate(G.getMetricsFor("stream")),n=re.DVRWindow?re.DVRWindow.end-pe.getTime():NaN;G.updateManifestUpdateInfo(t,{latency:n})}function x(e){se&&(se.playbackspeed=e.playbackRate.toString())}function A(e){if(!e.error){var t=re.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,n=e.liveEdge-pe.computeLiveDelay(re.fragmentDuration,t),r=W.getCurrentManifestUpdate(G.getMetricsFor("stream")),i=pe.getLiveStartTime(),o=Y.getFragmentRequestForTime(ve,re,n,{ignoreIsFinished:!0});de=i,(isNaN(i)||o.startTime>i)&&(pe.setLiveStartTime(o.startTime),de=o.startTime),G.updateManifestUpdateInfo(r,{currentTime:de,presentationStartTime:e.liveEdge,latency:e.liveEdge-de,clientTimeOffset:X.getClientTimeOffset()}),ee=!0,oe&&a()}}function O(){return de}function k(e){de=e}function M(){return te}function R(e){ce=e}function D(){return ce}function N(){return ve}function L(){return Te.getBufferTarget(ve,Z,me.isVideoTrackPresent())}function j(e){ae=e}function F(e,t){B(e,t),ae=null}function B(e,t){if(ae&&!1===ue){var n=se.start,r=e.getTime()-n.getTime();se.duration=r,se.stopreason=t,ae.trace.push(se),ue=!0}}function U(){ae&&!0===ue&&re&&(ue=!1,(se=new Ie.PlayListTrace).representationid=re.id,se.start=new Date,se.mstart=1e3*pe.getTime(),se.playbackspeed=pe.getPlaybackRate().toString())}function H(){q.off(Ve["default"].LIVE_EDGE_SEARCH_COMPLETED,A,this),q.off(Ve["default"].DATA_UPDATE_STARTED,b,
this),q.off(Ve["default"].DATA_UPDATE_COMPLETED,p,this),q.off(Ve["default"].BUFFER_LEVEL_STATE_CHANGED,w,this),q.off(Ve["default"].QUALITY_CHANGE_REQUESTED,f,this),q.off(Ve["default"].FRAGMENT_LOADING_COMPLETED,v,this),q.off(Ve["default"].STREAM_COMPLETED,g,this),q.off(Ve["default"].STREAM_INITIALIZED,h,this),q.off(Ve["default"].QUOTA_EXCEEDED,E,this),q.off(Ve["default"].BYTES_APPENDED,y,this),q.off(Ve["default"].BUFFER_CLEARED,T,this),q.off(Ve["default"].INIT_REQUESTED,u,this),q.off(Ve["default"].PLAYBACK_RATE_CHANGED,x,this),q.off(Ve["default"].PLAYBACK_SEEKING,I,this),q.off(Ve["default"].PLAYBACK_STARTED,C,this),q.off(Ve["default"].PLAYBACK_TIME_UPDATED,m,this),q.off(Ve["default"].URL_RESOLUTION_FAILED,S,this),q.off(Ve["default"].FRAGMENT_LOADING_ABANDONED,_,this),Q.getIsTextTrack(Z)&&q.off(Ve["default"].TIMED_TEXT_REQUESTED,P,this),r(),d(!1),le=!1,ce=0,de=NaN,ae=pe=null}var V=this.context,z=(0,qe["default"])(V).getInstance().log,q=(0,He["default"])(V).getInstance(),G=e.metricsModel,K=e.manifestModel,Y=e.adapter,W=e.dashMetrics,Q=e.dashManifestModel,X=e.timelineConverter,$=e.mediaPlayerModel,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,we=void 0,Ee=void 0,Se=void 0,Pe=void 0,Ce=void 0;return J={initialize:n,getStreamProcessor:N,getSeekTarget:O,setSeekTarget:k,getFragmentModel:M,setTimeToLoadDelay:R,getTimeToLoadDelay:D,replaceRequest:c,start:a,stop:r,reset:H,setPlayList:j,getBufferTarget:L,finalisePlayList:F},t(),J}Object.defineProperty(n,"__esModule",{value:!0});var Ie=e(181),xe=r(e(68)),Ae=r(e(60)),Oe=r(e(63)),ke=r(e(66)),Me=r(e(140)),Re=r(e(141)),De=r(e(56)),Ne=r(e(102)),Le=r(e(99)),je=r(e(17)),Fe=r(e(15)),Be=r(e(70)),Ue=r(e(154)),He=r(e(9)),Ve=r(e(13)),o=r(e(10)),ze=r(e(71)),qe=r(e(8));i.__dashjs_factory_name="ScheduleController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,13:13,140:140,141:141,15:15,154:154,17:17,181:181,56:56,60:60,63:63,66:66,68:68,70:70,71:71,8:8,9:9,99:99}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=t.codec,r=null;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt)"/i))throw new S["default"]("not really supported");r=e.addSourceBuffer(n)}catch(o){if(!t.isText&&-1===n.indexOf('codecs="stpp"')&&-1===n.indexOf('codecs="wvtt"'))throw o;(r=(0,g["default"])(f).getInstance()).setConfig({errHandler:(0,y["default"])(f).getInstance(),adapter:(0,m["default"])(f).getInstance(),dashManifestModel:h,mediaController:(0,v["default"])(f).getInstance(),videoModel:(0,E["default"])(f).getInstance(),streamController:(0,_["default"])(f).getInstance(),textTracks:(0,b["default"])(f).getInstance(),VTTParser:(0,T["default"])(f).getInstance(),TTMLParser:(0,w["default"])(f).getInstance()})}return r}function t(e,t){try{e.removeSourceBuffer(t)}catch(i){}}function i(e,t,n){var r,i,o=null,a=0,s=0,u=null,l=null,c=0,f=n||.15;try{o=e.buffered}catch(y){return null}if(null!=o){for(i=0,r=o.length;i<r;i++)if(a=o.start(i),s=o.end(i),null===u)c=Math.abs(a-t),a<=t&&t<s?(u=a,l=s):c<=f&&(u=a,l=s);else{if(!((c=a-l)<=f))break;l=s}if(null!==u)return{start:u,end:l}}return null}function p(e){try{return e.buffered}catch(i){return null}}function o(e){var t,n,r=p(e),i=0;if(!r)return i;for(n=0,t=r.length;n<t;n++)i+=r.end(n)-r.start(n);return i}function a(e,t,n){var r;return null===(r=i(e,t,n))?0:r.end-t}function n(e,t){if(!t)return null;var n,r,i,o,a,s,u,l,c=p(t);if(!c)return null;for(var f=0,d=c.length;f<d;f++){if(a=e.length>f?{start:e.start(f),end:e.end(f)}:null,n=c.start(f),r=c.end(f),!a)return{start:n,end:r};if(i=a.start===n,o=a.end===r,!i||!o){if(i)l={start:a.end,end:r};else{if(!o)return{start:n,end:r};l={start:n,end:a.start}}return s=e.length>f+1?{start:e.start(f+1),end:e.end(f+1)}:null,u=f+1<d?{start:c.start(f+1),end:c.end(f+1)}:null,!s||u&&u.start===s.start&&u.end===s.end||(l.end=s.start),l}}return null}function r(e,t){var n=t.bytes,r="append"in e?"append":"appendBuffer"in e?"appendBuffer":null,i="Object"===Object.prototype.toString.call(e).slice(8,-1);if(r)try{c(e,function(){i?e[r](n,t):e[r](n),c(e,function(){d.trigger(C["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n})})})}catch(a){d.trigger(C["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n,error:new S["default"](a.code,a.message,null)})}}function s(e,t,n,r){try{c(e,function(){0<=t&&t<n&&"ended"!==r.readyState&&e.remove(t,n),c(e,function(){d.trigger(C["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n})})})}catch(o){d.trigger(C["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n,error:new S["default"](o.code,o.message,null)})}}function u(e,t){try{"open"===e.readyState?t.abort():t.setTextTrack&&"ended"===e.readyState&&t.abort()}catch(i){}}function l(e){e&&e.dashManifestModel&&(h=e.dashManifestModel)}function c(e,t){var n,r=50,i=function(){e.updating||(clearInterval(n),t())},o=function n(){e.updating||(e.removeEventListener("updateend",n,!1),t())};if(e.updating)if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",o,!1)}catch(g){n=setInterval(i,r)}else n=setInterval(i,r);else t()}var f=this.context,d=(0,P["default"])(f).getInstance(),h=void 0;return{append:r,remove:s,abort:u,createSourceBuffer:e,removeSourceBuffer:t,getBufferRange:i,getAllRanges:p,getTotalBufferedTime:o,getBufferLength:a,getRangeDifference:n,setConfig:l}}Object.defineProperty(n,"__esModule",{value:!0});var g=r(e(56)),v=r(e(66)),m=r(e(15)),y=r(e(151)),_=r(e(71)),b=r(e(57)),T=r(e(159)),w=r(e(157)),E=r(e(104)),S=r(e(162)),P=r(e(9)),C=r(e(13)),o=r(e(10)),a=22;i.__dashjs_factory_name="SourceBufferController";var s=o["default"].getSingletonFactory(i);s.QUOTA_EXCEEDED_ERROR_CODE=a,n["default"]=s,t.exports=n["default"]},{10:10,104:104,13:13,15:15,151:151,157:157,159:159,162:162,56:56,57:57,66:66,71:71,9:9}],71:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){re=null,te=[],pe=(0,Pe["default"])(L).getInstance(),le=ue=!(ge=!(he=se=ae=!(oe=!(ve=null))))}function t(e,t){oe=e,ie=t,ee.initialize(),J=(0,xe["default"])(L).getInstance(),(H=(0,be["default"])(L).getInstance()).setConfig({log:j,manifestModel:z,dashManifestModel:q}),H.initialize(V),fe=(0,Se["default"])(L).getInstance(),(de=(0,ye["default"])(L).getInstance()).setConfig({streamController:B,timelineConverter:ee,metricsModel:K,dashMetrics:Y,manifestModel:z,dashManifestModel:q,adapter:G,videoModel:fe}),F.on(we["default"].TIME_SYNCHRONIZATION_COMPLETED,E,this),F.on(we["default"].PLAYBACK_SEEKING,d,this),F.on(we["default"].PLAYBACK_TIME_UPDATED,a,this),F.on(we["default"].PLAYBACK_ENDED,s,this),F.on(we["default"].PLAYBACK_ERROR,o,this),F.on(we["default"].PLAYBACK_STARTED,u,this),F.on(we["default"].PLAYBACK_PAUSED,l,this),F.on(we["default"].MANIFEST_UPDATED,S,this),F.on(we["default"].STREAM_BUFFERING_COMPLETED,c,this)}function r(n,r){r=r||new Date,ve&&(ne&&ne.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.finalisePlayList(r,n)}),K.addPlayList(ve),ve=null)}function n(e){(ve=new Ce.PlayList).start=new Date,ve.mstart=1e3*de.getTime(),ve.starttype=e,ne&&ne.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(ve)})}function f(e,t,n){F.trigger(e,{fromStreamInfo:t?t.getStreamInfo():null,toStreamInfo:n.getStreamInfo()})}function i(){ne.isActivated()&&ge&&0===ne.getStreamInfo().index&&(ne.startEventController(),oe&&de.play())}function o(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}ue=!0,e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),j("Video Element Error: "+t),e.error&&j(e.error),Z.mediaSourceError(t),D()}}function a(e){if(P()){var t=fe.getPlaybackQuality();t&&K.addDroppedFrames("video",t)}de.isSeeking()||e.timeToEnd<N&&Q.signalEndOfStream(ce)}function s(){var e=p();e&&m(ne,e,NaN),r(e?Ce.PlayListTrace.END_OF_PERIOD_STOP_REASON:Ce.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function d(e){var t=h(e.seekTime);t&&t!==ne?(r(Ce.PlayListTrace.END_OF_PERIOD_STOP_REASON),m(ne,t,e.seekTime)):r(Ce.PlayListTrace.USER_REQUEST_STOP_REASON),n(Ce.PlayList.SEEK_START_REASON)}function u(){ge?(ge=!1,n(Ce.PlayList.INITIAL_PLAYOUT_START_REASON)):he&&(he=!1,n(Ce.PlayList.RESUME_FROM_PAUSE_START_REASON))}function l(e){e.ended||(he=!0,r(Ce.PlayListTrace.USER_REQUEST_STOP_REASON))}function c(e){ce&&e.streamInfo.isLast&&Q.signalEndOfStream(ce)}function p(){var t=ne.getStreamInfo().start,n=ne.getStreamInfo().duration;return te.filter(function(e){return e.getStreamInfo().start===t+n})[0]}function h(e){var t=0,n=null,r=te.length;0<r&&(t+=te[0].getStartTime());for(var i=0;i<r;i++)if(e<(t+=(n=te[i]).getDuration()))return n;return null}function g(e,t){for(var n=null,r=0,i=0,o=null,a=te.length,s=0;s<a;s++){if(i=(n=te[s]).getStartTime(),o=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(o)&&(r+=o)}return null}function v(){var t=[];return ne.getProcessors().forEach(function(e){t.push(e.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,t)}function m(e,n,r){function t(){var t;isNaN(r)?(t=de.getStreamStartTime(!0),ne.getProcessors().forEach(function(e){G.setIndexHandlerTime(e,t)}),de.seek(t)):de.seek(r),de.play(),ne.startEventController(),ae=!1,f(we["default"].PERIOD_SWITCH_COMPLETED,e,n)}!ae&&e&&n&&e!==n&&(ae=!0,f(we["default"].PERIOD_SWITCH_STARTED,e,n),e.deactivate(),ne=n,de.initialize(ne.getStreamInfo()),me=C(),y(t))}function y(e){function t(){j("MediaSource is open!"),window.URL.revokeObjectURL(n),ce.removeEventListener("sourceopen",t),ce.removeEventListener("webkitsourceopen",t),_(),ne.activate(ce),e&&e()}var n=void 0;ce?Q.detachMediaSource(fe):ce=Q.createMediaSource(),ce.addEventListener("sourceopen",t,!1),ce.addEventListener("webkitsourceopen",t,!1),n=Q.attachMediaSource(ce,fe),j("MediaSource attached to element.  Waiting on open...")}function _(){var e,t;e=ne.getStreamInfo().manifestInfo.duration,t=Q.setDuration(ce,e),j("Duration successfully set to: "+t)}function b(){var e,t,n,r,i,o,a,s=z.getValue(),u=K.getMetricsFor("stream"),l=Y.getCurrentManifestUpdate(u),c=[];if(s){o=G.getStreamsInfo(s),re&&(F.trigger(we["default"].PROTECTION_CREATED,{controller:re,manifest:s}),re.setMediaElement(fe.getElement()),ie&&re.setProtectionData(ie));try{if(0===o.length)throw new Error("There are no streams");for(K.updateManifestUpdateInfo(l,{currentTime:de.getTime(),buffered:fe.getElement().buffered,presentationStartTime:o[0].start,clientTimeOffset:ee.getClientTimeOffset()}),se=!0,r=0,t=o.length;r<t;r++){for(e=o[r],i=0,n=te.length;i<n;i++)te[i].getId()===e.id&&(a=te[i],c.push(a),a.updateData(e));a||((a=(0,_e["default"])(L).create({manifestModel:z,manifestUpdater:H,adapter:G,timelineConverter:ee,capabilities:U,errHandler:Z,baseURLController:$})).initialize(e,re),F.on(we["default"].STREAM_INITIALIZED,w,this),c.push(a),ne&&a.updateData(e)),K.addManifestUpdateStreamInfo(l,e.id,e.index,e.start,e.duration),a=null}te=c,ne||(ne=te[0],f(we["default"].PERIOD_SWITCH_STARTED,null,ne),de.initialize(ne.getStreamInfo()),f(we["default"].PERIOD_SWITCH_COMPLETED,null,ne)),ce||y(),se=!1,T()}catch(d){Z.manifestError(d.message,"nostreamscomposed",s),le=!0,D()}}}function T(){if(!se){var e=te.length,t=0;for(i();t<e;t++)if(!te[t].isInitialized())return;F.trigger(we["default"].STREAMS_COMPOSED)}}function w(){T()}function E(){b()}function S(e){if(e.error)le=!0,D();else{var t,n,r=e.manifest,i=G.getStreamsInfo(r)[0],o=G.getMediaInfoForType(r,i,"video")||G.getMediaInfoForType(r,i,"audio");o&&(t=G.getDataForMedia(o),(n=q.getRepresentationsForAdaptation(r,t)[0].useCalculatedLiveEdgeTime)&&(j("SegmentTimeline detected using calculated Live Edge Time"),pe.setUseManifestDateHeaderTimeSource(!1)));var a=q.getUTCTimingSources(e.manifest),s=!q.getIsDynamic(r)||n?a:a.concat(pe.getUTCTimingSources()),u=(0,Ee["default"])(L).getInstance().isManifestHTTPS();s.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===Pe["default"].DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(u?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),u?"https://":"http://"),j("Matching default timing source protocol to manifest protocol: ",e.value))}),$.initialize(r),X.setConfig({metricsModel:K,dashMetrics:Y}),X.initialize(s,pe.getUseManifestDateHeaderTimeSource())}}function P(){return void 0===me&&(me=C()),me}function C(){var t=!1;return ne.getProcessors().forEach(function(e){"video"===e.getMediaInfo().type&&(t=!0)}),t}function I(){return oe}function x(){return ne?ne.getStreamInfo():null}function A(e){return ne.getId()===e.id}function O(t){return te.filter(function(e){return e.getId()===t})[0]}function k(e){V.load(e)}function M(e){H.setManifest(e)}function R(e){e&&(e.capabilities&&(U=e.capabilities),e.manifestLoader&&(V=e.manifestLoader),e.manifestModel&&(z=e.manifestModel),e.dashManifestModel&&(q=e.dashManifestModel),e.protectionController&&(re=e.protectionController),e.adapter&&(G=e.adapter),e.metricsModel&&(K=e.metricsModel),e.dashMetrics&&(Y=e.dashMetrics),e.liveEdgeFinder&&(W=e.liveEdgeFinder),e.mediaSourceController&&(Q=e.mediaSourceController),e.timeSyncController&&(X=e.timeSyncController),e.baseURLController&&($=e.baseURLController),e.errHandler&&(Z=e.errHandler),e.timelineConverter&&(ee=e.timelineConverter))}function D(){X.reset(),r(ue||le?Ce.PlayListTrace.FAILURE_STOP_REASON:Ce.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=te.length;e<t;e++){var n=te[e];F.off(we["default"].STREAM_INITIALIZED,w,this),n.reset(ue)}te=[],F.off(we["default"].PLAYBACK_TIME_UPDATED,a,this),F.off(we["default"].PLAYBACK_SEEKING,d,this),F.off(we["default"].PLAYBACK_ERROR,o,this),F.off(we["default"].PLAYBACK_STARTED,u,this),F.off(we["default"].PLAYBACK_PAUSED,l,this),F.off(we["default"].PLAYBACK_ENDED,s,this),F.off(we["default"].MANIFEST_UPDATED,S,this),F.off(we["default"].STREAM_BUFFERING_COMPLETED,c,this),$.reset(),H.reset(),K.clearAllCurrentMetrics(),z.setValue(null),V.reset(),ee.reset(),W.reset(),G.reset(),J.reset(),ne=null,le=ue=se=ae=!1,he=!(ge=!(me=void 0)),ce&&(Q.detachMediaSource(fe),ce=null),fe=null,re&&(re.setMediaElement(null),ie=re=null,z.getValue()&&F.trigger(we["default"].PROTECTION_DESTROYED,{data:z.getValue().url})),F.trigger(we["default"].STREAM_TEARDOWN_COMPLETE)}var N=1,L=this.context,j=(0,Ie["default"])(L).getInstance().log,F=(0,Te["default"])(L).getInstance(),B=void 0,U=void 0,H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0;return B={initialize:t,getAutoPlay:I,getActiveStreamInfo:x,isStreamActive:A,isVideoTrackPresent:P,getStreamById:O,getTimeRelativeToStreamId:g,load:k,loadWithManifest:M,getActiveStreamCommonEarliestTime:v,setConfig:R,reset:D},e(),B}Object.defineProperty(n,"__esModule",{value:!0});var ye=r(e(68)),_e=r(e(54)),be=r(e(50)),Te=r(e(9)),we=r(e(13)),Ee=r(e(103)),Se=r(e(104)),Pe=r(e(101)),o=r(e(10)),Ce=e(181),Ie=r(e(8)),xe=r(e(152));i.__dashjs_factory_name="StreamController",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,101:101,103:103,104:104,13:13,152:152,181:181,50:50,54:54,68:68,8:8,9:9}],72:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){v=!1,b=_=y=m=null,d.on(w["default"].DATA_UPDATE_COMPLETED,l,this),d.on(w["default"].INIT_FRAGMENT_LOADED,c,this)}function n(e,t,n){_=e,a(t),(b=n).getRepresentationController()}function r(e){try{y=p.createSourceBuffer(m,e),v||(y.hasOwnProperty("initialize")&&y.initialize(_,this),v=!0)}catch(t){h.mediaSourceError("Error creating "+_+" source buffer.")}return y}function i(){return y}function o(e){y=e}function a(e){m=e}function s(){return b}function u(e){d.off(w["default"].DATA_UPDATE_COMPLETED,l,this),d.off(w["default"].INIT_FRAGMENT_LOADED,c,this),e||(p.abort(m,y),p.removeSourceBuffer(m,y))}function l(e){e.sender.getStreamProcessor()===b&&d.trigger(w["default"].TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function c(e){e.fragmentModel===b.getFragmentModel()&&e.chunk.bytes&&p.append(y,e.chunk)}var f=this.context,d=(0,T["default"])(f).getInstance(),p=e.sourceBufferController,h=e.errHandler,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0,b=void 0;return g={initialize:n,createBuffer:r,getBuffer:i,setBuffer:o,getStreamProcessor:s,setMediaSource:a,reset:u},t(),g}Object.defineProperty(n,"__esModule",{value:!0});var T=r(e(9)),w=r(e(13)),o=r(e(10));i.__dashjs_factory_name="TextController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],73:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){P=t,E=0,S=!1,C={"urn:mpeg:dash:utc:http-head:2014":g,"urn:mpeg:dash:utc:http-xsdate:2014":h.bind(null,l),"urn:mpeg:dash:utc:http-iso:2014":h.bind(null,c),"urn:mpeg:dash:utc:direct:2014":p,"urn:mpeg:dash:utc:http-head:2012":g,"urn:mpeg:dash:utc:http-xsdate:2012":h.bind(null,l),"urn:mpeg:dash:utc:http-iso:2012":h.bind(null,c),"urn:mpeg:dash:utc:direct:2012":p,"urn:mpeg:dash:utc:http-ntp:2014":d,"urn:mpeg:dash:utc:ntp:2014":d,"urn:mpeg:dash:utc:sntp:2014":d},r()||(y(e),i(!0))}function t(e){e&&(e.metricsModel&&(I=e.metricsModel),e.dashMetrics&&(x=e.dashMetrics))}function n(){return s()}function o(e){S=e}function r(){return S}function i(e){e}function a(e){E=e}function s(){return E}function u(e){var t,n,r=60,i=60,o=1e3,a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),a[6]&&(parseInt(a[6],10)||0),a[7]&&parseFloat(a[7])*o||0),a[9]&&a[10]&&(n=parseInt(a[9],10)*i+parseInt(a[10],10),t+=("+"===a[8]?-1:1)*n*r*o),new Date(t).getTime()}function l(e){var t=Date.parse(e);return isNaN(t)&&(t=u(e)),t}function c(e){return Date.parse(e)}function f(e){return Date.parse(e)}function d(e,t,n){n()}function p(e,t,n){var r=l(e);return isNaN(r)?void n():void t(r)}function h(n,e,r,t,i){var o,a,s=!1,u=new XMLHttpRequest,l=i?"HEAD":"GET",c=e.match(/\S+/g);e=c.shift(),o=function(){s||(s=!0,c.length?h(n,c.join(" "),r,t,i):t())},a=function(){var e,t;200===u.status&&(e=i?u.getResponseHeader("Date"):u.response,t=n(e),isNaN(t)||(r(t),s=!0))},u.open(l,e),u.timeout=D||0,u.onload=a,u.onloadend=o,u.send()}function g(e,t,n){h(f,e,t,n,!0)}function v(){var e=I.getReadOnlyMetricsFor("stream"),t=x.getLatestMPDRequestHeaderValueByID(e,"Date"),n=null!==t?new Date(t).getTime():Number.NaN;isNaN(n)?m(!0):(a(n-(new Date).getTime()),m(!1,n/1e3,E))}function m(e,t,n){o(!1),w.trigger(k["default"].TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:n,error:e?new A["default"](R):null})}function y(e,t){var n=t||0,r=e[n],i=function(e,t){var n=!e||!t;n&&P?v():m(n,e,t)};o(!0),r?C.hasOwnProperty(r.schemeIdUri)?C[r.schemeIdUri](r.value,function(e){var t=(new Date).getTime(),n=e-t;a(n),T("Local time:      "+new Date(t)),T("Server time:     "+new Date(e)),T("Difference (ms): "+n),i(e,n)},function(){y(e,n+1)}):y(e,n+1):(a(0),i())}function _(){i(!1),o(!1)}var b=this.context,T=(0,M["default"])(b).getInstance().log,w=(0,O["default"])(b).getInstance(),E=void 0,S=void 0,P=void 0,C=void 0,I=void 0,x=void 0;return{initialize:e,getOffsetToDeviceTimeMs:n,setConfig:t,reset:_}}Object.defineProperty(n,"__esModule",{value:!0});var A=r(e(162)),O=r(e(9)),k=r(e(13)),o=r(e(10)),M=r(e(8)),R=1,D=5e3;i.__dashjs_factory_name="TimeSyncController";var a=o["default"].getSingletonFactory(i);a.TIME_SYNC_FAILED_ERROR_CODE=R,a.HTTP_TIMEOUT_MS=D,n["default"]=a,t.exports=n["default"]},{10:10,13:13,162:162,8:8,9:9}],74:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){g.on(P["default"].XLINK_ELEMENT_LOADED,s,m),w=(0,E["default"])(h).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){y=e}function r(e){_=e}function i(e){T=new C["default"](y,"",!0),a(l((b=e).Period_asArray,b,O,x),O,x)}function o(){g.off(P["default"].XLINK_ELEMENT_LOADED,s,m),w&&(w.reset(),w=null)}function a(e,t,n){var r,i,o,a={};for(a.elements=e,a.type=t,a.resolveType=n,0===a.elements.length&&u(a),o=0;o<a.elements.length;o++)r=a.elements[o],i=v.isHTTPURL(r.url)?r.url:r.originalContent.BaseURL+r.url,w.load(i,r,a)}function s(e){var t,n,r,i="<response>",o="</response>",a="";t=e.element,n=e.resolveObject,t.resolvedContent&&(r=t.resolvedContent.indexOf(">")+1,a=t.resolvedContent.substr(0,r)+i+t.resolvedContent.substr(r)+o,t.resolvedContent=T.xml_str2json(a)),d(n)&&u(n)}function u(e){var t,n,r=[];if(c(e),e.resolveType===A&&g.trigger(P["default"].XLINK_READY,{manifest:b}),e.resolveType===x)switch(e.type){case O:for(t=0;t<b[O+"_asArray"].length;t++)(n=b[O+"_asArray"][t]).hasOwnProperty(k+"_asArray")&&(r=r.concat(l(n[k+"_asArray"],n,k,x))),n.hasOwnProperty(M+"_asArray")&&(r=r.concat(l(n[M+"_asArray"],n,M,x)));a(r,k,x);break;case k:g.trigger(P["default"].XLINK_READY,{manifest:b})}}function l(e,t,n,r){var i,o,a,s=[];for(o=e.length-1;0<=o;o--)(i=e[o]).hasOwnProperty("xlink:href")&&i["xlink:href"]===R&&e.splice(o,1);for(o=0;o<e.length;o++)(i=e[o]).hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===r&&(a=f(i["xlink:href"],t,n,o,r,i),s.push(a));return s}function c(e){var t,n,r,i,o,a,s=[];for(i=e.elements.length-1;0<=i;i--){if(n=(t=e.elements[i]).type+"_asArray",!t.resolvedContent||p())delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],s.push(t.originalContent);else if(t.resolvedContent)for(o=0;o<t.resolvedContent[n].length;o++)r=t.resolvedContent[n][o],s.push(r);for(t.parentElement[n].splice(t.index,1),a=0;a<s.length;a++)t.parentElement[n].splice(t.index+a,0,s[a]);s=[]}0<e.elements.length&&_.run(b)}function f(e,t,n,r,i,o){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:o,resolvedContent:null,resolved:!1}}function d(e){var t;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0}function p(){return!1}var h=this.context,g=(0,S["default"])(h).getInstance(),v=(0,I["default"])(h).getInstance(),m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,w=void 0;return m={resolveManifestOnLoad:i,setMatchers:n,setIron:r,reset:o},t(),m}Object.defineProperty(n,"__esModule",{value:!0});var E=r(e(59)),S=r(e(9)),P=r(e(13)),o=r(e(10)),C=r(e(4)),I=r(e(158)),x="onLoad",A="onActuate",O="Period",k="AdaptationSet",M="EventStream",R="urn:mpeg:dash:resolve-to-zero:2013";i.__dashjs_factory_name="XlinkController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,158:158,4:4,59:59,9:9}],75:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return(0,o["default"])(r).getInstance({eventBus:e.eventBus,metricsModel:e.metricsModel}),(0,s["default"])(r).create(e)}function t(){return(0,l["default"])(r).getInstance()}function n(){return(0,u["default"])(r).getInstance()}var r=this.context;return{createMetricsReporting:e,getReportingFactory:t,getMetricsHandlerFactory:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(89)),a=r(e(76)),s=r(e(77)),u=r(e(82)),l=r(e(87)),c=r(e(10));i.__dashjs_factory_name="MetricsReporting";var f=c["default"].getClassFactory(i);f.events=a["default"],n["default"]=f,t.exports=n["default"]},{10:10,76:76,77:77,82:82,87:87,89:89}],76:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(14)),u=new(function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return o(e,s["default"]),e}());n["default"]=u,t.exports=n["default"]},{14:14}],77:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(i){function e(e){if(!e.error){var r=Object.keys(o);(0,l["default"])(a).getInstance({dashManifestModel:i.dashManifestModel}).getMetrics(e.manifest).forEach(function(e){var t=JSON.stringify(e);if(o.hasOwnProperty(t))r.splice(t,1);else try{var n=(0,u["default"])(a).create(i);n.initialize(e),o[t]=n}catch(l){}}),r.forEach(function(e){o[e].reset(),delete o[e]}),s.trigger(c["default"].METRICS_INITIALISATION_COMPLETE)}}function t(){Object.keys(o).forEach(function(e){o[e].reset()}),o={}}function n(){s.on(f["default"].MANIFEST_UPDATED,e),s.on(f["default"].STREAM_TEARDOWN_COMPLETE,t)}var o={},a=this.context,s=i.eventBus;return n(),{}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(78)),l=r(e(91)),o=r(e(10)),c=r(e(76)),f=r(e(13));i.__dashjs_factory_name="MetricsCollectionController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,76:76,78:78,91:91}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(t){function e(e){try{(o=(0,u["default"])(s).create({mediaElement:t.mediaElement})).initialize(e.Range),(i=(0,l["default"])(s).create({log:t.log})).initialize(e.Reporting,o),(r=(0,c["default"])(s).create({log:t.log,eventBus:t.eventBus})).initialize(e.metrics,i)}catch(a){throw n(),a}}function n(){r&&r.reset(),i&&i.reset(),o&&o.reset()}var r=void 0,i=void 0,o=void 0,a=void 0,s=this.context;return a={initialize:e,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),u=r(e(80)),l=r(e(81)),c=r(e(79));i.__dashjs_factory_name="MetricsController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,79:79,80:80,81:81}],79:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(t){a.forEach(function(e){e.handleNewMetric(t.metric,t.value,t.mediaType)})}function n(e,o){e.split(",").forEach(function(e,t,n){var r;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var i=n[t+1];i&&-1===i.indexOf("(")&&-1!==i.indexOf(")")&&(e+=","+i,delete n[t+1])}(r=u.create(e,o))&&a.push(r)}),s.on(c["default"].METRIC_ADDED,t,i),s.on(c["default"].METRIC_UPDATED,t,i)}function r(){s.off(c["default"].METRIC_ADDED,t,i),s.off(c["default"].METRIC_UPDATED,t,i),a.forEach(function(e){return e.reset()}),a=[]}var a=[],i=void 0,o=this.context,s=e.eventBus,u=(0,l["default"])(o).getInstance({log:e.log,eventBus:e.eventBus});return i={initialize:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var l=r(e(82)),o=r(e(10)),c=r(e(52));i.__dashjs_factory_name="MetricsHandlersController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,52:52,82:82}],80:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,n=t+e.duration;u.add(t,n)}),o=!!e[0]._useWallClockTime)}function n(){u.clear()}function r(){u=(0,c["default"])(a).create()}function i(){var e,t=u.length;if(!t)return!0;e=o?(new Date).getTime()/1e3:l.currentTime;for(var n=0;n<t;n+=1){var r=u.start(n),i=u.end(n);if(r<=e&&e<i)return!0}return!1}var o=!1,a=this.context,s=void 0,u=void 0,l=e.mediaElement;return s={initialize:t,reset:n,isEnabled:i},r(),s}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),c=r(e(148));i.__dashjs_factory_name="RangeController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,148:148}],81:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,n){e.some(function(e){var t=o.create(e,n);if(t)return i.push(t),!0})}function n(){i.forEach(function(e){return e.reset()}),i=[]}function r(t,n){i.forEach(function(e){return e.report(t,n)})}var i=[],o=(0,a["default"])(this.context).getInstance({log:e.log});return{initialize:t,reset:n,report:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(87));i.__dashjs_factory_name="ReportingController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,87:87}],82:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(i){function e(e,t){var n,r=e.match(a);if(r){try{(n=u[r[1]](s).create({eventBus:i.eventBus})).initialize(r[1],t,r[3],r[5])}catch(l){n=null,o("MetricsHandlerFactory: Could not create handler for type "+r[1]+" with args "+r[3]+", "+r[5]+" ("+l.message+")")}return n}}function t(e,t){u[e]=t}function n(e){delete u[e]}var o=i.log,a=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,s=this.context,u={BufferLevel:l["default"],DVBErrors:c["default"],HttpList:f["default"],PlayList:d["default"],RepSwitchList:d["default"],TcpList:d["default"]};return{create:e,register:t,unregister:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),l=r(e(83)),c=r(e(84)),f=r(e(86)),d=r(e(85));i.__dashjs_factory_name="MetricsHandlerFactory",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,83:83,84:84,85:85,86:86}],83:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function t(){try{return Object.keys(d).map(function(e){return d[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(t){return}}function r(){var e=t();e&&l!==e.t&&(l=e.t,o.report(s,e))}function e(e,t,n){t&&(a=f.validateN(n),o=t,s=f.reconstructFullMetricName(e,n),u=setInterval(r,a))}function n(){clearInterval(u),a=0,l=o=u=null}function i(e,t,n){"BufferLevel"===e&&(d[n]=t)}var o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=this.context,f=(0,p["default"])(c).getInstance(),d=[];return{initialize:e,reset:n,handleNewMetric:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),p=r(e(90));i.__dashjs_factory_name="BufferLevelHandler",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,90:90}],84:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function n(){a.off(s["default"].METRICS_INITIALISATION_COMPLETE,n,this),a.trigger(s["default"].BECAME_REPORTING_PLAYER)}function t(e,t){t&&(o=t,a.on(s["default"].METRICS_INITIALISATION_COMPLETE,n,this))}function r(){o=null}function i(e,t){"DVBErrors"===e&&o&&o.report(e,t)}var o=void 0,a=e.eventBus;return{initialize:t,reset:r,handleNewMetric:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),s=r(e(76));n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,76:76}],85:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){r=e,i=t}function t(){i=null,r=void 0}function n(e,t){e===r&&i&&i.report(r,t)}var r=void 0,i=void 0;return{initialize:e,reset:t,handleNewMetric:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="GenericMetricHandler",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function i(){var e=r;e.length&&o&&o.report(u,e),r=[]}function e(e,t,n,r){t&&(a=c.validateN(n),o=t,r&&r.length&&(s=r),u=c.reconstructFullMetricName(e,n,r),l=setInterval(i,a))}function t(){clearInterval(l),r=[],o=s=a=l=null}function n(e,t){"HttpList"===e&&(s&&s!==t.type||r.push(t))}var o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,r=[],c=(0,f["default"])(this.context).getInstance();return{initialize:e,reset:t,handleNewMetric:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),f=r(e(90));i.__dashjs_factory_name="HttpListHandler",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,90:90}],87:[function(e,t,n){"use strict";function r(e){
return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var n;try{(n=i[e.schemeIdUri](o).create()).initialize(e,t)}catch(r){n=null,a("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+r.message+")")}return n}function n(e,t){i[e]=t}function r(e){delete i[e]}var i={"urn:dvb:dash:reporting:2014":s["default"]},o=this.context,a=e.log;return{create:t,register:n,unregister:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),s=r(e(88));i.__dashjs_factory_name="ReportingFactory",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,88:88}],88:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function r(e,t,n){var r=new XMLHttpRequest,i=function(){var e=p.indexOf(r);-1!==e&&(p.splice(e,1),200<=r.status&&r.status<300?t&&t():n&&n())};p.push(r);try{r.open("GET",e),r.onloadend=i,r.onerror=i,r.send()}catch(o){r.onerror()}}function e(n,e){Array.isArray(e)||(e=[e]),u&&f.isEnabled()&&e.forEach(function(e){var t=i.serialise(e);s&&"DVBErrors"!==n&&(t="metricname="+n+"&"+t),r(t=c+"?"+t,null,function(){u=!1})})}function t(e,t){var n;if(f=t,!(c=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");l||((n=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===n||n/1e3>=a.random())&&(u=!0),l=!0)}function n(){d||(p.forEach(function(e){return e.abort()}),p=[]),u=l=!1,f=c=null}var o=this.context,i=(0,h["default"])(o).getInstance(),a=(0,g["default"])(o).getInstance(),s=!0,u=!1,l=!1,c=null,f=null,d=!0,p=[];return{report:e,initialize:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),h=r(e(92)),g=r(e(93));i.__dashjs_factory_name="DVBReporting",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,92:92,93:93}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function n(e){var t=new h["default"];if(p){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=p.originalUrl||p.url),t.terror||(t.terror=new Date),d.addDVBErrors(t)}}function t(e){e.error||(p=e.manifest)}function r(e){n({errorcode:h["default"].BASE_URL_CHANGED,servicelocation:e.entry})}function i(){n({errorcode:h["default"].BECAME_REPORTER})}function o(e){(0===e.responsecode||400<=e.responsecode||e.responsecode<100||600<=e.responsecode)&&n({errorcode:e.responsecode||h["default"].CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function a(e){switch(e.metric){case"HttpList":o(e.value)}}function s(e){var t;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=h["default"].CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=h["default"].CORRUPT_MEDIA_OTHER;break;default:return}n({errorcode:t})}function u(){f.on(g["default"].MANIFEST_UPDATED,t,c),f.on(g["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,r,c),f.on(v["default"].METRIC_ADDED,a,c),f.on(v["default"].METRIC_UPDATED,a,c),f.on(v["default"].PLAYBACK_ERROR,s,c),f.on(m["default"].BECAME_REPORTING_PLAYER,i,c)}function l(){f.off(g["default"].MANIFEST_UPDATED,t,c),f.off(g["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,r,c),f.off(v["default"].METRIC_ADDED,a,c),f.off(v["default"].METRIC_UPDATED,a,c),f.off(v["default"].PLAYBACK_ERROR,s,c),f.off(m["default"].BECAME_REPORTING_PLAYER,i,c)}var c=void 0,f=e.eventBus,d=e.metricsModel,p=void 0;return c={initialise:u,reset:l},u(),c}Object.defineProperty(n,"__esModule",{value:!0});var h=r(e(94)),g=r(e(13)),v=r(e(52)),m=r(e(76)),o=r(e(10));i.__dashjs_factory_name="DVBErrorsTranslator",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,52:52,76:76,94:94}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="HandlerHelpers",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],91:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function o(e,t,n){var r,i,o=s.getMpd(e),a=0;return t?a=o.availabilityStartTime.getTime()/1e3:(r=this.getRegularPeriods(e,o)).length&&(a=r[0].start),i=a,n&&n.hasOwnProperty("starttime")&&(i+=n.starttime),i}function t(i){var t=[];return i.Metrics_asArray&&i.Metrics_asArray.forEach(function(e){var r=new a["default"],n=s.getIsDynamic(i);e.hasOwnProperty("metrics")&&(r.metrics=e.metrics,e.Range_asArray&&e.Range_asArray.forEach(function(e){var t=new u["default"];t.starttime=o(i,n,e),e.hasOwnProperty("duration")?t.duration=e.duration:t.duration=s.getDuration(i),t._useWallClockTime=n,r.Range.push(t)}),e.Reporting_asArray&&(e.Reporting_asArray.forEach(function(e){var t=new l["default"];if(e.hasOwnProperty("schemeIdUri")){for(var n in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(n)&&(t[n]=e[n]);r.Reporting.push(t)}}),t.push(r)))}),t}var s=e.dashManifestModel;return{getMetrics:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(95)),u=r(e(96)),l=r(e(97)),o=r(e(10));i.__dashjs_factory_name="ManifestParsing",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,95:95,96:96,97:97}],92:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function o(e){var t,n,r=[],i=[];for(t in e)if(e.hasOwnProperty(t)&&0!==t.indexOf("_")){if(null!=(n=e[t])||(n=""),Array.isArray(n)){if(!n.length)continue;i=[],n.forEach(function(e){var t="Object"!==Object.prototype.toString.call(e).slice(8,-1);i.push(t?e:o(e))}),n=encodeURIComponent(i.join(","))}else"string"==typeof n?n=encodeURIComponent(n):n instanceof Date?n=n.toISOString():"number"==typeof n&&(n=Math.round(n));r.push(t+"="+n)}return r.join("&")}return{serialise:o}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="MetricSerialiser",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],93:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function r(){i&&(a||(a=new t(n)),i.getRandomValues(a),s=0)}function e(e,t){var n;return e||(e=0),t||(t=1),i?(s===a.length&&r(),n=a[s]/o,s+=1):n=Math.random(),n*(t-e)+e}var i=window.crypto||window.msCrypto,t=Uint32Array,o=Math.pow(2,8*t.BYTES_PER_ELEMENT)-1,n=10,a=void 0,s=void 0,u=void 0;return u={random:e},r(),u}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="RNG",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],94:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00",n["default"]=i,t.exports=n["default"]},{}],95:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.metrics="",this.Range=[],this.Reporting=[]};n["default"]=i,t.exports=n["default"]},{}],96:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};n["default"]=i,t.exports=n["default"]},{}],97:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.schemeIdUri="",this.value=""};n["default"]=i,t.exports=n["default"]},{}],98:[function(n,e,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){function e(){l=new v}function i(e,t,n){var r=f.getBaseURLsFromElement(n);e[t]?d.areSimpleEquivalent(r,e[t].data.baseUrls)||(e[t].data.baseUrls=r,e[t].data.selectedIdx=g):e[t]=new v(r)}function t(e){var t=f.getBaseURLsFromElement(e);d.areSimpleEquivalent(t,l.data.baseUrls)||(l.data.baseUrls=t,l.data.selectedIdx=g),e.Period_asArray&&e.Period_asArray.forEach(function(e,r){i(l.children,r,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,n){i(l.children[r].children,n,e),e.Representation_asArray&&e.Representation_asArray.sort(f.getRepresentationSortFunction()).forEach(function(e,t){i(l.children[r].children[n].children,t,e)})})})}function r(t,e){var n=e||l;t(n.data),n.children&&n.children.forEach(function(e){return r(t,e)})}function n(t){r(function(e){isNaN(e.selectedIdx)||t===e.baseUrls[e.selectedIdx].serviceLocation&&(e.selectedIdx=g)})}function o(e){t(e)}function a(){l=new v}function s(e){var t=l,n=[t.data];return e.forEach(function(e){(t=t.children[e])&&n.push(t.data)}),n.filter(function(e){return e.baseUrls.length})}var u=void 0,l=void 0,c=this.context,f=(0,p["default"])(c).getInstance(),d=(0,h["default"])(c).getInstance();return u={reset:a,update:o,getForPath:s,invalidateSelectedIndexes:n},e(),u}Object.defineProperty(t,"__esModule",{value:!0});var p=r(n(22)),h=r(n(155)),a=r(n(10)),g=NaN,v=function n(e,t){i(this,n),this.data={baseUrls:e||null,selectedIdx:t||g},this.children=[]};o.__dashjs_factory_name="BaseURLTreeModel",t["default"]=a["default"].getClassFactory(o),e.exports=t["default"]},{10:10,155:155,22:22}],99:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){P=w=null,E=[],S=[],_.on(I["default"].LOADING_COMPLETED,g,T)}function n(e){P=e}function r(e){w=e}function i(){return w}function o(n){var r=function(e,t){return e.action===x["default"].ACTION_COMPLETE&&e.action===t.action},i=function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex},o=function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality};return function(e){var t=!1;return e.some(function(e){if(i(n,e)||o(n,e)||r(n,e))return t=!0}),t}(E)}function a(n){var e=n.state instanceof Array?n.state:[n.state],r=[];return e.forEach(function(e){var t=p(e);r=r.concat(d(t,n))}),r}function s(t){E=E.filter(function(e){return isNaN(e.startTime)||e.startTime>=t})}function u(){P.abort(),S=[]}function l(e){switch(e.action){case x["default"].ACTION_COMPLETE:E.push(e),h(e,k),_.trigger(I["default"].STREAM_COMPLETED,{request:e,fragmentModel:this});break;case x["default"].ACTION_DOWNLOAD:h(e,O),S.push(e),c(e);break;default:y("Unknown request action.")}}function c(e){_.trigger(I["default"].FRAGMENT_LOADING_STARTED,{sender:T,request:e}),P.load(e)}function f(e,t,n){for(var r=e.length-1;0<=r;r--){var i=e[r],o=i.startTime,a=o+i.duration;if(n=void 0!==n?n:i.duration/2,!isNaN(o)&&!isNaN(a)&&o<=t+n&&t-n<a||isNaN(o)&&isNaN(t))return i}return null}function d(e,n){return n.hasOwnProperty("time")?[f(e,n.time,n.threshold)]:e.filter(function(e){for(var t in n)if("state"!==t&&n.hasOwnProperty(t)&&e[t]!=n[t])return!1;return!0})}function p(e){var t=void 0;switch(e){case O:t=S;break;case k:t=E;break;default:t=[]}return t}function h(e,t){b.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),b.addRequestsQueue(e.mediaType,S,E)}function g(e){e.sender===P&&(S.splice(S.indexOf(e.request),1),e.response&&!e.error&&E.push(e.request),h(e.request,e.error?M:k),_.trigger(I["default"].FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function v(){_.off(I["default"].LOADING_COMPLETED,g,this),P&&(P.reset(),P=null),E=[],S=[]}var m=this.context,y=(0,A["default"])(m).getInstance().log,_=(0,C["default"])(m).getInstance(),b=e.metricsModel,T=void 0,w=void 0,E=void 0,S=void 0,P=void 0;return T={setLoader:n,setScheduleController:r,getScheduleController:i,getRequests:a,isFragmentLoaded:o,removeExecutedRequestsBeforeTime:s,abortRequests:u,executeRequest:l,reset:v},t(),T}Object.defineProperty(n,"__esModule",{value:!0});var C=r(e(9)),I=r(e(13)),o=r(e(10)),x=r(e(163)),A=r(e(8)),O="loading",k="executed",a="canceled",M="failed";i.__dashjs_factory_name="FragmentModel";var s=o["default"].getClassFactory(i);s.FRAGMENT_MODEL_LOADING=O,s.FRAGMENT_MODEL_EXECUTED=k,s.FRAGMENT_MODEL_CANCELED=a,s.FRAGMENT_MODEL_FAILED=M,n["default"]=s,t.exports=n["default"]},{10:10,13:13,163:163,8:8,9:9}],100:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){return i}function t(e){(i=e)&&r.trigger(a["default"].MANIFEST_LOADED,{data:e})}var n=this.context,r=(0,o["default"])(n).getInstance(),i=void 0;return{getValue:e,setValue:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10));i.__dashjs_factory_name="ManifestModel",n["default"]=s["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],101:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){function e(){var e,t;se={enabled:!(Te=_e=!(ie=Z=!(ee=!(te=[])))),ttl:Pe},ue={enabled:!0,ttl:Ce},ne=Se,re=void 0,oe=Ae,ae=Oe,le=NaN,ce=Re,fe=De,de=Ne,pe=Le,he=Ie,ge=xe,ye=ze,be=qe,we(e={},Ee.HTTPRequest.MPD_TYPE,Be),we(e,Ee.HTTPRequest.XLINK_EXPANSION_TYPE,He),we(e,Ee.HTTPRequest.MEDIA_SEGMENT_TYPE,je),we(e,Ee.HTTPRequest.INIT_SEGMENT_TYPE,je),we(e,Ee.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,je),we(e,Ee.HTTPRequest.INDEX_SEGMENT_TYPE,je),we(e,Ee.HTTPRequest.OTHER_TYPE,je),ve=e,we(t={},Ee.HTTPRequest.MPD_TYPE,Ue),we(t,Ee.HTTPRequest.XLINK_EXPANSION_TYPE,Ve),we(t,Ee.HTTPRequest.MEDIA_SEGMENT_TYPE,Fe),we(t,Ee.HTTPRequest.INIT_SEGMENT_TYPE,Fe),we(t,Ee.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,Fe),we(t,Ee.HTTPRequest.INDEX_SEGMENT_TYPE,Fe),we(t,Ee.HTTPRequest.OTHER_TYPE,Fe),me=t}function t(e){_e=e}function n(){return _e}function r(e){he=e}function i(){return he}function o(e){ge=e}function a(){return ge}function s(e){le=e}function u(){return isNaN(le)?Te?Me:ke:le}function l(e){ce=e}function c(){return ce}function f(e){fe=e}function d(){return fe}function p(e){de=e}function h(){return de}function g(e){pe=e}function v(){return pe}function m(e){oe=e}function y(){return oe}function _(e,t){se.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(se.ttl=t)}function b(){return se}function T(e,t){ue.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(ue.ttl=t)}function w(){return ue}function E(e){ae=e}function S(){return ae}function P(e){ve[Ee.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function C(e,t){ve[e]=t}function I(){return ve[Ee.HTTPRequest.MEDIA_SEGMENT_TYPE]}function x(e){return ve[e]}function A(e){me[Ee.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function O(e,t){me[e]=t}function k(){return me[Ee.HTTPRequest.MEDIA_SEGMENT_TYPE]}function M(e){return me[e]}function R(e){ye=e}function D(){return ye}function N(e){ie=e}function L(){return ie}function j(e){ne=e}function F(e){re=e}function B(){return ne}function U(){return re}function H(e){Z=e}function V(){return Z}function z(e){ee=e}function q(){return ee}function G(e){te=e}function K(){return te}function Y(e){be=!!e}function W(){return be}function Q(){return Te}function X(e){Te=e}function $(){}var J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0;return J={setBufferOccupancyABREnabled:t,getBufferOccupancyABREnabled:n,setBandwidthSafetyFactor:r,getBandwidthSafetyFactor:i,setAbandonLoadTimeout:o,getAbandonLoadTimeout:a,setLastBitrateCachingInfo:_,getLastBitrateCachingInfo:b,setLastMediaSettingsCachingInfo:T,getLastMediaSettingsCachingInfo:w,setStableBufferTime:s,getStableBufferTime:u,setBufferTimeAtTopQuality:l,getBufferTimeAtTopQuality:c,setBufferTimeAtTopQualityLongForm:f,getBufferTimeAtTopQualityLongForm:d,setLongFormContentDurationThreshold:p,getLongFormContentDurationThreshold:h,setRichBufferThreshold:g,getRichBufferThreshold:v,setBufferToKeep:m,getBufferToKeep:y,setBufferPruningInterval:E,getBufferPruningInterval:S,setFragmentRetryAttempts:P,getFragmentRetryAttempts:I,setRetryAttemptsForType:C,getRetryAttemptsForType:x,setFragmentRetryInterval:A,getFragmentRetryInterval:k,setRetryIntervalForType:O,getRetryIntervalForType:M,setWallclockTimeUpdateInterval:R,getWallclockTimeUpdateInterval:D,setScheduleWhilePaused:N,getScheduleWhilePaused:L,getUseSuggestedPresentationDelay:q,setUseSuggestedPresentationDelay:z,setLiveDelayFragmentCount:j,getLiveDelayFragmentCount:B,getLiveDelay:U,setLiveDelay:F,setUseManifestDateHeaderTimeSource:H,getUseManifestDateHeaderTimeSource:V,setUTCTimingSources:G,getUTCTimingSources:K,setXHRWithCredentials:Y,getXHRWithCredentials:W,setFastSwitchEnabled:X,getFastSwitchEnabled:Q,reset:$},e(),J}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),Ee=e(179),a={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},Se=4,Pe=36e4,Ce=36e4,Ie=.9,xe=1e4,Ae=30,Oe=30,ke=12,Me=20,Re=30,De=60,Ne=600,Le=20,je=3,Fe=1e3,Be=3,Ue=500,He=1,Ve=500,ze=50,qe=!1;i.__dashjs_factory_name="MediaPlayerModel";var s=o["default"].getSingletonFactory(i);s.DEFAULT_UTC_TIMING_SOURCE=a,n["default"]=s,t.exports=n["default"]},{10:10,179:179}],102:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){k={}}function t(e){e&&e.adapter&&(O=e.adapter)}function n(){x.trigger(q["default"].METRICS_CHANGED)}function r(e){x.trigger(q["default"].METRIC_CHANGED,{mediaType:e}),n()}function l(e,t,n){x.trigger(q["default"].METRIC_UPDATED,{mediaType:e,metric:t,value:n}),r(e)}function g(e,t,n){x.trigger(q["default"].METRIC_ADDED,{mediaType:e,metric:t,value:n}),r(e)}function i(e){delete k[e],r(e)}function o(){k={},n()}function a(e){return k.hasOwnProperty(e)?k[e]:null}function v(e){var t;return k.hasOwnProperty(e)?t=k[e]:(t=new M["default"],k[e]=t),t}function s(e,t,n,r,i,o){var a=new R["default"];return a.tcpid=t,a.dest=n,a.topen=r,a.tclose=i,a.tconnect=o,v(e).TcpList.push(a),g(e,O.metricsList.TCP_CONNECTION,a),a}function m(e,t,n,r){var i=new D.HTTPRequestTrace;return i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n,i}function y(e,t,n,r,i,o,a,s,u,l,c,f,d,p){var h=new D.HTTPRequest;return i&&i!==r&&(y(e,null,n,r,null,null,a,s,null,null,null,f,null,null),h.actualurl=i),h.tcpid=t,h.type=n,h.url=r,h.range=a,h.trequest=s,h.tresponse=u,h.responsecode=c,h._tfinish=l,h._stream=e,h._mediaduration=f,h._responseHeaders=d,h._serviceLocation=o,p?p.forEach(function(e){m(h,e.s,e.d,e.b)}):(delete h.interval,delete h.trace),v(e).HttpList.push(h),g(e,O.metricsList.HTTP_REQUEST,h),h}function u(e,t,n,r,i){var o=new N["default"];return o.t=t,o.mt=n,o.to=r,i?o.lto=i:delete o.lto,v(e).RepSwitchList.push(o),g(e,O.metricsList.TRACK_SWITCH,o),o}function c(e,t,n){var r=new L["default"];return r.t=t,r.level=n,v(e).BufferLevel.push(r),g(e,O.metricsList.BUFFER_LEVEL,r),r}function f(e,t,n){var r=new j["default"];return r.target=n,r.state=t,v(e).BufferState.push(r),g(e,O.metricsList.BUFFER_STATE,r),r}function d(e,t,n,r){var i=new F["default"];return i.time=t,i.range=r,i.manifestInfo=n,v(e).DVRInfo.push(i),g(e,O.metricsList.DVR_INFO,i),i}function p(e,t){var n=new B["default"],r=v(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,0<r.length&&r[r.length-1]==n?r[r.length-1]:(r.push(n),g(e,O.metricsList.DROPPED_FRAMES,n),n)}function h(e,t,n,r,i,o,a,s,u){var l=new H["default"];return l.mediaType=e,l.t=t,l.type=n,l.startTime=r,l.availabilityStartTime=i,l.duration=o,l.quality=a,l.range=s,l.state=u,v(e).SchedulingInfo.push(l),g(e,O.metricsList.SCHEDULING_INFO,l),l}function _(e,t,n){var r=new z["default"];r.loadingRequests=t,r.executedRequests=n,v(e).RequestsQueue=r,g(e,O.metricsList.REQUESTS_QUEUE,r)}function b(e,t,n,r,i,o,a,s,u,l){var c=new U.ManifestUpdate,f=v("stream");return c.mediaType=e,c.type=t,c.requestTime=n,c.fetchTime=r,c.availabilityStartTime=i,c.presentationStartTime=o,c.clientTimeOffset=a,c.currentTime=s,c.buffered=u,c.latency=l,f.ManifestUpdate.push(c),g(e,O.metricsList.MANIFEST_UPDATE,c),c}function T(e,t){if(e){for(var n in t)e[n]=t[n];l(e.mediaType,O.metricsList.MANIFEST_UPDATE,e)}}function w(e,t,n,r,i){if(e){var o=new U.ManifestUpdateStreamInfo;return o.id=t,o.index=n,o.start=r,o.duration=i,e.streamInfo.push(o),l(e.mediaType,O.metricsList.MANIFEST_UPDATE_STREAM_INFO,e),o}return null}function E(e,t,n,r,i,o,a,s){if(e){var u=new U.ManifestUpdateTrackInfo;return u.id=t,u.index=n,u.streamIndex=r,u.mediaType=i,u.startNumber=a,u.fragmentInfoType=s,u.presentationTimeOffset=o,e.trackInfo.push(u),l(e.mediaType,O.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),u}return null}function S(e){var t="stream";return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,v(t).PlayList.push(e),g(t,O.metricsList.PLAY_LIST,e),e}function P(e){var t="stream";return v(t).DVBErrors.push(e),g(t,O.metricsList.DVB_ERRORS,e),e}function C(e,t){var n=new G["default"];return n._s=t,v(e).BolaState=[n],g(e,"BolaState",n),n}var I=this.context,x=(0,V["default"])(I).getInstance(),A=void 0,O=void 0,k=void 0;return A={metricsChanged:n,metricChanged:r,metricUpdated:l,metricAdded:g,clearCurrentMetricsForType:i,clearAllCurrentMetrics:o,getReadOnlyMetricsFor:a,getMetricsFor:v,addTcpConnection:s,addHttpRequest:y,addRepresentationSwitch:u,addBufferLevel:c,addBufferState:f,addDVRInfo:d,addDroppedFrames:p,addSchedulingInfo:h,addRequestsQueue:_,addManifestUpdate:b,updateManifestUpdateInfo:T,addManifestUpdateStreamInfo:w,addManifestUpdateRepresentationInfo:E,addPlayList:S,addDVBErrors:P,updateBolaState:C,setConfig:t},e(),A}Object.defineProperty(n,"__esModule",{value:!0});var M=r(e(168)),R=r(e(185)),D=e(179),N=r(e(182)),L=r(e(175)),j=r(e(176)),F=r(e(177)),B=r(e(178)),U=e(180),H=r(e(184)),V=r(e(9)),z=r(e(183)),q=r(e(13)),o=r(e(10)),G=r(e(174));i.__dashjs_factory_name="MetricsModel",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,168:168,174:174,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,9:9}],103:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){l=new o["default"],f=!(c=[])}function t(){return l}function n(){return c}function r(){return f}function i(e){function t(e,t,n,r){var i=r[0].split(/[=]/);return r.push({key:i[0],value:i[1]}),r.shift(),r}function n(e,t,n){return 0<t&&(s&&0===c.length?c=n[t].split(/[&]/):u&&(r=n[t].split(/[&]/))),n}if(!e)return null;var r=[],i=new RegExp(/[?]/),o=new RegExp(/[#]/),a=new RegExp(/^(https:)?\/\//i),s=i.test(e),u=o.test(e);return f=a.test(e),e.split(/[?#]/).map(n),0<c.length&&(c=c.reduce(t,null)),0<r.length&&(r=r.reduce(t,null)).forEach(function(e){l[e.key]=e.value}),e}var l=void 0,c=void 0,f=void 0;return{initialize:e,parseURI:i,getURIFragmentData:t,getURIQueryData:n,isManifestHTTPS:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(173)),a=r(e(10));i.__dashjs_factory_name="URIQueryAndFragmentModel",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,173:173}],104:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){b=[]}function r(e){!m||m.readyState<2||(m.playbackRate=e)}function t(e){if(m.currentTime!=e)try{m.currentTime=e}catch(r){0===m.readyState&&r.code===r.INVALID_STATE_ERR&&setTimeout(function(){m.currentTime=e},400)}}function n(){return m}function i(e){(m=e).preload="auto"}function o(e){e?m.src=e:(m.removeAttribute("src"),m.load())}function a(){return m.src}function s(){return _}function u(e){_=e}function l(){return y}function c(e){(y=e).style.position="absolute",y.style.display="flex",y.style.overflow="hidden",y.style.pointerEvents="none",y.style.top=0,y.style.left=0}function f(e,t){g(e,t)}function d(){return 0<b.length}function p(e){var t=void 0;null===e||m.seeking||-1!==b.indexOf(e)||(b.push(e),1===b.length&&((t=document.createEvent("Event")).initEvent("waiting",!0,!1),T=m.playbackRate,r(0),m.dispatchEvent(t)))}function h(e){var t=b.indexOf(e),n=void 0;null!==e&&(-1!==t&&b.splice(t,1),!1===d()&&0===m.playbackRate&&((n=document.createEvent("Event")).initEvent("playing",!0,!1),r(T||1),m.dispatchEvent(n)))}function g(e,t){t?p(e):h(e)}function v(){var e="webkitDroppedFrameCount"in m,t=null;return"getVideoPlaybackQuality"in m?t=m.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:m.webkitDroppedFrameCount,creationTime:new Date}),t}var m=void 0,y=void 0,_=void 0,b=void 0,T=void 0;return{initialize:e,setCurrentTime:t,setStallState:f,getElement:n,setElement:i,setSource:o,getSource:a,getVideoContainer:s,setVideoContainer:u,getTTMLRenderingDiv:l,setTTMLRenderingDiv:c,getPlaybackQuality:v}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="VideoModel",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],105:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),a=r(e(1)),s=function(){function r(){i(this,r)}return o(r,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,0<r&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(e,t){var n=r.parsePSSHList(t);return n.hasOwnProperty(e.uuid.toLowerCase())?n[e.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e){return"pssh"in e?a["default"].decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e),n=!1,r={},i=0;!n;){var o,a,s,u=i;if(i>=t.buffer.byteLength)break;if(o=i+t.getUint32(i),i+=4,1886614376===t.getUint32(i))if(i+=4,0===(a=t.getUint8(i))||1===a){var l,c;for(i++,i+=3,s="",l=0;l<4;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;for(i+=4,s+="-",l=0;l<2;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;for(i+=2,s+="-",l=0;l<2;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;for(i+=2,s+="-",l=0;l<2;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;for(i+=2,s+="-",l=0;l<6;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;i+=6,s=s.toLowerCase(),t.getUint32(i),i+=4,r[s]=t.buffer.slice(u,o),i=o}else i=o;else i=o}return r}}]),r}();n["default"]=s,t.exports=n["default"]},{1:1}],106:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t=null,n=(0,u["default"])(a).getInstance();n.setConfig({log:e.log}),n.initialize();var r=i(e);return!t&&r&&(t=(0,s["default"])(a).create({protectionModel:r,protectionKeyController:n,adapter:e.adapter,eventBus:e.eventBus,log:e.log}),e.capabilities.setEncryptedMediaSupported(!0)),t}function i(e){var t=e.log,n=e.eventBus,r=e.videoModel.getElement();return void 0!==r.onencrypted&&void 0!==r.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(t("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,l["default"])(a).create({log:t,eventBus:n})):o(r,p)?(t("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,c["default"])(a).create({log:t,eventBus:n,api:o(r,p)})):o(r,d)?(t("EME detected on this user agent! (ProtectionModel_01b)"),(0,f["default"])(a).create({log:t,eventBus:n,api:o(r,d)})):(t("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}var a=this.context;return{createProtectionSystem:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=r(e(108)),u=r(e(109)),o=r(e(107)),l=r(e(114)),c=r(e(115)),f=r(e(113)),a=r(e(10)),d=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],p=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];i.__dashjs_factory_name="Protection";var h=a["default"].getClassFactory(i);h.events=o["default"],n["default"]=h,t.exports=n["default"]},{10:10,107:107,108:108,109:109,113:113,114:114,115:115}],107:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(14)),u=new(function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return o(e,s["default"]),e}());n["default"]=u,t.exports=n["default"]},{14:14}],108:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){y.getKeySystems(),x=!(S=[]),A="temporary",O="",R["default"].extend(L["default"].events)}function n(e,t,n){if(!x){var r;t||n||(r=b.getStreamsInfo(e)[0]),P=t||(r?b.getMediaInfoForType(e,r,"audio"):null);var i=(C=n||(r?b.getMediaInfoForType(e,r,"video"):null))||P,o=y.getSupportedKeySystemsFromContentProtection(i.contentProtection);o&&0<o.length&&p(o,!0),x=!0}}function d(e){var t=M["default"].getPSSHForKeySystem(k,e);if(t){for(var n=_.getAllInitData(),r=0;r<n.length;r++)if(y.initDataEquals(t,n[r]))return void w("DRM: Ignoring initData because we have already seen it!");try{_.createKeySession(t,A)}catch(i){T.trigger(
R["default"].KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+i.message})}}else T.trigger(R["default"].KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+k.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function i(e){_.loadKeySession(e)}function r(e){_.removeKeySession(e)}function o(e){_.closeKeySession(e)}function a(e){_.setServerCertificate(e)}function s(e){e?(_.setMediaElement(e),T.on(R["default"].NEED_KEY,m,this),T.on(R["default"].INTERNAL_KEY_MESSAGE,v,this)):null===e&&(_.setMediaElement(e),T.off(R["default"].NEED_KEY,m,this),T.off(R["default"].INTERNAL_KEY_MESSAGE,v,this))}function u(e){A=e}function l(e){O=e}function c(e){I=e}function f(){s(null),k=void 0,_&&(_.reset(),_=null)}function h(e){var t=null,n=e.systemString;return I&&(t=n in I?I[n]:null),t}function p(n,r){var i=this,e=[],t=[];C&&t.push(new D["default"](C.codec,O)),P&&e.push(new D["default"](P.codec,O));var o,a=new N["default"](e,t,"optional","temporary"===A?"optional":"required",[A]),s=[];if(k){for(o=0;o<n.length;o++)if(k===n[o].ks){if("break"===function(){s.push({ks:n[o].ks,configs:[a]});var t=function t(e){T.off(R["default"].KEY_SYSTEM_ACCESS_COMPLETE,t,i),e.error?r||T.trigger(R["default"].KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+e.error}):(w("DRM: KeySystem Access Granted"),T.trigger(R["default"].KEY_SYSTEM_SELECTED,{data:e.data}),d(n[o].initData))};return T.on(R["default"].KEY_SYSTEM_ACCESS_COMPLETE,t,i),_.requestKeySystemAccess(s),"break"}())break}}else if(void 0===k){k=null,S.push(n);for(var u=0;u<n.length;u++)s.push({ks:n[u].ks,configs:[a]});var l,c=function n(e){T.off(R["default"].KEY_SYSTEM_ACCESS_COMPLETE,n,i),e.error?(k=void 0,T.off(R["default"].INTERNAL_KEY_SYSTEM_SELECTED,f,i),r||T.trigger(R["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+e.error})):(l=e.data,w("DRM: KeySystem Access Granted ("+l.keySystem.systemString+")!  Selecting key system..."),_.selectKeySystem(l))},f=function n(e){if(T.off(R["default"].INTERNAL_KEY_SYSTEM_SELECTED,n,i),T.off(R["default"].KEY_SYSTEM_ACCESS_COMPLETE,c,i),e.error)k=void 0,r||T.trigger(R["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+e.error});else{k=_.getKeySystem(),T.trigger(R["default"].KEY_SYSTEM_SELECTED,{data:l});for(var t=0;t<S.length;t++)for(o=0;o<S[t].length;o++)if(k===S[t][o].ks){d(S[t][o].initData);break}}};T.on(R["default"].INTERNAL_KEY_SYSTEM_SELECTED,f,i),T.on(R["default"].KEY_SYSTEM_ACCESS_COMPLETE,c,i),_.requestKeySystemAccess(s)}else S.push(n)}function g(e,t){T.trigger(R["default"].LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function v(e){if(w("DRM: onKeyMessage"),e.error)w(e.error);else{var t=e.data;T.trigger(R["default"].KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",r=t.message,i=t.sessionToken,o=h(k),a=k.systemString,s=y.getLicenseServer(k,o,n),u={sessionToken:i,messageType:n};if(!s)return w("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+i.getSessionID()),void g(u);if(y.isClearKey(k)){var l=y.processClearKeyLicenseRequest(o,r);if(l)return w("DRM: ClearKey license request handled by application!"),g(u),void _.updateKeySession(i,l)}var c=new XMLHttpRequest,f=null;if(o)if(o.serverURL){var d=o.serverURL;"string"==typeof d&&""!==d?f=d:"object"==typeof d&&d.hasOwnProperty(n)&&(f=d[n])}else o.laURL&&""!==o.laURL&&(f=o.laURL);else(f=k.getLicenseServerURLFromInitData(M["default"].getPSSHData(i.initData)))||(f=e.data.laURL);if(f=s.getServerURLFromMessage(f,r,n)){c.open(s.getHTTPMethod(n),f,!0),c.responseType=s.getResponseType(a,n),c.onload=function(){200==this.status?(g(u),_.updateKeySession(i,s.getLicenseMessage(this.response,a,n))):g(u,"DRM: "+a+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?s.getErrorResponse(this.response,a,n):"NONE"))},c.onabort=function(){g(u,"DRM: "+a+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},c.onerror=function(){g(u,"DRM: "+a+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var p=function(e){var t;if(e)for(t in e)"authorization"===t.toLowerCase()&&(c.withCredentials=!0),c.setRequestHeader(t,e[t])};o&&p(o.httpRequestHeaders),p(k.getRequestHeadersFromMessage(r)),o&&o.withCredentials&&(c.withCredentials=!0),c.send(k.getLicenseRequestFromMessage(r))}else g(u,"DRM: No license server URL specified!")}}function m(e){if(w("DRM: onNeedKey"),"cenc"===e.key.initDataType){var t=e.key.initData;ArrayBuffer.isView(t)&&(t=t.buffer),w("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(t)));var n=y.getSupportedKeySystems(t,I);return 0===n.length?void w("DRM: Received needkey event with initData, but we don't support any of the key systems!"):void p(n,!1)}w("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}var y=e.protectionKeyController,_=e.protectionModel,b=e.adapter,T=e.eventBus,w=e.log,E=void 0,S=void 0,P=void 0,C=void 0,I=void 0,x=void 0,A=void 0,O=void 0,k=void 0;return E={initialize:n,createKeySession:d,loadKeySession:i,removeKeySession:r,closeKeySession:o,setServerCertificate:a,setMediaElement:s,setSessionType:u,setRobustnessLevel:l,setProtectionData:c,reset:f},t(),E}Object.defineProperty(n,"__esModule",{value:!0});var M=r(e(105)),R=r(e(13)),D=r(e(126)),N=r(e(125)),o=r(e(10)),L=r(e(106));i.__dashjs_factory_name="ProtectionController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,105:105,106:106,125:125,126:126,13:13}],109:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.log&&(f=e.log)}function t(){var e;d=[],e=(0,m["default"])(c).getInstance(),d.push(e),e=(0,v["default"])(c).getInstance(),d.push(e),e=(0,g["default"])(c).getInstance(),d.push(e),p=e}function n(){return d}function r(e){for(var t=0;t<d.length;t++)if(d[t].systemString===e)return d[t];return null}function i(e){return e===p}function o(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function a(e){var t,n,r,i,o=[];if(e)for(r=0;r<d.length;++r)for(n=d[r],i=0;i<e.length;++i)if((t=e[i]).schemeIdUri.toLowerCase()===n.schemeIdURI){var a=n.getInitData(t);a&&o.push({ks:d[r],initData:a})}return o}function s(e,t){var n,r=[],i=h["default"].parsePSSHList(e);for(n=0;n<d.length;++n){var o=d[n].systemString,a=!t||o in t;d[n].uuid in i&&a&&r.push({ks:d[n],initData:i[d[n].uuid]})}return r}function u(e,t,n){if("license-release"===n||"individualization-request"===n)return null;var r=null;return t&&t.hasOwnProperty("drmtoday")?r=(0,y["default"])(c).getInstance():"com.widevine.alpha"===e.systemString?r=(0,b["default"])(c).getInstance():"com.microsoft.playready"===e.systemString?r=(0,_["default"])(c).getInstance():"org.w3.clearkey"===e.systemString&&(r=(0,T["default"])(c).getInstance()),r}function l(e,t){try{return p.getClearKeysFromProtectionData(e,t)}catch(n){return f("Failed to retrieve clearkeys from ProtectionData"),null}}var c=this.context,f=void 0,d=void 0,p=void 0;return{initialize:t,isClearKey:i,initDataEquals:o,getKeySystems:n,getKeySystemBySystemString:r,getSupportedKeySystemsFromContentProtection:a,getSupportedKeySystems:s,getLicenseServer:u,processClearKeyLicenseRequest:l,setConfig:e}}Object.defineProperty(n,"__esModule",{value:!0});var h=r(e(105)),g=r(e(110)),v=r(e(112)),m=r(e(111)),y=r(e(117)),_=r(e(118)),b=r(e(119)),T=r(e(116)),o=r(e(10));i.__dashjs_factory_name="ProtectionKeyController",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105,110:110,111:111,112:112,116:116,117:117,118:118,119:119}],110:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],o=0;o<r.kids.length;o++){var a=r.kids[o],s=e.clearkeys.hasOwnProperty(a)?e.clearkeys[a]:null;if(!s)throw new Error("DRM: ClearKey keyID ("+a+") is not known!");i.push(new u["default"](a,s))}n=new l["default"](i)}return n}function t(e){return o["default"].parseInitDataFromContentProtection(e)}function n(){return null}function r(e){return new Uint8Array(e)}function i(){return null}return{uuid:s,schemeIdURI:f,systemString:c,getInitData:t,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:r,getLicenseServerURLFromInitData:i,getClearKeysFromProtectionData:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(123)),l=r(e(120)),o=r(e(105)),a=r(e(10)),s="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",c="org.w3.clearkey",f="urn:uuid:"+s;i.__dashjs_factory_name="KeySystemClearKey",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105,120:120,123:123}],111:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t,n,r={},i=new DOMParser,o="utf16"===l?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,o);for(var a=(n=i.parseFromString(t,"application/xml")).getElementsByTagName("name"),s=n.getElementsByTagName("value"),u=0;u<a.length;u++)r[a[u].childNodes[0].nodeValue]=s[u].childNodes[0].nodeValue;return r.hasOwnProperty("Content")&&(r["Content-Type"]=r.Content,delete r.Content),r}function t(e){var t,n,r=null,i=new DOMParser,o="utf16"===l?new Uint16Array(e):new Uint8Array(e);if(t=String.fromCharCode.apply(null,o),(n=i.parseFromString(t,"application/xml")).getElementsByTagName("Challenge")[0]){var a=n.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;a&&(r=f["default"].decode(a))}return r}function n(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,o=0;o<n;o++){var a=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===a){var u=e.slice(r,r+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),c=i.parseFromString(l,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var f=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(f)return f}if(c.getElementsByTagName("LUI_URL")[0]){var d=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(d)return d}}else r+=s}return null}function r(e){var t,n,r,i,o,a=new Uint8Array([112,115,115,104,0,0,0,0]),s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),u=0,l=null;if("pssh"in e)return c["default"].parseInitDataFromContentProtection(e);if("pro"in e)l=f["default"].decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;l=f["default"].decodeArray(e.prheader.__text)}return t=l.length,n=4+a.length+s.length+4+t,r=new ArrayBuffer(n),i=new Uint8Array(r),(o=new DataView(r)).setUint32(u,n),u+=4,i.set(a,u),u+=a.length,i.set(s,u),u+=s.length,o.setUint32(u,t),u+=4,i.set(l,u),u+=t,i.buffer}function i(e){if("utf8"!==e&&"utf16"!==e)throw new o["default"]("Illegal PlayReady message format! -- "+e);l=e}var l="utf16";return{uuid:s,schemeIdURI:d,systemString:u,getInitData:r,getRequestHeadersFromMessage:e,getLicenseRequestFromMessage:t,getLicenseServerURLFromInitData:n,setPlayReadyMessageFormat:i}}Object.defineProperty(n,"__esModule",{value:!0});var c=r(e(105)),o=r(e(162)),a=r(e(10)),f=r(e(1)),s="9a04f079-9840-4286-ab92-e65be0885f95",u="com.microsoft.playready",d="urn:uuid:"+s;i.__dashjs_factory_name="KeySystemPlayReady",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{1:1,10:10,105:105,162:162}],112:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return o["default"].parseInitDataFromContentProtection(e)}function t(){return null}function n(e){return new Uint8Array(e)}function r(){return null}return{uuid:s,schemeIdURI:l,systemString:u,getInitData:e,getRequestHeadersFromMessage:t,getLicenseRequestFromMessage:n,getLicenseServerURLFromInitData:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(105)),a=r(e(10)),s="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",u="com.widevine.alpha",l="urn:uuid:"+s;i.__dashjs_factory_name="KeySystemWidevine",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105}],113:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){E=w=null,C=[],I=[],S=(0,O["default"])(m).getInstance(),P=(0,j["default"])(m).getInstance(),A=h()}function n(){w&&v();for(var e=0;e<I.length;e++)c(I[e]);y.trigger(L["default"].TEARDOWN_COMPLETE)}function r(){return E}function i(){for(var e=[],t=0;t<C.length;t++)e.push(C[t].initData);for(t=0;t<I.length;t++)e.push(I[t].initData);return e}function o(e){var t=w;t||(t=document.createElement("video"));for(var n=!1,r=0;r<e.length;r++)for(var i=e[r].ks.systemString,o=e[r].configs,a=null,s=null,u=0;u<o.length;u++){var l=o[u].videoCapabilities;if(l&&0!==l.length){s=[];for(var c=0;c<l.length;c++)""!==t.canPlayType(l[c].contentType,i)&&s.push(l[c])}if(!(!a&&!s||a&&0===a.length||s&&0===s.length)){n=!0;var f=new D["default"](a,s),d=S.getKeySystemBySystemString(i);y.trigger(L["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new N["default"](d,f)});break}}n||y.trigger(L["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function a(e){E=e.keySystem,y.trigger(L["default"].INTERNAL_KEY_SYSTEM_SELECTED)}function s(e){w!==e&&(w&&v(),(w=e)&&(w.addEventListener(b.keyerror,A),w.addEventListener(b.needkey,A),w.addEventListener(b.keymessage,A),w.addEventListener(b.keyadded,A),y.trigger(L["default"].VIDEO_ELEMENT_SELECTED)))}function u(e){if(!E)throw new Error("Can not create sessions until you have selected a key system");if(x||0===I.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return C.push(t),w[b.generateKeyRequest](E.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")}function l(e,t){var n=e.sessionID;if(S.isClearKey(E))for(var r=0;r<t.keyPairs.length;r++)w[b.addKey](E.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else w[b.addKey](E.systemString,new Uint8Array(t),e.initData,n)}function c(e){w[b.cancelKeyRequest](E.systemString,e.sessionID)}function f(){}function d(){}function p(){}function h(){return{handleEvent:function(e){var t=null;switch(e.type){case b.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;y.trigger(L["default"].NEED_KEY,{key:new k["default"](n,"cenc")});break;case b.keyerror:if((t=g(I,e.sessionId))||(t=g(C,e.sessionId)),t){var r="";switch(e.errorCode.code){case 1:r+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:r+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:r+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:r+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:r+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:r+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}r+="  System Code = "+e.systemCode,y.trigger(L["default"].KEY_ERROR,{data:new M["default"](t,r)})}else _("No session token found for key error");break;case b.keyadded:(t=g(I,e.sessionId))||(t=g(C,e.sessionId)),t?(_("DRM: Key added."),y.trigger(L["default"].KEY_ADDED,{data:t})):_("No session token found for key added");break;case b.keymessage:if((x=null!==e.sessionId&&void 0!==e.sessionId)?!(t=g(I,e.sessionId))&&0<C.length&&(t=C.shift(),I.push(t),t.sessionID=e.sessionId):0<C.length&&(t=C.shift(),I.push(t),0!==C.length&&P.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),t){var i=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=i,y.trigger(L["default"].INTERNAL_KEY_MESSAGE,{data:new R["default"](t,i,e.defaultURL)})}else _("No session token found for key message")}}}}function g(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function v(){w.removeEventListener(b.keyerror,A),w.removeEventListener(b.needkey,A),w.removeEventListener(b.keymessage,A),w.removeEventListener(b.keyadded,A)}var m=this.context,y=e.eventBus,_=e.log,b=e.api,T=void 0,w=void 0,E=void 0,S=void 0,P=void 0,C=void 0,I=void 0,x=void 0,A=void 0;return T={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:a,setMediaElement:s,createKeySession:u,updateKeySession:l,closeKeySession:c,setServerCertificate:f,loadKeySession:d,removeKeySession:p,reset:n},t(),T}Object.defineProperty(n,"__esModule",{value:!0});var O=r(e(109)),k=r(e(127)),M=r(e(121)),R=r(e(122)),D=r(e(125)),N=r(e(124)),L=r(e(13)),j=r(e(151)),o=r(e(10));i.__dashjs_factory_name="ProtectionModel_01b",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13,151:151}],114:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){w=T=b=null,E=[],P=(0,A["default"])(C).getInstance(),S=v()}function n(){var t,e=E.length;if(0!==e)for(var n=function(e){m(e),0===E.length&&(T?(T.removeEventListener("encrypted",S),T.setMediaKeys(null).then(function(){I.trigger(D["default"].TEARDOWN_COMPLETE)})):I.trigger(D["default"].TEARDOWN_COMPLETE))},r=0;r<e;r++)(function(e){t.session.closed.then(function(){n(e)}),g(t)["catch"](function(){n(e)})})(t=E[r]);else I.trigger(D["default"].TEARDOWN_COMPLETE)}function r(){return b}function i(){for(var e=[],t=0;t<E.length;t++)e.push(E[t].initData);return e}function o(e){h(e,0)}function a(t){t.mksa.createMediaKeys().then(function(e){b=t.keySystem,w=e,T&&T.setMediaKeys(w),I.trigger(D["default"].INTERNAL_KEY_SYSTEM_SELECTED)})["catch"](function(){I.trigger(D["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+t.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function s(e){T!==e&&(T&&(T.removeEventListener("encrypted",S),T.setMediaKeys(null)),(T=e)&&(T.addEventListener("encrypted",S),w&&T.setMediaKeys(w)))}function u(e){if(!b||!w)throw new Error("Can not set server certificate until you have selected a key system");w.setServerCertificate(e).then(function(){x("DRM: License server certificate successfully updated."),I.trigger(D["default"].SERVER_CERTIFICATE_UPDATED)})["catch"](function(e){I.trigger(D["default"].SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})}function l(e,t){if(!b||!w)throw new Error("Can not create sessions until you have selected a key system");var n=w.createSession(t),r=y(n,e,t);n.generateRequest("cenc",e).then(function(){x("DRM: Session created.  SessionID = "+r.getSessionID()),I.trigger(D["default"].KEY_SESSION_CREATED,{data:r})})["catch"](function(e){m(r),I.trigger(D["default"].KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})}function c(t,e){var n=t.session;P.isClearKey(b)&&(e=e.toJWK()),n.update(e)["catch"](function(e){I.trigger(D["default"].KEY_ERROR,{data:new k["default"](t,"Error sending update() message! "+e.name)})})}function f(n){if(!b||!w)throw new Error("Can not load sessions until you have selected a key system");var r=w.createSession();r.load(n).then(function(e){if(e){var t=y(r);x("DRM: Session created.  SessionID = "+t.getSessionID()),I.trigger(D["default"].KEY_SESSION_CREATED,{data:t})}else I.trigger(D["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+n+")"})})["catch"](function(e){I.trigger(D["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+n+")! "+e.name})})}function d(t){t.session.remove().then(function(){x("DRM: Session removed.  SessionID = "+t.getSessionID()),I.trigger(D["default"].KEY_SESSION_REMOVED,{data:t.getSessionID()})},function(e){I.trigger(D["default"].KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+t.getSessionID()+"). "+e.name})})}function p(t){g(t)["catch"](function(e){m(t),I.trigger(D["default"].KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+t.getSessionID()+") "+e.name})})}function h(e,t){var n,r,i;r=e[n=t].ks,i=e[n].configs,navigator.requestMediaKeySystemAccess(r.systemString,i).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,n=new R["default"](r,t);n.mksa=e,I.trigger(D["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:n})})["catch"](function(){++n<e.length?h(e,n):I.trigger(D["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})}function g(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function v(){return{handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;I.trigger(D["default"].NEED_KEY,{key:new O["default"](t,e.initDataType)})}}}}}function m(e){for(var t=0;t<E.length;t++)if(E[t]===e){E.splice(t,1);break}}function y(e,t,n){var r={session:e,initData:t,handleEvent:function(e){switch(e.type){case"keystatuseschange":I.trigger(D["default"].KEY_STATUSES_CHANGED,{data:this});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;I.trigger(D["default"].INTERNAL_KEY_MESSAGE,{data:new M["default"](this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",r),e.addEventListener("message",r),e.closed.then(function(){m(r),x("DRM: Session closed.  SessionID = "+r.getSessionID()),I.trigger(D["default"].KEY_SESSION_CLOSED,{data:r.getSessionID()})}),E.push(r),r}var _,b,T,w,E,S,P,C=this.context,I=e.eventBus,x=e.log;return _={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:a,setMediaElement:s,setServerCertificate:u,createKeySession:l,updateKeySession:c,loadKeySession:f,removeKeySession:d,closeKeySession:p,reset:n},t(),_}Object.defineProperty(n,"__esModule",{value:!0});var A=r(e(109)),O=r(e(127)),k=r(e(121)),M=r(e(122)),R=r(e(124)),D=r(e(13)),o=r(e(10));i.__dashjs_factory_name="ProtectionModel_21Jan2015",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,127:127,13:13}],115:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){P=S=E=w=null,C=[],x=(0,A["default"])(m).getInstance(),I=h()}function n(){try{for(var e=0;e<C.length;e++)c(C[e]);w&&w.removeEventListener(b.needkey,I),y.trigger(N["default"].TEARDOWN_COMPLETE)}catch(t){y.trigger(N["default"].TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+t.message})}}function r(){return E}function i(){for(var e=[],t=0;t<C.length;t++)e.push(C[t].initData);return e}function o(e){for(var t=!1,n=0;n<e.length;n++)for(var r=e[n].ks.systemString,i=e[n].configs,o=null,a=null,s=0;s<i.length;s++){var u=i[s].audioCapabilities,l=i[s].videoCapabilities;if(u&&0!==u.length){o=[];for(var c=0;c<u.length;c++)window[b.MediaKeys].isTypeSupported(r,u[c].contentType)&&o.push(u[c])}if(l&&0!==l.length){a=[];for(var f=0;f<l.length;f++)window[b.MediaKeys].isTypeSupported(r,l[f].contentType)&&a.push(l[f])}if(!(!o&&!a||o&&0===o.length||a&&0===a.length)){t=!0;var d=new R["default"](o,a),p=x.getKeySystemBySystemString(r);y.trigger(N["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new D["default"](p,d)});break}}t||y.trigger(N["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function a(e){try{S=e.mediaKeys=new window[b.MediaKeys](e.keySystem.systemString),E=e.keySystem,P=e,w&&g(),y.trigger(N["default"].INTERNAL_KEY_SYSTEM_SELECTED)}catch(t){y.trigger(N["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+E.systemString+")! Could not create MediaKeys -- TODO"})}}function s(e){w!==e&&(w&&w.removeEventListener(b.needkey,I),(w=e)&&(w.addEventListener(b.needkey,I),S&&g()))}function u(e){if(!E||!S||!P)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(null!==P.ksConfiguration.videoCapabilities&&0<P.ksConfiguration.videoCapabilities.length&&(t=P.ksConfiguration.videoCapabilities[0]),null===t&&null!==P.ksConfiguration.audioCapabilities&&0<P.ksConfiguration.audioCapabilities.length&&(t=P.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var n=t.contentType,r=S.createSession(n,new Uint8Array(e)),i=v(r,e);r.addEventListener(b.error,i),r.addEventListener(b.message,i),r.addEventListener(b.ready,i),r.addEventListener(b.close,i),C.push(i),_("DRM: Session created.  SessionID = "+i.getSessionID()),y.trigger(N["default"].KEY_SESSION_CREATED,{data:i})}function l(e,t){var n=e.session;x.isClearKey(E)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))}function c(e){var t=e.session;t.removeEventListener(b.error,e),t.removeEventListener(b.message,e),t.removeEventListener(b.ready,e),t.removeEventListener(b.close,e);for(var n=0;n<C.length;n++)if(C[n]===e){C.splice(n,1);break}t[b.release]()}function f(){}function d(){}function p(){}function h(){return{handleEvent:function(e){switch(e.type){case b.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;y.trigger(N["default"].NEED_KEY,{key:new O["default"](t,"cenc")})}}}}}function g(){var e=null,t=function(){w.removeEventListener("loadedmetadata",e),w[b.setMediaKeys](S),y.trigger(N["default"].VIDEO_ELEMENT_SELECTED)};1<=w.readyState?t():(e=t.bind(this),w.addEventListener("loadedmetadata",e))}function v(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case b.error:var t="KeyError";y.trigger(N["default"].KEY_ERROR,{data:new k["default"](this,t)});break;case b.message:var n=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;y.trigger(N["default"].INTERNAL_KEY_MESSAGE,{data:new M["default"](this,n,e.destinationURL)});break;case b.ready:_("DRM: Key added."),y.trigger(N["default"].KEY_ADDED);break;case b.close:_("DRM: Session closed.  SessionID = "+this.getSessionID()),y.trigger(N["default"].KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var m=this.context,y=e.eventBus,_=e.log,b=e.api,T=void 0,w=void 0,E=void 0,S=void 0,P=void 0,C=void 0,I=void 0,x=void 0;return T={getAllInitData:i,requestKeySystemAccess:o,getKeySystem:r,selectKeySystem:a,setMediaElement:s,createKeySession:u,updateKeySession:l,closeKeySession:c,setServerCertificate:f,loadKeySession:d,removeKeySession:p,reset:n},t(),T}Object.defineProperty(n,"__esModule",{value:!0});var A=r(e(109)),O=r(e(127)),k=r(e(121)),M=r(e(122)),R=r(e(125)),D=r(e(124)),N=r(e(13)),o=r(e(10));i.__dashjs_factory_name="ProtectionModel_3Feb2014",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13}],116:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e.substring(0,e.length-1)}function t(){return"GET"}function n(){return"json"}function r(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],i=r.kid.replace(/=/g,""),o=r.k.replace(/=/g,"");t.push(new a["default"](i,o))}return new s["default"](t)}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(123)),s=r(e(120)),o=r(e(10));i.__dashjs_factory_name="ClearKey",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,120:120,123:123}],117:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(e){return o[e].responseType}function r(e,t){return o[t].getLicenseMessage(e)}function i(e,t){return o[t].getErrorResponse(e)}var o={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(e){return a["default"].decodeArray(e.license)},getErrorResponse:function(e){return e}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(1));i.__dashjs_factory_name="DRMToday",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{1:1,10:10}],118:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="PlayReady",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],119:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="Widevine",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],120:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o=function(){function n(e,t){if(r(this,n),t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}return i(n,[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(r)}this.type&&(n.type=this.type);var i=JSON.stringify(n),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=i.charCodeAt(e);return a}}]),n}();n["default"]=o,t.exports=n["default"]},{}],121:[function(n,e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function n(e,t){r(this,n),this.sessionToken=e,this.error=t};t["default"]=i,e.exports=t["default"]},{}],122:[function(i,e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function i(e,t,n,r){o(this,i),this.sessionToken=e,this.message=t,this.defaultURL=n,this.messageType=r||"license-request"};t["default"]=n,e.exports=t["default"]},{}],123:[function(n,e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function n(e,t){r(this,n),this.keyID=e,this.key=t};t["default"]=i,e.exports=t["default"]},{}],124:[function(n,e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function n(e,t){r(this,n),
this.keySystem=e,this.ksConfiguration=t};t["default"]=i,e.exports=t["default"]},{}],125:[function(o,e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function o(e,t,n,r,i){a(this,o),this.initDataTypes=["cenc"],this.audioCapabilities=e,this.videoCapabilities=t,this.distinctiveIdentifier=n,this.persistentState=r,this.sessionTypes=i};t["default"]=n,e.exports=t["default"]},{}],126:[function(n,e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function n(e,t){r(this,n),this.contentType=e,this.robustness=t};t["default"]=i,e.exports=t["default"]},{}],127:[function(n,e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function n(e,t){r(this,n),this.initData=e,this.initDataType=t};t["default"]=i,e.exports=t["default"]},{}],128:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){return s.mediaInfo.streamInfo}function n(){return s.mediaInfo}function r(){return s}function i(){return l}function o(){return s.mediaInfo.streamInfo.manifestInfo}function a(){return u}var s=e.streamProcessor.getCurrentRepresentationInfo(),u=e.streamProcessor,l=e.currentValue;return{getStreamInfo:t,getMediaInfo:n,getTrackInfo:r,getCurrentValue:i,getManifestInfo:o,getStreamProcessor:a}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="RulesContext",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],129:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){a={}}function t(e){e&&(e.abrRulesCollection&&(a[l]=e.abrRulesCollection),e.synchronizationRulesCollection&&(a[c]=e.synchronizationRulesCollection))}function n(e,t,o,a,s){var n,u={},l={},c=e.length,r=c,i=d(t,a),f=function(e){var t,n,r;if(e.value!==p["default"].NO_CHANGE){var i=s(u[e.priority],e.value);i!==u[e.priority]&&(u[e.priority]=i,l[e.priority]=e.reason)}--c||(u[p["default"].WEAK]!==p["default"].NO_CHANGE&&(r=p["default"].WEAK,t=u[p["default"].WEAK],n=l[p["default"].WEAK]),u[p["default"].DEFAULT]!==p["default"].NO_CHANGE&&(r=p["default"].DEFAULT,t=u[p["default"].DEFAULT],n=l[p["default"].DEFAULT]),u[p["default"].STRONG]!==p["default"].NO_CHANGE&&(r=p["default"].STRONG,t=u[p["default"].STRONG],n=l[p["default"].STRONG]),r!=p["default"].STRONG&&r!=p["default"].WEAK&&(r=p["default"].DEFAULT),o(void 0!==t?{value:t,confidence:r,reason:n}:{value:a,confidence:r,reason:{name:"NO_CHANGE"}}))};for(u[p["default"].STRONG]=p["default"].NO_CHANGE,u[p["default"].WEAK]=p["default"].NO_CHANGE,u[p["default"].DEFAULT]=p["default"].NO_CHANGE,n=0;n<r;n++)e[n].execute(i,f)}function r(){var e,t,n=a[l],r=a[c],i=(n.getRules(s["default"].QUALITY_SWITCH_RULES)||[]).concat(n.getRules(s["default"].ABANDON_FRAGMENT_RULES)||[]).concat(r.getRules(u["default"].TIME_SYNCHRONIZED_RULES)||[]).concat(r.getRules(u["default"].BEST_GUESS_RULES)||[]),o=i.length;for(t=0;t<o;t++)"function"==typeof(e=i[t]).reset&&e.reset();a={}}function d(e,t){return(0,o["default"])(i).create({streamProcessor:e,currentValue:t})}var i=this.context,a=void 0;return{initialize:e,setConfig:t,applyRules:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(128)),p=r(e(130)),s=r(e(131)),u=r(e(144)),a=r(e(10)),l=0,c=1;i.__dashjs_factory_name="RulesController";var f=a["default"].getSingletonFactory(i);f.ABR_RULE=l,f.SYNC_RULE=c,n["default"]=f,t.exports=n["default"]},{10:10,128:128,130:130,131:131,144:144}],130:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return{value:void 0===e?a:e,priority:void 0===t?s:t,reason:void 0===n?null:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=999,s=.5,u=1,l=0;i.__dashjs_factory_name="SwitchRequest";var c=o["default"].getClassFactory(i);c.NO_CHANGE=a,c.DEFAULT=s,c.STRONG=u,c.WEAK=l,n["default"]=c,t.exports=n["default"]},{10:10}],131:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){r=[],i=[];var e=(0,d["default"])(n).getInstance(),t=(0,p["default"])(n).getInstance();(0,f["default"])(n).getInstance().getBufferOccupancyABREnabled()?(r.push((0,l["default"])(n).create({metricsModel:e,dashMetrics:(0,p["default"])(n).getInstance()})),i.push((0,c["default"])(n).create({metricsModel:e,dashMetrics:(0,p["default"])(n).getInstance()}))):(r.push((0,o["default"])(n).create({metricsModel:e,dashMetrics:t})),r.push((0,a["default"])(n).create({metricsModel:e,dashMetrics:t})),r.push((0,s["default"])(n).create({metricsModel:e})),i.push((0,u["default"])(n).create()))}function t(e){switch(e){case g:return r;case v:return i;default:return null}}var n=this.context,r=void 0,i=void 0;return{initialize:e,getRules:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(137)),a=r(e(135)),s=r(e(136)),u=r(e(132)),l=r(e(134)),c=r(e(133)),f=r(e(101)),d=r(e(102)),p=r(e(17)),h=r(e(10)),g="qualitySwitchRules",v="abandonFragmentRules";i.__dashjs_factory_name="ABRRulesCollection";var m=h["default"].getSingletonFactory(i);m.QUALITY_SWITCH_RULES=g,m.ABANDON_FRAGMENT_RULES=v,n["default"]=m,t.exports=n["default"]},{10:10,101:101,102:102,132:132,133:133,134:134,135:135,136:136,137:137,17:17}],132:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function E(){function e(){_={},b={},T=[],w=(0,i["default"])(m).getInstance()}function d(e,t){_[e]=_[e]||{},_[e][t]=_[e][t]||{}}function p(e,t){T[e]=T[e]||[],T[e].push(t)}function t(e,t){var n=e.getMediaInfo(),r=n.type,i=e.getCurrentValue().request,o=(0,S["default"])(m).create(S["default"].NO_CHANGE,S["default"].WEAK,{name:E.__dashjs_factory_name});if(!isNaN(i.index)){d(r,i.index);var a=_[r][i.index];if(null===a||null===i.firstByteDate||b.hasOwnProperty(a.id))return void t(o);if(void 0===a.firstByteTime&&(T[r]=[],a.firstByteTime=i.firstByteDate.getTime(),a.segmentDuration=i.duration,a.bytesTotal=i.bytesTotal,a.id=i.index),a.bytesLoaded=i.bytesLoaded,a.elapsedTime=(new Date).getTime()-a.firstByteTime,0<a.bytesLoaded&&0<a.elapsedTime&&p(r,Math.round(8*a.bytesLoaded/a.elapsedTime)),T[r].length>=v&&a.elapsedTime>g&&a.bytesLoaded<a.bytesTotal){var s=T[r].reduce(function(e,t){return e+t},0);if(a.measuredBandwidthInKbps=Math.round(s/T[r].length),a.estimatedTimeOfDownload=(8*a.bytesTotal/a.measuredBandwidthInKbps/1e3).toFixed(2),a.estimatedTimeOfDownload<a.segmentDuration*h||0===e.getTrackInfo().quality)return void t(o);if(!b.hasOwnProperty(a.id)){var u=e.getStreamProcessor().getABRController(),l=a.bytesTotal-a.bytesLoaded,c=u.getBitrateList(n),f=u.getQualityForBitrate(n,a.measuredBandwidthInKbps*w.getBandwidthSafetyFactor());a.bytesTotal*c[f].bitrate/c[u.getQualityFor(r,n.streamInfo)].bitrate<l&&(o.value=f,o.priority=S["default"].STRONG,o.reason.throughput=a.measuredBandwidthInKbps,b[a.id]=a,y("AbandonRequestsRule ( ",r,"frag id",a.id,") is asking to abandon and switch to quality to ",f," measured bandwidth was",a.measuredBandwidthInKbps),delete _[r][a.id])}}else a.bytesLoaded===a.bytesTotal&&delete _[r][a.id]}t(o)}function n(){e()}var h=1.8,g=500,v=5,m=this.context,y=(0,a["default"])(m).getInstance().log,_=void 0,b=void 0,T=void 0,w=void 0,r={execute:t,reset:n};return e(),r}Object.defineProperty(n,"__esModule",{value:!0});var S=r(e(130)),i=r(e(101)),o=r(e(10)),a=r(e(8));E.__dashjs_factory_name="AbandonRequestsRule",n["default"]=o["default"].getClassFactory(E),t.exports=n["default"]},{10:10,101:101,130:130,8:8}],133:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function B(e){function t(){F={},(0,o["default"])(D).getInstance()}function O(e,t,n){F[e]={index:t,quality:n}}function k(e,t,n){var r=F[e];return!r||t!==r.index||n<r.quality}function n(e,t){var n=e.getMediaInfo().type,r=j.getReadOnlyMetricsFor(n),i=e.getCurrentValue().request,o=(0,U["default"])(D).create(U["default"].NO_CHANGE,U["default"].WEAK,{name:B.__dashjs_factory_name});if(0===r.BolaState.length)return N("WARNING: executing BolaAbandonRule before initializing BolaRule"),F[n]=null,void t(o);var a=r.BolaState[0]._s,s=i.index,u=i.quality;if(!isNaN(s)&&0!==u&&k(n,s,u)&&i.firstByteDate){var l=Date.now()-i.firstByteDate.getTime(),c=i.bytesLoaded,f=i.bytesTotal,d=f-c,p=i.duration,h=L.getCurrentBufferLevel(r)?L.getCurrentBufferLevel(r):0,g=h+a.virtualBuffer,v=8*c/(.001*l),m=a.bandwidthSafetyFactor*v,y=.001*(i.firstByteDate.getTime()-i.requestStartDate.getTime());y<.001*R&&(y=.001*R);var _=y+8*f/m,b="";H["default"].BOLA_DEBUG&&(b="index="+s+" quality="+u+" bytesLoaded/bytesTotal="+c+"/"+f+" bufferLevel="+h+" timeSince1stByte="+(l/1e3).toFixed(3)+" estThroughput="+(m/1e6).toFixed(3)+" latency="+y.toFixed(3));var T=f*a.bitrates[0]/a.bitrates[u],w=d-y*m/8;if(w<1&&(w=1),l<M||d<=T||h>a.bufferTarget||w<=T||_<=p)t(o);else{var E=g-y;E<0&&(E=0);for(var S=0;S+1<u&&f*a.bitrates[S+1]/a.bitrates[u]<w;)++S;var P=u;if(a.state===H["default"].BOLA_STATE_STARTUP)for(var C=P=0;C<=S&&!(m<8*(T=f*a.bitrates[C]/a.bitrates[u])/p);++C)P=C;else{var I=(a.Vp*(a.utilities[u]+a.gp)-E)/w;for(C=0;C<=S;++C){T=f*a.bitrates[C]/a.bitrates[u];var x=(a.Vp*(a.utilities[C]+a.gp)-E)/T;I<x&&(P=C,I=x)}}var A=a.rebufferSafetyFactor*v*(h-y)/8;if(P===u&&A<w&&(P=S),P!==u){for(;0<P&&!((T=f*a.bitrates[P]/a.bitrates[u])<=A);)--P;a.lastQuality=P,j.updateBolaState(n,a),H["default"].BOLA_DEBUG&&N("BolaDebug "+n+" BolaAbandonRule abandon to "+P+" - "+b),O(n,s,u),o.value=P,o.priority=U["default"].STRONG,o.reason.state=a.state,o.reason.throughput=v,o.reason.bufferLevel=h,o.reason.bytesLoaded=i.bytesLoaded,o.reason.bytesTotal=i.bytesTotal,o.reason.elapsedTimeMs=l,t(o)}else t(o)}}else t(o)}function r(){F={}}var M=500,R=200,D=this.context,N=(0,a["default"])(D).getInstance().log,L=e.dashMetrics,j=e.metricsModel,i=void 0,F=void 0;return i={execute:n,reset:r},t(),i}Object.defineProperty(n,"__esModule",{value:!0});var U=r(e(130)),o=r(e(101)),i=r(e(10)),a=r(e(8)),H=r(e(134));B.__dashjs_factory_name="BolaAbandonRule",n["default"]=i["default"].getClassFactory(B),t.exports=n["default"]},{10:10,101:101,130:130,134:134,8:8}],134:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function D(e){function t(){f={},k=[],M=(0,d["default"])(I).getInstance(),(0,p["default"])(I).getInstance(),R=(0,g["default"])(I).getInstance(),u.on(m["default"].BUFFER_EMPTY,n,c),u.on(m["default"].PLAYBACK_SEEKING,r,c),u.on(m["default"].PERIOD_SWITCH_STARTED,i,c)}function s(e){return e.map(function(e){return Math.log(e)})}function _(e,t,n,r){var i=NaN;if(r?(i=0,r.forEach(function(e,t){e>r[i]&&(i=t)})):(r=s(n),i=r.length-1),0===i)return null;var o=1-r[0]+(r[i]-r[0])/(t/e-1),a=e/(r[0]+o-1);return{utilities:r,gp:o,Vp:a}}function w(e){var t={},n=e.getMediaInfo(),r=e.getStreamProcessor(),i=e.getStreamInfo(),o=e.getTrackInfo(),a=r.isDynamic(),s=i.manifestInfo.duration,u=o.fragmentDuration,l=n.bitrateList.map(function(e){return e.bandwidth}),c=_(U,H,l,null);if(null===c)return t.state=L,t;if(t.state=j,t.bitrates=l,t.utilities=c.utilities,t.Vp=c.Vp,t.gp=c.gp,t.isDynamic=a,t.movieDuration=s,t.fragmentDuration=u,t.bandwidthSafetyFactor=M.getBandwidthSafetyFactor(),t.rebufferSafetyFactor=V,t.bufferTarget=M.getStableBufferTime(),t.lastQuality=0,t.virtualBuffer=0,t.throughputCount=a?b:T,B){for(var f="",d=0;d<l.length;++d){var p=c.utilities[d],h=l[d],g=0;if(0<d){var v=c.utilities[d-1],m=l[d-1];g=c.Vp*((v*h-p*m)/(h-m)+c.gp)}var y=c.Vp*(p+c.gp);f+="\n"+d+":"+(1e-6*l[d]).toFixed(3)+"Mbps "+g.toFixed(3)+"/"+y.toFixed(3)}x("BolaDebug "+n.type+" bitrates"+f)}return t}function E(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||i<=a)&&(i=a,r=o)}return r}function l(e,t){for(var n=A.getHttpRequests(e),r=[],i=n.length-1;0<=i&&r.length<t;--i){var o=n[i];o.type===h.HTTPRequest.MEDIA_SEGMENT_TYPE&&o._tfinish&&o.tresponse&&o.trace&&r.push(o)}return r}function S(e,t,n){var r=l(e,t);if(0===r.length)return 0;for(var i=0,o="",a=0;a<r.length;++a){var s=.001*(r[a]._tfinish.getTime()-r[a].trequest.getTime()),u=8*r[a].trace.reduce(function(e,t){return e+t.b[0]},0);B&&(o+=" "+(1e-6*u).toFixed(3)+"/"+s.toFixed(3)+"="+(1e-6*u/s).toFixed(3)+"Mbps"),i+=s/u}return B&&x("BolaDebug "+n+" BolaRule recent throughput = "+(r.length/(1e6*i)).toFixed(3)+"Mbps:"+o),r.length/i}function P(e,n){var r=0;return e.bitrates.some(function(e,t){return n<e||(r=t,!1)}),r}function C(e,t){var n=l(e,1);if(0===n.length)return 0;var r=n[0],i=Date.now(),o=r._tfinish.getTime();i<o&&(o=i);var a=f[t];f[t]=i;var s=0;return(s=a&&o<a?i-a:i-o)<=0?0:.001*s}function n(){B&&x("BolaDebug BUFFER_EMPTY"),k.forEach(function(e){var t=O.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state===F&&(n.virtualBuffer=0,O.updateBolaState(e,n))}})}function r(e){B&&x("BolaDebug PLAYBACK_SEEKING "+e.seekTime.toFixed(3)),k.forEach(function(e){var t=O.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state!==L&&(n.state=j),O.updateBolaState(e,n)}})}function i(){}function o(e,t){var n=e.getStreamProcessor();n.getScheduleController().setTimeToLoadDelay(0);var r=(0,N["default"])(I).create(N["default"].NO_CHANGE,N["default"].WEAK,{name:D.__dashjs_factory_name}),i=e.getMediaInfo().type,o=O.getReadOnlyMetricsFor(i);if(0===o.BolaState.length){B&&x("BolaDebug "+i+"\nBolaDebug "+i+" BolaRule for state=- fragmentStart="+R.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var a=w(e);O.updateBolaState(i,a);var s=0;if(a.state!==L){k.push(i);var u=S(o,a.throughputCount,i);if(0===u)return B&&x("BolaDebug "+i+" BolaRule quality unchanged for INITIALIZE"),void t(r);s=P(a,u*a.bandwidthSafetyFactor),a.lastQuality=s,r.value=s,r.priority=N["default"].DEFAULT,r.reason.state=a.state,r.reason.throughput=u}return B&&x("BolaDebug "+i+" BolaRule quality "+s+" for INITIALIZE"),void t(r)}var l=o.BolaState[0]._s;if(l.state===L)return B&&x("BolaDebug "+i+" BolaRule quality 0 for ONE_BITRATE"),void t(r);var c=l.bitrates,f=l.utilities;B&&x("BolaDebug "+i+"\nBolaDebug "+i+" EXECUTE BolaRule for state="+l.state+" fragmentStart="+R.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var d=A.getCurrentBufferLevel(o)?A.getCurrentBufferLevel(o):0,p=S(o,l.throughputCount,i);d<=.1&&(l.virtualBuffer=0);var h=C(o,i);0<h&&(l.virtualBuffer+=h),l.virtualBuffer<0&&(l.virtualBuffer=0);var g=d+l.virtualBuffer,v=E(l,g);if(B&&x("BolaDebug "+i+" BolaRule bufferLevel="+d.toFixed(3)+"(+"+l.virtualBuffer.toFixed(3)+"="+g.toFixed(3)+") recentThroughput="+(1e-6*p).toFixed(3)+" tentativeQuality="+v),l.state===j){var s=P(l,p*l.bandwidthSafetyFactor);if(d>l.fragmentDuration/V){l.state=F;for(var m=0,y=0;y<s;++y){var _=l.Vp*(l.gp+(c[s]*f[y]-c[y]*f[s])/(c[s]-c[y]));m<_&&(m=_)}d<m&&(l.virtualBuffer=m-d)}return B&&x("BolaDebug "+i+" BolaRule quality "+s+" for STARTUP"),l.lastQuality=s,O.updateBolaState(i,l),r.value=s,r.priority=N["default"].DEFAULT,r.reason.state=j,r.reason.throughput=p,void t(r)}v>l.lastQuality&&((s=P(l,p))<v&&(s<l.lastQuality&&(s=l.lastQuality),v=s));if(0<p)for(var b=V*p*d/l.fragmentDuration;0<v&&c[v]>b;)--v;var T=0;0<(T=g-l.Vp*(f[v]+l.gp))&&(T>l.virtualBuffer?(T-=l.virtualBuffer,l.virtualBuffer=0):(l.virtualBuffer-=T,T=0)),0<T?v===c.length-1?T=0:n.getScheduleController().setTimeToLoadDelay(1e3*T):T=0,l.lastQuality=v,O.updateBolaState(i,l),r.value=v,r.priority=N["default"].DEFAULT,r.reason.state=l.state,r.reason.throughput=p,r.reason.bufferLevel=d,B&&x("BolaDebug "+i+" BolaRule quality "+v+" delay="+T.toFixed(3)+" for STEADY"),t(r)}function a(){u.off(m["default"].BUFFER_EMPTY,n,c),u.off(m["default"].PLAYBACK_SEEKING,r,c),u.off(m["default"].PERIOD_SWITCH_STARTED,i,c),t()}var b=2,T=3,I=this.context,x=(0,y["default"])(I).getInstance().log,A=e.dashMetrics,O=e.metricsModel,u=(0,v["default"])(I).getInstance(),c=void 0,f=void 0,k=void 0,M=void 0,R=void 0;return c={execute:o,reset:a},t(),c}Object.defineProperty(n,"__esModule",{value:!0});var N=r(e(130)),i=r(e(10)),d=r(e(101)),p=r(e(68)),h=e(179),g=r(e(15)),v=r(e(9)),m=r(e(13)),y=r(e(8)),L=0,j=1,F=2,B=!1,U=10,H=30,V=.5;D.__dashjs_factory_name="BolaRule";var o=i["default"].getClassFactory(D);o.BOLA_STATE_ONE_BITRATE=L,o.BOLA_STATE_STARTUP=j,o.BOLA_STATE_STEADY=F,o.BOLA_DEBUG=B,n["default"]=o,t.exports=n["default"]},{10:10,101:101,13:13,130:130,15:15,179:179,68:68,8:8,9:9}],135:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function b(e){function t(){_=(y=0,o["default"])(h).getInstance()}function n(e,t){var n=(new Date).getTime()/1e3,r=e.getMediaInfo(),i=e.getTrackInfo(),o=r.type,a=isNaN(i.fragmentDuration)?2:i.fragmentDuration/2,s=e.getCurrentValue(),u=e.getStreamProcessor().getABRController(),l=v.getReadOnlyMetricsFor(o),c=m.getCurrentBufferLevel(l),f=0<l.BufferState.length?l.BufferState[l.BufferState.length-1]:null,d=r.representationCount-1,p=(0,T["default"])(h).create(T["default"].NO_CHANGE,T["default"].WEAK,{name:b.__dashjs_factory_name});return n-y<a||u.getAbandonmentStateFor(o)===w["default"].ABANDON_LOAD||(null!==f&&c>f.target&&(c-f.target>_.getRichBufferThreshold()&&1<r.representationCount&&(p.value=d,p.priority=T["default"].STRONG,p.reason.bufferLevel=c,p.reason.bufferTarget=f.target)),p.value!==T["default"].NO_CHANGE&&p.value!==s&&g("BufferOccupancyRule requesting switch to index: ",p.value,"type: ",o," Priority: ",p.priority===T["default"].DEFAULT?"Default":p.priority===T["default"].STRONG?"Strong":"Weak")),void t(p)}function r(){y=0}var i=void 0,h=this.context,g=(0,a["default"])(h).getInstance().log,v=e.metricsModel,m=e.dashMetrics,y=void 0,_=void 0;return i={execute:n,reset:r},t(),i}Object.defineProperty(n,"__esModule",{value:!0});var T=r(e(130)),o=r(e(101)),w=r(e(60)),i=r(e(10)),a=r(e(8));b.__dashjs_factory_name="BufferOccupancyRule",n["default"]=i["default"].getClassFactory(b),t.exports=n["default"]},{10:10,101:101,130:130,60:60,8:8}],136:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function g(e){function t(){d={},p=0,h=1e3,o.on(y["default"].PLAYBACK_SEEKING,r,a)}function n(e,t){var n=(new Date).getTime(),r=e.getMediaInfo().type,i=e.getCurrentValue(),o=f.getReadOnlyMetricsFor(r),a=0<o.BufferState.length?o.BufferState[o.BufferState.length-1]:null,s=(0,v["default"])(l).create(v["default"].NO_CHANGE,v["default"].WEAK,{name:g.__dashjs_factory_name});return n-p<h||null===a||(u(r,a.state),a.state===m["default"].BUFFER_EMPTY&&void 0!==d[r].firstBufferLoadedEvent&&(s.value=0,s.priority=v["default"].STRONG,s.reason.bufferState=a.state,s=(0,v["default"])(l).create(0,v["default"].STRONG)),s.value!==v["default"].NO_CHANGE&&s.value!==i&&c("InsufficientBufferRule requesting switch to index: ",s.value,"type: ",r," Priority: ",s.priority===v["default"].DEFAULT?"Default":s.priority===v["default"].STRONG?"Strong":"Weak"),p=n),void t(s)}function u(e,t){d[e]=d[e]||{},(d[e].state=t)!==m["default"].BUFFER_LOADED||d[e].firstBufferLoadedEvent||(d[e].firstBufferLoadedEvent=!0)}function r(){d={}}function i(){o.off(y["default"].PLAYBACK_SEEKING,r,a),d={},p=0}var l=this.context,c=(0,_["default"])(l).getInstance().log,o=(0,s["default"])(l).getInstance(),f=e.metricsModel,a=void 0,d=void 0,p=void 0,h=void 0;return a={execute:n,reset:i},t(),a}Object.defineProperty(n,"__esModule",{value:!0});var v=r(e(130)),m=r(e(63)),s=r(e(9)),y=r(e(13)),i=r(e(10)),_=r(e(8));g.__dashjs_factory_name="InsufficientBufferRule",n["default"]=i["default"].getClassFactory(g),t.exports=n["default"]},{10:10,13:13,130:130,63:63,8:8,9:9}],137:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function S(e){function t(){d=[],E={audio:{threshold:l,value:NaN},video:{threshold:u,value:NaN}},p=(0,g["default"])(_).getInstance()}function m(e,t){d[e]=d[e]||[],d[e].push(t)}function i(e,t){var n=Math.min(d[e].length,t?a:s),r=d[e].slice(-1*n,d[e].length);return 1<r.length&&r.reduce(function(e,t){return(e*f<=t||t*c<=e)&&n++,t}),n=Math.min(d[e].length,n),d[e].slice(-1*n,d[e].length)}function y(e,t){var n=i(e,t),r=0;0<n.length&&(r=n.reduce(function(e,t){return e+t},0)/n.length);return d[e].length>=o&&d[e].shift(),r/1e3*p.getBandwidthSafetyFactor()}function n(e,t){var n=e.getMediaInfo(),r=n.type,i=e.getCurrentValue(),o=w.getReadOnlyMetricsFor(r),a=e.getStreamProcessor(),s=a.getABRController(),u=a.isDynamic(),l=T.getCurrentHttpRequest(o),c=0<o.BufferState.length?o.BufferState[o.BufferState.length-1]:null,f=(0,P["default"])(_).create(P["default"].NO_CHANGE,P["default"].WEAK,{name:S.__dashjs_factory_name});if(o&&l&&l.type===x.HTTPRequest.MEDIA_SEGMENT_TYPE&&c){var d=void 0;if(l.trace&&l.trace.length){d=l._tfinish.getTime()-l.tresponse.getTime()+1;var p=l.trace.reduce(function(e,t){return e+t.b[0]},0),h=Math.round(8*p/(d/1e3));d<=E[r].threshold?E[r].value=h/1e3:(E[r].value=NaN,m(r,h))}var g=Math.round(isNaN(E[r].value)?y(r,u):E[r].value);if(s.setAverageThroughput(r,g),s.getAbandonmentStateFor(r)!==I["default"].ABANDON_LOAD){if(c.state===C["default"].BUFFER_LOADED||u){var v=s.getQualityForBitrate(n,g);a.getScheduleController().setTimeToLoadDelay(0),f.value=v,f.priority=P["default"].DEFAULT,f.reason.throughput=g}f.value!==P["default"].NO_CHANGE&&f.value!==i&&b("ThroughputRule requesting switch to index: ",f.value,"type: ",r," Priority: ",f.priority===P["default"].DEFAULT?"Default":f.priority===P["default"].STRONG?"Strong":"Weak","Average throughput",Math.round(g),"kbps")}t(f)}else t(f)}function r(){t()}var o=20,a=3,s=4,u=50,l=5,c=1.3,f=1.3,_=this.context,b=(0,v["default"])(_).getInstance().log,T=e.dashMetrics,w=e.metricsModel,d=void 0,E=void 0,p=void 0,h={execute:n,reset:r};return t(),h}Object.defineProperty(n,"__esModule",{value:!0});var P=r(e(130)),C=r(e(63)),I=r(e(60)),g=r(e(101)),x=e(179),i=r(e(10)),v=r(e(8));S.__dashjs_factory_name="ThroughputRule",n["default"]=i["default"].getClassFactory(S),t.exports=n["default"]},{10:10,101:101,130:130,179:179,60:60,63:63,8:8}],138:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){var t,n=0;return e&&e.some(function(e,t){return n=t,!r.contains(e.serviceLocation)})&&(t=e[n]),t}var r=e.blacklistController;return{select:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="BasicSelector",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],139:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){var t=[],n=function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)},r=function(e){return!i.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)};return e.filter(r).filter(n)}function n(e){var n,t,r=function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n},i=function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority},o=0,a=[],s=0;if((t=e.sort(r).filter(i)).length)return 1<t.length&&(t.forEach(function(e){o+=e.dvb_weight,a.push(o)}),n=Math.floor(Math.random()*(o-1)),a.every(function(e,t){return s=t,!(n<e)})),t[s]}function r(e){return e&&n(t(e))}var i=e.blacklistController;return{select:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="DVBSelector",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],140:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){c=(0,a["default"])(i).getInstance(),(0,f["default"])(i).getInstance()}function n(e,t,n){return s.getCurrentBufferLevel(u.getReadOnlyMetricsFor(t))<r(e,t,n)}function r(e,t,n){var r=NaN,i=e.getCurrentRepresentationInfo();if("fragmentedText"===t)r=l.getAllTracksAreDisabled()?0:i.fragmentDuration;else if("audio"===t&&n){var o=s.getCurrentBufferLevel(u.getReadOnlyMetricsFor("video"));r=Math.floor(Math.max(o,i.fragmentDuration))}else{var a=i.mediaInfo.streamInfo;if(e.getABRController().isPlayingAtTopQuality(a))r=a.manifestInfo.duration>=c.getLongFormContentDurationThreshold()?c.getBufferTimeAtTopQualityLongForm():c.getBufferTimeAtTopQuality();else r=c.getStableBufferTime()}return r}var i=this.context,s=e.dashMetrics,u=e.metricsModel,l=e.textSourceBuffer,c=void 0,o={execute:n,getBufferTarget:r};return t(),o}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(101)),f=r(e(68)),o=r(e(10));i.__dashjs_factory_name="BufferLevelRule",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,68:68}],141:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var n=e.getCurrentRepresentationInfo(),r=n.mediaInfo.type,i=e.getScheduleController(),o=i.getSeekTarget(),a=!isNaN(o),s=e.getBuffer(),u=a?o:d.getIndexHandlerTime(e);if(isNaN(u)||"fragmentedText"===r&&h.getAllTracksAreDisabled())return null;if(a&&i.setSeekTarget(NaN),s){var l=p.getBufferRange(e.getBuffer(),u);null!==l&&(f("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",u," was changed to ",l.end),u=l.end)}var c=void 0;return t?(u=t.startTime+t.duration/2,c=d.getFragmentRequestForTime(e,n,u,{timeThreshold:0,ignoreIsFinished:!0})):((c=d.getFragmentRequestForTime(e,n,u,{keepIdx:!a}))&&e.getFragmentModel().isFragmentLoaded(c)&&(c=d.getNextFragmentRequest(e,n)),c&&(d.setIndexHandlerTime(e,c.startTime+c.duration),c.delayLoadingTime=(new Date).getTime()+i.getTimeToLoadDelay(),i.setTimeToLoadDelay(0))),c}var n=this.context,f=(0,o["default"])(n).getInstance().log,d=e.adapter,p=e.sourceBufferController,h=e.textSourceBuffer;return{execute:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(8)),a=r(e(10));i.__dashjs_factory_name="NextFragmentRequestRule",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,8:8}],142:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){p=NaN,h=null,g=NaN,v=null,m=!1,y=NaN,_=E["default"].DEFAULT}function n(e,t){var n,r;if(b=t,w=e.getStreamProcessor(),T=w.getFragmentLoader(),v=e.getTrackInfo(),y=v.fragmentDuration,r=v.DVRWindow,p=r.end,v.useCalculatedLiveEdgeTime){var i=d.getExpectedLiveEdge();return d.setExpectedLiveEdge(p),void b((0,E["default"])(l).create(i,_))}h={start:Math.max(0,p-C),end:p+C},g=Math.floor((r.end-r.start)/2),n=f.getFragmentRequestForTime(w,v,p,{ignoreIsFinished:!0}),a(p,s,o,n)}function r(){p=NaN,h=null,g=NaN,v=null,m=!1,y=NaN,T=w=null}function a(t,n,r,i){var e;if(null===i)e=f.generateFragmentRequestForTime(w,v,t),a(t,n,r,e);else{var o=function i(e){c.off(P["default"].CHECK_FOR_EXISTENCE_COMPLETED,i,this),e.exists?n(e.request,t):r(e.request,t)};c.on(P["default"].CHECK_FOR_EXISTENCE_COMPLETED,o,this),T.checkForExistence(i)}}function o(e,t){var n,r;return m?void u(!1,t):void((n=0<(r=t-p)?p-r:p+Math.abs(r)+g)<h.start&&n>h.end?b((0,E["default"])(l).create(null,_)):a(n,s,o,f.getFragmentRequestForTime(w,v,n,{ignoreIsFinished:!0})))}function s(e,t){var n,r,i=e.startTime;if(!m){if(!v.fragmentDuration)return void b((0,E["default"])(l).create(i,_));if(m=!0,h.end=i+2*g,t===p)return r=t+y,n=f.getFragmentRequestForTime(w,v,r,{ignoreIsFinished:!0}),void a(r,function(){u(!0,r)},function(){b((0,E["default"])(l).create(r,_))},n)}u(!0,t)}function u(e,t){var n;e?h.start=t:h.end=t,Math.floor(h.end-h.start)<=y?b((0,E["default"])(l).create(e?t:t-y,_)):a(n=(h.start+h.end)/2,s,o,f.getFragmentRequestForTime(w,v,n,{ignoreIsFinished:!0}))}var l=this.context,c=(0,S["default"])(l).getInstance(),f=e.adapter,d=e.timelineConverter,i=void 0,p=void 0,h=void 0,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,w=void 0;return i={execute:n,reset:r},t(),i}Object.defineProperty(n,"__esModule",{value:!0});var E=r(e(130)),S=r(e(9)),P=r(e(13)),o=r(e(10)),C=43200;i.__dashjs_factory_name="LiveEdgeBinarySearchRule",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,130:130,9:9}],143:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var n=e.getTrackInfo(),r=n.DVRWindow.end,i=u["default"].DEFAULT;if(n.useCalculatedLiveEdgeTime){var o=s.getExpectedLiveEdge();s.setExpectedLiveEdge(r),t((0,u["default"])(a).create(o,i))}else t((0,u["default"])(a).create(r,i))}var a=this.context,s=e.timelineConverter;return{execute:t}}Object.defineProperty(n,"__esModule",{value:!0});var u=r(e(130)),o=r(e(10));i.__dashjs_factory_name="LiveEdgeWithTimeSynchronizationRule",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,130:130}],144:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){i=[],(r=[]).push((0,u["default"])(n).create({timelineConverter:(0,a["default"])(n).getInstance()})),i.push((0,s["default"])(n).create({timelineConverter:(0,a["default"])(n).getInstance(),adapter:(0,l["default"])(n).getInstance()}))}function t(e){switch(e){case c:return r;case f:return i;default:return null}}var n=this.context,r=void 0,i=void 0;return{initialize:e,getRules:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(37)),s=r(e(142)),u=r(e(143)),l=r(e(15)),c="withAccurateTimeSourceRules",f="bestGuestRules";i.__dashjs_factory_name="SynchronizationRulesCollection";var d=o["default"].getSingletonFactory(i);d.TIME_SYNCHRONIZED_RULES=c,d.BEST_GUESS_RULES=f,n["default"]=d,t.exports=n["default"]},{10:10,142:142,143:143,15:15,37:37}],145:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){u=(0,g["default"])(i).create({updateEventName:p["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:p["default"].FRAGMENT_LOADING_COMPLETED}),l=(0,m["default"])(i).create({blacklistController:u}),c=(0,v["default"])(i).create({blacklistController:u}),f=l}function t(e){f=a.getIsDVB(e)?c:l}function n(e){var t=e.baseUrls,n=e.selectedIdx;if(!isNaN(n))return t[n];var r=f.select(t);return r?(e.selectedIdx=t.indexOf(r),r):void o.trigger(p["default"].URL_RESOLUTION_FAILED,{error:new Error(y,_)})}function r(){u.reset()}var i=this.context,o=(0,d["default"])(i).getInstance(),a=(0,h["default"])(i).getInstance(),s=void 0,u=void 0,l=void 0,c=void 0,f=void 0;return s={chooseSelectorFromManifest:t,select:n,reset:r},e(),s}Object.defineProperty(n,"__esModule",{value:!0});var d=r(e(9)),p=r(e(13)),h=r(e(22)),g=r(e(62)),v=r(e(139)),m=r(e(138)),o=r(e(10)),y=1,_="Failed to resolve a valid URL";i.__dashjs_factory_name="BaseURLSelector";var a=o["default"].getClassFactory(i);a.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=y,a.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=_,n["default"]=a,t.exports=n["default"]},{10:10,13:13,138:138,139:139,22:22,62:62,9:9}],146:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var t=s["default"].parseBuffer(e),n=(0,o["default"])(r).create();return n.setData(t),n}var r=this.context;return{parse:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(153)),a=r(e(10)),s=r(e(6));i.__dashjs_factory_name="BoxParser",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,153:153,6:6}],147:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){a=!1}function t(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t}function n(){return a}function r(e){a=e}function i(e,t){var n=e.canPlayType(t);return"probably"===n||"maybe"===n}var o=void 0,a=void 0;return o={supportsMediaSource:t,supportsEncryptedMedia:n,supportsCodec:i,setEncryptedMediaSupported:r},e(),o}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="Capabilities",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],148:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length}function t(){this.customTimeRangeArray=[],this.length=0}function n(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{
start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length}function r(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)}function i(e){return this.customTimeRangeArray[e].start}function o(e){return this.customTimeRangeArray[e].end}return{customTimeRangeArray:[],length:0,add:e,clear:t,remove:n,mergeRanges:r,start:i,end:o}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="CustomTimeRanges",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],149:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function n(e){if(void 0!==d)return d;d=!1;var t,n="1",r="1";try{"undefined"!=typeof window&&(t=window[e])}catch(a){return c("Warning: DOMStorage access denied: "+a.message),d}if(!t||e!==_&&e!==b)return d;try{t.setItem(n,r),t.removeItem(n),d=!0}catch(a){c("Warning: DOMStorage is supported, but cannot be used: "+a.message)}return d}function e(){n(_)&&v.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(r){c(r.message)}}})}function r(){p=(0,h["default"])(l).getInstance(),e()}function i(){var e=6e5;return Math.round((new Date).getTime()/e)*e}function a(e,t){return n(e)&&p["get"+t+"CachingInfo"]().enabled}function o(e){if(!a(_,"LastMediaSettings"))return null;var t=y.replace(/\?/,e),n=JSON.parse(localStorage.getItem(t))||{},r=(new Date).getTime()-parseInt(n.timestamp,10)>=p.getLastMediaSettingsCachingInfo().ttl||!1,i=n.settings;return r&&(localStorage.removeItem(t),i=null),i}function t(e){var t=NaN;if(a(_,"LastBitrate")){var n=m.replace(/\?/,e),r=JSON.parse(localStorage.getItem(n))||{},i=(new Date).getTime()-parseInt(r.timestamp,10)>=p.getLastBitrateCachingInfo().ttl||!1,o=parseInt(r.bitrate,10);isNaN(o)||i?i&&localStorage.removeItem(n):c("Last saved bitrate for "+e+" was "+(t=o))}return t}function s(e,t){if(a(_,"LastMediaSettings")){var n=y.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:i()}))}catch(o){c(o.message)}}}function u(e,t){if(a(_,"LastBitrate")&&t){var n=m.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t/1e3,timestamp:i()}))}catch(o){c(o.message)}}}var l=this.context,c=(0,g["default"])(l).getInstance().log,f=void 0,d=void 0,p=void 0;return f={getSavedBitrateSettings:t,setSavedBitrateSettings:u,getSavedMediaSettings:o,setSavedMediaSettings:s,isSupported:n},r(),f}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),h=r(e(101)),g=r(e(8)),v=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],m="dashjs_?_bitrate",y="dashjs_?_settings",_="localStorage",b="sessionStorage";i.__dashjs_factory_name="DOMStorage";var a=o["default"].getSingletonFactory(i);n["default"]=a,t.exports=n["default"]},{10:10,101:101,8:8}],150:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){return p}function n(e){p=e}function i(e,t){var n=!0,r=0;if(void 0===t&&(t=!1),r=16777215<e.tag?(d.getUint32(p)!==e.tag&&(n=!1),4):65535<e.tag?(256*d.getUint16(p)+d.getUint8(p+2)!==e.tag&&(n=!1),3):255<e.tag?(d.getUint16(p)!==e.tag&&(n=!1),2):(d.getUint8(p)!==e.tag&&(n=!1),1),!n&&e.required&&!t)throw new h["default"]("required tag not found");return n&&(p+=r),n}function r(e,t){var n=i(e,t);return n&&s(),n}function o(e){var t=void 0;return i(e),t=s(),f[e.parse](t)}function a(e,t){var n=i(e,t),r=void 0;return n&&(r=s(),p+=r),n}function s(e){var t=1,n=128,r=8,i=-1,o=0,a=d.getUint8(p),s=void 0;for(s=0;s<r;s+=1){if((a&n)===n){o=void 0===e?a&~n:a,i=s;break}n>>=1}for(s=0;s<i;s+=1,t+=1)o=o<<8|255&d.getUint8(p+t);return p+=t,o}function u(e){var t=void 0;switch(e){case 4:t=d.getFloat32(p),p+=4;break;case 8:t=d.getFloat64(p),p+=8}return t}function l(e){var t=0,n=void 0;for(n=0;n<e;n+=1)t<<=8,t|=255&d.getUint8(p+n);return p+=e,t}function c(){return p<d.byteLength}var f=void 0,d=new DataView(e.data),p=0;return f={getPos:t,setPos:n,consumeTag:i,consumeTagAndSize:r,parseTag:o,skipOverElement:a,getMatroskaCodedNum:s,getMatroskaFloat:u,getMatroskaUint:l,moreData:c}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),h=r(e(162));i.__dashjs_factory_name="EBMLParser",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,162:162}],151:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){u.trigger(c["default"].ERROR,{error:"capability",event:e})}function t(e,t,n){u.trigger(c["default"].ERROR,{error:"download",event:{id:e,url:t,request:n}})}function n(e,t,n,r){u.trigger(c["default"].ERROR,{error:"manifestError",event:{message:e,id:t,manifest:n,event:r}})}function r(e,t,n){u.trigger(c["default"].ERROR,{error:"cc",event:{message:e,id:t,cc:n}})}function i(e){u.trigger(c["default"].ERROR,{error:"mediasource",event:e})}function o(e){u.trigger(c["default"].ERROR,{error:"key_session",event:e})}function a(e){u.trigger(c["default"].ERROR,{error:"key_message",event:e})}var s=this.context,u=(0,l["default"])(s).getInstance();return{capabilityError:e,downloadError:t,manifestError:n,timedTextError:r,mediaSourceError:i,mediaKeySessionError:o,mediaKeyMessageError:a}}Object.defineProperty(n,"__esModule",{value:!0});var l=r(e(9)),c=r(e(13)),o=r(e(10)),a="mediasource",s="mediakeys",u="manifest",f="SIDX",d="content",p="initialization",h="xlink",g="codec",v="parse",m="nostreams",y="parse";i.__dashjs_factory_name="ErrorHandler";var _=o["default"].getSingletonFactory(i);_.CAPABILITY_ERROR_MEDIASOURCE=a,_.CAPABILITY_ERROR_MEDIAKEYS=s,_.DOWNLOAD_ERROR_ID_MANIFEST=u,_.DOWNLOAD_ERROR_ID_SIDX=f,_.DOWNLOAD_ERROR_ID_CONTENT=d,_.DOWNLOAD_ERROR_ID_INITIALIZATION=p,_.DOWNLOAD_ERROR_ID_XLINK=h,_.MANIFEST_ERROR_ID_CODEC=g,_.MANIFEST_ERROR_ID_PARSE=v,_.MANIFEST_ERROR_ID_NOSTREAMS=m,_.TIMED_TEXT_ERROR_ID_PARSE=y,n["default"]=_,t.exports=n["default"]},{10:10,13:13,9:9}],152:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t=e.streamId,n=e.mediaInfo.type,r=e.quality;i[t]=i[t]||{},i[t][n]=i[t][n]||{},i[t][n][r]=e}function t(e,t,n){return i[e][t][n]}function n(){i={}}var i={};return{save:e,extract:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="InitCache",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],153:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e&&l&&l.boxes&&0!==l.boxes.length?s(l.fetch(e)):null}function t(e){for(var t,n=l.fetchAll(e),r=[],i=0,o=n.length;i<o;i++)(t=s(n[i]))&&r.push(t);return r}function n(e){l=e}function r(){if(!l||!l.boxes||!l.boxes.length)return null;var e=t(l.boxes[l.boxes.length-1].type);return e[e.length-1]}function i(){return l._cursor.offset}function o(){c={offset:"_offset",size:"size",type:"type"},f={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},d={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},p={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},h={timescale:"timescale"},g={sequence_number:"sequence_number"},v={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},m={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},y={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},_={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"}}function a(e,t,n){for(var r in n)t[r]=e[n[r]]}function s(e){if(!e)return null;var t,n,r=new b["default"];switch(a(e,r,c),e.hasOwnProperty("_incomplete")&&(r.isComplete=!e._incomplete),r.type){case"sidx":if(a(e,r,f),r.references)for(t=0,n=r.references.length;t<n;t++)a(e.references[t],r.references[t],d);break;case"emsg":a(e,r,p);break;case"mdhd":a(e,r,h);break;case"mfhd":a(e,r,g);break;case"tfhd":a(e,r,v);break;case"tfdt":a(e,r,m);break;case"trun":if(a(e,r,y),r.samples)for(t=0,n=r.samples.length;t<n;t++)a(e.samples[t],r.samples[t],_)}return r}var u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0;return u={getBox:e,getBoxes:t,setData:n,getLastBox:r,getOffset:i},o(),u}Object.defineProperty(n,"__esModule",{value:!0});var b=r(e(165)),o=r(e(10));i.__dashjs_factory_name="IsoFile",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,165:165}],154:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){u=e,l=t,f=!1,d=NaN,h=null,c=(0,b["default"])(a).getInstance(),g=v["default"].BEST_GUESS_RULES,s.on(_["default"].STREAM_INITIALIZED,o,this)}function t(){f=!1,d=NaN}function n(){return h}function r(){s.off(_["default"].STREAM_INITIALIZED,o,this),t(),l=u=h=null,f=!1,d=NaN,c=g=null}function i(e){var t=((new Date).getTime()-d)/1e3;h=e.value,s.trigger(_["default"].LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:h,searchTime:t,error:null===h?new m["default"](T,"live edge has not been found",null):null})}function o(e){!l.isDynamic()||f||e.error||(g=u.isTimeSyncCompleted()?v["default"].TIME_SYNCHRONIZED_RULES:v["default"].BEST_GUESS_RULES,p=(0,v["default"])(a).getInstance().getRules(g),f=!0,d=(new Date).getTime(),c.applyRules(p,l,i,null,function(e,t){return t}))}var a=this.context,s=(0,y["default"])(a).getInstance(),u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0;return{initialize:e,abortSearch:t,getLiveEdge:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var v=r(e(144)),m=r(e(162)),y=r(e(9)),_=r(e(13)),b=r(e(129)),o=r(e(10)),T=1;i.__dashjs_factory_name="LiveEdgeFinder";var a=o["default"].getSingletonFactory(i);a.LIVE_EDGE_NOT_FOUND_ERROR_CODE=T,n["default"]=a,t.exports=n["default"]},{10:10,129:129,13:13,144:144,162:162,9:9}],155:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){return JSON.stringify(e)===JSON.stringify(t)}return{areSimpleEquivalent:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="ObjectUtils",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],156:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(e){return e}return{modifyRequestURL:e,modifyRequestHeader:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="RequestModifier",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],157:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.videoModel&&(_e=e.videoModel)}function Y(e){return e.hasOwnProperty("begin")&&e.hasOwnProperty("end")?[c(e.begin),c(e.end)]:null}function W(){var e="cue_TTML_"+P;return P++,e}function Q(e,t,n){function r(e,t){if(e.hasOwnProperty(t)){var n=e[t];o.indexOf(n)<0&&o.push(n)}}for(var i=[],o=[],a=[],s=0;s<e.length;s++){var u=e[s];r(u,"begin"),r(u,"end")}if(0===o.length)return a;if(void 0!==t&&void 0!==n){for(s=0;s<o.length;s++){var l=c(o[s]);t<l&&l<n&&i.push(l)}i.push(t),i.push(n)}else for(s=0;s<o.length;s++)i.push(c(o[s]));i.sort(function(e,t){return e-t});for(s=0;s<i.length-1;s++)a.push([i[s],i[s+1]]);return a}function o(e,t){return"undefined"!=typeof startInterval&&e<t&&(e=t),e}function a(e,t){return void 0!==t&&t<e&&(e=t),e}function X(e,t,n){var r=c(e.begin),i=c(e.end);return r=o(r,t),i=a(i,n),void 0!==t&&void 0!==n&&(i<t||n<r)?(fe("TTML: Cue "+r+"-"+i+" outside interval "+t+"-"+n),null):[r,i]}function $(e,t){var n=!0;if(e.hasOwnProperty("span")){var r=Y(e.span);null!==r&&(n=r[0]<t[1]&&r[1]>t[0])}return n}function t(e,t,n){var r=void 0,i=void 0,o=void 0,a=void 0,s="",u=new be["default"]([],"",!1);if(!(de=u.xml_str2json(e)))throw new Error("TTML document could not be parsed");if(_e.getTTMLRenderingDiv()&&(a="html"),!(r=de.tt))throw new Error("TTML document lacks tt element");var l=J(r,"http://www.w3.org/ns/ttml");if(l&&Z(r,l),o=r["tts:extent"],!(i=r.head))throw new Error("TTML document lacks head element");if(i.layout&&(he=i.layout.region_asArray),i.styling&&(pe=i.styling.style_asArray),!r.body)throw new Error("TTML document lacks body element");var c=ae(),f=_e.getElement().clientWidth,d=_e.getElement().clientHeight,p=[f/c[0],d/c[1]];ye["font-size"]=p[1]+"px;";var h=[];if(he)for(var g=0;g<he.length;g++)h.push(ie(JSON.parse(JSON.stringify(he[g])),p));var v=J(de.tt,"http://www.w3.org/ns/ttml#parameter");r.hasOwnProperty(v+":frameRate")&&(r.frameRate=parseInt(r[v+":frameRate"],10));for(var m=[],y=r.body_asArray[0].__children,_=0;_<y.length;_++){var b=y[_].div,T=null;if(null===(T=Y(b))){var w=b.p_asArray;if(null===T&&(!w||0===w.length))return fe(s="TTML has div that contains no timing and no paragraphs."),m;for(var E=0;E<w.length;E++){var S=w[E],P=S.span_asArray,C=[];if(S.hasOwnProperty("begin")&&S.hasOwnProperty("end")){var I=X(S,t,n);null!==I&&C.push(I)}else C=Q(P,t,n);if(0!==C.length)for(var x=S.__children,A=0;A<C.length;A++){for(var O=C[A],k=[],M=0;M<x.length;M++){var R=x[M];$(R,O)&&k.push(R)}if(0!==k.length)if("html"===a){ve={},me={},ge={};var D=le(S,b,p),N=ce(S,p),L=N[1];N=N[0];var j=document.createElement("div");j.className=L;var F=ue(k,p);F.className="cueDirUniWrapper",ee("unicode-bidi",N)&&(F.style.cssText+=te("unicode-bidi",N),ne("unicode-bidi",N)),ee("direction",N)&&(F.style.cssText+=te("direction",N),ne("direction",N)),ee("padding-left",N)&&ee("padding-right",N)&&(F.innerHTML=se(F,N)),ee("padding-left",N)&&ee("padding-right",N)&&(ne("padding-left",N),ne("padding-right",N));var B="";if(ee("regionID",D)){var U=te("regionID",D);B=U.slice(U.indexOf(":")+1,U.length-1)}N&&(j.style.cssText=N.join(" ")+"display:flex;"),D&&(D=D.join(" ")),j.appendChild(F);var H=document.createElement("div");H.appendChild(j),H.id=W(),H.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+D,0===Object.keys(ge).length&&(ge.defaultFontSize="100"),m.push({start:O[0],end:O[1],type:"html",cueHTMLElement:H,regions:h,regionID:B,cueID:H.id,videoHeight:d,videoWidth:f,cellResolution:c,fontSize:ge||{defaultFontSize:"100"},lineHeight:ve,linePadding:me})}else{var V="",z=k;z.length&&z.forEach(function(e){if(e.hasOwnProperty("span")){var t=e.span.__children;t.forEach(function(e){t.hasOwnProperty("metadata")||(e.hasOwnProperty("#text")?V+=e["#text"].replace(/[\r\n]+/gm," ").trim():"br"in e&&(V+="\n"))})}else V+=e.hasOwnProperty("br")?"\n":e["#text"].replace(/[\r\n]+/gm," ").trim()}),m.push({start:O[0],end:O[1],data:V,type:"text"})}}else s="TTML: Empty paragraph"}}else{var q=void 0;if(b.region)q=re(oe(he,b.region),o);q||(q=re(b,o));var G=r.head.metadata.image_asArray;if(void 0!==b["smpte:backgroundImage"])for(var K=0;K<G.length;K++)"#"+G[K]["xml:id"]===b["smpte:backgroundImage"]&&m.push({start:T[0],end:T[1],id:W(),data:"data:image/"+G[K].imagetype.toLowerCase()+";base64, "+G[K].__text,type:"image",layout:q})}}if(""!==s&&fe(s),0<m.length)return m;throw new Error(s)}function n(){v=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,ge={},ve={},me={},m={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},ye={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},y={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;","default":"font-family: monospace, sans-serif;"},_={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},b={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},T={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},w={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"},E={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},S={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}}function c(e){var t,n,r;if(!v.test(e))return NaN;if(t=e.split(":"),n=parseFloat(t[0])*I+parseFloat(t[1])*x+parseFloat(t[2]),t[3]){if(!(r=de.tt.frameRate)||isNaN(r))return NaN;n+=parseFloat(t[3])/r}return n}function J(t,n){var e=Object.keys(t).filter(function(e){return("xmlns"===e.split(":")[0]||"xmlns"===e.split(":")[1])&&t[e]===n}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return 1!=e.length?null:e[0]}function Z(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(("object"==typeof e[n]||e[n]instanceof Object)&&!Array.isArray(e[n]))Z(e[n],t);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)Z(e[n][r],t);e[n.slice(n.indexOf(t)+t.length+1)]=e[n],delete e[n]}}function p(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function h(e){var t=e.slice(1).match(/.{2}/g),n=parseFloat(parseInt(parseInt(t[3],16)/255*1e3,10)/1e3);return"rgba("+t.slice(0,3).map(function(e){return parseInt(e,16)}).join(",")+","+n+");"}function ee(e,t){for(var n=0;n<t.length;n++)if(-1<t[n].indexOf(e))return!0;return!1}function te(e,t){for(var n=0;n<t.length;n++)if(-1<t[n].indexOf(e))return t[n];return null}function ne(e,t){t.splice(t.indexOf(te(e,t)),1)}function f(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)e[n]&&-1<e[n].split(":")[0].indexOf(t[r].split(":")[0])&&e.splice(n,1);return e.concat(t)}function s(e,t,n){var r,i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=o.replace("ebutts:","");e[a=p(a=(a=a.replace("xml:","")).replace("tts:",""))]=e[o],delete e[o]}if("line-padding"in e){var s=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));"id"in e&&(me[e.id]=s);var u=s*t[0]+"px;";i.push("padding-left:"+u),i.push("padding-right:"+u)}if("font-size"in e){var l=parseFloat(e["font-size"].slice(e["font-size"].indexOf(":")+1,e["font-size"].indexOf("%")));"id"in e&&(ge[e.id]=l);var c=l/100*t[1]+"px;";i.push("font-size:"+c)}if("line-height"in e)if("normal"===e["line-height"])i.push("line-height: normal;");else{var f=parseFloat(e["line-height"].slice(e["line-height"].indexOf(":")+1,e["line-height"].indexOf("%")));"id"in e&&(ve[e.id]=f);var d=f/100*t[1]+"px;";i.push("line-height:"+d)}return"font-family"in e&&(e["font-family"]in y?i.push(y[e["font-family"]]):i.push("font-family:"+e["font-family"]+";")),"text-align"in e&&e["text-align"]in _&&(i.push(_[e["text-align"]][0]),i.push(_[e["text-align"]][1])),"multi-row-align"in e&&(ee("text-align",i)&&"auto"!=e["multi-row-align"]&&ne("text-align",i),e["multi-row-align"]in b&&i.push(b[e["multi-row-align"]])),"background-color"in e&&(-1<e["background-color"].indexOf("#")&&e["background-color"].length-1==8?(r=h(e["background-color"]),i.push("background-color: "+r)):i.push("background-color:"+e["background-color"]+";")),"color"in e&&(-1<e.color.indexOf("#")&&e.color.length-1==8?(r=h(e.color),i.push("color: "+r)):i.push("color:"+e.color+";")),"wrap-option"in e&&(e["wrap-option"]in T?i.push(T[e["wrap-option"]]):i.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in w?i.push(w[e["unicode-bidi"]]):i.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&i.push("font-style:"+e["font-style"]+";"),"font-weight"in e&&i.push("font-weight:"+e["font-weight"]+";"),"direction"in e&&i.push("direction:"+e.direction+";"),"text-decoration"in e&&i.push("text-decoration:"+e["text-decoration"]+";"),n&&(i=i.concat(ie(e,t))),de.tt.hasOwnProperty("xml:space")&&"preserve"===de.tt["xml:space"]&&i.push("white-space: pre;"),i}function u(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function d(e,r,i){var o=[];return e.match(/\S+/g).forEach(function(e){var t=u(pe,e);if(t){var n=s(JSON.parse(JSON.stringify(t)),r,i);o=o.concat(n)}}),o}function re(e,t){var n=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var r=n.exec(e["tts:extent"]),i=n.exec(e["tts:origin"]);if(null===r||null===i)return fe("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]),null;var o=parseFloat(r[1]),a=parseFloat(r[3]),s=parseFloat(i[1]),u=parseFloat(i[3]);if(t){var l=n.exec(t);if(null===l||"px"!==l[2]||"px"!==l[4])return fe("Bad tt.extent: "+t),null;var c=parseFloat(l[1]),f=parseFloat(l[3]);"px"===r[2]&&(o=o/c*100),"px"===r[4]&&(a=a/f*100),"px"===i[2]&&(s=s/c*100),"px"===i[4]&&(u=u/f*100)}return{left:s,top:u,width:o,height:a}}return null}function ie(e,t){var n=[];for(var r in e){var i=r.replace("tts:","");e[i=p(i=i.replace("xml:",""))]=e[r],i!==r&&delete e[r]}if("extent"in e){var o=e.extent.split(/\s/);n.push("width: "+o[0]+";"),n.push("height: "+o[1]+";")}if("origin"in e){var a=e.origin.split(/\s/);n.push("left: "+a[0]+";"),n.push("top: "+a[1]+";")}if("display-align"in e&&n.push(E[e["display-align"]]),"writing-mode"in e&&n.push(S[e["writing-mode"]]),"style"in e){var s=d(e.style,t,!0);n=n.concat(s)}return"padding"in e&&n.push("padding:"+e.padding+";"),"overflow"in e&&n.push("overflow:"+e.overflow+";"),"show-background"in e&&n.push("show-background:"+e["show-background"]+";"),"id"in e&&n.push("regionID:"+e.id+";"),n}function oe(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function l(e,r){var i=[];return e.match(/\S+/g).forEach(function(e){var t=oe(he,e);if(t){var n=ie(JSON.parse(JSON.stringify(t)),r);i=i.concat(n)}}),i}function ae(){var e=[32,15];return de.tt.hasOwnProperty("ttp:cellResolution")?de.tt["ttp:cellResolution"].split(" ").map(parseFloat):e}function se(e,t){for(var n=te("padding-left",t),r=te("padding-right",t),a=n.concat(" "+r+" "),s="",u="",l="",c=Array.prototype.slice.call(e.children),i=e.getElementsByClassName("lineBreak")[0],o=c.indexOf(i),f=[];-1!=o;)f.push(o),o=c.indexOf(i,o+1);var d="</span>",p="<br>",h='<span class="spanPadding" style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(f.length)f.forEach(function(e,t){if(0===t){for(var n="",r=0;r<e;r++)s+=c[r].outerHTML,0===r&&(n=a.concat(c[r].style.cssText));s=h+n+'">'+s}for(var i="",o=e+1;o<c.length;o++)u+=c[o].outerHTML,o===c.length-1&&(i+=a.concat(c[o].style.cssText));u=h+i+'">'+u,s&&u&&t===f.length-1?l+=s+d+p+u+d:s&&u&&t!==f.length-1?l+=s+d+p+u+d+p:s&&!u?l+=s+d:!s&&u&&t===f.length-1?l+=u+d:!s&&u&&t!==f.length-1&&(l+=u+d+p)});else{for(var g="",v=0;v<c.length;v++)g+=c[v].style.cssText;l=h+a+g+'">'+e.innerHTML+d}return l}function ue(e,a){var s=document.createElement("div");return e.forEach(function(e){if(!e.hasOwnProperty("metadata"))if(e.hasOwnProperty("span")){var i=e.span.__children,o=document.createElement("span");if(e.span.hasOwnProperty("style")){var t=d(e.span.style,a);o.className="spanPadding "+e.span.style,o.style.cssText=t.join(" ")}i.forEach(function(e){if(!i.hasOwnProperty("metadata"))if(e.hasOwnProperty("#text")){var t=document.createTextNode(e["#text"]);o.appendChild(t)}else if("br"in e){o.hasChildNodes()&&s.appendChild(o);var n=document.createElement("br");n.className="lineBreak",s.appendChild(n);var r=document.createElement("span");r.className=o.className,r.style.cssText=o.style.cssText,o=r}}),s.appendChild(o)}else if(e.hasOwnProperty("br")){var n=document.createElement("br");n.className="lineBreak",s.appendChild(n)}else if(e.hasOwnProperty("#text")){var r=document.createElement("span");r.textContent=e["#text"],s.appendChild(r)}}),s}function le(e,t,n){var r,i,o=[],a=e.region,s=t.region;return s&&(r=l(s,n)),a?(i=o.concat(l(a,n)),o=r?f(r,i):i):r&&(o=r),g(o,m),o}function ce(e,t){var n,r,i,o=[],a=e.style,s=de.tt.body.style,u=de.tt.body.div.style,l="";return s&&(n=d(s,t),l="paragraph "+s),u&&(r=d(u,t),n?(r=f(n,r),l+=" "+u):l="paragraph "+u),a?(i=d(a,t),n&&r?(o=f(r,i),l+=" "+a):n?(o=f(n,i),l+=" "+a):r?(o=f(r,i),l+=" "+a):(o=i,l="paragraph "+a)):n&&!r?o=n:!n&&r&&(o=r),g(o,ye),[o,l]}function g(e,t){for(var n in t)t.hasOwnProperty(n)&&(ee(n,e)||e.push(n+":"+t[n]))}var r=this.context,fe=(0,C["default"])(r).getInstance().log,i=void 0,v=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,m=void 0,ye=void 0,y=void 0,_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,S=void 0,_e=void 0,P=0;return i={parse:t,setConfig:e},n(),i}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),be=r(e(4)),C=r(e(8)),I=3600,x=60;i.__dashjs_factory_name="TTMLParser",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,4:4,8:8}],158:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t}function t(e){var t=e.match(s);return t?t[1]:""}function n(e){return!o.test(e)}function r(e){return o.test(e)&&"/"===e.charAt(0)}function i(e){return a.test(e)}var o=/^(?:(?:[a-z]+:)?\/)?\//i,a=/^https?:\/\//i,s=/^(https?:\/\/[^\/]+)\/?/i;return{parseBaseUrl:e,parseOrigin:t,isRelative:n,isPathAbsolute:r,isHTTPURL:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="URLUtils",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],159:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){v=/(?:\r\n|\r|\n)/gm,m=/-->/,y=/(^[\s]+|[\s]+$)/g,o=/\s\b/g}function t(e){var t,n,r=[];t=(e=e.split(v)).length,n=-1;for(var i=0;i<t;i++){var o=e[i];if(0<o.length&&"WEBVTT"!==o&&o.match(m)){var a=p(o),s=a.cuePoints,u=a.styles,l=h(e,i+1),c=d(s[0].replace(y,"")),f=d(s[1].replace(y,""));!isNaN(c)&&!isNaN(f)&&n<=c&&c<f?""!==l?(n=c,r.push({start:c,end:f,data:l,styles:u})):g("Skipping cue due to empty/malformed cue text"):g("Skipping cue due to incorrect cue timing")}}return r}function d(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function p(e){var t=e.split(m),n=t[1].split(o);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:r(n)}}function r(e){var n={};return e.forEach(function(e){if(1<e.split(/:/).length){var t=e.split(/:/)[1];t&&-1!=t.search(/%/)&&(t=parseInt(t.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(n.align=t),(e.match(/line/)||e.match(/L/))&&(n.line=t),(e.match(/position/)||e.match(/P/))&&(n.position=t),(e.match(/size/)||e.match(/S/))&&(n.size=t)}}),n}function h(e,t){for(var n,r=t,i="",o="";""!==e[r]&&r<e.length;)r++;if(1<(n=r-t))for(var a=0;a<n;a++){if((o=e[t+a]).match(m)){i="";break}i+=o,a!==n-1&&(i+="\n")}else(o=e[t]).match(m)||(i=o);return decodeURI(i)}var n=this.context,g=(0,a["default"])(n).getInstance().log,i=void 0,v=void 0,m=void 0,y=void 0,o=void 0;return i={parse:t},e(),i}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(8));i.__dashjs_factory_name="VTTParser",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,8:8}],160:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN};n["default"]=i,t.exports=n["default"]},{}],161:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN};n["default"]=i,t.exports=n["default"]},{}],162:[function(r,e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function r(e,t,n){i(this,r),this.code=e||null,this.message=t||null,this.data=n||null};t["default"]=n,e.exports=t["default"]},{}],163:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.action=e.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer"};i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",n["default"]=i,t.exports=n["default"]},{}],164:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(163)),u=function(){function t(e){i(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.url=e||null,this.checkForExistenceOnly=!0}return o(t,s["default"]),t}();n["default"]=u,t.exports=n["default"]},{163:163}],165:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0};n["default"]=i,
t.exports=n["default"]},{}],166:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};n["default"]=i,t.exports=n["default"]},{}],167:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};n["default"]=i,t.exports=n["default"]},{}],168:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]};n["default"]=i,t.exports=n["default"]},{}],169:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0};n["default"]=i,t.exports=n["default"]},{}],170:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(163)),u=function(){function n(e,t){i(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),this.url=e||null,this.type=t||null,this.mediaType="stream",this.responseType="text"}return o(n,s["default"]),n}();n["default"]=u,t.exports=n["default"]},{163:163}],171:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};n["default"]=i,t.exports=n["default"]},{}],172:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};n["default"]=i,t.exports=n["default"]},{}],173:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null};n["default"]=i,t.exports=n["default"]},{}],174:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this._s=void 0};n["default"]=i,t.exports=n["default"]},{}],175:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.level=null};n["default"]=i,t.exports=n["default"]},{}],176:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(63)),a=function e(){i(this,e),this.target=null,this.state=o["default"].BUFFER_EMPTY};n["default"]=a,t.exports=n["default"]},{63:63}],177:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.time=null,this.range=null,this.manifestInfo=null};n["default"]=i,t.exports=n["default"]},{}],178:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.time=null,this.droppedFrames=null};n["default"]=i,t.exports=n["default"]},{}],179:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},o=function e(){r(this,e),this.s=null,this.d=null,this.b=[]};i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",n.HTTPRequest=i,n.HTTPRequestTrace=o},{}],180:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},o=function e(){r(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},a=function e(){r(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};n.ManifestUpdate=i,n.ManifestUpdateStreamInfo=o,n.ManifestUpdateTrackInfo=a},{}],181:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var o=function e(){r(this,e),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",n.PlayList=i,n.PlayListTrace=o},{}],182:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.t=null,this.mt=null,this.to=null,this.lto=null};n["default"]=i,t.exports=n["default"]},{}],183:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.loadingRequests=[],this.executedRequests=[]};n["default"]=i,t.exports=n["default"]},{}],184:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};n["default"]=i,t.exports=n["default"]},{}],185:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function e(){r(this,e),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};n["default"]=i,t.exports=n["default"]},{}]},{},[5]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsDash=e()}}(function(){return function c(o,a,s){function u(n,e){if(!a[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(l)return l(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[n]={exports:{}};o[n][0].call(i.exports,function(e){var t=o[n][1][e];return u(t||e)},i,i.exports,c,o,a,s)}return a[n].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)u(s[e]);return u}({1:[function(e,t,o){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){function n(e){return"dash-audio-"+e}function r(e,t){return e.find(function(e){return n(e.index)===t.id})}var i=e.dash.mediaPlayer,o=i.getTracksFor("audio"),a=e.audioTracks();a.length&&t.clearTracks(["audio"]);var s=i.getCurrentTrackFor("audio");o.forEach(function(e){var t=e.lang;e.roles&&e.roles.length&&(t+=" ("+e.roles.join(", ")+")"),a.addTrack(new u["default"].AudioTrack({enabled:e===s,id:n(e.index),kind:e.kind||"main",label:t,language:e.lang}))}),a.addEventListener("change",function(){for(var e=0;e<a.length;e++){var t=a[e];if(t.enabled){var n=r(o,t);i.setCurrentTrack(n)}else;}})}function r(e,t){e.dash.mediaPlayer.on(i["default"].MediaPlayer.events.PLAYBACK_METADATA_LOADED,n.bind(null,e,t))}o.__esModule=!0,o["default"]=r;var i=t("undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null),u=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function l(s,e,u){function t(){for(var e=s.dash.mediaPlayer,i=s.textTracks(),o=-1,a=function a(e){var t=i[e];if("showing"===t.mode){var n=c(l,function(e){return e.textTrack===t}),r=n?n.dashTrack:null;r&&(o=u.indexOf(r))}},t=0;t<i.length;t+=1)a(t);o!==e.getCurrentTextTrackIndex()&&e.setTextTrack(o)}var l=[],n=u.map(function(e){return{dashTrack:e,trackConfig:{label:e.lang,language:e.lang,srclang:e.lang}}}).map(function(e){var t=e.trackConfig,n=e.dashTrack,r=s.addRemoteTextTrack(t,!0);return l.push({textTrack:r.track,dashTrack:n}),r});return s.textTracks().on("change",t),s.one("loadstart",function(){s.textTracks().off("change",t)}),t(),n}function n(n,r,i){function o(){s.forEach(n.removeRemoteTextTrack.bind(n)),s=[]}function a(e){e.index;var t=e.tracks;u.off(f["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,a),o(),t.length&&(s=l(n,r,t,i))}function e(){u.off(f["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,a),n.one("loadstart",o)}window.VTTCue&&!/\[native code\]/.test(window.VTTCue.toString())&&(window.VTTCue=!1);var s=[];if(r.featuresNativeTextTracks)d["default"].log.error("You must pass {html: {nativeCaptions: false}} in the videojs constructor to use text tracks in videojs-contrib-dash");else{var u=n.dash.mediaPlayer;u.on(f["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,a),u.on(f["default"].MediaPlayer.events.CAN_PLAY,e)}}r.__esModule=!0,r["default"]=n;var f=t("undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null),d=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,n){(function(e){var t;t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},n.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(r,e,a){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.__esModule=!0;var n=t(r("global/window")),u=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null),l=t("undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null),c=t(r("./setup-audio-tracks")),f=t(r("./setup-text-tracks")),i=function(){function r(t,e,i){var o=this;if(s(this,r),i=i||e.options_,this.player=(0,u["default"])(i.playerId),this.player.dash=this.player.dash||{},this.tech_=e,this.el_=e.el(),this.elParent_=this.el_.parentNode,t.src){e.isReady_=!1,r.updateSourceData&&(u["default"].log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),t=r.updateSourceData(t)),r.hooks("updatesource").forEach(function(e){t=e(t)});var n=t.src;this.keySystemOptions_=r.buildDashJSProtData(t.keySystemOptions),this.player.dash.mediaPlayer=l["default"].MediaPlayer().create(),this.mediaPlayer_=this.player.dash.mediaPlayer,r.useVideoJSDebug&&(u["default"].log.warn('useVideoJSDebug has been deprecated. Please switch to using hook("beforeinitialize", callback).'),r.useVideoJSDebug(this.mediaPlayer_)),r.beforeInitialize&&(u["default"].log.warn('beforeInitialize has been deprecated. Please switch to using hook("beforeinitialize", callback).'),r.beforeInitialize(this.player,this.mediaPlayer_)),r.hooks("beforeinitialize").forEach(function(e){e(o.player,o.mediaPlayer_)}),this.mediaPlayer_.initialize(),i.dash&&Object.keys(i.dash).forEach(function(e){var t,n="set"+e.charAt(0).toUpperCase()+e.slice(1),r=i.dash[e];o.mediaPlayer_.hasOwnProperty(n)&&(u["default"].log.warn("Using dash options in videojs-contrib-dash without the set prefix has been deprecated. Change '"+e+"' to '"+n+"'"),e=n),o.mediaPlayer_.hasOwnProperty(e)?(Array.isArray(r)||(r=[r]),(t=o.mediaPlayer_)[e].apply(t,r)):u["default"].log.warn("Warning: dash configuration option unrecognized: "+e)}),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setAutoPlay(!1),c["default"].call(null,this.player,e),f["default"].call(null,this.player,e,i),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(n),this.tech_.triggerReady()}}return r.buildDashJSProtData=function o(e){var t={};if(!e||!Array.isArray(e))return null;for(var n=0;n<e.length;n++){var r=e[n],i=u["default"].mergeOptions({},r.options);i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),t[r.name]=i}return t},r.prototype.dispose=function e(){this.mediaPlayer_&&this.mediaPlayer_.reset(),this.player.dash&&delete this.player.dash},r.prototype.duration=function e(){var e=this.el_.duration;return e===Number.MAX_VALUE?Infinity:e},r.hooks=function n(e,t){return r.hooks_[e]=r.hooks_[e]||[],t&&(r.hooks_[e]=r.hooks_[e].concat(t)),r.hooks_[e]},r.hook=function i(e,t){r.hooks(e,t)},r.removeHook=function a(e,t){var n=r.hooks(e).indexOf(t);return-1!==n&&(r.hooks_[e]=r.hooks_[e].slice(),r.hooks_[e].splice(n,1),!0)},r}();i.hooks_={};var o=function o(t){t=JSON.parse(JSON.stringify(t)),i.updateSourceData&&(u["default"].log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),t=i.updateSourceData(t)),i.hooks("updatesource").forEach(function(e){t=e(t)});var e=document.createElement("video");return!(t.keySystemOptions&&!navigator.requestMediaKeySystemAccess&&!e.msSetMediaKeys)};u["default"].DashSourceHandler=function(){return{canHandleSource:function n(e){var t=/\.mpd/i;return o(e)?u["default"].DashSourceHandler.canPlayType(e.type)?"probably":t.test(e.src)?"maybe":"":""},handleSource:function r(e,t,n){return new i(e,t,n)},canPlayType:function t(e){return u["default"].DashSourceHandler.canPlayType(e)}}},u["default"].DashSourceHandler.canPlayType=function(e){return/^application\/dash\+xml/i.test(e)?"probably":""},n["default"].MediaSource&&u["default"].getTech("Html5").registerSourceHandler(u["default"].DashSourceHandler(),0),u["default"].Html5DashJS=i,a["default"]=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./setup-audio-tracks":1,"./setup-text-tracks":2,"global/window":3}]},{},[4])(4)}),pageflow={log:function(e,t){window.console&&(pageflow.debugMode()||t&&t.force)&&window.console.log(e)},debugMode:function(){return 0<=window.location.href.indexOf("debug=true")},Object:function(e){this.initialize.apply(this,arguments)}},_.extend(pageflow.Object.prototype,Backbone.Events,{initialize:function(){}}),pageflow.Object.extend=Backbone.Model.extend,pageflow.EntryData=pageflow.Object.extend({getThemingOption:function(){throw"Not implemented"},getPageConfiguration:function(){throw"Not implemented"},getPagePosition:function(){throw"Not implemented"},getChapterConfiguration:function(){throw"Not implemented"},getStorylineConfiguration:function(){throw"Not implemented"},getChapterIdByPagePermaId:function(){throw"Not implemented"},getStorylineIdByChapterId:function(){throw"Not implemented"},getChapterPagePermaIds:function(){throw"Not implemented"},getParentPagePermaIdByPagePermaId:function(e){var t=this.getStorylineIdByPagePermaId(e);return this.getParentPagePermaId(t)},getStorylineIdByPagePermaId:function(e){var t=this.getChapterIdByPagePermaId(e);return this.getStorylineIdByChapterId(t)},getParentStorylineId:function(e){var t=this.getParentPagePermaId(e);return t&&this.getStorylineIdByPagePermaId(t)},getParentChapterId:function(e){var t=this.getStorylineIdByChapterId(e),n=this.getParentPagePermaId(t);return n&&this.getChapterIdByPagePermaId(n)},getParentPagePermaId:function(e){return this.getStorylineConfiguration(e).parent_page_perma_id},getStorylineLevel:function(e){var t=this.getParentStorylineId(e);return t?this.getStorylineLevel(t)+1:0}}),pageflow.SeedEntryData=pageflow.EntryData.extend({initialize:function(e){this.theming=e.theming,this.storylineConfigurations=_(e.storylines).reduce(function(e,t){return e[t.id]=t.configuration,e},{}),this.storylineIdsByChapterIds=_(e.chapters).reduce(function(e,t){return e[t.id]=t.storyline_id,e},{}),this.chapterConfigurations=_.reduce(e.chapters,function(e,t){return e[t.id]=t.configuration,e},{}),this.chapterPagePermaIds=_(e.pages).reduce(function(e,t){return e[t.chapter_id]=e[t.chapter_id]||[],e[t.chapter_id].push(t.perma_id),e},{}),this.chapterIdsByPagePermaIds=_(e.pages).reduce(function(e,t){return e[t.perma_id]=t.chapter_id,e},{}),this.pageConfigurations=_.reduce(e.pages,function(e,t){return e[t.perma_id]=t.configuration,e},{}),this.pagePositions=_.reduce(e.pages,function(e,t,n){return e[t.perma_id]=n,e},{})},getThemingOption:function(e){return this.theming[e]},getChapterConfiguration:function(e){return this.chapterConfigurations[e]||{}},getChapterPagePermaIds:function(e){return this.chapterPagePermaIds[e]},getPageConfiguration:function(e){return this.pageConfigurations[e]||{}},getPagePosition:function(e){return this.pagePositions[e]},getChapterIdByPagePermaId:function(e){return this.chapterIdsByPagePermaIds[e]},getStorylineConfiguration:function(e){return this.storylineConfigurations[e]||{}},getStorylineIdByChapterId:function(e){return this.storylineIdsByChapterIds[e]}}),pageflow.cookies={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}},pageflow.events=_.extend({},Backbone.Events),pageflow.pageType=function(){var r={enhance:function(){},prepare:function(){},unprepare:function(){},preload:function(){},resize:function(){},activating:function(){},activated:function(){},deactivating:function(){},deactivated:function(){},update:function(){},cleanup:function(){},embeddedEditorViews:function(){},linkedPages:function(){return[]},prepareNextPageTimeout:200};return{repository:[],register:function(e,t){var n=function(){};_.extend(n.prototype,r,Backbone.Events,t),this.repository[e]=n},get:function(e){if(!this.repository.hasOwnProperty(e))throw'Unknown page type "'+e+'"';return new this.repository[e]}}}(),pageflow.commonPageCssClasses={updateCommonPageCssClasses:function(r,i){function e(e,t){var n=i.get(t);_.each(e,function(e){r.removeClass(t+"_"+e)}),n&&r.addClass(t+"_"+n)}function t(){var e=_(["title","subtitle","tagline"]).some(function(e){return!!$.trim(i.get(e))}),t=$("<div />").html(i.get("text")).text(),n=!!$.trim(t);return e&&!i.get("hide_title")||n}r.toggleClass("invert",i.get("invert")),r.toggleClass("hide_title",i.get("hide_title")),e(pageflow.Page.textPositions,"text_position"),e(pageflow.Page.delayedTextFadeIn,"delayed_text_fade_in"),e(pageflow.Page.scrollIndicatorModes,"scroll_indicator_mode"),e(pageflow.Page.scrollIndicatorOrientations,"scroll_indicator_orientation"),r.toggleClass("no_text_content",!t())}},pageflow.infoBox={updateInfoBox:function(e,t){var n=e.find(".add_info_box");n.find("h3").length||n.prepend($("<h3 />")),n.find("h3").html(t.get("additional_title")||""),n.find("p").html(t.get("additional_description")||""),n.toggleClass("empty",!t.get("additional_description")&&!t.get("additional_title")),n.toggleClass("title_empty",!t.get("additional_title")),n.toggleClass("description_empty",!t.get("additional_description"))}},pageflow.videoHelpers={updateVideoPoster:function(e,t){e.find(".vjs-poster").css("background-image","url("+t+")")},updateBackgroundVideoPosters:function(e,t,n,r){e.find(".vjs-poster, .background-image").css({"background-image":"url("+t+");","background-position":n+"% "+r+"%;"})}},pageflow.volumeFade={fadeSound:function(e,t,n){var r=10,i=e.volume(),o=(t-i)/(n/r);if(clearInterval(this.fadeInterval),t!=i)var a=this.fadeInterval=setInterval(_.bind(function(){e.volume(e.volume()+o),(e.volume()>=t&&i<=t||e.volume()<=t&&t<=i)&&clearInterval(a)},this),r)}},pageflow.pageTransitions={repository:{},register:function(e,t){this.repository[e]=t},get:function(e){if(!this.repository.hasOwnProperty(e))throw'Unknown page transition "'+e+'"';return this.repository[e]},names:function(){return _.keys(this.repository)}},pageflow.pageTransitions.register("fade",{duration:1100}),pageflow.pageTransitions.register("crossfade",{duration:1100}),pageflow.pageTransitions.register("fade_to_black",{duration:2100}),pageflow.pageTransitions.register("cut",{duration:1100}),pageflow.pageTransitions.register("scroll",{duration:1100}),pageflow.pageTransitions.register("scroll_right",{duration:1100}),pageflow.pageTransitions.register("scroll_left",{duration:1100}),pageflow.pageTransitions.register("scroll_over_from_right",{duration:1100}),pageflow.pageTransitions.register("scroll_over_from_left",{duration:1100}),pageflow.assetUrls={largeBandwidthProbe:"//output.scrollytelling.io/bandwidth_probe_large.png",smallBandwidthProbe:"//output.scrollytelling.io/bandwidth_probe_small.png",audioSwf:"https://scrollytelling.link/assets/pageflow/audio5js-334f716efbba5b940a0fbc499201acf02ac5f69962ceaf9d526e955fc522a5fa.swf",emptyMp4:"https://scrollytelling.link/assets/pageflow/empty-b9aa7bf9420f823f92f50e5250f4bd97133eae3afe799ca5eb85b91cd5be34d0.mp4",emptyWebm:"https://scrollytelling.link/assets/pageflow/empty-efdd51d61c4f2c725b967e38b59db2150dfd046464e6b330ba457b2c0d8c2eda.webm"},pageflow.preload={image:function(n){return $.Deferred(function(e){var t=new Image;t.onload=e.resolve,t.onerror=e.resolve,t.src=n}).promise()},backgroundImage:function(e){var t=this,n=[];return $(e).addClass("load_image"),$(e).each(function(){var e=window.getComputedStyle(this).getPropertyValue("background-image");e.match(/^url/)&&n.push(t.image(e.replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")))}),$.when.apply(null,n)}},pageflow.bandwidth=function(){function n(e){var t=(new Date).getTime();return i(r(e),o).pipe(function(){return(new Date).getTime()-t})}function r(n){return new $.Deferred(function(e){var t=new Image;t.onload=e.resolve,t.onerror=e.reject,t.src=n}).promise()}function i(n,r){return new $.Deferred(function(e){var t=setTimeout(function(){e.reject()},r);n.always(function(){clearTimeout(t)}).then(e.resolve,e.reject)}).promise()}var o=5e3;return pageflow.bandwidth.promise=pageflow.bandwidth.promise||new $.Deferred(function(i){var e=pageflow.assetUrls.smallBandwidthProbe+"?"+(new Date).getTime(),t=pageflow.assetUrls.largeBandwidthProbe+"?"+(new Date).getTime(),o=165,a=1081010;$.when(n(e),n(t)).done(function(e,t){var n=(t-e)/1e3,r=8*(a-o);n=Math.max(n,.01),i.resolve({durationInSeconds:n,speedInBps:(r/n).toFixed(2)})}).fail(function(){i.resolve({durationInSeconds:Infinity,speedInBps:0})})}).promise(),pageflow.bandwidth.promise},pageflow.browser=function(){var i={},o={},e=new $.Deferred;return{off:{},on:{},unset:{},feature:function(e,t){var n=e.replace(/ /g,"_");this.off[n]=function(){window.localStorage["override "+e]="off",pageflow.log("Feature off: "+e,{force:!0})},this.on[n]=function(){window.localStorage["override "+e]="on",pageflow.log("Feature on: "+e,{force:!0})},this.unset[n]=function(){window.localStorage.removeItem("override "+e),pageflow.log("Feature unset: "+e,{force:!0})},i[e]=t},has:function(e){if("resolved"!=this.ready().state())throw"Feature detection has not finished yet.";if(!o.hasOwnProperty(e))throw'Unknown feature "'+e+'".';return o[e]},ready:function(){return e.promise()},detectFeatures:function(){var n={},r=function(t){var e=function(){if((pageflow.debugMode()||pageflow.ALLOW_FEATURE_OVERRIDES)&&window.localStorage&&"undefined"!=typeof window.localStorage["override "+t]){var e="on"===window.localStorage["override "+t];return pageflow.log("FEATURE OVERRIDDEN "+t+": "+e,{force:!0}),e}return i[t](r)};return n[t]=n[t]||$.when(e(t)),n[t]};return r.not=function(e){return r(e).pipe(function(e){return!e})},r.all=function(){return $.when.apply(null,arguments).pipe(function(){return _.all(arguments)})},$.when.apply(null,_.map(_.keys(i),function(n){return r(n).then(function(e){var t=n.replace(/ /g,"_");$("body").toggleClass("has_"+t,!!e),$("body").toggleClass("has_no_"+t,!e),o[n]=!!e})})).then(e.resolve),this.ready()}}}(),pageflow.browser.agent={matchesSilk:function(){return navigator.userAgent.match(/\bSilk\b/)},matchesDesktopSafari9:function(){return this.matchesSafari9()&&!this.matchesMobilePlatform()},matchesDesktopSafari10:function(){return this.matchesSafari10()&&!this.matchesMobilePlatform()},matchesSafari9:function(){return this.matchesSafari()&&this._matches(/Version\/9/i)},matchesSafari10:function(){return this.matchesSafari()&&this._matches(/Version\/10/i)},matchesSafari11:function(){return this.matchesSafari()&&this._matches(/Version\/11/i)},matchesSafari:function(){return this._matches(/Safari\//i)&&!this._matches(/Chrome/i)},matchesMobileSafari:function(){var e=[/iPod/i,/iPad/i,/iPhone/i];return _.any(e,function(e){return navigator.userAgent.match(e)})},matchesMobilePlatform:function(){var e=[/iPod/i,/iPad/i,/iPhone/i,/Android/i,/Silk/i,/IEMobile/i];return _.any(e,function(e){return navigator.userAgent.match(e)})},matchesIEUpTo11:function(){return navigator.userAgent.match(/Trident\//)},matchesFacebookInAppBrowser:function(){return navigator.userAgent.match(/FBAN/)&&navigator.userAgent.match(/FBAV/)},_matches:function(e){return navigator.userAgent.match(e)}},pageflow.browser.feature("autoplay support",function(){return!pageflow.browser.agent.matchesSafari11()&&!pageflow.browser.agent.matchesMobilePlatform()}),pageflow.browser.feature("css animations",function(){var e=["Webkit","Moz","O","ms","Khtml"],t=document.createElement("div");if(t.style.animationName!==undefined)return!0;for(var n=0;n<e.length;n++)if(t.style[e[n]+"AnimationName"]!==undefined)return!0;return!1}),pageflow.browser.feature("facebook toolbar",function(e){return e.all(e("iphone platform"),pageflow.browser.agent.matchesFacebookInAppBrowser())}),pageflow.browser.feature("high bandwidth",function(){return pageflow.bandwidth().pipe(function(e){var t=8192e3<e.speedInBps;return window.console&&window.console.log("Detected bandwidth "+e.speedInBps/8/1024+"KB/s. High: "+(t?"Yes":"No")),t})}),pageflow.browser.feature("ie",function(){return"Microsoft Internet Explorer"==navigator.appName}),pageflow.browser.feature("ios platform",function(){return pageflow.browser.agent.matchesMobileSafari()}),pageflow.browser.feature("iphone platform",function(e){return e.all(e("ios platform"),e("phone platform"))}),pageflow.browser.feature("mobile platform",function(){return pageflow.browser.agent.matchesMobilePlatform()}),navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&!window.navigator.standalone&&$("html").addClass("ipad ios7"),pageflow.browser.feature("phone platform",function(){var e=[/iPod/i,/iPad/i,/iPhone/i,/Android/i,/IEMobile/i];return _.any(e,function(e){return navigator.userAgent.match(e)&&$(window).width()<700})}),pageflow.browser.feature("pushstate support",function(){return window.history&&"pushState"in window.history}),pageflow.browser.feature("touch support",function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints}),pageflow.browser.feature("rewrite video sources support",function(){return!pageflow.ie9}),pageflow.browser.feature("stop buffering support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("buffer underrun waiting support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("prebuffering support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("mp4 support only",function(){return pageflow.browser.agent.matchesSilk()||pageflow.browser.agent.matchesDesktopSafari9()||pageflow.browser.agent.matchesDesktopSafari10()}),pageflow.browser.feature("native video player",function(e){return e("iphone platform")}),pageflow.browser.feature("volume control support",function(e){return e.not("ios platform")}),pageflow.Features=pageflow.Object.extend({initialize:function(){this.registry={},this.enabledFeatureNames=[]},has:function(){return pageflow.browser.has.apply(pageflow.browser,arguments)},register:function(e,t,n){this.registry[e]=this.registry[e]||{},this.registry[e][t]=this.registry[e][t]||[],this.registry[e][t].push(n)},isEnabled:function(e){return _(this.enabledFeatureNames).contains(e)},enable:function(e,t){var n=this.registry[e]||{}
;this.enabledFeatureNames=this.enabledFeatureNames.concat(t),_(t).each(function(e){_(n[e]||[]).each(function(e){e()})})}}),pageflow.features=new pageflow.Features,pageflow.Audio=function(t){function r(e){return e?parseInt(e.toString().split(".")[0],10):e}this.getSources=t.getSources||function(e){return t.audioFiles[e]||""},this.createPlayer=function(e,t){var n=this.getSources(r(e));return n?new pageflow.AudioPlayer(n,_.extend({volumeFading:!0},t||{})):new pageflow.AudioPlayer.Null},this.createMultiPlayer=function(e){return new pageflow.Audio.MultiPlayer(new pageflow.Audio.PlayerPool(this,e),e)}},pageflow.Audio.setup=function(e){pageflow.audio=new pageflow.Audio(e)},pageflow.Audio.PlayerPool=function(t,n){this.players={},this.get=function(e){return this.players[e]=this.players[e]||t.createPlayer(e,n),this.players[e]},this.dispose=function(){this.players={}}},pageflow.Audio.MultiPlayer=function(i,o){function t(e,t){if(o.playFromBeginning||e!==f||c.paused()){var n=i.get(e);f=e;var r=c.fadeOutAndPause(o.fadeDuration);r.then(function(){l(c)}),a(r).then(function(){u(c=n,e),s(n).then(function(){t(n)})})}}function a(e){return o.crossFade?(new $.Deferred).resolve().promise():e}function s(e){return o.playFromBeginning||o.rewindOnChange?e.rewind():(new $.Deferred).resolve().promise()}function u(e,t){n.listenTo(e,"play",function(){n.trigger("play",{audioFileId:t})}),n.listenTo(e,"pause",function(){n.trigger("pause",{audioFileId:t})}),n.listenTo(e,"timeupdate",function(){n.trigger("timeupdate",{audioFileId:t})}),n.listenTo(e,"ended",function(){n.trigger("ended",{audioFileId:t})})}function l(e){n.stopListening(e)}if(o.crossFade&&o.playFromBeginning)throw"pageflow.Audio.MultiPlayer: The options crossFade and playFromBeginning can not be used together at the moment.";var c=new pageflow.AudioPlayer.Null,f=null,n=this;this.resume=function(){return c.play()},this.resumeAndFadeIn=function(){return c.playAndFadeIn(o.fadeDuration)},this.seek=function(e){return c.seek(e)},this.pause=function(){return c.pause()},this.paused=function(){return c.paused()},this.fadeOutAndPause=function(){return c.fadeOutAndPause(o.fadeDuration)},this.position=function(){return c.position},this.duration=function(){return c.duration},this.fadeTo=function(e){return t(e,function(e){return e.playAndFadeIn(o.fadeDuration)})},this.play=function(e){return t(e,function(e){return e.play()})},this.changeVolumeFactor=function(e){return c.changeVolumeFactor(e,o.fadeDuration)},this.formatTime=function(e){return c.formatTime(e)}},_.extend(pageflow.Audio.MultiPlayer.prototype,Backbone.Events),pageflow.mediaPlayer={enhance:function(e,t){pageflow.mediaPlayer.catchPlayerPromise(e),pageflow.mediaPlayer.asyncPlay(e),t.hooks&&pageflow.mediaPlayer.hooks(e,t.hooks),t.volumeFading&&(pageflow.mediaPlayer.volumeFading(e),pageflow.mediaPlayer.volumeBinding(e,pageflow.settings,t)),t.loadWaiting&&pageflow.mediaPlayer.loadWaiting(e)}},pageflow.mediaPlayer.catchPlayerPromise=function(t){var n=t.play;t.play=function(){var e=n.apply(t,arguments);return e&&"undefined"!=typeof Promise&&e instanceof Promise&&e["catch"](function(){pageflow.log("Caught pending play exception - continuing")}),e}},pageflow.mediaPlayer.volumeFading=function(e){return pageflow.browser.has("volume control support")?pageflow.audioContext.get()&&e.getMediaElement?pageflow.mediaPlayer.volumeFading.webAudio(e,pageflow.audioContext.get()):pageflow.mediaPlayer.volumeFading.interval(e):pageflow.mediaPlayer.volumeFading.noop(e)},pageflow.mediaPlayer.volumeFading.interval=function(t){function a(){return r.apply(t,arguments)}function s(){clearInterval(l),u.resolve(),u=l=null}function n(){l&&(clearInterval(l),u.reject(),u=l=null)}var u,l,r=t.volume;t.volume=function(e){return void 0!==e&&n(),r.apply(t,arguments)},t.fadeVolume=function(i,o){return n(),new $.Deferred(function(e){var t=10,n=a(),r=(i-n)/(o/t);i===n?e.resolve():(u=e,l=setInterval(function(){a(a()+r),(a()>=i&&n<=i||a()<=i&&i<=n)&&s()},t))})},t.one("dispose",n)},pageflow.mediaPlayer.volumeFading.noop=function(e){e.fadeVolume=function(){return(new jQuery.Deferred).resolve().promise()}},pageflow.mediaPlayer.volumeFading.webAudio=function(e,n){function r(){u||(u=n.createGain(),n.createMediaElementSource(e.getMediaElement()).connect(u),u.connect(n.destination))}function i(){clearTimeout(c),l.resolve(),l=c=null}function o(){l&&(u.gain.cancelScheduledValues(n.currentTime),clearTimeout(c),l.reject(),l=c=null,t())}function a(e){f=n.currentTime,p=h,d=e}function t(){if(1==u.gain.value){var e=1e3*(n.currentTime-f);h=s(p+e/d*(h-p))}else h=u.gain.value}function s(e){return e<g?g:e}var u,l,c,f,d,p,h=1,g=1e-6;e.volume=function(e){return r(),void 0!==e?(o(),h=s(e),u.gain.setValueAtTime(h,n.currentTime)):Math.round(100*h)/100},e.fadeVolume=function(e,t){return r(),o(),a(t),h=s(e),u.gain.setValueAtTime(p,n.currentTime),u.gain.linearRampToValueAtTime(h,n.currentTime+t/1e3),new $.Deferred(function(e){c=setTimeout(i,t),l=e}).promise()},e.one("dispose",o)},pageflow.mediaPlayer.volumeBinding=function(n,e,t){function r(){n.on("dispose",i),e.on("change:volume",o)}function i(){n.off("dispose",i),e.off("change:volume",o)}function o(){n.fadeVolume(n.targetVolume(),40)}t=t||{};var a=n.play,s=n.pause,u="volumeFactor"in t?t.volumeFactor:1;n.play=function(){return n.volume(n.targetVolume()),r(),a.call(n)},n.playAndFadeIn=function(e){return n.paused()||n.intendingToPause()?(n.intendToPlay(),n.volume(0),$.when(a.call(n)).then(function(){return r(),n.fadeVolume(n.targetVolume(),e).then(null,function(){return(new jQuery.Deferred).resolve().promise()})})):(new jQuery.Deferred).resolve().promise()},n.pause=function(){i(),s.call(n)},n.fadeOutAndPause=function(e){return n.paused()&&!n.intendingToPlay()?(new jQuery.Deferred).resolve().promise():(n.intendToPause(),i(),n.fadeVolume(0,e).always(function(){return n.ifIntendingToPause().then(function(){s.call(n)})}))},n.changeVolumeFactor=function(e,t){return u=e,n.fadeVolume(n.targetVolume(),t)},n.targetVolume=function(){return e.get("volume")*u}},pageflow.mediaPlayer.loadWaiting=function(t){var n=t.fadeVolume;t.fadeVolume=function(){var e=arguments;return jQuery.when(this.loadedPromise).then(function(){return n.apply(t,e)})}},pageflow.mediaPlayer.hooks=function(t,n){var r=t.play;t.play;n.before&&(t.play=function(){var e=arguments;return t.trigger("beforeplay"),t.intendToPlay(),$.when(n.before()).then(function(){return t.ifIntendingToPlay().then(function(){return r.apply(t,e)})})}),n.after&&(t.on("pause",n.after),t.on("ended",n.after))},pageflow.mediaPlayer.asyncPlay=function(e){function t(t){return new $.Deferred(function(e){t?e.resolve():e.reject("aborted")}).promise()}var n=e.play,r=e.pause,i=!1,o=!1;e.play=function(){return e.intendToPlay(),n.apply(e,arguments)},e.pause=function(){return e.intendToPause(),r.apply(e,arguments)},e.intendToPlay=function(){o=!(i=!0)},e.intendToPause=function(){i=!(o=!0)},e.intendingToPlay=function(){return i},e.intendingToPause=function(){return o},e.ifIntendingToPause=function(){return t(o)},e.ifIntendingToPlay=function(){return t(i)}},pageflow.AudioPlayer=function(e,t){t=t||{};var n={vorbis:"audio/ogg",mp4:"audio/mp4",mp3:"audio/mpeg"},r=new $.Deferred,i=new $.Deferred,o=new Audio5js({reusedTag:t.tag,swf_path:pageflow.assetUrls.audioSwf,throw_errors:!1,format_time:!1,codecs:["vorbis","mp4","mp3"],ready:r.resolve,loop:t.loop});o.readyPromise=r.promise(),o.loadedPromise=i.promise(),o.on("load",i.resolve),t.mediaEvents&&pageflow.AudioPlayer.mediaEvents(o,t.context),t.pauseInBackground&&pageflow.browser.has("mobile platform")&&pageflow.AudioPlayer.pauseInBackground(o),pageflow.mediaPlayer.enhance(o,_.extend({loadWaiting:!0},t||{})),pageflow.AudioPlayer.seekWithInvalidStateHandling(o),pageflow.AudioPlayer.rewindMethod(o),pageflow.AudioPlayer.getMediaElementMethod(o),o.src=function(t){r.then(function(){var e=_.detect(t||[],function(e){if(n[o.settings.player.codec]===e.type)return e.src});o.load(e?e.src:"")})};var a=o.load;o.load=function(e){e||(this.duration=0),this.currentSrc=e,this.position=0,this.trigger("timeupdate",this.position,this.duration),a.apply(this,arguments)};var s=o.seek;o.seek=function(){if(this.currentSrc)return s.apply(this,arguments)};var u=o.play;return o.play=function(){this.currentSrc&&u.apply(this,arguments)},o.paused=function(){return!o.playing},o.src(e),o},pageflow.AudioPlayer.fromAudioTag=function(e,t){return new pageflow.AudioPlayer(e.find("source").map(function(){return{src:$(this).attr("src"),type:$(this).attr("type")}}).get(),_.extend({tag:e[0]},t||{}))},pageflow.AudioPlayer.fromScriptTag=function(e,t){var n=e.length?JSON.parse(e.text()):[];return new pageflow.AudioPlayer(n,t)},pageflow.AudioPlayer.mediaEvents=function(t,n){function e(e){pageflow.events.trigger("media:"+e,{fileName:t.currentSrc,context:n,currentTime:t.position,duration:t.duration,volume:t.volume(),bitrate:128e3})}t.on("play",function(){e("play")}),t.on("timeupdate",function(){e("timeupdate")}),t.on("pause",function(){e("pause")}),t.on("ended",function(){e("ended")})},pageflow.AudioPlayer.Null=function(){this.playAndFadeIn=function(){return(new $.Deferred).resolve().promise()},this.fadeOutAndPause=function(){return(new $.Deferred).resolve().promise()},this.changeVolumeFactor=function(){return(new $.Deferred).resolve().promise()},this.play=function(){},this.pause=function(){},this.paused=function(){return!0},this.seek=function(){return(new $.Deferred).resolve().promise()},this.rewind=function(){return(new $.Deferred).resolve().promise()},this.formatTime=function(){},this.one=function(e,t){t()}},_.extend(pageflow.AudioPlayer.Null.prototype,Backbone.Events),pageflow.AudioPlayer.seekWithInvalidStateHandling=function(o){function t(r){var i=0;return new $.Deferred(function(t){function n(){if(50<=(i+=1))t.reject();else try{r(),t.resolve()}catch(e){o.one("progress",n)}}n()}).promise()}var n=o.seek;o.seek=function(e){return t(function(){n.call(o,e)})}},pageflow.AudioPlayer.rewindMethod=function(t){t.rewind=function(){if(0<t.position){var e=t.seek(0);return t.trigger("timeupdate",t.position,t.duration),e}return(new $.Deferred).resolve().promise()}},pageflow.AudioPlayer.pauseInBackground=function(e){function t(){o=setInterval(function(){a=(new Date).getTime()},s)}function n(){clearInterval(o),o=null}function r(){i()&&e.pause()}function i(){return o&&a<(new Date).getTime()-5*s}var o,a,s=100;e.on("play",t),e.on("pause",n),e.on("ended",n),e.on("timeupdate",r)},pageflow.AudioPlayer.getMediaElementMethod=function(e){e.getMediaElement=function(){return e.audio.audio}},pageflow.audioContext={get:function(){var e=window.AudioContext||window.webkitAudioContext;if("undefined"==typeof this._audioContext)try{this._audioContext=e&&new e}catch(t){this._audioContext=null,pageflow.log("Failed to create AudioContext.",{force:!0})}return this._audioContext}},pageflow.VideoPlayer=function(e,t){t=t||{},e=pageflow.VideoPlayer.filterSources(e);var n=videojs(e,t);return t.useSlimPlayerControlsDuringPhonePlayback&&pageflow.mediaPlayer.useSlimPlayerControlsDuringPhonePlayback(n),pageflow.VideoPlayer.prebuffering(n),pageflow.VideoPlayer.cueSettingsMethods(n),pageflow.VideoPlayer.getMediaElementMethod(n),t.mediaEvents&&pageflow.VideoPlayer.mediaEvents(n,t.context),t.bufferUnderrunWaiting&&pageflow.VideoPlayer.bufferUnderrunWaiting(n),pageflow.mediaPlayer.enhance(n,t),n},videojs.Html5DashJS.hook("beforeinitialize",function(e,t){t.getDebug().setLogToBrowserConsole(!1)}),pageflow.mediaPlayer.useSlimPlayerControlsDuringPhonePlayback=function(t){var e=t.play;t.play=function(){return pageflow.browser.has("phone platform")&&!pageflow.browser.has("native video player")&&pageflow.widgets.use({name:"slim_player_controls",insteadOf:"classic_player_controls"},function(e){t.one("pause",e)}),e.apply(this,arguments)}},pageflow.VideoPlayer.mediaEvents=function(t,n){function e(e){pageflow.events.trigger("media:"+e,{fileName:t.currentSrc(),context:n,currentTime:t.currentTime(),duration:t.duration(),volume:t.volume(),bitrate:pageflow.browser.has("high bandwidth")?35e5:2e6})}t.on("play",function(){e("play")}),t.on("timeupdate",function(){e("timeupdate")}),t.on("pause",function(){e("pause")}),t.on("ended",function(){e("ended")})},pageflow.VideoPlayer.prebuffering=function(u){u.isBufferedAhead=function(e,t){var n=u.buffered(),r=n.end(n.length-1),i=u.currentTime()+e;u.duration()&&(i=Math.min(i,Math.floor(u.duration())));var o=i<=r;return t||pageflow.log("buffered ahead "+e+": "+o+" ("+r+"/"+i+")"),o},u.prebuffer=function(e){var t,n=(e=e||{}).secondsToBuffer||10,r=e.secondsToWait||3,i=200,o=1e3*r/i,a=0,s=$.Deferred();return pageflow.browser.has("prebuffering support")&&(u.isBufferedAhead(n)||u.prebufferDeferred||(pageflow.log("prebuffering video "+u.src()),(t=function(){setTimeout(function(){u.prebufferDeferred&&(a++,u.isBufferedAhead(n)||o<a?(pageflow.log("finished prebuffering video "+u.src()),s.resolve(),u.prebufferDeferred=null):t())},i)})(),u.prebufferDeferred=s)),u.prebufferDeferred?u.prebufferDeferred.promise():s.resolve().promise()},u.abortPrebuffering=function(){u.prebufferDeferred&&(pageflow.log("ABORT prebuffering"),u.prebufferDeferred.reject(),u.prebufferDeferred=null)};var e=u.pause;u.pause=function(){return u.abortPrebuffering(),e.apply(this,arguments)},u.one("dispose",function(){u.abortPrebuffering()})},pageflow.VideoPlayer.bufferUnderrunWaiting=function(t){function e(){n()&&r()}function n(){return!t.isBufferedAhead(.1,!0)&&!t.waitingOnUnderrun&&!o()}function r(){pageflow.log("Buffer underrun"),t.trigger("bufferunderrun"),t.pause(),t.waitingOnUnderrun=!0,t.prebuffer({secondsToBuffer:5,secondsToWait:5}).then(function(){t.waitingOnUnderrun&&(t.waitingOnUnderrun=!1,t.trigger("bufferunderruncontinue"),t.play())})}function i(){t.waitingOnUnderrun&&(t.ignoreUnderrunsUntil=(new Date).getTime()+5e3,t.waitingOnUnderrun=!1,t.trigger("bufferunderruncontinue"))}function o(){var e=t.ignoreUnderrunsUntil&&(new Date).getTime()<t.ignoreUnderrunsUntil;return e&&pageflow.log("ignoring underrun"),e}function a(){t.off("progress",e)}var s=t.pause;t.pause=function(){i(),s.apply(this,arguments)},pageflow.browser.has("buffer underrun waiting support")&&(t.on("play",function(){t.on("progress",e)}),t.on("pause",a),t.on("ended",a))},pageflow.VideoPlayer.filterSources=function(e){if($(e).is("video")&&pageflow.browser.has("mp4 support only")){$(e).find("source").not('source[type="video/mp4"]').remove();var t=$(e).clone(!0);return $(e).replaceWith(t),t[0]}return e},pageflow.VideoPlayer.Lazy=function(e,t){function n(e){s=e.html()}function r(){var e=s.replace(/preload="[a-z]*"/,'preload="auto"');e=e.replace(/src="([^"]*)"/g,'src="$1&t='+(new Date).getTime()+'"');var t=$(e);return pageflow.browser.has("mobile platform")&&t.attr("data-mobile-poster")?t.attr("poster",t.attr("data-mobile-poster")):pageflow.browser.has("high bandwidth")&&!pageflow.browser.has("mobile platform")?(t.attr("poster",t.attr("data-large-poster")),t.find("source").each(function(){$(this).attr("src",$(this).attr("data-high-src"))})):t.attr("poster",t.attr("data-poster")),t}var i,o,a,s,u=$('<span class="video_placeholder" />'),l=this,c=new $.Callbacks;n(e),e.before(u),this.ensureCreated=function(){i&&(clearTimeout(i),i=null),o||(o=r(),u.replaceWith(o),(a=new pageflow.VideoPlayer(o[0],t)).ready(c.fire))},this.isPresent=function(){return o&&!i},this.dispose=function(){o&&!pageflow.browser.has("mobile platform")&&(this.setEmptySrc(),$(a.el()).replaceWith(u),a.dispose(),o=a=null)},this.setEmptySrc=function(){a.src([{type:"video/webm",src:pageflow.assetUrls.emptyWebm},{type:"video/mp4",src:pageflow.assetUrls.emptyMp4}])},this.scheduleDispose=function(){i||(i=setTimeout(function(){l.dispose()},5e3))},this.ready=function(e){c.add(e)},this.paused=function(){return a&&a.paused()},this.volume=function(){return a?a.volume.apply(a,arguments):0},this.showPosterImage=function(){return a&&a.posterImage.show()},this.hidePosterImage=function(){return a&&a.posterImage.unlockShowing()},_.each(["play","playAndFadeIn","pause","fadeOutAndPause","prebuffer","src","on","load","currentTime"],function(n){l[n]=function(){var t=arguments;if(a)return new $.Deferred(function(e){a.ready(function(){$.when(a[n].apply(a,t)).then(e.resolve)})});pageflow.log("Video Player not yet initialized. ("+n+")",{force:!0})}})},pageflow.VideoPlayer.cueSettingsMethods=function(a){a.updateCueLineSettings=function(e){var t=e.split("."),n=t[0],r=t[1];n="top"==n?1:n;var i=!1;if(_(a.textTracks()).each(function(e){if("showing"==e.mode&&e.cues)for(var t=0;t<e.cues.length;t++)e.cues[t].line!=n&&(e.cues[t].line=n,i=!0)}),(this.prevLine!==e||i)&&"lazy"!=r){var o=a.tech({IWillNotUseThisInPlugins:!0});o&&o.trigger("texttrackchange")}this.prevLine=e}},pageflow.VideoPlayer.getMediaElementMethod=function(t){t.getMediaElement=function(){var e=t.tech({IWillNotUseThisInPlugins:!0});return e&&e.el()}},pageflow.Visited=function(n,e,t,r){function i(){if(r.hasItem(c)){var e=u();f=_.difference(a(),e)}else s(a());t.on("page:change",function(e){var t=e.getPermaId(),n=u();n.indexOf(t)<0&&n.push(t),s(n)})}function o(){var e="_pageflow_"+n+"_visited";if(r.hasItem(e)){var t=l(e);s(_.uniq(t)),r.removeItem(e)}}function a(){return e.map(function(e){return e.perma_id})}function s(e){r.setItem(c,e,Infinity,location.pathname)}function u(){return l(c)}function l(e){return r.hasItem(e)&&r.getItem(e)?r.getItem(e).split(",").map(function(e){return parseInt(e,10)}):[]}var c="_pageflow_visited",f=[];return{init:function(){o(),i()},getUnvisitedPages:function(){return f}}},pageflow.Visited.setup=function(){pageflow.visited=new pageflow.Visited(pageflow.entryId,pageflow.pages,pageflow.events,pageflow.cookies),pageflow.Visited.enabled&&pageflow.visited.init()},jQuery(function(t){pageflow.ready.then(function(){t("img.print_image").each(function(){var e=t(this);e.data("src")&&e.attr("src",e.data("printsrc"))})})}),pageflow.History=function(r,i){function e(){var e=window.location.href.match(/page=([^&]*)/);return e?e[1]:""}r.on("slideshowchangepage",function(e,t){var n=r.currentPage().attr("id");t.back?i.replaceState(null,"",i.hash()):t.ignoreInHistory?i.replaceState(null,"",n):(i.replaceState(t,"",i.hash()),i.pushState(null,"",n))}),i.on("popstate",function(){i.state()&&r.goToByPermaId(i.hash(),_.extend({back:!0},_.pick(i.state(),"direction","transition")))}),i.on("hashchange",function(){r.goToByPermaId(i.hash())}),this.getLandingPagePermaId=function(){return i.hash()||e()},this.start=function(){i.replaceState(null,"",r.currentPage().attr("id"))},this.back=_.bind(i.back,i)},pageflow.History.create=function(e,t){var n;return n=(t=t||{}).simulate?new pageflow.History.SimulatedAdapter:pageflow.browser.has("pushstate support")?new pageflow.History.PushStateAdapter:new pageflow.History.HashAdapter,new pageflow.History(e,n)},pageflow.History.HashAdapter=function(){var r=0;this.back=function(){return 0<r&&(window.history.back(),r-=1,!0)},this.pushState=function(e,t,n){window.location.hash!==n&&(r+=1,window.location.hash=n)},this.replaceState=function(e,t,n){window.location.hash=n},this.state=function(){return{}},this.hash=function(){var e=window.location.href.match(/#(.*)$/);return e?e[1]:""},this.on=function(e,t){return $(window).on(e,t)}},pageflow.History.PushStateAdapter=function(){var r=0;this.back=function(){return 0<r&&(window.history.back(),!0)},this.pushState=function(e,t,n){r+=1,window.history.pushState(e,t,"#"+n)},this.replaceState=function(e,t,n){window.history.replaceState(e,t,"#"+n)},this.state=function(){return history.state},this.hash=function(){var e=window.location.href.match(/#(.*)$/);return e?e[1]:""},this.on=function(e,t){return $(window).on(e,t)},$(window).on("popstate",function(){r-=1})},pageflow.History.SimulatedAdapter=function(){function r(){return i[i.length-1]}var i=[{hash:null,state:null}];this.back=function(){return 1<i.length&&(i.pop(),this.trigger("popstate"),!0)},this.pushState=function(e,t,n){i.push({state:e,hash:n})},this.replaceState=function(e,t,n){r().state=e,r().hash=n},this.state=function(){return r().state},this.hash=function(){return r().hash}},_.extend(pageflow.History.SimulatedAdapter.prototype,Backbone.Events),pageflow.manualStart=function(e){var t=e.Deferred(),n=e.Deferred();return e(function(){pageflow.manualStart.enabled?t.resolve(n.resolve):n.resolve()}),{wait:function(e){var t=!1;return n.then(function(){t||e()}),{cancel:function(){t=!0}}},required:function(){return t.promise()}}}(jQuery),pageflow.widgets=function(){function o(e,t){$("div.widgets_present").removeClass(e).addClass(t),pageflow.events.trigger("widgets:update")}function a(e,t){return"widget_"+e+"_"+(t||"present")}return{isPresent:function(e){return!!$("div."+a(e)).length},areLoaded:function(){return!!$("div.widgets_present").length},use:function(e,t){var n=e.insteadOf,r=a(n),i=a(e.name)+" "+a(n,"replaced");this.isPresent(n)?(o(r,i),t(function(){o(i,r)})):t(function(){})}}}(),pageflow.widgetTypes=function(){var n={},r={enhance:function(){}};return{register:function(e,t){n[e]=_.extend({},r,t)},enhance:function(e){function t(e){var t=$(e).data("widget");n[t]&&n[t].enhance(e)}e.find("[data-widget]").each(function(){t($(this))})}}}(),pageflow.widgetTypes.register("default_navigation",{enhance:function(e){e.navigation()}}),pageflow.widgetTypes.register("default_mobile_navigation",{enhance:function(e){e.navigationMobile()}}),pageflow.links={setup:function(){this.ensureClickOnEnterKeyPress(),this.setupContentSkipLinks()},ensureClickOnEnterKeyPress:function(){$("body").on("keypress","a, [tabindex]",function(e){13==e.which&&$(this).click()}),$("body").on("keyup","a, [tabindex]",function(e){e.stopPropagation()})},setupContentSkipLinks:function(){$(".content_link").attr("href","#firstContent"),$(".content_link").click(function(e){return $("#firstContent").focus(),e.preventDefault(),!1})}},pageflow.HighlightedPage=pageflow.Object.extend({initialize:function(e,t){this.customNavigationBarMode=t&&t.customNavigationBarMode,this.entry=e},getPagePermaId:function(e){var t=this.entry.getStorylineIdByPagePermaId(e);if("inherit_from_parent"!==this.getNavigationBarMode(t))return this.getDisplayedPageInChapter(e);var n=this.entry.getParentPagePermaId(t);return n&&this.getPagePermaId(n)},getDisplayedPageInChapter:function(e){return _(this.getChapterPagesUntil(e).reverse()).find(function(e){return this.pageIsDisplayedInNavigation(e)},this)},pageIsDisplayedInNavigation:function(e){return!1!==this.entry.getPageConfiguration(e).display_in_navigation},getNavigationBarMode:function(e){return this.customNavigationBarMode?this.customNavigationBarMode(e,this.entry):this.entry.getStorylineConfiguration(e).navigation_bar_mode},getChapterPagesUntil:function(n){var r=!1,e=this.entry.getChapterIdByPagePermaId(n);return _.filter(this.entry.getChapterPagePermaIds(e),function(e){var t=!r;return r=r||n===e,t})}}),pageflow.HighlightedPage.create=function(e){return new pageflow.HighlightedPage(pageflow.entryData,e)},pageflow.ChapterFilter=pageflow.Object.extend({initialize:function(e){this.entry=e},strategies:{non:function(){return!1},current_storyline:function(e,t){return this.entry.getStorylineIdByChapterId(e)===this.entry.getStorylineIdByChapterId(t)},inherit_from_parent:function(e,t){return this.chapterVisibleFromChapter(this.entry.getParentChapterId(e),t)}},chapterVisibleFromPage:function(e,t){var n=this.entry.getChapterIdByPagePermaId(e);return this.chapterVisibleFromChapter(n,t)},chapterVisibleFromChapter:function(e,t){return this.getStrategy(e).call(this,e,t)},getStrategy:function(e){return this.strategies[this.getNavigationBarMode(e)]||this.strategies.current_storyline},getNavigationBarMode:function(e){var t=this.entry.getStorylineIdByChapterId(e);return this.entry.getStorylineConfiguration(t).navigation_bar_mode}}),pageflow.ChapterFilter.strategies=_(pageflow.ChapterFilter.prototype.strategies).keys(),pageflow.ChapterFilter.create=function(){return new pageflow.ChapterFilter(pageflow.entryData)},pageflow.Fullscreen=pageflow.Object.extend({toggle:function(){var t=this;$.support.fullscreen&&$("#outer_wrapper").fullScreen({callback:function(e){t._active=e,t.trigger("change")}})},isSupported:function(){return $.support.fullscreen},isActive:function(){return this._active}}),pageflow.fullscreen=new pageflow.Fullscreen,pageflow.multimediaAlert={show:function(){pageflow.events.trigger("request:multimedia_alert")}},pageflow.nativeScrolling={preventScrollBouncing:function(e){e.on("touchmove",function(e){e.preventDefault()})},preventScrollingOnEmbed:function(e){e.on("wheel mousewheel DOMMouseScroll",function(e){e.stopPropagation(),e.preventDefault()})}},function(){var n=9;pageflow.FocusOutline=pageflow.Object.extend({initialize:function(e){this.element=e},showOnlyAfterKeyboardInteraction:function(){var t=this;this.disable(),this.element.on("keydown",function(e){e.which===n&&t.enable()}),this.element.on("mousedown",function(){t.disable()})},disable:function(){this.disabled||(this.disabled=!0,this.element.addClass("disable_focus_outline"),this.element.removeClass("enable_focus_outline"))},enable:function(){this.disabled&&(this.disabled=!1,this.element.removeClass("disable_focus_outline"),this.element.addClass("enable_focus_outline"))}}),pageflow.FocusOutline.setup=function(e){pageflow.focusOutline=new pageflow.FocusOutline(e),pageflow.focusOutline.showOnlyAfterKeyboardInteraction()}}(),pageflow.phoneLandscapeFullscreen=function(){function e(){return 90==window.orientation||-90==window.orientation}function t(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitEnterFullscreen&&e.webkitEnterFullscreen()}window.screen.orientation&&pageflow.ready.then(function(){pageflow.browser.has("phone platform")&&!pageflow.browser.has("iphone platform")&&(window.screen.orientation.onchange=function(){e()&&t(document.body)})})},pageflow.Settings=Backbone.Model.extend({defaults:{volume:1},initialize:function(){var e=this.getLocalStorage();if(e){if(e["pageflow.settings"])try{this.set(JSON.parse(e["pageflow.settings"]))}catch(t){pageflow.log(t)}this.on("change",function(){e["pageflow.settings"]=JSON.stringify(this)})}},getLocalStorage:function(){try{return window.localStorage}catch(e){return null}}}),pageflow.settings=new pageflow.Settings,function(){var t="atmo_audio_file_id";pageflow.Atmo=pageflow.Object.extend({initialize:function(e,t,n){this.slideshow=e,this.multiPlayer=n,this.disabled=pageflow.browser.has("mobile platform"),this.listenTo(t,"page:change page:update",function(){this.update()})},disable:function(){this.disabled=!0,this.multiPlayer.fadeOutAndPause(),pageflow.events.trigger("atmo:disabled")},enable:function(){this.disabled=!1,this.update(),pageflow.events.trigger("atmo:enabled")},pause:function(){if(pageflow.browser.has("volume control support"))return this.multiPlayer.fadeOutAndPause();this.multiPlayer.pause()},turnDown:function(){if(pageflow.browser.has("volume control support"))return this.multiPlayer.changeVolumeFactor(.2);this.multiPlayer.pause()},resume:function(){return this.multiPlayer.paused()?this.disabled?(new $.Deferred).resolve().promise():this.multiPlayer.resumeAndFadeIn():this.multiPlayer.changeVolumeFactor(1)},update:function(){var e=this.slideshow.currentPageConfiguration();this.disabled||this.multiPlayer.fadeTo(e[t])},createMediaPlayerHooks:function(e){var t=this;return{before:function(){"mute"===e.atmo_during_playback?t.pause():"turn_down"===e.atmo_during_playback&&t.turnDown()},after:function(){t.resume()}}}}),pageflow.Atmo.create=function(e,t,n){return new pageflow.Atmo(e,t,n.createMultiPlayer({loop:!0,fadeDuration:500,crossFade:!0,playFromBeginning:!1,rewindOnChange:!0,pauseInBackground:!0}))},pageflow.Atmo.duringPlaybackModes=["play","mute","turn_down"]}(),function(e){var t=["cleanup","refreshScroller","resize","preload","deactivate","unprepare"],n={_create:function(){this.configuration=this.element.data("configuration")||this.options.configuration,this.index=this.options.index},_destroy:function(){this.isDestroyed=!0},_ensureCreated:function(){this.created=!0,this.element.nonLazyPage(this.options)},_delegateToInner:function(e,t){return this.element.nonLazyPage.apply(this.element,[e].concat([].slice.call(t)))},getPermaId:function(){return parseInt(this.element.attr("id"),10)},getConfiguration:function(){return this.configuration},update:function(e){this.created?this._delegateToInner("update",arguments):_.extend(this.configuration,e.attributes)}};_(["reinit","reactivate","activate","activateAsLandingPage","prepare","linkedPages"]).each(function(e){n[e]=function(){return this._ensureCreated(),this._delegateToInner(e,arguments)}}),_(t).each(function(e){n[e]=function(){if(this.created)return this._delegateToInner(e,arguments)}}),e.widget("pageflow.page",n)}(jQuery),pageflow.pageSplitLayout=function(){function s(e,t){var n,r,i=e.find(".page_header .title"),o=e.find(".contentText p"),a=i[0].getBoundingClientRect(),s=o[0].getBoundingClientRect();r=l(a)?(n=s.right,s.left):(n=Math.max(a.right,s.right),a.left);var u=c(e,t);return{right:n-u,left:r-u}}function l(e){return 0===e.width}function c(e,t){var n=e.find(".contentWrapper"),r=n[0].getBoundingClientRect(),i=n[0].offsetLeft,o=t.left+i;return r.left-o}return{pageIsWideEnough:function(e){var t=e[0].getBoundingClientRect(),n=s(e,t),r=t.right-n.right,i=n.left-t.left,o=.51*t.width,a=.55*t.width;return o<=i||a<=r}}}(),function(n){n.widget("pageflow.nonLazyPage",{widgetEventPrefix:"page",_create:function(){this.configuration=this.element.data("configuration")||this.options.configuration,this.index=this.options.index,this._setupNearBoundaryCssClasses(),this._setupContentLinkTargetHandling(),this.reinit()},getPermaId:function(){return parseInt(this.element.attr("id"),10)},getConfiguration:function(){return this.configuration},update:function(e){_.extend(this.configuration,e.attributes),this.pageType.update(this.element,e)},reinit:function(){this.pageType=pageflow.pageType.get(this.element.data("template")),this.element.data("pageType",this.pageType),(this.preloaded=!1)===this.pageType.scroller?this.content=n():this.content=this.element.find(".scroller"),this.content.scroller(this.pageType.scrollerOptions||{}),this.pageType.scroller=this.content.scroller("instance"),this.pageType.scrollIndicator=new pageflow.ScrollIndicator(this.element),this._setupHideTextOnSwipe(),this._triggerPageTypeHook("enhance"),this._trigger("enhanced")},reactivate:function(){this.element.hasClass("active")&&(this.preload(),this.content.scroller("enable"),this.content.scroller("resetPosition"),this.content.scroller("afterAnimationHook"),this._triggerPageTypeHook("activating"),this._triggerDelayedPageTypeHook("activated"))},cleanup:function(){this._triggerPageTypeHook("deactivating"),this._triggerDelayedPageTypeHook("deactivated"),this._triggerPageTypeHook("cleanup")},refreshScroller:function(){this.content.scroller("refresh")},resize:function(){this._triggerPageTypeHook("resize")},activateAsLandingPage:function(){this.element.addClass("active"),this.content.scroller("enable"),this.content.scroller("resetPosition"),this.content.scroller("afterAnimationHook"),this._trigger("activate",null,{page:this}),this._triggerPageTypeHook("activating"),this._triggerDelayedPageTypeHook("activated")},prepare:function(){this._triggerPageTypeHook("prepare")},unprepare:function(){this._triggerPageTypeHook("unprepare")},prepareNextPageTimeout:function(){return this.pageType.prepareNextPageTimeout},linkedPages:function(){return this._triggerPageTypeHook("linkedPages")},preload:function(){var e=this;if(!this.preloaded)return this.preloaded=!0,n.when(this._triggerPageTypeHook("preload")).then(function(){e._trigger("preloaded")})},activate:function(e){e=e||{},setTimeout(_.bind(function(){this.element.addClass("active")},this),0);var t=this.animateTransition("in",e,function(){this.content.scroller("enable"),this.content.scroller("afterAnimationHook"),this._triggerDelayedPageTypeHook("activated")});return this.content.scroller("resetPosition",{position:e.position}),this._trigger("activate",null,{page:this}),this._triggerPageTypeHook("activating",{position:e.position}),t},deactivate:function(e){e=e||{},this.element.removeClass("active");var t=this.animateTransition("out",e,function(){this._triggerPageTypeHook("deactivated")});return this.content.scroller("disable"),this._trigger("deactivate"),this._triggerPageTypeHook("deactivating"),t},animateTransition:function(e,t,n){var r="in"===e?"out":"in",i=t.transition||this.configuration.transition||"fade",o=pageflow.pageTransitions.get(i).duration,a=i+" animate-"+e+"-"+t.direction;return this.element.removeClass("animate-"+r+"-forwards animate-"+r+"-backwards").addClass(a),setTimeout(_.bind(function(){this.element.removeClass(a),n.call(this)},this),o),o},
_triggerDelayedPageTypeHook:function(e){var t=this,n=pageflow.manualStart.wait(function(){t._triggerPageTypeHook(e)});this.element.one("pagedeactivate",function(){n.cancel()})},_triggerPageTypeHook:function(e,t){return this.pageType[e](this.element,this.configuration,t||{})},_setupHideTextOnSwipe:function(){pageflow.entryData.getThemingOption("hide_text_on_swipe")&&!this.pageType.noHideTextOnSwipe&&this.element.hideTextOnSwipe({eventTargetSelector:".content > .scroller"})},_setupNearBoundaryCssClasses:function(){var t=this.element;_(["top","bottom"]).each(function(e){t.on("scrollernear"+e,function(){t.addClass("is_near_"+e)}),t.on("scrollernotnear"+e,function(){t.removeClass("is_near_"+e)})})},_setupContentLinkTargetHandling:function(){this._on({"click .contentText p a":function(e){var t=n(e.currentTarget).attr("href");"#"===t[0]?pageflow.slides.goToByPermaId(t.substr(1)):window.open(t,"_blank"),e.preventDefault()}})}})}(jQuery),function(e){e.widget("pageflow.scroller",{dragThreshold:50,maxXDelta:50,doubleBumpThreshold:500,_create:function(){this.iscroll=new IScroll(this.element[0],_.extend({mouseWheel:!0,bounce:!1,keyBindings:!0,probeType:2,preventDefault:!1},_.pick(this.options,"freeScroll","scrollX","noMouseWheelScrollX"))),this.iscroll.disable(),pageflow.entryData.getThemingOption("page_change_by_scrolling")&&(this._initMousewheelBump("up"),this._initMousewheelBump("down"),this._initDragGestureBump()),this._initKeyboardBump("up"),this._initKeyboardBump("down"),this._initNearBottomEvents(),this._initNearTopEvents(),this._initMoveEvents(),this._onScrollEndCallbacks=new e.Callbacks},enable:function(){this.iscroll.enable(),this.iscroll.refresh()},resetPosition:function(e){e=e||{},this.iscroll.refresh(),"bottom"===e.position?this.iscroll.scrollTo(0,this.iscroll.maxScrollY,0):this.iscroll.scrollTo(0,0,0),this._triggerBoundaryEvents()},scrollBy:function(e,t,n,r){this.scrollTo(this.iscroll.x+e,this.iscroll.y+t,n,r)},scrollTo:function(e,t,n,r){this.iscroll.scrollTo(Math.max(Math.min(e,0),this.iscroll.maxScrollX),Math.max(Math.min(t,0),this.iscroll.maxScrollY),n,r),this._onScrollEndCallbacks.fire()},refresh:function(){this.iscroll.refresh()},afterAnimationHook:function(){this._triggerBoundaryEvents()},disable:function(){this.iscroll.disable()},positionX:function(){return this.iscroll.x},positionY:function(){return this.iscroll.y},maxX:function(){return this.iscroll.maxScrollX},maxY:function(){return this.iscroll.maxScrollY},onScroll:function(e){this.iscroll.on("scroll",e)},onScrollEnd:function(e){this.iscroll.on("scrollEnd",e),this._onScrollEndCallbacks.add(e)},_initMoveEvents:function(){this.iscroll.on("mousewheelup",_.bind(this._triggerMoveEvent,this)),this.iscroll.on("mousewheeldown",_.bind(this._triggerMoveEvent,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerMoveEvent,this))},_triggerMoveEvent:function(){this._trigger("move")},_initNearBottomEvents:function(){this.iscroll.on("scroll",_.bind(this._triggerNearBottomEvents,this)),this.iscroll.on("scrollEnd",_.bind(this._triggerNearBottomEvents,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerNearBottomEvents,this))},_initNearTopEvents:function(){this.iscroll.on("scroll",_.bind(this._triggerNearTopEvents,this)),this.iscroll.on("scrollEnd",_.bind(this._triggerNearTopEvents,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerNearTopEvents,this))},_triggerBoundaryEvents:function(){this._triggerNearTopEvents(),this._triggerNearBottomEvents()},_triggerNearBottomEvents:function(){this._atBoundary("down",{delta:50})?this._trigger("nearbottom"):this._trigger("notnearbottom")},_triggerNearTopEvents:function(){this._atBoundary("up",{delta:50})?this._trigger("neartop"):this._trigger("notneartop")},_initMousewheelBump:function(e){var t=!1;this.iscroll.on("mousewheel"+e,_.bind(function(){this._atBoundary(e)&&(t?(this._trigger("bump"+e),t=!1,clearTimeout(this.waitForSecondBump)):(this._trigger("hint"+e),t=!0,this.waitForSecondBump=setTimeout(function(){t=!1},this.doubleBumpThreshold)))},this))},_initKeyboardBump:function(t){this.iscroll.on("keyboard"+t,_.bind(function(e){this._atBoundary(t)&&(e.stopImmediatePropagation(),this._trigger("bump"+t))},this)),this.iscroll.on("keyboardhint"+t,_.bind(function(){this._atBoundary(t)&&this._trigger("hint"+t)},this))},_initDragGestureBump:function(){function n(e){return e.originalEvent.pointerType&&e.originalEvent.pointerType!==e.originalEvent.MSPOINTER_TYPE_TOUCH&&"touch"!==e.originalEvent.pointerType}var i,o,a=!1,s=!1;this.element.on("touchstart MSPointerDown pointerdown",_.bind(function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent;i=t.pageX,o=t.pageY,n(e)||(s=this._atBoundary("down"),a=this._atBoundary("up"))},this)),this.element.on("touchmove MSPointerMove pointermove",_.bind(function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent,n=t.pageX-i,r=t.pageY-o;Math.abs(n)>this.maxXDelta&&(s=a=!1),a&&r>this.dragThreshold?(this._trigger("bumpup"),s=a=!1):s&&r<-this.dragThreshold&&(this._trigger("bumpdown"),s=a=!1)},this)),this.element.on("touchend MSPointerUp pointerup",_.bind(function(){a&&this._trigger("hintup"),s&&this._trigger("hintdown")},this))},_atBoundary:function(e,t){var n=(t=t||{}).delta||0;return"up"===e?this.iscroll.y>=-n:this.iscroll.y<=this.iscroll.maxScrollY+n}})}(jQuery),pageflow.ScrollIndicator=pageflow.Object.extend({initialize:function(e){this.pageElement=e},disable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:disable")},scheduleDisable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:schedule_disable")},enable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:enable")},_isPageActive:function(){return this.pageElement.hasClass("active")}}),function(f){var d={up:"top",down:"bottom"};f.widget("pageflow.scrollIndicator",{_create:function(){function t(e){e.hasClass("scroll_indicator_mode_non")||e.hasClass("scroll_indicator_mode_only_next")&&"up"===u||e.hasClass("scroll_indicator_mode_only_back")&&"down"===u?c.element.hide():c.element.show(),c.element.toggleClass("hidden_for_page",r(e)),c.element.toggleClass("invert",n(e)),c.element.toggleClass("horizontal",e.hasClass("scroll_indicator_orientation_horizontal")),c.element.toggleClass("available",a())}function n(e){var t=e.data("invertIndicator");return void 0===t&&(t=e.hasClass("invert")&&!i(e)),t}function r(e){return i(e)||!pageflow.widgets.areLoaded()}function i(e){return o(e)&&pageflow.widgets.isPresent("slim_player_controls")}function o(e){return!!e.find('[data-role="player_controls"]').length}function a(){return"down"===u?e.nextPageExists():e.previousPageExists()}var s,e=this.options.parent,u=this.element.data("direction"),l=d[u],c=this;e.on("pageactivate",function(e){t(f(e.target)),clearTimeout(s),c.element.removeClass("faded")}),pageflow.events.on({"page:update":function(){t(e.currentPage())},"scroll_indicator:disable":function(){clearTimeout(s),c.element.addClass("hidden_for_page")},"scroll_indicator:schedule_disable":function(){clearTimeout(s),s=setTimeout(function(){c.element.addClass("faded")},2e3)},"scroll_indicator:enable":function(){clearTimeout(s),c.element.removeClass("faded hidden_for_page")}}),e.on("scrollerhint"+u,function(){c.element.addClass("animate"),setTimeout(function(){c.element.removeClass("animate")},500)}),e.on("scrollernear"+l,function(e){f(e.target).parents("section").hasClass("active")&&c.element.toggleClass("visible",a())}),e.on("scrollernotnear"+l+" slideshowchangepage",function(){c.element.removeClass("visible")}),f.when(pageflow.ready,pageflow.manualStart).done(function(){setTimeout(function(){c.element.addClass("attract"),setTimeout(function(){c.element.removeClass("attract")},1500)},3e3)}),this.element.on("click",function(){"down"===u?e.next():e.back()})}})}(jQuery),function(r){r.widget("pageflow.hiddenTextIndicator",{_create:function(){var e=this.options.parent,n=this;e.on("pageactivate",function(e){var t=r(e.target).add(".content_and_background",e.target);n.element.toggleClass("invert",r(e.target).hasClass("invert")),n.element.toggleClass("hidden",t.hasClass("hide_content_with_text")||t.hasClass("no_hidden_text_indicator"))}),e.on("hidetextactivate",function(){n.element.addClass("visible")}),e.on("hidetextdeactivate",function(){n.element.removeClass("visible")})}})}(jQuery),pageflow.ProgressivePreload=function(){function t(e,r){function i(t,n){$.when(t.page("preload"),o()).then(function(){var e=t.next(".page");!a&&e.length&&n<r&&i(e,n+1)})}function o(){return new $.Deferred(function(e){setTimeout(function(){e.resolve()},1)}).promise()}var a=!1;this.cancel=function(){a=!0},this.start=function(){i(e,0)}}var n=null;this.start=function(e){n&&n.cancel(),(n=new t(e,10)).start()}},pageflow.AdjacentPages=pageflow.Object.extend({initialize:function(e,t){this.pages=e,this.scrollNavigator=t},of:function(e){var n=[],r=this.pages(),t=this.scrollNavigator.getNextPage(e.element,r);return t.length&&n.push(t.page("instance")),_(e.linkedPages()).each(function(e){var t=r.filter("#"+e);t.length&&n.push(t.page("instance"))},this),n}}),pageflow.AdjacentPreparer=pageflow.Object.extend({initialize:function(e){this.adjacentPages=e},attach:function(e){this.listenTo(e,"page:change",this.schedule)},schedule:function(e){clearTimeout(this.scheduleTimeout);var t=_.bind(this.prepareAdjacent,this,e.element.page("instance"));this.scheduleTimeout=setTimeout(t,e.prepareNextPageTimeout())},prepareAdjacent:function(e){var t=this.adjacentPages.of(e),n=_.difference(this.lastPreparedPages,t,[e]),r=_.difference(t,this.lastPreparedPages);_(n).each(function(e){e.isDestroyed||e.unprepare()}),_(r).each(function(e){e.prepare(),e.preload()}),this.lastPreparedPages=t.concat([e])}}),pageflow.AdjacentPreparer.create=function(e,t){return new pageflow.AdjacentPreparer(new pageflow.AdjacentPages(e,t))},jQuery.widget("pageflow.swipeGesture",{_create:function(){function i(e){return e.originalEvent.pointerType&&e.originalEvent.pointerType!==e.originalEvent.MSPOINTER_TYPE_TOUCH&&"touch"!==e.originalEvent.pointerType}var n,r,o,a,s;this.options=_.extend({orientation:"x",minDist:100,maxOrthogonalDist:50,maxDuration:500},this.options);var e=this.options.eventTargetSelector;this.element.on("touchstart MSPointerDown pointerdown",e,_.bind(function(e){if(!i(e)){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent;n=t.pageX,r=t.pageY,s=a=0,o=(new Date).getTime()}},this)),this.element.on("touchmove MSPointerMove pointermove",e,_.bind(function(e){if(!i(e)){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent;a=t.pageX-n,s=t.pageY-r}},this)),this.element.on("touchend MSPointerUp pointerup",e,_.bind(function(e){if(!i(e)){var t=(new Date).getTime()-o,n="x"===this.options.orientation?a:s,r="x"===this.options.orientation?s:a;Math.abs(n)>this.options.minDist&&Math.abs(r)<this.options.maxOrthogonalDist&&t<this.options.maxDuration&&("x"===this.options.orientation?this._trigger(0<n?"right":"left"):this._trigger(0<n?"down":"up"))}},this))}}),pageflow.hideText=function(){function n(){return $("body")}function r(e){return _.map(e.split(" "),function(e){return"hidetext"+e}).join(" ")}return $(function(){n().on("keydown",function(e){27==e.keyCode&&pageflow.hideText.deactivate()})}),{isActive:function(){return n().hasClass("hideText")},toggle:function(){this.isActive()?this.deactivate():this.activate()},activate:function(){this.isActive()||(n().addClass("hideText"),n().trigger("hidetextactivate"))},deactivate:function(){this.isActive()&&(n().removeClass("hideText"),n().trigger("hidetextdeactivate"))},on:function(e,t){n().on(r(e),t)},off:function(e,t){n().off(r(e),t)}}}(),jQuery.widget("pageflow.hideTextOnSwipe",{_create:function(){this.element.swipeGesture({orientation:"x",eventTargetSelector:this.options.eventTargetSelector}),this.element.on("swipegestureleft",function(){pageflow.hideText.activate()}),this.element.on("touchstart MSPointerDown pointerdown mousedown",this.options.eventTargetSelector,function(){pageflow.hideText.isActive()&&pageflow.hideText.deactivate()}),this.element.on("scrollermove",function(){pageflow.hideText.isActive()&&pageflow.hideText.deactivate()})}}),pageflow.DomOrderScrollNavigator=function(i,o){function r(e,t,n){var r=s(e,n);return o.getStorylineIdByPagePermaId(r.page("getPermaId"))==o.getStorylineIdByPagePermaId(t.page("getPermaId"))}function a(e,t){return o.getStorylineIdByPagePermaId(e.page("getPermaId"))==o.getStorylineIdByPagePermaId(t.page("getPermaId"))}function s(e,t){var n=c(e);return"parent_page_perma_id"in n&&o.getThemingOption("change_to_parent_page_at_storyline_boundary")?t.filter("#"+n.parent_page_perma_id):$()}function u(e){return c(e).page_transition||"scroll_over_from_right"}function l(e,t){var n=c(e);return"scroll_successor_id"in n?t.filter("#"+n.scroll_successor_id):$()}function c(e){var t=e.page("getPermaId"),n=o.getStorylineIdByPagePermaId(t);return o.getStorylineConfiguration(n)}this.getLandingPage=function(e){return e.first()},this.back=function(e,t){var n="bottom",r=this.getPreviousPage(e,t);r.is(s(e,t))&&(n=null),i.goTo(r,{position:n,ignoreInHistory:!0})},this.next=function(e,t){i.goTo(this.getNextPage(e,t),{ignoreInHistory:!0})},this.nextPageExists=function(e,t){return!!this.getNextPage(e,t).length},this.previousPageExists=function(e,t){return!!this.getPreviousPage(e,t).length},this.getNextPage=function(e,t){var n=e.next(".page");if(a(e,n))return n;var r=l(e,t);return r.length?r:s(e,t)},this.getPreviousPage=function(e,t){var n=e.prev(".page");return a(e,n)?n:s(e,t)},this.getTransitionDirection=function(e,t){return t.index()>e.index()?"forwards":"backwards"},this.getDefaultTransition=function(e,t,n){return r(t,e,n)?u(t):r(e,t,n)?u(e):void 0}},pageflow.Slideshow=function(s,n){function e(e,t){if(!l){l=!0;var n=e.call(t);setTimeout(function(){l=!1},n)}}function r(e){var t=$(d.get(e));return t.length?t:d.last()}function t(){return parseInt(f.attr("id"),10)}function i(e){var t=o(e);t&&(u=(f=t).index(),f.page("activateAsLandingPage"),c.start(f))}function o(e){if(!f.length){var t=e&&e.landingPagePermaId;return t?a(t):p.scrollNavigator.getLandingPage(d)}if(!f.parent().length)return r(u)}function a(e){return s.find("#"+e)}var u,l=!1,c=new pageflow.ProgressivePreload,f=$(),d=$(),p=this;n=n||{},this.nextPageExists=function(){return this.scrollNavigator.nextPageExists(f,d)},this.previousPageExists=function(){return this.scrollNavigator.previousPageExists(f,d)},this.isOnLandingPage=function(){return f.is(this.scrollNavigator.getLandingPage(d))},this.goToLandingPage=function(){this.goTo(this.scrollNavigator.getLandingPage(d))},this.back=function(){this.scrollNavigator.back(f,d)},this.next=function(){this.scrollNavigator.next(f,d)},this.parentPageExists=function(){return!!pageflow.entryData.getParentPagePermaIdByPagePermaId(t())},this.goToParentPage=function(){this.goToByPermaId(pageflow.entryData.getParentPagePermaIdByPagePermaId(t()))},this.goToById=function(e,t){return this.goTo(s.find("[data-id="+e+"]"),t)},this.goToByPermaId=function(e,t){if(e)return this.goTo(a(e),t)},this.goTo=function(o,a){if(a=a||{},o.length&&!o.is(f))return e(function(){var e=f;u=(f=o).index();var t=a.transition||this.scrollNavigator.getDefaultTransition(e,f,d),n=this.scrollNavigator.getTransitionDirection(e,f,a),r=e.page("deactivate",{direction:n,transition:t}),i=f.page("activate",{direction:n,position:a.position,transition:t});return c.start(f),s.trigger("slideshowchangepage",[a]),Math.max(r,i)},this),!0},this.goToFirstPage=function(){return this.goTo(d.first())},this.update=function(e){(d=s.find("section.page")).each(function(e){var t=$(this);t.page({index:e,configuration:n[t.data("id")]})}),i(e)},this.currentPage=function(){return f},this.currentPageConfiguration=function(){return f.page("getConfiguration")},this.on=function(){s.on.apply(s,arguments)},this.triggerResizeHooks=function(){f.page("resize"),pageflow.events.trigger("resize")},s.on("scrollerbumpup",_.bind(function(){this.back()},this)),s.on("scrollerbumpdown",_.bind(function(){this.next()},this)),s.on("click","a.to_top",_.bind(function(){this.goToLandingPage()},this)),$(window).on("resize",this.triggerResizeHooks),pageflow.nativeScrolling.preventScrollBouncing(s),s.addClass("slideshow"),s.find(".hidden_text_indicator").hiddenTextIndicator({parent:$("body")}),this.on("slideshowchangepage",function(){pageflow.hideText.deactivate()}),s.find(".scroll_indicator").scrollIndicator({parent:this}),this.scrollNavigator=new pageflow.DomOrderScrollNavigator(this,pageflow.entryData),this.preparer=pageflow.AdjacentPreparer.create(function(){return d},this.scrollNavigator).attach(pageflow.events)},pageflow.Slideshow.setup=function(e){function t(e){return _.reduce(e,function(e,t){return e[t.id]=t.configuration,e},{})}return pageflow.slides=new pageflow.Slideshow(e.element,t(e.pages)),pageflow.features.enable("slideshow",e.enabledFeatureNames||[]),pageflow.atmo=pageflow.Atmo.create(pageflow.slides,pageflow.events,pageflow.audio),pageflow.history=pageflow.History.create(pageflow.slides,{simulate:e.simulateHistory}),e.beforeFirstUpdate&&e.beforeFirstUpdate(),pageflow.slides.update({landingPagePermaId:pageflow.history.getLandingPagePermaId()}),pageflow.history.start(),pageflow.slides},pageflow.ready=new $.Deferred(function(n){window.onload=function(){pageflow.browser.detectFeatures().then(function(){var e=$("[data-role=slideshow]"),t=$("body");t.one("pagepreloaded",function(){n.resolve()}),pageflow.Visited.setup(),e.each(function(){pageflow.events.trigger("seed:loaded"),pageflow.entryData=new pageflow.SeedEntryData(pageflow.seed),pageflow.Audio.setup({audioFiles:pageflow.audioFiles}),pageflow.Slideshow.setup({element:$(this),pages:pageflow.pages,enabledFeatureNames:pageflow.enabledFeatureNames,beforeFirstUpdate:function(){$(".header").header({slideshow:pageflow.slides}),$(".overview").overview(),$(".multimedia_alert").multimediaAlert(),pageflow.widgetTypes.enhance(t),pageflow.phoneLandscapeFullscreen()}})}),pageflow.links.setup(),pageflow.FocusOutline.setup(t),pageflow.nativeScrolling.preventScrollingOnEmbed(e)})}}).promise(),jQuery(function(e){e("body").on("click","a.navigation_main",function(){pageflow.events.trigger("button:header")}),e("body").on("click","a.navigation_index",function(){pageflow.events.trigger("button:overview")}),e("body").on("click","a.navigation_fullscreen",function(){pageflow.events.trigger("button:fullscreen")}),e("body").on("click",".mute a",function(){pageflow.events.trigger("button:mute")}),e("body").on("click","a.share.facebook",function(){pageflow.events.trigger("share:facebook")}),e("body").on("click","a.share.twitter",function(){pageflow.events.trigger("share:twitter")}),e("body").on("click","a.share.google",function(){pageflow.events.trigger("share:google")}),e("body").on("pageactivate",function(e,t){pageflow.events.trigger("page:change",t.page)})}),jQuery.widget("pageflow.fullscreenButton",{_create:function(){pageflow.fullscreen.on("change",this.update,this),this.update(),this.element.click(function(){pageflow.fullscreen.toggle()}),pageflow.fullscreen.isSupported()||this.element.css("visibility","hidden")},_destroy:function(){pageflow.fullscreen.off("change",this.update)},update:function(){this.element.toggleClass("active",!!pageflow.fullscreen.isActive()).updateTitle()}}),jQuery(function(i){i.widget("pageflow.header",{_create:function(){function n(e){t.element.toggleClass("invert",e.hasClass("invert")),t.element.toggleClass("first_page",0===e.index())}var r=this.options.slideshow,t=this;r.on("pageactivate",function(e,t){n(r.currentPage(),t)}),r.on("scrollerneartop",function(e){i(e.target).parents("section").is(r.currentPage())&&t.element.addClass("near_top")}),r.on("scrollernotneartop",function(e){i(e.target).parents("section").is(r.currentPage())&&t.element.removeClass("near_top")}),r.currentPage().length&&n(r.currentPage(),{}),this.element.addClass("near_top"),this.element.find(".header input").placeholder()}})}),function(e){e.widget("pageflow.loadingSpinner",{_create:function(){var e=this.element;pageflow.nativeScrolling.preventScrollBouncing(e),setTimeout(function(){pageflow.ready.then(function(){e.addClass("fade"),setTimeout(function(){e.hide()},1e3)})},1e3)}}),e(function(){e(".loading_spinner").loadingSpinner()})}(jQuery),function(i){i.widget("pageflow.multimediaAlert",{_create:function(){function t(){r.element.show(),e(!1)}function n(){r.element.hide(),e(!0)}function e(e){i(".page .content").toggleClass("initially_hidden",!e),i(".slideshow .scroll_indicator").toggleClass("initially_hidden",!e)}var r=this;pageflow.manualStart.required().then(function(e){t(),r.element.find(".close").one("click",function(){return n(),pageflow.events.trigger("button:close_multimedia_alert"),e(),!1})}),pageflow.events.on("request:multimedia_alert",function(){t(),r.element.find(".close").one("click",function(){n()})},this),pageflow.nativeScrolling.preventScrollBouncing(this.element)}})}(jQuery),jQuery.widget("pageflow.muteButton",{_create:function(){function e(){0<pageflow.settings.get("volume")?(n=pageflow.settings.get("volume"),pageflow.settings.set("volume",0)):pageflow.settings.set("volume",n)}var t=this.element,n=1;t.on("click",e),pageflow.settings.on("change:volume",this.update,this),this.update()},_destroy:function(){pageflow.settings.off("change:volume",this.update)},update:function(){0===pageflow.settings.get("volume")?this.element.attr("title",this.element.attr("data-muted-title")).addClass("muted"):this.element.attr("title",this.element.attr("data-not-muted-title")).removeClass("muted")}}),function(p){p.widget("pageflow.navigation",{_create:function(){function n(){(o=p(this)).one("mouseup touchend",i)}function l(){a.off("mouseup touchend",i)}function r(){p(f).addClass("hidden").removeClass("visible")}function i(e){o&&o[0]!=e.currentTarget||(r(),pageflow.slides.goToById(this.getAttribute("data-link")),e.preventDefault())}var c=this.element,f=c.find(".navigation_site_detail"),d=function(){};c.addClass("js").append(f),p("a.navigation_top",c).topButton(),p(".navigation_bar_bottom",c).append(p(".navigation_bar_top > li",c).slice(-2)),p(".navigation_volume_box",c).volumeSlider({orientation:"h"}),p(".navigation_mute",c).muteButton(),pageflow.browser.has("mobile platform")&&(p("li.mute",c).hide(),p(".navigation_bar_bottom",c).css("height","224px"),p(".scroller",c).css("bottom","224px"),p(".navigation_scroll_indicator.bottom",c).css("bottom","190px")),p(".navigation_main",c).click(function(){p(this).toggleClass("active").updateTitle(),p(".header").toggleClass("active")}),p('a[href="#header"], a[href="#search"]',"#skipLinks").click(function(){p(".navigation_main",c).addClass("active"),p(".header").addClass("active"),p(this.getAttribute("href")).select()}),p(".navigation_menu .navigation_menu_box a",c).focus(function(){p(this).parents(".navigation_menu").addClass("focused")}).blur(function(){p(this).parents(".navigation_menu").removeClass("focused")});var e=p(".navigation_share_box",c),t=p("> a",e);e.shareMenu({subMenu:p(".sub_share",c),links:t,insertAfter:t.last(),closeOnMouseLeaving:e});var o,a=p(".navigation_thumbnails a",c);a.each(function(e){var t=function(){"ontouchstart"in document.documentElement||p(f[e]).css("top",p(this).offset().top).addClass("visible").removeClass("hidden")};p(this).on({mouseenter:t,mouseleave:r,"mousedown touchstart":n,click:i})}),p(window).on("resize",function(){p(f).css("top","0"),s()});var s=function(){setTimeout(function(){p(".navigation_scroll_indicator",c).show(),d()},500)};p(".scroller",c).each(function(){var e,t,n=p(".navigation_scroll_indicator.bottom",c),r=p(".navigation_scroll_indicator.top",c),i=function(){f.addClass("hidden").removeClass("visible")},o=function(e){return"up"===e?0<=u.y:u.y<=u.maxScrollY},a=function(e){var t=this,n=function(){p(t).hasClass("bottom")?u.scrollBy(0,-20,80):u.scrollBy(0,20,80),d()};13==e.which?(n(),setTimeout(function(){t.focus()},50)):0===e.which&&n()},s={mouseWheel:!0,bounce:!(d=function(){o("down")&&(clearInterval(t),n.removeClass("pressed")),o("up")&&(clearInterval(e),r.removeClass("pressed")),r.toggleClass("visible",!o("up")),n.toggleClass("visible",!o("down"))}),probeType:2};window.navigator.msPointerEnabled&&(s.preventDefault=!1);var u=new IScroll(this,s);p("ul.navigation_thumbnails",c).pageNavigationList({scroller:u,scrollToActive:!0,animationDuration:500,onAnimationStart:function(){c.addClass("is_animating")},onAnimationEnd:function(){c.removeClass("is_animating")},onFilterChange:function(){d()}}),pageflow.ready.then(function(){d()}),r.on({mousedown:function(){e=setInterval(function(){u.scrollBy(0,1),d()},5)},keypress:a,touchstart:a}),r.on("mouseup touchend",function(){clearInterval(e)}),n.on({mousedown:function(){t=setInterval(function(){u.scrollBy(0,-1),d()},5)},keypress:a,touchstart:a}),n.on("mouseup touchend",function(){clearInterval(t)}),d(),u.on("scroll",function(){d(),i(),l()})});var u=p(".navigation_hide_text",c);u.click(function(){pageflow.hideText.toggle()}),pageflow.hideText.on("activate deactivate",function(){u.toggleClass("active",pageflow.hideText.isActive()).updateTitle()}),p(".navigation_bar_bottom .fullscreen a",c).fullscreenButton(),p(".button, .navigation_mute, .navigation_scroll_indicator",c).on({"touchstart mousedown":function(){p(this).addClass("pressed")},"touchend mouseup":function(){p(this).removeClass("pressed")}}),p(".navigation_share, .navigation_credits",c).on({touchstart:function(){function t(e){n.find(e.target).length||(n.removeClass("open"),p("body").off("touchstart",t))}var n=p(this).parent().parent();n.addClass("open"),p("body").on("touchstart",t)}}),p("li",c).on("mouseleave",function(){p(this).blur()}),p("body").on({pageactivate:function(){d()}})}})}(jQuery),function(i){i.widget("pageflow.navigationMobile",{_create:function(){var t,n=this,r=this.element;pageflow.nativeScrolling.preventScrollBouncing(r),i("body").on("touchstart mousedown MSPointerDown pointerdown",function(e){r.hasClass("active")&&!i(e.target).parents().filter(r).length&&r.removeClass("active imprint sharing")}),i(".menu.index",r).click(function(){i(r).hasClass("sharing")||i(r).hasClass("imprint")||i(r).toggleClass("active"),i(r).removeClass("imprint sharing")}),i(".menu.sharing",r).click(function(){i(r).addClass("sharing"),i(r).removeClass("imprint")}),i(".menu.imprint",r).click(function(){i(r).addClass("imprint"),i(r).removeClass("sharing")}),i(".imprint_mobile a",r).on("click touchstart",function(e){e.stopPropagation()}),i(".parent_page",r).parentPageButton({visibleClass:"is_visible"}),i(".wrapper",r).each(function(){var e=i(this).parents(".sharing_mobile");t=new IScroll(this,{preventDefault:!1,mouseWheel:!0,bounce:!1,probeType:3}),i("ul.pages",r).pageNavigationList({scroller:t,animationDuration:500}),t.on("scroll",function(){i(".overview_mobile li",r).removeClass("touched").off("touchend mouseup MSPointerUp pointerup",n._goToPage),i(".sub_share a",e).off("touchend mouseup MSPointerUp pointerup",n._openLink)}),i(".menu",r).click(function(){t.refresh()}),i(r).data("touchBound")||(i("li",r).on({"touchstart mousedown MSPointerDown pointerdown":function(){i(this).addClass("touched")},"touchend mouseup MSPointerUp pointerup":function(){i(this).removeClass("touched")}}),i(".overview_mobile li",r).on({"touchstart mousedown MSPointerDown pointerdown":function(){i(this).one("touchend mouseup MSPointerUp pointerup",n._goToPage)}}),i(r).data("touchBound",!0)),i(".sub_share a",e).on({"touchstart mousedown MSPointerDown pointerdown":function(){i(this).one("touchend mouseup MSPointerUp pointerup",n._openLink)}}),e.shareMenu({subMenu:i(".sub_share",r),links:i("li > a",e),scroller:t})})},_goToPage:function(){var e=i("a",this).attr("data-link");e!==undefined&&(pageflow.slides.goToById(e),i(".navigation_mobile").removeClass("active"))},_openLink:function(e){e.preventDefault(),window.open(this.href,"_blank")}})}(jQuery),jQuery(function(p){p.widget("pageflow.overview",{_create:function(){function e(e){return"ltr"==window.getComputedStyle(e[0]).direction}var t,n=this,r=p(".ov_chapter",this.element),i=p(".ov_page",this.element),o=r.size()*r.outerWidth(!0),a=p(".close",this.element),s=p(".navigation_index"),u=p(".overview"),l=p(".wrapper",this.element),c=function(e){var t=p(".slideshow .scroll_indicator");u.toggleClass("active",e),s.toggleClass("active",e).updateTitle(),p("section.page").toggleClass("hidden_by_overlay",e),t.toggleClass("hidden",e),u.hasClass("active")?pageflow.events.once("page:change",function(){c(!1)},n):pageflow.events.off("page:change",null,n)},f=function(){p(this).hasClass("active")||pageflow.slides.goToById(this.getAttribute("data-link"))};if(p(".scroller",this.element).width(o),l.find(".ov_chapter").length&&((t=new IScroll(l[0],{snap:".ov_chapter",bounce:!1,scrollX:!0,scrollY:!1,probeType:2,mouseWheel:!0,preventDefault:!1})).on("scroll",function(){i.removeClass("touched").off("touchend mouseup",f)}),l.pageNavigationList({scroller:t,scrollToActive:".ov_chapter"}),this.element.find(".overview_scroll_indicator.left").scrollButton({scroller:t,page:!0,direction:"left"}),this.element.find(".overview_scroll_indicator.right").scrollButton({scroller:t,page:!0,direction:"right"})),i.each(function(){p(this).on({"touchstart mousedown":function(){p(this).addClass("touched"),p(this).one("touchend mouseup",f)},"touchend mouseup":function(){p(this).removeClass("touched")},click:function(e){e.preventDefault()}})}),o<l.width()){var d=Math.max(400,o-a.width()-10);e(a)?a.css({left:d+"px",right:"auto"}):a.css({right:d+"px",left:"auto"})}a.click(c),s.click(c),p("body").keyup(function(e){27==e.which&&u.hasClass("active")&&c()})}})}),pageflow.PageNavigationListAnimation=pageflow.Object.extend({initialize:function(e){this.entry=e},update:function(e){var t=this.entry.getPagePosition(e),n=this.entry.getStorylineIdByPagePermaId(e),r=this.entry.getStorylineLevel(n);this.enabled=this.lastStorylineId&&this.lastStorylineId!==n,this.movingUp=this.lastStorylineLevel>r,this.movingDown=this.lastStorylineLevel<r,this.movingForwards=this.lastStorylineLevel===r&&this.lastPagePosition<t,this.movingBackwards=this.lastStorylineLevel===r&&this.lastPagePosition>t,this.lastPagePosition=t,this.lastStorylineId=n,this.lastStorylineLevel=r},start:function(e,t){this.enabled&&(e.toggleClass("moving_up",this.movingUp),e.toggleClass("moving_down",this.movingDown),e.toggleClass("moving_forwards",this.movingForwards),e.toggleClass("moving_backwards",this.movingBackwards),e.toggleClass("animate_out",!t))},finish:function(e,t){this.enabled&&e.toggleClass("animate_in",!!t)}}),pageflow.PageNavigationListAnimation.create=function(){return new pageflow.PageNavigationListAnimation(pageflow.entryData)},function(v){v.widget("pageflow.pageNavigationList",{_create:function(){function t(e){return parseInt(v(e).attr("id")||v(e).attr("data-perma-id"),10)}function n(e){var t=h.getPagePermaId(e),n=pageflow.entryData.getChapterIdByPagePermaId(t);l.toggleClass("inside_sub_chapter",t!==e),a(e).then(function(){r(t,{animate:!g.enabled}),i(n),c.onFilterChange&&c.onFilterChange()})}function r(r,i){d.each(function(){var e=v(this),t="#"+r===e.attr("href");if(e.toggleClass("active",t),e.attr("tabindex",t?"-1":"3"),t&&c.scrollToActive){var n=!0===c.scrollToActive?e:e.parents(c.scrollToActive);f.scrollToElement(n[0],i.animate?800:0)}})}function i(n){d.each(function(){var e=v(this),t=n===e.data("chapterId");e.toggleClass("in_active_chapter",t)})}function e(n){d.each(function(){var e=v(this),t=0<=n.indexOf(parseInt(e.attr("href").substr(1),10));e.toggleClass("unvisited",t)})}function o(e){l.find('[href="#'+e+'"]').removeClass("unvisited")}function a(t){return g.update(t),d.each(function(){var e=v(this);g.start(e.parent(),s(t,e))}),v.when(g.enabled&&u()).then(function(){d.each(function(){var e=v(this);g.finish(e.parent(),s(t,e)),e.parent().andSelf().toggleClass("filtered",!s(t,e))}),f.refresh()})}function s(e,t){return p.chapterVisibleFromPage(e,t.data("chapterId"))}function u(){if(c.animationDuration)return c.onAnimationStart&&c.onAnimationStart(),v.Deferred(function(e){setTimeout(function(){e.resolve(),c.onAnimationEnd&&setTimeout(c.onAnimationEnd,500)},500)}).promise()}var l=this.element,c=this.options,f=c.scroller,d=l.find("a[href]"),p=pageflow.ChapterFilter.create(),h=pageflow.HighlightedPage.create(c.highlightedPage),g=pageflow.PageNavigationListAnimation.create();pageflow.ready.then(function(){e(pageflow.visited.getUnvisitedPages()),n(t(pageflow.slides.currentPage()))}),pageflow.slides.on("pageactivate",function(e){o(e.target.getAttribute("id")),n(t(e.target))})}})}(jQuery),jQuery.widget("pageflow.parentPageButton",{_create:function(){function e(){var e=parseInt(pageflow.slides.currentPage().attr("id"),10),t=pageflow.entryData.getChapterIdByPagePermaId(e),
n=pageflow.entryData.getChapterConfiguration(t),r=pageflow.slides.parentPageExists()&&!1!==n.display_parent_page_button;o.visibleClass?i.toggleClass(o.visibleClass,r):i.toggle(r)}var i=this.element,o=this.options;i.click(function(e){pageflow.slides.goToParentPage(),e.preventDefault()}),pageflow.slides.on("pageactivate",function(){e()}),e()}}),jQuery.widget("pageflow.playerControls",{_create:function(){function n(){o.playing?o.pause():o.play()}var o=this.options.player,e=this.element.find(".vjs-play-control"),a=this.element.find(".vjs-progress-holder"),i=this.element.find(".vjs-play-progress"),s=this.element.find(".vjs-current-time-display"),u=this.element.find(".vjs-duration-display"),l=this.element.find(".vjs-slider-handle");5===u.html().length&&"0"===u.html().charAt(0)?(u.html("0:00"),s.html(s.html().substr(1))):u.html("00:00"),o.on("timeupdate",function(e,t){var n=0<t?o.position/o.duration*100:0;isNaN(e)||(o.duration<600?($(s).html(o.formatTime(e).substr(1)),$(u).html(o.formatTime(t).substr(1))):($(s).html(o.formatTime(e)),$(u).html(o.formatTime(t))));var r=(a.width()-l.width())*n/100;l.css({left:r+"px"}),i.css({width:n+"%"})}),o.on("play",function(){$(e).removeClass("vjs-play"),$(e).addClass("vjs-pause vjs-playing")}),o.on("pause",function(){$(e).removeClass("vjs-pause vjs-playing"),$(e).addClass("vjs-play")}),o.on("ended",function(){$(e).removeClass("vjs-pause vjs-playing"),$(e).addClass("vjs-play")}),e.on({"mousedown touchstart":function(){$(this).addClass("pressed")},"mouseup touchend":function(){$(this).removeClass("pressed")},click:function(){n()},keypress:function(e){if(13==e.which){var t=this;n(),setTimeout(function(){$(t).focus()},20)}}}),$(a).on("mousedown touchstart",function(e){function t(e){o.seek(r(e))}function n(){$("body").off({"mousemove touchmove":t,"mouseup touchend":n})}function r(e){var t=(i(e)-$(a).offset().left)/$(a).width();return Math.min(Math.max(t,0),1)*o.duration}function i(e){return e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX}o.seek(r(e)),$("body").on({"mousemove touchmove":t,"mouseup touchend":n})})}}),function(e){var a=32;e.widget("pageflow.scrollButton",{_create:function(){function e(){r.toggle(!n())}function t(){"top"===o||"left"===o?i.prev():"down"!==o&&"right"!==o||i.next()}function n(){return"top"===o?0<=i.y:"left"===o?0<=i.x:"down"===o?i.y<=i.maxScrollY:i.x<=i.maxScrollX}var r=this.element,i=this.options.scroller,o=this.options.direction;i.on("scrollEnd",function(){e()}),this.element.on("click",function(){}),this.options.page&&r.on({click:function(){return t(),r.blur(),!1},keypress:function(e){e.which==a&&t()},touchstart:function(){t()}}),e()}})}(jQuery),function(p){p.widget("pageflow.shareMenu",{_create:function(){var e=this.element,u=this.options,l=u.links||p("a",e),c=u.subMenu||p(e.find(".sub_share")),f=p("a",c),t=u.closeOnMouseLeaving,d=u.scroller;l.on("click",function(e){var t=p(this),n=t.find("a").length?t.find("a"):t,r=n.hasClass("active");if(n.data("share-page")){l.removeClass("active"),n.addClass("active"),e.preventDefault();var i=pageflow.slides.currentPage(),o=i.attr("id")||i.data("perma-id"),a=n.data("share-page").replace(/permaId$/,o),s=u.insertAfter||n;p(f[0]).attr("href",n.attr("href")),p(f[1]).attr("href",a),s.next().hasClass("sub_share")||s.after(c),r?(c.toggle(),n.toggleClass("active")):(c.show(),l.find(".button").removeClass("pressed"),p(this).find(".button").addClass("pressed")),d&&d.refresh()}}),t&&t.on("mouseleave",function(){l.removeClass("active"),p(this).find(".button").removeClass("pressed"),c.hide()})}})}(jQuery),jQuery.widget("pageflow.skipPageButton",{_create:function(){this.element.on("click",function(){pageflow.slides.next()}),pageflow.events.on("page:change page:update",this.update,this),this.update()},_destroy:function(){pageflow.events.off(null,this.update)},update:function(){pageflow.slides&&this.element.toggleClass("enabled",!!pageflow.slides.nextPageExists())}}),jQuery.widget("pageflow.topButton",{_create:function(){function e(){var e=pageflow.slides.isOnLandingPage();t.toggleClass("deactivated",e),t.attr("tabindex",e?"-1":"2")}var t=this.element;t.click(function(e){pageflow.slides.goToLandingPage(),e.preventDefault()}),pageflow.slides.on("pageactivate",function(){e()}),e(pageflow.slides.currentPage())}}),function(a){a.widget("pageflow.volumeSlider",{_create:function(){var r=this.element,i=this.options.orientation,o=a(".volume-slider",r);r.on("mousedown",function(e){function t(e){var t;t="v"===i?1-(e.pageY-o.offset().top)/o.height():(e.pageX-o.offset().left)/o.width(),pageflow.settings.set("volume",Math.min(1,Math.max(0,t)))}var n=a("body");n.on("mousemove.volumeSlider",t),r.addClass("lock_showing"),n.on("mouseup.volumeSlider",function(){n.off("mousemove.volumeSlider mouseup.volumeSlider"),r.removeClass("lock_showing")}),t(e)}),pageflow.settings.on("change:volume",this.update,this),this.update()},_destroy:function(){pageflow.settings.off("change:volume",this.update)},update:function(){var e=pageflow.settings.get("volume");"v"===this.options.orientation?(a(".volume-level",this.element).css({height:100*e+"%"}),a(".volume-handle",this.element).css({bottom:100*e+"%",top:"initial"})):(a(".volume-level",this.element).css({width:100*e+"%"}),a(".volume-handle",this.element).css({left:100*e+"%"})),this.element.toggleClass("volume-high",2/3<e),this.element.toggleClass("volume-medium",1/3<=e&&e<=2/3),this.element.toggleClass("volume-low",e<1/3&&0<e),this.element.toggleClass("volume-mute",0===e)}})}(jQuery),pageflow="object"==typeof pageflow?pageflow:{},pageflow.react=function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){n(1),e.exports=n(327)},function(e,t,n){(function(e){"use strict";function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(2),n(323),n(324),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,function(){return this}())},function(e,t,n){n(3),n(51),n(52),n(53),n(54),n(56),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(69),n(71),n(73),n(75),n(78),n(79),n(80),n(84),n(86),n(88),n(91),n(92),n(93),n(94),n(96),n(97),n(98),n(99),n(100),n(101),n(102),n(104),n(105),n(106),n(108),n(109),n(110),n(112),n(114),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(131),n(132),n(136),n(137),n(138),n(139),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(157),n(158),n(160),n(161),n(167),n(168),n(170),n(171),n(172),n(176),n(177),n(178),n(179),n(180),n(182),n(183),n(184),n(185),n(188),n(190),n(191),n(192),n(194),n(196),n(198),n(199),n(200),n(202),n(203),n(204),n(205),n(215),n(219),n(220),n(222),n(223),n(227),n(228),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(250),n(251),n(252),n(253),n(254),n(256),n(257),n(258),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(270),n(271),n(273),n(274),n(275),n(276),n(279),n(280),n(282),n(283),n(284),n(285),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),e.exports=n(9)},function(e,t,n){"use strict";var r=n(4),a=n(5),i=n(6),o=n(8),s=n(18),u=n(22).KEY,l=n(7),c=n(23),f=n(24),d=n(19),p=n(25),h=n(26),g=n(27),v=n(29),m=n(44),y=n(12),_=n(13),b=n(32),T=n(16),w=n(17),E=n(45),S=n(48),P=n(50),C=n(11),I=n(30),x=P.f,A=C.f,O=S.f,k=r.Symbol,M=r.JSON,R=M&&M.stringify,D="prototype",N=p("_hidden"),L=p("toPrimitive"),j={}.propertyIsEnumerable,F=c("symbol-registry"),B=c("symbols"),U=c("op-symbols"),H=Object[D],V="function"==typeof k,z=r.QObject,q=!z||!z[D]||!z[D].findChild,G=i&&l(function(){return 7!=E(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(H,t);r&&delete H[t],A(e,t,n),r&&e!==H&&A(H,t,r)}:A,K=function(e){var t=B[e]=E(k[D]);return t._k=e,t},Y=V&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},W=function oe(e,t,n){return e===H&&W(U,t,n),y(e),t=T(t,!0),y(n),a(B,t)?(n.enumerable?(a(e,N)&&e[N][t]&&(e[N][t]=!1),n=E(n,{enumerable:w(0,!1)})):(a(e,N)||A(e,N,w(1,{})),e[N][t]=!0),G(e,t,n)):A(e,t,n)},Q=function ae(e,t){y(e);for(var n,r=v(t=b(t)),i=0,o=r.length;i<o;)W(e,n=r[i++],t[n]);return e},X=function se(e,t){return t===undefined?E(e):Q(E(e),t)},$=function ue(e){var t=j.call(this,e=T(e,!0));return!(this===H&&a(B,e)&&!a(U,e))&&(!(t||!a(this,e)||!a(B,e)||a(this,N)&&this[N][e])||t)},J=function le(e,t){if(e=b(e),t=T(t,!0),e!==H||!a(B,t)||a(U,t)){var n=x(e,t);return!n||!a(B,t)||a(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function ce(e){for(var t,n=O(b(e)),r=[],i=0;n.length>i;)a(B,t=n[i++])||t==N||t==u||r.push(t);return r},ee=function fe(e){for(var t,n=e===H,r=O(n?U:b(e)),i=[],o=0;r.length>o;)!a(B,t=r[o++])||n&&!a(H,t)||i.push(B[t]);return i};V||(s((k=function de(e){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=d(0<arguments.length?e:undefined),n=function(e){this===H&&n.call(U,e),a(this,N)&&a(this[N],t)&&(this[N][t]=!1),G(this,t,w(1,e))};return i&&q&&G(H,t,{configurable:!0,set:n}),K(t)})[D],"toString",function pe(){return this._k}),P.f=J,C.f=W,n(49).f=S.f=Z,n(43).f=$,n(42).f=ee,i&&!n(28)&&s(H,"propertyIsEnumerable",$,!0),h.f=function(e){return K(p(e))}),o(o.G+o.W+o.F*!V,{Symbol:k});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=I(p.store),ie=0;re.length>ie;)g(re[ie++]);o(o.S+o.F*!V,"Symbol",{"for":function(e){return a(F,e+="")?F[e]:F[e]=k(e)},keyFor:function he(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),o(o.S+o.F*!V,"Object",{create:X,defineProperty:W,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),M&&o(o.S+o.F*(!V||l(function(){var e=k();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function ge(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||e!==undefined)&&!Y(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,R.apply(M,r)}}),k[D][L]||n(10)(k[D],L,k[D].valueOf),f(k,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var g=n(4),v=n(9),m=n(10),y=n(18),_=n(20),b="prototype",T=function(e,t,n){var r,i,o,a,s=e&T.F,u=e&T.G,l=e&T.S,c=e&T.P,f=e&T.B,d=u?g:l?g[t]||(g[t]={}):(g[t]||{})[b],p=u?v:v[t]||(v[t]={}),h=p[b]||(p[b]={});for(r in u&&(n=t),n)o=((i=!s&&d&&d[r]!==undefined)?d:n)[r],a=f&&i?_(o,g):c&&"function"==typeof o?_(Function.call,o):o,d&&y(d,r,o,e&T.U),p[r]!=o&&m(p,r,a),c&&h[r]!=o&&(h[r]=o)};g.core=v,T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128,e.exports=T},function(e){var t=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=t)},function(e,t,n){var r=n(11),i=n(17);e.exports=n(6)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(12),o=n(14),a=n(16),s=Object.defineProperty;t.f=n(6)?Object.defineProperty:function u(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(6)&&!n(7)(function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(13),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var i=n(13);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(4),a=n(10),s=n(5),u=n(19)("src"),r="toString",i=Function[r],l=(""+i).split(r);n(9).inspectSource=function(e){return i.call(e)},(e.exports=function(e,t,n,r){var i="function"==typeof n;i&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(i&&(s(n,u)||a(n,u,e[t]?""+e[t]:l.join(String(t)))),e===o?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,r,function c(){return"function"==typeof this&&this[u]||i.call(this)})},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++t+n).toString(36))}},function(e,t,n){var o=n(21);e.exports=function(r,i,e){if(o(r),i===undefined)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(19)("meta"),i=n(13),o=n(5),a=n(11).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(7)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},p=function(e){return l&&h.NEED&&u(e)&&!o(e,r)&&c(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(4),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(11).f,i=n(5),o=n(25)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(23)("wks"),i=n(19),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){t.f=n(25)},function(e,t,n){var r=n(4),i=n(9),o=n(28),a=n(26),s=n(11).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e){e.exports=!1},function(e,t,n){var s=n(30),u=n(42),l=n(43);e.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,i=n(e),o=l.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},function(e,t,n){var r=n(31),i=n(41);e.exports=Object.keys||function o(e){return r(e,i)}},function(e,t,n){var a=n(5),s=n(32),u=n(36)(!1),l=n(40)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=l&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){var r=n(33),i=n(35);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var u=n(32),l=n(37),c=n(39);e.exports=function(s){return function(e,t,n){var r,i=u(e),o=l(i.length),a=c(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(38),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}},function(e,t,n){var r=n(38),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(23)("keys"),i=n(19);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(34);e.exports=Array.isArray||function i(e){return"Array"==r(e)}},function(e,t,o){var r=o(12),i=o(46),a=o(41),s=o(40)("IE_PROTO"),u=function(){},l="prototype",c=function(){var e,t=o(15)("iframe"),n=a.length,r="<",i=">";for(t.style.display="none",o(47).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(r+"script"+i+"document.F=Object"+r+"/script"+i),e.close(),c=e.F;n--;)delete c[l][a[n]];return c()};e.exports=Object.create||function f(e,t){var n;return null!==e?(u[l]=r(e),n=new u,u[l]=null,n[s]=e):n=c(),t===undefined?n:i(n,t)}},function(e,t,n){var a=n(11),s=n(12),u=n(30);e.exports=n(6)?Object.defineProperties:function l(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(32),i=n(49).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function u(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(31),i=n(41).concat("length","prototype");t.f=Object.getOwnPropertyNames||function o(e){return r(e,i)}},function(e,t,n){var r=n(43),i=n(17),o=n(32),a=n(16),s=n(5),u=n(14),l=Object.getOwnPropertyDescriptor;t.f=n(6)?l:function c(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(8);r(r.S,"Object",{create:n(45)})},function(e,t,n){var r=n(8);r(r.S+r.F*!n(6),"Object",{defineProperty:n(11).f})},function(e,t,n){var r=n(8);r(r.S+r.F*!n(6),"Object",{defineProperties:n(46)})},function(e,t,n){var r=n(32),i=n(50).f;n(55)("getOwnPropertyDescriptor",function(){return function n(e,t){return i(r(e),t)}})},function(e,t,n){var i=n(8),o=n(9),a=n(7);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},function(e,t,n){var r=n(57),i=n(58);n(55)("getPrototypeOf",function(){return function t(e){return i(r(e))}})},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(5),i=n(57),o=n(40)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(57),i=n(30);n(55)("keys",function(){return function t(e){return i(r(e))}})},function(e,t,n){n(55)("getOwnPropertyNames",function(){return n(48).f})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(55)("freeze",function(t){return function n(e){return t&&r(e)?t(i(e)):e}})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(55)("seal",function(t){return function n(e){return t&&r(e)?t(i(e)):e}})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(55)("preventExtensions",function(t){return function n(e){return t&&r(e)?t(i(e)):e}})},function(e,t,n){var r=n(13);n(55)("isFrozen",function(t){return function n(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(13);n(55)("isSealed",function(t){return function n(e){return!r(e)||!!t&&t(e)}})},function(e,t,n){var r=n(13);n(55)("isExtensible",function(t){return function n(e){return!!r(e)&&(!t||t(e))}})},function(e,t,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(68)})},function(e,t,n){"use strict";var f=n(30),d=n(42),p=n(43),h=n(57),g=n(33),i=Object.assign;e.exports=!i||n(7)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function v(e){for(var t=h(e),n=arguments.length,r=1,i=d.f,o=p.f;r<n;)for(var a,s=g(arguments[r++]),u=i?f(s).concat(i(s)):f(s),l=u.length,c=0;c<l;)o.call(s,a=u[c++])&&(t[a]=s[a]);return t}:i},function(e,t,n){var r=n(8);r(r.S,"Object",{is:n(70)})},function(e){e.exports=Object.is||function n(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(8);r(r.S,"Object",{setPrototypeOf:n(72).set})},function(e,t,o){var n=o(13),r=o(12),a=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o(20)(Function.call,o(50).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(t){n=!0}return function i(e,t){return a(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):undefined),check:a}},function(e,t,n){"use strict";var r=n(74),i={};i[n(25)("toStringTag")]="z",i+""!="[object z]"&&n(18)(Object.prototype,"toString",function o(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var i=n(34),o=n(25)("toStringTag"),a="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,r;return e===undefined?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(8);r(r.P,"Function",{bind:n(76)})},function(e,t,n){"use strict";var o=n(21),a=n(13),s=n(77),u=[].slice,l={},c=function(e,t,n){if(!(t in l)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";l[t]=Function("F,a","return new F("+r.join(",")+")")}return l[t](e,n)};e.exports=Function.bind||function f(t){var n=o(this),r=u.call(arguments,1),i=function(){var e=r.concat(u.call(arguments));return this instanceof i?c(n,e.length,e):s(n,e,t)};return a(n.prototype)&&(i.prototype=n.prototype),i}},function(e){e.exports=function(e,t,n){var r=n===undefined;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(11).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(6)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(13),i=n(58),o=n(25)("hasInstance"),a=Function.prototype;o in a||n(11).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(8),i=n(81);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(4).parseInt,i=n(82).trim,o=n(83),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function s(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var a=n(8),r=n(35),s=n(7),u=n(83),i="["+u+"]",l="\u200b\x85",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),f=function(e,t,n){var r={},i=s(function(){return!!u[e]()||l[e]()!=l}),o=r[e]=i?t(d):u[e];n&&(r[n]=o),a(a.P+a.F*i,"String",r)},d=f.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(o,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e){e.exports="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){var r=n(8),i=n(85);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){var r=n(4).parseFloat,i=n(82).trim;e.exports=1/r(n(83)+"-0")!=-Infinity?function o(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(34),a=n(87),c=n(16),s=n(7),u=n(49).f,l=n(50).f,f=n(11).f,d=n(82).trim,p="Number",h=r[p],g=h,v=h.prototype,m=o(n(45)(v))==p,y="trim"in String.prototype,_=function(e){var t=c(e,!1);if("string"==typeof t&&2<t.length){var n,r,i,o=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,s=t.slice(2),u=0,l=s.length;u<l;u++)if((a=s.charCodeAt(u))<48||i<a)return NaN;return parseInt(s,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function E(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(m?s(function(){v.valueOf.call(n)}):o(n)!=p)?a(new g(_(t)),n,h):_(t)};for(var b,T=n(6)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;T.length>w;w++)i(g,b=T[w])&&!i(h,b)&&f(h,b,l(g,b));(h.prototype=v).constructor=h,n(18)(r,p,h)}},function(e,t,n){var o=n(13),a=n(72).set;e.exports=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&o(r)&&a&&a(e,r),e}},function(e,t,n){"use strict";var r=n(8),l=n(38),c=n(89),f=n(90),i=1..toFixed,o=Math.floor,a=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",p="0",h=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*a[n],a[n]=r%1e7,r=o(r/1e7)},g=function(e){for(var t=6,n=0;0<=--t;)n+=a[t],a[t]=o(n/e),n=n%e*1e7},v=function(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==a[e]){var n=String(a[e]);t=""===t?n:t+f.call(p,7-n.length)+n}return t},m=function(e,t,n){return 0===t?n:t%2==1?m(e,t-1,n*e):m(e*e,t/2,n)},y=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t};r(r.P+r.F*(!!i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(7)(function(){i.call({})})),"Number",{toFixed:function _(e){var t,n,r,i,o=c(this,d),a=l(e),s="",u=p;if(a<0||20<a)throw RangeError(d);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(s="-",o=-o),1e-21<o)if(n=(t=y(o*m(2,69,1))-69)<0?o*m(2,-t,1):o/m(2,t,1),n*=4503599627370496,0<(t=52-t)){for(h(0,n),r=a;7<=r;)h(1e7,0),r-=7;for(h(m(10,r,1),0),r=t-1;23<=r;)g(1<<23),r-=23;g(1<<r),h(1,1),g(2),u=v()}else h(0,n),h(1<<-t,0),u=v()+f.call(p,a);return u=0<a?s+((i=u.length)<=a?"0."+f.call(p,a-i)+u:u.slice(0,i-a)+"."+u.slice(i-a)):s+u}})},function(e,t,n){var r=n(34);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){"use strict";var i=n(38),o=n(35);e.exports=function a(e){var t=String(o(this)),n="",r=i(e);if(r<0||r==Infinity)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(8),i=n(7),o=n(89),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,undefined)})||!i(function(){a.call({})})),"Number",{toPrecision:function s(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return e===undefined?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(8);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(8),i=n(4).isFinite;r(r.S,"Number",{isFinite:function o(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(8);r(r.S,"Number",{isInteger:n(95)})},function(e,t,n){var r=n(13),i=Math.floor;e.exports=function o(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(8);r(r.S,"Number",{isNaN:function i(e){return e!=e}})},function(e,t,n){var r=n(8),i=n(95),o=Math.abs;r(r.S,"Number",{isSafeInteger:function a(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(8);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(8);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(8),i=n(85);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(8),i=n(81);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(8),i=n(103),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(Infinity)==Infinity),"Math",{acosh:function s(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e){e.exports=Math.log1p||function t(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(8),o=Math.asinh;i(i.S+i.F*!(o&&0<1/o(0)),"Math",{asinh:r})},function(e,t,n){var r=n(8),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function o(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(8),i=n(107);r(r.S,"Math",{cbrt:function o(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e){e.exports=Math.sign||function t(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(8);r(r.S,"Math",{clz32:function i(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(8),i=Math.exp;r(r.S,"Math",{cosh:function o(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(8),i=n(111);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e){var t=Math.expm1;e.exports=!t||22025.465794806718<t(10)||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function n(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},function(e,t,n){var r=n(8);r(r.S,"Math",{fround:n(113)})},function(e,t,n){var o=n(107),r=Math.pow,a=r(2,-52),s=r(2,-23),u=r(2,127)*(2-s),l=r(2,-126),c=function(e){return e+1/a-1/a};e.exports=Math.fround||function f(e){var t,n,r=Math.abs(e),i=o(e);return r<l?i*c(r/l/s)*l*s:u<(n=(t=(1+s/a)*r)-(t-r))||n!=n?i*Infinity:i*n}},function(e,t,n){var r=n(8),u=Math.abs;r(r.S,"Math",{hypot:function l(e,t){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=u(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=0<n?(r=n/s)*r:n;return s===Infinity?Infinity:s*Math.sqrt(i)}})},function(e,t,n){var r=n(8),i=Math.imul;r(r.S+r.F*n(7)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function s(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{log10:function i(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(8);r(r.S,"Math",{log1p:n(103)})},function(e,t,n){var r=n(8);r(r.S,"Math",{log2:function i(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(8);r(r.S,"Math",{sign:n(107)})},function(e,t,n){var r=n(8),i=n(111),o=Math.exp;r(r.S+r.F*n(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function a(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(8),i=n(111),o=Math.exp;r(r.S,"Math",{tanh:function a(e){var t=i(e=+e),n=i(-e);return t==Infinity?1:n==Infinity?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(8);r(r.S,"Math",{trunc:function i(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(8),o=n(39),a=String.fromCharCode,i=String.fromCodePoint;r(r.S+r.F*(!!i&&1!=i.length),"String",{fromCodePoint:function s(e){for(var t,n=[],r=arguments.length,i=0;i<r;){if(t=+arguments[i++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(8),a=n(32),s=n(37);r(r.S,"String",{raw:function u(e){for(var t=a(e.raw),n=s(t.length),r=arguments.length,i=[],o=0;o<n;)i.push(String(t[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}})},function(e,t,n){"use strict";n(82)("trim",function(e){return function t(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(127)(!0);n(128)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:undefined,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var u=n(38),l=n(35);e.exports=function(s){return function(e,t){var n,r,i=String(l(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":undefined:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}
}},function(e,t,n){"use strict";var b=n(28),T=n(8),w=n(18),E=n(10),S=n(5),P=n(129),C=n(130),I=n(24),x=n(58),A=n(25)("iterator"),O=!([].keys&&"next"in[].keys()),k="@@iterator",M="keys",R="values",D=function(){return this};e.exports=function(e,t,i,n,r,o,a){C(i,t,n);var s,u,l,c=function(e){if(!O&&e in h)return h[e];switch(e){case M:return function t(){return new i(this,e)};case R:return function n(){return new i(this,e)}}return function r(){return new i(this,e)}},f=t+" Iterator",d=r==R,p=!1,h=e.prototype,g=h[A]||h[k]||r&&h[r],v=!O&&g||c(r),m=r?d?c("entries"):v:undefined,y="Array"==t&&h.entries||g;if(y&&(l=x(y.call(new e)))!==Object.prototype&&l.next&&(I(l,f,!0),b||S(l,A)||E(l,A,D)),d&&g&&g.name!==R&&(p=!0,v=function _(){return g.call(this)}),b&&!a||!O&&!p&&h[A]||E(h,A,v),P[t]=v,P[f]=D,r)if(s={values:d?v:c(R),keys:o?v:c(M),entries:m},a)for(u in s)u in h||w(h,u,s[u]);else T(T.P+T.F*(O||p),t,s);return s}},function(e){e.exports={}},function(e,t,n){"use strict";var r=n(45),i=n(17),o=n(24),a={};n(10)(a,n(25)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(8),i=n(127)(!1);r(r.P,"String",{codePointAt:function o(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(8),s=n(37),u=n(133),l="endsWith",c=""[l];r(r.P+r.F*n(135)(l),"String",{endsWith:function f(e,t){var n=u(this,e,l),r=1<arguments.length?t:undefined,i=s(n.length),o=r===undefined?i:Math.min(s(r),i),a=String(e);return c?c.call(n,a,o):n.slice(o-a.length,o)===a}})},function(e,t,n){var r=n(134),i=n(35);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(13),i=n(34),o=n(25)("match");e.exports=function(e){var t;return r(e)&&((t=e[o])!==undefined?!!t:"RegExp"==i(e))}},function(e,t,n){var i=n(25)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(r){}}return!0}},function(e,t,n){"use strict";var r=n(8),i=n(133),o="includes";r(r.P+r.F*n(135)(o),"String",{includes:function a(e,t){return!!~i(this,e,o).indexOf(e,1<arguments.length?t:undefined)}})},function(e,t,n){var r=n(8);r(r.P,"String",{repeat:n(90)})},function(e,t,n){"use strict";var r=n(8),o=n(37),a=n(133),s="startsWith",u=""[s];r(r.P+r.F*n(135)(s),"String",{startsWith:function l(e,t){var n=a(this,e,s),r=o(Math.min(1<arguments.length?t:undefined,n.length)),i=String(e);return u?u.call(n,i,r):n.slice(r,r+i.length)===i}})},function(e,t,n){"use strict";n(140)("anchor",function(t){return function n(e){return t(this,"a","name",e)}})},function(e,t,n){var r=n(8),i=n(7),a=n(35),s=/"/g,o=function(e,t,n,r){var i=String(a(e)),o="<"+t;return""!==n&&(o+=" "+n+'="'+String(r).replace(s,"&quot;")+'"'),o+">"+i+"</"+t+">"};e.exports=function(t,e){var n={};n[t]=e(o),r(r.P+r.F*i(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",n)}},function(e,t,n){"use strict";n(140)("big",function(e){return function t(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(140)("blink",function(e){return function t(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(140)("bold",function(e){return function t(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(140)("fixed",function(e){return function t(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(140)("fontcolor",function(t){return function n(e){return t(this,"font","color",e)}})},function(e,t,n){"use strict";n(140)("fontsize",function(t){return function n(e){return t(this,"font","size",e)}})},function(e,t,n){"use strict";n(140)("italics",function(e){return function t(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(140)("link",function(t){return function n(e){return t(this,"a","href",e)}})},function(e,t,n){"use strict";n(140)("small",function(e){return function t(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(140)("strike",function(e){return function t(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(140)("sub",function(e){return function t(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(140)("sup",function(e){return function t(){return e(this,"sup","","")}})},function(e,t,n){var r=n(8);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(16);r(r.P+r.F*n(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function a(){var e=i(this),t=o(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},function(e,t,n){var r=n(8),i=n(156);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(7),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return 9<e?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function s(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":9999<t?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(99<n?n:"0"+a(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(18)(r,o,function u(){var e=s.call(this);return e==e?a.call(this):i})},function(e,t,n){var r=n(25)("toPrimitive"),i=Date.prototype;r in i||n(10)(i,r,n(159))},function(e,t,n){"use strict";var r=n(12),i=n(16),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},function(e,t,n){var r=n(8);r(r.S,"Array",{isArray:n(44)})},function(e,t,n){"use strict";var h=n(20),r=n(8),g=n(57),v=n(162),m=n(163),y=n(37),_=n(164),b=n(165);r(r.S+r.F*!n(166)(function(e){Array.from(e)}),"Array",{from:function T(e,t,n){var r,i,o,a,s=g(e),u="function"==typeof this?this:Array,l=arguments.length,c=1<l?t:undefined,f=c!==undefined,d=0,p=b(s);if(f&&(c=h(c,2<l?n:undefined,2)),p==undefined||u==Array&&m(p))for(i=new u(r=y(s.length));d<r;d++)_(i,d,f?c(s[d],d):s[d]);else for(a=p.call(s),i=new u;!(o=a.next()).done;d++)_(i,d,f?v(a,c,[o.value,d],!0):o.value);return i.length=d,i}})},function(e,t,n){var a=n(12);e.exports=function(e,t,n,r){try{return r?t(a(n)[0],n[1]):t(n)}catch(o){var i=e["return"];throw i!==undefined&&a(i.call(e)),o}}},function(e,t,n){var r=n(129),i=n(25)("iterator"),o=Array.prototype;e.exports=function(e){return e!==undefined&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(11),i=n(17);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(74),i=n(25)("iterator"),o=n(129);e.exports=n(9).getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var o=n(25)("iterator"),a=!1;try{var r=[7][o]();r["return"]=function(){a=!0},Array.from(r,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(s){}return n}},function(e,t,n){"use strict";var r=n(8),i=n(164);r(r.S+r.F*n(7)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function o(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(8),i=n(32),o=[].join;r(r.P+r.F*(n(33)!=Object||!n(169)(o)),"Array",{join:function a(e){return o.call(i(this),e===undefined?",":e)}})},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=n(8),i=n(47),l=n(34),c=n(39),f=n(37),d=[].slice;r(r.P+r.F*n(7)(function(){i&&d.call(i)}),"Array",{slice:function p(e,t){var n=f(this.length),r=l(this);if(t=t===undefined?n:t,"Array"==r)return d.call(this,e,t);for(var i=c(e,n),o=c(t,n),a=f(o-i),s=new Array(a),u=0;u<a;u++)s[u]="String"==r?this.charAt(i+u):this[i+u];return s}})},function(e,t,n){"use strict";var r=n(8),i=n(21),o=n(57),a=n(7),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(undefined)})||!a(function(){u.sort(null)})||!n(169)(s)),"Array",{sort:function l(e){return e===undefined?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(8),i=n(173)(0),o=n(169)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function a(e,t){return i(this,e,t)}})},function(e,t,n){var _=n(20),b=n(33),T=n(57),w=n(37),r=n(174);e.exports=function(f,e){var d=1==f,p=2==f,h=3==f,g=4==f,v=6==f,m=5==f||v,y=e||r;return function(e,t,n){for(var r,i,o=T(e),a=b(o),s=_(t,n,3),u=w(a.length),l=0,c=d?y(e,u):p?y(e,0):undefined;l<u;l++)if((m||l in a)&&(i=s(r=a[l],l,o),f))if(d)c[l]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return l;case 2:c.push(r)}else if(g)return!1;return v?-1:h||g?g:c}}},function(e,t,n){var r=n(175);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(13),i=n(44),o=n(25)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=undefined),r(t)&&null===(t=t[o])&&(t=undefined)),t===undefined?Array:t}},function(e,t,n){"use strict";var r=n(8),i=n(173)(1);r(r.P+r.F*!n(169)([].map,!0),"Array",{map:function o(e,t){return i(this,e,t)}})},function(e,t,n){"use strict";var r=n(8),i=n(173)(2);r(r.P+r.F*!n(169)([].filter,!0),"Array",{filter:function o(e,t){return i(this,e,t)}})},function(e,t,n){"use strict";var r=n(8),i=n(173)(3);r(r.P+r.F*!n(169)([].some,!0),"Array",{some:function o(e,t){return i(this,e,t)}})},function(e,t,n){"use strict";var r=n(8),i=n(173)(4);r(r.P+r.F*!n(169)([].every,!0),"Array",{every:function o(e,t){return i(this,e,t)}})},function(e,t,n){"use strict";var r=n(8),i=n(181);r(r.P+r.F*!n(169)([].reduce,!0),"Array",{reduce:function o(e,t){return i(this,e,arguments.length,t,!1)}})},function(e,t,n){var c=n(21),f=n(57),d=n(33),p=n(37);e.exports=function(e,t,n,r,i){c(t);var o=f(e),a=d(o),s=p(o.length),u=i?s-1:0,l=i?-1:1;if(n<2)for(;;){if(u in a){r=a[u],u+=l;break}if(u+=l,i?u<0:s<=u)throw TypeError("Reduce of empty array with no initial value")}for(;i?0<=u:u<s;u+=l)u in a&&(r=t(r,a[u],u,o));return r}},function(e,t,n){"use strict";var r=n(8),i=n(181);r(r.P+r.F*!n(169)([].reduceRight,!0),"Array",{reduceRight:function o(e,t){return i(this,e,arguments.length,t,!0)}})},function(e,t,n){"use strict";var r=n(8),i=n(36)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(169)(o)),"Array",{indexOf:function s(e,t){return a?o.apply(this,arguments)||0:i(this,e,t)}})},function(e,t,n){"use strict";var r=n(8),o=n(32),a=n(38),s=n(37),u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(l||!n(169)(u)),"Array",{lastIndexOf:function c(e,t){if(l)return u.apply(this,arguments)||0;var n=o(this),r=s(n.length),i=r-1;for(1<arguments.length&&(i=Math.min(i,a(t))),i<0&&(i=r+i);0<=i;i--)if(i in n&&n[i]===e)return i||0;return-1}})},function(e,t,n){var r=n(8);r(r.P,"Array",{copyWithin:n(186)}),n(187)("copyWithin")},function(e,t,n){"use strict";var c=n(57),f=n(39),d=n(37);e.exports=[].copyWithin||function p(e,t,n){var r=c(this),i=d(r.length),o=f(e,i),a=f(t,i),s=2<arguments.length?n:undefined,u=Math.min((s===undefined?i:f(s,i))-a,i-o),l=1;for(a<o&&o<a+u&&(l=-1,a+=u-1,o+=u-1);0<u--;)a in r?r[o]=r[a]:delete r[o],o+=l,a+=l;return r}},function(e,t,n){var r=n(25)("unscopables"),i=Array.prototype;i[r]==undefined&&n(10)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(8);r(r.P,"Array",{fill:n(189)}),n(187)("fill")},function(e,t,n){"use strict";var l=n(57),c=n(39),f=n(37);e.exports=function d(e,t,n){for(var r=l(this),i=f(r.length),o=arguments.length,a=c(1<o?t:undefined,i),s=2<o?n:undefined,u=s===undefined?i:c(s,i);a<u;)r[a++]=e;return r}},function(e,t,n){"use strict";var r=n(8),i=n(173)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function s(e,t){return i(this,e,1<arguments.length?t:undefined)}}),n(187)(o)},function(e,t,n){"use strict";var r=n(8),i=n(173)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function s(e,t){return i(this,e,1<arguments.length?t:undefined)}}),n(187)(o)},function(e,t,n){n(193)("Array")},function(e,t,n){"use strict";var r=n(4),i=n(11),o=n(6),a=n(25)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(187),i=n(195),o=n(129),a=n(32);e.exports=n(128)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(4),o=n(87),i=n(11).f,a=n(49).f,s=n(134),u=n(197),l=r.RegExp,c=l,f=l.prototype,d=/a/g,p=/a/g,h=new l(d)!==d;if(n(6)&&(!h||n(7)(function(){return p[n(25)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")}))){l=function y(e,t){var n=this instanceof l,r=s(e),i=t===undefined;return!n&&r&&e.constructor===l&&i?e:o(h?new c(r&&!i?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&i?u.call(e):t),n?this:f,l)};for(var g=function(t){t in l||i(l,t,{configurable:!0,get:function(){return c[t]},set:function(e){c[t]=e}})},v=a(c),m=0;v.length>m;)g(v[m++]);(f.constructor=l).prototype=f,n(18)(r,"RegExp",l)}n(193)("RegExp")},function(e,t,n){"use strict";var r=n(12);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n(199);var r=n(12),i=n(197),o=n(6),a="toString",s=/./[a],u=function(e){n(18)(RegExp.prototype,a,e,!0)};n(7)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function l(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):undefined)}):s.name!=a&&u(function c(){return s.call(this)})},function(e,t,n){n(6)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(197)})},function(e,t,n){n(201)("match",1,function(r,i,e){return[function o(e){"use strict";var t=r(this),n=e==undefined?undefined:e[i];return n!==undefined?n.call(e,t):new RegExp(e)[i](String(t))},e]})},function(e,t,n){"use strict";var s=n(10),u=n(18),l=n(7),c=n(35),f=n(25);e.exports=function(t,e,n){var r=f(t),i=n(c,r,""[t]),o=i[0],a=i[1];l(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})&&(u(String.prototype,t,o),s(RegExp.prototype,r,2==e?function(e,t){return a.call(e,this,t)}:function(e){return a.call(e,this)}))}},function(e,t,n){n(201)("replace",2,function(i,o,a){return[function s(e,t){"use strict";var n=i(this),r=e==undefined?undefined:e[o];return r!==undefined?r.call(e,n,t):a.call(String(n),e,t)},a]})},function(e,t,n){n(201)("search",1,function(r,i,e){return[function o(e){"use strict";var t=r(this),n=e==undefined?undefined:e[i];return n!==undefined?n.call(e,t):new RegExp(e)[i](String(t))},e]})},function(e,t,n){n(201)("split",2,function(i,o,a){"use strict";var p=n(134),h=a,g=[].push,e="split",v="length",m="lastIndex";if("c"=="abbc"[e](/(b)*/)[1]||4!="test"[e](/(?:)/,-1)[v]||2!="ab"[e](/(?:ab)*/)[v]||4!="."[e](/(.?)(.?)/)[v]||1<"."[e](/()()/)[v]||""[e](/.?/)[v]){var y=/()??/.exec("")[1]===undefined;a=function(e,t){var n=String(this);if(e===undefined&&0===t)return[];if(!p(e))return h.call(n,e,t);var r,i,o,a,s,u=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),c=0,f=t===undefined?4294967295:t>>>0,d=new RegExp(e.source,l+"g");for(y||(r=new RegExp("^"+d.source+"$(?!\\s)",l));(i=d.exec(n))&&!(c<(o=i.index+i[0][v])&&(u.push(n.slice(c,i.index)),!y&&1<i[v]&&i[0].replace(r,function(){for(s=1;s<arguments[v]-2;s++)arguments[s]===undefined&&(i[s]=undefined)}),1<i[v]&&i.index<n[v]&&g.apply(u,i.slice(1)),a=i[0][v],c=o,u[v]>=f));)d[m]===i.index&&d[m]++;return c===n[v]?!a&&d.test("")||u.push(""):u.push(n.slice(c)),u[v]>f?u.slice(0,f):u}}else"0"[e](undefined,0)[v]&&(a=function(e,t){return e===undefined&&0===t?[]:h.call(this,e,t)});return[function s(e,t){var n=i(this),r=e==undefined?undefined:e[o];return r!==undefined?r.call(e,n,t):a.call(String(n),e,t)},a]})},function(e,t,r){"use strict";var n,i,o,a,s=r(28),u=r(4),l=r(20),c=r(74),f=r(8),d=r(13),p=r(21),h=r(206),g=r(207),v=r(208),m=r(209).set,y=r(210)(),_=r(211),b=r(212),T=r(213),w="Promise",E=u.TypeError,S=u.process,P=u[w],C="process"==c(S),I=function(){},x=i=_.f,A=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[r(25)("species")]=function(e){e(I,I)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t}catch(n){}}(),O=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},k=function(c,n){if(!c._n){c._n=!0;var r=c._c;y(function(){for(var u=c._v,l=1==c._s,e=0,t=function(e){var t,n,r=l?e.ok:e.fail,i=e.resolve,o=e.reject,a=e.domain;try{r?(l||(2==c._h&&D(c),c._h=1),!0===r?t=u:(a&&a.enter(),t=r(u),a&&a.exit()),t===e.promise?o(E("Promise-chain cycle")):(n=O(t))?n.call(t,i,o):i(t)):o(u)}catch(s){o(s)}};r.length>e;)t(r[e++]);c._c=[],c._n=!1,n&&!c._h&&M(c)})}},M=function(o){m.call(u,function(){var e,t,n,r=o._v,i=R(o);if(i&&(e=b(function(){C?S.emit("unhandledRejection",r,o):(t=u.onunhandledrejection)?t({promise:o,reason:r}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=C||R(o)?2:1),o._a=undefined,i&&e.e)throw e.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(t){m.call(u,function(){var e;C?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},L=function(n){var r,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===n)throw E("Promise can't be resolved itself");(r=O(n))?y(function(){var e={_w:i,_d:!1};try{r.call(n,l(L,e,1),l(N,e,1))}catch(t){N.call(e,t)}}):(i._v=n,i._s=1,k(i,!1))}catch(e){N.call({_w:i,_d:!1},e)}}};A||(P=function j(e){h(this,P,w,"_h"),p(e),n.call(this);try{e(l(L,this,1),l(N,this,1))}catch(t){N.call(this,t)}},(n=function F(){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=r(214)(P.prototype,{then:function B(e,t){var n=x(v(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?S.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&k(this,!1),n.promise},"catch":function(e){return this.then(undefined,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=l(L,e,1),this.reject=l(N,e,1)},_.f=x=function(e){return e===P||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!A,{Promise:P}),r(24)(P,w),r(193)(w),a=r(9)[w],f(f.S+f.F*!A,w,{reject:function U(e){var t=x(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!A),w,{resolve:function H(e){return T(s&&this===a?P:this,e)}}),f(f.S+f.F*!(A&&r(166)(function(e){P.all(e)["catch"](I)})),w,{all:function V(e){var a=this,t=x(a),s=t.resolve,u=t.reject,n=b(function(){var r=[],i=0,o=1;g(e,!1,function(e){var t=i++,n=!1;r.push(undefined),o++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||s(r))},u)}),--o||s(r)});return n.e&&u(n.v),t.promise},race:function z(e){var t=this,n=x(t),r=n.reject,i=b(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||r!==undefined&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var d=n(20),p=n(162),h=n(163),g=n(12),v=n(37),m=n(165),y={},_={};(t=e.exports=function(e,t,n,r,i){var o,a,s,u,l=i?function(){return e}:m(e),c=d(n,r,t?2:1),f=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(h(l)){for(o=v(e.length);f<o;f++)if((u=t?c(g(a=e[f])[0],a[1]):c(e[f]))===y||u===_)return u}else for(s=l.call(e);!(a=s.next()).done;)if((u=p(s,c,a.value,t))===y||u===_)return u}).BREAK=y,t.RETURN=_},function(e,t,n){var i=n(12),o=n(21),a=n(25)("species");e.exports=function(e,t){var n,r=i(e).constructor;return r===undefined||(n=i(r)[a])==undefined?t:o(n)}},function(e,t,n){var r,i,o,a=n(20),s=n(77),u=n(47),l=n(15),c=n(4),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,g=c.Dispatch,v=0,m={},y="onreadystatechange",_=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){_.call(e.data)};d&&p||(d=function T(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function w(e){delete m[e]},"process"==n(34)(f)?r=function(e){f.nextTick(a(_,e,1))}:g&&g.now?r=function(e){g.now(a(_,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r=y in l("script")?function(e){u.appendChild(l("script"))[y]=function(){u.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var s=n(4),u=n(209).set,l=s.MutationObserver||s.WebKitMutationObserver,c=s.process,f=s.Promise,d="process"==n(34)(c);e.exports=function(){var r,i,o,e=function(){var e,t;for(d&&(e=c.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(n){throw r?o():i=undefined,n}}i=undefined,e&&e.enter()};if(d)o=function(){c.nextTick(e)};else if(!l||s.navigator&&s.navigator.standalone)if(f&&f.resolve){var t=f.resolve();o=function(){t.then(e)}}else o=function(){u.call(s,e)};else{var n=!0,a=document.createTextNode("");new l(e).observe(a,{characterData:!0}),o=function(){a.data=n=!n}}return function(e){var t={fn:e,next:undefined};i&&(i.next=t),r||(r=t,o()),i=t}}},function(e,t,n){"use strict";function r(e){var n,r;this.promise=new e(function(e,t){if(n!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)}var i=n(21);e.exports.f=function(e){return new r(e)}},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(12),i=n(13),o=n(211);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var i=n(18);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){"use strict";var r=n(216),i=n(217),o="Map";e.exports=n(218)(o,function(t){return function n(e){return t(this,0<arguments.length?e:undefined)}},{get:function a(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function s(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var u=n(11).f,l=n(45),c=n(214),f=n(20),d=n(206),p=n(207),r=n(128),i=n(195),o=n(193),h=n(6),a=n(22).fastKey,g=n(217),v=h?"_s":"size",m=function(e,t){var n,r=a(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,o,n,r){var i=e(function(e,t){d(e,i,o,"_i"),e._t=o,e._i=l(null),e._f=undefined,e._l=undefined,e[v]=0,t!=undefined&&p(t,n,e[r],e)});return c(i.prototype,{clear:function a(){for(var e=g(this,o),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=undefined),delete t[n.i];e._f=e._l=undefined,e[v]=0},"delete":function(e){var t=g(this,o),n=m(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[v]--}return!!n},forEach:function s(e,t){g(this,o);for(var n,r=f(e,1<arguments.length?t:undefined,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function t(e){return!!m(g(this,o),e)}}),h&&u(i.prototype,"size",{get:function(){return g(this,o)[v]}}),i},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=a(t,!0),k:t,v:n,p:r=e._l,n:undefined,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,n,t){r(e,n,function(e,t){this._t=g(e,n),this._k=t,this._l=undefined},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?i(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=undefined,i(1))},t?"entries":"values",!t,!0),o(n)}}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var m=n(4),y=n(8),_=n(18),b=n(214),T=n(22),w=n(207),E=n(206),S=n(13),P=n(7),C=n(166),I=n(24),x=n(87);e.exports=function(r,e,t,n,i,a){var o=m[r],s=o,u=i?"set":"add",l=s&&s.prototype,c={},f=function(e){var n=l[e];_(l,e,"delete"==e?function(e){return!(a&&!S(e))&&n.call(this,0===e?0:e)}:"has"==e?function t(e){return!(a&&!S(e))&&n.call(this,0===e?0:e)}:"get"==e?function r(e){return a&&!S(e)?undefined:n.call(this,0===e?0:e)}:"add"==e?function i(e){return n.call(this,0===e?0:e),this}:function o(e,t){return n.call(this,0===e?0:e,t),this})};if("function"==typeof s&&(a||l.forEach&&!P(function(){(new s).entries().next()}))){var d=new s,p=d[u](a?{}:-0,1)!=d,h=P(function(){d.has(1)}),g=C(function(e){new s(e)}),v=!a&&P(function(){for(var e=new s,t=5;t--;)e[u](t,t);return!e.has(-0)});g||(((s=e(function(e,t){E(e,s,r);var n=x(new o,e,s);return t!=undefined&&w(t,i,n[u],n),n})).prototype=l).constructor=s),(h||v)&&(f("delete"),f("has"),i&&f("get")),(v||p)&&f(u),a&&l.clear&&delete l.clear}else s=n.getConstructor(e,r,i,u),b(s.prototype,t),T.NEED=!0;return I(s,r),c[r]=s,y(y.G+y.W+y.F*(s!=o),c),a||n.setStrong(s,r,i),s}},function(e,t,n){"use strict";var r=n(216),i=n(217),o="Set";e.exports=n(218)(o,function(t){return function n(e){return t(this,0<arguments.length?e:undefined)}},{add:function a(e){return r.def(i(this,o),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var o,r=n(173)(0),a=n(18),i=n(22),s=n(68),u=n(221),l=n(13),c=n(7),f=n(217),d="WeakMap",p=i.getWeak,h=Object.isExtensible,g=u.ufstore,v={},m=function(t){return function n(e){return t(this,0<arguments.length?e:undefined)}},y={get:function b(e){if(l(e)){var t=p(e);return!0===t?g(f(this,d)).get(e):t?t[this._i]:undefined}},set:function T(e,t){return u.def(f(this,d),e,t)}},_=e.exports=n(218)(d,m,y,u,!0,!0);c(function(){return 7!=(new _).set((Object.freeze||Object)(v),7).get(v)})&&(s((o=u.getConstructor(m,d)).prototype,y),i.NEED=!0,r(["delete","has","get","set"],function(r){var e=_.prototype,i=e[r];a(e,r,function(e,t){if(!l(e)||h(e))return i.call(this,e,t);this._f||(this._f=new o);var n=this._f[r](e,t);return"set"==r?this:n})}))},function(e,t,n){"use strict";var s=n(214),u=n(22).getWeak,i=n(12),l=n(13),c=n(206),f=n(207),r=n(173),d=n(5),p=n(217),o=r(5),a=r(6),h=0,g=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},m=function(e,t){return o(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(t){var e=a(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,r,i){var o=e(function(e,t){c(e,o,n,"_i"),e._t=n,e._i=h++,e._l=undefined,t!=undefined&&f(t,r,e[i],e)});return s(o.prototype,{"delete":function(e){if(!l(e))return!1;var t=u(e);return!0===t?g(p(this,n))["delete"](e):t&&d(t,this._i)&&delete t[this._i]},has:function a(e){if(!l(e))return!1;var t=u(e);return!0===t?g(p(this,n)).has(e):t&&d(t,this._i)}}),o},def:function(e,t,n){var r=u(i(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,n){"use strict";var r=n(221),i=n(217),o="WeakSet";n(218)(o,function(t){return function n(e){return t(this,0<arguments.length?e:undefined)}},{add:function a(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(8),i=n(224),o=n(225),l=n(12),c=n(39),f=n(37),a=n(13),s=n(4).ArrayBuffer,d=n(208),p=o.ArrayBuffer,h=o.DataView,u=i.ABV&&s.isView,g=p.prototype.slice,v=i.VIEW,m="ArrayBuffer";r(r.G+r.W+r.F*(s!==p),{ArrayBuffer:p}),r(r.S+r.F*!i.CONSTR,m,{isView:function y(e){return u&&u(e)||a(e)&&v in e}}),r(r.P+r.U+r.F*n(7)(function(){return!new p(2).slice(1,undefined).byteLength}),m,{slice:function _(e,t){if(g!==undefined&&t===undefined)return g.call(l(this),e);for(var n=l(this).byteLength,r=c(e,n),i=c(t===undefined?n:t,n),o=new(d(this,p))(f(i-r)),a=new h(this),s=new h(o),u=0;r<i;)s.setUint8(u++,a.getUint8(r++));return o}}),n(193)(m)},function(e,t,n){for(var r,i=n(4),o=n(10),a=n(19),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,d=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<d;)(r=i[p[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?H(2,-24)-H(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=U(e))!=e||e===F?(i=e!=e?1:0,r=u):(r=V(z(e)/q),e*(o=H(2,-r))<1&&(r--,o*=2),2<=(e+=1<=r+l?c/o:c*H(2,1-l))*o&&(r++,o/=2),u<=r+l?(i=0,r=u):1<=r+l?(i=(e*o-1)*H(2,t),r+=l):(i=e*H(2,l-1)*H(2,t),r=0));8<=t;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;0<s;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function i(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;0<s;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;0<s;r=256*r+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-F:F;r+=H(2,t),c-=a}return(l?-1:1)*r*H(2,c-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return r(e,52,8)}function c(e){return r(e,23,4)}function f(e,t,n){C(e[k],t,{get:function(){return this[n]}})}function d(e,t,n,r){var i=S(+n);if(i+t>e[Q])throw j(R);var o=e[W]._b,a=i+e[X],s=o.slice(a,a+t);return r?s:s.reverse()}function p(e,t,n,r,i,o){var a=S(+n);if(a+t>e[Q])throw j(R);for(var s=e[W]._b,u=a+e[X],l=r(+i),c=0;c<t;c++)s[u+c]=l[o?c:t-c-1]}var h=n(4),g=n(6),v=n(28),m=n(224),y=n(10),_=n(214),b=n(7),T=n(206),w=n(38),E=n(37),S=n(226),P=n(49).f,C=n(11).f,I=n(189),x=n(24),A="ArrayBuffer",O="DataView",k="prototype",M="Wrong length!",R="Wrong index!",D=h[A],N=h[O],L=h.Math,j=h.RangeError,F=h.Infinity,B=D,U=L.abs,H=L.pow,V=L.floor,z=L.log,q=L.LN2,G="buffer",K="byteLength",Y="byteOffset",W=g?"_b":G,Q=g?"_l":K,X=g?"_o":Y;if(m.ABV){if(!b(function(){D(1)})||!b(function(){new D(-1)})||b(function(){return new D,new D(1.5),new D(NaN),D.name!=A})){for(var $,J=(D=function re(e){return T(this,D),new B(S(e))})[k]=B[k],Z=P(B),ee=0;Z.length>ee;)($=Z[ee++])in D||y(D,$,B[$]);v||(J.constructor=D)}var te=new N(new D(2)),ne=N[k].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||_(N[k],{setInt8:function ie(e,t){ne.call(this,e,t<<24>>24)},setUint8:function oe(e,t){ne.call(this,e,t<<24>>24)}},!0)}else D=function ae(e){T(this,D,A);var t=S(e);this._b=I.call(new Array(t),0),this[Q]=t},N=function se(e,t,n){T(this,N,O),T(e,D,O);var r=e[Q],i=w(t);if(i<0||r<i)throw j("Wrong offset!");if(r<i+(n=n===undefined?r-i:E(n)))throw j(M);this[W]=e,this[X]=i,this[Q]=n},g&&(f(D,K,"_l"),f(N,G,"_b"),f(N,K,"_l"),f(N,Y,"_o")),_(N[k],{getInt8:function ue(e){return d(this,1,e)[0]<<24>>24},getUint8:function le(e){return d(this,1,e)[0]},getInt16:function ce(e,t){var n=d(this,2,e,t);return(n[1]<<8|n[0])<<16>>16},getUint16:function fe(e,t){var n=d(this,2,e,t);return n[1]<<8|n[0]},getInt32:function de(e,t){return o(d(this,4,e,t))},getUint32:function pe(e,t){return o(d(this,4,e,t))>>>0},getFloat32:function he(e,t){return i(d(this,4,e,t),23,4)},getFloat64:function ge(e,t){return i(d(this,8,e,t),52,8)},setInt8:function ie(e,t){p(this,1,e,a,t)},setUint8:function oe(e,t){p(this,1,e,a,t)},setInt16:function ve(e,t,n){p(this,2,e,s,t,n)},setUint16:function me(e,t,n){p(this,2,e,s,t,n)},setInt32:function ye(e,t,n){p(this,4,e,u,t,n)},setUint32:function _e(e,t,n){p(this,4,e,u,t,n)},setFloat32:function be(e,t,n){p(this,4,e,c,t,n)},setFloat64:function Te(e,t,n){p(this,8,e,l,t,n)}});x(D,A),x(N,O),y(N[k],m.VIEW,!0),t[A]=D,t[O]=N},function(e,t,n){var r=n(38),i=n(37);e.exports=function(e){if(e===undefined)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(8);r(r.G+r.W+r.F*!n(224).ABV,{DataView:n(225).DataView})},function(e,t,n){n(229)("Int8",1,function(r){return function i(e,t,n){return r(this,e,t,n)}})},function(e,t,n){"use strict";if(n(6)){var _=n(28),b=n(4),T=n(7),w=n(8),E=n(224),r=n(225),h=n(20),S=n(206),i=n(17),P=n(10),o=n(214),a=n(38),C=n(37),I=n(226),s=n(39),u=n(16),l=n(5),x=n(74),A=n(13),g=n(57),v=n(163),O=n(45),k=n(58),M=n(49).f,m=n(165),c=n(19),f=n(25),d=n(173),p=n(36),y=n(208),R=n(194),D=n(129),N=n(166),L=n(193),j=n(189),F=n(186),B=n(11),U=n(50),H=B.f,V=U.f,z=b.RangeError,q=b.TypeError,G=b.Uint8Array,
K="ArrayBuffer",Y="Shared"+K,W="BYTES_PER_ELEMENT",Q="prototype",X=Array[Q],$=r.ArrayBuffer,J=r.DataView,Z=d(0),ee=d(2),te=d(3),ne=d(4),re=d(5),ie=d(6),oe=p(!0),ae=p(!1),se=R.values,ue=R.keys,le=R.entries,ce=X.lastIndexOf,fe=X.reduce,de=X.reduceRight,pe=X.join,he=X.sort,ge=X.slice,ve=X.toString,me=X.toLocaleString,ye=f("iterator"),_e=f("toStringTag"),be=c("typed_constructor"),Te=c("def_constructor"),we=E.CONSTR,Ee=E.TYPED,Se=E.VIEW,Pe="Wrong length!",Ce=d(1,function(e,t){return ke(y(e,e[Te]),t)}),Ie=T(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),xe=!!G&&!!G[Q].set&&T(function(){new G(1).set({})}),Ae=function(e,t){var n=a(e);if(n<0||n%t)throw z("Wrong offset!");return n},Oe=function(e){if(A(e)&&Ee in e)return e;throw q(e+" is not a typed array!")},ke=function(e,t){if(!(A(e)&&be in e))throw q("It is not a typed array constructor!");return new e(t)},Me=function(e,t){return Re(y(e,e[Te]),t)},Re=function(e,t){for(var n=0,r=t.length,i=ke(e,r);n<r;)i[n]=t[n++];return i},De=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Ne=function Ye(e,t,n){var r,i,o,a,s,u,l=g(e),c=arguments.length,f=1<c?t:undefined,d=f!==undefined,p=m(l);if(p!=undefined&&!v(p)){for(u=p.call(l),o=[],r=0;!(s=u.next()).done;r++)o.push(s.value);l=o}for(d&&2<c&&(f=h(f,n,2)),r=0,i=C(l.length),a=ke(this,i);r<i;r++)a[r]=d?f(l[r],r):l[r];return a},Le=function We(){for(var e=0,t=arguments.length,n=ke(this,t);e<t;)n[e]=arguments[e++];return n},je=!!G&&T(function(){me.call(new G(1))}),Fe=function Qe(){return me.apply(je?ge.call(Oe(this)):Oe(this),arguments)},Be={copyWithin:function Xe(e,t,n){return F.call(Oe(this),e,t,2<arguments.length?n:undefined)},every:function $e(e,t){return ne(Oe(this),e,1<arguments.length?t:undefined)},fill:function Je(){return j.apply(Oe(this),arguments)},filter:function Ze(e,t){return Me(this,ee(Oe(this),e,1<arguments.length?t:undefined))},find:function et(e,t){return re(Oe(this),e,1<arguments.length?t:undefined)},findIndex:function tt(e,t){return ie(Oe(this),e,1<arguments.length?t:undefined)},forEach:function nt(e,t){Z(Oe(this),e,1<arguments.length?t:undefined)},indexOf:function rt(e,t){return ae(Oe(this),e,1<arguments.length?t:undefined)},includes:function it(e,t){return oe(Oe(this),e,1<arguments.length?t:undefined)},join:function ot(){return pe.apply(Oe(this),arguments)},lastIndexOf:function at(){return ce.apply(Oe(this),arguments)},map:function st(e,t){return Ce(Oe(this),e,1<arguments.length?t:undefined)},reduce:function ut(){return fe.apply(Oe(this),arguments)},reduceRight:function lt(){return de.apply(Oe(this),arguments)},reverse:function ct(){for(var e,t=this,n=Oe(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function ft(e,t){return te(Oe(this),e,1<arguments.length?t:undefined)},sort:function dt(e){return he.call(Oe(this),e)},subarray:function pt(e,t){var n=Oe(this),r=n.length,i=s(e,r);return new(y(n,n[Te]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,C((t===undefined?r:s(t,r))-i))}},Ue=function ht(e,t){return Me(this,ge.call(Oe(this),e,t))},He=function gt(e,t){Oe(this);var n=Ae(t,1),r=this.length,i=g(e),o=C(i.length),a=0;if(r<o+n)throw z(Pe);for(;a<o;)this[n+a]=i[a++]},Ve={entries:function vt(){return le.call(Oe(this))},keys:function mt(){return ue.call(Oe(this))},values:function yt(){return se.call(Oe(this))}},ze=function(e,t){return A(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function _t(e,t){return ze(e,t=u(t,!0))?i(2,e[t]):V(e,t)},Ge=function bt(e,t,n){return!(ze(e,t=u(t,!0))&&A(n)&&l(n,"value"))||l(n,"get")||l(n,"set")||n.configurable||l(n,"writable")&&!n.writable||l(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};we||(U.f=qe,B.f=Ge),w(w.S+w.F*!we,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Ge}),T(function(){ve.call({})})&&(ve=me=function Tt(){return pe.call(this)});var Ke=o({},Be);o(Ke,Ve),P(Ke,ye,Ve.values),o(Ke,{slice:Ue,set:He,constructor:function(){},toString:ve,toLocaleString:Fe}),De(Ke,"buffer","b"),De(Ke,"byteOffset","o"),De(Ke,"byteLength","l"),De(Ke,"length","e"),H(Ke,_e,{get:function(){return this[Ee]}}),e.exports=function(e,f,t,i){var d=e+((i=!!i)?"Clamped":"")+"Array",r="get"+e,o="set"+e,p=b[d],a=p||{},n=p&&k(p),s=!p||!E.ABV,u={},l=p&&p[Q],c=function(e,t){var n=e._d;return n.v[r](t*f+n.o,Ie)},h=function(e,t,n){var r=e._d;i&&(n=(n=Math.round(n))<0?0:255<n?255:255&n),r.v[o](t*f+r.o,n,Ie)},g=function(e,t){H(e,t,{get:function(){return c(this,t)},set:function(e){return h(this,t,e)},enumerable:!0})};s?(p=t(function(e,t,n,r){S(e,p,d,"_d");var i,o,a,s,u=0,l=0;if(A(t)){if(!(t instanceof $||(s=x(t))==K||s==Y))return Ee in t?Re(p,t):Ne.call(p,t);i=t,l=Ae(n,f);var c=t.byteLength;if(r===undefined){if(c%f)throw z(Pe);if((o=c-l)<0)throw z(Pe)}else if(c<(o=C(r)*f)+l)throw z(Pe);a=o/f}else a=I(t),i=new $(o=a*f);for(P(e,"_d",{b:i,o:l,l:o,e:a,v:new J(i)});u<a;)g(e,u++)}),l=p[Q]=O(Ke),P(l,"constructor",p)):T(function(){p(1)})&&T(function(){new p(-1)})&&N(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=t(function(e,t,n,r){var i;return S(e,p,d),A(t)?t instanceof $||(i=x(t))==K||i==Y?r!==undefined?new a(t,Ae(n,f),r):n!==undefined?new a(t,Ae(n,f)):new a(t):Ee in t?Re(p,t):Ne.call(p,t):new a(I(t))}),Z(n!==Function.prototype?M(a).concat(M(n)):M(a),function(e){e in p||P(p,e,a[e])}),p[Q]=l,_||(l.constructor=p));var v=l[ye],m=!!v&&("values"==v.name||v.name==undefined),y=Ve.values;P(p,be,!0),P(l,Ee,d),P(l,Se,!0),P(l,Te,p),(i?new p(1)[_e]==d:_e in l)||H(l,_e,{get:function(){return d}}),u[d]=p,w(w.G+w.W+w.F*(p!=a),u),w(w.S,d,{BYTES_PER_ELEMENT:f}),w(w.S+w.F*T(function(){a.of.call(p,1)}),d,{from:Ne,of:Le}),W in l||P(l,W,f),w(w.P,d,Be),L(d),w(w.P+w.F*xe,d,{set:He}),w(w.P+w.F*!m,d,Ve),_||l.toString==ve||(l.toString=ve),w(w.P+w.F*T(function(){new p(1).slice()}),d,{slice:Ue}),w(w.P+w.F*(T(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!T(function(){l.toLocaleString.call([1,2])})),d,{toLocaleString:Fe}),D[d]=m?v:y,_||m||P(l,ye,y)}}else e.exports=function(){}},function(e,t,n){n(229)("Uint8",1,function(r){return function i(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(229)("Uint8",1,function(r){return function i(e,t,n){return r(this,e,t,n)}},!0)},function(e,t,n){n(229)("Int16",2,function(r){return function i(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(229)("Uint16",2,function(r){return function i(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(229)("Int32",4,function(r){return function i(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(229)("Uint32",4,function(r){return function i(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(229)("Float32",4,function(r){return function i(e,t,n){return r(this,e,t,n)}})},function(e,t,n){n(229)("Float64",8,function(r){return function i(e,t,n){return r(this,e,t,n)}})},function(e,t,n){var r=n(8),o=n(21),a=n(12),s=(n(4).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!n(7)(function(){s(function(){})}),"Reflect",{apply:function l(e,t,n){var r=o(e),i=a(n);return s?s(r,t,i):u.call(r,t,i)}})},function(e,t,n){var r=n(8),u=n(45),l=n(21),c=n(12),f=n(13),i=n(7),d=n(76),p=(n(4).Reflect||{}).construct,h=i(function(){function e(){}return!(p(function(){},[],e)instanceof e)}),g=!i(function(){p(function(){})});r(r.S+r.F*(h||g),"Reflect",{construct:function v(e,t,n){l(e),c(t);var r=arguments.length<3?e:l(n);if(g&&!h)return p(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(d.apply(e,i))}var o=r.prototype,a=u(f(o)?o:Object.prototype),s=Function.apply.call(e,a,t);return f(s)?s:a}})},function(e,t,n){var i=n(11),r=n(8),o=n(12),a=n(16);r(r.S+r.F*n(7)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function s(e,t,n){o(e),t=a(t,!0),o(n);try{return i.f(e,t,n),!0}catch(r){return!1}}})},function(e,t,n){var r=n(8),i=n(50).f,o=n(12);r(r.S,"Reflect",{deleteProperty:function a(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(8),i=n(12),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(130)(o,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:undefined,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function a(e){return new o(e)}})},function(e,t,n){function a(e,t,n){var r,i,o=arguments.length<3?e:n;return f(e)===o?e[t]:(r=s.f(e,t))?l(r,"value")?r.value:r.get!==undefined?r.get.call(o):undefined:c(i=u(e))?a(i,t,o):void 0}var s=n(50),u=n(58),l=n(5),r=n(8),c=n(13),f=n(12);r(r.S,"Reflect",{get:a})},function(e,t,n){var r=n(50),i=n(8),o=n(12);i(i.S,"Reflect",{getOwnPropertyDescriptor:function a(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(8),i=n(58),o=n(12);r(r.S,"Reflect",{getPrototypeOf:function a(e){return i(o(e))}})},function(e,t,n){var r=n(8);r(r.S,"Reflect",{has:function i(e,t){return t in e}})},function(e,t,n){var r=n(8),i=n(12),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function a(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(8);r(r.S,"Reflect",{ownKeys:n(249)})},function(e,t,n){var r=n(49),i=n(42),o=n(12),a=n(4).Reflect;e.exports=a&&a.ownKeys||function s(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(8),i=n(12),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function a(e){i(e);try{return o&&o(e),!0}catch(t){return!1}}})},function(e,t,n){function u(e,t,n,r){var i,o,a=arguments.length<4?e:r,s=c.f(h(e),t);if(!s){if(g(o=f(e)))return u(o,t,n,a);s=p(0)}return d(s,"value")?!(!1===s.writable||!g(a))&&((i=c.f(a,t)||p(0)).value=n,l.f(a,t,i),!0):s.set!==undefined&&(s.set.call(a,n),!0)}var l=n(11),c=n(50),f=n(58),d=n(5),r=n(8),p=n(17),h=n(12),g=n(13);r(r.S,"Reflect",{set:u})},function(e,t,n){var r=n(8),i=n(72);i&&r(r.S,"Reflect",{setPrototypeOf:function o(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(n){return!1}}})},function(e,t,n){"use strict";var r=n(8),i=n(36)(!0);r(r.P,"Array",{includes:function o(e,t){return i(this,e,1<arguments.length?t:undefined)}}),n(187)("includes")},function(e,t,n){"use strict";var r=n(8),o=n(255),a=n(57),s=n(37),u=n(21),l=n(174);r(r.P,"Array",{flatMap:function c(e,t){var n,r,i=a(this);return u(e),n=s(i.length),r=l(i,0),o(r,i,i,n,0,1,e,t),r}}),n(187)("flatMap")},function(e,t,n){"use strict";function p(e,t,n,r,i,o,a,s){for(var u,l,c=i,f=0,d=!!a&&m(a,s,3);f<r;){if(f in n){if(u=d?d(n[f],f,t):n[f],l=!1,g(u)&&(l=(l=u[y])!==undefined?!!l:h(u)),l&&0<o)c=p(e,t,u,v(u.length),c,o-1)-1;else{if(9007199254740991<=c)throw TypeError();e[c]=u}c++}f++}return c}var h=n(44),g=n(13),v=n(37),m=n(20),y=n(25)("isConcatSpreadable");e.exports=p},function(e,t,n){"use strict";var r=n(8),o=n(255),a=n(57),s=n(37),u=n(38),l=n(174);r(r.P,"Array",{flatten:function c(e){var t=e,n=a(this),r=s(n.length),i=l(n,0);return o(i,n,n,r,0,t===undefined?1:u(t)),i}}),n(187)("flatten")},function(e,t,n){"use strict";var r=n(8),i=n(127)(!0);r(r.P,"String",{at:function o(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(8),i=n(259),o=n(260);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function a(e,t){return i(this,e,1<arguments.length?t:undefined,!0)}})},function(e,t,n){var c=n(37),f=n(90),d=n(35);e.exports=function(e,t,n,r){var i=String(d(e)),o=i.length,a=n===undefined?" ":String(n),s=c(t);if(s<=o||""==a)return i;var u=s-o,l=f.call(a,Math.ceil(u/a.length));return l.length>u&&(l=l.slice(0,u)),r?l+i:i+l}},function(e,t,n){var r=n(4).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(8),i=n(259),o=n(260);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function a(e,t){return i(this,e,1<arguments.length?t:undefined,!1)}})},function(e,t,n){"use strict";n(82)("trimLeft",function(e){return function t(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(82)("trimRight",function(e){return function t(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(8),i=n(35),o=n(37),a=n(134),s=n(197),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(130)(l,"RegExp String",function c(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function f(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},function(e,t,n){n(27)("asyncIterator")},function(e,t,n){n(27)("observable")},function(e,t,n){var r=n(8),u=n(249),l=n(32),c=n(50),f=n(164);r(r.S,"Object",{getOwnPropertyDescriptors:function d(e){for(var t,n,r=l(e),i=c.f,o=u(r),a={},s=0;o.length>s;)(n=i(r,t=o[s++]))!==undefined&&f(a,t,n);return a}})},function(e,t,n){var r=n(8),i=n(269)(!1);r(r.S,"Object",{values:function o(e){return i(e)}})},function(e,t,n){var u=n(30),l=n(32),c=n(43).f;e.exports=function(s){return function(e){for(var t,n=l(e),r=u(n),i=r.length,o=0,a=[];o<i;)c.call(n,t=r[o++])&&a.push(s?[t,n[t]]:n[t]);return a}}},function(e,t,n){var r=n(8),i=n(269)(!0);r(r.S,"Object",{entries:function o(e){return i(e)}})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(21),a=n(11);n(6)&&r(r.P+n(272),"Object",{__defineGetter__:function s(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";e.exports=n(28)||!n(7)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(4)[e]})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(21),a=n(11);n(6)&&r(r.P+n(272),"Object",{__defineSetter__:function s(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(16),a=n(58),s=n(50).f;n(6)&&r(r.P+n(272),"Object",{__lookupGetter__:function u(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(16),a=n(58),s=n(50).f;n(6)&&r(r.P+n(272),"Object",{__lookupSetter__:function u(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(8);r(r.P+r.R,"Map",{toJSON:n(277)("Map")})},function(e,t,n){var r=n(74),i=n(278);e.exports=function(e){return function t(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(207);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){var r=n(8);r(r.P+r.R,"Set",{toJSON:n(277)("Set")})},function(e,t,n){n(281)("Map")},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){r(r.S,e,{of:function n(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(281)("Set")},function(e,t,n){n(281)("WeakMap")},function(e,t,n){n(281)("WeakSet")},function(e,t,n){n(286)("Map")},function(e,t,n){"use strict";var r=n(8),l=n(21),c=n(20),f=n(207);e.exports=function(e){r(r.S,e,{from:function u(e,t,n){var r,i,o,a,s=t;return l(this),(r=s!==undefined)&&l(s),e==undefined?new this:(i=[],r?(o=0,a=c(s,n,2),f(e,!1,function(e){i.push(a(e,o++))})):f(e,!1,i.push,i),new this(i))}})}},function(e,t,n){n(286)("Set")},function(e,t,n){n(286)("WeakMap")},function(e,t,n){n(286)("WeakSet")},function(e,t,n){var r=n(8);r(r.G,{global:n(4)})},function(e,t,n){var r=n(8);r(r.S,"System",{global:n(4)})},function(e,t,n){var r=n(8),i=n(34);r(r.S,"Error",{isError:function o(e){return"Error"===i(e)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{clamp:function i(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(8);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(8),i=180/Math.PI;r(r.S,"Math",{degrees:function o(e){return e*i}})},function(e,t,n){var r=n(8),o=n(297),a=n(113);r(r.S,"Math",{fscale:function s(e,t,n,r,i){return a(o(e,t,n,r,i))}})},function(e){e.exports=Math.scale||function o(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===Infinity||e===-Infinity?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){var r=n(8);r(r.S,"Math",{iaddh:function a(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(8);r(r.S,"Math",{isubh:function a(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(8);r(r.S,"Math",{imulh:function c(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,u=i>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>16)+((o*u>>>0)+(l&n)>>16)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(8),i=Math.PI/180;r(r.S,"Math",{radians:function o(e){return e*i}})},function(e,t,n){var r=n(8);r(r.S,"Math",{scale:n(297)})},function(e,t,n){var r=n(8);r(r.S,"Math",{umulh:function c(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,u=i>>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>>16)+((o*u>>>0)+(l&n)>>>16)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{signbit:function i(e){return(e=+e)!=e?e:0==e?1/e==Infinity:0<e}})},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(4),a=n(208),s=n(213);r(r.P+r.R,"Promise",{"finally":function(t){var n=a(this,i.Promise||o.Promise),e="function"==typeof t;return this.then(e?function(e){return s(n,t()).then(function(){return e})}:t,e?function(e){return s(n,t()).then(function(){throw e})}:t)}})},function(e,t,n){"use strict";var r=n(8),i=n(211),o=n(212);r(r.S,"Promise",{"try":function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(309),i=n(12),o=r.key,a=r.set;r.exp({defineMetadata:function s(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var o=n(215),r=n(8),i=n(23)("metadata"),a=i.store||(i.store=new(n(220))),s=function(e,t,n){var r=a.get(e);if(!r){if(!n)return undefined;a.set(e,r=new o)}var i=r.get(t);if(!i){if(!n)return undefined;r.set(t,i=new o)}return i},u=function(e,t,n){var r=s(t,n,!1);return r!==undefined&&r.has(e)},l=function(e,t,n){var r=s(t,n,!1);return r===undefined?undefined:r.get(e)},c=function(e,t,n,r){s(n,r,!0).set(e,t)},f=function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},d=function(e){return e===undefined||"symbol"==typeof e?e:String(e)},p=function(e){r(r.S,"Reflect",e)};e.exports={store:a,map:s,has:u,get:l,set:c,keys:f,key:d,exp:p}},function(e,t,n){var r=n(309),a=n(12),s=r.key,u=r.map,l=r.store;r.exp({deleteMetadata:function c(e,t,n){var r=arguments.length<3?undefined:s(n),i=u(a(t),r,!1);if(i===undefined||!i["delete"](e))return!1;if(i.size)return!0;var o=l.get(t);return o["delete"](r),!!o.size||l["delete"](t)}})},function(e,t,n){var r=n(309),i=n(12),o=n(58),a=r.has,s=r.get,u=r.key,l=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?l(e,r,n):undefined};r.exp({getMetadata:function c(e,t,n){return l(e,i(t),arguments.length<3?undefined:u(n))}})},function(e,t,n){var o=n(219),a=n(278),r=n(309),i=n(12),s=n(58),u=r.keys,l=r.key,c=function(e,t){var n=u(e,t),r=s(e);if(null===r)return n;var i=c(r,t);return i.length?n.length?a(new o(n.concat(i))):i:n};r.exp({getMetadataKeys:function f(e,t){return c(i(e),arguments.length<2?undefined:l(t))}})},function(e,t,n){var r=n(309),i=n(12),o=r.get,a=r.key;r.exp({getOwnMetadata:function s(e,t,n){return o(e,i(t),arguments.length<3?undefined:a(n))}})},function(e,t,n){var r=n(309),i=n(12),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function s(e,t){return o(i(e),arguments.length<2?undefined:a(t))}})},function(e,t,n){var r=n(309),i=n(12),o=n(58),a=r.has,s=r.key,u=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function l(e,t,n){return u(e,i(t),arguments.length<3?undefined:s(n))}})},function(e,t,n){var r=n(309),i=n(12),o=r.has,a=r.key;r.exp({hasOwnMetadata:function s(e,t,n){return o(e,i(t),arguments.length<3?undefined:a(n))}})},function(e,t,n){var r=n(309),o=n(12),a=n(21),s=r.key,u=r.set;r.exp({metadata:function l(n,r){return function i(e,t){u(n,r,(t!==undefined?o:a)(e),s(t))}}})},function(e,t,n){var r=n(8),i=n(210)(),o=n(4).process,a="process"==n(34)(o);r(r.G,{asap:function s(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(8),o=n(4),a=n(9),i=n(210)(),s=n(25)("observable"),u=n(21),l=n(12),c=n(206),f=n(214),d=n(10),p=n(207),h=p.RETURN,g=function(e){return null==e?undefined:u(e)},v=function(e){var t=e._c;t&&(e._c=undefined,t())},m=function(e){return e._o===undefined},y=function(e){m(e)||(e._o=undefined,v(e))},_=function(e,t){l(e),this._c=undefined,this._o=e,e=new b(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(i){return void e.error(i)}m(this)&&v(this)};_.prototype=f({},{unsubscribe:function w(){y(this)}});var b=function(e){this._s=e};b.prototype=f({},{next:function E(e){var t=this._s;if(!m(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(i){try{y(t)}finally{throw i}}}},error:function S(e){var t=this._s;if(m(t))throw e;var n=t._o;t._o=undefined;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(i){try{v(t)}finally{throw i}}return v(t),e},complete:function P(e){var t=this._s;if(!m(t)){var n=t._o;t._o=undefined;try{var r=g(n.complete);e=r?r.call(n,e):undefined}catch(i){try{v(t)}finally{throw i}}return v(t),e}}});var T=function C(e){c(this,T,"Observable","_f")._f=u(e)};f(T.prototype,{subscribe:function I(e){return new _(e,this._f)},forEach:function x(i){var t=this;return new(a.Promise||o.Promise)(function(e,n){u(i);var r=t.subscribe({next:function(e){try{return i(e)}catch(t){n(t),r.unsubscribe()}},error:n,complete:e})})}}),f(T,{from:function A(r){var e="function"==typeof this?this:T,t=g(l(r)[s]);if(t){var n=l(t.call(r));return n.constructor===e?n:new e(function(e){return n.subscribe(e)})}return new e(function(t){var n=!1;return i(function(){if(!n){try{if(p(r,!1,function(e){if(t.next(e),n)return h})===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function O(){for(var e=0,t=arguments.length,r=new Array(t);e<t;)r[e]=arguments[e++];return new("function"==typeof this?this:T)(function(t){var n=!1;return i(function(){if(!n){for(var e=0;e<r.length;++e)if(t.next(r[e]),n)return;t.complete()}}),function(){n=!0}})}}),d(T.prototype,s,function(){return this}),r(r.G,{Observable:T}),n(193)("Observable")},function(e,t,n){var r=n(4),i=n(8),o=n(260),a=[].slice,s=/MSIE .\./.test(o),u=function(i){return function(e,t){var n=2<arguments.length,r=!!n&&a.call(arguments,2);return i(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(8),i=n(209);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(194),i=n(30),o=n(18),a=n(4),s=n(10),u=n(129),l=n(25),c=l("iterator"),f=l("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),g=0;g<h.length;g++){var v,m=h[g],y=p[m],_=a[m],b=_&&_.prototype;if(b&&(b[c]||s(b,c,d),b[f]||s(b,f,m),u[m]=d,y))for(v in r)b[v]||o(b,v,r[v],!0)}},function(R,e){(function(e){!function(n){"use strict";function o(e,t,n,r){var i=t&&t.prototype instanceof s?t:s,o=Object.create(i.prototype),a=new d(r||[]);return o._invoke=u(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function s(){}function r(){}function t(){}function e(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function a(s){function u(e,t,n,r){var i=c(s[e],s,t);if("throw"!==i.type){var o=i.arg,a=o.value;return a&&"object"==typeof a&&m.call(a,"__await")?Promise.resolve(a.__await).then(function(e){u("next",e,n,r)},function(e){u("throw",e,n,r)}):Promise.resolve(a).then(function(e){o.value=e,n(o)},r)}r(i.arg)}function e(n,r){function e(){return new Promise(function(e,t){u(n,r,e,t)})}return t=t?t.then(e,e):e()}var t;"object"==typeof n.process&&n.process.domain&&(u=n.process.domain.bind(u)),this._invoke=e}function u(o,a,s){var u=S;return function l(e,t){if(u===C)throw new Error("Generator is already running");if(u===I){if("throw"===e)throw t;return h()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=f(n,s);if(r){if(r===x)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(u===S)throw u=I,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u=C;var i=c(o,a,s);if("normal"===i.type){if(u=s.done?I:P,i.arg===x)continue;return{value:i.arg,done:s.done}}"throw"===i.type&&(u=I,s.method="throw",s.arg=i.arg)}}}function f(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=g,f(e,t),"throw"===t.method))return x;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,x;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,x):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,x)}function i(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function l(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function d(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(i,this),this.reset(!0)}function p(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function r(){for(;++n<e.length;)if(m.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=g,r.done=!0,r};return r.next=r}}return{next:h}}function h(){return{value:g,done:!0}}var g,v=Object.prototype,m=v.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},_=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",T=y.toStringTag||"@@toStringTag",w="object"==typeof R,E=n.regeneratorRuntime;if(E)w&&(R.exports=E);else{(E=n.regeneratorRuntime=w?R.exports:{}).wrap=o;var S="suspendedStart",P="suspendedYield",C="executing",I="completed",x={},A={};A[_]=function(){return this};var O=Object.getPrototypeOf,k=O&&O(O(p([])));k&&k!==v&&m.call(k,_)&&(A=k);var M=t.prototype=s.prototype=Object.create(A);r.prototype=M.constructor=t,t.constructor=r,t[T]=r.displayName="GeneratorFunction",E.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===r||"GeneratorFunction"===(t.displayName||t.name))},E.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,t):(e.__proto__=t,T in e||(e[T]="GeneratorFunction")),e.prototype=Object.create(M),e},E.awrap=function(e){return{__await:e}},e(a.prototype),a.prototype[b]=function(){return this},E.AsyncIterator=a,E.async=function(e,t,n,r){var i=new a(o(e,t,n,r));return E.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},e(M),M[T]="Generator",M[_]=function(){return this},M.toString=function(){return"[object Generator]"},E.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},E.values=p,d.prototype={constructor:d,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(l),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=g),!!t}if(this.done)throw n;for(var r=this,t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=m.call(i,"catchLoc"),s=m.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,x):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),l(n),x}},"catch":function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;l(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),x}}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}())},function(e,t,n){n(325),e.exports=n(9).RegExp.escape},function(e,t,n){var r=n(8),i=n(326)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function o(e){return i(e)}})},function(e){e.exports=function(t,n){var r=n===Object(n)?function(e){return n[e]}:n;return function(e){return String(e).replace(t,r)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(328)),s=i(n(331)),u=i(n(488)),l=n(494),c=n(532),f=n(348),d=r(n(537)),p=r(n(539)),h=r(n(540)),g=r(n(451)),v=r(n(454)),m=r(n(334)),y=n(351),_=n(397),b=n(339),T=r(n(541)),w=n(571),E=r(n(577)),S=r(n(542));(0,w.register)(),E["default"].events&&E["default"].events.on("seed:loaded",function(){return(0,S["default"])(E["default"])}),e.exports={components:o({MediaPageBackground:l.PageBackground,PageWithInteractiveBackground:c.Page},s),actions:a,selectors:u,registerPageType:d["default"],registerPageTypeWithDefaultBackground:p["default"],registerWidgetType:h["default"],mediaReduxModule:l.reduxModule,mediaPageBackgroundReduxModule:l.pageBackgroundReduxModule,pageWithInteractiveBackgroundReduxModule:c.reduxModule,iconMapping:g["default"],SvgIcon:v["default"],classNames:m["default"],connect:_.connect,connectInPage:f.connectInPage,combineReducers:y.combineReducers,combine:b.combine,ServerSidePage:T["default"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSetting=t.updatePageLink=t.updatePageAttribute=undefined;var r=n(329),i=n(330);t.updatePageAttribute=r.updatePageAttribute,t.updatePageLink=r.updatePageLink,t.updateSetting=i.update},function(e,t){"use strict";function n(e){var t=e.id,n=e.position;return g(m,t,{position:n})}function r(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(v,t)}function i(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(_,t)}function o(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(y,t)}function a(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(b,t)}function s(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(T,t)}function u(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(w,t)}function l(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(E,t)}function c(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(S,t)}function f(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(P,t)}function d(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return g(C,t)}function p(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=t.id,r=t.name,
i=t.value;return g(I,n,{name:r,value:i})}function h(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=t.pageId,r=t.linkId,i=t.name,o=t.value;return g(x,n,{linkId:r,name:i,value:o})}function g(e,t,n){return{type:e,meta:{collectionName:"pages",itemId:t},payload:2<arguments.length&&n!==undefined?arguments[2]:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageWillActivate=n,t.pageDidActivate=r,t.pageWillDeactivate=i,t.pageDidDeactivate=o,t.pageDidPreload=a,t.pageDidPrepare=s,t.pageScheduleUnprepare=u,t.pageDidUnprepare=l,t.pageDidResize=c,t.enhance=f,t.cleanup=d,t.updatePageAttribute=p,t.updatePageLink=h,t.pageAction=g;var v=t.PAGE_DID_ACTIVATE="PAGE_DID_ACTIVATE",m=t.PAGE_WILL_ACTIVATE="PAGE_WILL_ACTIVATE",y=t.PAGE_DID_DEACTIVATE="PAGE_DID_DEACTIVATE",_=t.PAGE_WILL_DEACTIVATE="PAGE_WILL_DEACTIVATE",b=t.PAGE_DID_PRELOAD="PAGE_DID_PRELOAD",T=t.PAGE_DID_PREPARE="PAGE_DID_PREPARE",w=t.PAGE_SCHEDULE_UNPREPARE="PAGE_SCHEDULE_UNPREPARE",E=t.PAGE_DID_UNPREPARE="PAGE_DID_UNPREPARE",S=t.PAGE_DID_RESIZE="PAGE_DID_RESIZE",P=t.ENHANCE="PAGE_ENHANCE",C=t.CLEANUP="PAGE_CLEANUP",I=t.UPDATE_PAGE_ATTRIBUTE="UPDATE_PAGE_ATTRIBUTE",x=t.UPDATE_PAGE_LINK="UPDATE_PAGE_LINK"},function(e,t){"use strict";function n(e){var t=e.settings;return{type:i,payload:{settings:t}}}function r(e){var t=e.property,n=e.value;return{type:o,payload:{property:t,value:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n,t.update=r;var i=t.LOAD="SETTINGS_LOAD",o=t.UPDATE="SETTINGS_UPDATE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Measure=t.Draggable=t.withVisibilityWatching=t.editorOnly=t.Icon=t.MenuBar=t.CloseButton=t.PlayerControls=t.LazyLoadedPageThumbnail=t.PageThumbnail=t.PageLink=t.PageText=t.PageHeader=t.PageScroller=t.PageContent=t.PageForeground=t.PageShadow=t.PageBackgroundImage=t.PageBackground=t.PageWrapper=undefined;var i=r(n(332)),o=r(n(335)),a=r(n(336)),s=r(n(431)),u=r(n(432)),l=r(n(433)),c=r(n(434)),f=r(n(436)),d=r(n(437)),p=r(n(438)),h=r(n(440)),g=r(n(445)),v=r(n(446)),m=r(n(485)),y=r(n(480)),_=r(n(450)),b=r(n(487)),T=r(n(484)),w=r(n(467)),E=r(n(468));t.PageWrapper=i["default"],t.PageBackground=o["default"],t.PageBackgroundImage=a["default"],t.PageShadow=s["default"],t.PageForeground=l["default"],t.PageContent=u["default"],t.PageScroller=c["default"],t.PageHeader=f["default"],t.PageText=d["default"],t.PageLink=p["default"],t.PageThumbnail=h["default"],t.LazyLoadedPageThumbnail=g["default"],t.PlayerControls=v["default"],t.CloseButton=m["default"],t.MenuBar=y["default"],t.Icon=_["default"],t.editorOnly=b["default"],t.withVisibilityWatching=T["default"],t.Draggable=w["default"],t.Measure=E["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=n(333),l=r(n(334)),c=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u.Component),s(e,[{key:"render",value:function t(){return React.createElement("div",{className:(0,l["default"])("content_and_background",this.props.className)},this.props.children)}}]),e}();t["default"]=c},function(e){e.exports=React},function(e,t){var n,r;!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(o.apply(null,n));else if("object"===r)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=o:(n=[],(r=function(){return o}.apply(t,n))===undefined||(e.exports=r))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},e.children)}function o(e){var t=e.pageHasPlayerControls;return(0,a["default"])("backgroundArea page_background",{"page_background-for_page_with_player_controls":t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=r(n(334));i.propTypes={pageHasPlayerControls:React.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=r(n(333)),l=r(n(337)),c=n(339),f=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"render",value:function n(){var e=this.props.page,t=c.camelize.concat(this.props.propertyNamePrefix,this.props.propertyBaseName);return u["default"].createElement(l["default"],{fileId:e[t+"Id"],fileCollection:this.props.fileCollection,position:[e[t+"X"],e[t+"Y"]],className:"background background_image"})}}]),e}();(t["default"]=f).propTypes={page:u["default"].PropTypes.object.isRequired,propertyBaseName:u["default"].PropTypes.string,fileCollection:u["default"].PropTypes.string},f.defaultProps={propertyBaseName:"backgroundImage"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(338)),o=n(348),a=n(375),s=n(339);t["default"]=(0,o.connectInPage)((0,s.combineSelectors)({loaded:(0,a.pageIsPreloaded)()}))(i["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),f=r(n(333)),d=r(n(334)),p=n(339),i=function(){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,f["default"].Component),c(e,[{key:"render",value:function r(){var t=this;return f["default"].createElement("div",{className:this.cssClass(),style:this.style(),ref:function n(e){return t.element=e}})}},{key:"componentDidUpdate",value:function t(e){this.props.loaded&&!e.loaded&&(0,p.preloadBackgroundImage)(this.element)}},{key:"cssClass",value:function n(){return(0,d["default"])(this.props.className,this.props.loaded?"load_image":null,this.imageCssClass())}},{key:"imageCssClass",value:function i(){return["imageFiles"==this.props.fileCollection?"image":"video_poster",this.props.fileId||"none"].join("_")}},{key:"style",value:function o(){return{backgroundPosition:this.positionCoordinate(0)+"% "+this.positionCoordinate(1)+"%"}}},{key:"positionCoordinate",value:function a(e){var t=this.props.position[e];return void 0===t?50:t}}]),e}();(t["default"]=i).propTypes={fileId:f["default"].PropTypes.number,fileCollection:f["default"].PropTypes.oneOf(["imageFiles","videoFiles"]),position:f["default"].PropTypes.arrayOf(f["default"].PropTypes.number),className:f["default"].PropTypes.string,loaded:f["default"].PropTypes.bool},i.defaultProps={position:[50,50],fileCollection:"imageFiles"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preloadBackgroundImage=t.has=t.memoizedSelector=t.combineSelectors=t.combine=t.isBlank=t.camelize=undefined;var i=r(n(340)),o=r(n(342)),a=r(n(343)),s=n(344),u=r(s),l=r(n(346)),c=r(n(347));t.camelize=o["default"],t.isBlank=i["default"],t.combine=a["default"],t.combineSelectors=s.combine,t.memoizedSelector=u["default"],t.has=l["default"],t.preloadBackgroundImage=c["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return!!(0,o["default"])(e).match(/^\s*$/)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(341))},function(e,t){var n,r,i;r=[],(i="function"==typeof(n=function(){function e(e,o,a){function t(e){u==h?c+=e:o&&u==g&&(f+=e)}function n(){var e,t,n,r="",i=!1;e:for(e=0,t=f.length;e<t;e++)switch(n=f[e].toLowerCase()){case"<":break;case">":break e;case"/":i=!0;break;default:if(n.match(y)){if(i)break e}else i=!0,r+=n}-1!==o.indexOf(r)?c+=f:a&&(c+=a),f=""}e=e||"";var r,i,s,u=h,l=0,c="",f="",d=!1;for("string"==typeof o?o=p(o):Array.isArray(o)||(o=null),r=0,i=e.length;r<i;r++)switch(s=e[r]){case"<":if(d)break;if(" "==e[r+1]){t(s);break}if(u==h){u=g,t(s);break}if(u==g){l++;break}t(s);break;case">":if(l){l--;break}if(d)break;if(u==g){d=u=0,o&&(f+=">",n());break}if(u==v){d=u=0,f="";break}if(u==m&&"-"==e[r-1]&&"-"==e[r-2]){d=u=0,f="";break}t(s);break;case'"':case"'":u==g&&(d==s?d=!1:d||(d=s)),t(s);break;case"!":if(u==g&&"<"==e[r-1]){u=v;break}t(s);break;case"-":if(u==v&&"-"==e[r-1]&&"!"==e[r-2]){u=m;break}t(s);break;case"E":case"e":if(u==v&&"doctype"==e.substr(r-6,7).toLowerCase()){u=g;break}t(s);break;default:t(s)}return c}function p(e){for(var t,n=[];null!==(t=r.exec(e));)n.push(t[1]);return 0!==n.length?n:null}var h=0,g=1,v=2,m=3,y=/\s/,r=/<(\w*)>/g;return e})?n.apply(t,r):n)===undefined||(e.exports=i)},function(e,t){"use strict";function r(e){return e.replace(/_[a-z]/g,function(e){return e[1].toUpperCase()})}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.keys=function(n){return Object.keys(n).reduce(function(e,t){return e[r(t)]=n[t],e},{})},r.deep=function(n){return Array.isArray(n)?n.map(r.deep):"object"===(void 0===n?"undefined":i(n))&&n?Object.keys(n).reduce(function(e,t){return e[r(t)]=r.deep(n[t]),e},{}):n},r.concat=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).reduce(function(e,t){return e+t[0].toUpperCase()+t.slice(1)})},t["default"]=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(r){return function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return Object.keys(r).reduce(function(e,t){return"function"==typeof r[t]?e[t]=r[t].apply(r,n):e[t]=r[t],e},{})}}},function(e,t,n){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(){for(var e=arguments.length,o=Array(e),t=0;t<e;t++)o[t]=arguments[t];return l(function a(e,t){var n=o.slice(0,-1).map(u),r=o.slice(-1)[0],i=c.createSelector.apply(undefined,s(n).concat([r]));if(e===d)return i;if(e)return i(e,t);throw"Missing state argument for selector."})}function i(e){return l(function t(){return(0,c.createStructuredSelector)(o(a(e)))})}function o(n){return Object.keys(n).reduce(function(e,t){return e[t]=u(n[t]),e},{})}function a(n){return Object.keys(n).reduce(function(e,t){return"function"==typeof n[t]?e[t]=n[t]:e[t]=function(){return n[t]},e},{})}function u(e){return"function"==typeof e&&e[f]?e(d):e}function l(e){return e[f]=!0,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,t.combine=i,t.unwrap=u;var c=n(345),f=Symbol("selectorFactory"),d=Symbol("createSelector")},function(e,t){"use strict";function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){return e===t}function r(r,e){var i=arguments.length<=1||e===undefined?n:arguments[1],o=null,a=null;return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return null!==o&&o.length===t.length&&t.every(function(e,t){return i(e,o[t])})||(a=r.apply(undefined,t)),o=t,a}}function f(e){var t=Array.isArray(e[0])?e[0]:e;if(t.every(function(e){return"function"==typeof e}))return t;var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}function i(o){for(var e=arguments.length,l=Array(1<e?e-1:0),t=1;t<e;t++)l[t-1]=arguments[t];return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=0,i=t.pop(),a=f(t),s=o.apply(undefined,[function(){return r++,i.apply(undefined,arguments)}].concat(l)),u=function u(t,n){for(var e=arguments.length,r=Array(2<e?e-2:0),i=2;i<e;i++)r[i-2]=arguments[i];var o=a.map(function(e){return e.apply(undefined,[t,n].concat(r))});return s.apply(undefined,c(o))};return u.resultFunc=i,u.recomputations=function(){return r},u.resetRecomputations=function(){return r=0},u}}function o(t,e){var n=arguments.length<=1||e===undefined?a:arguments[1];if("object"!=typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var r=Object.keys(t);return n(r.map(function(e){return t[e]}),function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t,n){return e[r[n]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=r,t.createSelectorCreator=i,t.createStructuredSelector=o;var a=t.createSelector=i(r)},function(e,t){"use strict";function n(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:pageflow.browser;return n&&n.has(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){var t=window.getComputedStyle(e).getPropertyValue("background-image");t.match(/^url/)&&((new Image).src=t.replace(/^url\(['"]?/,"").replace(/['"]?\)$/,""))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return(0,u["default"])((0,s["default"])(e),e.mixin||{})}Object.defineProperty(t,"__esModule",{value:!0}),t.connectInPage=undefined,t.createPageType=i;var o=r(n(349)),a=r(n(374)),s=r(n(427)),u=r(n(430)),l=n(381),c=n(376);t["default"]={init:function f(e){var t=e.pages,n=e.dispatch;(0,c.watch)({collection:t,collectionName:"pages",dispatch:n,idAttribute:"perma_id",attributes:["perma_id",{type:"template"},"chapter_id"],includeConfiguration:!0})},createReducers:function d(e){var t=e.pageTypes,n=(t===undefined?[]:t).reduce(function(e,t){var n=t.name,r=t.reducer;return e[n]=r,e},{});return{pages:(0,c.createReducer)("pages",{idAttribute:"permaId",itemReducer:(0,o["default"])(n)})}},createMiddleware:l.createMiddleware,createSaga:function p(e){var t=e.pages,n=e.pageTypes,r=n===undefined?[]:n,i=e.middleware,o=r.reduce(function(e,t){var n=t.name,r=t.saga;return e[n]=r,e},{});return(0,c.createSaga)("pages",{itemSaga:(0,a["default"])({pages:t,pageTypeSagas:o}),middleware:i})}};t.connectInPage=(0,c.createItemScopeConnector)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(t){function o(e){return n[e]=n[e]||(0,l.combineReducers)({attributes:u["default"],state:(0,l.combineReducers)({custom:t[e]||function(e){return 0<arguments.length&&e!==undefined?arguments[0]:{}},common:s["default"]})}),n[e]}function a(e,t,n){return t&&t.type!==n.type?i({},e,{state:i({},e.state,{custom:undefined})}):e}var n={};return function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t,i=(0,u["default"])(n.attributes,r);return o(i.type)(a(n,n.attributes,i),r)}};var s=r(n(350)),u=r(n(372)),l=n(351)},function(e,t,n){"use strict";function r(e,t){var n=0<arguments.length&&e!==undefined&&arguments[0];switch(t.type){case u.PAGE_DID_PRELOAD:return!0;default:return n}}function i(e,t){var n=0<arguments.length&&e!==undefined&&arguments[0];switch(t.type){case u.PAGE_DID_PREPARE:case u.PAGE_WILL_ACTIVATE:return!0;case u.PAGE_DID_UNPREPARE:return!1;default:return n}}function o(e,t){var n=0<arguments.length&&e!==undefined&&arguments[0];switch(t.type){case u.PAGE_WILL_ACTIVATE:return!0;case u.PAGE_WILL_DEACTIVATE:return!1;default:return n}}function a(e,t){var n=0<arguments.length&&e!==undefined&&arguments[0];switch(t.type){case u.PAGE_DID_ACTIVATE:return!0;case u.PAGE_WILL_DEACTIVATE:return!1;default:return n}}function s(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:null,r=t;switch(r.type){case u.PAGE_WILL_ACTIVATE:return r.payload.position||"top";case u.PAGE_WILL_DEACTIVATE:return null;default:return n}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(329),l=n(351);t["default"]=(0,l.combineReducers)({isPreloaded:r,isPrepared:i,isActive:o,isActivated:a,initialScrollerPosition:s})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=undefined;var i=r(n(352)),o=r(n(367)),a=r(n(369)),s=r(n(370)),u=r(n(371));r(n(368));t.createStore=i["default"],t.combineReducers=o["default"],t.bindActionCreators=a["default"],t.applyMiddleware=s["default"],t.compose=u["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function g(e,t,n){function i(){p===d&&(p=d.slice())}function o(){return f}function a(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var n=!0;return i(),p.push(t),function r(){if(n){n=!1,i();var e=p.indexOf(t);p.splice(e,1)}}}function r(e){if(!(0,v["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,f=c(f,e)}finally{h=!1}for(var t=d=p,n=0;n<t.length;n++){(0,t[n])()}return e}function s(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,r({type:y.INIT})}function u(){var e,n=a;return(e={subscribe:function r(e){function t(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return t(),{unsubscribe:n(t)}}})[m["default"]]=function(){return this},e}var l;if("function"==typeof t&&void 0===n&&(n=t,t=undefined),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(g)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,f=t,d=[],p=d,h=!1;return r({type:y.INIT}),(l={dispatch:r,subscribe:a,getState:o,replaceReducer:s})[m["default"]]=u,l}t.__esModule=!0,t.ActionTypes=undefined,t["default"]=g;var v=r(n(353)),m=r(n(363)),y=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var i=n(354),o=n(360),a=n(362),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){function r(e){return null==e?e===undefined?u:s:l&&l in Object(e)?o(e):a(e)}var i=n(355),o=n(358),a=n(359),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:undefined;e.exports=r},function(e,t,n){var r=n(356).Symbol;e.exports=r},function(e,t,n){var r=n(357),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(n,e){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(e,function(){return this}())},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=undefined;var r=!0}catch(o){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(355),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:undefined;e.exports=r},function(e){function t(e){return n.call(e)}var n=Object.prototype.toString;e.exports=t},function(e,t,n){var r=n(361)(Object.getPrototypeOf,Object);e.exports=r},function(e){function t(t,n){return function(e){return t(n(e))}}e.exports=t},function(e){function t(e){return null!=e&&"object"==typeof e}e.exports=t},function(e,t,n){e.exports=n(364)},function(e,a,s){(function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var r,i=n(s(366));r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;var o=(0,i["default"])(r);a["default"]=o}).call(a,function(){return this}(),s(365)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function v(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(r){Object.keys(r).forEach(function(e){var t=r[e];if(void 0===t(undefined,{type:a.ActionTypes.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var n="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===t(undefined,{type:n}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+a.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function i(e){for(var t=Object.keys(e),d={},n=0;n<t.length;n++){var r=t[n];0,"function"==typeof e[r]&&(d[r]=e[r])}var p=Object.keys(d);var h=void 0;try{o(d)}catch(i){h=i}return function g(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t;if(h)throw h;for(var i=!1,o={},a=0;a<p.length;a++){var s=p[a],u=d[s],l=n[s],c=u(l,r);if(void 0===c){var f=v(s,r);throw new Error(f)}o[s]=c,i=i||c!==l}return i?o:n}}t.__esModule=!0,t["default"]=i;var a=n(352);r(n(353)),r(n(368))},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function s(e,t){return function(){return t(e.apply(undefined,arguments))}}function n(e,t){if("function"==typeof e)return s(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},i=0;i<n.length;i++){var o=n[i],a=e[o];"function"==typeof a&&(r[o]=s(a,t))}return r}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return function(u){return function(e,t,n){var r=u(e,t,n),i=r.dispatch,o=[],a={getState:r.getState,dispatch:function s(e){return i(e)}};return o=l.map(function(e){return e(a)}),i=f["default"].apply(undefined,o)(r.dispatch),c({},r,{dispatch:i})}}}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var f=r(n(371))},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(undefined,arguments))}})}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t;switch(r.type){case i.ADD:case i.CHANGE:return r.payload.attributes;default:return n}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(373)},function(e,t){"use strict";function n(e){var t=e.collectionName,n=e.items;return{type:a,meta:{collectionName:t},payload:{collectionName:t,items:n}}}function r(e){var t=e.collectionName,n=e.attributes;return{type:s,meta:{collectionName:t},payload:{attributes:n}}}function i(e){var t=e.collectionName,n=e.attributes;return{type:u,meta:{collectionName:t},payload:{attributes:n}}}function o(e){var t=e.collectionName,n=e.attributes;return{type:l,meta:{collectionName:t},payload:{attributes:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reset=n,t.add=r,t.change=i,t.remove=o;var a=t.RESET="COLLECTION_RESET",s=t.ADD="COLLECTION_ADD",u=t.CHANGE="COLLECTION_CHANGE",l=t.REMOVE="COLLECTION_REMOVE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var r=e.pages,a=e.pageTypeSagas;return regeneratorRuntime.mark(function n(){var o;return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield((0,u["default"])(),"t0",1);case 1:return e.delegateYield((0,l["default"])(r),"t1",2);case 2:return o=void 0,e.next=5,(0,d.takeEvery)(c.ENHANCE,regeneratorRuntime.mark(function i(){var t,n;return regeneratorRuntime.wrap(function r(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.select)((0,s.pageAttribute)("type"));case 2:if(t=e.sent,n=a[t])return e.next=7,(0,f.fork)(n);e.next=8;break;case 7:o=e.sent;case 8:case"end":return e.stop()}},i,this)}));case 5:return e.next=7,(0,d.takeEvery)(c.CLEANUP,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:if(o)return e.next=3,(0,f.cancel)(o);e.next=3;break;case 3:case"end":return e.stop()}},n,this)}));case 7:case"end":return e.stop()}},n,this)})};var s=n(375),u=r(n(425)),l=r(n(426)),c=n(329),f=n(383),d=n(387)},function(e,t,n){"use strict";function r(t,e){return(0,p.memoizedSelector)(h(e),function(e){return e&&e.attributes[t]})}function i(e){return(0,p.memoizedSelector)(h(e),function(e){return e&&e.attributes})}function o(t,e){return(0,p.memoizedSelector)(h(e),function(e){return e&&e.state.custom[t]})}function a(e){return f("isActive",e)}function s(e){return f("isActivated",e)}function u(e){return f("isPreloaded",e)}function l(e){return f("isPrepared",e)}function c(e){return f("initialScrollerPosition",e)}function f(t,e){return(0,p.memoizedSelector)(h(e),function(e){return e&&e.state.common[t]})}Object.defineProperty(t,"__esModule",{value:!0}),t.selector=undefined,t.pageAttribute=r,t.pageAttributes=i,t.pageState=o,t.pageIsActive=a,t.pageIsActivated=s,t.pageIsPreloaded=u,t.pageIsPrepared=l,t.initialScrollerPosition=c;var d=n(376),p=n(339),h=t.selector=(0,d.createItemSelector)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.createItemScopeProvider=t.createItemScopeConnector=t.createSaga=t.createReducer=t.createItemSelector=t.createItemsSelector=undefined;var i=r(n(377)),o=r(n(378)),a=r(n(380)),s=r(n(381)),u=r(n(396)),l=r(n(419)),c=r(n(420));t.createItemsSelector=i["default"],t.createItemSelector=o["default"],t.createReducer=a["default"],t.createSaga=s["default"],t.createItemScopeConnector=u["default"],t.createItemScopeProvider=l["default"],t.watch=c["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(t,e){var n=(1<arguments.length&&e!==undefined?arguments[1]:{}).namespace;return function r(e){if(n){if(!e[n])throw new Error("Cannot select from unknown namespace "+n+".");e=e[n]}return e[t]||{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(o,e){var a=(1<arguments.length&&e!==undefined?arguments[1]:{}).namespace;return function(e){var i=(0<arguments.length&&e!==undefined?arguments[0]:{}).id;return function(e,t){var n=i,r=e;if(a){if(!e[a])throw new Error("Cannot select from unknown namespace "+a+".");r=e[a]}if(!r[o])throw new Error("Cannot select from unknown collection "+o+".");return"function"==typeof i&&(n=i(e,t)),(n=n||e[(0,s.getItemScopeProperty)(o)])?r[o][n]:null}}};var s=n(379)},function(e,t){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t,n){return o({},e,r({},i(t),n))}function i(e){return"__"+e+"_connectedId"}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.addItemScope=n,t.getItemScopeProperty=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(u,e){var t=1<arguments.length&&e!==undefined?arguments[1]:{},n=t.idAttribute,l=n===undefined?"id":n,r=t.itemReducer,c=r===undefined?i["default"]:r;return function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t,i=void 0,o=void 0;if(!r.meta||r.meta.collectionName!=u)return n;switch(r.type){case p.RESET:return r.payload.items.reduce(function(e,t){return e[t[l]]=c(undefined,(0,p.add)({collectioName:r.payload.collectioName,attributes:t})),e},{});case p.ADD:return d({},n,f({},r.payload.attributes[l],c(undefined,r)));case p.CHANGE:return o=r.payload.attributes[l],d({},n,f({},o,c(n[o],r)));case p.REMOVE:return o=r.payload.attributes[l],delete(i=d({},n))[o],i;default:if(r.meta.itemId){var a=n[r.meta.itemId],s=c(a,r);if(s!==a)return d({},n,f({},r.meta.itemId,s))}return n}}};var p=n(373),i=r(n(372))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return function i(e){var t=e.getState,n=e.dispatch,r=o();return i.getState=t,
i.dispatch=n,i.subscribe=r.subscribe,function(n){return function(e){var t=n(e);return r.emit(e),t}}}}function o(){function e(e){return i.push(e),function(){return a(i,e)}}function t(e){for(var t=i.slice(),n=0,r=t.length;n<r;n++)t[n](e)}var i=[];return{subscribe:e,emit:t}}function a(e,t){var n=e.indexOf(t);0<=n&&e.splice(n,1)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(s,e){function t(){var t;return regeneratorRuntime.wrap(function n(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,(0,y.takeEvery)([b.RESET,b.ADD,b.REMOVE],r,t);case 3:case"end":return e.stop()}},u,this)}function r(t){var n;return regeneratorRuntime.wrap(function r(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.select)(h);case 2:return n=e.sent,e.delegateYield(i(n,t),"t0",4);case 4:return e.delegateYield(o(n,t),"t1",5);case 5:case"end":return e.stop()}},l,this)}function i(t,n){return regeneratorRuntime.wrap(function r(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.keys(n).map(function(e){if(!(e in t))return(0,m.cancel)(n[e])});case 2:case"end":return e.stop()}},c,this)}function o(t,n){var r;return regeneratorRuntime.wrap(function i(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object.keys(t).map(function(e){if(!n[e])return(0,m.fork)(a,parseInt(e,10))});case 2:r=e.sent,Object.keys(t).forEach(function(e,t){n[e]||(n[e]=r[t])});case 4:case"end":return e.stop()}},f,this)}function a(i){var o;return regeneratorRuntime.wrap(function a(e){for(;;)switch(e.prev=e.next){case 0:return o=(0,y.runSaga)(d(),{subscribe:function n(t){return p.subscribe(function(e){(0,g.isItemAction)(e,s)&&(0,g.getItemIdFromItemAction)(e)!=i||t(e)})},dispatch:function t(e){(0,g.ensureItemActionId)(e,s,i),p.dispatch(e)},getState:function r(){return(0,v.addItemScope)(p.getState(),s,i)}}),e.prev=1,e.next=4,(0,m.call)(function(){return o.done});case 4:return e.prev=4,o.cancel(),e.finish(4);case 7:case"end":return e.stop()}},n,this,[[1,,4,7]])}var u=regeneratorRuntime.mark(t),l=regeneratorRuntime.mark(r),c=regeneratorRuntime.mark(i),f=regeneratorRuntime.mark(o),n=regeneratorRuntime.mark(a),d=e.itemSaga,p=e.middleware,h=(0,_["default"])(s);return t},t.createMiddleware=i;var g=n(382),v=n(379),m=n(383),y=n(387),_=r(n(377)),b=n(373)},function(e,t){"use strict";function n(e,t,n){e.meta&&e.meta.collectionName==t&&!e.meta.itemId&&(e.meta=o({},e.meta,{itemId:n}))}function r(e,t){return e.meta&&e.meta.collectionName==t}function i(e){return e.meta&&e.meta.itemId}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.ensureItemActionId=n,t.isItemAction=r,t.getItemIdFromItemAction=i},function(e,t,n){e.exports=n(384)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(385);Object.defineProperty(t,"take",{enumerable:!0,get:function i(){return r.take}}),Object.defineProperty(t,"takem",{enumerable:!0,get:function i(){return r.takem}}),Object.defineProperty(t,"put",{enumerable:!0,get:function i(){return r.put}}),Object.defineProperty(t,"race",{enumerable:!0,get:function i(){return r.race}}),Object.defineProperty(t,"call",{enumerable:!0,get:function i(){return r.call}}),Object.defineProperty(t,"apply",{enumerable:!0,get:function i(){return r.apply}}),Object.defineProperty(t,"cps",{enumerable:!0,get:function i(){return r.cps}}),Object.defineProperty(t,"fork",{enumerable:!0,get:function i(){return r.fork}}),Object.defineProperty(t,"spawn",{enumerable:!0,get:function i(){return r.spawn}}),Object.defineProperty(t,"join",{enumerable:!0,get:function i(){return r.join}}),Object.defineProperty(t,"cancel",{enumerable:!0,get:function i(){return r.cancel}}),Object.defineProperty(t,"select",{enumerable:!0,get:function i(){return r.select}}),Object.defineProperty(t,"actionChannel",{enumerable:!0,get:function i(){return r.actionChannel}}),Object.defineProperty(t,"cancelled",{enumerable:!0,get:function i(){return r.cancelled}}),Object.defineProperty(t,"flush",{enumerable:!0,get:function i(){return r.flush}})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=0<arguments.length&&e!==undefined?arguments[0]:"*";if(arguments.length&&(0,T.check)(arguments[0],T.is.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),T.is.pattern(t))return N(E,{pattern:t});if(T.is.channel(t))return N(E,{channel:t});throw new Error("take(patternOrChannel): argument "+String(t)+" is not valid channel or a valid pattern")}function o(){var e=i.apply(undefined,arguments);return e[E].maybe=!0,e}function a(e,t){return 1<arguments.length?((0,T.check)(e,T.is.notUndef,"put(channel, action): argument channel is undefined"),(0,T.check)(e,T.is.channel,"put(channel, action): argument "+e+" is not a valid channel"),(0,T.check)(t,T.is.notUndef,"put(channel, action): argument action is undefined")):((0,T.check)(e,T.is.notUndef,"put(action): argument action is undefined"),t=e,e=null),N(S,{channel:e,action:t})}function s(e){return N(P,e)}function u(e,t,n){(0,T.check)(t,T.is.notUndef,e+": argument fn is undefined");var r=null;if(T.is.array(t)){var i=b(t,2);r=i[0],t=i[1]}else if(t.fn){var o=t;r=o.context,t=o.fn}return(0,T.check)(t,T.is.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function l(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(C,u("call",e,n))}function c(e,t,n){var r=2<arguments.length&&n!==undefined?arguments[2]:[];return N(C,u("apply",{context:e,fn:t},r))}function f(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(I,u("cps",e,n))}function d(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(x,u("fork",e,n))}function p(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=d.apply(undefined,[e].concat(n));return i[x].detached=!0,i}function h(e){if((0,T.check)(e,T.is.notUndef,"join(task): argument task is undefined"),!L(e))throw new Error("join(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return N(A,e)}function g(e){if((0,T.check)(e,T.is.notUndef,"cancel(task): argument task is undefined"),!L(e))throw new Error("cancel(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return N(O,e)}function v(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===arguments.length?e=T.ident:((0,T.check)(e,T.is.notUndef,"select(selector,[...]): argument selector is undefined"),(0,T.check)(e,T.is.func,"select(selector,[...]): argument "+e+" is not a function")),N(k,{selector:e,args:n})}function m(e,t){return(0,T.check)(e,T.is.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),1<arguments.length&&((0,T.check)(t,T.is.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),(0,T.check)(t,T.is.notUndef,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),N(M,{pattern:e,buffer:t})}function y(){return N(R,{})}function _(e){return(0,T.check)(e,T.is.channel,"flush(channel): argument "+e+" is not valid channel"),N(D,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.asEffect=undefined;var b=function(){function n(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.take=i,t.takem=o,t.put=a,t.race=s,t.call=l,t.apply=c,t.cps=f,t.fork=d,t.spawn=p,t.join=h,t.cancel=g,t.select=v,t.actionChannel=m,t.cancelled=y,t.flush=_;var T=n(386),w=(0,T.sym)("IO"),E="TAKE",S="PUT",P="RACE",C="CALL",I="CPS",x="FORK",A="JOIN",O="CANCEL",k="SELECT",M="ACTION_CHANNEL",R="CANCELLED",D="FLUSH",N=function N(e,t){var n;return r(n={},w,!0),r(n,e,t),n};a.sync=function(){var e=a.apply(undefined,arguments);return e[S].sync=!0,e};var L=function L(e){return e[T.TASK]};t.asEffect={take:function i(e){return e&&e[w]&&e[E]},put:function a(e){return e&&e[w]&&e[S]},race:function s(e){return e&&e[w]&&e[P]},call:function l(e){return e&&e[w]&&e[C]},cps:function f(e){return e&&e[w]&&e[I]},fork:function d(e){return e&&e[w]&&e[x]},join:function h(e){return e&&e[w]&&e[A]},cancel:function g(e){return e&&e[w]&&e[O]},select:function v(e){return e&&e[w]&&e[k]},actionChannel:function m(e){return e&&e[w]&&e[M]},cancelled:function y(e){return e&&e[w]&&e[R]},flush:function _(e){return e&&e[w]&&e[D]}}},function(e,t){"use strict";function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t,n){if(!t(e))throw f("error","uncaught at check",n),new Error(n)}function r(e,t){var n=e.indexOf(t);0<=n&&e.splice(n,1)}function i(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=p({},t),r=new Promise(function(e,t){n.resolve=e,n.reject=t});return n.promise=r,n}function o(e){for(var t=[],n=0;n<e;n++)t.push(i());return t}function a(t,e){var n=!(1<arguments.length&&e!==undefined)||arguments[1],r=void 0,i=new Promise(function(e){r=setTimeout(function(){return e(n)},t)});return i[y]=function(){return clearTimeout(r)},i}function s(){var e,t=!0,n=void 0,r=void 0;return c(e={},v,!0),c(e,"isRunning",function i(){return t}),c(e,"result",function o(){return n}),c(e,"error",function a(){return r}),c(e,"setRunning",function s(e){return t=e}),c(e,"setResult",function u(e){return n=e}),c(e,"setError",function l(e){return r=e}),e}function u(e){var t=0<arguments.length&&e!==undefined?arguments[0]:0;return function(){return++t}}function l(e,t,n,r){var i=1<arguments.length&&t!==undefined?arguments[1]:w,o={name:2<arguments.length&&n!==undefined?arguments[2]:"",next:e,"throw":i,"return":E};return r&&(o[m]=!0),"undefined"!=typeof Symbol&&(o[Symbol.iterator]=function(){return o}),o}function f(e,t,n){"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e](t,n)}function d(n){return function r(e){var t=Object.defineProperty(e,_,{value:!0});return n(t)}}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.check=n,t.remove=r,t.deferred=i,t.arrayOfDeffered=o,t.delay=a,t.createMockTask=s,t.autoInc=u,t.makeIterator=l,t.log=f,t.wrapSagaDispatch=d;var g=t.sym=function g(e){return"@@redux-saga/"+e},v=t.TASK=g("TASK"),m=t.HELPER=g("HELPER"),y=(t.MATCH=g("MATCH"),t.CANCEL=g("cancelPromise")),_=t.SAGA_ACTION=g("SAGA_ACTION"),b=t.konst=function b(e){return function(){return e}},T=(t.kTrue=b(!0),t.kFalse=b(!1),t.noop=function S(){},t.ident=function P(e){return e},t.is={undef:function C(e){return null===e||e===undefined},notUndef:function I(e){return null!==e&&e!==undefined},func:function x(e){return"function"==typeof e},number:function A(e){return"number"==typeof e},array:Array.isArray,promise:function O(e){return e&&T.func(e.then)},iterator:function k(e){return e&&T.func(e.next)&&T.func(e["throw"])},task:function M(e){return e&&e[v]},observable:function R(e){return e&&T.func(e.subscribe)},buffer:function D(e){return e&&T.func(e.isEmpty)&&T.func(e.take)&&T.func(e.put)},pattern:function N(e){return e&&("string"==typeof e||"symbol"===(void 0===e?"undefined":h(e))||T.func(e)||T.array(e))},channel:function L(e){return e&&T.func(e.take)&&T.func(e.close)},helper:function j(e){return e&&e[m]}}),w=(t.uid=u(),function w(e){throw e}),E=function E(e){return{value:e,done:!0}};t.internalErr=function F(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.effects=t.CANCEL=t.delay=t.throttle=t.takeLatest=t.takeEvery=t.buffers=t.channel=t.eventChannel=t.END=t.runSaga=undefined;var o=n(388);Object.defineProperty(t,"runSaga",{enumerable:!0,get:function p(){return o.runSaga}});var a=n(391);Object.defineProperty(t,"END",{enumerable:!0,get:function p(){return a.END}}),Object.defineProperty(t,"eventChannel",{enumerable:!0,get:function p(){return a.eventChannel}}),Object.defineProperty(t,"channel",{enumerable:!0,get:function p(){return a.channel}});var s=n(392);Object.defineProperty(t,"buffers",{enumerable:!0,get:function p(){return s.buffers}});var u=n(393);Object.defineProperty(t,"takeEvery",{enumerable:!0,get:function p(){return u.takeEvery}}),Object.defineProperty(t,"takeLatest",{enumerable:!0,get:function p(){return u.takeLatest}}),Object.defineProperty(t,"throttle",{enumerable:!0,get:function p(){return u.throttle}});var l=n(386);Object.defineProperty(t,"delay",{enumerable:!0,get:function p(){return l.delay}}),Object.defineProperty(t,"CANCEL",{enumerable:!0,get:function p(){return l.CANCEL}});var c=i(n(394)),f=r(n(384)),d=r(n(395));t["default"]=c["default"],t.effects=f,t.utils=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=t.subscribe,r=t.dispatch,i=t.getState,o=t.sagaMonitor,a=t.logger;(0,l.check)(e,l.is.iterator,"runSaga must be called on an iterator");var s=(0,l.uid)();o&&(r=(0,l.wrapSagaDispatch)(r),o.effectTriggered({effectId:s,root:!0,parentEffectId:0,effect:{root:!0,saga:e,args:[]}}));var u=(0,c["default"])(e,n,r,i,{sagaMonitor:o,logger:a},s,e.name);return o&&o.effectResolved(s,u),u}Object.defineProperty(t,"__esModule",{value:!0}),t.runSaga=i;var l=n(386),c=r(n(389))},function(e,t,n){"use strict";function q(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}function G(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e){return("*"===e?r.wildcard:J.is.array(e)?r.array:J.is.func(e)?r.predicate:r["default"])(e)}function W(e,r,i){function o(e){n(),i(e,!0)}function t(n){a.push(n),n.cont=function(e,t){u||((0,J.remove)(a,n),n.cont=J.noop,t?o(e):(n===r&&(s=e),a.length||(u=!0,i(s))))}}function n(){u||(u=!0,a.forEach(function(e){e.cont=J.noop,e.cancel()}),a=[])}var a=[],s=void 0,u=!1;return t(r),{addTask:t,cancelAll:n,abort:o,getTasks:function l(){return a},taskNames:function c(){return a.map(function(e){return e.name})}}}function Q(e){var t=e.context,n=e.fn,r=e.args;if(J.is.iterator(n))return n;var i,o,a,s=void 0,u=void 0;try{s=n.apply(t,r)}catch(l){u=l}return J.is.iterator(s)?s:u?(0,J.makeIterator)(function(){throw u}):(0,J.makeIterator)((i=void 0,o={done:!1,value:s},a=function a(e){return{done:!0,value:e}},function(e){return i?a(e):(i=!0,o)}))}function X(e){return{fn:e}}function $(i,e,t,n,r,o,a,s){function u(){V.isRunning&&!V.isCancelled&&(V.isCancelled=!0,l(ae))}function d(){i._isRunning&&!i._isCancelled&&(i._isCancelled=!0,z.cancelAll(),c(ae))}function l(e,t){if(!V.isRunning)throw new Error("Trying to resume an already finished generator");try{var n=void 0;(n=t?i["throw"](e):e===ae?(V.isCancelled=!0,l.cancel(),J.is.func(i["return"])?i["return"](ae):{done:!0,value:ae}):e===oe?J.is.func(i["return"])?i["return"]():{done:!0}:i.next(e)).done?(V.isMainRunning=!1,V.cont&&V.cont(n.value)):f(n.value,R,"",l)}catch(r){V.isCancelled&&B("error","uncaught at "+D,r.message),V.isMainRunning=!1,V.cont(r,!0)}}function c(t,n){i._isRunning=!1,U.close(),n?(t instanceof Error&&(t.sagaStack="at "+D+" \n "+(t.sagaStack||t.stack)),H.cont||(B("error","uncaught",t.sagaStack||t.stack),t instanceof Error&&F&&F(t)),i._error=t,i._isAborted=!0,i._deferredEnd&&i._deferredEnd.reject(t)):(t===ae&&re&&B("info",D+" has been cancelled",""),i._result=t,i._deferredEnd&&i._deferredEnd.resolve(t)),H.cont&&H.cont(t,n),H.joiners.forEach(function(e){return e.cb(t,n)}),H.joiners=null}function f(e,t,n,r){function i(e,t){u||(u=!0,a.cancel=J.noop,L&&(t?L.effectRejected(s,e):L.effectResolved(s,e)),a(e,t))}var o=2<arguments.length&&n!==undefined?arguments[2]:"",a=r,s=(0,J.uid)();L&&L.effectTriggered({effectId:s,parentEffectId:t,label:o,effect:e});var u=void 0;i.cancel=J.noop,a.cancel=function(){if(!u){u=!0;try{i.cancel()}catch(e){B("error","uncaught at "+D,e.message)}i.cancel=J.noop,L&&L.effectCancelled(s)}};var l=void 0;return J.is.promise(e)?p(e,i):J.is.helper(e)?_(X(e),s,i):J.is.iterator(e)?h(e,s,D,i):J.is.array(e)?w(e,s,i):J.is.notUndef(l=ee.asEffect.take(e))?g(l,i):J.is.notUndef(l=ee.asEffect.put(e))?v(l,i):J.is.notUndef(l=ee.asEffect.race(e))?E(l,s,i):J.is.notUndef(l=ee.asEffect.call(e))?m(l,s,i):J.is.notUndef(l=ee.asEffect.cps(e))?y(l,i):J.is.notUndef(l=ee.asEffect.fork(e))?_(l,s,i):J.is.notUndef(l=ee.asEffect.join(e))?b(l,i):J.is.notUndef(l=ee.asEffect.cancel(e))?T(l,i):J.is.notUndef(l=ee.asEffect.select(e))?S(l,i):J.is.notUndef(l=ee.asEffect.actionChannel(e))?P(l,i):J.is.notUndef(l=ee.asEffect.flush(e))?I(l,i):J.is.notUndef(l=ee.asEffect.cancelled(e))?C(l,i):i(e)}function p(e,t){var n=e[J.CANCEL];"function"==typeof n&&(t.cancel=n),e.then(t,function(e){return t(e,!0)})}function h(e,t,n,r){$(e,A,O,k,M,t,n,r)}function g(e,t){var n=e.channel,r=e.pattern,i=e.maybe;n=n||U;var o=function o(e){return e instanceof Error?t(e,!0):(0,te.isEnd)(e)&&!i?t(oe):t(e)};try{n.take(o,Y(r))}catch(a){return t(a,!0)}t.cancel=o.cancel}function v(e,n){var r=e.channel,i=e.action,o=e.sync;(0,Z.asap)(function(){var e=void 0;try{e=(r?r.put:O)(i)}catch(t){if(r||o)return n(t,!0);B("error","uncaught at "+D,t.stack||t.message||t)}if(!o||!J.is.promise(e))return n(e);p(e,n)})}function m(e,t,n){var r=e.context,i=e.fn,o=e.args,a=void 0;try{a=i.apply(r,o)}catch(s){return n(s,!0)}return J.is.promise(a)?p(a,n):J.is.iterator(a)?h(a,t,i.name,n):n(a)}function y(e,n){var r,t=e.context,i=e.fn,o=e.args;try{r=function r(e,t){return J.is.undef(e)?n(t):n(e,!0)},i.apply(t,o.concat(r)),r.cancel&&(n.cancel=function(){return r.cancel()})}catch(a){return n(a,!0)}}function _(e,t,n){var r=e.context,i=e.fn,o=e.args,a=e.detached,s=Q({context:r,fn:i,args:o});try{(0,Z.suspend)();var u=$(s,A,O,k,M,t,i.name,a?null:J.noop);a?n(u):s._isRunning?(z.addTask(u),n(u)):s._error?z.abort(s._error):n(u)}finally{(0,Z.flush)()}}function b(e,t){var n;e.isRunning()?(n={task:H,cb:t},t.cancel=function(){return(0,J.remove)(e.joiners,n)},e.joiners.push(n)):e.isAborted()?t(e.error(),!0):t(e.result())}function T(e,t){e.isRunning()&&e.cancel(),t()}function w(e,n,i){function o(){a===u.length&&(s=!0,i(u))}if(!e.length)return i([]);var a=0,s=void 0,u=Array(e.length),r=e.map(function(e,n){var r=function r(e,t){s||(t||(0,te.isEnd)(e)||e===oe||e===ae?(i.cancel(),i(e,t)):(u[n]=e,a++,o()))};return r.cancel=J.noop,r});i.cancel=function(){s||(s=!0,r.forEach(function(e){return e.cancel()}))},e.forEach(function(e,t){return f(e,n,t,r[t])})}function E(t,n,i){var o=void 0,e=Object.keys(t),a={};e.forEach(function(n){var r=function r(e,t){o||(t?(i.cancel(),i(e,!0)):(0,te.isEnd)(e)||e===oe||e===ae||(i.cancel(),o=!0,i(K({},n,e))))};r.cancel=J.noop,a[n]=r}),i.cancel=function(){o||(o=!0,e.forEach(function(e){return a[e].cancel()}))},e.forEach(function(e){o||f(t[e],n,e,a[e])})}function S(e,t){var n=e.selector,r=e.args;try{t(n.apply(undefined,[k()].concat(G(r))))}catch(i){t(i,!0)}}function P(e,t){var n=e.pattern,r=e.buffer,i=Y(n);i.pattern=n,t((0,te.eventChannel)(A,r||ne.buffers.fixed(),i))}function C(e,t){t(!!V.isCancelled)}function I(e,t){e.flush(t)}function x(e,t,n,r){var i,o,a;return n._deferredEnd=null,K(o={},J.TASK,!0),K(o,"id",e),K(o,"name",t),(a={})[i="done"]=a[i]||{},a[i].get=function(){if(n._deferredEnd)return n._deferredEnd.promise;var e=(0,J.deferred)();return n._deferredEnd=e,n._isRunning||(n._error?e.reject(n._error):e.resolve(n._result)),e.promise},K(o,"cont",r),K(o,"joiners",[]),K(o,"cancel",d),K(o,"isRunning",function s(){return n._isRunning}),K(o,"isCancelled",function u(){return n._isCancelled}),K(o,"isAborted",function l(){return n._isAborted}),K(o,"result",function c(){return n._result}),K(o,"error",function f(){return n._error}),q(o,a),o}var A=1<arguments.length&&e!==undefined?arguments[1]:function(){return J.noop},O=2<arguments.length&&t!==undefined?arguments[2]:J.noop,k=3<arguments.length&&n!==undefined?arguments[3]:J.noop,M=4<arguments.length&&r!==undefined?arguments[4]:{},R=5<arguments.length&&o!==undefined?arguments[5]:0,D=6<arguments.length&&a!==undefined?arguments[6]:"anonymous",N=s;(0,J.check)(i,J.is.iterator,ie);var L=M.sagaMonitor,j=M.logger,F=M.onError,B=j||J.log,U=(0,te.stdChannel)(A);l.cancel=J.noop;var H=x(R,D,i,N),V={name:D,cancel:u,isRunning:!0},z=W(D,V,c);return N&&(N.cancel=d),i._isRunning=!0,l(),H}Object.defineProperty(t,"__esModule",{value:!0}),t.TASK_CANCEL=t.CHANNEL_END=t.NOT_ITERATOR_ERROR=undefined,t["default"]=$;var J=n(386),Z=n(390),ee=n(385),te=n(391),ne=n(392),re=!1,ie=t.NOT_ITERATOR_ERROR="proc first argument (Saga function result) must be an iterator",oe=t.CHANNEL_END={toString:function i(){return"@@redux-saga/CHANNEL_END"}},ae=t.TASK_CANCEL={toString:function o(){return"@@redux-saga/TASK_CANCEL"}},r={wildcard:function a(){return J.kTrue},"default":function s(t){return function(e){return e.type===t}},array:function u(e){return function(t){return e.some(function(e){return e===t.type})}},predicate:function l(t){return function(e){return t(e)}}}},function(e,t){"use strict";function n(e){try{i(),e()}finally{o()}}function r(e){s?a.push(e):n(e)}function i(){s++}function o(){!--s&&a.length&&n(a.shift())}Object.defineProperty(t,"__esModule",{value:!0}),t.asap=r,t.suspend=i,t.flush=o;var a=[],s=0},function(e,t,n){"use strict";function r(){function e(e){return i.push(e),function(){return(0,l.remove)(i,e)}}function t(e){for(var t=i.slice(),n=0,r=t.length;n<r;n++)t[n](e)}var i=[];return{subscribe:e,emit:t}}function u(e){function r(){if(s&&u.length)throw(0,l.internalErr)("Cannot have a closed channel with pending takers");if(u.length&&!a.isEmpty())throw(0,l.internalErr)("Cannot have pending takers with non empty buffer")}function t(e){if(r(),(0,l.check)(e,l.is.notUndef,h),!s){if(!u.length)return a.put(e);for(var t=0;t<u.length;t++){var n=u[t];if(!n[l.MATCH]||n[l.MATCH](e))return u.splice(t,1),n(e)}}}function n(e){r(),(0,l.check)(e,l.is.func,"channel.take's callback must be a function"),s&&a.isEmpty()?e(f):a.isEmpty()?(u.push(e),e.cancel=function(){return(0,l.remove)(u,e)}):e(a.take())}function i(e){r(),(0,l.check)(e,l.is.func,"channel.flush' callback must be a function"),s&&a.isEmpty()?e(f):e(a.flush())}function o(){if(r(),!s&&(s=!0,u.length)){var e=u;u=[];for(var t=0,n=e.length;t<n;t++)e[t](f)}}var a=0<arguments.length&&e!==undefined?arguments[0]:c.buffers.fixed(),s=!1,u=[];return(0,l.check)(a,l.is.buffer,p),{take:n,put:t,flush:i,close:o,get __takers__(){return u},get __closed__(){return s}}}function i(e,t,n){var r=1<arguments.length&&t!==undefined?arguments[1]:c.buffers.none(),i=n;2<arguments.length&&(0,l.check)(i,l.is.func,"Invalid match function passed to eventChannel");var o=u(r),a=e(function(e){d(e)?o.close():i&&!i(e)||o.put(e)});if(!l.is.func(a))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:o.take,flush:o.flush,close:function s(){o.__closed__||(o.close(),a())}}}function o(e){var n=i(e);return a({},n,{take:function r(e,t){1<arguments.length&&((0,l.check)(t,l.is.func,"channel.take's matcher argument must be a function"),e[l.MATCH]=t),n.take(e)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.UNDEFINED_INPUT_ERROR=t.INVALID_BUFFER=t.isEnd=t.END=undefined;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.emitter=r,t.channel=u,t.eventChannel=i,t.stdChannel=o;var l=n(386),c=n(392),s="@@redux-saga/CHANNEL_END",f=t.END={type:s},d=t.isEnd=function d(e){return e&&e.type===s},p=t.INVALID_BUFFER="invalid buffer passed to channel factory function",h=t.UNDEFINED_INPUT_ERROR="Saga was provided with an undefined action"},function(e,t,n){"use strict";function r(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:10,r=t,i=new Array(n),o=0,a=0,s=0,u=function u(e){i[a]=e,a=(a+1)%n,o++},l=function l(){if(0!=o){var e=i[s];return i[s]=null,o--,s=(s+1)%n,e}},c=function c(){for(var e=[];o;)e.push(l());return e};return{isEmpty:function f(){return 0==o},put:function d(e){if(o<n)u(e);else{var t=void 0;switch(r){case h:throw new Error(p);case g:i[a]=e,s=a=(a+1)%n;break;case v:t=2*n,i=c(),o=i.length,a=i.length,s=0,i.length=t,n=t,u(e)}}},take:l,flush:c}}Object.defineProperty(t,"__esModule",{value:!0}),t.buffers=t.BUFFER_OVERFLOW=undefined;var i=n(386),p=t.BUFFER_OVERFLOW="Channel's Buffer overflow!",h=1,o=2,g=3,v=4,a={isEmpty:i.kTrue,put:i.noop,take:i.noop};t.buffers={none:function s(){return a},fixed:function u(e){return r(e,h)},dropping:function l(e){return r(e,o)},sliding:function c(e){return r(e,g)},expanding:function f(e){return r(e,v)}}},function(e,t,n){"use strict";function y(s,e,t){function n(e,t){if(l===S)return f;if(t)throw l=S,t;u&&u(e);var n=s[l](),r=c(n,3),i=r[0],o=r[1],a=r[2];return u=a,(l=i)===S?f:o}var r=2<arguments.length&&t!==undefined?arguments[2]:"iterator",u=void 0,l=e;return(0,T.makeIterator)(n,function(e){return n(null,e)},r,!0)}function _(e){return Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function r(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o={done:!1,value:(0,w.take)(e)},a=function a(e){return{done:!1,value:w.fork.apply(undefined,[t].concat(r,[e]))}},s=void 0,u=function u(e){return s=e};return y({q1:function l(){return["q2",o,u]},q2:function c(){return s===b.END?[S]:["q1",a(s)]}},"q1","takeEvery("+_(e)+", "+t.name+")")}function i(e,t){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o={done:!1,value:(0,w.take)(e)},a=function a(e){return{done:!1,value:w.fork.apply(undefined,[t].concat(r,[e]))}},s=function s(e){return{done:!1,value:(0,w.cancel)(e)}},u=void 0,l=void 0,c=function c(e){return u=e},f=function f(e){return l=e};return y({q1:function d(){return["q2",o,f]},q2:function p(){return l===b.END?[S]:u?["q3",s(u)]:["q1",a(l),c]},q3:function h(){return["q1",a(l),c]}},"q1","takeLatest("+_(e)+", "+t.name+")")}function o(e,t,n){for(var r=arguments.length,i=Array(3<r?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=void 0,s=void 0,u={done:!1,value:(0,w.actionChannel)(t,E.buffers.sliding(1))},l=function l(){return{done:!1,value:(0,w.take)(s,t)}},c=function c(e){return{done:!1,value:w.fork.apply(undefined,[n].concat(i,[e]))}},f={done:!1,value:(0,w.call)(T.delay,e)},d=function d(e){return a=e},p=function p(e){return s=e};return y({q1:function h(){return["q2",u,p]},q2:function g(){return["q3",l(),d]},q3:function v(){return a===b.END?[S]:["q4",c(a)]},q4:function m(){return["q2",f]}},"q1","throttle("+_(t)+", "+n.name+")")}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function n(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.takeEvery=r,t.takeLatest=i,t.throttle=o;var b=n(391),T=n(386),w=n(385),E=n(392),f={done:!0,value:undefined},S={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){function t(e){function t(e,t,n){return(0,f["default"])(e.apply(undefined,l(t)),i.subscribe,o,r,a,n,e.name)}var r=e.getState,n=e.dispatch;s=t;var i=(0,p.emitter)(),o=(0,c.wrapSagaDispatch)(n);return function(n){return function(e){u&&u.actionDispatched(e);var t=n(e);return e[c.SAGA_ACTION]?i.emit(e):(0,d.asap)(function(){return i.emit(e)}),t}}}var a=0<arguments.length&&e!==undefined?arguments[0]:{},s=void 0,u=a.sagaMonitor;if(c.is.func(a))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(a.logger&&!c.is.func(a.logger))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(a.onerror&&!c.is.func(a.onerror))throw new Error("`options.onerror` passed to the Saga middleware is not a function!");return t.run=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(0,c.check)(s,c.is.notUndef,"Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware"),(0,c.check)(e,c.is.func,"sagaMiddleware.run(saga, ...args): saga argument must be a Generator function!");var i=(0,c.uid)();u&&u.effectTriggered({effectId:i,root:!0,parentEffectId:0,effect:{root:!0,saga:e,args:n}});var o=s(e,n,i);return u&&u.effectResolved(i,o),o},t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var c=n(386),f=r(n(389)),d=n(390),p=n(391)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(386);Object.defineProperty(t,"TASK",{enumerable:!0,get:function o(){return r.TASK}}),Object.defineProperty(t,"SAGA_ACTION",{enumerable:!0,get:function o(){return r.SAGA_ACTION}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function o(){return r.noop}}),Object.defineProperty(t,"is",{enumerable:!0,get:function o(){return r.is}}),Object.defineProperty(t,"deferred",{enumerable:!0,get:function o(){return r.deferred}}),Object.defineProperty(t,"arrayOfDeffered",{enumerable:!0,get:function o(){return r.arrayOfDeffered}}),Object.defineProperty(t,"createMockTask",{enumerable:!0,get:function o(){return r.createMockTask}});var i=n(385);Object.defineProperty(t,"CHANNEL_END",{enumerable:!0,get:function o(){return i.CHANNEL_END}}),Object.defineProperty(t,"asEffect",{enumerable:!0,get:function o(){return i.asEffect}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t["default"]=function(o){var a=(0,h.getItemScopeProperty)(o);return function n(r,e,t){var i=(0,g.connect)(r?function(e,t){var n=r((0,h.addItemScope)(e,o,t[a]),t);return"function"==typeof n?function(e,t){return n((0,h.addItemScope)(e,o,t[a]),t)}:n}:null,e?function(t,n){var r=function r(e){return(0,p.ensureItemActionId)(e,o,n[a]),t(e)};return"function"==typeof e?e(r,n):(0,v.bindActionCreators)(e,r)}:null,t);return function(e){var n=i(e),t=function(){function e(){return u(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return c(e,m["default"].Component),d(e,[{
key:"render",value:function t(){var e=f({},this.props,s({},a,this.context[a]));return m["default"].createElement(n,e)}}]),e}();return t.contextTypes=s({},a,m["default"].PropTypes.number),t}}};var p=n(382),h=n(379),g=n(397),v=n(351),m=r(n(333))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.createProvider=t.Provider=undefined;var i=n(398),o=r(i),a=r(n(406)),s=r(n(410));t.Provider=o["default"],t.createProvider=i.createProvider,t.connectAdvanced=a["default"],t.connect=s["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n,o=0<arguments.length&&e!==undefined?arguments[0]:"store",a=t||o+"Subscription",r=function(r){function i(e,t){s(this,i);var n=u(this,r.call(this,e,t));return n[o]=e.store,n}return l(i,r),i.prototype.getChildContext=function t(){var e;return(e={})[o]=this[o],e[a]=null,e},i.prototype.render=function e(){return c.Children.only(this.props.children)},i}(c.Component);return r.propTypes={store:d.storeShape.isRequired,children:f["default"].element.isRequired},r.childContextTypes=((n={})[o]=d.storeShape.isRequired,n[a]=d.subscriptionShape,n),r.displayName="Provider",r}t.__esModule=!0,t.createProvider=i;var c=n(333),f=r(n(399)),d=n(404);r(n(405));t["default"]=i()},function(e,t,n){e.exports=n(400)()},function(e,t,n){"use strict";var r=n(401),a=n(402),s=n(403);e.exports=function(){function e(e,t,n,r,i,o){o!==s&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e){"use strict";function t(e){return function(){return e}}var n=function n(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){"use strict";function t(e,t,n,r,i,o,a,s){if(f(t),!e){var u;if(t===undefined)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}var f=function f(){};e.exports=t},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.storeShape=t.subscriptionShape=undefined;var i=r(n(399));t.subscriptionShape=i["default"].shape({trySubscribe:i["default"].func.isRequired,tryUnsubscribe:i["default"].func.isRequired,notifyNestedSubs:i["default"].func.isRequired,isSubscribed:i["default"].func.isRequired}),t.storeShape=i["default"].shape({subscribe:i["default"].func.isRequired,dispatch:i["default"].func.isRequired,getState:i["default"].func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function O(){}function k(r,i){var o={run:function a(e){try{var t=r(i.getState(),e);(t!==o.props||o.error)&&(o.shouldComponentUpdate=!0,o.props=t,o.error=null)}catch(n){o.shouldComponentUpdate=!0,o.error=n}}};return o}function i(_,e){var t,n,r=1<arguments.length&&e!==undefined?arguments[1]:{},i=r.getDisplayName,o=i===undefined?function(e){return"ConnectAdvanced("+e+")"}:i,a=r.methodName,b=a===undefined?"connectAdvanced":a,s=r.renderCountProp,T=s===undefined?undefined:s,u=r.shouldHandleStateChanges,w=u===undefined||u,l=r.storeKey,E=l===undefined?"store":l,c=r.withRef,S=c!==undefined&&c,f=g(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),P=E+"Subscription",C=m++,d=((t={})[E]=v.storeShape,t[P]=v.subscriptionShape,t),p=((n={})[P]=v.subscriptionShape,n);return function h(v){(0,D["default"])("function"==typeof v,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(v));var e=v.displayName||v.name||"Component",m=o(e),y=M({},f,{getDisplayName:o,methodName:b,renderCountProp:T,shouldHandleStateChanges:w,storeKey:E,withRef:S,displayName:m,wrappedComponentName:e,WrappedComponent:v}),t=function(r){function i(e,t){I(this,i);var n=x(this,r.call(this,e,t));return n.version=C,n.state={},n.renderCount=0,n.store=e[E]||t[E],n.propsMode=Boolean(e[E]),n.setWrappedInstance=n.setWrappedInstance.bind(n),(0,D["default"])(n.store,'Could not find "'+E+'" in either the context or props of "'+m+'". Either wrap the root component in a <Provider>, or explicitly pass "'+E+'" as a prop to "'+m+'".'),n.initSelector(),n.initSubscription(),n}return A(i,r),i.prototype.getChildContext=function n(){var e,t=this.propsMode?null:this.subscription;return(e={})[P]=t||this.context[P],e},i.prototype.componentDidMount=function e(){w&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.prototype.componentWillReceiveProps=function t(e){this.selector.run(e)},i.prototype.shouldComponentUpdate=function o(){return this.selector.shouldComponentUpdate},i.prototype.componentWillUnmount=function a(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=O,this.store=null,this.selector.run=O,this.selector.shouldComponentUpdate=!1},i.prototype.getWrappedInstance=function s(){return(0,D["default"])(S,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+b+"() call."),this.wrappedInstance},i.prototype.setWrappedInstance=function u(e){this.wrappedInstance=e},i.prototype.initSelector=function l(){var e=_(this.store.dispatch,y);this.selector=k(e,this.store),this.selector.run(this.props)},i.prototype.initSubscription=function c(){if(w){var e=(this.propsMode?this.props:this.context)[P];this.subscription=new L["default"](this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.prototype.onStateChange=function f(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(j)):this.notifyNestedSubs()},i.prototype.notifyNestedSubsOnComponentDidUpdate=function d(){this.componentDidUpdate=undefined,this.notifyNestedSubs()},i.prototype.isSubscribed=function p(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.prototype.addExtraProps=function h(e){if(!(S||T||this.propsMode&&this.subscription))return e;var t=M({},e);return S&&(t.ref=this.setWrappedInstance),T&&(t[T]=this.renderCount++),this.propsMode&&this.subscription&&(t[P]=this.subscription),t},i.prototype.render=function g(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,N.createElement)(v,this.addExtraProps(e.props))},i}(N.Component);return t.WrappedComponent=v,t.displayName=m,t.childContextTypes=p,t.contextTypes=d,t.propTypes=d,(0,R["default"])(t,v)}}t.__esModule=!0;var M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var R=r(n(407)),D=r(n(408)),N=n(333),L=r(n(409)),v=n(404),m=0,j={}},function(e){"use strict";var a={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},u="function"==typeof Object.getOwnPropertySymbols;e.exports=function l(e,t,n){if("string"!=typeof t){var r=Object.getOwnPropertyNames(t);u&&(r=r.concat(Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;++i)if(!(a[r[i]]||s[r[i]]||n&&n[r[i]]))try{e[r[i]]=t[r[i]]}catch(o){}}return e}},function(e){"use strict";var t=function(e,t,n,r,i,o,a,s){if(!e){var u;if(t===undefined)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=t},function(e,t){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){var r=[],i=[];return{clear:function e(){r=i=u},notify:function n(){for(var e=r=i,t=0;t<e.length;t++)e[t]()},subscribe:function o(e){var t=!0;return i===r&&(i=r.slice()),i.push(e),function n(){t&&r!==u&&(t=!1,i===r&&(i=r.slice()),i.splice(i.indexOf(e),1))}}}}t.__esModule=!0;var u=null,l={notify:function r(){}},n=function(){function r(e,t,n){a(this,r),this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=l}return r.prototype.addNestedSub=function t(e){return this.trySubscribe(),this.listeners.subscribe(e)},r.prototype.notifyNestedSubs=function e(){this.listeners.notify()},r.prototype.isSubscribed=function n(){return Boolean(this.unsubscribe)},r.prototype.trySubscribe=function i(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=s())},r.prototype.tryUnsubscribe=function o(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},r}();t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function C(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function I(n,e,r){for(var t=e.length-1;0<=t;t--){var i=e[t](n);if(i)return i}return function(e,t){throw new Error("Invalid value of type "+typeof n+" for "+r+" argument when connecting component "+t.wrappedComponentName+".")}}function x(e,t){return e===t}function i(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=t.connectHOC,b=n===undefined?s["default"]:n,r=t.mapStateToPropsFactories,T=r===undefined?l["default"]:r,i=t.mapDispatchToPropsFactories,w=i===undefined?u["default"]:i,o=t.mergePropsFactories,E=o===undefined?c["default"]:o,a=t.selectorFactory,S=a===undefined?f["default"]:a;return function P(e,t,n,r){var i=3<arguments.length&&r!==undefined?arguments[3]:{},o=i.pure,a=o===undefined||o,s=i.areStatesEqual,u=s===undefined?x:s,l=i.areOwnPropsEqual,c=l===undefined?O["default"]:l,f=i.areStatePropsEqual,d=f===undefined?O["default"]:f,p=i.areMergedPropsEqual,h=p===undefined?O["default"]:p,g=C(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=I(e,T,"mapStateToProps"),m=I(t,w,"mapDispatchToProps"),y=I(n,E,"mergeProps");return b(S,A({methodName:"connect",getDisplayName:function _(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:v,initMapDispatchToProps:m,initMergeProps:y,pure:a,areStatesEqual:u,areOwnPropsEqual:c,areStatePropsEqual:d,areMergedPropsEqual:h},g))}}t.__esModule=!0;var A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=i;var s=r(n(406)),O=r(n(411)),u=r(n(412)),l=r(n(415)),c=r(n(416)),f=r(n(417));t["default"]=i()},function(e,t){"use strict";function o(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function n(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!a.call(t,n[i])||!o(e[n[i]],t[n[i]]))return!1;return!0}t.__esModule=!0,t["default"]=n;var a=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):undefined}function i(e){return e?undefined:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function o(t){return t&&"object"==typeof t?(0,s.wrapMapToPropsConstant)(function(e){return(0,a.bindActionCreators)(t,e)}):undefined}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=o;var a=n(351),s=n(413);t["default"]=[r,i,o]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(i){return function o(e,t){function n(){return r}var r=i(e,t);return n.dependsOnOwnProps=!1,n}}function s(e){return null!==e.dependsOnOwnProps&&e.dependsOnOwnProps!==undefined?Boolean(e.dependsOnOwnProps):1!==e.length}function o(o){return function a(e,t){t.displayName;var r=function n(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function i(e,t){r.mapToProps=o,r.dependsOnOwnProps=s(o);var n=r(e,t);return"function"==typeof n&&(r.mapToProps=n,r.dependsOnOwnProps=s(n),n=r(e,t)),n},r}}t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=s,t.wrapMapToPropsFunc=o;r(n(414))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){(0,o["default"])(e)||(0,a["default"])(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t["default"]=i;var o=r(n(353)),a=r(n(405))},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapStateToProps"):undefined}function i(e){return e?undefined:(0,o.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=i;var o=n(413);t["default"]=[r,i]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return u({},n,e,t)}function o(l){return function n(e,t){t.displayName;var i=t.pure,o=t.areMergedPropsEqual,a=!1,s=void 0;return function u(e,t,n){var r=l(e,t,n);return a?i&&o(r,s)||(s=r):(a=!0,s=r),s}}}function a(e){return"function"==typeof e?o(e):undefined}function s(e){return e?undefined:function(){return i}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=i,t.wrapMergePropsFunc=o,t.whenMergePropsIsFunction=a,t.whenMergePropsIsOmitted=s;r(n(414));t["default"]=[a,s]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(n,r,i,o){return function a(e,t){return i(n(e,t),r(o,t),t)}}function f(n,r,i,o,e){function a(e,t){return m=n(g=e,v=t),y=r(o,v),_=i(m,y,v),h=!0,_}function s(){return m=n(g,v),r.dependsOnOwnProps&&(y=r(o,v)),_=i(m,y,v)}function u(){return n.dependsOnOwnProps&&(m=n(g,v)),r.dependsOnOwnProps&&(y=r(o,v)),_=i(m,y,v)}function l(){var e=n(g,v),t=!p(e,m);return m=e,t&&(_=i(m,y,v)),_}function c(e,t){var n=!d(t,v),r=!f(e,g);return g=e,v=t,n&&r?s():n?u():r?l():_}var f=e.areStatesEqual,d=e.areOwnPropsEqual,p=e.areStatePropsEqual,h=!1,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0;return function b(e,t){return h?c(e,t):a(e,t)}}function i(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=l(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?f:c)(a,s,u,e,o)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=c,t.pureFinalPropsSelectorFactory=f,t["default"]=i;r(n(418))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,a["default"])("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function o(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}t.__esModule=!0,t["default"]=o;var a=r(n(405))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t["default"]=function(r){var e=function(){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,c["default"].Component),u(e,[{key:"getChildContext",value:function t(){return i({},(0,l.getItemScopeProperty)(r),this.props.itemId)}},{key:"render",value:function n(){return this.props.children}}]),e}();return e.childContextTypes=i({},(0,l.getItemScopeProperty)(r),c["default"].PropTypes.number),e};var l=n(379),c=r(n(333))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.collection,n=e.collectionName,r=e.dispatch,i=e.attributes,o=e.includeConfiguration;(u["default"].Collection&&t instanceof u["default"].Collection?a["default"]:s["default"])({collection:t,collectionName:n,dispatch:r,attributes:i,includeConfiguration:o})};var a=r(n(421)),s=r(n(423)),u=r(n(424))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=function(e){function t(t){return f.some(function(e){return t.hasChanged(e)})}function n(e){return(0,h["default"])(u,e.attributes,c&&e.configuration.attributes)}function r(e){return e[Object.keys(e)[0]]}var i=e.collection,o=e.dispatch,a=e.collectionName,s=e.attributes,u=s===undefined?["id"]:s,l=e.includeConfiguration,c=l!==undefined&&l;o((0,p.reset)({collectionName:a,items:i.map(n)})),i.on("add",function(e){e.isNew()||o((0,p.add)({collectionName:a,attributes:n(e)}))}),i.on("change:id",function(e){o((0,p.add)({collectionName:a,attributes:n(e)}))}),i.on("change",function(e){t(e)&&o((0,p.change)({collectionName:a,attributes:n(e)}))}),c&&i.on("change:configuration",function(e){o((0,p.change)({collectionName:a,attributes:n(e)}))}),i.on("remove",function(e){setTimeout(function(){o((0,p.remove)({collectionName:a,attributes:n(e)}))},0)});var f=u.map(function(e){return"object"==(void 0===e?"undefined":d(e))?r(e):e})};var p=n(373),h=r(n(422))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=function(e,i,t){var n=a.camelize.deep(e.reduce(function(e,t){if("object"==(void 0===t?"undefined":o(t))){var n=Object.keys(t)[0],r=t[n];e[n]=i[r]}else e[t]=i[t];return e},{}));return t?r({},n,a.camelize.deep(t)):n};var a=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.collection,n=e.collectionName,r=e.dispatch,i=e.attributes,o=i===undefined?["id"]:i,a=e.includeConfiguration,s=a!==undefined&&a;r((0,u.reset)({collectionName:n,items:t.map(function(e){return(0,l["default"])(o,e,s&&e.configuration)})}))};var u=n(373),l=r(n(422))},function(e){e.exports=Backbone},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([s.PAGE_SCHEDULE_UNPREPARE,s.PAGE_DID_PREPARE,s.PAGE_WILL_ACTIVATE],i);case 2:case"end":return e.stop()}},u,this)}function i(t){return regeneratorRuntime.wrap(function n(e){for(;;)switch(e.prev=e.next){case 0:if(t.type==s.PAGE_SCHEDULE_UNPREPARE)return e.next=3,(0,a.call)(o.delay,5e3);e.next=5;break;case 3:return e.next=5,(0,a.put)((0,s.pageDidUnprepare)());case 5:case"end":return e.stop()}},l,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(329),u=regeneratorRuntime.mark(r),l=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(o){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:if(o instanceof p["default"].Collection){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,f.takeEvery)(l.UPDATE_PAGE_ATTRIBUTE,regeneratorRuntime.mark(function r(t){return regeneratorRuntime.wrap(function n(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.call)(s,{pagesCollection:o,id:(0,c.getItemIdFromItemAction)(t),name:t.payload.name,value:t.payload.value});case 2:case"end":return e.stop()}},r,this)}));case 4:return e.next=6,(0,f.takeEvery)(l.UPDATE_PAGE_LINK,regeneratorRuntime.mark(function i(t){return regeneratorRuntime.wrap(function n(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.call)(a,{pagesCollection:o,pageId:(0,c.getItemIdFromItemAction)(t),linkId:t.payload.linkId,name:t.payload.name,value:t.payload.value});case 2:case"end":return e.stop()}},i,this)}));case 6:case"end":return e.stop()}},h,this)}function a(e){var t=e.pagesCollection,n=e.pageId,r=e.linkId,i=e.name,o=e.value,a=u(t,n).pageLinks().get(r);if(!a)throw new Error("Could not find page link with id "+r+" in page with perma id "+n+".");a.set(i,o)}function s(e){var t=e.pagesCollection,n=e.id,r=e.name,i=e.value;u(t,n).configuration.set(r,i)}function u(e,t){var n=e.where({perma_id:t})[0];if(!n)throw new Error("Could not find page with perma id "+t+".");return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var l=n(329),c=n(382),f=n(387),d=n(383),p=r(n(424)),h=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function v(e){return parseInt(e.attr("id"),10)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.Component,r=e.store,n=e.selectTargetElement,i=n===undefined?function(e){return e[0]}:n;return{scroller:!1,enhance:function o(e){b["default"].render(_["default"].createElement(T.Provider,{store:r},_["default"].createElement(w,{itemId:v(e)},_["default"].createElement(y["default"],{mediaContext:{page:e.page("instance")}},_["default"].createElement(t,null)))),i(e)),r.dispatch((0,m.enhance)({id:v(e)}))},preload:function a(e){r.dispatch((0,m.pageDidPreload)({id:v(e)}))},prepare:function s(e){r.dispatch((0,m.pageDidPrepare)({id:v(e)}))},unprepare:function u(e){r.dispatch((0,m.pageScheduleUnprepare)({id:v(e)}))},activating:function l(e,t,n){r.dispatch((0,m.pageWillActivate)({id:v(e),position:n.position}))},activated:function c(e){r.dispatch((0,m.pageDidActivate)({id:v(e)}))},deactivating:function f(e){r.dispatch((0,m.pageWillDeactivate)({id:v(e)}))},deactivated:function d(e){r.dispatch((0,m.pageDidDeactivate)({id:v(e)}))},resize:function p(e){r.dispatch((0,m.pageDidResize)({id:v(e)}))},update:function h(e,t){pageflow.commonPageCssClasses.updateCommonPageCssClasses(e,t)},cleanup:function g(e){r.dispatch((0,m.cleanup)({id:v(e)})),b["default"].unmountComponentAtNode(e[0])}}};var i=n(376),m=n(329),y=r(n(428)),_=r(n(333)),b=r(n(429)),T=n(397),w=(0,i.createItemScopeProvider)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=r(n(333)),l=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"getChildContext",value:function t(){return{mediaContext:this.props.mediaContext}}},{key:"render",value:function n(){return this.props.children}}]),e}();(t["default"]=l).childContextTypes={mediaContext:u["default"].PropTypes.object}},function(e){e.exports=ReactDOM},function(e,t){"use strict";function n(i,o){return Object.keys(o).reduce(function(e,r){return"function"==typeof i[r]?e[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i[r].apply(this,t),o[r].apply(this,t)}:e[r]=o[r],e},r({},i))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=r(n(333)),l=r(n(334)),c=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"render",value:function t(){return u["default"].createElement("div",{className:"shadow_wrapper"},u["default"].createElement("div",{className:(0,l["default"])("shadow",this.props.className),style:this.style()}))}},{key:"style",value:function n(){if("gradientOpacity"in this.props.page)return{opacity:this.props.page.gradientOpacity/100}}}]),e}();t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(i["default"],null,React.createElement(o["default"],null,e.children))};var i=r(n(433)),o=r(n(434))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return i["default"].createElement("div",{className:"content",onTouchStart:e.onInteraction,onMouseMove:e.onInteraction},e.children)};var i=r(n(333))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=r(n(333)),l=r(n(435)),c=n(348),f=n(375),d=n(339),p=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"componentWillReceiveProps",value:function t(e){!this.props.enabled&&e.enabled?this.refs.scroller.enable():this.props.enabled&&!e.enabled&&this.refs.scroller.disable(),this.props.initialScrollerPosition!==e.initialScrollerPosition&&e.initialScrollerPosition&&this.refs.scroller.resetPosition({position:e.initialScrollerPosition})}},{key:"getChildContext",value:function r(){var e=this;return this._pageScroller=this._pageScroller||{disable:function t(){e.refs.scroller.disable()},enable:function n(){e.refs.scroller.enable()}},{pageScroller:this._pageScroller}}},{key:"render",value:function n(){return u["default"].createElement(l["default"],{ref:"scroller",className:this.props.className},u["default"].createElement("div",{className:"contentWrapper"},this.props.children))}}]),e}();p.propTypes={className:u["default"].PropTypes.string},p.childContextTypes={pageScroller:u["default"].PropTypes.object},t["default"]=(0,c.connectInPage)((0,d.combineSelectors)({enabled:(0,f.pageIsActivated)(),initialScrollerPosition:(0,f.initialScrollerPosition)()}))(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function r(e,t){
for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),f=n(333),d=r(n(429)),p=r(n(334)),i=function(){function e(){return s(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,f.Component),c(e,[{key:"render",value:function t(){return React.createElement("div",{ref:"wrapper",className:(0,p["default"])("scroller",this.props.className)},React.createElement("div",null,this.props.children))}},{key:"componentDidMount",value:function n(){if("undefined"!=typeof jQuery){var e=jQuery(d["default"].findDOMNode(this.refs.wrapper));e.scroller(),window.sss=this.scroller=e.scroller("instance")}}},{key:"componentDidUpdate",value:function r(){this.scroller.refresh()}},{key:"enable",value:function i(){this.scroller.enable(),this.scroller.afterAnimationHook()}},{key:"disable",value:function o(){this.scroller.disable()}},{key:"resetPosition",value:function a(e){this.scroller.resetPosition(e)}},{key:"resetPosition",value:function a(e){this.scroller.resetPosition(e)}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=r(n(333)),l=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"render",value:function t(){return u["default"].createElement("div",{className:"page_header"},u["default"].createElement("h2",null,u["default"].createElement("span",{className:"tagline"},this.props.page.tagline),u["default"].createElement("span",{className:"title"},this.props.page.title),u["default"].createElement("span",{className:"subtitle"},this.props.page.subtitle)))}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),s=n(333),u=function(){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,s.Component),a(e,[{key:"render",value:function t(){return React.createElement("div",{className:"contentText"},React.createElement("p",{dangerouslySetInnerHTML:this.text()}),this.props.children)}},{key:"text",value:function n(){return{__html:this.props.page.text}}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),l=r(n(333)),i=n(397),c=n(339),f=n(439),d=n(375),p=function(){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,l["default"].Component),u(e,[{key:"render",value:function t(){return l["default"].createElement("a",{href:this._href(),className:this.props.className,onClick:this._handleClick.bind(this)},this.props.children)}},{key:"_href",value:function n(){return this._targetPage()?"#"+this._targetPage().permaId:"#missing"}},{key:"_handleClick",value:function r(e){this._targetPage()&&pageflow.slides.goToByPermaId(this._targetPage().permaId,{transition:this.props.pageLink.pageTransition}),e.preventDefault()}},{key:"_targetPage",value:function i(){return this.props.targetPage}}]),e}();t["default"]=(0,i.connect)((0,c.combineSelectors)({targetPage:(0,d.pageAttributes)({id:(0,f.prop)("pageLink.targetPageId")})}))(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(r){return function(e,t){var n=r.split(".");if(!(n[0]in t))throw new Error("Missing required prop "+n[0]+".");return n.reduce(function(e,t){return e&&e[t]},t)}}function o(r){return function(e,t,n){return(0,a["default"])(r,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prop=i,t.has=o;var a=r(n(346))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return React.createElement("div",{className:a(e)})}function a(e){return(0,v["default"])({load_image:e.lazy&&e.loaded},e.className,s(e.pageType),u(e))}function s(e){return e?"is_"+e.name:"is_dangling"}function u(e){var t=l(e);if(t)return h(e,t)}function l(n){return f(n).find(function(e){if(e.condition&&!c(e.condition,n.page))return!1;var t=g(n,e);return n.fileExists((0,b.camelize)(e.collectionName),t)})}function c(e,t){var n=t[(0,b.camelize)(e.attribute)];return e.negated?n!=e.value:n==e.value}function f(e){return[d(e)].concat(i(p(e.pageType)))}function d(e){return{id:e.customThumbnailId,cssClassPrefix:"pageflow_image_file",collectionName:"image_files"}}function p(e){return e?e.thumbnailCandidates:[]}function h(e,t){return[e.lazy?"lazy":null,t.cssClassPrefix,e.imageStyle,g(e,t)].filter(Boolean).join("_")}function g(e,t){return"id"in t?t.id:e.page[(0,b.camelize)(t.attribute)]}Object.defineProperty(t,"__esModule",{value:!0}),t.PageThumbnail=o;var v=r(n(334)),m=n(348),y=n(441),_=n(442),b=n(339);o.defaultProps={imageStyle:"navigation_thumbnail_large"},t["default"]=(0,m.connectInPage)((0,b.combineSelectors)({pageType:(0,y.pageType)({page:function T(e){return e.page}}),fileExists:(0,_.fileExists)()}))(o)},function(e,t,n){"use strict";function r(e){var r=e.page;return function(e,t){var n="function"==typeof r?r(t):r;return n?e.pageTypes[(0,i.camelize)(n.type)]:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageType=r;var i=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(r,e){return(0,c.memoizedSelector)((0,l.createItemSelector)(r,{namespace:"files"})(e),function(e){return e.fileUrlTemplates},function(e){return e.modelTypes},function(e,t,n){return u(r,e,t,n)})}function o(s,e){var t=e.parent;return(0,c.memoizedSelector)((0,l.createItemsSelector)(s,{namespace:"files"}),t,function(e){return e.fileUrlTemplates},function(e){return e.modelTypes},function(r,i,o,a){return i?Object.keys(r).reduce(function(e,t){var n=r[t];return n.id&&n.parentFileId==i.id&&n.parentFileModelType==i.modelType&&e.push(u(s,n,o,a)),e},[]):[]})}function a(){return(0,c.memoizedSelector)(function(e){return e.files},function(n){return function(e,t){return t&&!!(0,l.createItemSelector)(e)({id:t})(n)}})}function u(e,t,n,r){return(0,f["default"])(e,(0,s["default"])(e,t,n),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.file=i,t.nestedFiles=o,t.fileExists=a;var l=n(376),c=n(339),s=r(n(443)),f=r(n(444))},function(e,t){"use strict";function a(e,t,n,r){var i=r[e][n];if(i)return i.replace(":id_partition",o(t.id)).replace(":basename",t.basename)}function o(e){return n(r(e,9),"/")}function n(e){return e.replace(/./g,function(e,t,n){return t&&(n.length-t)%3==0?"/"+e:e})}function r(e,t){return(Array(t).fill(0).join("")+e).slice(-t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(r,i,o){if(!i)return null;if(!o[r])throw new Error("No file url templates found for "+r);var e=(i.variants||Object.keys(o[r])).reduce(function(e,t){var n=a(r,i,t,o);return n&&(e[t]=n),e},{});return s({urls:e},i)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t,n){if(!t)return null;if(!n[e])throw new Error("Could not find model type for collection name "+e);return r({},t,{collectionName:e,modelType:n[e]})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(440)),o=n(348),a=n(375),s=n(339);t["default"]=(0,o.connectInPage)((0,s.combineSelectors)({loaded:(0,a.pageIsPreloaded)(),lazy:!0}))(i["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return l["default"].createElement(p["default"],e,l["default"].createElement("span",{className:"hint"},e.hint),l["default"].createElement(d["default"],u({},e.infoBox,{hiddenDuringPlayback:e.infoBoxHiddenDuringPlayback})),l["default"].createElement("div",{className:s(e)},o(e),l["default"].createElement("div",{className:"play_button"},l["default"].createElement(g["default"],{title:e.playButtonTitle,iconName:e.playButtonIconName,isPlaying:e.isPlaying,onClick:e.onPlayButtonClick})),a(e),l["default"].createElement("div",{className:"control_bar_text"},e.controlBarText)),l["default"].createElement(b["default"],{standAlone:!1,additionalButtons:e.additionalMenuBarButtons,onAdditionalButtonClick:e.onAdditionalButtonClick,onAdditionalButtonMouseEnter:e.onAdditionalButtonMouseEnter,onAdditionalButtonMouseLeave:e.onAdditionalButtonMouseLeave,qualityMenuButtonTitle:e.qualityMenuButtonTitle,qualityMenuItems:e.qualityMenuItems,onQualityMenuItemClick:e.onQualityMenuItemClick,textTracksMenuButtonTitle:e.textTracksMenuButtonTitle,textTracksMenuItems:e.textTracksMenuItems,onTextTracksMenuItemClick:e.onTextTracksMenuItemClick}))}function o(e){if(e.isLoading)return l["default"].createElement(h["default"],e)}function a(e){if(e.hasProgress)return l["default"].createElement("div",{className:"player_controls-progress"},l["default"].createElement(v["default"],e),l["default"].createElement(m["default"],null),l["default"].createElement(y["default"],e),l["default"].createElement(_["default"],e))}function s(e){return(0,c["default"])("vjs-control-bar",{with_quality_menu_present:e.qualityMenuItems&&2<=e.qualityMenuItems.length,with_text_tracks_menu_present:e.textTracksMenuItems&&2<=e.textTracksMenuItems.length})}Object.defineProperty(t,"__esModule",{value:!0}),t.isInfoBoxEmpty=undefined;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=r(n(333)),c=r(n(334)),f=n(447),d=r(f),p=r(n(448)),h=r(n(449)),g=r(n(460)),v=r(n(462)),m=r(n(464)),y=r(n(465)),_=r(n(466)),b=r(n(480)),T=r(n(484));i.propTypes={isLoading:l["default"].PropTypes.bool,hasProgress:l["default"].PropTypes.bool,hint:l["default"].PropTypes.string,controlBarText:l["default"].PropTypes.string,playButtonTitle:l["default"].PropTypes.string,infoBox:l["default"].PropTypes.object,onPlayButtonClick:l["default"].PropTypes.func},t.isInfoBoxEmpty=f.isEmpty,t["default"]=(0,T["default"])(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},a(e),s(e))}function o(e){return(0,l["default"])("add_info_box",{empty:u(e),title_empty:(0,c.isBlank)(e.title),description_empty:(0,c.isBlank)(e.description),"add_info_box-hidden_during_playback":e.hiddenDuringPlayback})}function a(e){if(!(0,c.isBlank)(e.title))return React.createElement("h3",null,e.title)}function s(e){if(!(0,c.isBlank)(e.description))return React.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}})}function u(e){return(0,c.isBlank)(e.title)&&(0,c.isBlank)(e.description)}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=u;var l=r(n(334)),c=n(339);t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:(0,o["default"])("controls",e.className),"data-role":"player_controls",onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(334))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return React.createElement("div",{className:"vjs-loading-spinner"},React.createElement(i["default"],{name:"loadingSpinner"}))};var i=r(n(450))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=a["default"][e.name];if(!t)throw new Error('No icon registered for "'+e.name+'".');return o["default"].createElement(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(333)),a=r(n(451));i.propTypes={name:o["default"].PropTypes.string.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(452));t["default"]={toggleInfoBox:i["default"].Info,mediaQuality:i["default"].Gear,textTracks:i["default"].Subtitles,activeMenuItem:i["default"].Checkmark,loadingSpinner:i["default"].CircleWithNotch}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(453)),o=r(n(455)),a=r(n(456)),s=r(n(457)),u=r(n(458)),l=r(n(459));t["default"]={Checkmark:i["default"],CircleWithNotch:o["default"],Disk:a["default"],Gear:s["default"],Info:u["default"],Subtitles:l["default"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:512,viewBoxHeight:512}),React.createElement("polygon",{points:"434.442,58.997 195.559,297.881 77.554,179.88 0,257.438 195.559,453.003 512,136.551 "}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return o["default"].createElement("svg",{className:e.className,version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:e.viewBoxLeft+" "+e.viewBoxTop+" "+e.viewBoxWidth+" "+e.viewBoxHeight},e.children)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(333));i.propTypes={viewBoxWidth:o["default"].PropTypes.number.isRequired,viewBoxHeight:o["default"].PropTypes.number.isRequired,viewBoxLeft:o["default"].PropTypes.number,viewBoxTop:o["default"].PropTypes.number,className:o["default"].PropTypes.string,width:o["default"].PropTypes.number,height:o["default"].PropTypes.number},i.defaultProps={width:20,height:20,viewBoxLeft:0,viewBoxTop:0},t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:1e3,viewBoxHeight:1e3}),React.createElement("path",{d:"M990,497.6c0,66.4-13,129.8-38.8,190.3c-25.9,60.5-60.7,112.7-104.4,156.4C803,888,750.9,922.8,690.3,948.7c-60.5,25.9-124,38.8-190.3,38.8s-129.8-12.9-190.3-38.8S197,888,153.3,844.3c-43.7-43.7-78.5-95.9-104.4-156.4C22.9,627.4,10,563.9,10,497.6c0-80.9,18.4-156.5,55.2-226.7c36.8-70.2,87.2-128,151.2-173.4s135.2-73.8,213.6-85v142.2c-80.6,16.4-147.4,56.7-200.4,120.9c-53,64.2-79.5,138.2-79.6,222c0,47.4,9.3,92.7,27.9,135.9c18.6,43.2,43.4,80.4,74.6,111.6c31.2,31.2,68.4,56.1,111.6,74.6c43.2,18.5,88.5,27.8,135.9,27.9c47.4,0,92.7-9.2,135.9-27.9C679,801,716.2,776.1,747.4,745c31.2-31.1,56-68.3,74.6-111.6c18.6-43.3,27.9-88.6,27.9-135.9c0-83.9-26.5-157.9-79.6-222C717.2,211.3,650.4,171,569.9,154.6V12.5c78.4,11.3,149.6,39.6,213.6,85c64,45.4,114.4,103.2,151.2,173.4c36.8,70.2,55.2,145.7,55.2,226.7H990z"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:24,viewBoxHeight:24}),React.createElement("circle",{cx:"12",cy:"12",r:"12"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:24,viewBoxHeight:24}),React.createElement("path",{d:"M21.312,14.056l-1.691-0.98c0,0-0.472-0.216-0.446-1.073c0,0-0.128-0.961,0.478-1.293l1.661-1.014 c0,0,0.546-0.245,0.313-0.818l-0.707-1.598c0,0-0.229-0.625-0.902-0.423l-1.93,0.615c0,0-0.666-0.009-1.078-0.458 c0,0-0.687-0.662-0.476-1.229l0.445-1.924c0,0,0.114-0.563-0.312-0.768l-1.995-0.757c0,0-0.43-0.026-0.562,0.305l-1.122,2.006 c0,0-0.524,0.437-1.248,0.292c0,0-0.752-0.072-0.928-0.253c0,0-1.135-1.916-1.19-2.015c0,0-0.21-0.437-0.65-0.262L7.144,3.176 c0,0-0.367,0.229-0.275,0.559l0.649,2.441c0,0-0.139,0.597-0.561,0.924c0,0-0.745,0.55-1.104,0.483L3.858,7.1 c0,0-0.578-0.207-0.805,0.294L2.306,9.232c0,0-0.143,0.38,0.251,0.616l1.96,1.123c0,0,0.624,0.286,0.441,1.38 c0,0,0.037,0.804-0.756,1.24c-0.793,0.437-1.476,0.875-1.476,0.875s-0.437,0.21-0.249,0.681c0.189,0.471,0.895,1.811,0.895,1.811 s0.131,0.336,0.762,0.091l1.723-0.466c0,0,0.5-0.151,1.031,0.319c0,0,0.741,0.504,0.687,0.919l-0.48,2.433 c0,0-0.157,0.411,0.312,0.676l1.929,0.733c0,0,0.538,0.052,0.68-0.389l0.84-1.532c0,0,0.278-0.669,1.177-0.625 c0,0,0.909-0.081,1.227,0.407l1.101,1.833c0,0,0.199,0.466,0.791,0.188l1.709-0.728c0,0,0.479-0.315,0.333-0.743l-0.533-1.853 c0,0-0.238-0.5,0.259-1.055c0,0,0.533-0.876,1.27-0.701l2.043,0.487c0,0,0.424,0.187,0.793-0.413l0.659-1.639 C21.685,14.901,21.886,14.313,21.312,14.056z M8.542,13.474c-0.824-1.931,0.073-4.166,2.004-4.989 c1.931-0.826,4.165,0.073,4.988,2.004c0.825,1.931-0.073,4.164-2.005,4.989C11.599,16.303,9.365,15.404,8.542,13.474z"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxLeft:5,viewBoxTop:5,viewBoxWidth:145,viewBoxHeight:145}),React.createElement("path",{d:"m80 15c-35.88 0-65 29.12-65 65s29.12 65 65 65 65-29.12 65-65-29.12-65-65-65zm0 10c30.36 0 55 24.64 55 55s-24.64 55-55 55-55-24.64-55-55 24.64-55 55-55z"}),React.createElement("path",{d:"m57.373 18.231a9.3834 9.1153 0 1 1 -18.767 0 9.3834 9.1153 0 1 1 18.767 0z",transform:"matrix(1.1989 0 0 1.2342 21.214 28.75)"}),React.createElement("path",{d:"m90.665 110.96c-0.069 2.73 1.211 3.5 4.327 3.82l5.008 0.1v5.12h-39.073v-5.12l5.503-0.1c3.291-0.1 4.082-1.38 4.327-3.82v-30.813c0.035-4.879-6.296-4.113-10.757-3.968v-5.074l30.665-1.105"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:1200,viewBoxHeight:1200}),React.createElement("path",{transform:"translate(100,100)",d:"M893.4,599V500H401.1V599H893.4z M893.4,794.5v-98.9H695.5v98.9H893.4z M598.9,794.5v-98.9H106.6v98.9H598.9z M106.6,500V599h197.8V500H106.6z M893.4,106.7c26.1,0,48.7,10,67.9,29.9s28.8,42.9,28.8,69v588.9c0,26.1-9.6,49.1-28.8,69c-19.2,19.9-41.8,29.9-67.9,29.9H106.6c-26.1,0-48.7-10-67.9-29.9c-19.2-19.9-28.8-42.9-28.8-69V205.5c0-26.1,9.6-49.1,28.8-69s41.8-29.9,67.9-29.9H893.4z"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("a",{className:o(e),href:"#",tabIndex:"4",id:e.id,title:e.title,onClick:a(e)},s(e))}function o(e){return(0,u["default"])("vjs-play-control",{"vjs-playing":e.isPlaying},{"player_controls-play_button-custom_icon":!!e.iconName})}function a(t){return function(e){t.onClick&&t.onClick(e),e.preventDefault()}}function s(e){return e.iconName?React.createElement(l["default"],{name:e.iconName}):React.createElement("span",null)}Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(334)),l=r(n(450)),c=r(n(461));t["default"]=(0,c["default"])(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(0,r.connectInPage)((0,o.combineSelectors)({id:(0,o.memoizedSelector)((0,i.pageIsActive)(),function(e){return e?"firstContent":undefined})}))(e)};var r=n(348),i=n(375),o=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(i["default"],{className:"vjs-current-time",value:e.currentTime})};var i=r(n(463))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:(0,s["default"])(e.className,"vjs-current-time")},o(e.value))}function o(e){if(isNaN(e))return u;var t=Math.floor(e)%60,n=Math.floor(e/60)%60,r=Math.floor(e/60/60);return 0<r?r+":"+a(n)+":"+a(t):n+":"+a(t)}function a(e){return e<10?"0"+e:e}Object.defineProperty(t,"__esModule",{value:!0}),t.unknownTimePlaceholder=undefined,t["default"]=i;var s=r(n(334)),u=t.unknownTimePlaceholder="-:--";i.defaultProps={value:0}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return React.createElement("div",{className:"vjs-time-divider"},"/")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(i["default"],{className:"vjs-duration",value:e.duration})};var i=r(n(463))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return 0<e?100*e+"%":0}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),f=r(n(333)),d=n(467),p=r(n(468)),h=n(479),i=function(){function r(e,t){a(this,r);var n=s(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.state={handleWidth:null,progressHolderWidth:null},n.measureProgressHolder=function(e){var t=e.width;n.setState({progressHolderWidth:t})},n.measureHandle=function(e){var t=e.width;n.setState({handleWidth:t})},n.handleStop=function(e,t){n.props.onSeek&&n.props.onSeek(n.positionToTime(t.x))},n.handleDrag=function(e,t){n.props.onScrub&&n.props.onScrub(n.positionToTime(t.x))},n.handleKeyDown=function(e){var t=void 0;e.keyCode==h.ARROW_LEFT?t=Math.max(0,n.props.currentTime-1):e.keyCode==h.ARROW_RIGHT&&(t=Math.min(n.props.currentTime+1,n.props.duration||Infinity)),n.prop.onSeek&&n.props.onSeek(t)},n}return u(r,f["default"].Component),c(r,[{key:"positionToTime",value:function t(e){return this.props.duration&&this.state.progressHolderWidth?Math.max(0,Math.min(1,e/this.state.progressHolderWidth))*this.props.duration:0}},{key:"render",value:function e(){return f["default"].createElement("div",{className:"vjs-progress-control",tabIndex:"4",onKeyDown:this.handleKeyDown},f["default"].createElement(p["default"],{whitelist:["width"],onMeasure:this.measureProgressHolder},f["default"].createElement(d.DraggableCore,{onStart:this.handleDrag,onDrag:this.handleDrag,onStop:this.handleStop},f["default"].createElement("div",{className:"vjs-progress-holder"},f["default"].createElement("div",{className:"vjs-load-progress",style:{width:l(this.loadProgress())}}),f["default"].createElement("div",{className:"vjs-play-progress",style:{width:l(this.playProgress())}}),f["default"].createElement(p["default"],{whitelist:["width"],onMeasure:this.measureHandle},f["default"].createElement("div",{className:"vjs-seek-handle",style:{left:this.handlePosition()}}))))))}},{key:"handlePosition",value:function n(){return this.state.handleWidth&&this.state.progressHolderWidth?(this.state.progressHolderWidth-this.state.handleWidth)*this.playProgress():l(this.playProgress())}},{key:"loadProgress",value:function i(){return 0<this.props.duration?this.props.bufferedEnd/this.props.duration:0}},{key:"playProgress",value:function o(){return 0<this.props.duration?this.props.currentTime/this.props.duration:0}}]),r}();(t["default"]=i).defaultProps={currentTime:0,bufferedEnd:0}},function(n,e,r){!function i(e,t){n.exports=t(r(333),r(429))}(0,function(t,n){return function(n){function r(e){if(i[e])return i[e].exports;var t=i[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(e,t,n){"use strict";e.exports=n(1)["default"],e.exports.DraggableCore=n(17)["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function n(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),h=r(n(2)),i=r(n(3)),c=r(n(11)),g=r(n(12)),v=n(13),m=n(16),f=n(14),y=r(n(17)),_=r(n(19)),b=function(){function t(e){o(this,t);var u=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return u.onDragStart=function(e,t){if((0,_["default"])("Draggable: onDragStart: %j",t),!1===u.props.onStart(e,(0,m.createDraggableData)(u,t)))return!1;u.setState({dragging:!0,dragged:!0})},u.onDrag=function(e,t){if(!u.state.dragging)return!1;(0,_["default"])("Draggable: onDrag: %j",t);var n=(0,m.createDraggableData)(u,t),r={x:n.x,y:n.y};if(u.props.bounds){var i=r.x,o=r.y;r.x+=u.state.slackX,r.y+=u.state.slackY;var a=(0,m.getBoundPosition)(u,r.x,r.y),s=l(a,2);r.x=s[0],r.y=s[1],r.slackX=u.state.slackX+(i-r.x),r.slackY=u.state.slackY+(o-r.y),n.x=i,n.y=o,n.deltaX=r.x-u.state.x,n.deltaY=r.y-u.state.y}if(!1===u.props.onDrag(e,n))return!1;u.setState(r)},u.onDragStop=function(e,t){if(!u.state.dragging)return!1;if(!1===u.props.onStop(e,(0,m.createDraggableData)(u,t)))return!1;(0,_["default"])("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(u.props.position)){var r=u.props.position,i=r.x,o=r.y;n.x=i,n.y=o}u.setState(n)},u.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},u}return s(t,h["default"].Component),u(t,[{key:"componentWillMount",value:function e(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function n(){"undefined"!=typeof SVGElement&&c["default"].findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function r(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function i(){this.setState({dragging:!1})}},{key:"render",value:function f(){var e,t={},n=null,r=!Boolean(this.props.position)||this.state.dragging,i=this.props.position||this.props.defaultPosition,o={x:(0,m.canDragX)(this)&&r?this.state.x:i.x,y:(0,m.canDragY)(this)&&r?this.state.y:i.y};this.state.isElementSVG?n=(0,v.createSVGTransform)(o):t=(0,v.createCSSTransform)(o);var a=this.props,s=a.defaultClassName,u=a.defaultClassNameDragging,l=a.defaultClassNameDragged,c=(0,g["default"])(this.props.children.props.className||"",s,(d(e={},u,this.state.dragging),d(e,l,this.state.dragged),e));return h["default"].createElement(y["default"],p({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),h["default"].cloneElement(
h["default"].Children.only(this.props.children),{className:c,style:p({},this.props.children.props.style,t),transform:n}))}}]),t}();b.displayName="Draggable",b.propTypes=p({},y["default"].propTypes,{axis:i["default"].oneOf(["both","x","y","none"]),bounds:i["default"].oneOfType([i["default"].shape({left:i["default"].number,right:i["default"].number,top:i["default"].number,bottom:i["default"].number}),i["default"].string,i["default"].oneOf([!1])]),defaultClassName:i["default"].string,defaultClassNameDragging:i["default"].string,defaultClassNameDragged:i["default"].string,defaultPosition:i["default"].shape({x:i["default"].number,y:i["default"].number}),position:i["default"].shape({x:i["default"].number,y:i["default"].number}),className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),b.defaultProps=p({},y["default"].defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t["default"]=b},function(e){e.exports=t},function(e,t,n){if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV){var r="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},o=!0;e.exports=n(4)(i,o)}else e.exports=n(10)()},function(e,t,n){"use strict";var P=n(5),C=n(6),I=n(7),x=n(8),A=n(9);e.exports=function(a,f){function o(e){var t=e&&(T&&e[T]||e[w]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e){this.message=e,this.stack=""}function t(u){function e(e,t,n,r,i,o,a){if(r=r||E,o=o||n,a!==x)if(f)C(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&"undefined"!=typeof console){var s=r+":"+n;!l[s]&&c<3&&(I(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",o,r),l[s]=!0,c++)}return null==t[n]?e?null===t[n]?new d("The "+i+" `"+o+"` is marked as required in `"+r+"`, but its value is `null`."):new d("The "+i+" `"+o+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:u(t,n,r,i,o)}if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)var l={},c=0;var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function e(a){function e(e,t,n,r,i){var o=e[t];return y(o)===a?null:new d("Invalid "+r+" `"+i+"` of type `"+_(o)+"` supplied to `"+n+"`, expected `"+a+"`.")}return t(e)}function n(){return t(P.thatReturnsNull)}function r(u){function e(e,t,n,r,i){if("function"!=typeof u)return new d("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=e[t];if(!Array.isArray(o))return new d("Invalid "+r+" `"+i+"` of type `"+y(o)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<o.length;a++){var s=u(o,a,n,r,i+"["+a+"]",x);if(s instanceof Error)return s}return null}return t(e)}function i(){function e(e,t,n,r,i){var o=e[t];return a(o)?null:new d("Invalid "+r+" `"+i+"` of type `"+y(o)+"` supplied to `"+n+"`, expected a single ReactElement.")}return t(e)}function s(a){function e(e,t,n,r,i){if(e[t]instanceof a)return null;var o=a.name||E;return new d("Invalid "+r+" `"+i+"` of type `"+b(e[t])+"` supplied to `"+n+"`, expected instance of `"+o+"`.")}return t(e)}function l(s){function e(e,t,n,r,i){for(var o=e[t],a=0;a<s.length;a++)if(u(o,s[a]))return null;return new d("Invalid "+r+" `"+i+"` of value `"+o+"` supplied to `"+n+"`, expected one of "+JSON.stringify(s)+".")}return Array.isArray(s)?t(e):("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&I(!1,"Invalid argument supplied to oneOf, expected an instance of array."),P.thatReturnsNull)}function c(l){function e(e,t,n,r,i){if("function"!=typeof l)return new d("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=e[t],a=y(o);if("object"!==a)return new d("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected an object.");for(var s in o)if(o.hasOwnProperty(s)){var u=l(o,s,n,r,i+"."+s,x);if(u instanceof Error)return u}return null}return t(e)}function p(a){function e(e,t,n,r,i){for(var o=0;o<a.length;o++){if(null==(0,a[o])(e,t,n,r,i,x))return null}return new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`.")}return Array.isArray(a)?t(e):("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&I(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),P.thatReturnsNull)}function h(){function e(e,t,n,r,i){return v(e[t])?null:new d("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return t(e)}function g(c){function e(e,t,n,r,i){var o=e[t],a=y(o);if("object"!==a)return new d("Invalid "+r+" `"+i+"` of type `"+a+"` supplied to `"+n+"`, expected `object`.");for(var s in c){var u=c[s];if(u){var l=u(o,s,n,r,i+"."+s,x);if(l)return l}}return null}return t(e)}function v(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||a(e))return!0;var t=o(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!v(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!v(i[1]))return!1}return!0;default:return!1}}function m(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":m(t,e)?"symbol":t}function _(e){var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var T="function"==typeof Symbol&&Symbol.iterator,w="@@iterator",E="<<anonymous>>",S={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),symbol:e("symbol"),any:n(),arrayOf:r,element:i(),instanceOf:s,node:h(),objectOf:c,oneOf:l,oneOfType:p,shape:g};return d.prototype=Error.prototype,S.checkPropTypes=A,S.PropTypes=S}},function(e){"use strict";function t(e){return function(){return e}}var n=function n(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){"use strict";function t(e,t,n,r,i,o,a,s){if(f(t),!e){var u;if(t===undefined)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}var f=function f(){};"production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&(f=function f(e){if(e===undefined)throw new Error("invariant requires an error message argument")}),e.exports=t},function(e,t,n){"use strict";var s,r=n(5);"production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&(s=function s(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(a){}},r=function o(e,t){if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.apply(undefined,[t].concat(r))}}),e.exports=r},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e,t,n,r,i){if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)for(var o in e)if(e.hasOwnProperty(o)){var a;try{l("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,o),a=e[o](t,o,r,n,null,f)}catch(u){a=u}if(c(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in d)){d[a.message]=!0;var s=i?i():"";c(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:"")}}}if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)var l=n(6),c=n(7),f=n(8),d={};e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(6);e.exports=function(){function e(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e){e.exports=n},function(e,t){var n,r;!function(){"use strict";function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(o.apply(null,n));else if("object"===r)for(var i in n)a.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}var a={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=o:(n=[],(r=function(){return o}.apply(t,n))===undefined||(e.exports=r))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(t,e){return P||(P=(0,w.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,w.isFunction)(t[e])})),t[P].call(t,e)}function a(e,t,n){var r=e;do{if(o(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function s(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function u(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function l(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,w["int"])(n.borderTopWidth),t+=(0,w["int"])(n.borderBottomWidth)}function c(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,w["int"])(n.borderLeftWidth),t+=(0,w["int"])(n.borderRightWidth)}function f(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,w["int"])(n.paddingTop),t-=(0,w["int"])(n.paddingBottom)}function d(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,w["int"])(n.paddingLeft),t-=(0,w["int"])(n.paddingRight)}function p(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function h(e){var t=e.x,n=e.y;return i({},(0,E.browserPrefixToKey)("transform",S["default"]),"translate("+t+"px,"+n+"px)")}function g(e){return"translate("+e.x+","+e.y+")"}function v(e,t){return e.targetTouches&&(0,w.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,w.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function m(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function y(e){var t=e.getAttribute("style")||"";A.test(t)||e.setAttribute("style",t+x)}function _(e){var t=e.getAttribute("style")||"";e.setAttribute("style",t.replace(A,""))}function b(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{};return T({touchAction:"none"},t)}Object.defineProperty(t,"__esModule",{value:!0});var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=o,t.matchesSelectorAndParentsTo=a,t.addEvent=s,t.removeEvent=u,t.outerHeight=l,t.outerWidth=c,t.innerHeight=f,t.innerWidth=d,t.offsetXYFromParent=p,t.createCSSTransform=h,t.createSVGTransform=g,t.getTouch=v,t.getTouchIdentifier=m,t.addUserSelectStyles=y,t.removeUserSelectStyles=_,t.styleHacks=b;var w=n(14),E=n(15),S=r(E),P="",C=(0,E.getPrefix)("user-select"),I=(0,E.browserPrefixToStyle)("user-select",C),x=";"+I+": none;",A=new RegExp(";?"+I+": none;")},function(e,t){"use strict";function n(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function r(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function i(e){return"number"==typeof e&&!isNaN(e)}function o(e){return parseInt(e,10)}function a(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=n,t.isFunction=r,t.isNum=i,t["int"]=o,t.dontSetMe=a},function(e,t){"use strict";function n(e){var t=0<arguments.length&&e!==undefined?arguments[0]:"transform";if("undefined"==typeof window||"undefined"==typeof window.document)return"";var n=window.document.documentElement.style;if(t in n)return"";for(var r=0;r<a.length;r++)if(i(t,a[r])in n)return a[r];return""}function i(e,t){return t?""+t+o(e):e}function r(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function o(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=n,t.browserPrefixToKey=i,t.browserPrefixToStyle=r;var a=["Moz","Webkit","O","ms"];t["default"]=n()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:f(r);var i=p["default"].findDOMNode(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if("parent"===r)s=i.parentNode;else if(!(s=o.querySelector(r)))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=a.getComputedStyle(i),l=a.getComputedStyle(s);r={left:-i.offsetLeft+(0,d["int"])(l.paddingLeft)+(0,d["int"])(u.marginLeft),top:-i.offsetTop+(0,d["int"])(l.paddingTop)+(0,d["int"])(u.marginTop),right:(0,h.innerWidth)(s)-(0,h.outerWidth)(i)-i.offsetLeft+(0,d["int"])(l.paddingRight)-(0,d["int"])(u.marginRight),bottom:(0,h.innerHeight)(s)-(0,h.outerHeight)(i)-i.offsetTop+(0,d["int"])(l.paddingBottom)-(0,d["int"])(u.marginBottom)}}return(0,d.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,d.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,d.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,d.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function o(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function a(e){return"both"===e.props.axis||"x"===e.props.axis}function s(e){return"both"===e.props.axis||"y"===e.props.axis}function u(e,t,n){var r="number"==typeof t?(0,h.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=p["default"].findDOMNode(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,h.offsetXYFromParent)(r||e,o)}function l(e,t,n){var r=e.state;return!(0,d.isNum)(r.lastX)?{node:p["default"].findDOMNode(e),deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:p["default"].findDOMNode(e),deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function c(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function f(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=i,t.snapToGrid=o,t.canDragX=a,t.canDragY=s,t.getControlPosition=u,t.createCoreData=l,t.createDraggableData=c;var d=n(14),p=r(n(11)),h=n(13)},function(e,w,E){(function(n){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(w,"__esModule",{value:!0});var d=function(){function n(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=e(E(2)),t=e(E(3)),l=e(E(11)),c=E(13),p=E(16),o=E(14),h=e(E(19)),g={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},v=g.mouse,f=function(){function o(){var e,t,f;a(this,o);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=f=s(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(r)))).state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},f.handleDragStart=function(e){if(f.props.onMouseDown(e),!f.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=l["default"].findDOMNode(f),n=t.ownerDocument;if(!(f.props.disabled||!(e.target instanceof n.defaultView.Node)||f.props.handle&&!(0,c.matchesSelectorAndParentsTo)(e.target,f.props.handle,t)||f.props.cancel&&(0,c.matchesSelectorAndParentsTo)(e.target,f.props.cancel,t))){var r=(0,c.getTouchIdentifier)(e);f.setState({touchIdentifier:r});var i=(0,p.getControlPosition)(e,r,f);if(null!=i){var o=i.x,a=i.y,s=(0,p.createCoreData)(f,o,a);(0,h["default"])("DraggableCore: handleDragStart: %j",s),(0,h["default"])("calling",f.props.onStart),!1!==f.props.onStart(e,s)&&(f.props.enableUserSelectHack&&(0,c.addUserSelectStyles)(n.body),f.setState({dragging:!0,lastX:o,lastY:a}),(0,c.addEvent)(n,v.move,f.handleDrag),(0,c.addEvent)(n,v.stop,f.handleDragStop))}}},f.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,p.getControlPosition)(e,f.state.touchIdentifier,f);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(f.props.grid)){var i=n-f.state.lastX,o=r-f.state.lastY,a=(0,p.snapToGrid)(f.props.grid,i,o),s=d(a,2);if(i=s[0],o=s[1],!i&&!o)return;n=f.state.lastX+i,r=f.state.lastY+o}var u=(0,p.createCoreData)(f,n,r);if((0,h["default"])("DraggableCore: handleDrag: %j",u),!1!==f.props.onDrag(e,u))f.setState({lastX:n,lastY:r});else try{f.handleDragStop(new MouseEvent("mouseup"))}catch(c){var l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),f.handleDragStop(l)}}},f.handleDragStop=function(e){if(f.state.dragging){var t=(0,p.getControlPosition)(e,f.state.touchIdentifier,f);if(null!=t){var n=t.x,r=t.y,i=(0,p.createCoreData)(f,n,r),o=l["default"].findDOMNode(f).ownerDocument;f.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(o.body),(0,h["default"])("DraggableCore: handleDragStop: %j",i),f.setState({dragging:!1,lastX:NaN,lastY:NaN}),f.props.onStop(e,i),(0,h["default"])("DraggableCore: Removing handlers"),(0,c.removeEvent)(o,v.move,f.handleDrag),(0,c.removeEvent)(o,v.stop,f.handleDragStop)}}},f.onMouseDown=function(e){return v=g.mouse,f.handleDragStart(e)},f.onMouseUp=function(e){return v=g.mouse,f.handleDragStop(e)},f.onTouchStart=function(e){return v=g.touch,f.handleDragStart(e)},f.onTouchEnd=function(e){return v=g.touch,f.handleDragStop(e)},s(f,t)}return r(o,u["default"].Component),i(o,[{key:"componentWillUnmount",value:function t(){var e=l["default"].findDOMNode(this).ownerDocument;(0,c.removeEvent)(e,g.mouse.move,this.handleDrag),(0,c.removeEvent)(e,g.touch.move,this.handleDrag),(0,c.removeEvent)(e,g.mouse.stop,this.handleDragStop),(0,c.removeEvent)(e,g.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(e.body)}},{key:"render",value:function e(){return u["default"].cloneElement(u["default"].Children.only(this.props.children),{style:(0,c.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),o}();f.displayName="DraggableCore",f.propTypes={allowAnyClick:t["default"].bool,disabled:t["default"].bool,enableUserSelectHack:t["default"].bool,offsetParent:function m(e,t){if(n.browser&&e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t["default"].arrayOf(t["default"].number),handle:t["default"].string,cancel:t["default"].string,onStart:t["default"].func,onDrag:t["default"].func,onStop:t["default"].func,onMouseDown:t["default"].func,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe},f.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function y(){},onDrag:function _(){},onStop:function b(){},onMouseDown:function T(){}},w["default"]=f}).call(w,E(18))},function(e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function a(){h&&d&&(h=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!h){var e=i(a);h=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,h=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function t(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var d,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||h||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=t,f.addListener=t,f.once=t,f.off=t,f.removeListener=t,f.removeAllListeners=t,f.emit=t,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){"use strict";function n(){var e;undefined&&(e=console).log.apply(e,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=undefined;var i=r(n(469));t["default"]=i["default"],e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),p=n(333),i=(r(p),r(n(470))),h=r(n(429)),g=r(n(475)),v=r(n(476)),o=function(){function t(e){s(this,t);var a=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.measure=function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:a.props.includeMargin,r=1<arguments.length&&t!==undefined?arguments[1]:a.props.useClone;if(a.props.shouldMeasure){a._node.parentNode||a._setDOMNode();var i=a.getDimensions(a._node,n,r),o="function"==typeof a.props.children;a._propsToMeasure.some(function(e){if(i[e]!==a._lastDimensions[e])return a.props.onMeasure(i),o&&void 0!==a&&a.setState({dimensions:i}),a._lastDimensions=i,!0})}},a.state={dimensions:{width:0,height:0,top:0,right:0,bottom:0,left:0}},a._node=null,a._propsToMeasure=a._getPropsToMeasure(e),a._lastDimensions={},a}return c(t,p.Component),d(t,[{key:"componentDidMount",value:function n(){var e=this;this._setDOMNode(),this.measure(),this.resizeObserver=new g["default"](function(){return e.measure()}),this.resizeObserver.observe(this._node)}},{key:"componentWillReceiveProps",value:function r(e){e.config;var t=e.whitelist,n=e.blacklist;this.props.whitelist===t&&this.props.blacklist===n||(this._propsToMeasure=this._getPropsToMeasure({whitelist:t,blacklist:n}))}},{key:"componentWillUnmount",value:function e(){this.resizeObserver.disconnect(this._node),this._node=null}},{key:"_setDOMNode",value:function i(){this._node=h["default"].findDOMNode(this)}},{key:"getDimensions",value:function u(e,t,n,r){var i=0<arguments.length&&e!==undefined?arguments[0]:this._node,o=1<arguments.length&&t!==undefined?arguments[1]:this.props.includeMargin,a=2<arguments.length&&n!==undefined?arguments[2]:this.props.useClone,s=3<arguments.length&&r!==undefined?arguments[3]:this.props.cloneOptions;return(0,v["default"])(i,f({margin:o,clone:a},s))}},{key:"_getPropsToMeasure",value:function o(e){var t=e.whitelist,n=e.blacklist;return t.filter(function(e){return n.indexOf(e)<0})}},{key:"render",value:function a(){var e=this.props.children;return p.Children.only("function"==typeof e?e(this.state.dimensions):e)}}]),t}();o.propTypes={whitelist:i["default"].array,blacklist:i["default"].array,includeMargin:i["default"].bool,useClone:i["default"].bool,cloneOptions:i["default"].object,shouldMeasure:i["default"].bool,onMeasure:i["default"].func},o.defaultProps={whitelist:["width","height","top","right","bottom","left"],blacklist:[],includeMargin:!0,useClone:!1,cloneOptions:{},shouldMeasure:!0,onMeasure:function a(){return null}},t["default"]=o,e.exports=t["default"]},function(e,t,n){e.exports=n(471)()},function(e,t,n){"use strict";var r=n(472),a=n(473),s=n(474);e.exports=function(){function e(e,t,n,r,i,o){o!==s&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e){"use strict";function t(e){return function(){return e}}var n=function n(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){"use strict";function t(e,t,n,r,i,o,a,s){if(f(t),!e){var u;if(t===undefined)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}var f=function f(){};e.exports=t},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(t,e){(function(x){var e;e=function(){"use strict";function f(e){return parseFloat(e)||0}function d(n){for(var e=[],t=arguments.length-1;0<t--;)e[t]=arguments[t+1];return e.reduce(function(e,t){return e+f(n["border-"+t+"-width"])},0)}function p(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=e["padding-"+i];t[i]=f(o)}return t}function t(e){var t=e.getBBox();return g(0,0,t.width,t.height)}function n(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return T;var r=b(e).getComputedStyle(e),i=p(r),o=i.left+i.right,a=i.top+i.bottom,s=f(r.width),u=f(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=d(r,"left","right")+o),Math.round(u+a)!==n&&(u-=d(r,"top","bottom")+a)),!h(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return g(i.left,i.top,s,u)}function h(e){return e===b(e).document.documentElement}function r(e){return a?w(e)?t(e):n(e):T}function i(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return _(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function g(e,t,n,r){return{x:e,y:t,width:n,height:r}}var o=function(){function r(e,n){var r=-1;return e.some(function(e,t){return e[0]===n&&(r=t,!0)}),r}return"undefined"!=typeof Map?Map:function(){function e(){this.__entries__=[]}var t={size:{configurable:!0}};return t.size.get=function(){return this.__entries__.length},e.prototype.get=function(e){var t=r(this.__entries__,e),n=this.__entries__[t];return n&&n[1]},e.prototype.set=function(e,t){var n=r(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},e.prototype["delete"]=function(e){var t=this.__entries__,n=r(t,e);~n&&t.splice(n,1)},e.prototype.has=function(e){return!!~r(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(e.prototype,t),e}()}(),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,s=void 0!==x&&x.Math===Math?x:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),u="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},l=2,e=function(e,t){function n(){o&&(o=!1,e()),a&&i()}function r(){u(n)}function i(){var e=Date.now();if(o){if(e-s<l)return;a=!0}else a=!(o=!0),setTimeout(r,t);s=e}var o=!1,a=!1,s=0;return i},c=20,v=["top","right","bottom","left","width","height","size","weight"],m="undefined"!=typeof MutationObserver,y=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=e(this.refresh.bind(this),c)};y.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},y.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},y.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},y.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),0<e.length},y.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),m?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,
childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},y.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},y.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),v.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},y.getInstance=function(){return this.instance_||(this.instance_=new y),this.instance_},y.instance_=null;var _=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},b=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s},T=g(0,0,0,0),w="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof b(e).SVGGraphicsElement}:function(e){return e instanceof b(e).SVGElement&&"function"==typeof e.getBBox},E=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=e};E.prototype.isActive=function(){var e=r(this.target);return(this.contentRect_=e).width!==this.broadcastWidth||e.height!==this.broadcastHeight},E.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var S=function(e,t){var n=i(t);_(this,{target:e,contentRect:n})},P=function(e,t,n){if(this.activeObservations_=[],this.observations_=new o,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};P.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof b(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new E(e)),this.controller_.addObserver(this),this.controller_.refresh())}},P.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof b(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t["delete"](e),t.size||this.controller_.removeObserver(this))}},P.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},P.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(e){e.isActive()&&t.activeObservations_.push(e)})},P.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new S(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},P.prototype.clearActive=function(){this.activeObservations_.splice(0)},P.prototype.hasActive=function(){return 0<this.activeObservations_.length};var C="undefined"!=typeof WeakMap?new WeakMap:new o,I=function(e){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=y.getInstance(),n=new P(e,t,this);C.set(this,n)};return["observe","unobserve","disconnect"].forEach(function(t){I.prototype[t]=function(){return(e=C.get(this))[t].apply(e,arguments);var e}}),"undefined"!=typeof s.ResizeObserver?s.ResizeObserver:I},t.exports=e()}).call(e,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=arguments.length<=1||t===undefined?{}:arguments[1],r=e.getBoundingClientRect(),i=undefined,o=undefined,a=undefined;if(r.width&&r.height&&!n.clone)n.margin&&(a=(0,l["default"])(getComputedStyle(e)));else{var s=(0,u["default"])(e,n);r=s.rect,a=s.margin}return o=n.margin?(i=a.left+r.width+a.right,a.top+r.height+a.bottom):(i=r.width,r.height),{width:i,height:o,top:r.top,right:r.right,bottom:r.bottom,left:r.left}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=r(n(477)),l=r(n(478));e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=e.parentNode,r=document.createElement("div"),i=e.cloneNode(!0),o=getComputedStyle(e),a=undefined,s=undefined,u=undefined;undefined;return r.style.height=0,r.style.overflow="hidden",i.setAttribute("id",""),i.setAttribute("name",""),(t.display||"none"===o.getPropertyValue("display"))&&(i.style.display=t.display||"block"),!t.width&&parseInt(o.getPropertyValue("width"))||(i.style.width=t.width||"auto"),!t.height&&parseInt(o.getPropertyValue("height"))||(i.style.height=t.height||"auto"),r.appendChild(i),n.appendChild(r),a=i.getBoundingClientRect(),s=i.offsetWidth,u=i.offsetHeight,n.removeChild(r),{rect:{width:s,height:u,top:a.top,right:a.right,bottom:a.bottom,left:a.left},margin:(0,l["default"])(o)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var l=r(n(478));e.exports=t["default"]},function(e,t){"use strict";function n(e){return{top:r(e.marginTop),right:r(e.marginRight),bottom:r(e.marginBottom),left:r(e.marginLeft)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=function r(e){return parseInt(e)||0};e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ARROW_LEFT=37,t.ARROW_RIGHT=39,t.SPACE=32,t.TAB=9},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},a(e),React.createElement(c["default"],{buttonTitle:e.textTracksMenuButtonTitle,items:e.textTracksMenuItems,onItemClick:e.onTextTracksMenuItemClick}),React.createElement(l["default"],{buttonTitle:e.qualityMenuButtonTitle,items:e.qualityMenuItems,onItemClick:e.onQualityMenuItemClick}))}function o(e){return(0,u["default"])(e.className,"player_controls-menu_bar",{"player_controls-menu_bar-hidden_on_phone":e.hiddenOnPhone,"player_controls-menu_bar-stand_alone":e.standAlone})}function a(t){return t.additionalButtons.map(function(e){return React.createElement(f["default"],{title:e.label,iconName:e.iconName,className:e.className,key:e.name,onClick:s(t.onAdditionalButtonClick,e.name),onMouseEnter:s(t.onAdditionalButtonMouseEnter,e.name),onMouseLeave:s(t.onAdditionalButtonMouseLeave,e.name)})})}function s(e,t){if(e)return function(){return e(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=r(n(334)),l=r(n(481)),c=r(n(483)),f=r(n(482));i.propTypes={additionalButtons:React.PropTypes.arrayOf(React.PropTypes.shape({name:React.PropTypes.string.isRequired,label:React.PropTypes.string.isRequired,className:React.PropTypes.string,iconName:React.PropTypes.string})),hiddenOnPhone:React.PropTypes.bool,onAdditionalButtonClick:React.PropTypes.func,qualityMenuButtonTitle:React.PropTypes.string,qualityMenuItems:l["default"].propTypes.items,onQualityMenuItemClick:React.PropTypes.func,textTracksMenuButtonTitle:React.PropTypes.string,textTracksMenuItems:c["default"].propTypes.items,onTextTracksMenuItemClick:React.PropTypes.func,standAlone:React.PropTypes.bool},i.defaultProps={additionalButtons:[],standAlone:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.items.length<2?React.createElement("noscript",null):React.createElement(o["default"],{className:"player_controls-quality_menu_button",title:e.buttonTitle,iconName:"mediaQuality",subMenuItems:e.items,onSubMenuItemClick:e.onItemClick})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(482));i.propTypes={buttonTitle:React.PropTypes.string,items:o["default"].propTypes.subMenuItems,onMenuItemClick:React.PropTypes.func},i.defaultProps={items:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(0<e.subMenuItems.length)return React.createElement("ul",{className:"player_controls-menu_bar_button_sub_menu"},i(e,t))}function i(t,n){return t.subMenuItems.map(function(e){return React.createElement("li",{className:c(e),key:e.value},React.createElement("a",{className:"player_controls-menu_bar_button_sub_menu_item_link",href:"#",tabIndex:"4",onClick:p(t,e.value,n)},f(e),e.label,d(t,e)))})}function l(e,t){return(0,v["default"])({"player_controls-menu_bar_button-sub_menu_visible":t},h(e))}function c(e){return(0,v["default"])("player_controls-menu_bar_button_sub_menu_item",{"player_controls-menu_bar_button_sub_menu_item-active":e.active})}function f(e){if(e.active)return React.createElement(m["default"],{className:"player_controls-menu_bar_button_sub_menu_item_icon",name:"activeMenuItem"})}function d(e,t){if(t.annotation)return React.createElement("span",{className:h(e,"sub_menu_item_annotation")},t.annotation)}function p(t,n,r){return function(e){e.preventDefault(),r(),t.onSubMenuItemClick&&t.onSubMenuItemClick(n)}}function h(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,v["default"])(["player_controls-menu_bar_button"].concat(n).join("_"),[e.className].concat(n).join("_"))}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),v=r(n(334)),m=r(n(450)),y=function(){function r(e,t){o(this,r);var n=a(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.state={subMenuVisible:!1},n.onLinkClick=function(e){e.preventDefault(),0<n.props.subMenuItems.length&&n.setState({subMenuVisible:!0}),n.props.onClick&&n.props.onClick()},n.onMouseEnter=function(){0<n.props.subMenuItems.length&&n.setState({subMenuVisible:!0}),n.props.onMouseEnter&&n.props.onMouseEnter()},n.onMouseLeave=function(){n.closeMenu(),n.props.onMouseEnter&&n.props.onMouseLeave()},n.onFocus=function(){clearTimeout(n.closeMenuTimeout)},n.onBlur=function(){clearTimeout(n.closeMenuTimeout),n.closeMenuTimeout=setTimeout(function(){n.closeMenu()},100)},n.closeMenu=function(){n.setState({subMenuVisible:!1})},n}return s(r,React.Component),g(r,[{key:"render",value:function i(){var t=this,e=this.props;return React.createElement("div",{className:l(e,this.state.subMenuVisible),ref:function n(e){return t.wrapper=e},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur},React.createElement("a",{className:h(e,"link"),href:"#",tabIndex:"4",title:e.title,onClick:this.onLinkClick},React.createElement(m["default"],{className:h(e,"icon"),name:e.iconName})),u(e,this.closeMenu))}}]),r}();(t["default"]=y).propTypes={title:React.PropTypes.string,iconName:React.PropTypes.string,subMenuItems:React.PropTypes.arrayOf(React.PropTypes.shape({label:React.PropTypes.node.isRequired,value:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]).isRequired,annotation:React.PropTypes.string,active:React.PropTypes.bool})),onClick:React.PropTypes.func,onMouseEnter:React.PropTypes.func,onMouseLeave:React.PropTypes.func,onSubMenuItemClick:React.PropTypes.func},y.defaultProps={subMenuItems:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.items.length<2?React.createElement("noscript",null):React.createElement(o["default"],{className:"player_controls-text_tracks_menu_button",title:e.buttonTitle,iconName:"textTracks",subMenuItems:e.items,onSubMenuItemClick:e.onItemClick})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(482));i.propTypes={buttonTitle:React.PropTypes.string,items:o["default"].propTypes.subMenuItems,onMenuItemClick:React.PropTypes.func},i.defaultProps={items:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(a){return function(){function n(e){s(this,n);var t=u(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.checkVisibility=function(){var e=window.getComputedStyle(t.element);t.lastVisibility!=e.visibility&&("visible"==e.visibility&&"none"!=e.display?t.props.onVisible&&t.props.onVisible():t.props.onHidden&&t.props.onHidden()),t.lastVisibility=e.visibility},t}return l(n,f["default"].Component),c(n,[{key:"componentDidMount",value:function e(){this.element=d["default"].findDOMNode(this),this.updateInterval()}},{key:"componentDidUpdate",value:function t(){this.updateInterval()}},{key:"componentWillUnmount",value:function r(){clearInterval(this.interval),this.interval=null,this.element=null}},{key:"updateInterval",value:function i(){this.props.watchVisibility&&!this.interval?this.interval=setInterval(this.checkVisibility,50):!this.props.watchVisibility&&this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"render",value:function o(){return f["default"].createElement(a,this.props)}}]),n}()}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t["default"]=i;var f=r(n(333)),d=r(n(429))},function(e,t,n){"use strict";function r(e){return React.createElement("div",{className:"close_button text_hidden_only",tabIndex:"4",title:e.t("pageflow.public.close"),onClick:e.onClick},React.createElement("div",{className:"label"},e.t("pageflow.public.close")))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(486),o=n(339),a=n(397);t["default"]=(0,a.connect)((0,o.combineSelectors)({t:i.t}))(r)},function(e,t,n){"use strict";function r(e){return e.i18n.locale}Object.defineProperty(t,"__esModule",{value:!0}),t.t=undefined;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.locale=r;var o=n(339);t.t=(0,o.memoizedSelector)(r,function(n){return function(e,t){return I18n.t(e,i({locale:n},t))}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return PAGEFLOW_EDITOR?e:function(){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetAttributes=t.prop=t.file=t.setting=t.t=t.currentParentChapterAttributes=t.currentParentPageAttributes=t.pageIsPrepared=t.pageIsActive=t.pageAttributes=t.pageAttribute=undefined;var r=n(375),i=n(489),o=n(486),a=n(492),s=n(442),u=n(439),l=n(493);t.pageAttribute=r.pageAttribute,t.pageAttributes=r.pageAttributes,t.pageIsActive=r.pageIsActive,t.pageIsPrepared=r.pageIsPrepared,t.currentParentPageAttributes=i.currentParentPageAttributes,t.currentParentChapterAttributes=i.currentParentChapterAttributes,t.t=o.t,t.setting=a.setting,t.file=s.file,t.prop=u.prop,t.widgetAttributes=l.widgetAttributes},function(e,t,n){"use strict";function r(){return function(e,t){var n=i()(e,t);return n?(0,a.chapterAttributes)({id:n.chapterId})(e,t):null}}function i(){return function(e,t){var n=(0,o.pageAttribute)("chapterId",{id:e.currentPageId})(e,t),r=(0,a.chapterAttribute)("storylineId",{id:n})(e,t),i=(0,s.storylineAttribute)("parentPagePermaId",{id:r})(e,t);return(0,o.pageAttributes)({id:i})(e,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.currentParentChapterAttributes=r,t.currentParentPageAttributes=i;var o=n(375),a=n(490),s=n(491)},function(e,t,n){"use strict";function r(t,e){return(0,o.memoizedSelector)(a(e),function(e){return e&&e[t]})}Object.defineProperty(t,"__esModule",{value:!0}),t.chapterAttributes=t.selector=undefined,t.chapterAttribute=r;var i=n(376),o=n(339),a=t.selector=(0,i.createItemSelector)("chapters");t.chapterAttributes=a},function(e,t,n){"use strict";function r(t,e){return(0,o.memoizedSelector)(a(e),function(e){return e&&e[t]})}Object.defineProperty(t,"__esModule",{value:!0}),t.selector=undefined,t.storylineAttribute=r;var i=n(376),o=n(339),a=t.selector=(0,i.createItemSelector)("storylines")},function(e,t){"use strict";function n(e){var t=e.property;return function(e){return e.settings[t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.setting=n},function(e,t,n){"use strict";function r(e){var t=e.role;return(0,o.memoizedSelector)(a({id:t}),function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0}),t.widgetAttributes=r;var i=n(376),o=n(339),a=(0,i.createItemSelector)("widgets")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(n){return{reducers:{"media.default":(0,d["default"])({scope:"default"})},saga:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p["default"])(n);case 2:case"end":return e.stop()}},e,this)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageBackground=t.PageBackgroundAsset=t.PageBackgroundVideo=t.PagePrintImage=t.MobilePageVideoPoster=t.PageVideoPlayer=t.Page=t.pageBackgroundReduxModule=undefined,t.reduxModule=i;var o=r(n(495)),a=r(n(502)),s=r(n(516)),u=r(n(517)),l=r(n(518)),c=r(n(519)),f=r(n(520)),d=r(n(521)),p=r(n(523)),h=r(n(531)),g=r(n(529));t.pageBackgroundReduxModule={reducers:{"media.background":(0,d["default"])({scope:"background"})},saga:regeneratorRuntime.mark(function v(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,h["default"])({scope:"background"}),(0,g["default"])({scope:"background"})];case 2:case"end":return e.stop()}},v,this)})};t.Page=o["default"],t.PageVideoPlayer=a["default"],t.MobilePageVideoPoster=s["default"],t.PagePrintImage=f["default"],t.PageBackgroundVideo=u["default"],t.PageBackgroundAsset=l["default"],t.PageBackground=c["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=e.playerState,r={title:t.additionalTitle,description:t.additionalDescription};return React.createElement(s.PageWrapper,{className:a(e.className,o(e),e.textTracks,n)},React.createElement(s.PageBackground,{pageHasPlayerControls:!0},e.children,React.createElement(s.PageShadow,{page:t,className:(0,f["default"])(n)})),React.createElement(s.PageForeground,{onInteraction:function i(){return n.userIsIdle&&e.playerActions.userInteraction()},classNames:(0,f["default"])(n)},React.createElement(l["default"],{file:e.file,textTracks:e.textTracks,playerState:n,playerActions:e.playerActions,qualities:e.qualities,controlBarText:e.controlBarText,infoBox:r}),React.createElement(s.PageScroller,{className:(0,f["default"])(n)},React.createElement(s.PageHeader,{page:t}),React.createElement(u.PagePrintImage,{page:t}),React.createElement(s.PageText,{page:t},React.createElement(c["default"],{file:e.file})))))}function o(e){return!1!==e.page.autoplay&&e.hasAutoplaySupport}function a(e,t,n,r){return(0,g["default"])(e,{has_text_tracks:!!n.activeFileId,is_idle:r.isPlaying&&r.userIsIdle,is_control_bar_focused:r.focusInsideControls,is_control_bar_hovered:r.userHoveringControls,is_control_bar_hidden:r.controlsHidden,unplayed:r.unplayed&&!t,has_played:r.hasPlayed})}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPage=i;var s=n(331),u=n(494),l=r(n(496)),c=r(n(500)),f=r(n(497)),d=n(339),p=n(439),h=n(498),g=r(n(334)),v=n(397);t["default"]=(0,v.connect)((0,d.combineSelectors)({textTracks:(0,h.textTracks)({file:(0,p.prop)("file"),defaultTextTrackFileId:(0,p.prop)("page.defaultTextTrackFileId")}),hasAutoplaySupport:(0,p.has)("autoplay support")}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.playerActions,n=e.playerState,r=function r(t){"off"==t?e.updateTextTrackSettings({kind:"off"}):e.updateTextTrackSettings(e.textTracks.files.find(function(e){return e.id==t}))};return _["default"].createElement(h["default"],f({hasProgress:!0,controlBarText:e.controlBarText,isLoading:n.isLoading||n.bufferUnderrun,isPlaying:n.shouldPlay,currentTime:n.scrubbingAt!==undefined?n.scrubbingAt:n.currentTime,bufferedEnd:n.bufferedEnd,duration:n.duration,onPlayButtonClick:t.togglePlaying,onScrub:t.scrubTo,onSeek:t.seekTo,onMouseEnter:t.controlsEntered,onMouseLeave:t.controlsLeft,onFocus:t.focusEnteredControls,onBlur:t.focusLeftControls,watchVisibility:n.isPlaying,onHidden:t.controlsHidden,additionalMenuBarButtons:a(e),infoBoxHiddenDuringPlayback:s(e),onAdditionalButtonMouseEnter:t.showInfoBoxDuringPlayback,onAdditionalButtonMouseLeave:t.hideInfoBoxDuringPlayback,onAdditionalButtonClick:t.toggleInfoBoxDuringPlayback,qualityMenuItems:l(e.qualities,e.file,e.activeQuality,e.t),qualityMenuButtonTitle:e.t("pageflow.public.media_quality"),onQualityMenuItemClick:e.updateVideoQualitySetting,textTracksMenuItems:u(e.textTracks,e.t),textTracksMenuButtonTitle:e.t("pageflow.public.text_tracks"),onTextTracksMenuItemClick:r},e,{className:o(n)}))}function o(e){return(0,b["default"])((0,d["default"])(e))}function a(e){var t=e.t;return(0,p.isInfoBoxEmpty)(e.infoBox)?[]:[{name:"toggleInfoBox",className:"player_controls-toggle_info_box_menu_button",label:t("pageflow.public.toggle_info_box"),iconName:"toggleInfoBox"}]}function s(e){var t=e.playerState;return t.infoBoxHiddenDuringPlayback===undefined?!!e.textTracks.activeFileId:t.infoBoxHiddenDuringPlayback}function u(t,e){if(!t.files.length)return[];var n={value:"off",label:e("pageflow.public.text_track_modes.none"),active:"off"==t.mode};return[{value:"auto",label:t.autoFile?e("pageflow.public.text_track_modes.auto",{label:t.autoFile.displayLabel}):e("pageflow.public.text_track_modes.auto_off"),active:"auto"==t.mode},n].concat(t.files.map(function(e){return{value:e.id,label:e.displayLabel,active:"user"==t.mode&&e.id==t.activeFileId}}))}function l(e,t,n,r){return n=n||"auto",c(e,t).map(function(e){return{value:e,label:r("pageflow.public.video_qualities.labels."+e),annotation:r("pageflow.public.video_qualities.annotations."+e,{defaultValue:""}),active:e==n}})}function c(e,t){return t?e.filter(function(e){return!!t.urls[e]||"auto"==e}):[]}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.MediaPlayerControls=i;var d=r(n(497)),p=n(446),h=r(p),g=n(339),v=n(498),m=n(486),y=n(499),_=r(n(333)),b=r(n(334)),T=n(397);i.defaultProps={qualities:[],textTracks:{files:[]}},t["default"]=(0,T.connect)((0,g.combineSelectors)({activeQuality:(0,v.videoQualitySetting)(),t:m.t}),{updateTextTrackSettings:y.updateTextTrackSettings,updateVideoQualitySetting:y.updateVideoQualitySetting})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(0,i["default"])({is_playing:e.shouldPlay,is_playing_delayed:e.hasBeenPlayingJustNow,is_paused:!e.shouldPlay})};var i=r(n(334))},function(e,t,n){"use strict";function r(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).scope,n=t===undefined?"default":t;return(0,p.pageState)("media."+n)}function i(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).scope,n=t===undefined?"default":t;return function(e){return(0,m.bindActionCreators)((0,s.actionCreators)({scope:n}),e)}}function o(e){var t=e.file,n=e.defaultTextTrackFileId,r=n===undefined?function(){}:n;return(0,v.memoizedSelector)((0,h.setting)({property:"textTrack"}),(0,h.setting)({property:"volume"}),g.t,g.locale,(0,d.nestedFiles)("textTrackFiles",{parent:t}),r,function(e,t,n,r,i,o){e=e||{};var a=i.map(function(e){return f({displayLabel:l(e,n)},e)}),s=u(a,o,r,t);return{files:a.sort(function(e,t){return(e.displayLabel||"").localeCompare(t.displayLabel||"")}),autoFile:s,activeFileId:c(a,s,e),mode:"off"==e.kind?"off":e.kind?"user":"auto"}})}function u(e,t,n,r){if(t){var i=e.find(function(e){return e.id==t});if(i)return i}var o=e.find(function(e){return"subtitles"==e.kind&&e.srclang==n}),a=0==r&&e.find(function(e){return"captions"==e.kind});return o||a}function l(e,t){return e.label||t("pageflow.public.languages."+e.srclang||"unknown",{defaultValue:t("pageflow.public.languages.unknown")})}function c(e,t,n){if("off"==n.kind)return null;var r=e.find(function(e){return e.srclang==n.srclang&&e.kind==n.kind});return r?r.id:t&&t.id}function a(){return(0,h.setting)({property:"videoQuality"})}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.playerState=r,t.playerActions=i,t.textTracks=o,t.videoQualitySetting=a;var s=n(499),d=n(442),p=n(375),h=n(492),g=n(486),v=n(339),m=n(351)},function(e,t,n){"use strict";function r(e){function r(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};return{type:e,meta:{collectionName:"pages",mediaScope:i},payload:n}}var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).scope,i=t===undefined?"default":t;return{togglePlaying:function n(){return r(L)},play:function o(){return r(j)},playAndFadeIn:function a(e){var t=e.fadeDuration;return r(F,{fadeDuration:t})},pause:function s(){return r(B)},fadeOutAndPause:function u(e){var t=e.fadeDuration;return r(U,{fadeDuration:t})},scrubTo:function l(e){return r(H,{time:e})},seekTo:function c(e){return r(V,{time:e})},prebuffer:function f(){return r(z)},prebuffered:function d(){return r(q)},abortPrebuffering:function p(){return r(G)},bufferUnderrun:function h(){return r(K)},bufferUnderrunContinue:function g(){return r(Y)},playing:function v(){return r(X)},paused:function m(){return r($)},timeUpdate:function y(e){var t=e.currentTime,n=e.duration;return r(J,{currentTime:t,duration:n})},metaDataLoaded:function _(e){var t=e.currentTime,n=e.duration;return r(W,{currentTime:t,duration:n})},progress:function b(e){var t=e.bufferedEnd;return r(Q,{bufferedEnd:t})},ended:function T(){return r(Z)},seeking:function w(){return r(ee)},seeked:function E(){return r(te)},waiting:function S(){return r(ne)},hasNotBeenPlayingForAMoment:function P(){return r(re)},userInteraction:function C(){return r(ie)},userIdle:function I(){return r(oe)},controlsEntered:function x(){return r(ae)},controlsLeft:function A(){return r(se)},focusEnteredControls:function O(){return r(ue)},focusLeftControls:function k(){return r(le)},controlsHidden:function M(){return r(ce)},showInfoBoxDuringPlayback:function R(){return r(fe)},hideInfoBoxDuringPlayback:function D(){return r(de)},toggleInfoBoxDuringPlayback:function N(){return r(pe)}}}function i(e){return(0,a.update)({property:"textTrack",value:e?{srclang:e.srclang,kind:e.kind}:{}})}function o(e){return(0,a.update)({property:"videoQuality",value:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.TOGGLE_INFO_BOX_DURING_PLAYBACK=t.HIDE_INFO_BOX_DURING_PLAYBACK=t.SHOW_INFO_BOX_DURING_PLAYBACK=t.CONTROLS_HIDDEN=t.FOCUS_LEFT_CONTROLS=t.FOCUS_ENTERED_CONTROLS=t.CONTROLS_LEFT=t.CONTROLS_ENTERED=t.USER_IDLE=t.USER_INTERACTION=t.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT=t.WAITING=t.SEEKED=t.SEEKING=t.ENDED=t.TIME_UPDATE=t.PAUSED=t.PLAYING=t.PROGRESS=t.META_DATA_LOADED=t.BUFFER_UNDERRUN_CONTINUE=t.BUFFER_UNDERRUN=t.ABORT_PREBUFFERING=t.PREBUFFERED=t.PREBUFFER=t.SEEK_TO=t.SCRUB_TO=t.FADE_OUT_AND_PAUSE=t.PAUSE=t.PLAY_AND_FADE_IN=t.PLAY=t.TOGGLE_PLAYING=undefined,t.actionCreators=r,t.updateTextTrackSettings=i,t.updateVideoQualitySetting=o;var a=n(330),L=t.TOGGLE_PLAYING="MEDIA_TOGGLE_PLAYING",j=t.PLAY="MEDIA_PLAY",F=t.PLAY_AND_FADE_IN="MEDIA_PLAY_AND_FADE_IN",B=t.PAUSE="MEDIA_PAUSE",U=t.FADE_OUT_AND_PAUSE="MEDIA_FADE_OUT_AND_PAUSE",H=t.SCRUB_TO="MEDIA_SCRUB_TO",V=t.SEEK_TO="MEDIA_SEEK_TO",z=t.PREBUFFER="MEDIA_PREBUFFER",q=t.PREBUFFERED="MEDIA_PREBUFFERED",G=t.ABORT_PREBUFFERING="MEDIA_ABORT_PREBUFFERING",K=t.BUFFER_UNDERRUN="MEDIA_BUFFER_UNDERRUN",Y=t.BUFFER_UNDERRUN_CONTINUE="MEDIA_BUFFER_UNDERRUN_CONTINUE",W=t.META_DATA_LOADED="MEDIA_META_DATA_LOADED",Q=t.PROGRESS="MEDIA_PROGRESS",X=t.PLAYING="MEDIA_PLAYING",$=t.PAUSED="MEDIA_PAUSED",J=t.TIME_UPDATE="MEDIA_TIME_UPDATE",Z=t.ENDED="MEDIA_ENDED",ee=t.SEEKING="MEDIA_SEEKING",te=t.SEEKED="MEDIA_SEEKED",ne=t.WAITING="MEDIA_WAITING",re=t.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT="MEDIA_HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT",ie=t.USER_INTERACTION="MEDIA_USER_INTERACTION",oe=t.USER_IDLE="MEDIA_USER_IDLE",ae=t.CONTROLS_ENTERED="MEDIA_CONTROLS_ENTERED",se=t.CONTROLS_LEFT="MEDIA_CONTROLS_LEFT",ue=t.FOCUS_ENTERED_CONTROLS="MEDIA_FOCUS_ENTERED_CONTROLS",le=t.FOCUS_LEFT_CONTROLS="MEDIA_FOCUS_LEFT_CONTROLS",ce=t.CONTROLS_HIDDEN="MEDIA_CONTROLS_HIDDEN",fe=t.SHOW_INFO_BOX_DURING_PLAYBACK="SHOW_INFO_BOX_DURING_PLAYBACK",de=t.HIDE_INFO_BOX_DURING_PLAYBACK="HIDE_INFO_BOX_DURING_PLAYBACK",pe=t.TOGGLE_INFO_BOX_DURING_PLAYBACK="TOGGLE_INFO_BOX_DURING_PLAYBACK"},function(e,t,n){"use strict";function r(e){return e.file?React.createElement("p",{className:"non_js_video"},React.createElement("a",{href:i(e),target:"_blank"},o(e))):React.createElement("noscript",null)}function i(e){var t=e.entrySlug,n=e.file;return"/"+t+"/"+("videoFiles"==n.collectionName?"videos":"audio")+"/"+n.id}function o(e){var t=e.file;return(0,e.t)("pageflow.public.open_"+("videoFiles"==t.collectionName?"video":"audio"))}Object.defineProperty(t,"__esModule",{value:!0}),t.NonJsLinks=r;var a=n(339),s=n(486),u=n(501),l=n(397);t["default"]=(0,l.connect)((0,a.combineSelectors)({t:s.t,entrySlug:(0,u.entryAttribute)("slug")}))(r)},function(e,t){"use strict";function n(t){return function(e){return e.entry[t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.entryAttribute=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=l.camelize.concat(e.propertyNamePrefix,e.videoPropertyBaseName),r=l.camelize.concat(e.propertyNamePrefix,e.posterImagePropertyBaseName);return React.createElement(f,{videoFileId:t[n+"Id"],posterImageFileId:t[r+"Id"],playerState:e.playerState,playerActions:e.playerActions,fit:e.fit,position:[t[n+"X"],t[n+"Y"]],textTracksEnabled:e.textTracksEnabled,loop:e.loop,muted:e.muted,playsInline:e.playsInline})}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayer=undefined,t["default"]=i;var o=r(n(503)),a=r(n(515)),s=n(442),u=n(488),l=n(339),c=n(397),f=t.VideoPlayer=(0,c.connect)((0,l.combineSelectors)({file:(0,s.file)("videoFiles",{id:(0,u.prop)("videoFileId")}),posterImageFile:(0,s.file)("imageFiles",{id:(0,u.prop)("posterImageFileId")})}))((0,a["default"])(o["default"]));i.defaultProps={videoPropertyBaseName:"videoFile",posterImagePropertyBaseName:"posterImage",fit:"smart_contain"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(o["default"],{videoFile:e.file,fit:e.fit,position:e.position},React.createElement(u,{file:e.file,posterImageFile:e.posterImageFile,playerState:e.playerState,playerActions:e.playerActions,atmoDuringPlayback:e.atmoDuringPlayback,defaultTextTrackFileId:e.defaultTextTrackFileId,textTracksEnabled:e.textTracksEnabled,loop:e.loop,muted:e.muted,playsInline:e.playsInline}))};var i=r(n(504)),o=r(n(511)),a=r(n(514)),s=n(339),u=(0,i["default"])({tagName:"video",sources:a["default"],poster:function l(e,t){var n=(0,
s.has)("mobile platform")?"medium":"large";return t?t.urls[n]:e.urls["poster_"+n]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){var n=t.playerState;return o(e)?n.controlsHidden?"auto.lazy":"auto.translated":n.controlsHidden?"auto.lazy":"top"}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t["default"]=function(e){var i=e.tagName,o=e.sources,t=e.poster,a=t===undefined?function(){}:t,n=e.emulateTextTracksDisplay,s=n!==undefined&&n,r=e.createPlayer,u=r===undefined?m["default"]:r,l=function(){function r(t,e){f(this,r);var n=d(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e));return n.displaysTextTracksInNativePlayer=n.props.hasNativeVideoPlayer&&"video"==i,n.updateAtmoSettings(),n.setupMediaTag=function(e){n.player=u(e,{emulateTextTracksDisplay:s,atmoSettings:n.atmoSettings,mediaContext:n.context.mediaContext,playsInline:t.playsInline}),n.player.ready(function(){(0,b.initPlayer)(n.player,function(){return n.props.playerState},n.props.playerActions,n.prevFileId,n.props.file.id),n.displaysTextTracksInNativePlayer||(0,T.initTextTracks)(n.player,function(){return n.props.textTracks.activeFileId},function(){return n.props.textTrackPosition}),(0,y["default"])(n.player,n.props.playerActions),n.prevFileId=n.props.file.id})},n.disposeMediaTag=function(){n.player.dispose(),n.player=null},n}return p(r,C["default"].Component),g(r,[{key:"componentDidUpdate",value:function t(e){this.player&&((0,b.updatePlayer)(this.player,e.playerState,this.props.playerState,this.props.playerActions,this.props.playsInline),this.displaysTextTracksInNativePlayer||(0,T.updateTextTracks)(this.player,e.textTracks.activeFileId,this.props.textTracks.activeFileId,this.props.textTrackPosition),this.updateAtmoSettings())}},{key:"updateAtmoSettings",value:function e(){this.atmoSettings=this.atmoSettings||{},this.atmoSettings.atmo_during_playback=this.props.atmoDuringPlayback}},{key:"render",value:function n(){return C["default"].createElement(v["default"],{tagName:i,sources:o(this.props.file,this.props.quality,{hasHighBandwidth:this.props.hasHighBandwidth}),tracks:(0,T.textTracksFromFiles)(this.props.textTracks.files,this.props.textTracksEnabled),poster:a(this.props.file,this.props.posterImageFile),loop:this.props.loop,muted:this.props.muted,playsInline:this.props.playsInline,alt:this.props.file.alt,onSetup:this.setupMediaTag,onDispose:this.disposeMediaTag})}}]),r}();l.contextTypes={mediaContext:C["default"].PropTypes.object},l.defaultProps={textTracksEnabled:!0,textTracks:{files:[]}},l.propTypes={file:C["default"].PropTypes.object.isRequired};var c=(0,x.connect)((0,I.combineSelectors)({textTracks:(0,w.textTracks)({file:(0,S.prop)("file"),defaultTextTrackFileId:(0,S.prop)("defaultTextTrackFileId")}),quality:(0,E.setting)({property:"videoQuality"}),hasNativeVideoPlayer:(0,P.has)("native video player"),hasHighBandwidth:(0,P.has)("high bandwidth"),textTrackPosition:h}),{updateTextTrackSettings:_.updateTextTrackSettings})(l);return c.WrappedComponent=l,c};var v=r(n(505)),m=r(n(506)),y=r(n(507)),_=n(499),b=n(508),T=n(509),w=n(498),E=n(492),S=n(488),P=n(439),i=n(510),C=r(n(333)),I=n(339),x=n(397),o=(0,i.widgetPresent)("slimPlayerControls")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(Object.keys(r).length!==Object.keys(i).length)return!1;for(var o in r)if(r[o]!==i[o])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),g=r(n(333)),i=function(){function e(){return c(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,g["default"].Component),h(e,[{key:"render",value:function r(){var t=this;return g["default"].createElement("div",{ref:function n(e){return t.containerElement=e},dangerouslySetInnerHTML:this.mediaTagHTML()})}},{key:"shouldComponentUpdate",value:function t(e){return e.tagName!==this.props.tagName||e.poster!==this.props.poster||e.loop!==this.props.loop||e.muted!==this.props.muted||e.playsInline!==this.props.playsInline||!p(e.sources,this.props.sources)||!p(e.tracks,this.props.tracks)}},{key:"componentDidMount",value:function n(){this.triggerOnSetup()}},{key:"componentWillUpdate",value:function i(){this.triggerOnDispose()}},{key:"componentDidUpdate",value:function o(){this.triggerOnSetup()}},{key:"componentWillUnmount",value:function a(){this.triggerOnDispose()}},{key:"triggerOnSetup",value:function s(){this.props.onSetup&&this.props.onSetup(this.containerElement.firstElementChild)}},{key:"triggerOnDispose",value:function u(){this.props.onDispose&&this.props.onDispose()}},{key:"mediaTagHTML",value:function l(){var e=document.createElement("div"),n=document.createElement(this.props.tagName);return n.setAttribute("preload","auto"),n.setAttribute("crossorigin","anonymous"),n.setAttribute("alt",this.props.alt),this.props.poster&&n.setAttribute("data-poster",this.props.poster),this.props.loop&&n.setAttribute("loop","true"),this.props.muted&&n.setAttribute("muted","true"),this.props.playsInline&&n.setAttribute("playsinline","true"),this.props.sources.forEach(function(e){var t=document.createElement("source");t.setAttribute("src",e.src),t.setAttribute("type",e.type),n.appendChild(t)}),this.props.tracks.forEach(function(e){var t=document.createElement("track");t.setAttribute("src",e.src),t.setAttribute("id",e.id),t.setAttribute("kind",e.kind),t.setAttribute("srclang",e.srclang),t.setAttribute("label",e.label),n.appendChild(t)}),e.appendChild(n),{__html:e.innerHTML}}}]),e}();(t["default"]=i).defaultProps={tagName:"video",sources:[],tracks:[]}},function(e,t){"use strict";function n(e,t){t.emulateTextTracksDisplay;var n=t.atmoSettings,r=t.mediaContext,i=t.playsInline,o="audio"==e.tagName.toLowerCase(),a=new pageflow.VideoPlayer(e,{controlBar:!1,loadingSpinner:!1,bigPlayButton:!1,errorDisplay:!1,textTrackSettings:!1,poster:e.getAttribute("data-poster"),html5:{nativeCaptions:!o&&pageflow.browser.has("iphone platform")},bufferUnderrunWaiting:!0,useSlimPlayerControlsDuringPhonePlayback:!i&&!o,fullscreenDuringPhonePlayback:!i&&!o,volumeFading:!0,hooks:pageflow.atmo.createMediaPlayerHooks(n),mediaEvents:!0,context:r});return a.textTrackSettings={getValues:function s(){return{}}},a.addClass("video-js"),a.addClass("player"),a}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("loadedmetadata",function(){return t.metaDataLoaded({currentTime:e.currentTime(),duration:e.duration()})}),e.on("progress",function(){return t.progress({bufferedEnd:e.bufferedEnd()})}),e.on("play",t.playing),e.on("pause",t.paused),e.on("waiting",t.waiting),e.on("seeking",t.seeking),e.on("seeked",t.seeked),e.on("bufferunderrun",t.bufferUnderrun),e.on("bufferunderruncontinue",t.bufferUnderrunContinue),e.on("timeupdate",function(){return t.timeUpdate({currentTime:e.currentTime(),duration:e.duration()})}),e.on("ended",t.ended)}},function(e,t){"use strict";function n(e,t,n,r,i){var o=t();i===r&&0<o.currentTime&&e.currentTime(o.currentTime),o.shouldPrebuffer&&e.prebuffer().then(n.prebuffered),o.isPlaying&&e.play(),e.on("canplay",function(){t().shouldPlay&&e.paused()&&e.play()})}function r(e,t,n,r){!t.shouldPrebuffer&&n.shouldPrebuffer&&e.prebuffer().then(r.prebuffered),!t.shouldPlay&&n.shouldPlay?n.fadeDuration?e.playAndFadeIn(n.fadeDuration):e.play():t.shouldPlay&&!n.shouldPlay&&(n.fadeDuration?e.fadeOutAndPause(n.fadeDuration):e.pause()),n.shouldSeekTo!==undefined&&n.shouldSeekTo!==t.shouldSeekTo&&e.currentTime(n.shouldSeekTo)}Object.defineProperty(t,"__esModule",{value:!0}),t.initPlayer=n,t.updatePlayer=r},function(e,t){"use strict";function n(e,t,n){e.on("pause",function(){r(e,t,n)}),e.textTracks().on("addtrack",function(){i(e,null,t(),n())}),i(e,null,t(),n()),r(e,t,n)}function r(e,t,n){e.one("timeupdate",function(){i(e,null,t(),n())})}function i(e,t,n,r){t!=n&&o(e,n),a(e,r)}function o(e,t){[].slice.call(e.textTracks()).forEach(function(e){e.id=="text_track_file_"+t?e.mode="showing":e.mode="disabled"})}function a(e,t){e.updateCueLineSettings(t)}function s(e,t){return t?e.filter(function(e){return e.isReady}).map(function(e){return{id:"text_track_file_"+e.id,kind:e.kind,label:e.displayLabel,srclang:e.srclang,src:e.urls.vtt}}):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.initTextTracks=n,t.updateTextTracks=i,t.textTracksFromFiles=s},function(e,t){"use strict";function n(t){return function(e){return e.widgetPresence[t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.widgetPresent=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(t){return c["default"].createElement(f["default"],{whitelist:["width","height"]},function(e){return o(t,e)})}function o(e,t){var n=(0,u["default"])(e.videoFile,e.fit,e.position,t);return c["default"].createElement("div",{className:"videoWrapper"},c["default"].createElement("div",{className:(0,l["default"])(n,t),style:a(n)},e.children))}function a(e){return e&&s({position:"absolute"},e)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var u=r(n(512)),l=r(n(513)),c=r(n(333)),f=r(n(468));i.propTypes={videoFile:c["default"].PropTypes.object,fit:c["default"].PropTypes.oneOf(["contain","cover","smart_contain"]),position:c["default"].PropTypes.arrayOf(c["default"].PropTypes.number)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n,r){if(r&&r.height&&t&&"contain"!=t){var i=void 0,o=void 0,a=void 0,s=e.width/e.height;if(a="width"==(s<r.width/r.height?"width":"height")?(i=(o=r.height)*s,r.width/i):(o=(i=r.width)/s,r.height/o),!("smart_contain"==t&&1.2<a)){var u=i*a,l=o*a,c=n[0]!==undefined&&"cover"==t?n[0]:50,f=n[1]!==undefined&&"cover"==t?n[1]:50;return{left:(r.width-u)*c/100,top:(r.height-l)*f/100,width:u,height:l}}}}},function(e,t){"use strict";function n(e,t){if(e&&t){var n=Math.max(0,-e.left),r=Math.max(0,e.width-t.width+e.left),i=Math.max(0,-e.top),o=Math.max(0,e.height-t.height+e.top);return["cue_offset","cue_offset_"+Math.ceil(o/10),"cue_margin_left_"+Math.ceil(n/10),"cue_margin_right_"+Math.ceil(r/10),"cue_margin_top_"+Math.ceil(i/10),"cue_margin_bottom_"+Math.ceil(o/10)].join(" ")}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n){var r=(2<arguments.length&&n!==undefined?arguments[2]:{}).hasHighBandwidth;if("auto"!=(t=t||"auto"))return e.urls[t]||(t="high"),[{type:"video/mp4",src:e.urls[t]+"?u=1"}];var i=r?"high":"medium",o=[{type:"application/x-mpegURL",src:e.urls["hls-playlist"]+"?u=1"},{type:"video/mp4",src:e.urls[i]+"?u=1"}];return e.urls["dash-playlist"]&&(o=[{type:"application/dash+xml",src:""+e.urls["dash-playlist"]}].concat(o)),o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(t){function e(e){return e.file&&e.file.isReady&&e.pageIsPrepared?React.createElement(t,{file:e.file,posterImageFile:e.posterImageFile,playerState:e.playerState,playerActions:e.playerActions,atmoDuringPlayback:e.atmoDuringPlayback,fit:e.fit,position:e.position,loop:e.loop,muted:e.muted,playsInline:e.playsInline,defaultTextTrackFileId:e.defaultTextTrackFileId,textTracksEnabled:e.textTracksEnabled}):null}return(0,r.connectInPage)((0,o.combineSelectors)({pageIsPrepared:(0,i.pageIsPrepared)(),atmoDuringPlayback:(0,i.pageAttribute)("atmoDuringPlayback"),defaultTextTrackFileId:(0,i.pageAttribute)("defaultTextTrackFileId")}))(e)};var r=n(348),i=n(375),o=n(339)},function(e,t,n){"use strict";function r(e){var t=i(e);return t?React.createElement(a.PageBackgroundImage,{page:e.page,propertyBaseName:t.propertyBaseName,fileCollection:t.collection}):React.createElement("noscript",null)}function i(t){return o(t.propertyNamePrefix).find(function(e){return t.fileExists(e.collection,t.page[e.propertyBaseName+"Id"])})}function o(e){return[{propertyBaseName:s.camelize.concat(e,"mobilePosterImage"),collection:"imageFiles"},{propertyBaseName:s.camelize.concat(e,"posterImage"),collection:"imageFiles"},{propertyBaseName:s.camelize.concat(e,"videoFile"),collection:"videoFiles"}]}Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePageVideoPoster=r;var a=n(331),s=n(339),u=n(442),l=n(397);t["default"]=(0,l.connect)((0,s.combineSelectors)({fileExists:(0,u.fileExists)()}))(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.hasMobilePlatform&&o(e)?React.createElement(u["default"],{page:e.page,propertyNamePrefix:e.propertyNamePrefix}):React.createElement(s["default"],a({loop:!0,fit:"cover",muted:!e.hasAutoplaySupport,playsInline:!0,textTracksEnabled:!1},e))}function o(e){var t=l.camelize.concat(e.propertyNamePrefix,"mobilePosterImageId");return e.fileExists("imageFiles",e.page[t])}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.PageBackgroundVideo=i;var s=r(n(502)),u=r(n(516)),l=n(339),c=n(442),f=n(439),d=n(397);t["default"]=(0,d.connect)((0,l.combineSelectors)({fileExists:(0,c.fileExists)(),hasMobilePlatform:(0,f.has)("mobile platform"),hasAutoplaySupport:(0,f.has)("autoplay support")}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=e.playerState,r=e.playerActions,i=e.propertyNamePrefix;return"video"==t[c.camelize.concat(i,"backgroundType")]?React.createElement(a["default"],{page:t,playerState:n,playerActions:r,propertyNamePrefix:i}):React.createElement(o.PageBackgroundImage,{page:t,propertyNamePrefix:i})}Object.defineProperty(t,"__esModule",{value:!0}),t.PageBackgroundAsset=i;var o=n(331),a=r(n(517)),s=n(498),u=n(348),l=n(375),c=n(339);t["default"]=(0,u.connectInPage)((0,c.combineSelectors)({page:(0,l.pageAttributes)(),playerState:(0,s.playerState)({scope:"background"})}),(0,c.combine)({playerActions:(0,s.playerActions)({scope:"background"})}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(o.PageBackground,null,React.createElement(a["default"],{propertyNamePrefix:e.propertyNamePrefix}),React.createElement(o.PageShadow,{page:e.page}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(331),a=r(n(518))},function(e,t,n){"use strict";function r(e){var t=e.page;return"video"==t.backgroundType||"video"==t.type?React.createElement(c,{videoId:t.videoFileId,posterImageId:t.posterImageId}):React.createElement(f,{imageId:t.backgroundImageId})}function i(e){var t=e.file;return t&&s.pageIsPrepared?React.createElement("img",{src:t.urls.print,alt:t.alt,className:"print_image"}):React.createElement("noscript",null)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(397),a=n(348),s=n(375),u=n(488),l=n(339),c=(0,o.connect)((0,l.combineSelectors)({videoFile:(0,u.file)("videoFiles",{id:(0,u.prop)("videoId")}),posterImageFile:(0,u.file)("imageFiles",{id:(0,u.prop)("posterImageId")})}))(function(e){var t=e.videoFile,n=e.posterImageFile;return n?React.createElement(i,{file:n}):React.createElement(i,{file:t})}),f=(0,a.connectInPage)((0,l.combineSelectors)({file:(0,u.file)("imageFiles",{id:(0,u.prop)("imageId")}),pageIsPrepared:(0,s.pageIsPrepared)()}))(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){var t=(0<arguments.length&&e!==undefined?arguments[0]:{}).scope,i=t===undefined?"default":t;return function o(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t;if(r.meta&&r.meta.mediaScope&&r.meta.mediaScope!==i)return n;switch(r.type){case l.PAGE_WILL_ACTIVATE:return a({},n,{hasPlayed:!1,unplayed:!0,infoBoxHiddenDuringPlayback:undefined,userIsIdle:!1});case l.PAGE_WILL_DEACTIVATE:return a({},n,{shouldPrebuffer:!1});case s.PLAY:return a({},n,{shouldPlay:!0,hasBeenPlayingJustNow:!0,unplayed:!1,fadeDuration:null,isLoading:!0});case s.PLAYING:return a({},n,{isPlaying:!0});case s.PLAY_AND_FADE_IN:return a({},n,{shouldPlay:!0,hasBeenPlayingJustNow:!0,fadeDuration:r.payload.fadeDuration,isLoading:!0});case s.PAUSE:return a({},n,{shouldPlay:!1,fadeDuration:null,isLoading:!1});case s.PAUSED:return n.bufferUnderrun?a({},n,{isPlaying:!1,hasPlayed:!0}):a({},n,{shouldPlay:!1,isPlaying:!1,fadeDuration:null,isLoading:!1});case s.FADE_OUT_AND_PAUSE:return a({},n,{shouldPlay:!1,isPlaying:!1,fadeDuration:r.payload.fadeDuration,isLoading:!1});case s.PREBUFFER:return a({},n,{shouldPrebuffer:!0});case s.PREBUFFERED:return a({},n,{shouldPrebuffer:!1});case s.WAITING:return a({},n,{isLoading:!0});case s.BUFFER_UNDERRUN:return a({},n,{bufferUnderrun:!0});case s.BUFFER_UNDERRUN_CONTINUE:return a({},n,{bufferUnderrun:!1});case s.SCRUB_TO:return a({},n,{scrubbingAt:r.payload.time});case s.SEEK_TO:return a({},n,{shouldSeekTo:r.payload.time});case s.SEEKING:return a({},n,{isLoading:!0});case s.SEEKED:return a({},n,{scrubbingAt:undefined,isLoading:!1});case s.META_DATA_LOADED:return a({},n,{currentTime:r.payload.currentTime,duration:r.payload.duration});case s.PROGRESS:return a({},n,{bufferedEnd:r.payload.bufferedEnd});case s.TIME_UPDATE:return a({},n,{currentTime:r.payload.currentTime,duration:r.payload.duration,isLoading:!1});case s.ENDED:return a({},n,{shouldPlay:!1,isPlaying:!1});case s.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT:return a({},n,{hasBeenPlayingJustNow:!1});case u.HOTKEY_TAB:case s.USER_INTERACTION:return a({},n,{userIsIdle:!1,controlsHidden:!1});case s.USER_IDLE:return a({},n,{userIsIdle:!0});case s.CONTROLS_ENTERED:return a({},n,{userHoveringControls:!0});case s.CONTROLS_LEFT:return a({},n,{userHoveringControls:!1});case s.FOCUS_ENTERED_CONTROLS:return a({},n,{focusInsideControls:!0});case s.FOCUS_LEFT_CONTROLS:return a({},n,{focusInsideControls:!1});case s.CONTROLS_HIDDEN:return a({},n,{controlsHidden:!0,infoBoxHiddenDuringPlayback:!0});case s.HIDE_INFO_BOX_DURING_PLAYBACK:return a({},n,{infoBoxHiddenDuringPlayback:!0});case s.SHOW_INFO_BOX_DURING_PLAYBACK:return a({},n,{infoBoxHiddenDuringPlayback:!1});case s.TOGGLE_INFO_BOX_DURING_PLAYBACK:return a({},n,{infoBoxHiddenDuringPlayback:!n.infoBoxHiddenDuringPlayback});default:return n}}};var s=n(499),u=n(522),l=n(329)},function(e,t,n){"use strict";function r(e){var t=e.currentPageId;return(0,o.pageAction)(a,t)}function i(e){var t=e.currentPageId;return(0,o.pageAction)(s,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HOTKEY_TAB=t.HOTKEY_SPACE=undefined,t.space=r,t.tab=i;var o=n(329),a=t.HOTKEY_SPACE="HOTKEY_SPACE",s=t.HOTKEY_TAB="HOTKEY_TAB"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t,n=0<arguments.length&&e!==undefined?arguments[0]:{};return regeneratorRuntime.wrap(function r(e){for(;;)switch(e.prev=e.next){case 0:return t=[(0,o["default"])()],n.playsInNativePlayer&&n.playsInNativePlayer()||t.push([(0,s["default"])(),(0,f["default"])(),(0,c["default"])(),(0,u["default"])()]),(0,d.has)("mobile platform")||t.push([(0,a["default"])()]),n.hideControls&&t.push([(0,l["default"])()]),e.next=6,t;case 6:case"end":return e.stop()}},p,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(524)),a=r(n(525)),s=r(n(526)),u=r(n(527)),l=r(n(528)),c=r(n(529)),f=r(n(530)),d=n(339),p=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)([a.HOTKEY_SPACE,o.TOGGLE_PLAYING],i,(0,o.actionCreators)());case 2:case"end":return e.stop()}},c,this)}function i(e){var t=e.play,n=e.pause;return regeneratorRuntime.wrap(function r(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.select)((0,s.playerState)());case 2:if(e.sent.shouldPlay)return e.next=6,(0,l.put)(n());e.next=8;break;case 6:e.next=10;break;case 8:return e.next=10,(0,l.put)(t());case 10:case"end":return e.stop()}},f,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(499),a=n(522),s=n(498),u=n(387),l=n(383),c=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.PAGE_DID_ACTIVATE,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.race)({task:(0,a.call)(i),cancel:(0,a.take)(s.PAGE_WILL_DEACTIVATE)});case 2:case"end":return e.stop()}},n,this)}));case 2:case"end":return e.stop()}},c,this)}function i(){var t;return regeneratorRuntime.wrap(function n(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.select)((0,l.pageAttribute)("autoplay"));case 2:if(!1!==(t=e.sent))return e.next=6,(0,a.put)(g());e.next=6;break;case 6:return e.next=8,[(0,a.take)(u.PREBUFFERED),(0,a.put)(h())];case 8:if(!1!==t)return e.next=11,(0,a.call)(o.delay,1e3);e.next=13;break;case 11:return e.next=13,(0,a.put)(p());case 13:case"end":return e.stop()}},f,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(329),u=n(499),l=n(375),c=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(i),d=(0,u.actionCreators)(),p=d.play,h=d.prebuffer,g=d.waiting},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.takeEvery)(u.PLAY,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.select)((0,l.pageIsActive)());case 2:if(e.sent)return e.next=5,(0,s.call)(i);e.next=5;break;case 5:case"end":return e.stop()}},n,this)}));case 2:return e.next=4,(0,a.takeEvery)([u.PAUSE,u.ENDED],regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.select)((0,l.pageIsActive)());case 2:if(e.sent)return e.next=5,(0,s.call)(o);e.next=5;break;case 5:case"end":return e.stop()}},r,this)}));case 4:case"end":return e.stop()}},c,this)}function i(){pageflow.events.trigger("scroll_indicator:disable")}function o(){pageflow.events.trigger("scroll_indicator:enable")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(387),s=n(383),u=n(499),l=n(375),c=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function r(){var t,r;return regeneratorRuntime.wrap(function i(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,s.actionCreators)(),r=t.hasNotBeenPlayingForAMoment,e.next=3,(0,o.takeEvery)([s.PAUSE,s.ENDED],regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.race)({task:(0,a.call)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.call)(o.delay,700);case 2:return e.next=4,(0,a.put)(r(!1));case 4:case"end":return e.stop()}},n,this)})),cancel:(0,a.take)(s.PLAYING)});case 2:case"end":return e.stop()}},n,this)}));case 3:case"end":return e.stop()}},u,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(499),u=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function r(){var t,n;return regeneratorRuntime.wrap(function r(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,s.actionCreators)(),n=t.userIdle,e.next=3,(0,o.takeLatest)([s.PLAY,s.USER_INTERACTION,u.HOTKEY_TAB],i,n);case 3:case"end":return e.stop()}},l,this)}function i(t){return regeneratorRuntime.wrap(function n(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.call)(o.delay,3e3);case 2:return e.next=4,(0,a.put)(t());case 4:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(499),u=n(522),l=regeneratorRuntime.mark(r),c=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(e){var t,r,i=(0<arguments.length&&e!==undefined?arguments[0]:{}).scope;return regeneratorRuntime.wrap(function o(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,u.actionCreators)({scope:i}),r=t.fadeOutAndPause,e.next=3,(0,a.takeEvery)(l.PAGE_DID_DEACTIVATE,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.put)(r({fadeDuration:400}));case 2:case"end":return e.stop()}},n,this)}));case 3:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(387),s=n(383),u=n(499),l=n(329),c=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.takeEvery)(u.ENDED,regeneratorRuntime.mark(function i(){var t,n;return regeneratorRuntime.wrap(function r(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.select)((0,l.pageAttribute)("autoChangePageOnEnded"));case 2:return t=e.sent,e.next=5,(0,s.select)((0,l.pageIsActive)());case 5:if(n=e.sent,t&&n)return e.next=9,(0,s.call)(o);e.next=9;break;case 9:case"end":return e.stop()}},i,this)}));case 2:case"end":return e.stop()}},i,this)}function o(){pageflow.slides.next()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(387),s=n(383),u=n(499),l=n(375),i=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function r(e){var r,t=(0<arguments.length&&e!==undefined?arguments[0]:{}).scope;return regeneratorRuntime.wrap(function i(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,u.actionCreators)({scope:t}),e.next=3,(0,a.takeEvery)(l.PAGE_WILL_ACTIVATE,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.race)({task:(0,s.call)(o,r),cancel:(0,s.take)(l.PAGE_WILL_DEACTIVATE)});case 2:case"end":return e.stop()}},n,this)}));case 3:case"end":return e.stop()}},c,this)}function o(e){var t=e.prebuffer,n=e.playAndFadeIn;return regeneratorRuntime.wrap(function r(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,s.take)(u.PREBUFFERED),(0,s.put)(t())];case 2:return e.next=4,(0,s.put)(n({fadeDuration:1e3}));case 4:case"end":return e.stop()}},i,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(387),s=n(383),u=n(499),l=n(329),c=regeneratorRuntime.mark(r),i=regeneratorRuntime.mark(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=t.reduxModule=undefined;var i=r(n(533)),o=r(n(535));t.reduxModule={name:"interactivePageBackground",saga:o["default"]};t.Page=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=r(n(333)),l=r(n(334)),c=n(331),f=n(534),d=n(348),p=n(339),h=function(){function r(e,t){i(this,r);var n=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.onPlayButtonClick=function(){pageflow.hideText.activate(),n.props.onEnterBackground&&n.props.onEnterBackground()},n.onCloseButtonClick=function(){pageflow.hideText.deactivate(),n.props.onLeaveBackground&&n.props.onLeaveBackground()},n}return a(r,u["default"].Component),s(r,[{key:"render",value:function t(){var e=this.props.page;return u["default"].createElement(c.PageWrapper,{className:(0,l["default"])({unplayed:!this.props.textHasBeenHidden},"hide_content_with_text")},u["default"].createElement(c.CloseButton,{onClick:this.onCloseButtonClick}),u["default"].createElement(c.MenuBar,{additionalButtons:this.props.additionalMenuBarButtons,onAdditionalButtonClick:this.props.onAdditionalButtonClick,qualityMenuButtonTitle:this.props.qualityMenuButtonTitle,qualityMenuItems:this.props.qualityMenuItems,onQualityMenuItemClick:this.props.onQualityMenuItemClick,hiddenOnPhone:this.props.textHasBeenHidden&&!this.props.textIsHidden}),u["default"].createElement(c.PageBackground,{pageHasPlayerControls:!0},u["default"].createElement("div",{className:"videoWrapper"},this.props.children),u["default"].createElement(c.PageShadow,{page:e})),u["default"].createElement(c.PageForeground,null,u["default"].createElement(c.PlayerControls,{playButtonTitle:"Starten",playButtonIconName:this.props.playButtonIconName,controlBarText:e.controlBarText||this.props.defaultControlBarText,onPlayButtonClick:this.onPlayButtonClick,infoBox:{title:e.additionalTitle,description:e.additionalDescription}}),u["default"].createElement(c.PageScroller,null,u["default"].createElement(c.PageHeader,{page:e}),u["default"].createElement(c.PageText,{page:e}))))}}]),r}();h.propTypes={page:u["default"].PropTypes.object,defaultControlBarText:u["default"].PropTypes.string,playButtonIconName:u["default"].PropTypes.string,onEnterBackground:u["default"].PropTypes.func,onLeaveBackground:u["default"].PropTypes.func,additionalMenuBarButtons:u["default"].PropTypes.array,onAdditionalButtonClick:u["default"].PropTypes.func,qualityMenuItems:u["default"].PropTypes.array,onQualityMenuItemClick:u["default"].PropTypes.func},t["default"]=(0,d.connectInPage)((0,p.combineSelectors)({textIsHidden:f.textIsHidden,textHasBeenHidden:f.textHasBeenHidden}))(h)},function(e,t){"use strict";function n(e){return e.hideText.isActive}function r(e){return e.hideText.hasBeenActive}Object.defineProperty(t,"__esModule",{value:!0}),t.textIsHidden=n,t.textHasBeenHidden=r},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.DEACTIVATE,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.select)((0,u.pageIsActive)());case 2:if(e.sent)return e.next=5,(0,a.call)(i);e.next=5;break;case 5:
case"end":return e.stop()}},n,this)}));case 2:case"end":return e.stop()}},l,this)}function i(){pageflow.events.trigger("scroll_indicator:enable")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(536),u=n(375),l=regeneratorRuntime.mark(r)},function(e,t){"use strict";function n(){return{type:i}}function r(){return{type:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.activate=n,t.deactivate=r;var i=t.ACTIVATE="HIDE_TEXT_ACTIVATE",o=t.DEACTIVATE="HIDE_TEXT_DEACTIVATE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.registry=undefined;var i=r(n(538)),o=t.registry=new i["default"];t["default"]=o.register},function(e,t,n){"use strict";function f(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function r(){var c=[];this.register=function(t,e){function n(e){throw new Error(e+" Check registerPageType call of "+t+" page type.")}var r=e.component,i=e.reduxModules,o=i===undefined?[]:i,a=f(e,["component","reduxModules"]);r||n("Requires component option to be present"),Array.isArray(o)||n("Expected reduxModules option to be an array.");var s=[],u=o.reduce(function(e,t){return"object"===(void 0===t?"undefined":p(t))&&3==new Set(Object.keys(t).concat(["name","reducers","saga"])).size||n("Expected redux module to be object with name, reducers and saga properties at most."),t.reducers&&"object"!==p(t.reducers)&&n("Expected reducers property of "+t.name+" reduxModule to be object."),t.saga&&s.push(t.saga),d({},e,t.reducers)},{});c.push(d({name:t,component:r,reducer:Object.keys(u).length?(0,h.combineReducers)(u):undefined,saga:regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.map(function(e){return e()});case 2:case"end":return e.stop()}},l,this)})},a))},this.forEach=function(){return c.forEach.apply(c,arguments)},this.reduce=function(){return c.reduce.apply(c,arguments)},this.findByName=function(n){return c.find(function(e){var t=e.name;e.component;return t==n})}}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=r;var h=n(351)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t){(0,o["default"])(e,{component:a.PageBackgroundAsset,selectTargetElement:function n(e){return e.find(".page_background_asset")[0]},mixin:i({scroller:!0},t),reduxModules:[a.pageBackgroundReduxModule]})};var o=r(n(537)),a=n(494)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=t.component;r.push({name:e,component:n})};var r=t.registry=[]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),u=n(376),l=n(537),c=r(n(542)),f=r(n(333)),d=n(397),p=(0,u.createItemScopeProvider)("pages"),h=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,f["default"].Component),s(e,[{key:"componentWillMount",value:function t(){this.store=(0,c["default"])({seed:this.props.resolverSeed}),this.pageComponent=l.registry.findByName(this.props.pageType).component}},{key:"render",value:function n(){var e=this.pageComponent;return f["default"].createElement(d.Provider,{store:this.store},f["default"].createElement(p,{itemId:this.props.pageId},f["default"].createElement(e,null)))}}]),e}();t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(r){var e=!!r.storylines,t=!r.settings,n=r.seed,i=e?r:n,o={isServerSide:t,locale:n.locale,slug:n.slug,fileUrlTemplates:n.file_url_templates,modelTypes:n.file_model_types,pageTypesSeed:n.page_types,pageTypes:u.registry,files:i.files||{},storylines:i.storylines,chapters:i.chapters,pages:i.pages,widgets:e?r.entry.widgets:n.widgets,hideText:r.hideText,events:r.events,settings:r.settings,widgetsApi:r.widgets,window:t?null:window},a=(0,c["default"])([_["default"],b["default"],v["default"],f["default"],d["default"],h["default"],m["default"],y["default"],w["default"],S["default"],P["default"],g["default"],T["default"]],o);return t||(u.registry.forEach(function(e){return r.pageType.register(e.name,(0,p.createPageType)(s({},e,{Component:e.component,store:a})))}),l.registry.forEach(function(e){var t=e.name,n=e.component;return r.widgetTypes.register(t,(0,E.createWidgetType)(n,a))})),a};var u=n(537),l=n(540),c=r(n(543)),f=r(n(545)),d=r(n(546)),p=n(348),h=r(p),g=r(n(547)),v=r(n(550)),m=r(n(554)),y=r(n(555)),_=r(n(557)),b=r(n(560)),T=r(n(563)),w=r(n(564)),E=n(567),S=r(E),P=r(n(568))},function(e,n,r){(function(t){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,n){var t=e.reduce(function(e,t){return t.createReducers?p({},e,t.createReducers(n)):e},{});return Object.keys(t).length?(0,h.combineReducers)(t):function(e){return e}}function c(e,n){var r=[],i=[];return e.forEach(function(e){var t=void 0;e.createMiddleware&&(t=e.createMiddleware(n),i.push(t)),e.createSaga&&r.push((0,o.call)(e.createSaga(p({},n,{middleware:t}))))}),{sagas:r,middlewares:i}}function f(e,t){e.forEach(function(e){e.init&&e.init(t)})}function d(e){return void 0===t&&"undefined"!=typeof __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(e):e}Object.defineProperty(n,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n["default"]=function(e,t){var n=(0,g["default"])(),r=[],i=[];if(!t.isServerSide){var o=c(e,t);r=o.sagas,i=o.middlewares}var a=(0,h.createStore)(l(e,t),{},d(h.applyMiddleware.apply(undefined,[n].concat(u(i)))));return n.run(regeneratorRuntime.mark(function s(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:case"end":return e.stop()}},s,this)})),f(e,p({},t,{dispatch:a.dispatch,getState:a.getState})),a};var h=r(351),g=e(r(387)),o=r(383)}).call(n,r(544))},function(e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function a(){h&&d&&(h=!1,d.length?p=d.concat(p):g=-1,p.length&&s())}function s(){if(!h){var e=i(a);h=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,h=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function t(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var d,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new u(e,t)),1!==p.length||h||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=t,f.addListener=t,f.once=t,f.off=t,f.removeListener=t,f.removeAllListeners=t,f.emit=t,f.prependListener=t,f.prependOnceListener=t,f.listeners=function(){return[]},f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(376);t["default"]={init:function i(e){var t=e.storylines,n=e.dispatch;(0,r.watch)({collection:t,collectionName:"storylines",dispatch:n,attributes:["id"],includeConfiguration:!0})},createReducers:function o(){return{storylines:(0,r.createReducer)("storylines")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(376);t["default"]={init:function i(e){var t=e.chapters,n=e.dispatch;(0,r.watch)({collection:t,collectionName:"chapters",dispatch:n,attributes:["id","title","position","storyline_id"]})},createReducers:function o(){return{chapters:(0,r.createReducer)("chapters")}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(548),o=r(n(549)),a=n(339);t["default"]={createReducers:function s(){return{pageTypes:o["default"]}},init:function u(e){var t=e.pageTypesSeed;(0,e.dispatch)((0,i.init)({pageTypes:a.camelize.deep(t)}))}}},function(e,t){"use strict";function n(e){var t=e.pageTypes;return{type:r,payload:{pageTypes:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="PAGE_TYPES_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t;switch(r.type){case i.INIT:return r.payload.pageTypes;default:return n}};var i=n(548)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.reducers=undefined;var i=r(n(551)),o=r(n(553));t["default"]={init:function a(e){var t=e.isServerSide,n=e.events,r=e.dispatch;t||(0,o["default"])(n,r)},createReducers:function s(){return{currentPageId:i["default"]}}};t.reducers={currentPageId:i["default"]};t.watch=o["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:null,r=t;switch(r.type){case i.PAGE_CHANGE:return r.payload.id;default:return n}};var i=n(552)},function(e,t){"use strict";function n(e){var t=e.id;return{type:r,payload:{id:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageChange=n;var r=t.PAGE_CHANGE="CURRENT_PAGE_CHANGE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("page:change",function(e){return t((0,r.pageChange)({id:e.getPermaId()}))})};var r=n(552)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n(376),l=n(339),c=n(351);t["default"]={init:function r(e){var t=e.files,n=e.dispatch;Object.keys(t).forEach(function(e){(0,u.watch)({collection:t[e],collectionName:(0,l.camelize)(e),dispatch:n,attributes:["id","basename","variants","is_ready","parent_file_id","parent_file_model_type","width","height"],includeConfiguration:!0})})},createReducers:function f(e){var t=e.files,n=e.fileUrlTemplates,r=n===undefined?{}:n,i=e.modelTypes,o=i===undefined?{}:i;return r=l.camelize.keys(r),o=l.camelize.keys(o),{files:(0,c.combineReducers)(Object.keys(t).reduce(function(e,t){return e[t=(0,l.camelize)(t)]=(0,u.createReducer)(t),e},{})),fileUrlTemplates:function a(){return r},modelTypes:function s(){return o}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(i){return regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)(s.UPDATE,regeneratorRuntime.mark(function r(t){return regeneratorRuntime.wrap(function n(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.call)([i,i.set],t.payload.property,t.payload.value);case 2:case"end":return e.stop()}},r,this)}));case 2:case"end":return e.stop()}},e,this)})}function i(e,t){t((0,s.load)({settings:e.toJSON()})),e.on("change",function(){return t((0,s.load)({settings:e.toJSON()}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=undefined,t.createSaga=o,t.watch=i;var a=r(n(556)),s=n(330),u=n(387),l=n(383);t["default"]={init:function c(e){var t=e.isServerSide,n=e.settings,r=e.dispatch;t||(r((0,s.load)({settings:n.toJSON()})),n.on("change",function(){return r((0,s.load)({settings:n.toJSON()}))}))},createReducers:function f(){return{settings:a["default"]}},createSaga:function o(e){var i=e.settings;return regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function t(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)(s.UPDATE,regeneratorRuntime.mark(function r(t){return regeneratorRuntime.wrap(function n(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.call)([i,i.set],t.payload.property,t.payload.value);case 2:case"end":return e.stop()}},r,this)}));case 2:case"end":return e.stop()}},n,this)})}};t.reducers={settings:a["default"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t;switch(r.type){case i.LOAD:return r.payload.settings;default:return n}};var i=n(330)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(558),o=r(n(559));t["default"]={createReducers:function a(){return{i18n:o["default"]}},init:function s(e){var t=e.locale;(0,e.dispatch)((0,i.init)({locale:t}))}}},function(e,t){"use strict";function n(e){var t=e.locale;return{type:r,payload:{locale:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="I18N_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t;switch(r.type){case i.INIT:return{locale:r.payload.locale};default:return n}};var i=n(558)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(561),o=r(n(562));t["default"]={init:function a(e){var t=e.slug;(0,e.dispatch)((0,i.init)({slug:t}))},createReducers:function s(){return{entry:o["default"]}}}},function(e,t){"use strict";function n(e){var t=e.slug;return{type:r,payload:{slug:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="ENTRY_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t;switch(r.type){case i.INIT:return{slug:r.payload.slug};default:return n}};var i=n(561)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(479),a=n(522);t["default"]={init:function s(e){var t=e.isServerSide,n=e.window,r=e.getState,i=e.dispatch;t||n.addEventListener("keydown",function(e){var t=r().currentPageId;e.keyCode==o.SPACE?i((0,a.space)({currentPageId:t})):e.keyCode==o.TAB&&i((0,a.tab)({currentPageId:t}))})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.reducers=undefined;var i=r(n(565)),o=r(n(566));t["default"]={init:function a(e){var t=e.isServerSide,n=e.hideText,r=e.dispatch;t||(0,i["default"])(n,r)},createReducers:function s(){return{hideText:o["default"]}}};t.reducers={hideText:o["default"]};t.watch=i["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("activate",function(){return t((0,r.activate)())}),e.on("deactivate",function(){return t((0,r.deactivate)())})};var r=n(536)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:a;switch(t.type){case i.ACTIVATE:return{isActive:!0,hasBeenActive:!0};case i.DEACTIVATE:return r({},n,{isActive:!1});case o.PAGE_CHANGE:return r({},n,{hasBeenActive:!1});default:return n}};var i=n(536),o=n(552),a={isActive:!1,hasBeenActive:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(t,n){return{enhance:function r(e){o["default"].render(React.createElement(a.Provider,{store:n},React.createElement(t,null)),e[0])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createWidgetType=i;var o=r(n(429)),a=n(397),s=n(376);t["default"]={init:function u(e){var t=e.widgets,n=e.dispatch;(0,s.watch)({collection:t,collectionName:"widgets",dispatch:n,attributes:["role","type_name"],includeConfiguration:!0})},createReducers:function l(){return{widgets:(0,s.createReducer)("widgets",{idAttribute:"role"})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(569)),a=n(570);t["default"]={init:function s(e){function t(){o((0,a.load)({widgets:{classicPlayerControls:i.isPresent("classic_player_controls"),slimPlayerControls:i.isPresent("slim_player_controls")}}))}var n=e.isServerSide,r=e.events,i=e.widgetsApi,o=e.dispatch;n||(r.on("widgets:update",t),t())},createReducers:function o(){return{widgetPresence:i["default"]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=t;switch(r.type){case i.LOAD:return r.payload.widgets;default:return n}};var i=n(570)},function(e,t){"use strict";function n(e){var t=e.widgets;return{type:r,payload:{widgets:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n;var r=t.LOAD="WIDGETS_LOAD"},function(e,t,n){"use strict";function r(){(0,o.register)(),(0,a.register)(),(0,i.register)()}Object.defineProperty(t,"__esModule",{value:!0}),t.register=r;var i=n(572),o=n(575),a=n(576)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(a.Page,{className:"audioPage",page:e.page,file:e.audioFile,playerState:e.playerState,playerActions:e.playerActions,controlBarText:e.t("pageflow.public.start_audio")},React.createElement(a.PageBackgroundAsset,null),React.createElement(s["default"],{file:e.audioFile,playerState:e.playerState,playerActions:e.playerActions}))}function o(){(0,u["default"])("audio",{component:(0,l.connectInPage)((0,h.combineSelectors)({page:(0,f.pageAttributes)(),audioFile:(0,p.file)("audioFiles",{id:(0,f.pageAttribute)("audioFileId")}),playerState:(0,c.playerState)(),t:d.t}),(0,h.combine)({playerActions:(0,c.playerActions)()}))(i),reduxModules:[(0,a.reduxModule)(),a.pageBackgroundReduxModule]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(494),s=r(n(573)),u=r(n(537)),l=n(348),c=n(498),f=n(375),d=n(486),p=n(442),h=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(515)),o=r(n(574));t["default"]=(0,i["default"])(o["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(504));t["default"]=(0,i["default"])({tagName:"audio",sources:function o(e){return[{type:"audio/ogg",src:e.urls.ogg+"?u=1"},{type:"audio/mp4",src:e.urls.m4a+"?u=1"},{type:"audio/mp3",src:e.urls.mp3+"?u=1"}]},emulateTextTracksDisplay:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page;return React.createElement(a.PageWrapper,null,React.createElement(s.PageBackground,{page:t}),React.createElement(a.PageForeground,null,React.createElement(a.PageScroller,null,React.createElement(a.PageHeader,{page:t}),React.createElement(s.PagePrintImage,{page:t}),React.createElement(a.PageText,{page:t}))))}function o(){(0,u["default"])("background_image",{component:(0,l.connectInPage)((0,f.combineSelectors)({page:(0,c.pageAttributes)()}))(i),reduxModules:[s.pageBackgroundReduxModule]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(331),s=n(494),u=r(n(537)),l=n(348),c=n(375),f=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(a.Page,{className:"videoPage",page:e.page,file:e.videoFile,qualities:g,playerState:e.playerState,playerActions:e.playerActions,controlBarText:e.t("pageflow.public.start_video")},React.createElement(a.PageVideoPlayer,{page:e.page,playerState:e.playerState,playerActions:e.playerActions}),React.createElement(a.MobilePageVideoPoster,{page:e.page}))}function o(){(0,s["default"])("video",{component:(0,u.connectInPage)((0,h.combineSelectors)({page:(0,c.pageAttributes)(),videoFile:(0,d.file)("videoFiles",{id:(0,c.pageAttribute)("videoFileId")}),playerState:(0,l.playerState)(),t:f.t}),(0,h.combine)({playerActions:(0,l.playerActions)()}))(i),reduxModules:[(0,a.reduxModule)({hideControls:!0,playsInNativePlayer:(0,p.has)("native video player")})]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(494),s=r(n(537)),u=n(348),l=n(498),c=n(375),f=n(486),d=n(442),p=n(439),h=n(339),g=["auto","4k","fullhd","medium"]},function(e){e.exports=pageflow}]),pageflow.react.registerPageTypeWithDefaultBackground("internal_links_grid",{prepareNextPageTimeout:0,enhance:function(e){e.on("click","nav .thumbnail",function(){return pageflow.slides.goToByPermaId($(this).data("page"),{transition:$(this).data("pageTransition")}),!1})},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),e.find("nav").attr("data-layout",t.get("linked_pages_layout"))}}),pageflow.react.registerPageTypeWithDefaultBackground("internal_links_list",{prepareNextPageTimeout:0,enhance:function(e){e.on("click","nav a[data-page]",function(){return pageflow.slides.goToByPermaId($(this).data("page"),{transition:$(this).data("pageTransition")}),!1})},activated:function(e){this._updateThumbnailHeights(e)},resize:function(e){this._updateThumbnailHeights(e)},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find(".contentText p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this._updateThumbnailHeights(e)},_updateThumbnailHeights:function(e){e.find(".page_link.custom_thumbnail").each(function(){var e=$(".page_thumbnail",this),t=$(".details",this);$(this).hasClass("own_description")?e.css("bottom",t.outerHeight()+"px"):e.css("bottom","0")})}}),pageflow.externalLinks=pageflow.externalLinks||{},pageflow.react.registerPageTypeWithDefaultBackground("external_links",{prepareNextPageTimeout:0,enhance:function(e){var n=e.find(".ext-links"),r=this,i=e.find("#horizontal_scroller");e.find(".contentWrapper");this.linkScroller=new IScroll(n[0],{mouseWheel:!0,bounce:!1,keyBindings:!0,scrollX:!0,scrollY:!1,probeType:2,eventPassthrough:!0}),this.linkScroller.checkDisable=function(){r._checkForIScroll(n,i,e.find(".arrow-forward"),e.find(".arrow-back"),e)},this.linkScroller.updateHeight=function(){r._adjustHeight(e)},n.data("scroller",this.linkScroller),r.linkScroller.on("scroll",function(){r.linkScroller.checkDisable()}),e.find(".arrow-back").on("click",function(e){var t=Math.round(r.linkScroller.x/-260-n.width()/260/2,10);return t<=1?r.linkScroller.scrollTo(0,0,500,IScroll.ease.quadratic):r.linkScroller.scrollToElement($(".page.active #horizontal_scroller a")[t],500,0,0,IScroll.ease.quadratic),r.linkScroller.checkDisable(),e.stopPropagation(),!1}),e.find(".arrow-forward").on("click",function(e){var t=Math.round(r.linkScroller.x/-260+n.width()/260/2,10);return t==i.find("a").length-1?r.linkScroller.scrollTo(r.linkScroller.maxScrollX,0,500,IScroll.ease.quadratic):r.linkScroller.scrollToElement($(".page.active #horizontal_scroller a")[t]),r.linkScroller.checkDisable(),e.stopPropagation(),!1})},resize:function(){this.linkScroller.refresh(),this.linkScroller.checkDisable()},_checkForIScroll:function(e,t,n,r,i){i.width()<=700?this.linkScroller.disable():t.width()<=e.width()?(this.linkScroller.disable(),n.css("display","none"),r.css("display","none")):(this.linkScroller.enable(),this.linkScroller.x==this.linkScroller.maxScrollX?n.css("display","none"):n.css("display","block"),0===this.linkScroller.x?r.css("display","none"):r.css("display","block"))},_adjustHeight:function(e){var t=e.find(".ext-links"),n=e.find(".ext-links > div");t.height(n.height()),this.scroller.refresh()},prepare:function(){},activating:function(){this.linkScroller.refresh(),this.linkScroller.checkDisable()},activated:function(e){this._adjustHeight(e)},deactivating:function(){},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find(".contentText p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this.linkScroller.refresh(),this.linkScroller.checkDisable()},embeddedEditorViews:function(){return{".ext-links":{view:pageflow.externalLinks.ListEmbeddedView,options:{propertyName:"linked_external_site_perma_ids"}}}}}),pageflow.linkmapPage=pageflow.linkmapPage||{},pageflow.linkmapPage.markerOptions=["no_marker","dynamic_marker"],pageflow.features.register("slideshow","page_type.linkmap_page",function(){pageflow.linkmapPage.visitedPages=[],pageflow.events.on("page:change",function(e){pageflow.linkmapPage.visitedPages.indexOf(e.getPermaId())<0&&pageflow.linkmapPage.visitedPages.push(e.getPermaId())})}),pageflow.pageType.register("linkmap_page",_.extend({scrollerOptions:{freeScroll:!0,scrollX:!0,noMouseWheelScrollX:!0},noHideTextOnSwipe:!0,enhance:function(e,t){this.setupPanoramaBackground(e,t),this.setupHoverImages(e,t),this.setupVideoPlayer(e),this.content=e.find(".scroller"),this.panorama=e.find(".panorama"),this.content.linkmapPanorama({page:e,panorama:function(){return e.find(".panorama.active")},scroller:this.scroller,activeAreasSelector:".linkmap_areas > .hover_area",limitScrolling:t.limit_scrolling,minScaling:pageflow.browser.has("mobile platform"),addEnvironment:t.add_environment,marginScrollingDisabled:t.margin_scrolling_disabled,startScrollPosition:this.getPanoramaStartScrollPosition(t)}),this.content.linkmapLookaround({scroller:this.scroller,marginScrollingDisabled:t.margin_scrolling_disabled}),e.find(".linkmap_page").linkmapScrollIndicators({scroller:this.scroller}),e.find(".hover_video").linkmapHoverVideo({video:e.find(".panorama_video")}),this.linkmapAreas=e.find(".linkmap_areas"),this.linkmapAreas.linkmap({hoverImageUrl:this.linkmapAreas.data("hoverImageUrl"),visitedImageUrl:this.linkmapAreas.data("visitedImageUrl"),maskSpriteUrlTemplate:this.linkmapAreas.data("maskSpriteUrlTemplate"),masksData:t.linkmap_masks,baseImage:function(){return e.find(".panorama.active")},hoverVideo:e.find(".hover_video").linkmapHoverVideo("instance"),hoverVideoEnabled:"hover_video"===t.background_type}),this.setupPageLinkAreas(e),this.setupExternalLinkAreas(e),this.setupAudioFileAreas(e,t)},getPanoramaStartScrollPosition:function(t){function e(e){return e in t?t[e]/100:.5}return"video"===t.background_type?{x:e("panorama_video_x"),y:e("panorama_video_y")}:{x:e("panorama_image_x"),y:e("panorama_image_y")}},setupPanoramaBackground:function(e,t){e.find(".panorama_image").toggleClass("active",!this.isBackgroundVideoEnabled(t)),e.find(".panorama_video").toggleClass("active",this.isBackgroundVideoEnabled(t))},setupHoverImages:function(e,t){e.find(".hover_image").toggle(!this.isHoverVideoEnabled(t))},setupVideoPlayer:function(e){var t=e.find(".panorama_video"),n=t.find("[data-template=video]");t.attr("data-width",n.data("videoWidth")).attr("data-height",n.data("videoHeight")),this.videoPlayer=new pageflow.VideoPlayer.Lazy(n,{volumeFading:!0,width:"100%",height:"100%"}),t.data("videoPlayer",this.videoPlayer)},setupPageLinkAreas:function(e){e.on("linkmapareaclick",'[data-target-type="page"]',function(){var e=$(this);pageflow.slides.goToByPermaId(e.data("targetId"),{transition:e.data("pageTransition")})})},setupExternalLinkAreas:function(e){e.on("linkmapareaclick",'[data-target-type="external_site"]',function(){var e=$(this);e.attr("target")?window.open(e.attr("href"),e.attr("target")):window.location.href=e.attr("href")})},setupAudioFileAreas:function(e,t){this.multiPlayer=pageflow.audio.createMultiPlayer({playFromBeginning:!0,fadeDuration:1e3,hooks:pageflow.atmo.createMediaPlayerHooks(t)}),e.linkmapAudioPlayersController({player:this.multiPlayer}),e.find('[data-target-type="audio_file"]').linkmapAudioPlayerControls()},resize:function(){this.content.linkmapPanorama("refresh"),this.linkmapAreas.linkmap("refresh")},prepare:function(e,t){if(this.isVideoEnabled(t))return this.videoPlayer.ensureCreated()},unprepare:function(e,t){if(this.isVideoEnabled(t))return this.videoPlayer.scheduleDispose()},linkedPages:function(e,t){return _(t.linkmap_areas).select(function(e){return"page"===e.target_type}).map(function(e){return e.target_id})},preload:function(e){return pageflow.preload.backgroundImage(e.find(".background_image"))},activating:function(e,t){this.isVideoEnabled(t)&&this.playVideo(t),this.content.linkmapPanorama("refresh"),this.linkmapAreas.linkmap("refresh"),this.content.linkmapLookaround("activate"),this.content.linkmapPanorama("resetScrollPosition"),this.content.linkmapPanorama("resetAreaHighlighting")},activated:function(){this.content.linkmapPanorama("highlightAreas")},deactivating:function(){this.multiPlayer.pause(),this.content.linkmapLookaround("deactivate")},deactivated:function(e,t){this.isVideoEnabled(t)&&this.pauseVideo(t)},update:function(t,n){this.setupPanoramaBackground(t,n.attributes),this.updateCommonPageCssClasses(t,n),this.linkmapAreas.linkmap("updateHoverVideoEnabled","hover_video"===n.get("background_type")),this.afterEmbeddedViewsUpdate(function(){var e=!1;this.linkmapAreas.linkmap("option","hoverImageUrl",n.getImageFileUrl("hover_image_id",{styleGroup:"panorama"})),this.linkmapAreas.linkmap("option","visitedImageUrl",n.getImageFileUrl("visited_image_id",{styleGroup:"panorama"})),this.linkmapAreas.linkmap("option","masksData",n.get("linkmap_masks")),this.content.linkmapPanorama("update",n.get("add_environment"),n.get("limit_scrolling"),this.getPanoramaStartScrollPosition(n.attributes),e),this.updateScaledOnPhoneFlags(n.page,this.content.linkmapPanorama("instance")),this.content.linkmapLookaround("update",n.get("margin_scrolling_disabled")),this.setupHoverImages(t,n.attributes),this.updateVideoPlayState(n),this.linkmapAreas.linkmap("refresh"),this.scroller.refresh()})},updateScaledOnPhoneFlags:function(e,t){e.set("scaled_on_portrait_phone",t.getPanoramaSize({pageWidth:360,pageHeight:640,minScaling:!0}).scaled),e.set("scaled_on_landscape_phone",t.getPanoramaSize({pageWidth:640,pageHeight:360,minScaling:!0}
).scaled)},updateVideoPlayState:function(e){e.hasChanged("background_type")&&(this.isVideoEnabled(e.attributes)?this.playVideo(e.attributes):this.pauseVideo(e.attributes))},afterEmbeddedViewsUpdate:function(e){setTimeout(_.bind(e,this),10)},isVideoEnabled:function(e){return!pageflow.browser.has("mobile platform")&&("video"===e.background_type||"hover_video"===e.background_type)},isBackgroundVideoEnabled:function(e){return!pageflow.browser.has("mobile platform")&&"video"===e.background_type},isHoverVideoEnabled:function(e){return!pageflow.browser.has("mobile platform")&&"hover_video"===e.background_type},playVideo:function(e){var t=this;this.videoPlayer.ensureCreated(),this.prebufferingPromise=this.videoPlayer.prebuffer().then(function(){"video"===e.background_type&&t.videoPlayer.playAndFadeIn(1e3)})},pauseVideo:function(){this.videoPlayer.fadeOutAndPause(1e3),this.videoPlayer.scheduleDispose()}},pageflow.commonPageCssClasses)),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.gyro=t()}(this,function(){var i={x:null,y:null,z:null,alpha:null,beta:null,gamma:null},o={x:0,y:0,z:0,alpha:0,beta:0,gamma:0},t=null,a=[],n={frequency:500,calibrate:function(){for(var e in i)o[e]="number"==typeof i[e]?i[e]:0},getOrientation:function(){return i},startTracking:function(e){t=setInterval(function(){e(i)},n.frequency)},stopTracking:function(){clearInterval(t)},hasFeature:function(e){for(var t in a)if(e==a[t])return!0;return!1},getFeatures:function(){return a}};return window&&window.addEventListener&&function(){function t(e){a.push("MozOrientation"),e.target.removeEventListener("MozOrientation",t,!0),e.target.addEventListener("MozOrientation",function(e){i.x=e.x-o.x,i.y=e.y-o.y,i.z=e.z-o.z},!0)}function n(e){a.push("devicemotion"),e.target.removeEventListener("devicemotion",n,!0),e.target.addEventListener("devicemotion",function(e){i.x=e.accelerationIncludingGravity.x-o.x,i.y=e.accelerationIncludingGravity.y-o.y,i.z=e.accelerationIncludingGravity.z-o.z},!0)}function r(e){a.push("deviceorientation"),e.target.removeEventListener("deviceorientation",r,!0),e.target.addEventListener("deviceorientation",function(e){i.alpha=e.alpha-o.alpha,i.beta=e.beta-o.beta,i.gamma=e.gamma-o.gamma},!0)}window.addEventListener("MozOrientation",t,!0),window.addEventListener("devicemotion",n,!0),window.addEventListener("deviceorientation",r,!0)}(),n}),jQuery.widget("pageflow.linkmapHoverVideo",{activate:function(){var e=this.options.video;this.hoverVideoParent||(this.hoverVideoParent=e.parent(),e.appendTo(this.element))},deactivate:function(){var e=this.options.video;this.hoverVideoParent&&(e.prependTo(this.hoverVideoParent),this.hoverVideoParent=null,e.css({left:"auto",top:"auto",width:"auto",height:"auto"}))},schedulePlay:function(e){this.currentArea!==e.area&&(clearTimeout(this.playTimeout),this.currentArea=e.area,this.playTimeout=setTimeout(_.bind(function(){this.play(e)},this),500))},play:function(e){var t=this.options.video,n=e.area.position();t.width(e.baseImage.width()).height(e.baseImage.height()),this.element.css({left:n.left+"px",top:n.top+"px"}).width(e.area.width()).height(e.area.height()),this.element.linkmapAreaClip(n),t.data("videoPlayer").play(),this.element.addClass("playing")},pause:function(){clearTimeout(this.playTimeout),this.currentArea=null;var e=this.options.video.data("videoPlayer");setTimeout(function(){e.currentTime(0),e.pause()},300),this.element.removeClass("playing")}}),function(i){var n=32,r=190;i.widget("pageflow.linkmap",{_create:function(){var n=this;this.lastImageUrls={},this.imagePromises={},this.refresh(),n.options.hoverVideoEnabled&&n.options.hoverVideo.activate(),this.element.on("mousemove",".hover_area",function(){var e=i(this);n.options.hoverVideoEnabled&&n.options.hoverVideo.schedulePlay({area:e,baseImage:n.options.baseImage()})}),this.element.on("mouseleave",".hover_area",function(){n.options.hoverVideoEnabled&&n.options.hoverVideo.pause()}),this.element.on("click",function(e){var t=n.areaAt(n.positionFromEvent(e));return t.length?t.first().trigger(i.Event("linkmapareaclick",{originalEvent:e})):n._trigger("backgroundclick"),!1}),this.element.on("mousemove mouseleave",function(e){n.updateHoverStates(e)})},areaAt:function(e){return this.element.find(".hover_area").filter(function(){return i(this).linkmapAreaContains(e)}).first()},updateHoverStates:function(e){var n=this.positionFromEvent(e);this.element.find(".hover_area").each(function(){var e=i(this),t=e.linkmapAreaContains(n);e.hasClass("hover")&&!t&&e.trigger("linkmaparealeave")}),this.element.find(".hover_area").each(function(){var e=i(this),t=e.linkmapAreaContains(n);!e.hasClass("hover")&&t&&e.trigger("linkmapareaenter"),e.css("cursor",t&&"text_only"!==e.attr("data-target-type")?"pointer":"default"),e.toggleClass("hover",t)})},positionFromEvent:function(e){var t=this.element[0].getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;return{leftInPixel:n,topInPixel:r,leftInPercent:n/this.element.width()*100,topInPercent:r/this.element.height()*100}},updateHoverVideoEnabled:function(e){e?this.options.hoverVideo.activate():this.options.hoverVideo.deactivate(),this.options.hoverVideoEnabled=e},refresh:function(){var a=this.element.find(".hover_area"),s=this;i.when(this.loadImage("hover"),this.loadImage("visited"),this.loadMasks()).then(function(e,t,n){var r=s.options.baseImage(),i=r.width(),o=r.height();a.linkmapAreaRedraw({target:".hover_image",image:e,width:i,height:o,masks:n}),a.linkmapAreaRedraw({target:".visited_image",image:t,width:i,height:o,masks:n})}),a.linkmapAreaClip(),a.linkmapAreaFormat(),a.linkmapAreaVisited()},loadImage:function(e){var t=this.options[e+"ImageUrl"];return this.lastImageUrls[e]!==t&&(this.lastImageUrls[e]=t,this.imagePromises[e]=t&&pageflow.linkmapPage.RemoteImage.load(t)),this.imagePromises[e]},loadMasks:function(){var t=this,e=this.options.masksData&&this.options.masksData.id;return this.lastMaskImageId!==e&&(this.lastMaskImageId=e,this.masksPromise=this.options.masksData?pageflow.linkmapPage.Masks.deserialize(this.options.masksData,this.options.maskSpriteUrlTemplate):i.when(pageflow.linkmapPage.Masks.empty),this.masksPromise.then(function(e){t._trigger("updatemasks",null,{masks:e})})),this.masksPromise}}),i.fn.linkmapAreaClip=function(r){this.each(function(){var e=i(this),t=e.find(".panorama_video, .hover_image, .visited_image"),n=r||e.position();t.css({left:-n.left+"px",top:-n.top+"px"})})},i.fn.linkmapAreaFormat=function(){this.each(function(){var e=i(this),t=e.find(".linkmap_marker");e.toggleClass("portrait",e.width()<=e.height()),e.toggleClass("landscape",e.width()>e.height()),e.toggleClass("small",e.width()<=r||e.height()<=r),e.width()<=e.height()?t.css({width:e.width()-n,height:e.width()-n}):t.css({width:e.height()-n,height:e.height()-n})})},i.fn.linkmapAreaVisited=function(){this.each(function(){var e=i(this),t="page"===e.data("targetType")&&0<=pageflow.linkmapPage.visitedPages.indexOf(e.data("targetId"));e.toggleClass("visited",t)})}}(jQuery),$.fn.linkmapAreaContains=function(e){var t=$(this),n=t.data("mask");if(n)return n.contains(e.leftInPercent/100,e.topInPercent/100);var r=t.position(),i=t.width(),o=t.height();return e.leftInPixel>=r.left&&e.leftInPixel<r.left+i&&e.topInPixel>=r.top&&e.topInPixel<r.top+o},$.fn.linkmapAreaRedraw=function(i){this.each(function(){var e=$(this),t=(e.position(),i.masks&&i.masks.findByPermaId(e.attr("data-mask-id")));e.data("mask",t||null);var n=e.find("canvas").filter(i.target)[0];if(n){var r=n.getContext("2d");i.image?(n.width=i.width,n.height=i.height,t&&(t.draw(r,i.width),r.globalCompositeOperation="source-in"),i.image&&i.image.draw(n)):r.clearRect(0,0,i.width,i.height)}})},pageflow.linkmapPage.ColorMap=function(){function p(e,t,n){this.width=e,this.height=t,this.components=n,this.sumOfComponentWidths=function(){return _(n).reduce(function(e,t){return e+t.boundingBox.width},0)},this.maxComponentHeight=function(){return _(n).reduce(function(e,t){return Math.max(e,t.boundingBox.height)},0)},this.serialize=function(){return{w:this.width,h:this.height,c:_(n).map(function(e){return{c:e.color,l:e.boundingBox.left,t:e.boundingBox.top,w:e.boundingBox.width,h:e.boundingBox.height}})}}}function h(e,t){return 0===e[t]&&0===e[t+1]&&0===e[t+2]||0===e[t+3]}function g(e,t,n){var r=t-4*n,i=t+4*n;return 0<=r&&i<e.length&&o(e,t,r)&&o(e,t,i)}function o(e,t,n){return e[t]===e[n]&&e[t+1]===e[n+1]&&e[t+2]===e[n+2]&&e[t+3]===e[n+3]}function v(){var e=new Error("No big enough components detected.");return e.i18nKey="pageflow.linkmap_page.errors.no_big_enough_color_map_components",e}return p.deserialize=function(e){return new p(e.w,e.h,_(e.c).map(function(e){return{color:e.c,boundingBox:{left:e.l,top:e.t,width:e.w,height:e.h,right:e.l+e.w,bottom:e.t+e.h}}}))},p.fromImageData=function(e){for(var t,n,r,i,o,a=e.width,s=e.height,u=e.get(0,0,a,s).data,l={},c=[],f=0;f<s;f++){i=null;for(var d=o=0;d<a;d++)h(u,t=4*(f*a+d))||(r=l[n=[u[t],u[t+1],u[t+2]].join("-")],i===n&&g(u,t,a)?o+=1:(i=n,o=1),r?(r.left=Math.min(r.left,d),r.top=Math.min(r.top,f),r.right=Math.max(r.right,d+1),r.bottom=Math.max(r.bottom,f+1),r.longestStreak=Math.max(r.longestStreak,o)):(r=l[n]={color:[u[t],u[t+1],u[t+2]],left:d,top:f,right:d+1,bottom:f+1,longestStreak:o},c.push(r)))}if(0===(c=_(c).select(function(e){return 7<e.longestStreak})).length)throw v();return new p(a,s,_(c).map(function(e){return{color:e.color,boundingBox:{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}}}))},p}(),pageflow.linkmapPage.ImageData=function(){function n(e,t){var l=document.createElement("canvas");this.width=e,this.height=t,l.width=e,l.height=t,this.loadImage=function(e){e.draw(l,{disableImageSmoothing:!0})},this.draw=function(e,t,n,r,i,o,a,s,u){e.drawImage(l,t,n,r,i,o,a,s,u)},this.copyColorFrom=function(e,t,n,r){for(var i=e.data,o=l.getContext("2d"),a=0;a<i.length;a+=4)i[a]!=t[0]||i[a+1]!=t[1]||i[a+2]!=t[2]?i[a+3]=0:i[a+3]=255;o.putImageData(e,n,r)},this.getBoundingBox=function(e){return this.get(e.left,e.top,e.width,e.height)},this.get=function(e,t,n,r){return l.getContext("2d").getImageData(e,t,n,r)},this.toDataURL=function(){var e=l.toDataURL();if(!e.match(/^data:image/))throw new r;return e}}function r(){var e=new Error("Invalid data url from canvas.");return e.i18nKey="pageflow.linkmap_page.errors.invalid_image_data",e}return n.load=function(e){return pageflow.linkmapPage.RemoteImage.load(e).then(function(e){var t=new n(e.width(),e.height());return t.loadImage(e),t})},n}(),pageflow.linkmapPage.Mask=function Mask(a){var s=a.sprite,u=a.spriteOffset,l=a.boundingBox;this.permaId=a.permaId,this.areaAttributes=function(){return{mask_perma_id:a.permaId,top:l.top/a.originalHeight*100,left:l.left/a.originalWidth*100,height:l.height/a.originalHeight*100,width:l.width/a.originalWidth*100}},this.contains=function(e,t){var n=e*a.originalWidth,r=t*a.originalHeight,i=n-l.left,o=r-l.top;return!(i<0||i>=l.width||o<0||o>=l.height)&&s.nonTransparentAt(u+i,o)},this.draw=function(e,t){var n=t/a.originalWidth;s.draw(e,u,l,n)}},pageflow.linkmapPage.MaskSprite=function(){function i(e,i){this.id=e,this.nonTransparentAt=function(e,t){return 0<i.get(e,t,1,1).data[3]},this.draw=function(e,t,n,r){i.draw(e,t,0,n.width,n.height,n.left*r,n.top*r,n.width*r,n.height*r)},this.toDataURL=function(){return i.toDataURL()}}function n(e,t){return e.replace(":id_partition",r(t))}function r(e){return t(o(e,9),"/")}function t(e){return e.replace(/./g,function(e,t,n){return t&&(n.length-t)%3==0?"/"+e:e})}function o(e,t){return(_.times(t,function(){return"0"}).join("")+e).slice(-t)}return i.load=function(e,t){return pageflow.linkmapPage.ImageData.load(n(e,t)).then(function(e){return new i(t,e)})},i.fromColorMapImageData=function(n,e){var r=new pageflow.linkmapPage.ImageData(e.sumOfComponentWidths(),e.maxComponentHeight());return _(e.components).reduce(function(e,t){return r.copyColorFrom(n.getBoundingBox(t.boundingBox),t.color,e,0),e+t.boundingBox.width},0),new i("a",r)},i}(),pageflow.linkmapPage.Masks=function(){function e(r,e,n){this.findByPermaId=function(t){return _(r).detect(function(e){return e.permaId===t})},this.atPoint=function(t,n){return _(r).detect(function(e){return e.contains(t,n)})},this.draw=function(t,n){_(r).each(function(e){e.draw(t,n)})},this.each=function(e,t){_(r).each(e,t)},this.isEmpty=function(){return!r.length},this.serialize=function(e){var t={};return t[i]=e,t[o]=n.serialize(),t},this.getSpriteDataUrl=function(){return e.toDataURL()}}function r(n,r){var i=[],o=0;return _(r.components).reduce(function(e,t){return i.push(new pageflow.linkmapPage.Mask({permaId:n.id+":"+o.toString(),sprite:n,spriteOffset:e,originalWidth:r.width,originalHeight:r.height,boundingBox:t.boundingBox})),o+=1,e+t.boundingBox.width},0),new e(i,n,r)}var i="id",o="c";return e.empty=new e([]),e.loadColorMapImage=function(e){return pageflow.linkmapPage.ImageData.load(e).then(function(e){try{var t=pageflow.linkmapPage.ColorMap.fromImageData(e);return r(pageflow.linkmapPage.MaskSprite.fromColorMapImageData(e,t),t)}catch(n){return(new $.Deferred).reject(n).promise()}})},e.deserialize=function(t,e){return pageflow.linkmapPage.MaskSprite.load(e,t[i]).then(function(e){return r(e,pageflow.linkmapPage.ColorMap.deserialize(t[o]))})},e}(),pageflow.linkmapPage.RemoteImage=function(){function e(e,r){this.width=function(){return r.width},this.height=function(){return r.height},this.draw=function(e,t){t=t||{};var n=e.getContext("2d");t.disableImageSmoothing&&(n.imageSmoothingEnabled=!1),n.drawImage(r,0,0,e.width,e.height)}}function o(e){var t=new Error("Error while loading "+e+".");return t.i18nKey="pageflow.linkmap_page.errors.loading_remote_image_failed",t}return e.load=function(i){return new $.Deferred(function(e){function t(){e.resolve(new pageflow.linkmapPage.RemoteImage(i,r))}function n(){e.reject(o(i))}var r=new Image;r.onload=t,r.onerror=n,r.crossOrigin="Anonymous",r.src=i}).promise()},e}(),function(i){i.widget("pageflow.linkmapAudioPlayerControls",{_create:function(){var r=this;this.wrapper=i("<div />").addClass("linkmap_audio_player_controls").appendTo(this.element.find(".linkmap_marker")),this.playButton=i("<div />").addClass("play").appendTo(this.wrapper),this.pauseButton=i("<div />").addClass("pause").appendTo(this.wrapper),this.progressElement=i("<div />").addClass("progress").appendTo(this.wrapper),this.progressElement.html('<div class="audio_inline_progress"><div class="progress_inner"><div class="left_circle"><div class="circle_inner"><div class="circle_innerst"></div></div></div><div class="right_circle"><div class="circle_inner"><div class="circle_innerst"></div></div></div><div class="audio_inline_loading_spinner"><div class="circle_inner"><div class="circle_innerst"></div></div></div></div></div>'),this.currentTimeElement=i("<div />").addClass("current_time").appendTo(this.wrapper),this.durationElement=i("<div />").addClass("duration").appendTo(this.wrapper),this.playButton.on("click",function(e){r.element.addClass("loading"),r._trigger("play",null,{audioFileId:r.element.data("audioFile")}),e.preventDefault(),e.stopPropagation()}),this.pauseButton.on("click",function(e){r._trigger("pause",null,{audioFileId:r.element.data("audioFile")}),e.preventDefault(),e.stopPropagation()}),this.element.on("linkmapareaclick",function(){r.element.hasClass("dynamic_marker")||r._trigger("play",null,{audioFileId:r.element.data("audioFile")})}),this.progressElement.on("click",function(e){var t={x:i(this).offset().left+i(this).width()/2,y:i(this).offset().top+i(this).height()/2},n=(180*Math.atan2(e.pageY-t.y,e.pageX-t.x)/Math.PI+90)/360;n=n<0?1+n:n,r._trigger("seek",null,{positionInPercent:n,audioFileId:r.element.data("audioFile")}),e.stopPropagation()})},drawCircle:function(e){var t,n=this.element.find(".right_circle .circle_inner"),r=this.element.find(".left_circle .circle_inner"),i=this.element.find(".right_circle .circle_innerst"),o=this.element.find(".left_circle .circle_innerst"),a=Math.min(e/100*360,180),s=Math.max(e/100*360-180,0);t=a,n.attr("style","-webkit-transform: rotate("+t+"deg); -moz-transform: rotate("+t+"deg); -ms-transform: rotate("+t+"deg); -o-transform: rotate("+t+"deg); transform: rotate("+t+"deg)"),i.attr("style","-webkit-transform: rotate("+-t+"deg); -moz-transform: rotate("+-t+"deg); -ms-transform: rotate("+-t+"deg); -o-transform: rotate("+-t+"deg); transform: rotate("+-t+"deg)"),t=s,r.attr("style","-webkit-transform: rotate("+t+"deg); -moz-transform: rotate("+t+"deg); -ms-transform: rotate("+t+"deg); -o-transform: rotate("+t+"deg); transform: rotate("+t+"deg)"),o.attr("style","-webkit-transform: rotate("+-t+"deg); -moz-transform: rotate("+-t+"deg); -ms-transform: rotate("+-t+"deg); -o-transform: rotate("+-t+"deg); transform: rotate("+-t+"deg)")},playing:function(){this.element.addClass("loading")},notPlaying:function(){this.element.removeClass("playing loading")},cancelLoading:function(){this.element.removeClass("loading")},updateProgress:function(e){this.element.removeClass("loading"),this.element.addClass("playing"),this.currentTimeElement.text(e.formatTime(e.position())),this.durationElement.text(e.formatTime(e.duration()));var t=0<e.duration()?e.position()/e.duration()*100:0;this.drawCircle(t)},refresh:function(){}})}(jQuery),function(r){r.widget("pageflow.linkmapAudioPlayersController",{_create:function(){var n=this.options.player,e=this.element;this.delegatePlayerEvent("play","playing"),this.delegatePlayerEvent("pause ended","notPlaying"),this.delegatePlayerEvent("timeupdate","updateProgress"),n.on("play",function(t){e.find('[data-target-type="audio_file"]').each(function(){var e=r(this);e.data("audioFile")!==t.audioFileId&&e.linkmapAudioPlayerControls("cancelLoading")})}),this.element.on("linkmapaudioplayercontrolsplay",function(e,t){n.play(t.audioFileId)}),this.element.on("linkmapaudioplayercontrolspause",function(){n.pause()}),this.element.on("linkmapaudioplayercontrolsseek",function(e,t){n.seek(n.duration()*t.positionInPercent)})},delegatePlayerEvent:function(e,n){var r=this.element,i=this.options.player;i.on(e,function(e){var t='[data-audio-file="'+e.audioFileId+'"]';r.find(t).linkmapAudioPlayerControls(n,i)})}})}(jQuery),function(i){i.widget("pageflow.linkmapLookaround",{speedUp:10,drag:!1,_create:function(){this.disabled=!1,this.marginScrolling=!this.options.marginScrollingDisabled;var e=this.scroller=this.options.scroller,r=this;this.scrollStrategyX=new pageflow.linkmapPage.TargetSpeedStrategy({scrollerPosition:function(){return e.positionX()},scrollerMax:function(){return e.maxX()}},"x"),this.scrollStrategyY=new pageflow.linkmapPage.TargetSpeedStrategy({scrollerPosition:function(){return e.positionY()},scrollerMax:function(){return e.maxY()}},"y"),this.element.on("mousedown touchstart",function(){r.drag=!0,i(window).one("mouseup touchend",function(){r.drag=!1,r.initialBeta=null,r.initialGamma=null})}),this.element.on("mousedown",function(e){e.originalEvent.preventDefault()}),this.element.on("mouseenter",function(){r.scrollStrategyX.reset(),r.scrollStrategyY.reset()}),this.element.on("mouseleave",function(){r.scrollStrategyX.reset(),r.scrollStrategyY.reset()}),i(window).on("orientationchange",function(){r.drag=!1,r.initialBeta=null,r.initialGamma=null}),pageflow.browser.has("mobile platform")||this.element.on("mousemove",function(e){var t=r.element.width(),n=r.element.height();r.scrollStrategyX.updateMouse(e.pageX/t),r.scrollStrategyY.updateMouse(e.pageY/n)})},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},activate:function(){this.startInterval(),pageflow.browser.has("mobile platform")&&this.startGyro()},deactivate:function(){this.stopInterval(),pageflow.browser.has("mobile platform")&&this.stopGyro()},startInterval:function(){this.interval||(this.interval=setInterval(_.bind(this.onTick,this),25))},stopInterval:function(){this.interval&&(clearInterval(this.interval),this.interval=null)},onTick:function(){this.drag||!this.marginScrolling||this.disabled||this.scroller.scrollBy(this.scrollStrategyX.getNextScrollDelta(),this.scrollStrategyY.getNextScrollDelta())},update:function(e){this.marginScrolling=!e},startGyro:function(){var r=this;gyro.startTracking(function(e){if(r.initialBeta||(r.initialBeta=e.beta),r.initialGamma||(r.initialGamma=e.gamma),!this.drag){var t=e.gamma-r.initialGamma,n=e.beta-r.initialBeta;i(window).height()>=i(window).width()?(r.scrollStrategyX.updateGyro(t),r.scrollStrategyY.updateGyro(-n)):(r.scrollStrategyX.updateGyro(-n),r.scrollStrategyY.updateGyro(t))}})},stopGyro:function(){gyro.stopTracking()}})}(jQuery),pageflow.linkmapPage.TargetSpeedStrategy=function(e){function t(){if(.01<Math.abs(u-s)){var e=Math.abs(s)>Math.abs(u)?.02:.04;u=n(u+e*o(s-u),s)}else u=s}function n(e,t){return t<e?Math.max(e,t):Math.min(e,t)}function r(){f=!1,c=1,h()<.8*g()&&0<=s&&(c=(g()-h())/(.2*g()),f=!0),h()>.2*g()&&s<=0&&(c=h()/(.2*g()),f=!0),1<c&&(c=c)}function i(){d&&!f&&(u=l),d=f}function o(e){return 0<e?1:-1}var a=10,s=0,u=0,l=0,c=1,f=!1,d=!1,p=.4,h=e.scrollerPosition,g=e.scrollerMax;this.reset=function(){s=0},this.updateGyro=function(e){this.updateTargetSpeed(Math.abs(e)<8?0:e/90)},this.updateMouse=function(e){var t=2*e-1,n=Math.abs(t)>1-p;this.updateTargetSpeed(n?(t-(1-p)*o(t))/p:0)},this.updateTargetSpeed=function(e){s=e},this.getNextScrollDelta=function(){return t(),r(),i(),-(l=u*c)*a}},function(d){d.widget("pageflow.linkmapPanorama",{scrollHoverMargin:.2,environmentMargin:.2,lastMouseMoveEvent:null,_create:function(){var c=this,f=this.options.page;this.addEnvironment=this.options.addEnvironment,this.panorama=this.options.panorama(),this.limitScrolling=this.options.limitScrolling,this.minScaling=this.options.minScaling,this.scroller=this.options.scroller,this.activeAreas=f.find(this.options.activeAreasSelector),this.panoramaWrapper=f.find(".panorama_wrapper"),this.innerScrollerElement=f.find(".linkmap"),this.overlayBox=f.find(".description_overlay"),this.overlayInnerBox=f.find(".description_overlay_wrapper"),this.overlayTitle=f.find(".description_overlay .link_title"),this.overlayDescription=f.find(".description_overlay .link_description"),this.touchIndicator=f.find(".touch_indicator"),this.externalLinkLoadingIndicator=f.find(".external_link_loading_indicator"),this.globalIndicators=this.touchIndicator.add(this.externalLinkLoadingIndicator),this.startScrollPosition=_.clone(this.options.startScrollPosition),this.currentScrollPosition=null,this.refresh(),this.scroller.onScrollEnd(function(){c.updateScrollPosition()}),d(window).on("resize",function(){c.centerToPoint(null,0)}),this.element.on("mousemove",function(e){c.lastMouseMoveEvent=e,c.calcAreaOpacity(c.activeAreas,e.pageX,e.pageY)}),f.on("linkmapareaenter",".hover_area",function(){n(d(this))}),f.on("click linkmapbackgroundclick",function(){c.overlayBox.removeClass("active"),c.activeAreas.removeClass("hover hover_mobile"),c.globalIndicators.hide()}),d("body").on("linkmaparealeave",".hover_area",function(){c.overlayBox.removeClass("active")}),f.on("dragstart resizestart",".hover_area",function(){c.overlayBox.removeClass("active")}),c.activeAreas.each(function(){var t=d(this);t.on("linkmapareaclick",function(e){if(pageflow.browser.has("mobile platform")){if(!t.hasClass("hover_mobile"))return c.activeAreas.removeClass("hover hover_mobile"),t.addClass("hover hover_mobile"),n(d(this)),t.hasClass("dynamic_marker")||i(e.originalEvent),!1;c.activeAreas.removeClass("active"),t.addClass("active")}else c.activeAreas.removeClass("active"),t.addClass("active");!t.hasClass("dynamic_marker")&&t.hasClass("external_site_area")&&t.hasClass("target_self")&&r(e.originalEvent)})});var n=function(e){if(!e.is(".editing")){var t=e.find(".link_title").html(),n=e.find(".link_description").html();if(t||n){if(c.overlayTitle.html(t),c.overlayDescription.html(n),c.overlayBox.addClass("active"),c.panorama.width()-(e.position().left+e.outerWidth())<c.overlayBox.outerWidth()){var r="left";c.overlayBox.addClass("left_aligned")}else{var i=e.offset().left;if(i<d(f).width()-e.offset().left-e.outerWidth()||i<c.overlayBox.outerWidth()){r="right";c.overlayBox.removeClass("left_aligned")}else{r="left";c.overlayBox.addClass("left_aligned")}}"right"==r&&(c.overlayBox.removeClass("left_aligned"),c.overlayBox.css({left:e.position().left+e.width(),top:e.position().top,"margin-top":e.height()/2})),"left"==r&&(c.overlayBox.addClass("left_aligned"),c.overlayBox.css({left:e.position().left-c.overlayBox.outerWidth(),top:e.position().top,"margin-top":e.height()/2}));var o=c.panorama.height()-e.position().top,a=d(f).height()-e.offset().top-e.height()/2,s=d(f).height()-50,u=40;c.overlayBox.outerHeight()>o?c.overlayInnerBox.css("top",o-c.overlayInnerBox.outerHeight()-u-e.height()/2+"px"):c.overlayInnerBox.css("top","0px");var l=10;a<c.overlayBox.outerHeight()&&c.overlayBox.outerHeight()+l<s?(l=a-c.overlayBox.outerHeight()-l,c.overlayInnerBox.css("top",l+"px")):c.overlayInnerBox.css("top","0px")}}},r=function(e){o(c.externalLinkLoadingIndicator,e),c.externalLinkLoadingIndicator.show()},i=function(e){o(c.touchIndicator,e),t()},t=function(){c.touchIndicator.hide(),setTimeout(function(){c.touchIndicator.show()},500)},o=function(e,t){var n=c.panoramaWrapper[0].getBoundingClientRect(),r=t.touches?t.touches[0]:t;e.css({left:r.clientX-n.left,top:r.clientY-n.top})};this.refresh()},calcAreaOpacity:function(e,n,r){function i(e,t,n){return Math.floor(Math.sqrt(Math.pow(t-(e.offset().left+e.width()/2),2)+Math.pow(n-(e.offset().top+e.height()/2),2)))}if(!pageflow.browser.has("mobile platform")){var t=this.options.page,o=t.width()>t.height()?t.height():t.width(),a=.4;e.each(function(){var e=i(d(this),n,r);if(e<=o){var t=1+a-Math.sqrt(e/o);d(this).find(".linkmap_marker.no_transition").css("opacity",t)}else d(this).find(".linkmap_marker.no_transition").css("opacity",a)})}},highlightAreas:function(){var e=this.element;e.find(".linkmap_marker").addClass("teasing"),setTimeout(function(){e.find(".linkmap_marker").removeClass("teasing")},1e3),setTimeout(function(){e.find(".linkmap_marker").addClass("no_transition")},2e3)},resetAreaHighlighting:function(){var e=this.element;e.find(".linkmap_marker").removeClass("no_transition teasing"),e.find(".linkmap_marker").css("opacity",pageflow.browser.has("mobile platform")?"0.8":"0.4")},getScrollArea:function(e){var t,n=this.panorama,r=this.options.page;this.startScrollPosition;return e.length&&this.limitScrolling?(t={top:this.startScrollPosition.y*n.height(),left:this.startScrollPosition.x*n.width(),bottom:this.startScrollPosition.y*n.height(),right:this.startScrollPosition.x*n.width()},e.each(function(){var e=d(this);t.top=t.top>e.position().top?e.position().top:t.top,t.left=t.left>e.position().left?e.position().left:t.left,t.bottom=t.bottom<e.position().top+e.height()?e.position().top+e.height():t.bottom,t.right=t.right<e.position().left+e.width()?e.position().left+e.width():t.right}),t.top=Math.max(0,t.top-r.height()*this.scrollHoverMargin),t.left=Math.max(0,t.left-r.width()*this.scrollHoverMargin),t.bottom=Math.min(n.height(),t.bottom+r.height()*this.scrollHoverMargin),t.right=Math.min(n.width(),t.right+r.width()*this.scrollHoverMargin)):t={top:n.position().top,left:n.position().left,bottom:n.position().top+n.height(),right:n.position().left+n.width()},t},update:function(e,t,n,r){this.addEnvironment=e,this.limitScrolling=t,this.startScrollPosition=_.clone(n),this.minScaling=r,this.refresh()},refresh:function(){this.keepingScrollPosition(function(){var e=this.options.page;this.panorama=this.options.panorama(),this.panoramaSize=this.getPanoramaSize({pageWidth:e.width(),pageHeight:e.height(),minScaling:this.minScaling}),this.panorama.width(this.panoramaSize.width),this.panorama.height(this.panoramaSize.height),e.toggleClass("linkmap_panorama_h","h"===this.panoramaSize.orientation),e.toggleClass("linkmap_panorama_v","v"===this.panoramaSize.orientation),this.activeAreas=e.find(this.options.activeAreasSelector),this.scrollArea=this.getScrollArea(this.activeAreas),this.innerScrollerElement.addClass("measuring"),this.innerScrollerElement.width(this.scrollArea.right-this.scrollArea.left),this.innerScrollerElement.height(this.scrollArea.bottom-this.scrollArea.top);var t=Math.max(0,(e.width()-(this.scrollArea.right-this.scrollArea.left))/2),n=Math.max(0,(e.height()-(this.scrollArea.bottom-this.scrollArea.top))/2),r=this.scrollArea.left-t,i=this.scrollArea.top-n,o=this.panoramaSize.width-e.width(),a=this.panoramaSize.height-e.height();this.panoramaWrapper.css({left:-Math.min(o,Math.max(0,r))+"px",top:-Math.min(a,Math.max(0,i))+"px"}),this.innerScrollerElement.removeClass("measuring"),this.scroller.refresh()})},getPanoramaSize:function(e){return pageflow.linkmapPage.getPanoramaSize({pageWidth:e.pageWidth,pageHeight:e.pageHeight,panoramaWidth:this.panorama.attr("data-width"),panoramaHeight:this.panorama.attr("data-height"),areaDimensions:this.activeAreas.map(function(){var e=d(this);return{width:e.attr("data-width"),height:e.attr("data-height")}}).get(),minScaling:e.minScaling,addEnvironment:this.addEnvironment})},resetScrollPosition:function(){this.centerToPoint(this.panoramaToScroller(this.startScrollPosition),0)},centerToPoint:function(e,t){e=e||this.currentScrollPosition;var n=this.scroller.maxX()*e.x,r=this.scroller.maxY()*e.y;this.scroller.scrollTo(n,r,t),this.currentScrollPosition=this.currentScrollPosition||e},keepingScrollPosition:function(e){var t;t=this.currentScrollPosition?this.scrollerToPanorama(this.currentScrollPosition):this.startScrollPosition,e.call(this),this.centerToPoint(this.panoramaToScroller(t))},scrollerToPanorama:function(e){var t=this.scrollArea.right-this.scrollArea.left,n=this.scrollArea.bottom-this.scrollArea.top;return{x:0===this.panoramaSize.width?0:(this.scrollArea.left+e.x*t)/this.panoramaSize.width,y:0===this.panoramaSize.height?0:(this.scrollArea.top+e.y*n)/this.panoramaSize.height}},panoramaToScroller:function(e){var t=this.scrollArea.right-this.scrollArea.left,n=this.scrollArea.bottom-this.scrollArea.top;return{x:0===t?0:(e.x*this.panoramaSize.width-this.scrollArea.left)/t,y:0===n?0:(e.y*this.panoramaSize.height-this.scrollArea.top)/n}},updateScrollPosition:function(){var e=this;setTimeout(function(){e.currentScrollPosition.x=0!==e.scroller.maxX()?e.scroller.positionX()/e.scroller.maxX():0,e.currentScrollPosition.y=0!==e.scroller.maxY()?e.scroller.positionY()/e.scroller.maxY():0},10),this.lastMouseMoveEvent&&this.calcAreaOpacity(this.activeAreas,this.lastMouseMoveEvent.pageX,this.lastMouseMoveEvent.pageY)}})}(jQuery),pageflow.linkmapPage.getPanoramaSize=function(){function a(r){var i=Math.min(r.panoramaWidth,r.panoramaHeight);return _(r.areaDimensions).each(function(e){var t=e.width/100*r.panoramaWidth,n=e.height/100*r.panoramaHeight;i=Math.min(i,Math.min(t,n))}),e/i}var e=30,s=1.2;return function u(e){var t,n={scaled:!1},r=e.addEnvironment?s:1,i=e.pageWidth/e.pageHeight;if(t=0<e.panoramaHeight?e.panoramaWidth/e.panoramaHeight:1,n.orientation=i<t?(n.height=e.pageHeight*r,n.width=n.height*t,"h"):(n.width=e.pageWidth*r,n.height=n.width/t,"v"),e.minScaling){var o=a(e);n.width<e.panoramaWidth*o&&(n.width=e.panoramaWidth*o,n.height=e.panoramaHeight*o,n.scaled=!0)}return n}}(),function(e){var r=40;e.widget("pageflow.linkmapScrollIndicators",{_create:function(){function e(){t.toggleClass("can_scroll_left",Math.ceil(n.positionX())<-r),t.toggleClass("can_scroll_right",Math.floor(n.positionX())>n.maxX()+r),t.toggleClass("can_scroll_up",Math.ceil(n.positionY())<-r),t.toggleClass("can_scroll_down",Math.floor(n.positionY())>n.maxY()+r)}var t=this.element,n=this.options.scroller;n.onScroll(e),n.onScrollEnd(e),e()}})}(jQuery),pageflow.textPage=pageflow.textPage||{},pageflow.textPage.titlePositions=["left","center","right"],pageflow.textPage.inlineTextPositions=["left","center","right"],pageflow.textPage.textCoverageOptions=["extend_into","banner","title_only"],pageflow.react.registerPageTypeWithDefaultBackground("text_page",{prepareNextPageTimeout:0,enhance:function(e,t){this.content=e.find(".scroller"),this.scrollingDiv=e.find(".scroller > div"),this.pageSpacerElement=e.find(".page_spacer"),this.contentArea=e.find(".contentText"),this.backgroundAsset=e.find(".page_background_asset"),this.inlineImage=e.find(".inline_image"),this.inlineImageInitialOffset=e.find(".contentText h3").position().top+e.find(".contentText h3").outerHeight(),this.fullScreenLayer=e.find(".image_fullscreen_view"),"left"==t.text_position||"right"==t.text_position?this.titleArea=e.find(".backgroundArea .fixed_header_area"):this.titleArea=e.find(".contentInnerWrapper .page_header"),this.resizePageSpacer(e,t),e.data("invertIndicator",!t.invert_text),this.updateScrollEventListeners(e,t),pageflow.features.has("mobile platform")||($(this.inlineImage).on("click",function(
e){t.prevent_fullscreen||($("body").toggleClass("bigScreen"),e.preventDefault())}),$(this.fullScreenLayer).on("click",function(){$("body").toggleClass("bigScreen")}))},updateScrollEventListeners:function(e,t){var n=this;n.storedConfiguration=t,n.scrollEventHandlerAdded||(n.scrollEventHandlerAdded=!0,n.content.scroller("onScroll",function(){n.applyBackgroundEffects(e,n.storedConfiguration),n.applyInlineImageEffects(e,n.storedConfiguration)}),n.content.scroller("onScrollEnd",function(){n.applyBackgroundEffects(e,n.storedConfiguration)}))},applyBackgroundEffects:function(e,t){var n=this.content.scroller("positionY"),r=e.height()/20,i="left"==t.text_position||"right"==t.text_position?0:this.titleArea.height(),o=this.pageSpacerElement.height()-i-r,a=this.pageSpacerElement.height()-r;e.height();e.find(".backgroundArea .fixed_header_area").css("opacity",(.6*a+n)/(.6*a)),t.topasset_dim?this.backgroundAsset.css("opacity",1- -n/o):this.backgroundAsset.css("opacity",1);var s=.2*n;t.topasset_parallax?this.backgroundAsset.css({"-webkit-transform":"translateY("+s+"px)","-moz-transform":"translateY("+s+"px)","-ms-transform":"translateY("+s+"px)","-o-transform":"translateY("+s+"px)",transform:"translateY("+s+"px)"}):this.backgroundAsset.css({"-webkit-transform":"translateY(0)","-o-transform":"translateY(0)","-ms-transform":"translateY(0)","-moz-transform":"translateY(0)",transform:"translateY(0)"})},applyInlineImageEffects:function(e,t){if(700<=e.width())if(t.sticky_inline_image){var n=this.content.scroller("positionY"),r=this.inlineImage.outerHeight()<e.height()?(e.height()-this.inlineImage.outerHeight())/2:e.height()-this.inlineImage.outerHeight();n<=r-this.inlineImageInitialTop?this.inlineImage.css("top",-n-this.inlineImageInitialTop+this.inlineImageInitialOffset+r+"px"):this.inlineImage.css("top",this.inlineImageInitialOffset+"px")}else"center"==t.inline_text_position?this.inlineImage.css("top","0px"):this.inlineImage.css("top",this.inlineImageInitialOffset+"px");else this.inlineImage.css("top","0px")},resizePageSpacer:function(e,t){if(e.find(".content_and_background").hasClass("no_background_asset"))this.pageSpacerElement.css("height",this.titleArea.outerHeight()+"px");else if("banner"==t.text_coverage){var n=this.titleArea.outerHeight()>e.height()/3?this.titleArea.outerHeight():e.height()/3;this.pageSpacerElement.css("height",n+"px")}else"title_only"==t.text_coverage?this.pageSpacerElement.css("height",e.height()+"px"):200<e.height()-200&&this.pageSpacerElement.css("height",e.height()-200+"px");this.backgroundAsset.css("height",this.pageSpacerElement.height()+"px"),this.contentArea.css("min-height",e.height()+"px"),this.content.scroller("refresh")},resize:function(e,t){this.content.scroller("positionY");this.resizePageSpacer(e,t),this.inlineImageInitialOffset=e.find(".contentText h3").position().top,this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyInlineImageEffects(e,t),this.applyBackgroundEffects(e,t)},prepare:function(){},activating:function(e,t){this.content.scroller("positionY");this.resizePageSpacer(e,t),this.inlineImageInitialOffset=e.find(".contentText h3").position().top+e.find(".contentText h3").outerHeight(),this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyBackgroundEffects(e,t),this.applyInlineImageEffects(e,t)},activated:function(){},deactivating:function(){$("body").removeClass("bigScreen")},deactivated:function(){},update:function(t,n){this.content.scroller("positionY");t.attr("data-template","text_page"),t.find("h2 .tagline").text(n.get("tagline")||""),t.find("h2 .title").text(n.get("title")||""),t.find("h2 .subtitle").text(n.get("subtitle")||""),t.find(".contentText .text_title").text(n.get("text_title")||""),t.find(".contentText p").html(n.get("text")||""),t.find(".content_and_background").toggleClass("no_background_asset","video"==n.get("background_type")?!n.getVideoFile("video_file_id"):!n.getImageFile("background_image_id")),t.find(".content_and_background").toggleClass("sticky_inline_image",!!n.get("sticky_inline_image")),"left"==n.get("text_position")||"right"==n.get("text_position")?this.titleArea=t.find(".backgroundArea .fixed_header_area"):this.titleArea=t.find(".contentInnerWrapper .page_header"),_.forEach(pageflow.textPage.titlePositions,function(e){t.toggleClass("text_position_"+e,n.get("text_position")===e)}),_.forEach(pageflow.textPage.inlineTextPositions,function(e){t.find(".content").toggleClass("inline_text_position_"+e,n.get("inline_text_position")===e)}),n.get("inline_text_position")||t.find(".content").addClass("inline_text_position_left"),!n.get("prevent_fullscreen")&&n.get("text_image_id")?this.inlineImage.attr("href",n.getImageFileUrl("text_image_id")):this.inlineImage.attr("href","#"),this.inlineImage.toggleClass("allow_fullscreen",!n.get("prevent_fullscreen")),_.forEach(pageflow.textPage.textCoverageOptions,function(e){t.toggleClass(e,n.get("text_coverage")===e)}),t.find(".content_and_background").toggleClass("invert_text",!!n.get("invert_text")),t.data("invertIndicator",!n.get("invert_text")),t.find(".shadow, .header_background_layer").css({opacity:n.get("gradient_opacity")/100}),this.resizePageSpacer(t,n.attributes),this.inlineImageInitialOffset=t.find(".contentText h3").position().top+t.find(".contentText h3").outerHeight(),this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyInlineImageEffects(t,n.attributes),this.applyBackgroundEffects(t,n.attributes),this.updateScrollEventListeners(t,n.attributes)},embeddedEditorViews:function(){return{".inline_image":{view:pageflow.textPage.ContentImageEmbeddedView,options:{imagePropertyName:"text_image_id",descriptionPropertyName:"image_description"}},".image_fullscreen_inner_wrapper":{view:pageflow.textPage.ContentImageEmbeddedView,options:{imagePropertyName:"text_image_id",descriptionPropertyName:"image_description"}}}}}),pageflow.embeddedVideo=pageflow.embeddedVideo||{},pageflow.react.registerPageTypeWithDefaultBackground("embedded_video",{prepareNextPageTimeout:0,enhance:function(t,e){var n=this;t.addClass("no_hidden_text_indicator"),pageflow.features.has("mobile platform")&&(t.find(".close_button, .iframe_container").click(function(e){e.stopPropagation(),n._pauseVideo(),t.find(".iframe_container, .close_button").removeClass("show"),pageflow.hideText.deactivate()}),this._initPlaceholderImage(t,e)),this.fullscreen=!1,$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange msfullscreenchange",function(){n.fullscreen=!n.fullscreen})},resize:function(e,t){var n=e.find(".iframe_wrapper"),r=e.find(".page_header"),i=(r.find(".title"),e.find(".scroller")),o=e.find(".iframe_container"),a=e.find(".iframe_overlay"),s=e.find(".video_caption"),u=pageflow.features.has("mobile platform"),l=!t.full_width||this.fullscreen;e.toggleClass("page-with_split_layout",l);var c=this.wideEnoughForSplitLayout(e)&&l;n.add(i).toggleClass("widescreened",c),this.fullscreen||(c||u?o.find("iframe").length||o.append(n):i.find("iframe").length||n.insertAfter(r)),c?n.append(s):u?a.after(s):n.after(s),i.scroller("refresh")},wideEnoughForSplitLayout:function(e){var t=e.find(".page_header .title")[0].getBoundingClientRect(),n=e[0].getBoundingClientRect(),r=n.right-t.right,i=t.left-n.left,o=.51*n.width,a=.55*n.width;return o<=i||a<=r},prepare:function(){},activating:function(e,t){var n=this;this.listenTo(pageflow.settings,"change:volume",function(e,t){n._setPlayerVolume(t)}),this._createPlayer(e,t),this.resize(e,t),this.active=!0},activated:function(){},deactivating:function(e){this.active=!1,this.stopListening(pageflow.settings),this._removePlayer(e)},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||"");var n=this,r=e.find(".iframe_wrapper"),i=e.find(".video_caption"),o=t.get("video_caption");""!==(o||"").trim()?(i.length||(i=$('<div class="video_caption"></div>'),e.find(".scroller iframe").length?i.insertAfter(r):i.appendTo(r)),i.text(o||"")):i.remove(),this.active&&t.hasChanged("display_embedded_video_url")&&this._removePlayer(e,function(){n._createPlayer(e,t.attributes)}),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this.resize(e,t.attributes)},_createPlayer:function(e,t){var n=this,r=t.display_embedded_video_url,i=this._urlOrigin(r);"youtube"===i?this.ytApiInitialize().done(function(){n._createYouTubePlayer(e,r)}):"vimeo"==i&&n._createVimeoPlayer(e,r)},ytApiInitialize:function(){if(!window.youtubeInitialized){var e=new $.Deferred;window.youtubeInitialized=e.promise(),window.onYouTubeIframeAPIReady=function(){e.resolve()};var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}return window.youtubeInitialized},_createYouTubePlayer:function(e,t){var n=this,r=document.createElement("div");this.playerId="youtube-player-"+this._getRandom(t),r.setAttribute("id",this.playerId),e.find(".iframe_wrapper").prepend(r),this.ytApiInitialize().done(function(){new YT.Player(r,{height:"100%",width:"100%",videoId:n._getVideoId(t),playerVars:{rel:!1,start:n._getVideoStartTime(t)},events:{onReady:function(e){n.player=e.target,n._setPlayerVolume(pageflow.settings.get("volume"))}}})})},_createVimeoPlayer:function(e,t){var n=this,r=document.createElement("iframe"),i=new URI("//player.vimeo.com/video/");this.playerId="vimeo-player-"+this._getRandom(t),i.filename(n._getVideoId(t)),i.search({api:"1",player_id:this.playerId}),$(r).attr({id:this.playerId,width:"100%",height:"100%",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,src:i.toString()}),e.find(".iframe_wrapper").prepend(r),this.player=$f(r),this.player.addEvent("ready",function(){n._setPlayerVolume(pageflow.settings.get("volume"))})},_setPlayerVolume:function(e){this.player&&("function"==typeof this.player.setVolume?this.player.setVolume(100*e):"function"==typeof this.player.api&&this.player.api("setVolume",e))},_pauseVideo:function(){this.player&&("function"==typeof this.player.pauseVideo?this.player.pauseVideo():"function"==typeof this.player.api&&this.player.api("pause"))},_removePlayer:function(e,t){this.player&&"function"==typeof this.player.destroy&&this.player.destroy(),this.player=null,$("#"+this.playerId,e).remove(),"function"==typeof t&&t()},_initPlaceholderImage:function(e,t){var n=$(document.createElement("div")),r=e.find(".page_header"),i=e.find(".iframe_container, .close_button"),o=t.display_embedded_video_url;n.addClass("iframe_overlay "+this._urlOrigin(o)),this._setBackgroundImage(o,n),r.after(n),n.click(function(e){e.preventDefault(),i.addClass("show"),pageflow.hideText.activate()})},_setBackgroundImage:function(e,t){var n=this._urlOrigin(e),r=this._getVideoId(e),i="";if("youtube"===n)i="http://img.youtube.com/vi/"+r+"/hqdefault.jpg",t.css("background-image",'url("'+i+'")');else if("vimeo"===n){var o="http://vimeo.com/api/v2/video/"+r+".json";$.getJSON(o,function(e){t.css("background-image",'url("'+e[0].thumbnail_large+'")')})}},_urlOrigin:function(e){var t=new URI(e).domain(!0);return 0<=["youtu.be","youtube.com"].indexOf(t)?"youtube":"vimeo.com"===t?"vimeo":""},_getVideoId:function(e){var t=new URI(e),n=t.domain(!0);return 0<=["youtu.be","vimeo.com"].indexOf(n)?t.filename():"youtube.com"===n?"/embed"===t.directory()?t.filename():t.search(!0).v:""},_getVideoStartTime:function(e){var t=new URI(e).query().split("&"),r=this;return _.reduce(t,function(e,t){var n=t.split("=");return"t"===n[0]?r._timestampToSeconds(n[1]||""):e},0)},_timestampToSeconds:function(e){if(e.match(/\d+m(\d+s)?/)){var t=e.split("m");return 60*parseInt(t[0],10)+parseInt(t[1]||0,10)}return 0},_getRandom:function(e){var t,n,r=0;if(0===(e+=(new Date).getTime()))return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r}}),function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(s,t,l,n){function c(e,t){return this instanceof c?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new c(e,t)}function i(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function u(e){return"Array"===o(e)}function a(e,t){var n,r;if(u(t)){for(n=0,r=t.length;n<r;n++)if(!a(e,t[n]))return!1;return!0}var i=o(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function f(e,t){if(!u(e)||!u(t)||e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function r(e){return escape(e)}function d(e){return encodeURIComponent(e).replace(/[!'()*]/g,r).replace(/\*/g,"%2A")}function e(n){return function(e,t){return void 0===e?this._parts[n]||"":(this._parts[n]=e||null,this.build(!t),this)}}function p(n,r){return function(e,t){return void 0===e?this._parts[n]||"":(null!==e&&((e+="").charAt(0)===r&&(e=e.substring(1))),this._parts[n]=e,this.build(!t),this)}}var h=n&&n.URI;c.version="1.14.1";var g=c.prototype,v=Object.prototype.hasOwnProperty;c._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:c.duplicateQueryParameters,escapeQuerySpace:c.escapeQuerySpace}},c.duplicateQueryParameters=!1,c.escapeQuerySpace=!0,c.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,c.idn_expression=/[^a-z0-9\.-]/i,c.punycode_expression=/(xn--)/i,c.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,c.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,c.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},c.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},c.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,c.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},c.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:c.domAttributes[t]}},c.encode=d,c.decode=decodeURIComponent,c.iso8859=function(){c.encode=escape,c.decode=unescape},c.unicode=function(){c.encode=d,c.decode=decodeURIComponent},c.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},c.encodeQuery=function(e,t){var n=c.encode(e+"");return void 0===t&&(t=c.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},c.decodeQuery=function(e,t){e+="",void 0===t&&(t=c.escapeQuerySpace);try{return c.decode(t?e.replace(/\+/g,"%20"):e)}catch(n){return e}},c.recodePath=function(e){for(var t=0,n=(e=(e+"").split("/")).length;t<n;t++)e[t]=c.encodePathSegment(c.decode(e[t]));return e.join("/")},c.decodePath=function(e){for(var t=0,n=(e=(e+"").split("/")).length;t<n;t++)e[t]=c.decodePathSegment(e[t]);return e.join("/")};var m,y={encode:"encode",decode:"decode"},_=function(n,r){return function(e){try{return c[r](e+"").replace(c.characters[n][r].expression,function(e){return c.characters[n][r].map[e]})}catch(t){return e}}};for(m in y)c[m+"PathSegment"]=_("pathname",y[m]);c.encodeReserved=_("reserved","encode"),c.parse=function(e,t){var n;return t||(t={}),-1<(n=e.indexOf("#"))&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),-1<(n=e.indexOf("?"))&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=c.parseAuthority(e,t)):-1<(n=e.indexOf(":"))&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(c.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=c.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},c.parseHost=function(e,t){var n,r=e.indexOf("/");return-1===r&&(r=e.length),"["===e.charAt(0)?(n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,r)||null,"/"===t.port&&(t.port=null)):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,r)||null,t.port=null):(n=e.substring(0,r).split(":"),t.hostname=n[0]||null,t.port=n[1]||null),t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},c.parseAuthority=function(e,t){return e=c.parseUserinfo(e,t),c.parseHost(e,t)},c.parseUserinfo=function(e,t){var n=e.indexOf("/"),r=e.lastIndexOf("@",-1<n?n:e.length-1);return-1<r&&(-1===n||r<n)?(n=e.substring(0,r).split(":"),t.username=n[0]?c.decode(n[0]):null,n.shift(),t.password=n[0]?c.decode(n.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},c.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,i={},o=e.split("&"),a=o.length,s=0;s<a;s++)n=o[s].split("="),r=c.decodeQuery(n.shift(),t),n=n.length?c.decodeQuery(n.join("="),t):null,v.call(i,r)?("string"==typeof i[r]&&(i[r]=[i[r]]),i[r].push(n)):i[r]=n;return i},c.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=c.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},c.buildHost=function(e){var t="";return e.hostname?(t=c.ip6_expression.test(e.hostname)?t+"["+e.hostname+"]":t+e.hostname,e.port&&(t+=":"+e.port),t):""},c.buildAuthority=function(e){return c.buildUserinfo(e)+c.buildHost(e)},c.buildUserinfo=function(e){var t="";return e.username&&(t+=c.encode(e.username),e.password&&(t+=":"+c.encode(e.password)),t+="@"),t},c.buildQuery=function(e,t,n){var r,i,o,a,s="";for(i in e)if(v.call(e,i)&&i)if(u(e[i]))for(r={},o=0,a=e[i].length;o<a;o++)void 0!==e[i][o]&&void 0===r[e[i][o]+""]&&(s+="&"+c.buildQueryParameter(i,e[i][o],n),!0!==t&&(r[e[i][o]+""]=!0));else void 0!==e[i]&&(s+="&"+c.buildQueryParameter(i,e[i],n));return s.substring(1)},c.buildQueryParameter=function(e,t,n){return c.encodeQuery(e,n)+(null!==t?"="+c.encodeQuery(t,n):"")},c.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)v.call(t,r)&&c.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===e[t]?e[t]=n:("string"==typeof e[t]&&(e[t]=[e[t]]),u(n)||(n=[n]),e[t]=(e[t]||[]).concat(n))}},c.removeQuery=function(e,t,n){var r;if(u(t))for(n=0,r=t.length;n<r;n++)e[t[n]]=void 0;else if("object"==typeof t)for(r in t)v.call(t,r)&&c.removeQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==n){if(e[t]===n)e[t]=void 0;else if(u(e[t])){r=e[t];var i,o,a={};if(u(n))for(i=0,o=n.length;i<o;i++)a[n[i]]=!0;else a[n]=!0;for(i=0,o=r.length;i<o;i++)void 0!==a[r[i]]&&(r.splice(i,1),o--,i--);e[t]=r}}else e[t]=void 0}},c.hasQuery=function(e,t,n,r){if("object"==typeof t){for(var i in t)if(v.call(t,i)&&!c.hasQuery(e,i,t[i]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(o(n)){case"Undefined":return t in e;case"Boolean":return n===(e=Boolean(u(e[t])?e[t].length:e[t]));case"Function":return!!n(e[t],t,e);case"Array":return!!u(e[t])&&(r?a:f)(e[t],n);case"RegExp":return u(e[t])?!!r&&a(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return u(e[t])?!!r&&a(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},c.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},c.withinString=function(e,t,n){n||(n={});var r=n.start||c.findUri.start,i=n.end||c.findUri.end,o=n.trim||c.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var s=r.exec(e);if(!s)break;if(s=s.index,n.ignoreHtml)if((u=e.slice(Math.max(s-3,0),s))&&a.test(u))continue;var u=s+e.slice(s).search(i),l=e.slice(s,u).replace(o,"");n.ignore&&n.ignore.test(l)||(l=t(l,s,u=s+l.length,e),e=e.slice(0,s)+l+e.slice(u),r.lastIndex=s+l.length)}return r.lastIndex=0,e},c.ensureValidHostname=function(e){if(e.match(c.invalid_hostname_characters)){if(!s)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(s.toASCII(e).match(c.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},c.noConflict=function(e){return e?(e={URI:this.noConflict()},n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(e.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(e.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=n.SecondLevelDomains.noConflict()),e):(n.URI===this&&(n.URI=h),this)},g.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=c.build(this._parts),this._deferred_build=!1),this},g.clone=function(){return new c(this)},g.valueOf=g.toString=function(){return this.build(!1)._string},g.protocol=e("protocol"),g.username=e("username"),g.password=e("password"),g.hostname=e("hostname"),g.port=e("port"),g.query=p("query","?"),g.fragment=p("fragment","#"),g.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},g.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},g.pathname=function(e,t){if(void 0!==e&&!0!==e)return this._parts.path=e?c.recodePath(e):"/",this.build(!t),this;var n=this._parts.path||(this._parts.hostname?"/":"");return e?c.decodePath(n):n},g.path=g.pathname,g.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=c._parts();var r=e instanceof c,i="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[i=c.getDomAttribute(e)]||"",i=!1),!r&&i&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=c.parse(String(e),this._parts);else{if(!r&&!i)throw new TypeError("invalid input");for(n in r=r?e._parts:e)v.call(this._parts,n)&&(this._parts[n]=r[n])}return this.build(!t),this},g.is=function(e){var t=!1,n=!1,r=!1,i=!1,o=!1,a=!1,s=!1,u=!this._parts.urn;switch(this._parts.hostname&&(u=!1,n=c.ip4_expression.test(this._parts.hostname),r=c.ip6_expression.test(this._parts.hostname),o=(i=!(t=n||r))&&l&&l.has(this._parts.hostname),a=i&&c.idn_expression.test(this._parts.hostname),s=i&&c.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return u;case"absolute":return!u;case"domain":case"name":return i;case"sld":return o;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return r;case"idn":return a;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return s}return null};var b=g.protocol,T=g.port,w=g.hostname;g.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(c.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,e,t)},g.scheme=g.protocol,g.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return T.call(this,e,t)},g.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={};c.parseHost(e,n),e=n.hostname}return w.call(this,e,t)},g.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?c.buildHost(this._parts):"":(c.parseHost(e,this._parts),this.build(!t),this)},g.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?c.buildAuthority(this._parts):"":(c.parseAuthority(e,this._parts),this.build(!t),this)},g.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return"@"!==e[e.length-1]&&(e+="@"),c.parseUserinfo(e,this._parts),this.build(!t),this;if(!this._parts.username)return"";var n=c.buildUserinfo(this._parts);return n.substring(0,n.length-1)},g.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=c.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},g.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return n=this._parts.hostname.length-this.domain().length,n=this._parts.hostname.substring(0,n),n=new RegExp("^"+i(n)),e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&c.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(n,e),this.build(!t),this;if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""},g.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);return n&&n.length<2?this._parts.hostname:(n=this._parts.hostname.length-this.tld(t).length-1,n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||"")}if(!e)throw new TypeError("cannot set domain empty");return c.ensureValidHostname(e),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(n=new RegExp(i(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)),this.build(!t),this},g.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf(".");n=this._parts.hostname.substring(n+1);return!0!==t&&l&&l.list[n.toLowerCase()]&&l.get(this._parts.hostname)||n}if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!l||!l.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');n=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");n=new RegExp(i(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)}return this.build(!t),this},g.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&!0!==e)return n=this._parts.path.length-this.filename().length,n=this._parts.path.substring(0,n),n=new RegExp("^"+i(n)),this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=c.recodePath(e),this._parts.path=this._parts.path.replace(n,e),this.build(!t),this;if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1;n=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?c.decodePath(n):n},g.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/");n=this._parts.path.substring(n+1);return e?c.decodePathSegment(n):n}n=!1,"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(n=!0);var r=new RegExp(i(this.filename())+"$");return e=c.recodePath(e),this._parts.path=this._parts.path.replace(r,e),n?this.normalizePath(t):this.build(!t),this},g.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this.filename(),r=n.lastIndexOf(".");return-1===r?"":(n=n.substring(r+1),n=/^[a-z0-9%]+$/i.test(n)?n:"",e?c.decodePathSegment(n):n)}if("."===e.charAt(0)&&(e=e.substring(1)),n=this.suffix())r=e?new RegExp(i(n)+"$"):new RegExp(i("."+n)+"$");else{if(!e)return this;this._parts.path+="."+c.recodePath(e)}return r&&(e=c.recodePath(e),this._parts.path=this._parts.path.replace(r,e)),this.build(!t),this},g.segment=function(e,t,n){var r=this._parts.urn?":":"/",i="/"===(o=this.path()).substring(0,1),o=o.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw Error('Bad segment "'+e+'", must be 0-based integer');if(i&&o.shift(),e<0&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e];if(null===e||void 0===o[e])if(u(t)){o=[],e=0;for(var a=t.length;e<a;e++)(t[e].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(t[e]))}else(t||"string"==typeof t)&&(""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=t:o.splice(e,1);return i&&o.unshift(""),this.path(o.join(r),n)},g.segmentCoded=function(e,t,n){var r,i;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(u(e=this.segment(e,t,n)))for(r=0,i=e.length;r<i;r++)e[r]=c.decode(e[r]);else e=void 0!==e?c.decode(e):void 0;return e}if(u(t))for(r=0,i=t.length;r<i;r++)t[r]=c.decode(t[r]);else t="string"==typeof t||t instanceof String?c.encode(t):t;return this.segment(e,t,n)};var E=g.query;return g.query=function(e,t){if(!0===e)return c.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"!=typeof e)return void 0!==e&&"string"!=typeof e?(this._parts.query=c.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):E.call(this,e,t);var n=c.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=c.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this},g.setQuery=function(e,t,n){var r=c.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var i in e)v.call(e,i)&&(r[i]=e[i])}return this._parts.query=c.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.addQuery=function(e,t,n){var r=c.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return c.addQuery(r,e,
void 0===t?null:t),this._parts.query=c.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.removeQuery=function(e,t,n){var r=c.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return c.removeQuery(r,e,t),this._parts.query=c.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.hasQuery=function(e,t,n){var r=c.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return c.hasQuery(r,e,t,n)},g.setSearch=g.setQuery,g.addSearch=g.addQuery,g.removeSearch=g.removeQuery,g.hasSearch=g.hasQuery,g.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},g.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},g.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&s?this._parts.hostname=s.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},g.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===c.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},g.normalizePath=function(e){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var t,n,r,i=this._parts.path,o="";for("/"!==i.charAt(0)&&(t=!0,i="/"+i),i=i.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(o=i.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);-1!==(n=i.indexOf("/.."));)i=0!==n?(-1===(r=i.substring(0,n).lastIndexOf("/"))&&(r=n),i.substring(0,r)+i.substring(n+3)):i.substring(3);return t&&this.is("relative")&&(i=o+i.substring(1)),i=c.recodePath(i),this._parts.path=i,this.build(!e),this},g.normalizePathname=g.normalizePath,g.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(c.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},g.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},g.normalizeSearch=g.normalizeQuery,g.normalizeHash=g.normalizeFragment,g.iso8859=function(){var e=c.encode,t=c.decode;return c.encode=escape,c.decode=decodeURIComponent,this.normalize(),c.encode=e,c.decode=t,this},g.unicode=function(){var e=c.encode,t=c.decode;return c.encode=d,c.decode=unescape,this.normalize(),c.encode=e,c.decode=t,this},g.readable=function(){var e=this.clone();e.username("").password("").normalize();var t="";if(e._parts.protocol&&(t+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&s?(t+=s.toUnicode(e._parts.hostname),e._parts.port&&(t+=":"+e._parts.port)):t+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(t+="/"),t+=e.path(!0),e._parts.query){for(var n="",r=0,i=e._parts.query.split("&"),o=i.length;r<o;r++){var a=(i[r]||"").split("=");n=n+"&"+c.decodeQuery(a[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");void 0!==a[1]&&(n+="="+c.decodeQuery(a[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}t+="?"+n.substring(1)}return t+c.decodeQuery(e.hash(),!0)},g.absoluteTo=function(e){var t,n,r=this.clone(),i=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e instanceof c||(e=new c(e)),r._parts.protocol||(r._parts.protocol=e._parts.protocol),this._parts.hostname)return r;for(t=0;n=i[t];t++)r._parts[n]=e._parts[n];return r._parts.path?".."===r._parts.path.substring(-2)&&(r._parts.path+="/"):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),"/"!==r.path().charAt(0)&&(e=e.directory(),r._parts.path=(e?e+"/":"")+r._parts.path,r.normalizePath()),r.build(),r},g.relativeTo=function(e){var t,n,r,i,o=this.clone().normalize();if(o._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e=new c(e).normalize(),t=o._parts,n=e._parts,r=o.path(),i=e.path(),"/"!==r.charAt(0))throw Error("URI is already relative");if("/"!==i.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password||null!==t.protocol||null!==t.username||null!==t.password||t.hostname!==n.hostname||t.port!==n.port?o.build():(t.hostname=null,t.port=null,r===i?t.path="":(e=c.commonPath(o.path(),e.path()))&&(n=n.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),t.path=n+t.path.substring(e.length)),o.build())},g.equals=function(e){var t=this.clone();e=new c(e);var n,r={},i={},o={};if(t.normalize(),e.normalize(),t.toString()===e.toString())return!0;if(r=t.query(),i=e.query(),t.query(""),e.query(""),t.toString()!==e.toString()||r.length!==i.length)return!1;for(n in r=c.parseQuery(r,this._parts.escapeQuerySpace),i=c.parseQuery(i,this._parts.escapeQuerySpace),r)if(v.call(r,n)){if(u(r[n])){if(!f(r[n],i[n]))return!1}else if(r[n]!==i[n])return!1;o[n]=!0}for(n in i)if(v.call(i,n)&&!o[n])return!1;return!0},g.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},g.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},c});var Froogaloop=function(){function t(e){return new t.fn.init(e)}function s(e,t,n){if(!n.contentWindow.postMessage)return!1;var r=n.getAttribute("src").split("?")[0],i=JSON.stringify({method:e,value:t});"//"===r.substr(0,2)&&(r=window.location.protocol+r),n.contentWindow.postMessage(i,r)}function e(e){var t,n;try{n=(t=JSON.parse(e.data)).event||t.method}catch(u){}if("ready"!=n||this.isReady||(this.isReady=!0),e.origin!=f)return!1;var r=t.value,i=t.data,o=""===o?null:t.player_id,a=l(n,o),s=[];return!!a&&(r!==undefined&&s.push(r),i&&s.push(i),o&&s.push(o),0<s.length?a.apply(null,s):a.call())}function u(e,t,n){n?(i[n]||(i[n]={}),i[n][e]=t):i[e]=t}function l(e,t){return t?i[t][e]:i[e]}function r(e,t){if(t&&i[t]){if(!i[t][e])return!1;i[t][e]=null}else{if(!i[e])return!1;i[e]=null}return!0}function n(e){"//"===e.substr(0,2)&&(e=window.location.protocol+e);for(var t=e.split("/"),n="",r=0,i=t.length;r<i&&r<3;r++)n+=t[r],r<2&&(n+="/");return n}function c(e){return!!(e&&e.constructor&&e.call&&e.apply)}var i={},f=(Array.prototype.slice,"");return t.fn=t.prototype={element:null,isReady:!1,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,f=n(this.element.getAttribute("src")),this},api:function(e,t){if(!this.element||!e)return!1;var n=this,r=n.element,i=""!==r.id?r.id:null,o=c(t)?null:t,a=c(t)?t:null;return a&&u(e,a,i),s(e,o,r),n},addEvent:function(e,t){if(!this.element)return!1;var n=this,r=n.element,i=""!==r.id?r.id:null;return u(e,t,i),"ready"!=e?s("addEventListener",e,r):"ready"==e&&this.isReady&&t.call(null,i),n},removeEvent:function(e){if(!this.element)return!1;var t=this.element,n=r(e,""!==t.id?t.id:null);"ready"!=e&&n&&s("removeEventListener",e,t)}},t.fn.init.prototype=t.fn,window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e),window.Froogaloop=window.$f=t}();!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(s){function r(e,t){var n,r,i,o=e.nodeName.toLowerCase();return"area"===o?(r=(n=e.parentNode).name,!(!e.href||!r||"map"!==n.nodeName.toLowerCase())&&(!!(i=s("img[usemap='#"+r+"']")[0])&&a(i))):(/^(input|select|textarea|button|object)$/.test(o)?!e.disabled:"a"===o&&e.href||t)&&a(e)}function a(e){return s.expr.filters.visible(e)&&!s(e).parents().addBack().filter(function(){return"hidden"===s.css(this,"visibility")}).length}var e,t,n,i;s.ui=s.ui||{},s.extend(s.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),s.fn.extend({scrollParent:function(e){var t=this.css("position"),n="absolute"===t,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var e=s(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&i.length?i:s(this[0].ownerDocument||document)},uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&s(this).removeAttr("id")})}}),s.extend(s.expr[":"],{data:s.expr.createPseudo?s.expr.createPseudo(function(t){return function(e){return!!s.data(e,t)}}):function(e,t,n){return!!s.data(e,n[3])},focusable:function(e){return r(e,!isNaN(s.attr(e,"tabindex")))},tabbable:function(e){var t=s.attr(e,"tabindex"),n=isNaN(t);return(n||0<=t)&&r(e,!n)}}),s("<a>").outerWidth(1).jquery||s.each(["Width","Height"],function(e,n){function r(e,t,n,r){return s.each(i,function(){t-=parseFloat(s.css(e,"padding"+this))||0,n&&(t-=parseFloat(s.css(e,"border"+this+"Width"))||0),r&&(t-=parseFloat(s.css(e,"margin"+this))||0)}),t}var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:s.fn.innerWidth,innerHeight:s.fn.innerHeight,outerWidth:s.fn.outerWidth,outerHeight:s.fn.outerHeight};s.fn["inner"+n]=function(e){return e===undefined?a["inner"+n].call(this):this.each(function(){s(this).css(o,r(this,e)+"px")})},s.fn["outer"+n]=function(e,t){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){s(this).css(o,r(this,e,!0,t)+"px")})}}),s.fn.addBack||(s.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),s("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(s.fn.removeData=(t=s.fn.removeData,function(e){return arguments.length?t.call(this,s.camelCase(e)):t.call(this)})),s.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),s.fn.extend({focus:(i=s.fn.focus,function(t,n){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){s(e).focus(),n&&n.call(e)},t)}):i.apply(this,arguments)}),disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(n+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(e!==undefined)return this.css("zIndex",e);if(this.length)for(var t,n,r=s(this[0]);r.length&&r[0]!==document;){if(("absolute"===(t=r.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),s.ui.plugin={add:function(e,t,n){var r,i=s.ui[e].prototype;for(r in n)i.plugins[r]=i.plugins[r]||[],i.plugins[r].push([t,n[r]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(c){var o,n=0,s=Array.prototype.slice;return c.cleanData=(o=c.cleanData,function(e){var t,n,r;for(r=0;null!=(n=e[r]);r++)try{(t=c._data(n,"events"))&&t.remove&&c(n).triggerHandler("remove")}catch(i){}o(e)}),c.widget=function(e,n,t){var r,i,o,a,s={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,t||(t=n,n=c.Widget),c.expr[":"][r.toLowerCase()]=function(e){return!!c.data(e,r)},c[u]=c[u]||{},i=c[u][e],o=c[u][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},c.extend(o,i,{version:t.version,_proto:c.extend({},t),_childConstructors:[]}),(a=new n).options=c.widget.extend({},a.options),c.each(t,function(t,r){var i,o;c.isFunction(r)?s[t]=(i=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}):s[t]=r}),o.prototype=c.widget.extend(a,{widgetEventPrefix:i&&a.widgetEventPrefix||e},s,{constructor:o,namespace:u,widgetName:e,widgetFullName:r}),i?(c.each(i._childConstructors,function(e,t){var n=t.prototype;c.widget(n.namespace+"."+n.widgetName,o,t._proto)}),delete i._childConstructors):n._childConstructors.push(o),c.widget.bridge(e,o),o},c.widget.extend=function(e){for(var t,n,r=s.call(arguments,1),i=0,o=r.length;i<o;i++)for(t in r[i])n=r[i][t],r[i].hasOwnProperty(t)&&n!==undefined&&(c.isPlainObject(n)?e[t]=c.isPlainObject(e[t])?c.widget.extend({},e[t],n):c.widget.extend({},n):e[t]=n);return e},c.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;c.fn[o]=function(n){var e="string"==typeof n,r=s.call(arguments,1),i=this;return e?this.each(function(){var e,t=c.data(this,a);return"instance"===n?(i=t,!1):t?c.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,r))!==t&&e!==undefined?(i=e&&e.jquery?i.pushStack(e.get()):e,!1):void 0:c.error("no such method '"+n+"' for "+o+" widget instance"):c.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):(r.length&&(n=c.widget.extend.apply(null,[n].concat(r))),this.each(function(){var e=c.data(this,a);e?(e.option(n||{}),e._init&&e._init()):c.data(this,a,new t(n,this))})),i}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=c(t||this.defaultElement||this)[0],this.element=c(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=c(),this.hoverable=c(),this.focusable=c(),t!==this&&(c.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=c(t.style?t.ownerDocument:t.document||t),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this.options=c.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(e,t){var n,r,i,o=e;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(r=o[e]=c.widget.extend({},this.options[e]),i=0;i<n.length-1;i++)r[n[i]]=r[n[i]]||{},r=r[n[i]];if(e=n.pop(),1===arguments.length)return r[e]===undefined?null:r[e];r[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(a,s,e){var u,l=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=u=c(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,u=this.widget()),c.each(e,function(e,t){function n(){if(a||!0!==l.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof t?l[t]:t).apply(l,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||c.guid++);var r=e.match(/^([\w:-]*)\s*(.*)$/),i=r[1]+l.eventNamespace,o=r[2];o?u.delegate(o,i,n):s.bind(i,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=c(this.bindings.not(e).get()),this.focusable=c(this.focusable.not(e).get()),this.hoverable=c(this.hoverable.not(e).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){c(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){c(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){c(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){c(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,n){var r,i,o=this.options[e];if(n=n||{},(t=c.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],i=t.originalEvent)for(r in i)r in t||(t[r]=i[r]);return this.element.trigger(t,n),!(c.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(o,a){c.Widget.prototype["_"+o]=function(t,e,n){"string"==typeof e&&(e={effect:e});var r,i=e?!0===e||"number"==typeof e?a:e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),r=!c.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),r&&c.effects&&c.effects.effect[i]?t[o](e):i!==o&&t[i]?t[i](e.duration,e.easing,n):t.queue(function(e){c(this)[o](),n&&n.call(t[0]),e()})}}),c.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(i){var o=!1;return i(document).mouseup(function(){o=!1}),i.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===i.data(e.target,t.widgetName+".preventClickEvent"))return i.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&i(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===i.data(e.target,this.widgetName+".preventClickEvent")&&i.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(i.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&i.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(_){return _.widget("ui.draggable",_.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return this._blurActiveElement(e),!(this.helper||t.disabled||0<_(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=_(this);return _("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=this.document[0];if(this.handleElement.is(e.target))try{t.activeElement&&"body"!==t.activeElement.nodeName.toLowerCase()&&_(t.activeElement).blur()}catch(n){}},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),_.ui.ddmanager&&(_.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===_(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),_.ui.ddmanager&&!t.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),_.ui.ddmanager&&_.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",_.ui.ddmanager&&_.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return _.ui.ddmanager&&!this.options.dropBehaviour&&(n=_.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||_.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?_(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),_.ui.ddmanager&&_.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),_.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!_(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=_.isFunction(t.helper),r=n?_(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),_.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&_.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,r=this.options,i=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(n=(t=_(r.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=r.containment:this.containment=[0,0,_(i).width()-this.helperProportions.width-this.margins.left,(_(i).height()||i.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[_(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,_(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,_(window).scrollLeft()+_(window).width()-this.helperProportions.width-this.margins.left,_(window).scrollTop()+(_(window).height()||i.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=e.pageX,l=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(n=this.relativeContainer?(r=this.relativeContainer.offset(),[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-a.grid[1]:i+a.grid[1]:i,o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,t,n){return n=n||this._uiHash(),_.ui.plugin.call(this,e,[t,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),_.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),_.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var r=_.extend({},e,{item:n.element});n.sortables=[],_(n.options.connectToSortable).each(function(){var e=_(this).sortable("instance");e&&!e.options.disabled&&(n.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,r))})},stop:function(t,e,n
){var r=_.extend({},e,{item:n.element});n.cancelHelperRemoval=!1,_.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(n,r,i){_.each(i.sortables,function(){var e=!1,t=this;t.positionAbs=i.positionAbs,t.helperProportions=i.helperProportions,t.offset.click=i.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,_.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&_.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,i._parent=r.helper.parent(),t.currentItem=r.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return r.helper[0]},n.target=t.currentItem[0],t._mouseCapture(n,!0),t._mouseStart(n,!0,!0),t.offset.click.top=i.offset.click.top,t.offset.click.left=i.offset.click.left,t.offset.parent.left-=i.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=i.offset.parent.top-t.offset.parent.top,i._trigger("toSortable",n),i.dropped=t.element,_.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,t.fromOutside=i),t.currentItem&&(t._mouseDrag(n),r.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",n,t._uiHash(t)),t._mouseStop(n,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),r.helper.appendTo(i._parent),i._refreshOffsets(n),r.position=i._generatePosition(n,!0),i._trigger("fromSortable",n),i.dropped=!1,_.each(i.sortables,function(){this.refreshPositions()}))})}}),_.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var r=_("body"),i=n.options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(e,t,n){var r=n.options;r._cursor&&_("body").css("cursor",r._cursor)}}),_.ui.plugin.add("draggable","opacity",{start:function(e,t,n){var r=_(t.helper),i=n.options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(e,t,n){var r=n.options;r._opacity&&_(t.helper).css("opacity",r._opacity)}}),_.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,t,n){var r=n.options,i=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<r.scrollSensitivity?o.scrollTop=i=o.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=i=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<r.scrollSensitivity?o.scrollLeft=i=o.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=i=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-_(a).scrollTop()<r.scrollSensitivity?i=_(a).scrollTop(_(a).scrollTop()-r.scrollSpeed):_(window).height()-(e.pageY-_(a).scrollTop())<r.scrollSensitivity&&(i=_(a).scrollTop(_(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-_(a).scrollLeft()<r.scrollSensitivity?i=_(a).scrollLeft(_(a).scrollLeft()-r.scrollSpeed):_(window).width()-(e.pageX-_(a).scrollLeft())<r.scrollSensitivity&&(i=_(a).scrollLeft(_(a).scrollLeft()+r.scrollSpeed)))),!1!==i&&_.ui.ddmanager&&!r.dropBehaviour&&_.ui.ddmanager.prepareOffsets(n,e)}}),_.ui.plugin.add("draggable","snap",{start:function(e,t,n){var r=n.options;n.snapElements=[],_(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=_(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){var r,i,o,a,s,u,l,c,f,d,p=n.options,h=p.snapTolerance,g=t.offset.left,v=g+n.helperProportions.width,m=t.offset.top,y=m+n.helperProportions.height;for(f=n.snapElements.length-1;0<=f;f--)u=(s=n.snapElements[f].left-n.margins.left)+n.snapElements[f].width,c=(l=n.snapElements[f].top-n.margins.top)+n.snapElements[f].height,v<s-h||u+h<g||y<l-h||c+h<m||!_.contains(n.snapElements[f].item.ownerDocument,n.snapElements[f].item)?(n.snapElements[f].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,_.extend(n._uiHash(),{snapItem:n.snapElements[f].item})),n.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(l-y)<=h,i=Math.abs(c-m)<=h,o=Math.abs(s-v)<=h,a=Math.abs(u-g)<=h,r&&(t.position.top=n._convertPositionTo("relative",{top:l-n.helperProportions.height,left:0}).top),i&&(t.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left),a&&(t.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),d=r||i||o||a,"outer"!==p.snapMode&&(r=Math.abs(l-m)<=h,i=Math.abs(c-y)<=h,o=Math.abs(s-g)<=h,a=Math.abs(u-v)<=h,r&&(t.position.top=n._convertPositionTo("relative",{top:l,left:0}).top),i&&(t.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s}).left),a&&(t.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[f].snapping&&(r||i||o||a||d)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,_.extend(n._uiHash(),{snapItem:n.snapElements[f].item})),n.snapElements[f].snapping=r||i||o||a||d)}}),_.ui.plugin.add("draggable","stack",{start:function(e,t,n){var r,i=n.options,o=_.makeArray(_(i.stack)).sort(function(e,t){return(parseInt(_(e).css("zIndex"),10)||0)-(parseInt(_(t).css("zIndex"),10)||0)});o.length&&(r=parseInt(_(o[0]).css("zIndex"),10)||0,_(o).each(function(e){_(this).css("zIndex",r+e)}),this.css("zIndex",r+o.length))}}),_.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){var r=_(t.helper),i=n.options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(e,t,n){var r=n.options;r._zIndex&&_(t.helper).css("zIndex",r._zIndex)}}),_.ui.draggable}),function(_){_.widget("pageflow.before_after",{_create:function(){function r(){var e=f.get()[0].getBoundingClientRect();g.draggable({axis:"x",containment:[e.left-u,e.top,e.right-u,e.bottom],drag:r,stop:r});var t=(parseInt(_(this).css("left"),10)+u)/e.width;1<=t&&(t=1),h.css("width",100*t+"%"),c.onSlide.call(this,t),_("#lt-arrow"+l+", #rt-arrow"+l).stop().css("opacity",0)}function e(){s=f.get()[0].getBoundingClientRect(),_(f).hover(function(){_("#lt-arrow"+l).stop().css({"z-index":"20",position:"absolute",top:s.height/2-_("#lt-arrow"+l).height()/2+"px",left:parseInt(g.css("left"),10)-14+"px"}).animate({opacity:1,left:parseInt(_("#lt-arrow"+l).css("left"),10)-6+"px"},200),_("#rt-arrow"+l).stop().css({position:"absolute",top:s.height/2-_("#lt-arrow"+l).height()/2+"px",left:parseInt(g.css("left"),10)+10+"px"}).animate({opacity:1,left:parseInt(_("#rt-arrow"+l).css("left"),10)+6+"px"},200)},function(){_("#lt-arrow"+l).animate({opacity:0,left:parseInt(_("#lt-arrow"+l).css("left"),10)-6+"px"},350),_("#rt-arrow"+l).animate({opacity:0,left:parseInt(_("#rt-arrow"+l).css("left"),10)+6+"px"},350)}),_(f).on("click touchmove touchstart",function(e){s=f.get()[0].getBoundingClientRect();var t=e.pageX||e.originalEvent.touches[0].pageX,n=c.clickSpeed;"touchmove"==e.type&&(n=10);var r=t-_(this).offset().left,i=r/_(this).width()*100,o=(r-u)/_(this).width()*100;t<s.left||t>s.right||(g.stop().animate({left:o+"%"},n),h.stop().animate({width:i+"%"},n,function(){var e=parseInt(_("> div:eq(2)",f).css("width"),10)/a;c.onSlide.call(this,e)}),_("#lt-arrow"+l+",#rt-arrow"+l).stop().animate({opacity:0},50))}),_(f).one("mousemove",function(){g.stop().animate({opacity:1},500)})}var a,i,s,u,t={animateIntro:!0,introDelay:1e3,introDuration:1e3,introPosition:.65,clickSpeed:600,linkDisplaySpeed:200,keypressAmount:20,onReady:function(){},onInitialized:function(){},onSlide:function(){}},l=Math.round(1e8*Math.random()),c=t,f=_(this.element),o=_(".before_image",f),n=_(".after_image",f),d=_(f).parentsUntil(".backgroundArea").last(),p=function(){var e=function(){if(d.width()/d.height()<n){_(f).parent().css({width:"100%",height:"auto"});var e=(d.height()-_(f).parent().height())/2;_(f).css({top:e+"px",left:"0"})}else{_(f).parent().css({width:d.height()*n+"px",height:"100%"});var t=(d.width()-_(f).parent().width())/2;_(f).css({top:"0",left:t+"px"})}};a=o.attr("data-width"),i=o.attr("data-height");var n=a/i;_(f).parent().toggleClass("image-is-landscape",1<n),_(f).parent().toggleClass("image-is-portrait",n<=1);var t=i/a*100;_(f).css({overflow:"visible",position:"relative",padding:"0",width:"100%","padding-top":t+"%"}),e(),s=f.get()[0].getBoundingClientRect(),u=0,g.draggable(),g.draggable("option",{axis:"x",containment:[s.left-u,s.top,s.right-u,s.bottom],drag:r,stop:r})};this.refresh=p,o.attr("id","beforeimage"+l),n.attr("id","afterimage"+l);var h=_(".before_wrapper",f),g=_('<div class="dragwrapper" />');g.attr("id","dragwrapper"+l),g.attr("title",I18n.t("pageflow.public.before_after.drag_hint",{locale:pageflow.seed.locale})),_(f).prepend(g);var v=_('<span class="draghandle" />');v.attr("id","draghandle"+l),g.append(v);var m=_('<div class="drag" />');m.attr("id","drag"+l),g.append(m),g.css({opacity:1,position:"absolute",padding:"0",left:100*c.introPosition+"%"}).height("100%");var y=_(".after_wrapper",f);h.css({width:"100%",height:"100%",position:"absolute",left:"0px","z-index":"1",top:"0"}),y.css({width:"100%",height:"100%",position:"absolute",overflow:"hidden",right:"0px",top:"0","text-align":"right"}),_("#drag"+l).height("100%"),_(f).append('<div class="ba_left_indicator ba_indicator" id="lt-arrow'+l+'"></div><div class="ba_right_indicator ba_indicator" id="rt-arrow'+l+'"></div>'),_(".ba_indicator",f).css("opacity",0),p(),_("img",f).on("dragstart",function(e){e.preventDefault()}),c.onInitialized.call(this),c.animateIntro?(h.width(s.width),g.css("left",a-u+"px"),setTimeout(function(){g.css({opacity:1}).animate({left:100*c.introPosition+"%"},c.introDuration,function(){g.animate({opacity:1},1e3)}),h.width(s.width).animate({width:100*c.introPosition+"%"},c.introDuration,function(){e(),c.onReady.call(this)}),c.onSlide.call(this,c.introDelay)},c.introDelay)):(e(),c.onReady.call(this))}})}(jQuery),pageflow.pageType.register("before_after",_.extend({prepareNextPageTimeout:0,enhance:function(e){var t=this;e.addClass("hide_content_with_text"),e.find(".play_button").on("click",function(){pageflow.hideText.activate()}),e.find(".close_button").on("click",function(e){pageflow.hideText.deactivate(),e.stopPropagation()}),this.removeUnplayedClass=function(){e.find(".content_and_background").removeClass("unplayed")},this.enableScrollIndicator=function(){t.scrollIndicator.enable()}},prepare:function(){},resize:function(e){e.find(".before_after").before_after("refresh"),e.find(".scroller").scroller("refresh")},preload:function(e){return pageflow.preload.backgroundImage(e.find(".background_image"))},activating:function(e){e.find(".before_after").before_after(),e.find(".before_after").before_after("refresh"),e.find(".scroller").scroller("refresh"),e.find(".content_and_background").addClass("unplayed")},activated:function(){pageflow.hideText.on("activate",this.removeUnplayedClass),pageflow.hideText.on("deactivate",this.enableScrollIndicator)},deactivating:function(){pageflow.hideText.off("activate",this.removeUnplayedClass),pageflow.hideText.off("deactivate",this.enableScrollIndicator)},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||""),e.find(".control_bar_text").text(t.get("control_bar_text")||I18n.t("pageflow.public.before_after.start",{locale:pageflow.seed.locale})),this.updateInfoBox(e,t),this.updateCommonPageCssClasses(e,t),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100})},embeddedEditorViews:function(){return{".background_image":{view:pageflow.BackgroundImageEmbeddedView,options:{propertyName:"background_image_id"}},".before_after":{view:pageflow.beforeAfter.BeforeAfterEmbeddedView}}}},pageflow.commonPageCssClasses,pageflow.infoBox)),pageflow.localfocus=pageflow.localfocus||{};var LocalFocusAPI=function(){function r(n){var a=n,s={},u=this,e=null,i=function(){e||(e=function(e){if(e.source===a.contentWindow&&(!l.length||-1!==l.indexOf(e.origin))){var t;try{t=JSON.parse(e.data)}catch(e){return}if("object"==typeof t&&"LocalFocusAPI"===t.type){var n=t.request;if("loaded"!==n.action&&"ready"!==n.action||"function"!=typeof s[n.action]||s[n.action].call(u),"click"===n.action&&"function"==typeof s[n.action]&&s[n.action].call(u,n.item),"interact"===n.action&&"function"==typeof s[n.action]&&s[n.action].call(u,n.type,n.subType),"setDataStore"===n.action&&"function"==typeof s.special){var r=n.dataStore,i={groups:r.groups,items:r.items,styling:r.styling,settings:r.settings};r.records&&(i.records=r.records),s.special.call(u,i),delete s.special}if("getDownload"===n.action&&"function"==typeof s.getDownload){var o=n.id?e.origin+"/download/get/"+n.id:null;s.getDownload.call(u,{url:o}),delete s.getDownload}}}},window.addEventListener("message",e,!1))},o=function(e){var t={type:"LocalFocusAPI",request:e};a.contentWindow.postMessage(JSON.stringify(t),"*")},t=function(){return this};a?(this.on=function(e,t){try{if(-1===["loaded","ready","click","interact"].indexOf(e))throw e;if("function"!=typeof t)throw t;s[e]=t,i()}catch(n){window.console&&window.console.error(n)}return this},this.activate=function(e){return o({action:"activate",target:e}),this},this.wait=function(){return o({action:"wait"}),this},this.resume=function(){return o({action:"resume"}),this},this.element=function(){return a},this.getDataStore=function(e,t){var n,r;return r=2===arguments.length?(n=t,e):(n=e,{records:!1}),s.special=n,o({action:"getDataStore",settings:r}),i(),this},this.setDataStore=function(e){return o({action:"setDataStore",dataStore:e}),this},this.getDownload=function(e,t){return s.getDownload=t,o({action:"getDownload",format:e}),i(),this}):(this.on=t,this.activate=t,this.resume=t,this.element=t,this.getDataStore=t,this.getDownload=t,this.setDataStore=t)}var i=!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")||!document.addEventListener||!document.querySelectorAll,l=[],o=function(e,t){if(e&&t)for(var n=0;n<e.length;n++){var r=e[n];t.call(r,r,n)}},n=function(t){var n=!1;return l.length?o(l,function(e){t&&"string"==typeof t.src&&0===t.src.indexOf(e)&&(n=!0)}):n=!0,n};return{oldBrowser:function(){return i},select:function(e){if(i)var t=null;else t="string"==typeof e?document.querySelector(e):e;return t&&n(t)?new r(t):new r(null)},selectAll:function(e,t){if(!i){var n=document.querySelectorAll(e);o(n,function(e){t.call(new r(e))})}return null},allowOrigin:function(e){return"string"==typeof e&&l.push(e),this}}}();pageflow.localfocus=pageflow.localfocus||{};var _createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_get=function get(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}};!function(){var e=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function n(){var t=this;return React.createElement("div",{className:"lf-frame"},React.createElement("div",{className:"lf-loading"}),React.createElement("iframe",{src:this.props.page.localfocusUrl,className:this.props.className,ref:function(e){return t.iframe=e}}))}}]),t}(React.Component);e.defaultProps={className:"localfocusvisual lf-iframe"};var t=pageflow.react,n=t.connectInPage,r=t.combine;pageflow.localfocus.Frame=n(r({}))(e)}();_createClass=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),_get=function get(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}};!function(){var e=pageflow.react.components,r=e.PageWrapper,i=e.MediaPageBackground,o=(e.PageBackgroundImage,e.PageShadow,e.PageContent),a=(e.PageHeader,e.PageText),s=pageflow.localfocus.Frame,t=function(e){function t(e){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e)}return _inherits(t,e),_createClass(t,[{key:"render",value:function n(){return React.createElement(r,null,React.createElement(i,{page:this.props.page}),React.createElement(o,null,React.createElement(s,{page:this.props.page}),React.createElement(a,{page:this.props.page})))}}]),t}(React.Component),n=pageflow.react;(0,n.registerPageType)("localfocus",{component:(0,n.connectInPage)((0,n.combine)({page:(0,pageflow.react.selectors.pageAttributes)()}))(t),reduxModules:[pageflow.react.mediaPageBackgroundReduxModule]})}(),pageflow.widgetTypes.register("closewindow",{enhance:function(e){var t=e.find("a").prop("href");-1!==document.referrer.indexOf(t)&&e.addClass("enabled")}}),pageflow.ready.then(function(){$("body").addClass("finished-loading")}),$.widget("scrollytelling.scrollytellingNavigationInvert",{changeInvert:function(e){this.setInvert(e.element)},setInvert:function(e){this.element.toggleClass("page-invert",e.hasClass("invert")),$(".navigation_mobile").toggleClass("page-invert",e.hasClass("invert"))},_create:function(){this.setInvert(pageflow.slides.currentPage()),pageflow.events.on("page:change",this.changeInvert.bind(this))}}),$.widget("scrollytelling.scrollytellingNavigationCounter",{setActive:function(e){$("nav a",this.element).removeClass("active"),$('nav a[href="#'+e.attr("id")+'"]',this.element).addClass("active")},updateActive:function(e){this.setActive(e.element)},_create:function(){this.setActive(pageflow.slides.currentPage()),pageflow.events.on("page:change",this.updateActive.bind(this)),$("nav a",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();var t=$(this).attr("data-page-id");pageflow.slides.goToById(t)}}),$.widget("scrollytelling.audioControl",{showState:function(){var e=$("#scrollytelling-audio",this.element);0<pageflow.settings.get("volume")?e.removeClass("audio-muted").addClass("audio-playing"):e.removeClass("audio-playing").addClass("audio-muted")},_create:function(){this.showState(),$("#scrollytelling-audio",this.element).on("click",this.toggleAudio.bind(this))},toggleAudio:function(e){0<pageflow.settings.get("volume")?pageflow.settings.set("volume",0):pageflow.settings.set("volume",1),e.preventDefault(),this.showState()}}),$.widget("scrollytelling.facebookSharing",{_create:function(){$("#share-fb",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();window.open("//www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href.replace(location.hash,"")),"Facebook","width=600,height=300")}}),$.widget("scrollytelling.twitterSharing",{_create:function(){$("#share-tw",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();var t=$("meta[name='description']").attr("content");window.scrollytelling=window.scrollytelling||{};var n=window.scrollytelling.twitter_via||"scrollytelling";window.open("//twitter.com/intent/tweet?text="+encodeURIComponent(t)+"&amp;via="+n+"&amp;url="+encodeURIComponent(location.href.replace(location.hash,"")),"Twitter","width=600,height=260")}}),pageflow.widgetTypes.register("scrollytelling_navigation",{enhance:function(e){e.scrollytellingNavigationCounter(),e.scrollytellingNavigationInvert(),e.facebookSharing(),e.twitterSharing(),e.audioControl(),$(".parent_page",e).parentPageButton({visibleClass:"is_visible"}),0<$('head link[href*="onsite"]').length&&e.addClass("onsite")}}),function(){function n(){n=function(){},ge.Symbol||(ge.Symbol=e)}function e(e){return"jscomp_symbol_"+(e||"")+ve++}function r(){n();var e=ge.Symbol.iterator;e||(e=ge.Symbol.iterator=ge.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&he(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return i(this)}}),r=function(){}}function i(e){var t=0;return o(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function o(e){return r(),(e={next:e})[ge.Symbol.iterator]=function(){return this},e}function s(e){r(),n(),r();var t=e[Symbol.iterator];return t?t.call(e):i(e)}function u(e){if(!(e instanceof Array)){e=s(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}function t(e,t){function n(){}for(var r in n.prototype=t.prototype,e.ha=t.prototype,e.prototype=new n,e.prototype.constructor=e,t)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}else e[r]=t[r]}function l(e,t){if(e&&1==e.nodeType&&t){if("string"==typeof t||1==t.nodeType)return e==t||c(e,t);if("length"in t)for(var n,r=0;n=t[r];r++)if(e==n||c(e,n))return!0}return!1}function c(e,t){if("string"!=typeof t)return!1;if(ye)return ye.call(e,t);t=e.parentNode.querySelectorAll(t);for(var n,r=0;n=t[r];r++)if(n==e)return!0;return!1}function f(e){for(var t=[];e&&e.parentNode&&1==e.parentNode.nodeType;)e=e.parentNode,t.push(e);return t}function d(e,o,a){function t(e){var t;if(s.composed&&"function"==typeof e.composedPath)for(var n,r=e.composedPath(),i=0;n=r[i];i++)1==n.nodeType&&l(n,o)&&(t=n);else e:{if((t=e.target)&&1==t.nodeType&&o)for(t=[t].concat(f(t)),r=0;i=t[r];r++)if(l(i,o)){t=i;break e}t=void 0}t&&a.call(t,e,t)}var n=document,s=void 0===(s={composed:!0,S:!0})?{}:s;return n.addEventListener(e,t,s.S),{j:function(){n.removeEventListener(e,t,s.S)}}}function p(e){var t={};if(!e||1!=e.nodeType)return t;if(!(e=e.attributes).length)return{};for(var n,r=0;n=e[r];r++)t[n.name]=n.value;return t}function h(e){if(e=e&&"."!=e?e:location.href,Te[e])return Te[e];if("."==(be.href=e).charAt(0)||"/"==e.charAt(0))return h(be.href);var t="0"==(t="80"==be.port||"443"==be.port?"":be.port)?"":t,n=be.host.replace(_e,"");return Te[e]={hash:be.hash,host:n,hostname:be.hostname,href:be.href,origin:be.origin?be.origin:be.protocol+"//"+n,pathname:"/"==be.pathname.charAt(0)?be.pathname:"/"+be.pathname,port:t,protocol:be.protocol,search:be.search}}function g(e,t){var r=this;this.context=e,this.P=t,this.f=(this.c=/Task$/.test(t))?e.get(t):e[t],this.b=[],this.a=[],this.g=function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];return r.a[r.a.length-1].apply(null,[].concat(u(t)))},this.c?e.set(t,this.g):e[t]=this.g}function v(e,t,n){(e=_(e,t)).b.push(n),y(e)}function m(e,t,n){-1<(n=(e=_(e,t)).b.indexOf(n))&&(e.b.splice(n,1),0<e.b.length?y(e):e.j())}function y(e){e.a=[];for(var t,n=0;t=e.b[n];n++){var r=e.a[n-1]||e.f.bind(e.context);e.a.push(t(r))}}function _(t,n){var e=we.filter(function(e){return e.context==t&&e.P==n})[0];return e||(e=new g(t,n),we.push(e)),e}function b(t,n,e,r,i,o){if("function"!=typeof r)return Se({},t,n);var a=e.get("buildHitTask");return{buildHitTask:function(e){e.set(t,null,!0),e.set(n,null,!0),r(e,i,o),a(e)}}}function T(e,n){var r=p(e),i={};return Object.keys(r).forEach(function(e){if(!e.indexOf(n)&&e!=n+"on"){var t=r[e];"true"==t&&(t=!0),"false"==t&&(t=!1),e=C(e.slice(n.length)),i[e]=t}}),i}function w(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):e()}function E(r,i){var o;return function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];clearTimeout(o),o=setTimeout(function(){return r.apply(null,[].concat(u(t)))},i)}}function S(e){function t(){n||(n=!0,e())}var n=!1;return setTimeout(t,2e3),t}function P(e,t){function i(){clearTimeout(r.timeout),r.send&&m(e,"send",r.send),delete Ee[n],r.R.forEach(function(e){return e()})}var n=e.get("trackingId"),r=Ee[n]=Ee[n]||{};clearTimeout(r.timeout),r.timeout=setTimeout(i,0),r.R=r.R||[],r.R.push(t),r.send||(r.send=function(r){return function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];i(),r.apply(null,[].concat(u(t)))}},v(e,"send",r.send))}function C(e){return e.replace(/[\-\_]+(\w?)/g,function(e,t){return t.toUpperCase()})}function I(e){return"object"==typeof e&&null!==e}function x(e,t){var r=window.GoogleAnalyticsObject||"ga";window[r]=window[r]||function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];(window[r].q=window[r].q||[]).push(t)},window.gaDevIds=window.gaDevIds||[],window.gaDevIds.indexOf("i5iSjo")<0&&window.gaDevIds.push("i5iSjo"),window[r]("provide",e,t),window.gaplugins=window.gaplugins||{},window.gaplugins[e.charAt(0).toUpperCase()+e.slice(1)]=t}function A(e,t){e.set("&_av","2.4.1");var n=e.get("&_au");if((n=parseInt(n||"0",16).toString(2)).length<Ie)for(var r=Ie-n.length;r;)n="0"+n,r--;t=Ie-t,n=n.substr(0,t)+1+n.substr(t+1),e.set("&_au",parseInt(n||"0",2).toString(16))}function O(e,t){A(e,Ce.T),this.a=Se({},t),this.g=e,this.b=this.a.stripQuery&&this.a.queryDimensionIndex?"dimension"+this.a.queryDimensionIndex:null,this.f=this.f.bind(this),this.c=this.c.bind(this),v(e,"get",this.f),v(e,"buildHitTask",this.c)}function k(e,t){var n=h(t.page||t.location),r=n.pathname;if(e.a.indexFilename){var i=r.split("/");e.a.indexFilename==i[i.length-1]&&(i[i.length-1]="",r=i.join("/"))}return"remove"==e.a.trailingSlash?r=r.replace(/\/+$/,""):"add"==e.a.trailingSlash&&(/\.\w+$/.test(r)||"/"==r.substr(-1)||(r+="/")),r={page:r+(e.a.stripQuery?M(e,n.search):n.search)},t.location&&(r.location=t.location),e.b&&(r[e.b]=n.search.slice(1)||"(not set)"),"function"==typeof e.a.urlFieldsFilter?(n={page:(t=e.a.urlFieldsFilter(r,h)).page,location:t.location},e.b&&(n[e.b]=t[e.b]),n):r}function M(n,e){if(Array.isArray(n.a.queryParamsWhitelist)){var r=[];return e.slice(1).split("&").forEach(function(e){var t=s(e.split("="));e=t.next().value,t=t.next().value,-1<n.a.queryParamsWhitelist.indexOf(e)&&t&&r.push([e,t])}),r.length?"?"+r.map(function(e){return e.join("=")}).join("&"):""}return""}function R(e,t){var n=this;if(A(e,Ce.U),window.addEventListener){this.a=Se({events:["click"],fieldsObj:{},attributePrefix:"ga-"},t),this.f=e,this.c=this.c.bind(this);var r="["+this.a.attributePrefix+"on]";this.b={},this.a.events.forEach(function(e){n.b[e]=d(e,r,n.c)})}}function D(e,t){var n=this;A(e,Ce.V),window.IntersectionObserver&&window.MutationObserver&&(this.a=Se({rootMargin:"0px",fieldsObj:{},attributePrefix:"ga-"},t),this.c=e,this.M=this.M.bind(this),this.O=this.O.bind(this),this.K=this.K.bind(this),this.L=this.L.bind(this),this.b=null,this.items=[],this.i={},this.h={},w(function(){n.a.elements&&n.observeElements(n.a.elements)}))}function N(t,e){var n=[],r={},i={};return e.length&&e.forEach(function(e){e=j(e),n.push(e),i[e.id]=t.i[e.id]||null,r[e.threshold]=t.h[e.threshold]||null}),{items:n,i:i,h:r}}function L(e,t,n){1==t.nodeType&&t.id in e.i&&n(t.id);for(var r,i=0;r=t.childNodes[i];i++)L(e,r,n)}function j(e){return"string"==typeof e&&(e={id:e}),Se({threshold:0,trackFirstImpressionOnly:!0},e)}function F(){this.a={}}function B(e,t){(e.a.externalSet=e.a.externalSet||[]).push(t)}function U(e,t){t=void 0===t?{}:t,this.a={},this.b=e,this.w=t,this.l=null}function H(e,t,n){return e=["autotrack",e,t].join(":"),Ae[e]||(Ae[e]=new U(e,n),Oe||(window.addEventListener("storage",q),Oe=!0)),Ae[e]}function V(){if(null!=xe)return xe;try{window.localStorage.setItem("autotrack","autotrack"),window.localStorage.removeItem("autotrack"),xe=!0}catch(a){xe=!1}return xe}function z(e){if(e.l={},V())try{window.localStorage.removeItem(e.b)}catch(t){}}function q(e){var t=Ae[e.key];if(t){var n=Se({},t.w,G(e.oldValue));e=Se({},t.w,G(e.newValue)),t.l=e,t.ca("externalSet",e,n)}}function G(e){var t={};if(e)try{t=JSON.parse(e)}catch(n){}return t}function K(e,t,n){this.f=e,this.timeout=t||Me,this.timeZone=n,this.b=this.b.bind(this),v(e,"sendHitTask",this.b);try{this.c=new Intl.DateTimeFormat("en-US",{timeZone:this.timeZone})}catch(r){}this.a=H(e.get("trackingId"),"session",{hitTime:0,isExpired:!1}),this.a.get().id||this.a.set({id:Pe()})}function Y(e,t,n){var r=e.get("trackingId");return ke[r]?ke[r]:ke[r]=new K(e,t,n)}function W(e){return e.a.get().id}function Q(e,t){A(e,Ce.W),window.addEventListener&&(this.b=Se({increaseThreshold:20,sessionTimeout:Me,fieldsObj:{}},t),this.f=e,this.c=$(this),this.g=E(this.g.bind(this),500),this.o=this.o.bind(this),this.a=H(e.get("trackingId"),"plugins/max-scroll-tracker"),this.m=Y(e,this.b.sessionTimeout,this.b.timeZone),v(e,"set",this.o),X(this))}function X(e){(e.a.get()[e.c]||0)<100&&window.addEventListener("scroll",e.g)}function $(e){return(e=h(e.f.get("page")||e.f.get("location"))).pathname+e.search}function J(e,t){A(e,Ce.X),window.matchMedia&&(this.a=Se({changeTemplate:this.changeTemplate,changeTimeout:1e3,fieldsObj:{}},t),I(this.a.definitions)&&(t=this.a.definitions,this.a.definitions=Array.isArray(t)?t:[t],this.b=e,this.c=[],Z(this)))}function Z(n){n.a.definitions.forEach(function(e){if(e.name&&e.dimensionIndex){var t=ee(e);n.b.set("dimension"+e.dimensionIndex,t),te(n,e)}})}function ee(e){var t;return e.items.forEach(function(e){ne(e.media).matches&&(t=e)}),t?t.name:"(not set)"}function te(n,r){r.items.forEach(function(e){e=ne(e.media);var t=E(function(){var e=ee(r),t=n.b.get("dimension"+r.dimensionIndex);e!==t&&(n.b.set("dimension"+r.dimensionIndex,e),e={transport:"beacon",eventCategory:r.name,eventAction:"change",eventLabel:n.a.changeTemplate(t,e),nonInteraction:!0},n.b.send("event",b(e,n.a.fieldsObj,n.b,n.a.hitFilter)))},n.a.changeTimeout);e.addListener(t),n.c.push({fa:e,da:t})})}function ne(e){return Re[e]||(Re[e]=window.matchMedia(e))}function re(e,t){A(e,Ce.Y),window.addEventListener&&(this.a=Se({formSelector:"form",shouldTrackOutboundForm:this.shouldTrackOutboundForm,fieldsObj:{},attributePrefix:"ga-"},t),this.b=e,this.c=d("submit",this.a.formSelector,this.f.bind(this)))}function ie(e,t){var n=this;A(e,Ce.Z),window.addEventListener&&(this.a=Se({events:["click"],linkSelector:"a, area",shouldTrackOutboundLink:this.shouldTrackOutboundLink,fieldsObj:{},attributePrefix:"ga-"},t),this.c=e,this.f=this.f.bind(this),this.b={},this.a.events.forEach(function(e){n.b[e]=d(e,n.a.linkSelector,n.f)}))}function oe(e,t){var n=this;A(e,Ce.$),document.visibilityState&&(this.a=Se({sessionTimeout:Me,visibleThreshold:5e3,sendInitialPageview:!1,fieldsObj:{}},t),this.b=e,this.g=document.visibilityState,this.m=null,this.o=!1,this.v=this.v.bind(this),this.s=this.s.bind(this),this.G=this.G.bind(this),this.N=this.N.bind(this),this.c=H(e.get("trackingId"),"plugins/page-visibility-tracker"),B(this.c,this.N),this.f=Y(e,this.a.sessionTimeout,this.a.timeZone),v(e,"set",this.v),window.addEventListener("unload",this.G),document.addEventListener("visibilitychange",this.s),P(this.b,function(){if("visible"==document.visibilityState)n.a.sendInitialPageview&&(ue(n,{ea:!0}),n.o=!0),n.c.set({time:+new Date,state:"visible",pageId:De,sessionId:W(n.f)});else if(n.a.sendInitialPageview&&n.a.pageLoadsMetricIndex){var e=((e={}).transport="beacon",e.eventCategory="Page Visibility",e.eventAction="page load",e.eventLabel="(not set)",e["metric"+n.a.pageLoadsMetricIndex]=1,e.nonInteraction=!0,e);n.b.send("event",b(e,n.a.fieldsObj,n.b,n.a.hitFilter))}}))}function ae(e){var t=e.c.get();return"visible"==e.g&&"hidden"==t.state&&t.pageId!=De&&(t.state="visible",t.pageId=De,e.c.set(t)),t}function se(e,t,n){var r=((r={hitTime:n=(n||{}).hitTime})||{}).hitTime;(t=t.time?(r||+new Date)-t.time:0)&&t>=e.a.visibleThreshold&&(r={transport:"beacon",nonInteraction:!0,eventCategory:"Page Visibility",eventAction:"track",eventValue:t=Math.round(t/1e3),eventLabel:"(not set)"},n&&(
r.queueTime=+new Date-n),e.a.visibleMetricIndex&&(r["metric"+e.a.visibleMetricIndex]=t),e.b.send("event",b(r,e.a.fieldsObj,e.b,e.a.hitFilter)))}function ue(e,t){t=(n=t||{}).hitTime;var n=n.ea,r={transport:"beacon"};t&&(r.queueTime=+new Date-t),n&&e.a.pageLoadsMetricIndex&&(r["metric"+e.a.pageLoadsMetricIndex]=1),e.b.send("pageview",b(r,e.a.fieldsObj,e.b,e.a.hitFilter))}function le(e,t){A(e,Ce.aa),window.addEventListener&&(this.a=Se({fieldsObj:{},hitFilter:null},t),this.b=e,this.u=this.u.bind(this),this.J=this.J.bind(this),this.D=this.D.bind(this),this.A=this.A.bind(this),this.B=this.B.bind(this),this.F=this.F.bind(this),"complete"!=document.readyState?window.addEventListener("load",this.u):this.u())}function ce(e){try{window.twttr.ready(function(){window.twttr.events.unbind("tweet",e.D),window.twttr.events.unbind("follow",e.A)})}catch(t){}}function fe(e,t){A(e,Ce.ba),history.pushState&&window.addEventListener&&(this.a=Se({shouldTrackUrlChange:this.shouldTrackUrlChange,trackReplaceState:!1,fieldsObj:{},hitFilter:null},t),this.b=e,this.c=location.pathname+location.search,this.H=this.H.bind(this),this.I=this.I.bind(this),this.C=this.C.bind(this),v(history,"pushState",this.H),v(history,"replaceState",this.I),window.addEventListener("popstate",this.C))}function de(n,r){setTimeout(function(){var e=n.c,t=location.pathname+location.search;e!=t&&n.a.shouldTrackUrlChange.call(n,t,e)&&(n.c=t,n.b.set({page:t,title:document.title}),(r||n.a.trackReplaceState)&&n.b.send("pageview",b({transport:"beacon"},n.a.fieldsObj,n.b,n.a.hitFilter)))},0)}var pe,he="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},ge="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ve=0,me=window.Element.prototype,ye=me.matches||me.matchesSelector||me.webkitMatchesSelector||me.mozMatchesSelector||me.msMatchesSelector||me.oMatchesSelector,_e=/:(80|443)$/,be=document.createElement("a"),Te={},we=[];g.prototype.j=function(){var e=we.indexOf(this);-1<e&&(we.splice(e,1),this.c?this.context.set(this.P,this.f):this.context[this.P]=this.f)};var Ee={},Se=Object.assign||function(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];r=0;for(var i=n.length;r<i;r++){var o,a=Object(n[r]);for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},Pe=function Ne(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Ne)},Ce={T:1,U:2,V:3,X:4,Y:5,Z:6,$:7,aa:8,ba:9,W:10},Ie=Object.keys(Ce).length;O.prototype.f=function(n){var r=this;return function(e){if("page"!=e&&e!=r.b)return n(e);var t={location:n("location"),page:n("page")};return k(r,t)[e]}},O.prototype.c=function(n){var r=this;return function(e){var t=k(r,{location:e.get("location"),page:e.get("page")});e.set(t,null,!0),n(e)}},O.prototype.remove=function(){m(this.g,"get",this.f),m(this.g,"buildHitTask",this.c)},x("cleanUrlTracker",O),R.prototype.c=function(e,t){var n=this.a.attributePrefix;if(!(t.getAttribute(n+"on").split(/\s*,\s*/).indexOf(e.type)<0)){n=T(t,n);var r=Se({},this.a.fieldsObj,n);this.f.send(n.hitType||"event",b({transport:"beacon"},r,this.f,this.a.hitFilter,t,e))}},R.prototype.remove=function(){var t=this;Object.keys(this.b).forEach(function(e){t.b[e].j()})},x("eventTracker",R),(pe=D.prototype).observeElements=function(e){var n=this;e=N(this,e),this.items=this.items.concat(e.items),this.i=Se({},e.i,this.i),this.h=Se({},e.h,this.h),e.items.forEach(function(e){var t=n.h[e.threshold]=n.h[e.threshold]||new IntersectionObserver(n.O,{rootMargin:n.a.rootMargin,threshold:[+e.threshold]});(e=n.i[e.id]||(n.i[e.id]=document.getElementById(e.id)))&&t.observe(e)}),this.b||(this.b=new MutationObserver(this.M),this.b.observe(document.body,{childList:!0,subtree:!0})),requestAnimationFrame(function(){})},pe.unobserveElements=function(e){var n=[],r=[];if(this.items.forEach(function(t){e.some(function(e){return(e=j(e)).id===t.id&&e.threshold===t.threshold&&e.trackFirstImpressionOnly===t.trackFirstImpressionOnly})?r.push(t):n.push(t)}),n.length){var i=N(this,n),o=N(this,r);this.items=i.items,this.i=i.i,this.h=i.h,r.forEach(function(e){if(!i.i[e.id]){var t=o.h[e.threshold],n=o.i[e.id];n&&t.unobserve(n),i.h[e.threshold]||o.h[e.threshold].disconnect()}})}else this.unobserveAllElements()},pe.unobserveAllElements=function(){var t=this;Object.keys(this.h).forEach(function(e){t.h[e].disconnect()}),this.b.disconnect(),this.b=null,this.items=[],this.i={},this.h={}},pe.M=function(e){for(var t,n=0;t=e[n];n++){for(var r,i=0;r=t.removedNodes[i];i++)L(this,r,this.L);for(i=0;r=t.addedNodes[i];i++)L(this,r,this.K)}},pe.O=function(e){for(var t,n=[],r=0;t=e[r];r++)for(var i,o=0;i=this.items[o];o++){var a;if((a=t.target.id===i.id)&&(a=(a=i.threshold)?t.intersectionRatio>=a:0<(a=t.intersectionRect).top||0<a.bottom||0<a.left||0<a.right),a){var s=i.id;a=document.getElementById(s);s={transport:"beacon",eventCategory:"Viewport",eventAction:"impression",eventLabel:s,nonInteraction:!0};var u=Se({},this.a.fieldsObj,T(a,this.a.attributePrefix));this.c.send("event",b(s,u,this.c,this.a.hitFilter,a)),i.trackFirstImpressionOnly&&n.push(i)}}n.length&&this.unobserveElements(n)},pe.K=function(t){var n=this,r=this.i[t]=document.getElementById(t);this.items.forEach(function(e){t==e.id&&n.h[e.threshold].observe(r)})},pe.L=function(t){var n=this,r=this.i[t];this.items.forEach(function(e){t==e.id&&n.h[e.threshold].unobserve(r)}),this.i[t]=null},pe.remove=function(){this.unobserveAllElements()},x("impressionTracker",D),F.prototype.ca=function(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];(this.a[e]=this.a[e]||[]).forEach(function(e){return e.apply(null,[].concat(u(n)))})};var xe,Ae={},Oe=!1;t(U,F),U.prototype.get=function(){if(this.l)return this.l;if(V())try{this.l=G(window.localStorage.getItem(this.b))}catch(a){}return this.l=Se({},this.w,this.l)},U.prototype.set=function(e){if(this.l=Se({},this.w,this.l,e),V())try{var t=JSON.stringify(this.l);window.localStorage.setItem(this.b,t)}catch(n){}},U.prototype.j=function(){delete Ae[this.b],Object.keys(Ae).length||(window.removeEventListener("storage",q),Oe=!1)};var ke={};K.prototype.isExpired=function(e){if((e=void 0===e?W(this):e)!=W(this))return!0;if((e=this.a.get()).isExpired)return!0;var t=e.hitTime;return!!(t&&((e=new Date)-(t=new Date(t))>6e4*this.timeout||this.c&&this.c.format(e)!=this.c.format(t)))},K.prototype.b=function(r){var i=this;return function(e){r(e),e="start"==(t=e.get("sessionControl"))||i.isExpired();var t="end"==t,n=i.a.get();n.hitTime=+new Date,e&&(n.isExpired=!1,n.id=Pe()),t&&(n.isExpired=!0),i.a.set(n)}},K.prototype.j=function(){m(this.f,"sendHitTask",this.b),this.a.j(),delete ke[this.f.get("trackingId")]};var Me=30;Q.prototype.g=function(){var e=document.documentElement,t=document.body;e=Math.min(100,Math.max(0,Math.round(window.pageYOffset/(Math.max(e.offsetHeight,e.scrollHeight,t.offsetHeight,t.scrollHeight)-window.innerHeight)*100)));if((t=W(this.m))!=this.a.get().sessionId&&(z(this.a),this.a.set({sessionId:t})),this.m.isExpired(this.a.get().sessionId))z(this.a);else if((t=this.a.get()[this.c]||0)<e&&(100!=e&&100!=t||window.removeEventListener("scroll",this.g),t=e-t,100==e||t>=this.b.increaseThreshold)){var n={};this.a.set((n[this.c]=e,n.sessionId=W(this.m),n)),e={transport:"beacon",eventCategory:"Max Scroll",eventAction:"increase",eventValue:t,eventLabel:String(e),nonInteraction:!0},this.b.maxScrollMetricIndex&&(e["metric"+this.b.maxScrollMetricIndex]=t),this.f.send("event",b(e,this.b.fieldsObj,this.f,this.b.hitFilter))}},Q.prototype.o=function(r){var i=this;return function(e,t){r(e,t);var n={};(I(e)?e:(n[e]=t,n)).page&&(e=i.c,i.c=$(i),i.c!=e&&X(i))}},Q.prototype.remove=function(){this.m.j(),window.removeEventListener("scroll",this.g),m(this.f,"set",this.o)},x("maxScrollTracker",Q);var Re={};J.prototype.remove=function(){for(var e,t=0;e=this.c[t];t++)e.fa.removeListener(e.da)},J.prototype.changeTemplate=function(e,t){return e+" => "+t},x("mediaQueryTracker",J),re.prototype.f=function(e,t){var n={transport:"beacon",eventCategory:"Outbound Form",eventAction:"submit",eventLabel:h(t.action).href};if(this.a.shouldTrackOutboundForm(t,h)){navigator.sendBeacon||(e.preventDefault(),n.hitCallback=S(function(){t.submit()}));var r=Se({},this.a.fieldsObj,T(t,this.a.attributePrefix));this.b.send("event",b(n,r,this.b,this.a.hitFilter,t,e))}},re.prototype.shouldTrackOutboundForm=function(e,t){return(e=t(e.action)).hostname!=location.hostname&&"http"==e.protocol.slice(0,4)},re.prototype.remove=function(){this.c.j()},x("outboundFormTracker",re),ie.prototype.f=function(t,e){var n=this;if(this.a.shouldTrackOutboundLink(e,h)){var r=e.getAttribute("href")||e.getAttribute("xlink:href"),i=h(r),o=b(i={transport:"beacon",eventCategory:"Outbound Link",eventAction:t.type,eventLabel:i.href},Se({},this.a.fieldsObj,T(e,this.a.attributePrefix)),this.c,this.a.hitFilter,e,t);if(navigator.sendBeacon||"click"!=t.type||"_blank"==e.target||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||1<t.which)this.c.send("event",o);else{var a=function(){if(window.removeEventListener("click",a),!t.defaultPrevented){t.preventDefault();var e=o.hitCallback;o.hitCallback=S(function(){"function"==typeof e&&e(),location.href=r})}n.c.send("event",o)};window.addEventListener("click",a)}}},ie.prototype.shouldTrackOutboundLink=function(e,t){return(t=t(e=e.getAttribute("href")||e.getAttribute("xlink:href"))).hostname!=location.hostname&&"http"==t.protocol.slice(0,4)},ie.prototype.remove=function(){var t=this;Object.keys(this.b).forEach(function(e){t.b[e].j()})},x("outboundLinkTracker",ie);var De=Pe();(pe=oe.prototype).s=function(){var e=this;if("visible"==document.visibilityState||"hidden"==document.visibilityState){var t=ae(this),n={time:+new Date,state:document.visibilityState,pageId:De,sessionId:W(this.f)};"visible"==document.visibilityState&&this.a.sendInitialPageview&&!this.o&&(ue(this),this.o=!0),"hidden"==document.visibilityState&&this.m&&clearTimeout(this.m),this.f.isExpired(t.sessionId)?(z(this.c),"hidden"==this.g&&"visible"==document.visibilityState&&(clearTimeout(this.m),this.m=setTimeout(function(){e.c.set(n),ue(e,{hitTime:n.time})},this.a.visibleThreshold))):(t.pageId==De&&"visible"==t.state&&se(this,t),this.c.set(n)),this.g=document.visibilityState}},pe.v=function(r){var i=this;return function(e,t){var n={};(n=I(e)?e:(n[e]=t,n)).page&&n.page!==i.b.get("page")&&"visible"==i.g&&i.s(),r(e,t)}},pe.N=function(e,t){e.time!=t.time&&(t.pageId!=De||"visible"!=t.state||this.f.isExpired(t.sessionId)||se(this,t,{hitTime:e.time}))},pe.G=function(){"hidden"!=this.g&&this.s()},pe.remove=function(){this.c.j(),this.f.j(),m(this.b,"set",this.v),window.removeEventListener("unload",this.G),document.removeEventListener("visibilitychange",this.s)},x("pageVisibilityTracker",oe),(pe=le.prototype).u=function(){if(window.FB)try{window.FB.Event.subscribe("edge.create",this.B),window.FB.Event.subscribe("edge.remove",this.F)}catch(a){}window.twttr&&this.J()},pe.J=function(){var e=this;try{window.twttr.ready(function(){window.twttr.events.bind("tweet",e.D),window.twttr.events.bind("follow",e.A)})}catch(t){}},pe.D=function(e){if("tweet"==e.region){var t={transport:"beacon",socialNetwork:"Twitter",socialAction:"tweet",socialTarget:e.data.url||e.target.getAttribute("data-url")||location.href};this.b.send("social",b(t,this.a.fieldsObj,this.b,this.a.hitFilter,e.target,e))}},pe.A=function(e){if("follow"==e.region){var t={transport:"beacon",socialNetwork:"Twitter",socialAction:"follow",socialTarget:e.data.screen_name||e.target.getAttribute("data-screen-name")};this.b.send("social",b(t,this.a.fieldsObj,this.b,this.a.hitFilter,e.target,e))}},pe.B=function(e){this.b.send("social",b({transport:"beacon",socialNetwork:"Facebook",socialAction:"like",socialTarget:e},this.a.fieldsObj,this.b,this.a.hitFilter))},pe.F=function(e){this.b.send("social",b({transport:"beacon",socialNetwork:"Facebook",socialAction:"unlike",socialTarget:e},this.a.fieldsObj,this.b,this.a.hitFilter))},pe.remove=function(){window.removeEventListener("load",this.u);try{window.FB.Event.unsubscribe("edge.create",this.B),window.FB.Event.unsubscribe("edge.remove",this.F)}catch(a){}ce(this)},x("socialWidgetTracker",le),(pe=fe.prototype).H=function(r){var i=this;return function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];r.apply(null,[].concat(u(t))),de(i,!0)}},pe.I=function(r){var i=this;return function(e){for(var t=[],n=0;n<arguments.length;++n)t[n-0]=arguments[n];r.apply(null,[].concat(u(t))),de(i,!1)}},pe.C=function(){de(this,!0)},pe.shouldTrackUrlChange=function(e,t){return!(!e||!t)},pe.remove=function(){m(history,"pushState",this.H),m(history,"replaceState",this.I),window.removeEventListener("popstate",this.C)},x("urlChangeTracker",fe)}(),pageflow.ready.then(function(){pageflow.atmo.enable()});
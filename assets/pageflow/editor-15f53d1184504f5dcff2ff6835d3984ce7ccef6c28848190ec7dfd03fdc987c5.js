function conditionMet(e,t){return e.negated?t.get(e.attribute)!=e.value:t.get(e.attribute)==e.value}var I18n=I18n||{};I18n.defaultLocale="en",I18n.fallbacks=!1,I18n.defaultSeparator=".",I18n.locale=null,I18n.PLACEHOLDER=/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,I18n.isValidNode=function(e,t,i){return null!==e[t]&&e[t]!==i},I18n.lookup=function(e,t){t=t||{};var i=e,n=this.prepareOptions(I18n.translations)[t.locale||I18n.currentLocale()];t=this.prepareOptions(t);if(n){for("object"==typeof e&&(e=e.join(this.defaultSeparator)),t.scope&&(e=t.scope.toString()+this.defaultSeparator+e),e=e.split(this.defaultSeparator);0<e.length;)if(!(n=n[e.shift()])){I18n.fallbacks&&!t.fallback&&(n=I18n.lookup(i,this.prepareOptions({locale:I18n.defaultLocale,fallback:!0},t)));break}return!n&&this.isValidNode(t,"defaultValue")&&(n=t.defaultValue),n}},I18n.prepareOptions=function(){for(var e,t={},i=arguments.length,n=0;n<i;n++)if(e=arguments[n])for(var a in e)this.isValidNode(t,a)||(t[a]=e[a]);return t},I18n.interpolate=function(e,t){t=this.prepareOptions(t);var i,n,a,o=e.match(this.PLACEHOLDER);if(!o)return e;for(var s=0;i=o[s];s++)n=t[a=i.replace(this.PLACEHOLDER,"$1")],this.isValidNode(t,a)||(n="[missing "+i+" value]"),regex=new RegExp(i.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}")),e=e.replace(regex,n);return e},I18n.translate=function(e,t){t=this.prepareOptions(t);var i=this.lookup(e,t);try{return"object"==typeof i?"number"==typeof t.count?this.pluralize(t.count,e,t):i:this.interpolate(i,t)}catch(n){return this.missingTranslation(e)}},I18n.localize=function(e,t){switch(e){case"currency":return this.toCurrency(t);case"number":return e=this.lookup("number.format"),this.toNumber(t,e);case"percentage":return this.toPercentage(t);default:return e.match(/^(date|time)/)?this.toTime(e,t):t.toString()}},I18n.parseDate=function(e){var t,i;if("object"==typeof e)return e;if(t=e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2}))?(Z|\+0000)?/)){for(var n=1;n<=6;n++)t[n]=parseInt(t[n],10)||0;t[2]-=1,i=t[7]?new Date(Date.UTC(t[1],t[2],t[3],t[4],t[5],t[6])):new Date(t[1],t[2],t[3],t[4],t[5],t[6])}else"number"==typeof e?(i=new Date).setTime(e):(e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),(i=new Date).setTime(Date.parse(e)));return i},I18n.toTime=function(e,t){var i=this.parseDate(t),n=this.lookup(e);return i.toString().match(/invalid/i)?i.toString():n?this.strftime(i,n):i.toString()},I18n.strftime=function(e,t){var i=this.lookup("date");if(!i)return e.toString();i.meridian=i.meridian||["AM","PM"];var n=e.getDay(),a=e.getDate(),o=e.getFullYear(),s=e.getMonth()+1,r=e.getHours(),l=r,d=11<r?1:0,u=e.getSeconds(),c=e.getMinutes(),h=e.getTimezoneOffset(),p=Math.floor(Math.abs(h/60)),g=Math.abs(h)-60*p,f=(0<h?"-":"+")+(p.toString().length<2?"0"+p:p)+(g.toString().length<2?"0"+g:g);12<l?l-=12:0===l&&(l=12);var m=function(e){var t="0"+e.toString();return t.substr(t.length-2)},_=t;return _=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=(_=_.replace("%a",i.abbr_day_names[n])).replace("%A",i.day_names[n])).replace("%b",i.abbr_month_names[s])).replace("%B",i.month_names[s])).replace("%d",m(a))).replace("%e",a)).replace("%-d",a)).replace("%H",m(r))).replace("%-H",r)).replace("%I",m(l))).replace("%-I",l)).replace("%m",m(s))).replace("%-m",s)).replace("%M",m(c))).replace("%-M",c)).replace("%p",i.meridian[d])).replace("%S",m(u))).replace("%-S",u)).replace("%w",n)).replace("%y",m(o))).replace("%-y",m(o).replace(/^0+/,""))).replace("%Y",o)).replace("%z",f)},I18n.toNumber=function(e,t){t=this.prepareOptions(t,this.lookup("number.format"),{precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1});var i,n=e<0,a=Math.abs(e).toFixed(t.precision).toString().split("."),o=[];for(e=a[0],a[1];0<e.length;)o.unshift(e.substr(Math.max(0,e.length-3),3)),e=e.substr(0,e.length-3);if(i=o.join(t.delimiter),0<t.precision&&(i+=t.separator+a[1]),n&&(i="-"+i),t.strip_insignificant_zeros){var s={separator:new RegExp(t.separator.replace(/\./,"\\.")+"$"),zeros:/0+$/};i=i.replace(s.zeros,"").replace(s.separator,"")}return i},I18n.toCurrency=function(e,t){return t=this.prepareOptions(t,this.lookup("number.currency.format"),this.lookup("number.format"),{unit:"$",precision:2,format:"%u%n",delimiter:",",separator:"."}),e=this.toNumber(e,t),e=t.format.replace("%u",t.unit).replace("%n",e)},I18n.toHumanSize=function(e,t){for(var i,n,a=1024,o=e,s=0;a<=o&&s<4;)o/=a,s+=1;return n=0===s?(i=this.t("number.human.storage_units.units.byte",{count:o}),0):(i=this.t("number.human.storage_units.units."+[null,"kb","mb","gb","tb"][s]),o-Math.floor(o)==0?0:1),t=this.prepareOptions(t,{precision:n,format:"%n%u",delimiter:""}),e=this.toNumber(o,t),e=t.format.replace("%u",i).replace("%n",e)},I18n.toPercentage=function(e,t){return t=this.prepareOptions(t,this.lookup("number.percentage.format"),this.lookup("number.format"),{precision:3,separator:".",delimiter:""}),(e=this.toNumber(e,t))+"%"},I18n.pluralize=function(e,t,i){var n,a;try{n=this.lookup(t,i)}catch(o){}if(!n)return this.missingTranslation(t);switch((i=this.prepareOptions(i)).count=e.toString(),Math.abs(e)){case 0:a=this.isValidNode(n,"zero")?n.zero:this.isValidNode(n,"none")?n.none:this.isValidNode(n,"other")?n.other:this.missingTranslation(t,"zero");break;case 1:a=this.isValidNode(n,"one")?n.one:this.missingTranslation(t,"one");break;default:a=this.isValidNode(n,"other")?n.other:this.missingTranslation(t,"other")}return this.interpolate(a,i)},I18n.missingTranslation=function(){for(var e='[missing "'+this.currentLocale(),t=arguments.length,i=0;i<t;i++)e+="."+arguments[i];return e+='" translation]'},I18n.currentLocale=function(){return I18n.locale||I18n.defaultLocale},I18n.t=I18n.translate,I18n.l=I18n.localize,I18n.p=I18n.pluralize;var I18n=I18n||{};I18n.translations={en:{errors:{messages:{weak_password:"not strong enough. We recommend using a password manager. Or go to passwordsgenerator.net",inclusion:"is not included in the list",exclusion:"is reserved",invalid:"is invalid",confirmation:"not equal with confirmation",accepted:"must be accepted",empty:"can't be empty",blank:"can't be blank",present:"must be blank",too_long:{one:"is too long (maximum is 1 character)",other:"is too long (maximum is %{count} characters)"},too_short:{one:"is too short (minimum is 1 character)",other:"is too short (minimum is %{count} characters)"},wrong_length:{one:"is the wrong length (should be 1 character)",other:"is the wrong length (should be %{count} characters)"},not_a_number:"is not a number",not_an_integer:"must be an integer",greater_than:{one:"must be greater than %{count}",other:"must be greater than %{count}"},greater_than_or_equal_to:{one:"must be greater than or equal to %{count}",other:"must be greater than or equal to %{count}"},equal_to:{one:"must be equal to %{count}",other:"must be equal to %{count}"},less_than:{one:"must be less than %{count}",other:"must be less than %{count}"},less_than_or_equal_to:{one:"must be less than or equal to %{count}",other:"must be less than or equal to %{count}"},other_than:{one:"must be other than %{count}",other:"must be other than %{count}"},odd:"must be odd",even:"must be even",taken:"has already been taken",already_confirmed:"was already confirmed, please try signing in",confirmation_period_expired:"needs to be confirmed within %{period}, please request a new one",expired:"has expired, please request a new one",invalid_date:"is not a valid date",not_found:"not found",not_locked:"was not locked",not_saved:{one:"1 error prohibited this %{resource} from being saved:",other:"%{count} errors prohibited this %{resource} from being saved:"},readonly:"readonly",record_invalid:"Validation failed: %{errors}",restrict_dependent_destroy:{many:"Cannot delete record because dependent %{record} exist",one:"Cannot delete record because a dependent %{record} exists"},in_between:"must be in between %{min} and %{max}",spoofed_media_type:"has contents that are not what they are reported to be"},format:"%{attribute} %{message}",template:{body:"There were problems with the following fields:",header:{one:"1 error prohibited this %{model} from being saved",other:"%{count} errors prohibited this %{model} from being saved"}}},date:{formats:{"default":"%Y-%m-%d","short":"%b %d","long":"%B %d, %Y"},day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],order:["year","month","day"]},time:{formats:{"default":"%a, %d %b %Y %H:%M:%S %z","short":"%d %b %H:%M","long":"%B %d, %Y %H:%M",date:"%Y-%m-%d"},am:"am",pm:"pm"},support:{array:{words_connector:", ",two_words_connector:" and ",last_word_connector:", and "}},number:{format:{separator:".",delimiter:",",precision:3,significant:!1,strip_insignificant_zeros:!1},currency:{format:{format:"%u%n",unit:"$",separator:".",delimiter:",",precision:2,significant:!1,strip_insignificant_zeros:!1}},percentage:{format:{delimiter:",",format:"%n%"}},precision:{format:{delimiter:","}},human:{format:{delimiter:",",precision:3,significant:!0,strip_insignificant_zeros:!0},storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB",tb:"TB"}},decimal_units:{format:"%n %u",units:{unit:"Unit",thousand:"Thousand",million:"Million",billion:{one:"Billion",other:"Billion"},trillion:"Trillion",quadrillion:{one:"Quadrillion",other:"Quadrillion"}}}}},activerecord:{errors:{messages:{record_invalid:"Record is invalid %{errors}",restrict_dependent_destroy:{one:"Cannot delete record because a dependent %{record} exists",many:"Cannot delete record because dependent %{record} exist"},accepted:"has to be accepted",blank:"required",confirmation:"not equal",empty:"required",equal_to:{one:"must be equal to %{count}",other:"must be equal to %{count}"},even:"must be even",exclusion:"not available",greater_than:{one:"must be greater than %{count}",other:"must be greater than %{count}"},greater_than_or_equal_to:{one:"must be greater or equal %{count}",other:"must be greater or equal %{count}"},inclusion:"invalid",invalid:"invalid",invalid_date:"is not a valid date",less_than:{one:"must be smaller than %{count}",other:"must be smaller than %{count}"},less_than_or_equal_to:{one:"must be smaller or equal than %{count}",other:"must be smaller or equal than %{count}"},not_a_number:"not a number",not_an_integer:"not an integer",odd:"must be odd",taken:"already taken",too_long:{one:"too long (only %{count} chars allowed)",other:"too long (only %{count} chars allowed)"},too_short:{one:"too short (minimum of %{count} chars required)",other:"too short (minimum of %{count} chars required)"},validation:"has to be at least 5 chars and to contain one decimal",wrong_length:{one:"wrong length (must be exactly %{count} chars)",other:"wrong length (must be exactly %{count} chars)"},invalid_event:"cannot transition when %{state}",invalid_transition:'cannot transition via "%{event}"'},models:{"pageflow/entry":{attributes:{folder:{must_be_same_account:"Folder must belong to same account as entry"}}}}},attributes:{admin_user:{created_at:"Created at",current_sign_in_at:"Current sign in at",current_sign_in_ip:"Current IP-Address",email:"Email",encrypted_Password:"Encrypted password",id:"ID",last_sign_in_at:"Last sign-in at",last_sign_in_ip:"Last sign-in IP",remember_created_at:"Remember password since",reset_password_sent_at:"Password reset instructions sent at",reset_password_token:"Passwort reset token",sign_in_count:"Sign-in count",updated_at:"Updated at"},"pageflow/account":{created_at:"Created at",default_file_rights:"Default file credits",default_theming:"Default theming",entries_count:"# Entries",landing_page_name:"Landing page",name:"Name",own_role:"Own Role",users_count:"# Users"},"pageflow/audio_file":{duration:"Duration",format:"Format"},"pageflow/chapter":{display_parent_page_button:"Display 'Parent Page'-Button",navigation_bar_mode:"Navigation Bar",parent_page_perma_id:"Parent Page",title:"Title"},"pageflow/entry":{account:"Account",author:"Author",created_at:"Created at",credits:"Credits",edited_at:"Updated at",embed_code:"Embed",emphasize_chapter_beginning:"Emphasize chapter beginning",emphasize_new_pages:"Emphasize new pages",first_published_at:"First published at",home_button_enabled:"Show 'Home' button",home_url:"'Home' Button URL",keywords:"Keywords",locale:"Language",manual_start:"Show Instruction-Overlay",overview_button_enabled:"Show 'Overview' button",own_role:"Role","published?":"Publication state",published_at:"Published since",published_revision_published_at:"Published since",publisher:"Publisher",share_image_id:"Social Sharing Image",share_url:"Social Sharing URL",summary:"Summary",theme_name:"Theme",title:"Title",updated_at:"Updated at",url:"Permalink",with_publication_state:"Publication state"},"pageflow/folder":{account:"Account",name:"Name"},"pageflow/image_file":{dimensions:"Dimensions"},"pageflow/membership":{account:"Account",created_at:"Member since",entity:"Entity",entry:"Story",role:"Role",user:"Editor"},"pageflow/page":{additional_description:"Infobox Description",additional_title:"Infobox Title",allow_full_screen:"Allow fullscreen",atmo_audio_file_id:"Atmo Audio",atmo_during_playback:"Atmo during playback",audio_file_id:"Audio",auto_change_page_on_ended:"Go to next page on end",autoplay:"Autoplay",background_image_id:"Background-Image",background_video_id:"Background-Video",delayed_text_fade_in:"Fade in text after delay",description:"Description (Overview)",display_in_navigation:"Show in navigationbar",emphasize_in_navigation:"Emphasize in navigationbar",gradient_opacity:"Gradient opacity",hide_title:"Hide titles",invert:"Invert colors",linked_page_ids:"Link pages",linked_pages_layout:"Hero",mobile_poster_image_id:"Posterimage (mobile)",poster_image_id:"Posterimage",scroll_indicator_mode:"Visible scroll indicators",scroll_indicator_orientation:"Scroll indicator orientation",subtitle:"Subtitle",tagline:"Tagline",template:"Pagetype",text:"Text",text_position:"Textposition",thumbnail_image_id:"Thumbnail",title:"Title",transition:"Transition effect",video_file_id:"Video",linked_external_site_perma_ids:"External Sites",image_description:"Image caption",inline_text_position:"Text block position",invert_text:"Invert text area colors",invert_title:"Invert title area colors",prevent_fullscreen:"Disable fullscreen",sticky_inline_image:"Sticky image position",text_coverage:"Text coverage",text_image_id:"Inline image",text_titel:"Title",text_title:"Text title",title_position:"Title position",topasset_dim:"Header fade effect",topasset_parallax:"Header parallax effect",embedded_video_id:"Video URL",full_width:"Full width",video_caption:"Caption",after_image_id:"Right image",before_image_id:"Left image",control_bar_text:"Start-button caption"},"pageflow/revision":{created_at:"Created at",created_with:"Created by",creator:"Created by",frozen_at:"Effective",published_at:"Published at",published_until:"Published until",updated_at:"Updated at"},"pageflow/text_track_file":{kind:"Kind",label:"Label",srclang:"Language"},"pageflow/theming":{additional_cnames:"Additional CNAMES",cname:"CNAME",copyright_link_label:"Copyright link Text",copyright_link_url:"Copyright link URL",default_author:"Default author",default_keywords:"Default keywords",default_publisher:"Default publisher",home_button_enabled_by_default:"'Home'-Button enabled by default",home_url:"Redirect URL",imprint_link_label:"Legal notice link label",imprint_link_url:"Legal notice link URL",theme_name:"Theme"},"pageflow/video_file":{dimensions:"Dimensions",duration:"Duration",format:"Format"},user:{account:"Account",admin:"System administrator","admin?":"System administrator",created_at:"Registered at",current_password:"Current password",current_sign_in_at:"Signed in at",email:"Email address",entry:"Story",first_name:"First name",full_name:"Full name",initial_account:"Account",initial_role:"Role",last_name:"Last name",last_sign_in_at:"Last signed in at",locale:"Language",membership:"Membership",password:"Password",password_confirmation:"Password confirmation",role:"Role",sign_in_count:"# of sign ins","suspended?":"Suspended",unconfirmed_email:"Unconfirmed Email"},"pageflow/internal_links/page_link":{thumbnail_image_id:"Image"},"pageflow/external_links/site":{description:"Description",open_in_new_tab:"Open in new tab",thumbnail:"Thumbnail",title:"Title",url:"Target URL"},"pageflow/linkmap_page/area":{inverted:"Invert",link_description:"Link decription text",link_title:"Link description title",marker:"Link display",mask_perma_id:"Mask",name:"Label",page_transition:"Page transition",target_id:"Target",target_type:"Area type"}},models:{account:{one:"Account",other:"Accounts"},admin_user:{one:"System administrator",other:"System administrators"},entry:{one:"Story",other:"Stories"},folder:{one:"Folder",other:"Folders"},membership:{one:"Membership",other:"Memberships"},"pageflow/account":{one:"Account",other:"Accounts"},"pageflow/audio_file":{one:"Audio File",other:"Audio Files"},"pageflow/entry":{one:"Story",other:"Stories"},"pageflow/folder":{one:"Folder",other:"Folders"},"pageflow/image_file":{one:"Image File",other:"Image Files"},"pageflow/membership":{one:"Membership",other:"Memberships"},"pageflow/revision":{one:"Version",other:"Versions"},"pageflow/text_track_file":{one:"Text Track File",other:"Text Track Files"},"pageflow/theming":{one:"Theming",other:"Themings"},"pageflow/video_file":{one:"Video File",other:"Video Files"},revision:{one:"Version",other:"Versions"},theming:{one:"Theming",other:"Themings"},user:{one:"User",other:"Users"}},values:{"pageflow/chapter":{navigation_bar_mode:{all:"All pages",current_chapter:"Current chapter only",inherit_from_parent:"Inherit from parent chapter",non:"Hide",same_parent_chapter:"Chapters with same parent chapter only",same_parent_page:"Chapters with same parent page only"}},"pageflow/entry":{publication_states:{not_published:"Not published",published_with_password_protection:"Published with password protection",published_without_password_protection:"Published without password protection"}},"pageflow/membership":{role:{editor:"Editor",manager:"Manager",member:"Member",previewer:"Previewer",publisher:"Publisher"}},"pageflow/page":{atmo_during_playback:{mute:"Mute",play:"Keep playing",turn_down:"Keep playing at lower volume"},delayed_text_fade_in:{"long":"Long delay",medium:"Medium delay",no_fade:"No fade in","short":"Short delay"},linked_pages_layout:{"default":"(none)",hero_top_left:"Top left",hero_top_right:"Top right"},scroll_indicator_mode:{all:"Forwards and Backwards",non:"Non",only_back:"Backwards only",only_next:"Forwards only"},scroll_indicator_orientation:{horizontal:"Horizontal",vertical:"Vertical"},template:{audio:"Audio",background_image:"Background-Image",internal_links:"Internal Links",video:"Video"},text_position:{left:"Left",right:"Right",center:"Center"},transition:{fade:"Fade",scroll:"Scroll"},inline_text_position:{center:"Center",left:"Left",right:"Right"},text_coverage:{banner:"Banner",extend_into:"Text partially visible",title_only:"Title area only"}},"pageflow/linkmap_page/area":{marker:{dynamic_marker:"Circle",no_marker:"None"},target_type:{audio_file:"Audio file",external_site:"External link",page:"Page link",text_only:"Text only"}}}},datetime:{distance_in_words:{half_a_minute:"half a minute",less_than_x_seconds:{one:"less than 1 second",other:"less than %{count} seconds"},x_seconds:{one:"1 second",other:"%{count} seconds"},less_than_x_minutes:{one:"less than a minute",other:"less than %{count} minutes"},x_minutes:{one:"1 minute",other:"%{count} minutes"},about_x_hours:{one:"about 1 hour",other:"about %{count} hours"},x_days:{one:"1 day",other:"%{count} days"},about_x_months:{one:"about 1 month",other:"about %{count} months"},x_months:{one:"1 month",other:"%{count} months"},about_x_years:{one:"about 1 year",other:"about %{count} years"},over_x_years:{one:"over 1 year",other:"over %{count} years"},almost_x_years:{one:"almost 1 year",other:"almost %{count} years"}},prompts:{year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",second:"Seconds"}},helpers:{select:{prompt:"Please select"},submit:{create:"Create %{model}",update:"Update %{model}",submit:"Save %{model}"},page_entries_info:{one_page:{display_entries:{zero:"No %{entry_name} found",one:"Displaying <b>1</b> %{entry_name}",other:"Displaying <b>all %{count}</b> %{entry_name}"}},more_pages:{display_entries:"Displaying %{entry_name} <b>%{first}&nbsp;-&nbsp;%{last}</b> of <b>%{total}</b> in total"}}},flash:{actions:{create:{notice:"%{resource_name} was successfully created."},update:{notice:"%{resource_name} was successfully updated."},destroy:{notice:"%{resource_name} was successfully destroyed.",alert:"%{resource_name} could not be destroyed."}}},ransack:{search:"search",predicate:"predicate",and:"and",or:"or",any:"any",all:"all",combinator:"combinator",attribute:"attribute",value:"value",condition:"condition",sort:"sort",asc:"ascending",desc:"descending",predicates:{eq:"equals",eq_any:"equals any",eq_all:"equals all",not_eq:"not equal to",not_eq_any:"not equal to any",not_eq_all:"not equal to all",matches:"matches",matches_any:"matches any",matches_all:"matches all",does_not_match:"doesn't match",does_not_match_any:"doesn't match any",does_not_match_all:"doesn't match all",lt:"less than",lt_any:"less than any",lt_all:"less than all",lteq:"less than or equal to",lteq_any:"less than or equal to any",lteq_all:"less than or equal to all",gt:"greater than",gt_any:"greater than any",gt_all:"greater than all",gteq:"greater than or equal to",gteq_any:"greater than or equal to any",gteq_all:"greater than or equal to all","in":"in",in_any:"in any",in_all:"in all",not_in:"not in",not_in_any:"not in any",not_in_all:"not in all",cont:"contains",cont_any:"contains any",cont_all:"contains all",not_cont:"doesn't contain",not_cont_any:"doesn't contain any",not_cont_all:"doesn't contain all",start:"starts with",start_any:"starts with any",start_all:"starts with all",not_start:"doesn't start with",not_start_any:"doesn't start with any",not_start_all:"doesn't start with all",end:"ends with",end_any:"ends with any",end_all:"ends with all",not_end:"doesn't end with",not_end_any:"doesn't end with any",not_end_all:"doesn't end with all","true":"is true","false":"is false",present:"is present",blank:"is blank","null":"is null",not_null:"is not null"}},active_admin:{access_denied:{message:"You are not authorized to perform this action."},any:"Any",batch_actions:{action_label:"%{title} Selected",button_label:"Batch Actions",default_confirmation:"Are you sure you want to do this?",delete_confirmation:"Are you sure you want to delete these %{plural_model}?",labels:{destroy:"Delete"},link:"Create one",selection_toggle_explanation:"(Toggle Selection)",succesfully_destroyed:{one:"Successfully destroyed 1 %{model}",other:"Successfully destroyed %{count} %{plural_model}"}},blank_slate:{content:"There are no %{resource_name} yet.",link:"Create one"},cancel:"Cancel",clear_filters:"Clear filters",comments:{add:"Add Comment",author:"Author",author_missing:"Anonymous",author_type:"Author Type",body:"Body",errors:{empty_text:"Comment wasn't saved, text was empty."},no_comments_yet:"No comments yet.",resource:"Resource",resource_type:"Resource Type",title:"Comment",title_content:"Comments (%{count})",created_at:"Created","delete":"Delete Comment",delete_confirmation:"Are you sure you want to delete these comment?"},create_model:"Create %{model}",dashboard:"Dashboard",dashboard_welcome:{call_to_action:"To add dashboard sections, checkout 'app/admin/dashboard.rb'",welcome:"Welcome to Active Admin. This is the default dashboard page."},"delete":"Delete",delete_confirmation:"Are you sure you want to delete this?",delete_model:"Delete %{model}",details:"%{model} Details",devise:{change_password:{submit:"Change my password",title:"Change your password"},email:{title:"Email"},links:{forgot_your_password:"Forgot your password?",resend_confirmation_instructions:"Re-send confirmation instructions",resend_unlock_instructions:"Re-send unlock instructions",sign_in:"Sign in",sign_in_with_omniauth_provider:"Sign in with %{provider}",sign_up:"Sign up"},login:{remember_me:"Remember me",submit:"Login",title:"Login"},password:{title:"Password"},resend_confirmation_instructions:{submit:"Resend confirmation instructions",title:"Resend confirmation instructions"},reset_password:{submit:"Reset My Password",title:"Forgot your password?"},sign_up:{submit:"Sign up",title:"Sign up"},subdomain:{title:"Subdomain"},unlock:{submit:"Resend unlock instructions",title:"Resend unlock instructions"},username:{title:"Username"}},download:"Download:",dropdown_actions:{button_label:"Actions"},edit:"Edit",edit_model:"Edit %{model}",empty:"Empty",equal_to:"Equal to",filter:"Filter",filters:{buttons:{clear:"Clear Filters",filter:"Filter"},predicates:{contains:"Contains",ends_with:"Ends with",equals:"Equals",greater_than:"Greater than",less_than:"Less than",starts_with:"Starts with"}},greater_than:"Greater than",has_many_delete:"Delete",has_many_new:"Add New %{model}",has_many_remove:"Remove",index_list:{block:"List",blog:"Blog",grid:"Grid",table:"Table"},less_than:"Less than",logout:"Logout",main_content:"Please implement %{model}#main_content to display content.",new_model:"New %{model}",next:"Next",pagination:{empty:"No %{model} found",entry:{one:"entry",other:"entries"},multiple:"Displaying %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> of <b>%{total}</b> in total",multiple_without_total:"Displaying %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",one_page:"Displaying <b>all %{n}</b> %{model}",one:"Displaying <b>1</b> %{model}"},powered_by:" ",previous:"Previous",scopes:{frozen:"All",publications:"Only published",publications_and_user_snapshots:"Only published/snapshots"},search_field:"Search %{field} ",sidebars:{filters:"Filters",folders:"Folders",search_status:"Search Status"},status_tag:{no:"No",yes:"Yes"},undelete:"Undelete",unsupported_browser:{headline:"Please note that Internet Explorer versions 9 or less is no longer supported.",recommendation:'We recommend upgrading to the latest <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, or <a href="https://mozilla.org/firefox/">Firefox</a>.',turn_off_compatibility_view:'If you are using IE 9 or later, make sure you <a href="http://windows.microsoft.com/en-US/windows7/webpages-look-incorrect-in-Internet-Explorer">turn off "Compatibility View"</a>.'},view:"View",search_status:{headline:"Search status:",current_scope:"Scope:",current_filters:"Current filters:",no_current_filters:"None"}},devise:{confirmations:{confirmed:"Your account was successfully confirmed. You are now signed in.",send_instructions:"You will receive an email with instructions about how to confirm your account in a few minutes.",send_paranoid_instructions:"If your email address exists in our database, you will receive an email with instructions about how to confirm your account in a few minutes."},failure:{admin_user:{invalid:"Password or username was not correct.",unauthenticated:"Please log in using a system administrator account."},already_authenticated:"You are already signed in.",inactive:"Your account was not activated yet.",invalid:"Invalid email or password.",invalid_token:"Invalid authentication token.",locked:"Your account is locked.",not_found_in_database:"Invalid email or password.",timeout:"Your session expired, please sign in again to continue.",unauthenticated:"You need to sign in or sign up before continuing.",unconfirmed:"You have to confirm your account before continuing.",last_attempt:"You have one more attempt before your account is locked."},mailer:{confirmation_instructions:{subject:"Confirmation instructions"},reset_password_instructions:{subject:"Reset password instructions"},unlock_instructions:{subject:"Unlock Instructions"},password_change:{subject:"Password Changed"}},oauth_providers:{facebook:"Facebook",google_oauth2:"Google"},omniauth_callbacks:{failure:'Could not authenticate you from %{kind} because "%{reason}".',success:"Successfully authenticated from %{kind} account."},passwords:{no_token:"You can't access this page without coming from a password reset email. If you do come from a password reset email, please make sure you used the full URL provided.",send_instructions:"You will receive an email with instructions about how to reset your password in a few minutes.",send_paranoid_instructions:"If your email address exists in our database, you will receive a password recovery link at your email address in a few minutes.",updated:"Your password was changed successfully. You are now signed in.",updated_not_active:"Your password was changed successfully."},registrations:{destroyed:"Bye! Your account was successfully cancelled. We hope to see you again soon.",edit:{are_you_sure:"Are you sure?",change_password:"Change password",delete_account:"Delete account",submit:"Save",userdata:"Userinfo"},"new":{cancel_oauth_sign_up:"Cancel",registration:"Registration",sign_up_with_facebook:"Log-in using Facebook",sign_up_with_google:"Log in using Google",submit:"Submit"},signed_up:"Welcome! You have signed up successfully.",signed_up_but_inactive:"You have signed up successfully. However, we could not sign you in because your account is not yet activated.",signed_up_but_locked:"You have signed up successfully. However, we could not sign you in because your account is locked.",signed_up_but_unconfirmed:"A message with a confirmation link has been sent to your email address. Please open the link to activate your account.",update_needs_confirmation:"You updated your account successfully, but we need to verify your new email address. Please check your email and click on the confirm link to finalize confirming your new email address.",updated:"You updated your account successfully."},sessions:{admin_user:{signed_in:"Successfully signed in as system administrator."},"new":{sign_in_with_facebook:"Sign in with Facebook",sign_in_with_google:"Sign in with Google"},signed_in:"Signed in successfully.",signed_out:"Signed out successfully.",already_signed_out:"Signed out successfully."},unlocks:{send_instructions:"You will receive an email with instructions about how to unlock your account in a few minutes.",send_paranoid_instructions:"If your account exists, you will receive an email with instructions about how to unlock it in a few minutes.",unlocked:"Your account has been unlocked successfully. Please sign in to continue."}},formtastic:{cancel:"Cancel",create:"Create %{model} ",no:"No",required:"required",reset:"Reset %{model} ",submit:"Submit %{model} ",update:"Update %{model} ",yes:"Yes"},language:"English",pageflow:{admin:{account:{add:"Add Account",none_addable_tooltip:"No account available"},accounts:{no_entries:"No Stories",no_members:"No members",theming_defaults_inline_help:"The following settings will be used as defaults for new entries in this account. Changes do not affect existing entries.",widgets_inline_help:"DELETED"},entries:{add_folder:"Add folder",confirm_depublish:"Unpublish this story?",confirm_duplicate:"Duplicate this story?",confirm_restore:"Restore story to the selected version? A snapshot will be created, so that you can roll back later.",depublish:"Unpublish story",duplicate:"Copy Story",edit:"Edit",edit_config:"Edit configuration",edit_revision:"Edit",editor:"Editor",editor_hint:"Open editor",embed_code_hint:"Embed the published entry on a website.",entries:"Stories",forever:"(unlimited)",members:"Members",no_members:"No members assigned",no_revisions:"No versions yet",not_published:"Not yet published",password_protected:"Password protected",preview:"Preview",preview_hint:"Open preview",published_forever:"Published",published_revision_legend:"Currently published version",published_until:"Published until %{published_until}",remove:"Remove",remove_logo:"Remove logo",restore:"Restore",revision_created_with:{auto:"Automatic snapshot",publish:"Publish",restore:"Automatic snapshot",user:"Manual snapshot"},revision_created_with_hint:{auto:"This version was automatically saved",publish:"This version has been published",restore:"This version has been automatically saved before an resrore was made",user:"This version was manually saved"},show:"View",show_public:"Public",show_public_hint:"Visit public page",snapshot:"Save current version",title_hint:"This field determines the URL for this story."},entry:{add:"Add Entry",none_addable_tooltip:"No entry available"},features:{states:{
"default":"Default (%{inherited})",disabled:"Disabled",enabled:"Enabled",undefined:"(Default)"}},folders:{all:"All",confirm_destroy:"Delete folder? Note: Containing stories will be preserved.",destroy:"Delete",edit:"Edit"},memberships:{on_account:{role:{hint_html:"You can assign roles on individual entries of this account to a <strong>Member</strong>.<br>A <strong>Previewer</strong> can additionally preview all entries of this account.<br>An <strong>Editor</strong> can additionally edit all entries of this account.<br>A <strong>Publisher</strong> can additionally publish all entries of this account.<br>A <strong>Manager</strong> can additionally set user roles on all entries of this account and edit them."}},on_entry:{role:{hint_html:"A <strong>Previewer</strong> can preview this entry.<br>An <strong>Editor</strong> can additionally edit this entry.<br>A <strong>Publisher</strong> can additionally publish this entry.<br>A <strong>Manager</strong> can additionally set user roles on this entry and edit them."}}},resource_tabs:{account_editor_hint:"Users who are assigned on an account level are not listed here",accounts:"Accounts",entries:"Stories",features:"Features",members:"Members",revisions:"Versions",users:"User"},revisions:{published_until_hint:"Leave blank to publish indefinitely."},themings:{additional_cnames_hint:"Comma separated list of additional CNAMES. Used only to select the correct redirect URL.",cname_hint:"For social sharing",default_author_hint:"Default 'author' meta field for entries",default_keywords_hint:"Default 'keywords' meta field for entries",default_publisher_hint:"Default 'publisher' meta field for entries",home_url_hint:"Used for requests to the root path with one of the above CNAMES. Default target location for the home button.",name:"%{account_name}",remove_logo:"Remove logo",show:"View"},user:{none_addable_tooltip:"No user available"},users:{account:"Profile",accounts:"Accounts",add:"Add user",add_entry:"Add story",confirm_delete:"Delete this user? This action cannot be undone.","delete":"Delete",delete_account_membership_confirmation:"Really delete the account membership of this user?\n\nCAUTION: All of the user's entry memberships in this account are also deleted.",delete_entry_membership_confirmation:"Really delete the entry membership of this user?",delete_me:{cancel_label:"No, do not delete my account!",delete_label:"Delete account",warning_html:"Please enter your current password to confirm deletion of your account. <b>All data will be deleted. This action cannot be undone.</b>"},deleted:"This user was deleted.",edit:"Edit",edit_role:"Edit Role",email_invitation_hint:"The user will be invited to choose a password.",empty:"This user has no associated stories. ",invite_user:"Invite user",me:{change_password_hint:"Leave blank to keep your current password.",delete_account:"Delete account",delete_account_hint:"You don't want to continue using Scrollytelling?",deleted:"Your account has been deleted. You may sign-up for a new one at any time!",updated:"Your profile has been updated."},member_exists:"A user with the given email address is already member of the account.",member_exists_link:"View user",no_accounts:"No members",no_entries:"No stories",none:"There are no stories.",resend_invitation:"Resend invitation email",resent_invitation:"The invitation email has been resent.",roles:{account_manager:"Account-Administrator",accounts:{tooltip:{editor:"Can edit entries of this account",manager:"Can set roles on this account",member:"Can be assigned roles on entries of this account",previewer:"Can preview entries of this account",publisher:"Can publish entries of this account"}},admin:"System-Administrator",editor:"Editor",entries:{tooltip:{editor:"Can edit this entry",manager:"Can set roles on this entry",previewer:"Can preview this entry",publisher:"Can publish this entry"}},manager:"Manager",member:"Member",own_account_role:{tooltip:{editor:"You can edit entries in this account",manager:"You can manage user and entries in this account",member:"You can be assigned roles on entries in this account",previewer:"You can preview entries in this account",publisher:"You can publish entries in this account"}},own_entry_role:{tooltip:{editor:"You can edit this entry",manager:"You can set roles on this entry",previewer:"You can preview this entry",publisher:"You can publish this entry"}},previewer:"Previewer",publisher:"Publisher"},suspend:"Suspend",suspended:"The user was suspended and will not be able to sign-in again. ",unsuspend:"Unsuspend",unsuspended:"The user was unsuspended.",role_hint:{admin:"Account-Administrators are able to manage all users and stories of their account only. System-Administrators can manage all settings.",others:"Account-Administrators are able to manage all users and stories of their account."}}},audio:{help_entries:{page_type:{menu_item:"Audio",text:"# Audio\n\n*Playing audio-files with controls*\n    \nHere you can combine audio-files with pictures or background videos and\ntext-content. Controls similar to the page type \u201eVideo\u201c\nare shown.  In addition to that you can write a\ndescription into an \u201eInfobox\u201c.\n\nExamples of application: interviews, direct quotes, music"}},open:"Play audio",page_type_category_name:"Media",page_type_description:"Audio player with controls",page_type_name:"Audio"},auto_change_page:{feature_name:"Automatic Page Change"},background_image:{help_entries:{page_type:{menu_item:"Background Image/Video",text:"# Background Image/Video\n\nFull-screen image or video loop and text\n\nBy using the page type \u201eBackground-Image/Video\u201c, large pictures\nor video loops are the background for the text and are paired with a\nmanually adjustable color gradient for an optimal\nlegibility. In order to have an optimal presentation on\nmobile devices you can adjust the image detail to the\ndisplay. Optionally the text color can be inverted. This\nis especially useful for bright background-images.\n\nUsers are able to hide the color-gradient and text in\nthe front-end, if they want to have a view of the\nbackground image or video.\n\nExamples: Presentation, part of a picture gallery,\nportrait"}},page_type_category_name:"Basic",page_type_description:"Fullscreen image or video loop with text",page_type_name:"Background image/video"},chapter_hierachy:{feature_name:"Chapter Hierachy"},common_page_attributes:{background_type:{inline_help:"The page background can either display an image or a video loop.",label:"Background type",values:{image:"Image",video:"Video loop"}},mobile_poster_image_id:{inline_help:"Displayed instead of the the background video loop on mobile devices."},poster_image_id:{inline_help:"Displayed before the videos starts"}},common_page_link_attributes:{label:{inline_help:"Choose a label to recognize the link within the overview. This label is for your orientation only and will not be displayed to the reader.",label:"Label"},page_transition:{inline_help:"Choose the animation, that will be used to transition to the link's target page.",label:"Page transition"},target_page_id:{inline_help:"Users will get to this page when clicking the link.",label:"Target page"}},config:{text_track_kind:{captions:"Audio Replacement Text Track",descriptions:"Image Description Text Track",subtitles:"Translation Text Track"}},default_theme:{name:"Default"},delayed_text_fade_in:{feature_name:"Delayed text fade in"},devise:{mailer:{reset_password_instructions:{ignore_hint:"Please ignore this mail If you have not requested a password reset. Your password will not be changed in this case.",instruction:"Somebody recently asked to reset your Scrollytelling password. Click here to change your password.",salutation:"Hello %{first_name}"}}},edit_locks:{break_action:{acquire:"Continue here",aquire:"Continue here"},errors:{held_by_other_session_error:{acquire_html:"<p>This story is already open in another editor window.</p>",other_html:"<p>This story is already open in another editor window. Please reload this page and click on the 'Continue here' button.</p>\n<p>If you continue working without reload, data loss may occur.</p>",aquire_html:"<p>This story is already open in another editor window.</p>"},held_by_other_user_error:{acquire_html:"<p><strong>%{user_name}</strong> is currently working on this story or has left the editor window open. Click 'Continue here' to take over.</p>",other_html:"<p><strong>%{user_name}</strong> has ended your editor session. Please reload the page and click 'Continue here' to view the current version.</p>",aquire_html:"<p><strong>%{user_name}</strong> is currently working on this story or has left the editor window open. Click 'Continue here' to take over.</p>"},not_held_error:{other_html:"<p>Your editor session has been ended from another session. Please reload the page and click 'Continue here' to view the current version.</p>"}},required:"This action cannot be executed because this story has been opened in another editor session.",required_but_held_by_other_user:"This action cannot be executed because this story has been opened by another user."},editor:{atmo:{disabled:"Atmo disabled"},blank_entry:{create_chapter:"Click <em>New chapter</em> to create your first chapter.",create_page:"Use the <em>New page</em> button within the chapter to add pages.",edit_page:"Click directly on a page to switch to the pages edit view.",header:"This is an empty story",intro:"Each story consists of chapters and pages. The editor panel to your right shows the outline of your story.",outro:"In this area, a live preview will be shown."},entries:{unsupported_browser_hint:{message:"The Pageflow editor does not support the browser version you are using. We recommend upgrading your browser to the most recent version."}},errors:{UnmatchedUploadError:"This filetype is not supported.",invalid_nested_type_error:"Error: Upload file '%{name}' is a %{type}. Only the following types of files are allowed: %{validList}",nested_type_error:"Error while uploading '%{name}': %{type} cannot be uploaded as independent files. Use the settings menu for a file of the following type: %{validList}",unknown:"A unknown error has occurred.",unmatched_upload_error:"No matching file type found for upload '%{name}' of type '%{type}'.",upload:{type_empty:"none"}},file_settings_dialog:{tabs:{video_settings_tab:"Video Details"}},files:{common_attributes:{alt:{inline_help:"A hint describing the contents of the displayed element. Not displayed in the entry, but can be used by screen reader software. Improves accessibility of the content.",label:"Alt-Text"},file_name:{column_header:"File name",label:"File name"},original_url:{label:"Original"},rights:{cell_title:{blank:"Still blank",present:"Present: %v{value}"},column_header:"Rights",inline_help:"Displayed in copyright area of entry.",label:"Rights"},text_tracks:{label:"Subtitles"}},settings_dialog_tabs:{general:"Meta data",text_tracks:"Text tracks"},stages:{encoding:{action_required:"Confirmation required.",active:"Encoding in progress.",failed:"Encoding failed.",finished:"Encoding was successful.",pending:"Encoding pending."},fetching_meta_data:{active:"Fetching metadata.",failed:"Metadata failure.",finished:"Metadata successfully fetched.",pending:"Metadata polling pending."},processing:{active:"Processing.",failed:"Processing failure.",finished:"Processing successfully finished.",pending:"Processing pending."},uploading:{active:"Upload in progress.",failed:"Upload failure.",finished:"Successfully uploaded.",pending:"Upload pending."},uploading_to_s3:{active:"Transfering to S3.",failed:"Transfer to S3 failed.",finished:"Successfully transferred to S3.",pending:"Transfer to S3 pending."}},tabs:{audio_files:"Audios",image_files:"Images",video_files:"Videos"}},nested_files:{text_track_files:{"delete":{cell_title:"Delete text tracks",column_header:" "},file_name:{inline_help_html:"<ul><li>If the pattern of the file name resembles <strong>dateiname.wx_YZ.vtt</strong>, Pageflow will identify the language code, in this example <strong>wx</strong>.</li><li>An <strong>example</strong> for English (en) is <strong>subtitles.en_GB.vtt</strong>.</li></ul>"},kind:{cell_title:{captions:"Audio Replacement Text Track",descriptions:"Image Replacement Text Track",subtitles:"Translation Text Track"},column_header:"Kind",inline_help_html:"<ul><li><strong>Audio Replacement Text Tracks</strong> are meant for users who understand a text track better than an audio track.</li><li><strong>Translation Text Tracks</strong> are meant for users who understand another language better than the language used in the audio track.</li><li><strong>Image Replacement Text Tracks</strong> are meant for users who understand a text track better than a video track. Image Replacement Text Tracks are often read aloud to the user by screen reading software supplied by the user.</li></ul>",label:"Kind"},label:{column_header:"Label",inline_help:"For display in the text track picker as part of the media player",label:"Label"},no_files_blank_slate:"Currently, there are no text tracks for this file.",srclang:{cell_title:{blank:"Not yet entered",present:"Entered: %{value}"},column_header:"Language",inline_help_html:"<ul><li>The language used in a text track is specified as a two letter code according to ISO 639.1.</li> <li><strong>Examples:</strong> 'en' for English or 'fr' for French.</li> <li>Language codes are often given on the Wikipedia page of a language.</li></ul>",label:"Language"}}},quotas:{loading:"Checking quotas..."},templates:{back_button_decorator:{outline:"Outline"},background_positioning:{cancel:"Cancel",close:"Close",help:"In order to have an optimal presentation on mobile devices you can adjust the image detail to the display.",preview_title:"Preview",previews:{banner:"Banner",ratio16to9:"16:9 Landscape",ratio16to9Portrait:"16:9 Portrait",ratio4to3:"4:3 Landscape",ratio4to3Portrait:"4:3 Portrait"},save:"Save",title:"Adjust position"},change_theme_dialog:{close:"Close",header:"Themes",preview_header_prefix:"Preview",preview_header_suffix:"-Theme"},chapter_item:{new_page:"New page",save_error:"Errors were detected while saving this chapter."},confirm_encoding:{all_released:"All files have been scheduled for encoding. ",audios_tab:"Audios",confirm_button:"Encode selected files",link_to_progress:"The %{link} page shows encoding progress.",manage_files:"Manage files",videos_tab:"Videos"},confirm_upload:{close:"Cancel",edit_file_header:"Meta data",header:"Add files",hint:"Edit the files' meta data, then start the upload.",upload:"Start upload"},confirmable_file_item:{remove:"Remove"},edit_chapter:{destroy:"Delete",outline:"Outline",retry:"Retry",save_error:"Errors were detected while saving this chapter."},edit_entry:{close:"Close",manage_files:"Manage files",metadata:"Title and options",publish:"Publish",save_error:"There were errors while saving metadata.",new_chapter:"New chapter",outline:"Outline"},edit_meta_data:{outline:"Outline",retry:"Retry",save_error:"There were errors while saving metadata."},edit_page:{destroy:"Delete",outline:"Outline",retry:"Retry",save_error:"There were errors while saving page."},edit_page_link:{back:"Back",destroy:"Delete"},edit_storyline:{destroy:"Delete",outline:"Outline",retry:"Retry",save_error:"Errors were detected while saving the storyline."},edit_widget:{back:"Appearance"},embedded:{page_link:{reset:"Reset"}},file_item:{cancel:"Cancel",confirm:"Confirm",credits:"Credits",destroy:"Delete",download:"Download",retry:"Retry",select:"Select",settings:"Settings",source:"Source"},file_meta_data_item_value_view:{edit:"Edit"},file_settings_dialog:{close:"Close"},files:{back:"Back"},files_blank_slate:{no_files:"There are no files of this type, yet. You can upload one to get started."},files_explorer:{cancel:"Cancel",ok:"Ok",reuse_files:"Reuse files from other stories"},files_explorer_blank_slate:{choose_hint:"Please choose a story."},files_gallery_blank_slate:{no_files:"This story does not contain any files of this type."},help:{close:"Close",title:"Help"},help_button:{open_help:"Open help"},inputs:{reference:{edit:"Edit",reset:"Reset"}},list_blank_slate:{text:"(No items)"},list_item:{edit:"Edit",remove:"Delete"},loading:{loading:"Loading..."},locked:{close:"Close editor",loading:"Loading story. Please wait...",open_here:"Continue here"},notification:{approve_files:"%{num_files} files awaiting confirmation for the encoding process.",retry:"Retry",save_error:"There were errors while saving changes.",saved:"All changes have been saved.",saving:"Saving changes...",show:"Show",upload_pending:"Uploads pending."},other_entries_blank_slate:{none_available:"There are no other stories yet"},page_item:{save_error:"There were errors while saving page."},page_link_item:{edit:"Edit page",remove:"Delete"},page_links:{add:"Add",label:"Linked pages"},page_selection:{cancel:"Cancel",ok:"OK",title:"Select target page"},publish_entry:{already_published_with_password_help:"This entry is already published with a password. Leave password field blank to keep the previous password.",already_published_without_password_help:"This entry is published without a password at the moment. Setting a password will prevent public access from now on.",date:"Date",files_pending_notice:"Please wait until all files have been processed and check the results. You may then publish your story.",not_published_notice:"This story is currently not published.",password:"Password",password_help:"Restrict access to the published version of this entry. Visiters will have to enter a password.",password_protected:"Protect with Password",previously_published_with_password_help:"This entry was published with a password before. Leave password field blank to keep the previous password.",publish:"Publish",publish_current:"Publish current version",publish_success:"Your story has been sucessfully published.",published_notice:"A version of this story is currently published.",published_url_hint:"It can be accessed using following URL:",show_files:"Show files",time:"Time",unlimited:"indefinitely",until_including:"Until including",user_name:"User name",view_revisions:"View versions"},select_button:{select:"Select"},storyline_outline:{header:"Outline",new_chapter:"New chapter"},storyline_picker:{add:"Add",edit:"Edit settings"},text_tracks:{edit_file_header:"Metadata",upload:"Add"},theme:{use:"Use"},widget_item:{settings:"Settings"}},text_track_files:{label_missing:"(Label missing)",srclang_missing:"(Missing)"},themes:{header:"Themes"},views:{chapter_item_view:{chapter:"Chapter",unnamed:"(New chapter)"},edit_chapter_view:{confirm_destroy:"Really delete this chapter including ALL its pages?\n\nThis operation cannot be undone."},edit_entry_view:{cannot_publish:"You do not have sufficient rights to publish this entry."},edit_page_link_view:{default_page_transition:"(Default)"},edit_page_view:{confirm_destroy:"Really delete this page?"},edit_storyline_view:{cannot_destroy:"Only empty storylines can be deleted.",confirm_destroy:"Really delete storyline",default_parent_page_transition:"(Default)"},editor_views:{files_pending_warning:"You are currently uploading files. All uploads will be canceled if you leave this page.",hide_editor:"Hide editor panel",resize_editor:"Resize editor panel",show_editor:"Show editor panel"},entry_preview_view:{scroll_hint:"Scroll down to continue"},file_meta_data_item_value_view:{blank:"-"},files_view:{add:"Add",reuse:"Reuse",upload:"Upload"},filtered_files_view:{banner_prefix:"Active filter:"},inputs:{file_input:{auto_default_text_track:"(Auto)",default_text_track:"Default texttrack:",edit_background_positioning:"Adjust field of view...",edit_file_settings:"File settings...",no_default_text_track:"(None)"},reference_input_view:{choose:"Edit",none:"(None)",unset:"Reset"},theme_input_view:{choose:"Change theme"}},page_item_view:{unnamed:"(New page)"},page_link_item_view:{no_page:"(No page)",unnamed:"(No title)"},storylines_picker_view:{label:"Storyline",without_parent_page:"Without parent page"}}},entry:{duplicated_title:"Copy of %{title}"},help_entries:{atmo:{menu_item:"Atmo Audio",text:"# Atmo Audio\n\nThis feature lets you add background audio to every page regardless of its page type. You can define if a sound should play only for one page or continue playing for more pages without interruption. Simply select the same atmo audio file for some adjacent pages.\n\nThat way chapters can be seperated acoustically and pages that belong together can be weaved to a stronger unit.\n\nFor the page type \u201eVideo\u201c there is a special option to pause background audio or continue at lower volume while the video is playing.\n\nYou find the atmo settings on the \u201eOptions\u201c tab of each page.\n\nShould you ever feel distracted by the atmo audio while working on your entry, you can use the hot key \u201eAlt + a\u201c to temporarily mute it. Simply press \u201eAlt + a\u201c again to reactivate atmo audio."},files:{menu_item:"Manage Files",text:"# Manage Files\n\nScrollytelling processes all major media formats (photo, audio,\nvideo) and converts them into different formats and\nqualities. The system adapts the quality of the media to the\ninternet connection and the end device of the user\nautomatically. In principle the files should be uploaded in\nthe optimal resolution and not be compressed beforehand. In\norder to have a well-structured work-flow, it is helpful to\nstore all audio-files, background-video-loops, movies,\npictures and texts in the required version in a separate\nfile on your computer.\n\n## Upload and Manage Files\n\nThe menu item \u201eManage Files\u201c leads to the files, which have\nalready been uploaded. If you click \u201eAdd more\u201c and \u201eUpload\u201c\nyou can add more files.\n\nAfter you have uploaded the files, they are processed on the\nserver. This can take a few minutes - especially if the\nvideos are long. Click on the thumbnail of a file, in order\nto see its status. Moreover you can see the general features\nlike the size of the picture or length of an audio-file and\nyou can download the original file.\n\nThe files can already be used before the process is\nfinished. You can therefore continue your work during the\nloading process.\n\n## Copyrights of Files\n\nIf you click on the thumbnail of a media file (picture,\nvideo, audio), you can add information with regards to its\ncopyright. This information is shown automatically in the\nlegal notice.\n\n## Reuse Files\n\nVideos, audio files and pictures can be used in more than\none article. Thus, videos, for example, do not have to be\nuploaded several times. Click on \u201eManage Files\u201c and on\n\u201eAdd\u201c/\u201eReuse\u201c, to search for files in other articles and add\nthem to a new one.\n"},meta_data:{menu_item:"Title and Options",text:"# Title and Options\n\n## General\n\n### Title of the story\n\nHere you can choose a title for your story. It will be\nshown on the title bar of the browser window. It also acts\nas an indicator for search engines once the report is\npublished.\n\n### Language\n\nDecide in which language your story should be\ndisplayed. This refers to text which cannot be edited - like\nmultimedia tips, scroll-indicators, the overview and the\nlegal notice.\n\n## Appearance\n\n### Multimedia tips before the start\n\nDecide if tips or advice should be shown at the beginning of\nyour story.\n\n### Highlighting chapter beginnings\n\nThis option lets the title of the first page of a chapter\nappear in a bigger font.\n\n### Highlighting new pages\n\nAt the beginning of a story an info-box shows new pages\nthat were created since the last visit.\n\n### Display Home-Button\n\nYou can have a button in the navigation, which hyperlinks to\nan external website, for example back to the website from\nwhich you hyperlinked to the story.\n\n### Navigation\n\nChoose between two forms of navigation: The navigation with\na progress bar or the navigation with thumbnails. Please\nnote, that due to the lack of space on mobile devices only\nthe icon \u201eOverview\u201c is shown.\n\n## Social\n\n### Social Sharing Picture\n\nChoose a picture, which should be shown, if your story is\nshared in social networks.\n\n### Summary\n\nHere you can write a description, which is shown, when your\nstory is shared in social networks.\n"},outline:{menu_item:"Chapters and Pages",text:"# Chapters and Pages\n\nA story consists of at least one chapter with at least\none page. You can create as many chapters and pages as you\nwant. In order to create content, click:\n\n1. \u201eNew Chapter\u201c to create a new chapter,\n2. \u201eNew Page\u201c to add a page,\n3. onto the new page, in order to edit the content.\n\n## Structuring Chapters\n\nYou can structure the composition of your story with\nchapters - e.g. thematically or chronologically . The\nchapters are shown in the overview and help the users find\ntheir way around. It is therefore advisable to give each\nchapter a title.\n\nIf you create an unnamed chapter, Scrollytelling acts as if there\nis no structure of chapters. The chapter and the title of\nthis chapter are consequently not shown in the\noverview/navigation."},overview:{menu_item:"Overview",text:"# Overview\n\nThis is Scrollytelling\u2019s editing platform. The division of the\nscreen into two allows you to edit your story and see a\npreview at the same time. The editor shows modifications and\nnewly selected files directly and saves them automatically.\n\nThe sidebar can be hidden or shown. You can change the size\nof the preview-window by pulling the sidebar to the right or\nthe left. If the preview-window is long and narrow like \xb4 a\nsmartphone, you will only be able to see the \u201eoverview\u201c icon\nand not the entire navigation. This is due to lack of space.\n\nThe navigation is divided into four parts:\n\n## Title and Options\n\nUnder \u201eTitle and Options\u201c you can set up basic appearance\nparameters as well as the title, language and legal\nnotice. You can also decide which content should be\ndisplayed when sharing the report on social media platforms.\n\nFor more details see: [Title and Options](#pageflow.help_entries.meta_data)\n\n## Manage Files\n\nUnder \u201eManage Files\u201c you can upload your media files, which\nyou want to use in your stories. Furthermore you can reuse\nvideos, photos and audio-files that have already been\nuploaded.\n\nFor more details see: [Manage Files](#pageflow.help_entries.files)\n\n## Outline\n\nVia the \u201eOutline\u201c you can add chapters and pages - the\nactual content. Per Drag and Drop you can resort the pages\nand chapters any time.\n\nFor more details see: [Chapter and Pages](#pageflow.help_entries.outline)"},page_options:{menu_item:"General Page Options",text:"# General Page Options\n\n### Title\n\nHere you can add the title of a particular page. This\ntitle is not only the headline of the text on the page, it\nalso functions as the title in the navigation and\noverview. If a single page is shared in social networks,\nthis title is also the title of the social media post.\n\n### Hide the title\n\nOptionally you can hide the title. Thus the title is not shown as the\nheading of the text body. For the identification of the page it\nremains visible in the navigation, overview and on social media posts.\n\n### Tagline and Subtitle\n\nHere you can optionally enter a tagline and/or a\nsubtitle. If you click on \u201eHide title\u201c the tagline and\nsubtitle are not shown either.\n\n### Text\n\nThe text-block can be formatted with the buttons underneath\nthe input field. [B= bold / I=italic / U=underlined /\ninfinity symbol= Link/URL to an external website]\n\nAll changes are visible in the left front-end-view as soon\nas you leave the appropriate input field in the editor.\n\n### Textposition\n\nDecide if the text should be shown on the left or right side.\n\n### Opacity of the gradient\n\nThe opacity of the gradient improves the legibility of\nthe text on background-videos or pictures.\n\nYou can use the slider to darken or lighten up the\nbackground until the contrast between text and background is\noptimal.\n\n### Invert colors\n\nIf you invert the colors, \u201ebright\u201c and \u201edark\u201c are\ninterchanged. Thus the normally white font changes into\nblack.\n\nA general rule: Bright font for dark pictures, dark font for\nbright pictures.\n\n### Thumbnail\n\nThe thumbnail replaces the automatically generated\npreview-picture in the navigation and overview.\n\n### Display in navigation\n\nIf this option is not taken, the particular page is not\nrepresented in the navigation and therefore cannot be\nreached through it.  You can use this option if a page is\nsupposed to read more like a subpage of another page.\n\n### Transition effect\n\nThere are different scroll effects, which are visible when users enter or leave pages. You can use vertical transitions like \u201ecrossfade\u201c or \u201ecut\u201c or \u201eFade to black\u201c. Besides this you also can choose horizontal scrolling from right or left. You can determine which effect should be used for each individual page.\n\n### Fade in text after delay\n\nDefine whether text and gradient of a page should appear with a delay. \nUsers will first see the background image, then title, tagline and subtitle until finally the content text will be displayed.\n\nThere are three different durations of delay: short = 1 second, medium = 3 seconds, long = 5 seconds.\n\nThis feature fits best for intros or beginnings of chapters.\n\n### Description for the overview\n\nYou can enter a text, which appears when the user navigates\nwith the mouse over the particular page. This text matches\nwith the mouse-over-text for the page-type \u201ePage References\u201c\nas well as with the text, which appears when you share the\nstory in social networks."},page_types:{menu_item:"Page Types",text:"# Page Types\n\nBy choosing the page type, you determine what type of media\nfiles are used for which page. For each type of page you can\nuse different settings.  For further information please\nclick on a page type on the left column.\n"},publishing:{menu_item:"Publishing",text:"# Publishing\n\nClick on the \u201ePublish\u201c button to publish your story. A\nstory can be published at any point in time. \n\nBesides this, there is the possibility to publish stories with \na password protection. Just activate \u201eProtect with password\u201c. \nScrollytelling uses the name of the account as user name and \nautomatically generates a password, which can be changed afterwords. \n\nAlready published stories can also be protected with a password by \npublishing another version - the other way round works as well. \nFor this please just click on the \u201ePublishing\u201c button. The following \nsteps will then be shown and explained within the dialog window.\n\nPublished\nStories can also be unpublished manually at any time. If a\nstory has already been published, changes will not be\nshown until you publish your report again.  A story can\nonly be edited by one author at one time.\n\nThumbnail for embedding the story on external websites\nAfter publishing your story, the system generates a\nthumbnail, which can be embedded as an iframe to the\nhyperlink of another website. By means of the code, the size\nof the iframe can be adjusted. The minimum size is a height\n150px and a width of 220px."},storylines:{menu_item:"Storylines",text:"# Storylines\n\nBesides the linear narrative form from \u201etop to bottom\u201c, additional storylines and excursions can be used to tell further aspects of a story. For this create a new \u201einternal link\u201c page and connect these links to a new storyline. Thereby you can choose at which page such a branch will lead back to the main storyline or even links to another part of a story. \n\nCreate these storylines within the \u201eOutline\u201c by clicking on the plus-button next to the storyline menu. A new chapter will then be added in which you have to create the new pages of your excursion. For every storyline a \u201eParent page\u201c can be chosen, to where a user will be led, when he scrolls at the end of a storyline. Define this target page by clicking on the pen symbol.\n\n*Notice: Only the chosen storyline will be shown while editing it. Click the menu \u201eStoryline\u201c to go back to the other chapters.*"},text_tracks:{menu_item:"Text tracks",
text:'# Text tracks\n\nText tracks can be added to video and audio files. Open the\nfile setting dialog of a video or audio file by clicking the\nfiles\'s "Settings" button in the "Manage files" view and\nswitch to the "Text tracks" tab.\n\nHere you can upload SRT or VTT text track files. Each text\ntrack has a language, kind and label attribute. The label is\ndisplayed to the user in the subtitles menu on video and\naudio pages.\n\nIf a video or audio file has text tracks, the user can\nchoose to activate them on video or audio pages. Please note\nthat text tracks will not be displayed when a video plays as\na loop in the page background or when an audio file is used\nas background atmo.\n\n## Automatic subtitles\n\nThe selection made by the user in the subtitles menu on\nvideo or audio pages is stored between pages and\nsessions.\n\nBy default the option "Auto" is selected in the subtitles\nmenu. A text track to display is then choosen automatically\naccording to the following rules:\n\n\n* If a file has a text track of kind "translation" in the\n  language of the entry, it is displayed as subtitle\n  automatically. This is meant for people who are able to\n  understand the language of the entry, but not the language\n  spoken in the video or audio.\n\n* If instead the file has a text track of kind "audio\n  replacement", it is displayed automatically if the volume\n  has been set to mute using the controls in the navigation\n  bar. Please note that for technical reasons it is not\n  possible to detect if the volume has been set to mute\n  outside of the browser or on mobile devices in general.\n\n## Default text track\n\nIf the automatic selection described above does not fit your\nneeds, you can select a default text track for each video or\naudio page. It will be displayed if the user has not\nselected a text track from the subtitles menu.\n\nOpen the files tab of the page and choose a default text\ntrack from the conext menu available via the menu button\ninside the video or audio file field.'},built_in_page_type:{audio:{menu_item:"Audio",text:"# Audio\n\n*Playing audio-files with controls*\n    \nHere you can combine audio-files with pictures and\ntext-content. Controls similar to the page type \u201eVideo\u201c\nare shown.  In addition to that you can write a\ndescription into an \u201eInfobox\u201c.\n\nExamples of application: interviews, direct quotes, music"},audio_loop:{menu_item:"Audio Loop",text:"# Audio Loop\n\n*Playing an audio-loop without control (Ambience)*\n    \nA full-screen photo is shown as a \u201eBackground-Image\u201c. The\ndifference to the normal Audio-Page is that the user\ncannot influence the audio-file by controlling it. Instead\nit is an endless-loop.\n\nTypical examples of application: Ambience, soundscape, field-recordings"},background_image:{menu_item:"Background Image",text:"# Background Image\n\nFull-screen image and text\n\nBy using the page type \u201eBackground-Image\u201c, large pictures\nare the background for the text and are paired with a\nmanually adjustable color gradient for an optimal\nlegibility. In order to have an optimal presentation on\nmobile devices you can adjust the image detail to the\ndisplay. Optionally the text color can be inverted. This\nis especially useful for bright background-images.\n\nUsers are able to hide the color-gradient and text in\nthe front-end, if they want to have a view of the\nbackground-image.\n\nExamples: Presentation, part of a picture gallery,\nportrait"},background_video:{menu_item:"Background Video",text:"# Background Video\n\n*Full-screen video played in a loop without control* \n    \nThis type of page is comparable to \u201eBackground-Image\u201c. But\ninstead of an image, a video is shown in the\nbackground. This video starts automatically and is played\nwithout control. Thus the user cannot influence the start\nand stop of the video. Since the video is played in an\nendless-loop, it should be long enough and it should have\na proper crossover. The same applies to the soundtrack.\n\nAs a hint for the use of Scrollytelling on a smartphone: In\norder to prevent unintended data consumption, the video is\nnot played on smartphones. Instead a poster-image is\nshown, which is generated automatically. You can however\nalso choose the image yourself.\n\nExamples of application: intro, chapter cross-fade,\nambience"},internal_links:{menu_item:"Internal Links",text:"# Internal Links\n\nReferences to other pages inside a story\n\nIn contrast to external link, you can link to pages inside\nyour story. This page type helps you guide your users\nthrough your story.\n\nExamples of application: Welcome page, chapter homepage\n"},video:{menu_item:"Video",text:"# Video\n\n*Playing a video with control*\n    \nIn contrast to \u201eBackground-Videos\u201c the text elements fade\nout after a few seconds, in order to draw attention to the\nvideo. With controls the user can start and pause the\nvideo or even fast-forward and rewind it. You can choose\nwhether the video should start automatically as soon as\nthe page is opened.\n\nAs an alternative to the normal text input, you can write\na description into an \u201eInfobox\u201c with text.\n\nOn the \u201eOptions\u201c tab you can activate auto-scrolling to the next page at the end of a video. \nThis can be useful to create a seamless transition.\n\nExamples of application: Videos of all kinds, interviews,\nportraits"}}},helpers:{entries:{global_links:"Global links",image_rights:"Credits"}},highdef_video_encoding:{feature_name:"Full HD and 4K videos"},invalid_transition:"Invalid transition",languages:{ar:"Arabic",cs:"Czech",de:"German",dk:"Danish",el:"Greek",en:"English",es:"Spanish",fr:"French",fy:"Frisian",hi:"Hindi",it:"Italian",lb:"Letzeburgesch",nl:"Dutch",pl:"Polish",pt:"Portuguese",rm:"Romansh",ru:"Russian",sr:"Serbian",tr:"Turkish",unknown:"(Unknown)",zh:"Chinese"},page_transitions:{crossfade:"Crossfade",cut:"Cut",fade:"Fade",fade_to_black:"Fade to black",scroll:"Scroll",scroll_left:"Scroll left",scroll_over_from_left:"Scroll over from left",scroll_over_from_right:"Scroll over from right",scroll_right:"Scroll right"},quotas:{exhausted:"Quota exhausted"},selectable_themes:{feature_name:"Editor theme selection"},storyline_attributes:{main:{inline_help:"Turns the first page of this storyline into the start page of the entry.",inline_help_disabled:"The first page of this storyline is the start page of the entry.",label:"Main storyline"},navigation_bar_mode:{label:"Navigation bar mode",values:{current_storyline:"Current storyline",inherit_from_parent:"Display parent storyline",non:"Hide"}},page_transition:{inline_help:"By default, comming from the parent page, the first page of the storyline is scrolled in from the right. When clicking the back button, pages of the storyline are scrolled back out to the right. Here you can choose an alternative effect.",label:"Transition effect"},parent_page_perma_id:{inline_help:"The user is redirected to this page when reaching the end of the storyline or when clicking the back button. The parent page settings determine the chapter hierachy. For more information on the chapter hierarchy see the 'Storylines' help topic.",label:"Parent page"},scroll_successor_id:{inline_help:"Page to go to when scrolling down from the last page of the storyline. By default the user is brought back to the storyline's parent page.",label:"Scroll successor"},title:{label:"Title"}},storylines:{feature_name:"Storylines",main:"Main storyline",untitled:"Unnamed storyline"},ui:{configuration_editor:{tabs:{files:"Files",general:"General",links:"Links",options:"Options",social:"Social",widgets:"Appearance",appearance:"Appearance",areas:"Areas",content:"Text area",header:"Title area",topic:"Contents",widget:"Widget"}},inline_help:{"pageflow/chapter":{title:"Will be shown on the overview page."},"pageflow/entry":{author:"The author's name.",credits:"Will be shown in the info box.",emphasize_chapter_beginning:"This option emphasizes the title of the first page of a chapter.",emphasize_new_pages:"At the beginning of a story an info-box shows news pages that were created since the last visit.",home_button_enabled:"Scrollytelling can display a button in the navigation, which hyperlinks to an external website, for example back to the website from which you hyperlinked to the story.",home_button_enabled_disabled:"This option is not available for your theme.",home_url:"URL of your home page. Leave empty to use your accounts default setting.",home_url_disabled:"This option is not available for your theme.",keywords:"Keywords as a suggestion for search engines.",manual_start:"Decide if tips or advice should be shown at the beginning of your story.",overview_button_enabled:"The overview displays chapters and pages of the main storyline.",overview_button_enabled_disabled:"This option is not available for your theme.",publisher:"The publisher's name or company name.",share_url:"URL to share via social media buttons. Leave blank to use URL of published entry.",summary:"Here you can write a description, which is shown, when your story is shared in social networks.",title:"Here you can choose a title for your story. It will be shown on the title bar of the browser window. It also acts as an indicator for search engines once the report is published."},"pageflow/page":{additional_title:"The info box appears close to the player controls.",atmo_audio_file_id:"Choose an audio file, that shall be played in the background. If you want this audio to continue playing on following pages, just choose the same file again there. Not available on mobile devices at the moment.",atmo_during_playback:"Choose which way the atmo shall behave during playback of this page's main media.",delayed_text_fade_in:"Fades in the page contents after a delay such that the background image can be viewed initially.",description:"You can enter a text, which appears when the user navigates with the mouse over the particular page. This text matches with the mouse-over-text for the page-type \u201ePage References\u201c as well as with the text, which appears when you share the story in social networks.",gradient_opacity:"The opacity of the gradient improves the legibility of the text on background-videos or pictures.\n\nYou can use the slider to darken or lighten up the background until the contrast between text and background is optimal.",invert:"If you invert the colors, \u201ebright\u201c and \u201edark\u201c are interchanged. Thus the normally white font changes into black.\n\nA general rule: Bright font for dark pictures, dark font for bright pictures.",mobile_poster_image_id:"This image is used as poster image on mobile devices.",text:"The text-block can be formatted with the buttons underneath the input field. [B= bold / I=italic / U=underlined / infinity symbol= Link/URL to an external website]\n\nAll changes are visible in the left front-end-view as soon as you leave the appropriate input field in the editor.",thumbnail_image_id:"The thumbnail replaces the automatically generated preview-picture in the navigation and overview.\n",transition:"Choose the animation, that will be used when users scroll to this page.",invert_text:"Switches text and background colors",prevent_fullscreen:"Prevents the image from opening fullscreen on click",sticky_inline_image:"The image scrolls with the text but eventually remains at a vertically centered position.",text_coverage:"Determines how much of the title image is visible initially.",text_image_id:"This image is displayed alongside the text.",topasset_dim:"Animate the opacity of the title image while scrolling down.",topasset_parallax:"Translate the title image vertically while scrolling down."},"pageflow/internal_links/page_link":{thumbnail_image_id:"Display image inside of page link box."},"pageflow/external_links/site":{description:"Suggested text length: 220 chars",thumbnail:"Suggested aspect ratio: 16:9"},"pageflow/linkmap_page/area":{inverted:"Display dark pictograms to improve visibility on light backgrounds.",link_title:"The description is displayed inside an overlay when the cursor hovers the hotspot.",marker:"Choose the hotspot's visual appearance. ",mask_perma_id:"Colored area inside mask image which determines the shape of the hotspot.",mask_perma_id_disabled:"Colored area inside mask image which determines the shape of the hotspot. Only available if a mask image has been selected on the hotspot page's 'Files' tab and the panorama type is not 'Hover video'.",name:"Choose a label to recognize the link within the overview. This label is for your orientation only and will not be displayed to the reader.",page_transition:"Choose the animation, that will be used to transition to the link's target page.",target_id:"Object the hotspot links to.",target_type:"Choose the type of object the hotspot is supposed to link to."}},templates:{inputs:{file_input:{edit:"Edit",reset:"Reset",adjust_positioning:"Adjust field of view"},page_reference:{drag_hint:"Drag pages into the preview to create links."},text_area_input:{bold:"Bold",cancel:"Cancel",create_link:"Insert link",italic:"Italic",ok:"Ok",underline:"Underline",url:"URL"},url_display:{link_text:"Download"}}},text_table_cell_view:{empty:"(empty)"},views:{extended_select_input_view:{display_help:"Display help"},inputs:{file_input_view:{none:"(none)"},proxy_url_input_view:{http_error:"The given URL could not be fetched. (The server answered with a HTTP status code ' %{status}')",url_validation:"Checking URL..."},select_input_view:{none:"(none)",placeholder:"Default (%{text})"},text_input_view:{required_field:"Required field"},url_input_view:{required_field:"Required field",supported_vendors:"Following providers are supported:",url_hint:"URL must start with http:// ",url_hint_https:"URL must start with http:// or https://",title:"Alleen URLs van LocalFocus worden ondersteund"}}}},unauthorized:"You are not authorized to view this page.",user_mailer:{invitation:{ending:"Thank you and have fun,",greeting:"Your Scrollytelling Team",instruction:"Welcome to Scrollytelling. Please use the following link to set your personal password. You may use your email address to sign-in. ",salutation:"Hello %{first_name}",subject:"Your Scrollytelling Invitation"}},video:{help_entries:{page_type:{menu_item:"Video",text:"# Video\n\n*Playing a video with control*\n    \nIn contrast to \u201eBackground-Videos\u201c the text elements fade\nout after a few seconds, in order to draw attention to the\nvideo. With controls the user can start and pause the\nvideo or even fast-forward and rewind it. You can choose\nwhether the video should start automatically as soon as\nthe page is opened.\n\nAs an alternative to the normal text input, you can write\na description into an \u201eInfobox\u201c with text.\n\nOn the \u201eOptions\u201c tab you can activate auto-scrolling to the next page at the end of a video. \nThis can be useful to create a seamless transition.\n\nExamples of application: Videos of all kinds, interviews,\nportraits"}},page_attributes:{mobile_poster_image_id:{inline_help:"Displayed on mobile devices before the video starts."}},page_type_category_name:"Media",page_type_description:"Video player with controls",page_type_name:"Video"},widgets:{none:"(none)",roles:{analytics:"Tracking",mobile_navigation:"Mobile navigation",navigation:"Navigation bar",player_controls:"Player Controls",home:"Home button",head:"HTML header widget",overview:"Overview widget"},type_names:{classic_player_controls:"Classic",default_mobile_navigation:"Navigation bar with thumbnails",default_navigation:"Navigation bar with thumbnails",slim_player_controls:"Minimal"}},"public":{_language:"English",audio:"Audio",back:"Back",back_to_chapter:"Back to chapter",before_after:{drag_hint:"Press the left mouse button and move left or right",hint:"Before/after view",leave_view:"Leave before/after view",start:"Start before/after view",start_title:"Start before/after view"},chapter:"Chapter",chart:{toggle:"Toggle"},close:"Close",close_hint:"Close hint",close_navigation:"Close navigation",close_overview:"Close overview",cookie_notice_html:'This website uses cookies. By using our services, you agree to our use of cookies. <a href="%{privacyLinkUrl}" target="_blank">Learn more</a>',deprecated_browser:"<p>Your browser is outdated and this page might not work as intended. We recommend upgrading your browser to the most recent version.</p>",dismiss_cookie_notice:"Hide",embedded_video:{leave_video:"Leave embedded video"},enlarge_view:"Enlarge view",enter_fullscreen:"Enter Fullscreen mode",first_page:"First page",forward:"Forward",fullscreen:"Fullscreen",goto_first_page:"Go to first page",goto_top:"Goto first page",hide_text:"Hide text",home:"Start",imprint:"Imprint",javascript_hint:"This application utilizes JavaScript for enhanced functionality and user experience. Your browser may not support JavaScript or it may be disabled.",languages:{ar:"Arabic",cs:"Czech",de:"German",dk:"Danish",el:"Greek",en:"English",es:"Spanish",fr:"French",it:"Italian",nl:"Dutch",pl:"Polish",pt:"Portuguese",ru:"Russioan",sr:"Serbian",tr:"Turkish",unknown:"(Unknown)",zh:"Chinese"},leave_fullscreen:"Exit fullscreen mode",lets_go:"Let's go",logo:"Logo",media_quality:"Quality",mute_off:"Unmute",mute_on:"Mute",navigate_top:"Goto first page",navigation:"Navigation",new_pages_box:{additional_pages_html:"...and <span></span> more",description:"Since your last visit, pages have been added to this pageflow:",title:"New Pages"},notice:"Notice",open_audio:"Open audio",open_navigation:"Open navigation",open_overview:"Open overview",open_video:"Open video",overview:"Overview",panorama:{close:"Close 360\xb0 panorama and display text",start:"Start 360\xb0 panorama"},play_video:"Play video",privacy_notice:"Privacy notice",scroll_back_indicator:" ",scroll_down:"Scroll down",scroll_hint:"Use the mouse wheel or the arrow keys on your keyboard to navigate between pages.",scroll_indicator:"Scroll to continue",scroll_left:"Scroll left",scroll_right:"Scroll right",scroll_up:"Scroll up",share:"Share",share_on_facebook:"Share on Facebook",share_on_google:"Share on Google+",share_on_twitter:"Share on Twitter",share_this_entry:"This story",share_this_page:"This page",show_home:"Start",show_text:"Show text",skip_links_content:"Goto content",skip_links_navigation:"Goto navigation",skip_links_top_navigation:"Goto main navigation",sound_hint:"This multimedia story format uses video and audio footage. Please make sure your speakers are turned on.",start_audio:"Start audio",start_video:"Start video",swipe_hint:"Swipe to navigate between pages.",swipe_indicator:"Swipe to continue",swipe_to_continue:"Swipe to continue",text_track_modes:{auto:"Auto (%{label})",auto_off:"Auto (Off)",none:"(None)"},text_tracks:"Subtitles",toggle_info_box:"Toggle info box",video:"Video",video_qualities:{annotations:{"4k":"4K",fullhd:"HD",medium:"HD"},labels:{"4k":"2160p",auto:"Auto",fullhd:"1080p",medium:"720p"}},volume:"Volume",vr:{no_vr:{link:"Show video in Youtube app.",text:"360\xb0 videos can't be displayed in your browser."},select_quality:"Choose video quality",start:"Watch 360\xb0 video",start_cardboard:"Start cardboard mode",video_qualities:{"4k":"2160s",fullhd:"1080s",high:"720s"},video_quality_annotations:{"4k":"4K",fullhd:"HD",high:"HD"}}},internal_links:{editor:{templates:{edit_page_link:{back:"Back",destroy:"Delete"},embedded:{grid_page_link:{edit:"Edit",set:"Set"}}},views:{edit_page_link_view:{confirm_destroy:"Really delete this link?",default_page_transition:"Default page transition"}}},grid:{help_entries:{page_type:{menu_item:"Internal Links Grid",text:"# Internal Links Grid\n\nReferences to other pages inside a Pageflow\n\nIn contrast to external link, you can link to pages inside\nyour Pageflow. This page type helps you guide your users\nthrough your Pageflow. \n\nYou can use an image or video for the background.\n\nExamples of application: Welcome page, chapter homepage"}},page_attributes:{linked_pages_layout:{inline_help:"Emphasize one of the thumbnails.",label:"Enlarged element",values:{"default":"(none)",hero_top_left:"Top left",hero_top_right:"Top right"}}},page_type_category_name:"Links",page_type_description:"A grid of thumbnails linking to other pages inside the Pageflow",page_type_name:"Internal Links Grid"},list:{help_entries:{page_type:{menu_item:"Multiple Choice",text:"# Multiple Choice\n\nA collection of links to other pages of the Pageflow displayed as a row of boxes with some text.\n\nYou can use an image or video for the background.\n\nExamples of application: Question/answer page, interactive interview, quiz"}},page_type_category_name:"Links",page_type_description:"Links to other pages as collection of answers",page_type_name:"Multiple Choice"},page_link_attributes:{description:{inline_help:"This text is displayed on the link item.",label:"Description"}}},internal_links_list:{page_type_feature_name:"Multiple Choice Page Type"},external_links:{editor:{templates:{edit_site:{back:"Back",destroy:"Delete",failure:"There was an error while saving the external link.",retry:"Retry"},embedded:{list_item:{open_in_new_tab:"Open in new tab",open_in_new_tab_message:"Opening in same tab is disabled inside the editor"}},inputs:{site_reference:{add:"Add"}},site_item:{failure:"There was an error while saving the site.",select:"Select"},site_reference_item:{edit:"Edit",remove:"Remove"},site_selection:{cancel:"Cancel",title:"Select external site"},sites:{add:"Add"},sites_blank_slate:{text:"There are no sites yet."}},views:{edit_site:{back:"Back",confirm_destroy:"Are you sure you want to delete this site?\n\nAll usages of this site on external link pages will also be removed. This action cannot be undone."},site_item_reference_view:{unknown:"(New site)"},site_item_view:{unknown:"(New site)"}}},help_entries:{page_type:{menu_item:"External Links",text:"# External Links\n\n*Collection of References to Websites outside of Pageflow*\n    \nBesides a standard background-image/video you can embedlinks to external websites, which open in a new window. For each link you can add a title, description and picture. Note: With each link you risk losing the users to the other websites Empirically it is advisable to use external references in the end of the Pageflow.\n\nExamples of application: Consolidation, Resources, Twitter and Facebook feeds, links to  own homepage"},sites:{menu_item:"Manging External Sites",text:"# Manging External Sites\n\nWith \u201eexternal sites\u201c you manage links to external websites, which you want to integrate into your Pageflow. You can choose photos as a teaser and write a description for the links.\n\nThe references are used for the page-type \u201eExternal Links\u201c. External links allow you to explore a topic in more depth.\n\nPlease note, that these links should rather be placed at the end of a Pageflow, because they offer a premature exit from the Pageflow. "}},manage_sites:"Manage external sites",page_type_category_name:"Links",page_type_description:"Allows linking to external websites with a thumbnail and description text.",page_type_help_entry:{title:"External Links: Round off your story with further readings"},page_type_name:"External Links"},linkmap_page:{default_page_transition:"(Default)",editor:{area_types:{audio_file:"Audio file",external_site:"External link",page:"Page link",text_only:"Text only"},templates:{edit_area:{back:"Back",destroy:"Delete"},embedded:{area_item:{hide_marker:"Hide marker",set_mask:"Select mask",show_marker:"Show marker",unset_mask:"Detach from mask"}},file_area_item:{edit:"Edit",remove:"Remove",toggle_marker:"Toggle marker"},file_areas:{add:"Add",label:"Label"},select_area_position_hint:{cancel:"Cancel"}},views:{area_mask_input_view:{present:"(Active)"},areas_list:{add:"Add",label:"Areas"},edit_area_view:{confirm_destroy:"Really delete this area?"},embedded:{area_item:{external_link_disabled:"External links are deactivated inside the editor."}},scaled_on_phone_hint:{orientations:{both:"phones",landscape:"phones in landscape orientation",portrait:"phones in portrait orientation"},text:"The panorama will be scaled on %{orientation} to ensure minimum hotspot size for touch interaction. Increase hotspot size to prevent scaling."},select_area_position_hint:{drag_hint:"Select the hotspot's dimension by clicking and dragging somewhere inside the panorama.",select_mask_hint:"Click on one of the colored areas of the mask image to determine the hotspots shape and position.",select_mask_or_drag_hint:"Click on one of the colored areas of the mask image or select the hotspot's dimensions by clicking and dragging somewhere inside the panorama."}}},errors:{invalid_image_data:"There has been an error while identifying color components. Ensure color areas are bounded inside the image and all other parts of the image are transparent.",loading_remote_image_failed:"Error while loading the image.",mask_image_failed:"There was an error while processing the mask image.",no_big_enough_color_map_components:"No color components identified. Ensure each component is at least 7x7 pixels big.",saving_mask_image_failed:"There has been an error while saving the mask image."},help_entries:{page_type:{menu_item:"Hotspots",text:"# Hotspots\n\nLinks with configurable click areas.\n\nHotspots can play audio files, link to other pages in a Pageflow or to external websites. You can define as many hotspots as you want.\n\nDecide if you want to show a background image or a background video. (Keep in mind, that background videos will not be played on mobile devices, therefore use an additional fallback image for the mobile version)\n\nThe hotspot page type allows to use panoramic images that are wider and taller than the screen-size. It enables users to explore these images by horizontal or vertical scrolling.\n\nTo add a Hotspot just click on \u201eAreas\u201c and choose between \u201eAudio\u201c, \u201eInternal link\u201c, or \u201eExternal link\u201c.\n\nThere are two ways to display hotspot areas:\n\n##  Hotspots as circles\n\nDisplay a white circle whose position and size can be defined by dragging. Click on the eye-symbol button of the corresponding hotspot and move this circle onto the desired position. If you use an audio file, a headphone-symbol will appear within the circle. The size of the symbol depends on the circle\xb4s size. The circle becomes more visible when the cursor moves closer to it.\n\n## Individually designed hotspots\n\nAlternatively, an additional panorama image can be used to determine the look of hotspots when the cursor hovers above them. Two images have to be prepared:\n\n1. An image with all hotspots in an inactive state (e.g. a map with cities represented by black dots)\n2. An image with all hotspots in an active state (e.g. the same map with red dots representing cities)\n\nNow the rectangular hotspot areas are positioned to cover the graphic representations of the hotspots. When the cursor hovers above one of the hotspots, the corresponding part of the hover-image will be displayed inside the hotspot's area. That way the hotspot is displayed in its active state while all others remain inactive.\n\nIt is also possible to use videos instead of images. The following combinations are possible:\n\n1. Background image with hover image\n2. Background video with hover image\n3. Background image with hover video\n\nIf you wish to mark hotspots as \\\"already visited\\\" you can also upload a \u201eVisited-Image\u201c which then shows a certain spot in a different color after visiting the linked page.\n\n## Free form hotspots\n\nIt's not always possible to cover the visual elements of a\npanorama image with rectangular hotspots without creating\noverlapping hotspot areas. For example, trying to turn the\ncountries on a map into clickable areas that change color\nwhen the cursor hovers a country is not possible with a\nsingle hover image: soon as a hotspot is not properly\ncontained inside a county's borders, a part of the\nneighbor country changes its color together with the\nhovered country.\n\nFor cases like this, we can use a so called mask image,\nallowing us to freely determine the shape of our\nhotspots. We need to create PNG image with transparent\nbackground on which the desired hotspot areas are\nrepresented as unicolor areas. The dimensions of the image\nhave to match those of the panorama and hover images.\n\nFor the map example, we could come up with an identically\nproportioned map image, in which each country's shape is\nfilled with a different color leaving oceans and other\nnon-clickable parts transparent.\n\nOnce the map image has been selected, we can not only\ncreate new hotspots by dragging rectangular shapes, but\nalso by clicking on of predefined colored areas given in\nthe mask image.\n\nThe shape of the hotspot corresponds exactly to the\nselected color area. Also when the hotspot is hovered the\nhover image is displayed cropped to that shape.\n\nWhen determining hotspot areas, only the area's color is\ntaking into account: areas do not need to be connected.\n\nHence, turning to the map example one last time, islands\nbelonging to a country can also be highlighted together\nwith the mainland when it is hovered, while the sea\nsurrounding those islands need not be part of the\nclickable area.\n\nImportant: Make sure that anti aliasing is turned off in\nyour image composing application while preparing the mask\nimage. We require a mask image with sharp edges and\nclearly separated areas. Anti aliasing on the other hand\ncreates tiny color gradients which are then treated as\nmultiple pixel sized areas. If an image contains too many\ndifferent color values, trying to select it as a mask\nimage leads to an error message inside the editor.\n\nAt the moment, it is not possible to use mask images in\ncombintation with hover images.\n\n## Text options\n\nBoth of these hotspot types can be entitled and have additional text/description.\nThe description editor contains basic formatting options like bold, italic & underline.\n\n## Atmo options\n\nEvery Hotspot page, can play an additional backround sound that can optionally stop or continue playing (at the same or a lower volume) while an audio-Hotspot is playing.\n\n## Further options\n\nRestrict scrolling to hotspot areas: Only scroll between hotspots.\n\nForce scrolling: Ensure there is a margin which ensures the panorama can be scrolled both vertically and horizontally.\n\nDeactivate scrolling at image border: Do not scroll in panorama view when user moves the cursor.\n\nExamples of application: Menu site, multiple choice, exploration tour"}},manage_sites:"Manage links",page:{scroll_down:"Scroll down",scroll_left:"Scroll left",scroll_right:"Scroll right",scroll_up:"Scroll up"},page_attributes:{add_environment:{inline_help:"Zoom panorama to allow scrolling in both directions.",label:"Ensure scroll margin"},audio_areas:{label:"Audio areas"},background_type:{label:"Panorama type",values:{hover_video:"Background image/hover video",image:"Background image/hover image",video:"Background video/hover image"}},hover_image_id:{inline_help:"A part of this image is displayed inside the area of a hotspot when the cursor hovers it.",label:"Hover image"},hover_video_type:{hover_image_id:{inline_help:"Image to display instead of hover video on mobile platforms",label:"Hover image (mobile)"},panorama_video_id:{inline_help:"A part of this video will be displayed in the area of a hotspot when the cursor hovers it.",label:"Hover video"}},limit_scrolling:{inline_help:"Enable scrolling only if there hotspot areas outside the view port.",label:"Restrict to hotspot areas"},linked_linkmap_page_perma_ids:{label:"Page links"},linkmap_areas:{label:"Link areas"},linkmap_color_map_image_id:{inline_help:"Image with colored areas which determine the shape of hotspots. Further instructions can be found in the help entry of the hotspot page type.",label:"Mask image"},margin_scrolling_disabled:{inline_help:"Do not scroll panorama when the cursor moves.",label:"Disable autoscroll in page margin"},panorama_image_id:{inline_help:"Image to place hotspots on",label:"Panorama image"},panorama_video_id:{inline_help:"Video to place hotspots on",label:"Panorama video"},video_type:{panorama_image_id:{inline_help:"Image displayed instead of panorama video on mobile platforms.",label:"Panorama image (mobile)"}},visited_image_id:{inline_help:"A part of this image is displayed inside the areas of hotspots whose target pages have already been visited.",label:"Visited image"}},page_type_category_name:"Links",page_type_description:"Links with configurable click areas",page_type_feature_name:"Hotspot page type",
page_type_name:"Hotspots"},text_page:{help_entries:{page_type:{menu_item:"Text",text:"# Text Page\n\n*Page for long texts*\n    \nThis page is especially designed for longer bodies of text on a neutral background. It offers  whole range of design options, which are comparable to the classical blog design (parallax) of sites like WordPress or Tumblr.\n\nThere are several options for arranging the title pictures/videos and various ways of embedding another picture into the text body. Pictures within the text can move along with the text or can be fixed to a certain part of the page.\n\nExamples of application: blog article, news article, interview"}},page_type_category_name:"Basic",page_type_description:"Longer texts with a banner image",page_type_name:"Text Page"},embedded_video:{help_entries:{page_type:{menu_item:"Embedded Video",text:"# Embedded Video\n\n*Embeds an external video from Youtube or Vimeo*\n    \nIf you want to use external videos beside your own material, you can embed the video-URL and give it a caption. For technical reasons the video is embedded in a frame, that is fitting only parts of the  screen. You can therefore add a background-image/video, which creates a visual frame. You can use videos from Youtube and Vimeo.\n\nExamples of application: integration of playlists, trailer or short movies"}},page_type_category_name:"Media",page_type_description:"Embed YouTube or Vimeo videos",page_type_name:"Embedded Video"},before_after:{help_entries:{page_type:{menu_item:"Before/After",text:"# Before/After\n\n*Two overlapping pictures, separated through a slider*\n    \nWith the before and after effect two pictures can be put on top of each other. The pictures can be viewed with a slider. This page type makes sense, if you want to compare something. If the angle and sequence match, this it is particularly effective.\n\nExamples of application: now and then, status quo and planned, empty or crowded"}},page_type_category_name:"Interactive",page_type_description:"Two images separated by a slider",page_type_name:"Before/After"},localfocus:{page_attributes:{localfocus_url:{label:"Graph URL",inline_help:"Paste the direct link to the graph here. In LocalFocus, see the \u201cCreate\u201d tab, click _Widget_, then copy the _Direct Link_."}},page_type_feature:{name:"LocalFocus page type"},page_type_name:"LocalFocus",page_type_description:"Embed a LocalFocus chart",page_type_category_name:"Data and Charts",help_entries:{page_type:{menu_item:"LocalFocus",text:"Select this Page Type to embed a [LocalFocus](https://www.localfocus.nl/en/) graph.\n\nLocalFocus lets you create and share animated illustrations for a\nwide range of datasets. [Example](https://localfocus2.appspot.com/551a9626918b3)\n\n### In LocalFocus\n\nTo embed one in a story, first login to LocalFocus and find the\nchart in question. Around half-way on the page you'll see two tabs.\nOne labelled _Explore_ and the other _Create_. Choose Create.\n\nThe sharing options are displayed as red buttons. Choose for\n**Widget** here. Then copy the value of _Direct Link_. You don't\nneed to use the complete Embed code; we take care of that for you.\n\n### In Pageflow\n\nNow onto your story and the Pageflow editor. Login to Pageflow and\nadd a new page. For Page Type, choose _LocalFocus_. Then click the\n_Widget_ tab. Paste the _Direct Link_ into the box. The graph\nshould render in the preview pane on the right."}}},closewindow:{feature_name:"Custom window close widget",widget_type_name:"Press \u201c\xd7\u201d to go Home"},scrollytelling_navigation:{widget_type_name:"Scrollytelling dots with tooltips"},analytics:{amnesty:{feature_name:"Analytics for Amnesty International",widget_type_name:"Amnesty International tracking codes"},beeldengeluid:{feature_name:"Analytics for Beeld en Geluid",widget_type_name:"Beeld en Geluid tracking codes"},blof:{feature_name:"Analytics for BL\xd8F",widget_type_name:"BL\xd8F tracking codes"},concertatsea:{feature_name:"Analytics for Concert at SEA",widget_type_name:"Concert at SEA tracking codes"},destijl:{feature_name:"Analytics for De Schatkamer van De Stijl",widget_type_name:"De Schatkamer van De Stijl tracking codes"},meerveerkracht:{feature_name:"Analytics for Meer Veerkracht, Langer Thuis",widget_type_name:"Meer Veerkracht, Langer Thuis tracking codes"},ed:{feature_name:"Analytics for Ed",widget_type_name:"Ed tracking codes"},ricostickstyphoon:{feature_name:"Analytics for Rico, Sticks en Typhoon",widget_type_name:"Rico, Sticks en Typhoon tracking codes"},"default":{feature_name:"Analytics default (blank)",widget_type_name:"Blank (no tracking codes)"},grasnapolsky:{feature_name:"Analytics for Grasnapolsky",widget_type_name:"Grasnapolsky tracking codes"},nos:{feature_name:"Analytics for NOS",widget_type_name:"NOS tracking codes"},nieuwsuur:{feature_name:"Analytics for Nieuwsuur",widget_type_name:"Nieuwsuur tracking codes"},omroepbrabant:{feature_name:"Analytics for Omroep Brabant",widget_type_name:"Omroep Brabant tracking codes"},psv:{feature_name:"Analytics for PSV",widget_type_name:"PSV tracking codes"},radio1:{feature_name:"Analytics for NPO Radio 1",widget_type_name:"Radio 1 tracking codes"},sbb:{feature_name:"Analytics for Staatsbosbeheer",widget_type_name:"Analytics for Staatsbosbeheer"},stephaniestruijk:{feature_name:"Analytics for Stephanie Struijk",widget_type_name:"Stephanie Struijk tracking codes"},krisberry:{feature_name:"Analytics for Kris Berry",widget_type_name:"Kris Berry tracking codes"},volkskrant:{feature_name:"Analytics for de Volkskrant",widget_type_name:"de Volkskrant tracking codes"}},atmo:{feature_name:"Atmo Audios"},built_in_page_type:{audio:{page_type_category_name:"Audio",page_type_description:"Audio player with controls"},audio_loop:{page_type_category_name:"Audio",page_type_description:"Audio playback in the background without controls"},background_image:{page_type_category_name:"Basic",page_type_description:"Fullscreen image with text"},background_video:{page_type_category_name:"Video",page_type_description:"Fullscreen video loop without controls"},internal_links:{page_type_category_name:"Links",page_type_description:"A grid of thumbnails linking to other pages inside the story"},video:{page_type_category_name:"Video",page_type_description:"Video player with controls"}},anwb_theme:{name:"ANWB"},alab_theme:{name:"A Lab"},amnesty_international_theme:{name:"Amnesty International"},beeldengeluid_theme:{name:"Beeld en Geluid"},blof_theme:{name:"BL\xd8F"},centraalmuseum_theme:{name:"Centraal Museum"},concertatsea_theme:{name:"Concert at Sea"},destijl_theme:{name:"De Schatkamer van De Stijl"},growinghome_theme:{name:"Growing Home"},omroepbrabant_theme:{name:"Omroep Brabant"},paxforpeace_theme:{name:"Pax for Peace"},ed_theme:{name:"Ed van der Elsken"},krisberry_theme:{name:"Kris Berry"},scrollytelling_theme:{name:"Scrollytelling"},nos_theme:{name:"NOS"},nieuwsuur_theme:{name:"Nieuwsuur"},meerveerkracht_theme:{name:"Meer Veerkracht"},humanrightswatch_theme:{name:"Human Rights Watch"},radio1_theme:{name:"Radio 1"},grasnapolsky_theme:{name:"Grasnapolsky"},volkskrant_theme:{name:"de Volkskrant"},phtgrphr_theme:{name:"Phtgrphr"},psv_theme:{name:"PSV"},ricostickstyphoon_theme:{name:"Rico, Sticks en Typhoon"},sbb_theme:{name:"Staatsbosbeheer"},stephaniestruijk_theme:{name:"Stephanie Struijk"},uaf_theme:{name:"UAF"},waddenzee_theme:{name:"Waddenzee"},worldpressphoto_theme:{name:"World Press Photo"},yip_theme:{name:"Young in Prison"},zevensloten_theme:{name:"Zeven Sloten"},hu_theme:{name:"Hogeschool Utrecht"}},views:{pagination:{first:"|<",last:">|",next:">>",previous:"<<",truncate:"..."}},activemodel:{errors:{messages:{invalid:"is invalid",invalid_event:"cannot transition when %{state}",invalid_transition:'cannot transition via "%{event}"'}}},okcomputer:{check:{passed:"%{registrant_name}: PASSED %{message} (%{time})",failed:"%{registrant_name}: FAILED %{message} (%{time})"}},scrollytelling:{navigation:{home:" Home",home_title:"Back to the home page"}}},id:{ransack:{search:"cari",predicate:"predikat",and:"dan",or:"atau",any:"apapun",all:"semua",combinator:"kombinasi",attribute:"atribut",value:"data",condition:"kondisi",sort:"urutan",asc:"ascending",desc:"descending",predicates:{eq:"sama dengan",eq_any:"sama beberapa dengan",eq_all:"sama seluruhnya dengan",not_eq:"tidak sama dengan",not_eq_any:"tidak sama beberapa dengan",not_eq_all:"tidak semua seluruhnya dengan",matches:"mirip",matches_any:"mirip beberapa dengan",matches_all:"mirip semua dengan",does_not_match:"tidak mirip dengan",does_not_match_any:"tidak mirip beberapa dengan",does_not_match_all:"tidak mirip semua dengan",lt:"kurang dari",lt_any:"kurang beberapa dengan",lt_all:"kurang seluruhnya dengan",lteq:"kurang lebih",lteq_any:"kurang lebih beberapa dengan",lteq_all:"kurang lebih semua dengan",gt:"lebih besar daripada",gt_any:"lebih besar beberapa dengan",gt_all:"lebih besar semua dengan",gteq:"lebih besar atau sama dengan",gteq_any:"beberapa lebih besar atau sama dengan",gteq_all:"semua lebih besar atau sama dengan","in":"di",in_any:"di beberapa",in_all:"di semua",not_in:"tidak di",not_in_any:"tidak di beberapa",not_in_all:"tidak semua di",cont:"mengandung",cont_any:"mengandung beberapa",cont_all:"mengandung semua",not_cont:"tidak mengandung",not_cont_any:"tidak mengandung beberapa",not_cont_all:"tidak mengandung semua",start:"diawali dengan",start_any:"diawali beberapa dengan",start_all:"diawali semua dengan",not_start:"tidak diawali dengan",not_start_any:"tidak diawali beberapa dengan",not_start_all:"tidak diawali semua dengan",end:"diakhiri dengan",end_any:"diakhiri beberapa dengan",end_all:"diakhiri semua dengan",not_end:"tidak diakhiri dengan",not_end_any:"tidak diakhiri dengan beberapa",not_end_all:"tidak diakhiri dengan semua","true":"bernilai benar","false":"bernilai salah",present:"ada",blank:"kosong","null":"null",not_null:"tidak null"}},active_admin:{dashboard:"Dashboard",dashboard_welcome:{welcome:"Selamat datang di Active Admin. Ini adalah tampilan standar halaman dashboard.",call_to_action:"Tampilan halaman ini bisa diubah di file 'app/admin/dashboard.rb'"},view:"Lihat",edit:"Ubah","delete":"Hapus",delete_confirmation:"Apakah anda yakin ingin menghapus data ini?",new_model:"Tambah %{model} baru",edit_model:"Ubah %{model}",delete_model:"Hapus %{model}",details:"Detail %{model}",cancel:"Batal",empty:"Kosong",previous:"Sebelumnya",next:"Berikutnya",download:"Unduh:",has_many_new:"Tambah %{model} baru",has_many_delete:"Hapus",has_many_remove:"Hapus",filters:{buttons:{filter:"Filter",clear:"Hapus Filters"},predicates:{contains:"Mengandung",equals:"Sama dengan",starts_with:"Diawali dengan",ends_with:"Diakhiri dengan",greater_than:"Lebih besar dari",less_than:"Lebih kecil dari"}},search_status:{headline:"Status Pencarian:",current_scope:"Scope:",current_filters:"Filter kini:",no_current_filters:"Tidak ada"},status_tag:{yes:"Ya",no:"Tidak"},main_content:"Harap mengimplementasikan %{model}#main_content untuk menampilkan konten.",logout:"Keluar",powered_by:"Dibuat dengan %{active_admin} %{version}",sidebars:{filters:"Filter",search_status:"Status Pencarian"},pagination:{empty:"Tidak ada %{model} yang bisa ditemukan",one:"Menampilkan <b>1</b> %{model}",one_page:"Menampilkan <b>semua %{n}</b> %{model}",multiple:"Menampilkan <b>%{from}&nbsp;-&nbsp;%{to}</b> dari <b>%{total}</b> keseluruhan %{model}",multiple_without_total:"Menampilkan <b>%{from}&nbsp;-&nbsp;%{to} %{model}</b>",entry:{one:"data",other:"data"}},any:"Apapun",blank_slate:{content:"%{resource_name} masih belum ada sama sekali.",link:"Tambah data"},dropdown_actions:{button_label:"Tindakan"},batch_actions:{button_label:"Tindakan Serentak",default_confirmation:"Apakah anda yakin akan melakukan ini?",delete_confirmation:"Apakah anda yakin akan menghapus %{plural_model}?",succesfully_destroyed:{one:"Berhasil menghapus %{model}",other:"Berhasil menghapus %{count} %{plural_model}"},selection_toggle_explanation:"(Tampilkan Pilihan)",link:"Tambah data",action_label:"%{title} terpilih",labels:{destroy:"Hapus"}},comments:{created_at:"Dibuat",resource_type:"Jenis Resource",author_type:"Tipe Penulis",body:"Isi",author:"Penulis",title:"Komentar",add:"Tambah Komentar","delete":"Hapus Komentar",delete_confirmation:"Apakah anda yakin akan menghapus komentar tersebut?",resource:"Resource",no_comments_yet:"Belum ada komentar sama sekali.",author_missing:"Anonim",title_content:"Komentar (%{count})",errors:{empty_text:"Komentar tak bisa disimpan, text tidak boleh dikosongi."}},devise:{username:{title:"Username"},email:{title:"Email"},subdomain:{title:"Subdomain"},password:{title:"Password"},sign_up:{title:" - Daftar",submit:"Daftar"},login:{title:" - Masuk",remember_me:"Ingat saya",submit:"Masuk"},reset_password:{title:" - Form Atur Ulang Password",submit:"Atur ulang password"},change_password:{title:" - Atur Ulang Password",submit:"Kirimkan instruksi pengaturan ulang password"},unlock:{title:" - Kirim Instruksi Pengaktifan Kembali Akun",submit:"Kirimkan instruksi pengaktifan kembali akun"},resend_confirmation_instructions:{title:" - Kirim Lagi Instruksi Konfirmasi Akun",submit:"Kirimkan lagi instruksi konfirmasi akun"},links:{sign_up:"Daftar",sign_in:"Masuk",forgot_your_password:"Lupa password?",sign_in_with_omniauth_provider:"Daftar melalui %{provider}",resend_unlock_instructions:"Kirim instruksi pengaktifan kembali akun",resend_confirmation_instructions:"Kirim lagi instruksi konfirmasi akun"}},unsupported_browser:{headline:"Harap dicatat bahwa ActiveAdmin sudah tidak mendukung InternetExplorer versi 8 atau versi sebelum itu.",recommendation:'Kami sarankan agar anda mengupgrade ke versi <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, atau <a href="https://mozilla.org/firefox/">Firefox</a> yang terbaru.',turn_off_compatibility_view:'Kalau anda menggunakan IE 9 atau yang lebih baru, pastikan anda <a href="http://windows.microsoft.com/en-US/windows7/webpages-look-incorrect-in-Internet-Explorer">mematikan "Compatibility View"</a>.'},access_denied:{message:"Anda tidak diperkenankan melakukan aksi tersebut."},index_list:{table:"Tabel",block:"Daftar",grid:"Grid",blog:"Blog"}},pageflow:{"public":{_language:"Bahasa Indonesia",audio:"Audio",back:"Kembali",back_to_chapter:"Kembali ke bab",before_after:{drag_hint:null,hint:"Paparan sebelum/selepas",leave_view:"Tinggalkan paparan sebelum/selepas",start:"Mulakan paparan sebelum/selepas",start_title:"Mulakan paparan sebelum/selepas"},chapter:"Bab",chart:{toggle:"Alih"},close:"Tutup",close_hint:"Tutup petunjuk",close_navigation:"Tutup navigasi",close_overview:"Tutup ikhtisar",cookie_notice_html:null,deprecated_browser:"Peramban anda sudah usang dan halaman ini mungkin tidak akan berfungsi sebagaimana dimaksud. Sebaiknya upgrade peramban anda ke versi terbaru.",dismiss_cookie_notice:null,embedded_video:{leave_video:"Tinggalkan video tertanam"},enlarge_view:"Perbesar pandangan",enter_fullscreen:"Masuk mode layar penuh",first_page:"Halaman pertama",forward:"Ke depan",fullscreen:"Layar penuh",goto_first_page:"Pergi ke halaman pertama",goto_top:"Pergi ke halaman pertama",hide_text:"Sembunyikan teks ",home:"Mulai",imprint:"Jejak",javascript_hint:"Aplikasi ini menggunakan JavaScript untuk peningkatan fungsi dan pengalaman pengguna. Peramban anda mungkin tidak mendukung JavaScript atau dinonaktifkan.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Keluar mode layar penuh",lets_go:"Ayo",logo:"Logo",media_quality:null,mute_off:"Aktifkan bunyi ",mute_on:"Bisukan bunyi",navigate_top:"Pergi ke halaman pertama",navigation:"Navigasi",new_pages_box:{additional_pages_html:"...dan <span></span> lebih",description:"Sejak kunjungan terakhir anda, halaman baru telah ditambahkan ke Pageflow ini:",title:"Halaman baru"},notice:"Pemberitahuan",open_audio:null,open_navigation:"Buka navigasi",open_overview:"Buka ikhtisar",open_video:null,overview:"Gambaran ikhtisar",panorama:{close:"Tutup panorama 360\xb0 dan tampilan teks",start:"Mulai panorama 360\xb0 "},play_video:"Putar video",privacy_notice:null,scroll_back_indicator:"Gulir kembali",scroll_down:"Gulir ke bawah",scroll_hint:"Menggunakan roda mouse atau tombol panah pada keyboard Anda untuk menavigasi antara halaman.",scroll_indicator:"Gulir ke bawah untuk teruskan ",scroll_left:"Gulir ke kiri",scroll_right:"Gulir ke kanan",scroll_up:"Gulir ke atas",share:"Bagikan",share_on_facebook:"Bagikan di Facebook",share_on_google:"Bagikan di Google+",share_on_twitter:"Bagikan di Twitter",share_this_entry:"Cerita ini",share_this_page:"Halaman ini",show_home:"Mulai",show_text:"Tampilkan teks",skip_links_content:"Pergi ke kandungan",skip_links_navigation:"Pergi ke navigasi",skip_links_top_navigation:"Pergi ke navigasi utama",sound_hint:"Format cerita multimedia ini menggunakan rekaman video dan audio. Pastikan speaker anda diaktifkan. ",start_audio:"Mulai audio sekarang",start_video:"Mulai video sekarang",swipe_hint:"Gesek untuk menavigasi antara halaman.",swipe_indicator:"Gesek untuk teruskan.",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Volume",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},tr:{ransack:{search:"ara",predicate:"do\u011frula",and:"ve",or:"veya",any:"herhangi",all:"hepsi",combinator:"birle\u015ftirici",attribute:"nitelik",value:"de\u011fer",condition:"\u015fart",sort:"s\u0131rala",asc:"artan",desc:"azalan",predicates:{eq:"e\u015fit",eq_any:"herhangi birine e\u015fit",eq_all:"hepsine e\u015fit",not_eq:"e\u015fit de\u011fil",not_eq_any:"herhangi birine e\u015fit de\u011fil",not_eq_all:"hi\xe7birine e\u015fit de\u011fil",matches:"e\u015fle\u015fen",matches_any:"herhangi biri ile e\u015fle\u015fen",matches_all:"hepsi ile e\u015fle\u015fen",does_not_match:"e\u015fle\u015fmeyen",does_not_match_any:"herhangi biri ile e\u015fle\u015fmeyen",does_not_match_all:"hi\xe7biri ile e\u015fle\u015fmeyen",lt:"daha k\xfc\xe7\xfck",lt_any:"herhangi birinden k\xfc\xe7\xfck",lt_all:"hepsinden k\xfc\xe7\xfck",lteq:"daha k\xfc\xe7\xfck veya e\u015fit",lteq_any:"daha k\xfc\xe7\xfck veya herhangi birine e\u015fit",lteq_all:"daha k\xfc\xe7\xfck veya hepsine e\u015fit",gt:"daha b\xfcy\xfck ",gt_any:"herhangi birinden daha b\xfcy\xfck",gt_all:"hepsinden daha b\xfcy\xfck",gteq:"daha b\xfcy\xfck veya e\u015fit",gteq_any:"daha b\xfcy\xfck veya herhangi birine e\u015fit",gteq_all:"daha b\xfcy\xfck veya hepsine e\u015fit","in":"i\xe7inde",in_any:"herhangi birinde",in_all:"hepsinde",not_in:"i\xe7inde de\u011fil",not_in_any:"herhangi birinde de\u011fil",not_in_all:"hi\xe7birinde de\u011fil",cont:"i\xe7eren",cont_any:"herhangi birini i\xe7eren",cont_all:"hepsini i\xe7eren",not_cont:"i\xe7ermeyen",not_cont_any:"herhangi birini i\xe7ermeyen",not_cont_all:"hi\xe7birini birini i\xe7ermeyen",start:"ile ba\u015flayan",start_any:"herhangi biriyle ba\u015flayan",start_all:"hepsiyle ba\u015flayan",not_start:"ile ba\u015flamayan",not_start_any:"herhangi biriyle ba\u015flamayan",not_start_all:"hi\xe7biriyle ba\u015flamayan",end:"ile biten",end_any:"herhangi biriyle biten",end_all:"hepsi ile biten",not_end:"ile bitmeyen",not_end_any:"herhangi biriyle bitmeyen",not_end_all:"hi\xe7biriyle bitmeyen","true":"do\u011fru","false":"yanl\u0131\u015f",present:"mevcut",blank:"bo\u015f","null":"ge\xe7ersiz",not_null:"ge\xe7erli"}},formtastic:{yes:"Evet",no:"Hay\u0131r",create:"%{model} olu\u015ftur",update:"%{model} g\xfcncelle",submit:"G\xf6nder",cancel:"\u0130ptal",reset:"%{model} s\u0131f\u0131rla",required:"Zorunlu"},active_admin:{dashboard:"G\xf6sterge Paneli",dashboard_welcome:{welcome:"Active Admin'e ho\u015f geldiniz. Buras\u0131 varsay\u0131lan g\xf6sterge paneli sayfas\u0131d\u0131r.",call_to_action:"Buraya b\xf6l\xfcmler eklemek i\xe7in 'app/admin/dashboard.rb' dosyas\u0131na bakabilirsiniz."},view:"G\xf6r\xfcnt\xfcle",edit:"D\xfczenle","delete":"Sil",delete_confirmation:"Bu kayd\u0131 silmek istedi\u011finizden emin misiniz?",new_model:"Yeni %{model}",edit_model:"%{model} Kayd\u0131n\u0131 D\xfczenle",delete_model:"%{model} Kayd\u0131n\u0131 Sil",details:"%{model} Ayr\u0131nt\u0131lar\u0131",cancel:"\u0130ptal",empty:"Bo\u015f",previous:"\xd6nceki",next:"Sonraki",download:"\u0130ndir:",has_many_new:"Yeni %{model} Ekle",has_many_delete:"Sil",has_many_remove:"\xc7\u0131kar",filters:{buttons:{filter:"Filtrele",clear:"Filtreleri Temizle"},predicates:{contains:"\u0130\xe7erir",equals:"E\u015fittir",starts_with:"\u0130le ba\u015flar",ends_with:"\u0130le biter",greater_than:"B\xfcy\xfckt\xfcr",less_than:"K\xfc\xe7\xfckt\xfcr"}},search_status:{headline:"Arama",current_scope:"Kapsam:",current_filters:"Se\xe7ili filtreler:",no_current_filters:"Yok"},status_tag:{yes:"Evet",no:"Hay\u0131r"},main_content:"\u0130\xe7eri\u011fi g\xf6r\xfcnt\xfclemek i\xe7in l\xfctfen %{model}#main_content metodunu ekleyin.",logout:"\xc7\u0131k\u0131\u015f Yap",powered_by:"%{active_admin} %{version} taraf\u0131ndan desteklenmektedir.",sidebars:{filters:"Filtreler",search_status:"Arama Durumu"},pagination:{empty:"Hi\xe7 %{model} yok",one:"<b>1</b> %{model} g\xf6r\xfcnt\xfcleniyor",one_page:"<b>%{n}</b> %{model} kayd\u0131n\u0131n tamam\u0131 g\xf6r\xfcnt\xfcleniyor",multiple:"<b>%{from}&nbsp;-&nbsp;%{to}</b> aras\u0131 %{model} g\xf6r\xfcnt\xfcleniyor (toplam %{total} kay\u0131t)",multiple_without_total:"<b>%{from}&nbsp;-&nbsp;%{to}</b> aras\u0131 %{model} g\xf6r\xfcnt\xfcleniyor",entry:{one:"kay\u0131t",other:"kay\u0131tlar"}},any:"Herhangi biri",blank_slate:{content:"Hen\xfcz %{resource_name} yok.",link:"Bir tane olu\u015fturun"},dropdown_actions:{button_label:"\u0130\u015flemler"},batch_actions:{button_label:"Toplu \u0130\u015flemler",default_confirmation:"Bunu yapmak istedi\u011finizden emin misiniz?",delete_confirmation:"Bu %{plural_model} kay\u0131tlar\u0131n\u0131 silmek istedi\u011finizden emin misiniz?",succesfully_destroyed:{one:"1 %{model} ba\u015far\u0131yla silindi",other:"Toplam %{count} %{plural_model} ba\u015far\u0131yla silindi"},selection_toggle_explanation:"(Se\xe7imi De\u011fi\u015ftir)",link:"Yeni olu\u015ftur",action_label:"Se\xe7ilenleri %{title}",labels:{destroy:"Sil"}},comments:{created_at:"Olu\u015fturma Tarihi",resource_type:"Kay\u0131t Tipi",author_type:"Yazar Tipi",body:"Ayr\u0131nt\u0131",author:"Yazar",title:"Yorum",add:"Yorum Ekle","delete":"Yorumu Sil",delete_confirmation:"Bu yorumlar\u0131 silmek istedi\u011finizden emin misiniz?",resource:"Kay\u0131t",no_comments_yet:"Hen\xfcz yorum yok.",author_missing:"Anonim",title_content:"Yorumlar (%{count})",errors:{empty_text:"Yorum bo\u015f olarak kaydedilemez."}},devise:{username:{title:"Kullan\u0131c\u0131 ad\u0131"},email:{title:"E-posta adresi"},subdomain:{title:"Alt alan ad\u0131"},password:{title:"\u015eifre"},sign_up:{title:"Kaydol",submit:"Kaydol"},login:{title:"Giri\u015f yap",remember_me:"Beni hat\u0131rla",submit:"Giri\u015f yap"},reset_password:{title:"\u015eifrenizi mi unuttunuz?",submit:"\u015eifremi s\u0131f\u0131rla"},change_password:{title:"\u015eifrenizi de\u011fi\u015ftirin",submit:"\u015eifremi de\u011fi\u015ftir"},unlock:{title:"Hesap geri a\xe7ma talimatlar\u0131n\u0131 tekrar g\xf6nder",submit:"Hesap geri a\xe7ma talimatlar\u0131n\u0131 tekrar g\xf6nder"},resend_confirmation_instructions:{title:"Onaylama talimatlar\u0131n\u0131 tekrar g\xf6nder",submit:"Onaylama talimatlar\u0131n\u0131 tekrar g\xf6nder"},links:{sign_up:"Kaydol",sign_in:"Giri\u015f yap",forgot_your_password:"\u015eifrenizi mi unuttunuz?",sign_in_with_omniauth_provider:"%{provider} ile giri\u015f yap\u0131n",resend_unlock_instructions:"Hesap geri a\xe7ma talimatlar\u0131n\u0131 tekrar g\xf6nder",resend_confirmation_instructions:"Onaylama talimatlar\u0131n\u0131 tekrar g\xf6nder"}},unsupported_browser:{headline:"ActiveAdmin Internet Explorer 8 ve alt\u0131 art\u0131k desteklememektedir.",recommendation:'Son s\xfcr\xfcm <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, ya da <a href="https://mozilla.org/firefox/">Firefox</a> taray\u0131c\u0131lar\u0131ndan birine ge\xe7menizi tavsiye ederiz.',turn_off_compatibility_view:'IE 9 ya da \xfcst\xfcn\xfc kullan\u0131yorsan\u0131z, <a href="http://windows.microsoft.com/tr-tr/internet-explorer/use-compatibility-view">"Uyumluluk G\xf6r\xfcn\xfcm\xfc"</a>n\xfc kapatmay\u0131 unutmay\u0131n.'},access_denied:{message:"Bu i\u015flemi ger\xe7ekle\u015ftirmek i\xe7in yetkiniz yok."},index_list:{table:"Tablo",block:"Liste",grid:"Izgara",blog:"Blog"}},pageflow:{"public":{_language:"T\xfcrk\xe7e",audio:"Ses",back:"Geri",back_to_chapter:"Arka b\xf6l\xfcme",before_after:{drag_hint:null,hint:"Geri/\u0130leri",leave_view:"Geri/\u0130leri ve metin a\xe7\u0131lmas\u0131",start:"Geri/\u0130leri g\xf6r\xfcn\xfcm\xfc ba\u015flat",start_title:"Geri/\u0130leri g\xf6r\xfcn\xfcm\xfc ba\u015flat"},chapter:"B\xf6l\xfcm",chart:{toggle:"G\xf6r\xfcn\xfcm\xfc yak\u0131nla\u015ft\u0131r/uzakla\u015ft\u0131r"},close:"Kapat",close_hint:"Ipucunu kapat",close_navigation:"Gezinimi kapat",close_overview:"G\xf6r\xfcn\xfcm\xfc kapat",cookie_notice_html:null,deprecated_browser:"<p>Internet taray\u0131c\u0131n\u0131z malesef g\xfcndem d\u0131\u015f\u0131. Bundan dolay\u0131 sayfan\u0131n i\xe7erigi d\xfczg\xfcn \u015fekilde g\xf6r\xfcnt\xfclenemiyor.  L\xfctfen taray\u0131c\u0131n\u0131z\u0131 g\xfcncelleyin.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"G\xf6m\xfcl\xfc videodan ayr\u0131l"},enlarge_view:"G\xf6r\xfcn\xfcm\xfc b\xfcy\xfct",enter_fullscreen:"Tam ekran",first_page:"\u0130lk sayfa",forward:"\u0130leri",fullscreen:"Tam ekran",goto_first_page:"\u0130lk sayfaya git",goto_top:"\u0130lk sayfaya git",hide_text:"Metni sakla",home:"Ba\u015flat",imprint:"K\xfcnye",javascript_hint:"Bu uygulama geli\u015ftirilmi\u015f fonksiyonellik ve kullan\u0131c\u0131 deneyimi i\xe7in JavaScript kullanmakta. Internet taray\u0131c\u0131n\u0131z Javascript desteklemiyor veya devre d\u0131\u015f\u0131.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Tam ekrandan \xe7\u0131k",lets_go:"Hadi ba\u015flayal\u0131m",logo:"Logo",media_quality:null,mute_off:"Sesi a\xe7",mute_on:"Sesi kapat",navigate_top:"\u0130lk sayfaya git",navigation:"Navigasyon",new_pages_box:{additional_pages_html:"...ve <span></span> daha",description:"Son ziyaretinizden bu yana Pageflow'a eklenenler:",title:"Yeni sayfalar"},notice:"Bildirim",open_audio:null,open_navigation:"Navigasyonu a\xe7",open_overview:"G\xf6r\xfcn\xfcm\xfc a\xe7",open_video:null,overview:"G\xf6r\xfcn\xfcm",panorama:{close:"360 derece g\xf6r\xfcn\xfcm\xfc kapat ve metni g\xf6ster",start:"360 derece g\xf6r\xfcn\xfcm\xfc ba\u015flat"},play_video:"Videoyu ba\u015flat",privacy_notice:null,scroll_back_indicator:null,scroll_down:"A\u015fa\u011f\u0131 kayd\u0131r",scroll_hint:"Sayfalar aras\u0131 navigasyon icin klavyedeki ok tu\u015flar\u0131n\u0131 veya fare tekerle\u011fini kullan\u0131n.",scroll_indicator:"A\u015fa\u011f\u0131 kayd\u0131rmaya devam et",scroll_left:"Sola kayd\u0131r",scroll_right:"Sa\u011fa kayd\u0131r",scroll_up:"Yukar\u0131 kayd\u0131r",share:"Payla\u015f",share_on_facebook:"Facebookta payla\u015f",share_on_google:"Google+ da payla\u015f",share_on_twitter:"Twitter da payla\u015f",share_this_entry:"Bu hikaye",share_this_page:"Bu sayfa",show_home:"Ba\u015flang\u0131\xe7",show_text:"Metni g\xf6ster",skip_links_content:"\u0130\xe7eri\u011fe git",skip_links_navigation:"Navigasyona git",skip_links_top_navigation:"Ana navigasyona git",sound_hint:"Bu \xe7oklu ortaml\u0131 hikaye format\u0131 ses ve video g\xf6r\xfcnt\xfcs\xfc kullanmakta. L\xfctfen kolonlar\u0131n\u0131z\u0131n \xe7al\u0131\u015f\u0131r vaziyette olduguna dair emin olun.",start_audio:"Start audio now",start_video:"Start video now",swipe_hint:"Sayfalar aras\u0131 navigasyon i\xe7in swipe ediniz",swipe_indicator:"Devami icin swipe ediniz",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Ses d\xfczeyi",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},nl:{ransack:{search:"zoeken",predicate:"eigenschap",and:"en",or:"of",any:"enig",all:"alle",combinator:"combinator",attribute:"attribuut",value:"waarde",condition:"conditie",sort:"sorteren",asc:"oplopend",desc:"aflopend",predicates:{eq:"gelijk",eq_any:"gelijk enig",eq_all:"gelijk alle",not_eq:"niet gelijk aan",not_eq_any:"niet gelijk aan enig",not_eq_all:"niet gelijk aan alle",matches:"evenaart",matches_any:"evenaart enig",matches_all:"evenaart alle",does_not_match:"evenaart niet",does_not_match_any:"evenaart niet voor enig",does_not_match_all:"evenaart niet voor alle",lt:"kleiner dan",lt_any:"kleiner dan enig",lt_all:"kleiner dan alle",lteq:"kleiner dan of gelijk aan",lteq_any:"kleiner dan of gelijk aan enig",lteq_all:"kleiner dan of gelijk aan alle",gt:"groter dan",gt_any:"groter dan enig",gt_all:"groter dan alle",gteq:"groter dan of gelijk aan",gteq_any:"groter dan of gelijk aan enig",gteq_all:"groter dan of gelijk aan alle","in":"in",in_any:"in enig",in_all:"in alle",not_in:"niet in",not_in_any:"niet in enig",not_in_all:"niet in alle",cont:"bevat",cont_any:"bevat enig",cont_all:"bevat alle",not_cont:"bevat niet",not_cont_any:"bevat niet enig",not_cont_all:"bevat niet alle",start:"start met",start_any:"start met enig",start_all:"start met alle",not_start:"start niet met",not_start_any:"start niet met enig",not_start_all:"start niet met alle",end:"eindigt met",end_any:"eindigt met enig",end_all:"eindigt met alle",not_end:"eindigt niet met",not_end_any:"eindigt niet met enig",not_end_all:"eindigt niet met alle","true":"is waar","false":"is niet waar",present:"is aanwezig",blank:"is afwezig","null":"is null",not_null:"is niet null"}},active_admin:{dashboard:"Dashboard",dashboard_welcome:{welcome:"Welkom bij Active Admin. Dit is de standaard dashboard pagina",call_to_action:"Pas uw eigen dashboard aan in het bestand 'app/admin/dashboard.rb'"},view:"Bekijk",edit:"Wijzig","delete":"Verwijder",delete_confirmation:"Weet u zeker dat je dit item wilt verwijderen?",new_model:"Nieuwe %{model}",edit_model:"Wijzig %{model}",delete_model:"Verwijder %{model}",details:"%{model} details",cancel:"Annuleren",empty:"Leeg",previous:"Vorige",next:"Volgende",download:"Download",has_many_new:"Voeg nieuwe %{model} toe",has_many_delete:"Verwijderen",has_many_remove:"Verwijderen",filters:{buttons:{filter:"Filter",clear:"Maak Filters Ongedaan"},predicates:{contains:"Bevat",equals:"Gelijk aan",starts_with:"Begint met",ends_with:"Eindigt op",greater_than:"Groter dan",less_than:"Kleiner dan"}},search_status:{current_scope:"Scope:",current_filters:"Huidige filters:",no_current_filters:"Geen"},status_tag:{yes:"Ja",no:"Geen"},main_content:"Implementeer %{model}#main_content om de content weer te geven.",logout:"Uitloggen",powered_by:"Mogelijk gemaakt door %{active_admin} %{version}",sidebars:{filters:"Filters"},pagination:{empty:"Geen %{model} gevonden",one:"Geeft <b>1</b> %{model} weer",one_page:"Geeft <b>%{n}</b> %{model} weer",multiple:"Geeft %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> van de <b>%{total}</b> weer",multiple_without_total:"Geeft %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",entry:{one:"entry",other:"entries"}},any:"Alle",blank_slate:{content:"Er zijn geen %{resource_name} gevonden.",link:"Maak aan"},dropdown_actions:{button_label:"Acties"},batch_actions:{button_label:"Batch acties",default_confirmation:"Weet u zeker dat u dit wilt doen?",delete_confirmation:"Weet u zeker dat u deze %{plural_model} wilt verwijderen?",succesfully_destroyed:{one:"1 %{model} verwijderd.",other:"%{count} %{plural_model} verwijderd."},selection_toggle_explanation:"(Toggle selectie)",link:"Maak aan",action_label:"%{title} geselecteerde",labels:{destroy:"Verwijder"}},comments:{created_at:"Aangemaakt op",resource_type:"Resource Type",author_type:"Auteur Type",body:"Tekst",author:"Auteur",title:"Reactie",add:"Voeg commentaar toe","delete":"Verwijder commentaar",
delete_confirmation:"Weet u zeker dat u dit commentaar wilt verwijderen?",resource:"Resource",no_comments_yet:"Nog geen reacties.",author_missing:"Anoniem",title_content:"Reacties (%{count})",errors:{empty_text:"De reactie is niet opgeslagen, de tekst was leeg."}},devise:{username:{title:"Gebruikersnaam"},email:{title:"Email"},subdomain:{title:"Subdomein"},password:{title:"Wachtwoord"},sign_up:{title:"Registreren",submit:"Registreren"},login:{title:"inloggen",remember_me:"Onthoud mij",submit:"inloggen"},reset_password:{title:"Wachtwoord vergeten?",submit:"Reset mijn wachtwoord vergeten"},change_password:{title:"Wijzig uw wachtwoord",submit:"Mijn wachtwoord wijzigen"},unlock:{title:"Verstuur ontgrendelinstructies opnieuw",submit:"Verstuur ontgrendelinstructies opnieuw"},resend_confirmation_instructions:{title:"Verstuur bevestigingsinstructies opnieuw",submit:"Verstuur bevestigingsinstructies opnieuw"},links:{sign_up:"Registreren",sign_in:"Meld u aan",forgot_your_password:"Wachtwoord vergeten?",sign_in_with_omniauth_provider:"Log in met %{provider}",resend_unlock_instructions:"Ontgrendelinstructies opnieuw versturen",resend_confirmation_instructions:"Bevestigingsinstructies opnieuw versturen"}},unsupported_browser:{headline:"Opgelet, ActiveAdmin bied geen support meer voor Internet Explorer 8 of lager",recommendation:'Wij raden aan om te upgraden naar de nieuwste <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, of <a href="https://mozilla.org/firefox/">Firefox</a>.',turn_off_compatibility_view:'Als u IE 9 of nieuwer gebruikt, zorg ervoor dat u <a href="http://windows.microsoft.com/en-US/windows7/webpages-look-incorrect-in-Internet-Explorer"> "Compatibility View" uit zet</a>.'},access_denied:{message:"U bent niet gemachtigd voor deze actie."},index_list:{table:"Tabel",block:"Lijst",grid:"Rooster",blog:"Blog"}},pageflow:{"public":{_language:"Nederlands",audio:"Audio",back:"Terug",back_to_chapter:"Terug naar hoofdstuk",before_after:{drag_hint:"Linkermuisknop indrukken en naar links of rechts bewegen",hint:"Voor/na weergave",leave_view:"Verlaat de voor/na weergave",start:"Start de voor/na weergave",start_title:"Start de voor/na weergave"},chapter:"Hoofdstuk",chart:{toggle:"In-/uitschakelen"},close:"Sluiten",close_hint:"Hint sluiten",close_navigation:"Navigatie sluiten",close_overview:"Overzicht sluiten",cookie_notice_html:null,deprecated_browser:"<p>Uw browser is verouderd en deze pagina werkt mogelijk niet zoals verwacht. We raden u aan uw browser te upgraden naar de nieuwste versie.<p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Embedded video verlaten"},enlarge_view:"Weergave vergroten",enter_fullscreen:"Volledig scherm weergeven",first_page:"Eerste pagina",forward:"Verder",fullscreen:"Volledig scherm",goto_first_page:"Ga naar de eerste pagina",goto_top:"Naar boven",hide_text:"Verberg tekst",home:"Home",imprint:"Colofon",javascript_hint:"Deze toepassing gebruikt JavaScript voor verbeterde functionaliteit en gebruikservaring. Uw browser ondersteunt JavaScript mogelijk niet of het is mogelijk uitgeschakeld.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Verlaat volledig scherm",lets_go:"Hier gaan we",logo:"Logo",media_quality:null,mute_off:"Geluid aan",mute_on:"Geluid uit",navigate_top:"Ga naar de eerste pagina",navigation:"Navigatie",new_pages_box:{additional_pages_html:"...en <span></span> meer",description:"Sinds uw laatste bezoek zijn pagina's toegevoegd aan dit verhaal:",title:"Nieuwe pagina's"},notice:"Melding",open_audio:null,open_navigation:"Toon navigatie",open_overview:"Toon overzicht",open_video:null,overview:"Overzicht",panorama:{close:"Sluit 360\xb0 panorama en toon tekst",start:"Begin 360\xb0 panorama"},play_video:"Speel video",privacy_notice:null,scroll_back_indicator:"Scoll omhoog",scroll_down:"Scroll omlaag",scroll_hint:"Gebruik het muiswiel of de pijltjestoetsen om tussen pagina's te navigeren.",scroll_indicator:"Scroll om door te gaan",scroll_left:"Scroll links",scroll_right:"Scroll rechts",scroll_up:"Scroll omhoog",share:"Deel",share_on_facebook:"Deel op Facebook",share_on_google:"Deel op Google+",share_on_twitter:"Deel op Twitter",share_this_entry:"Dit verhaal",share_this_page:"Deze pagina",show_home:"Start",show_text:"Laat tekst zien",skip_links_content:"Ga naar inhoud",skip_links_navigation:"Na naar navigatie",skip_links_top_navigation:"Ga naar hoofdnavigatie",sound_hint:"Dit multimediaverhaal bevat video- en geluidsfragmenten. Zet het geluid aan.",start_audio:"Start audio",start_video:"Start video",swipe_hint:"Swipe om tussen pagina's te navigeren.",swipe_indicator:"Swipe om door te gaan",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Volume",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}},scrollytelling_navigation:{widget_type_name:"Scrollytelling stippen met tooltips"}},scrollytelling:{navigation:{home:" Home",home_title:"Terug naar de homepage"}}},es:{ransack:{search:"buscar",predicate:"predicado",and:"y",or:"o",any:"cualquier",all:"todos",combinator:"combinado",attribute:"atributo",value:"valor",condition:"condici\xf3n",sort:"ordernar",asc:"ascendente",desc:"descendente",predicates:{eq:"es igual a",eq_any:"es igual a cualquier",eq_all:"es igual a todos",not_eq:"no es igual a",not_eq_any:"no es igual a cualquier",not_eq_all:"no es iguala todos",matches:"coincidir",matches_any:"coincidir a cualquier",matches_all:"coincidir a todos",does_not_match:"no coincide",does_not_match_any:"no coincide con ninguna",does_not_match_all:"no coincide con todos",lt:"menor que",lt_any:"menor que cualquier",lt_all:"menor o igual a",lteq:"menor que o igual a",lteq_any:"menor o igual a cualquier",lteq_all:"menor o igual a todos",gt:"mayor que",gt_any:"mayor que cualquier",gt_all:"mayor que todos",gteq:"mayor que o igual a",gteq_any:"mayor que o igual a cualquier",gteq_all:"mayor que o igual a todos","in":"en",in_any:"en cualquier",in_all:"en todos",not_in:"no en",not_in_any:"no en cualquier",not_in_all:"no en todos",cont:"contiene",cont_any:"contiene cualquier",cont_all:"contiene todos",not_cont:"no contiene",not_cont_any:"no contiene ninguna",not_cont_all:"no contiene toda",start:"comienza con",start_any:"comienza con cualquier",start_all:"comienza con toda",not_start:"no inicia con",not_start_any:"no comienza con cualquier",not_start_all:"no inicia con toda",end:"termina con",end_any:"termina con cualquier",end_all:"termina con todo",not_end:"no termina con",not_end_any:"no termina con cualquier",not_end_all:"no termina con todo","true":"es verdadero","false":"es falso",present:"es presente",blank:"est\xe1 en blanco","null":"es nula",not_null:"no es nula"}},errors:{messages:{in_between:"debe estar entre %{min} y %{max}",spoofed_media_type:"tiene una extensi\xf3n que no coincide con su contenido"}},number:{human:{storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB",tb:"TB"}}}},formtastic:{yes:"S\xed",no:"No",create:"Guardar %{model}",update:"Guardar %{model}",submit:"Aceptar",cancel:"Cancelar",reset:"Restablecer %{model}",required:"requerido"},active_admin:{dashboard:"Inicio",dashboard_welcome:{welcome:"Bienvenido a Active Admin. Esta es la p\xe1gina de inicio predeterminada.",call_to_action:"Para agregar secciones edite 'app/admin/dashboard.rb'"},view:"Ver",edit:"Editar","delete":"Eliminar",delete_confirmation:"\xbfEst\xe1 seguro de que quiere eliminar esto?",new_model:"A\xf1adir %{model}",edit_model:"Editar %{model}",delete_model:"Eliminar %{model}",details:"Detalles de %{model}",cancel:"Cancelar",empty:"Vac\xedo",previous:"Anterior",next:"Siguiente",download:"Descargar:",has_many_new:"A\xf1adir %{model}",has_many_delete:"Eliminar",has_many_remove:"Quitar",filters:{buttons:{filter:"Filtrar",clear:"Quitar Filtros"},predicates:{contains:"Contiene",equals:"Igual a",starts_with:"Empieza con",ends_with:"Termina con",greater_than:"Mayor que",less_than:"Menor que"}},search_status:{headline:"Estado de la b\xfasqueda:",current_scope:"Alcance:",current_filters:"Filtros actuales:",no_current_filters:"Ninguno"},status_tag:{yes:"S\xed",no:"No"},main_content:"Por favor implemente %{model}#main_content para mostrar contenido.",logout:"Salir",powered_by:"Funciona con %{active_admin} %{version}",sidebars:{filters:"Filtros",search_status:"Estado de la b\xfasqueda"},pagination:{empty:"No se han encontrado %{model}",one:"Mostrando <b>1</b> %{model}",one_page:"Mostrando <b>un total de %{n}</b> %{model}",multiple:"Mostrando %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> de un total de <b>%{total}</b>",multiple_without_total:"Mostrando %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",entry:{one:"registro",other:"registros"}},any:"Cualquiera",blank_slate:{content:"No hay %{resource_name} a\xfan.",link:"A\xf1adir"},dropdown_actions:{button_label:"Acciones"},batch_actions:{button_label:"Acciones en masa",default_confirmation:"\xbfSeguro que quieres hacer esto?",delete_confirmation:"Eliminar %{plural_model}: \xbfEst\xe1 seguro?",succesfully_destroyed:{one:"Se ha destruido 1 %{model} con \xe9xito",other:"Se han destruido %{count} %{plural_model} con \xe9xito"},selection_toggle_explanation:"(Cambiar selecci\xf3n)",link:"A\xf1adir",action_label:"%{title} seleccionado",labels:{destroy:"Borrar"}},comments:{created_at:"Fecha de creaci\xf3n",resource_type:"Tipo de recurso",author_type:"Tipo de autor",body:"Cuerpo",author:"Autor",title:"Comentario",add:"Comentar","delete":"Borrar Comentario",delete_confirmation:"\xbfEst\xe1 seguro que desea borrar este comentario?",resource:"Recurso",no_comments_yet:"No hay comentarios a\xfan.",author_missing:"An\xf3nimo",title_content:"Comentarios (%{count})",errors:{empty_text:"El comentario no fue guardado, el texto estaba vac\xedo."}},devise:{username:{title:"Nombre de usuario"},email:{title:"Email"},subdomain:{title:"Subdominio"},password:{title:"Password"},sign_up:{title:"Registrarse",submit:"Registrarse"},login:{title:"Iniciar Sesi\xf3n",remember_me:"Recordarme",submit:"Iniciar Sesi\xf3n"},reset_password:{title:"\xbfOlvid\xf3 su contrase\xf1a?",submit:"Restablecer mi contrase\xf1a"},change_password:{title:"Cambie su contrase\xf1a",submit:"Cambiar mi contrase\xf1a"},unlock:{title:"Reenviar instrucciones de desbloqueo",submit:"Reenviar instrucciones de desbloqueo"},resend_confirmation_instructions:{title:"Reenviar instrucciones de confirmaci\xf3n",submit:"Reenviar instrucciones de confirmaci\xf3n"},links:{sign_up:"Ingresar",sign_in:"Registrarse",forgot_your_password:"\xbfOlvid\xf3 su contrase\xf1a?",sign_in_with_omniauth_provider:"Con\xe9ctate con %{provider}",resend_unlock_instructions:"Reenviar instrucciones de desbloqueo",resend_confirmation_instructions:"Reenviar instrucciones de confirmaci\xf3n"}},unsupported_browser:{headline:"Por favor tenga en cuenta que Active Admin no soporta versiones de Internet Explorer menores a 8.",recommendation:'Recomendamos que actualice a la \xfaltima versi\xf3n de <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, o <a href="https://mozilla.org/firefox/">Firefox</a>.',turn_off_compatibility_view:'Si est\xe1 usando IE 9 o superior, aseg\xfarese de <a href="http://windows.microsoft.com/es-es/windows7/webpages-look-incorrect-in-Internet-Explorer">apagar la "Vista de compatibilidad"</a>.'},access_denied:{message:"No est\xe1 autorizado/a a realizar esta acci\xf3n."},index_list:{table:"Tabla",block:"Lista",grid:"Grilla",blog:"Blog"}},pageflow:{"public":{_language:"Espa\xf1ol",audio:"Audio",back:"Volver",back_to_chapter:"Volver al cap\xedtulo",before_after:{drag_hint:"Presionar el bot\xf3n izquierdo y moverse a izquierda o derecha",hint:"Vista antes/despu\xe9s",leave_view:"Abandonar vista antes/despu\xe9s",start:"Iniciar vista antes/despu\xe9s",start_title:"Iniciar vista antes/despu\xe9s"},chapter:"Cap\xedtulo",chart:{toggle:"Pulsar"},close:"Cerrar",close_hint:"Cerrar consejo",close_navigation:"Cerrar navegaci\xf3n",close_overview:"Cerrar vista general",cookie_notice_html:null,deprecated_browser:"<p>La versi\xf3n de su browser no es la m\xe1s reciente por lo que \xe9sta p\xe1gina puede funcionar de forma incorrecta. Le recomendamos actualizar su browser a la versi\xf3n m\xe1s actual.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Abandonar v\xeddeo integrado"},enlarge_view:"Vista ampliada",enter_fullscreen:"Iniciar modo de pantalla completa",first_page:"Primera p\xe1gina",forward:"Avanzar",fullscreen:"Pantalla completa",goto_first_page:"Ir a la primera p\xe1gina",goto_top:"Ir a la primera p\xe1gina",hide_text:"Ocultar texto",home:"Inicio",imprint:"Imprimir",javascript_hint:"Esta aplicaci\xf3n utiliza JavaScript para una funcionalidad y experiencia de usuario \xf3ptimas. Su browser probablemente no es compatible con JavaScript o \xe9sta funci\xf3n quiz\xe1 se encuentre inhabilitada.",languages:{ar:"\xc1rabe",cs:null,de:"Alem\xe1n",dk:"Dan\xe9s",el:"Griego",en:"Ingl\xe9s",es:"Espa\xf1ol",fr:"Franc\xe9s",it:"Italiano",nl:"Holand\xe9s",pl:"Polaco",pt:"Portugu\xe9s",ru:"Ruso",sr:"Serbio",tr:"Turco",unknown:"Desconocido",zh:"Chino"},leave_fullscreen:"Abandonar modo de pantalla completa",lets_go:"Comencemos",logo:"Logo",media_quality:"Calidad",mute_off:"Abandonar modo silencio",mute_on:"Iniciar modo silencio",navigate_top:"Ir a la primera p\xe1gina",navigation:"Navegaci\xf3n",new_pages_box:{additional_pages_html:"...y <span></span> m\xe1s",description:"Desde su \xfaltima visita han sido a\xf1adidas p\xe1ginas a \xe9ste Pageflow",title:"P\xe1ginas nuevas"},notice:"Nota",open_audio:"Abrir audio",open_navigation:"Abrir navegaci\xf3n",open_overview:"Abrir vista general",open_video:"Abrir video",overview:"Vista general",panorama:{close:"Cerrar vista panorama de 360\xb0 y mostrar texto",start:"Iniciar vista panorama de 360\xb0"},play_video:"Iniciar v\xeddeo",privacy_notice:"Nota privada",scroll_back_indicator:"Desplazarse hacia atr\xe1s",scroll_down:"Desplazarse hacia abajo",scroll_hint:"Utilice la rueda de desplazamiento de su rat\xf3n o las teclas de direcci\xf3n de su teclado para navegar entre las p\xe1ginas.",scroll_indicator:"Desplazar hacia abajo",scroll_left:"Desplazarse hacia la izquierda",scroll_right:"Desplazarse hacia la derecha",scroll_up:"Desplazarse hacia arriba",share:"Compartir",share_on_facebook:"Compartir en Facebook",share_on_google:"Compartir en Google+",share_on_twitter:"Compartir en Twitter",share_this_entry:"Esta historia",share_this_page:"Esta p\xe1gina",show_home:"Inicio",show_text:"Mostrar texto",skip_links_content:"Ir al contenido",skip_links_navigation:"Ir al men\xfa",skip_links_top_navigation:"Ir al men\xfa principal",sound_hint:"Este formato de historia multimedia utiliza secuencias de v\xeddeo y audio. Por favor aseg\xfarese de que sus altavoces est\xe9n encendidos.  ",start_audio:"Iniciar audio ahora",start_video:"Iniciar v\xeddeo ahora",swipe_hint:"Desl\xedze el dedo por la pantalla para navegar entre las p\xe1ginas.",swipe_indicator:"Desl\xedze el dedo por la pantalla para continuar",swipe_to_continue:null,text_track_modes:{auto:"Auto (%{label})",auto_off:"Auto (Apagado)",none:null},text_tracks:"Subt\xedtulos",toggle_info_box:null,video:"V\xeddeo",video_qualities:{annotations:{"4k":"4k",fullhd:"Alta definici\xf3n HD",medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Vol\xfamen",vr:{no_vr:{link:"Mostrar video en la aplicaci\xf3n de Youtube",text:"Los videos en 360 grados no pueden mostrarse en este navegador."},select_quality:"Elegir calidad del video",start:"Mirar video en 360 grados",start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},fr:{ransack:{search:"recherche",predicate:"pr\xe9dicat",and:"et",or:"ou",any:"au moins un",all:"tous",combinator:"combinateur",attribute:"attribut",value:"valeur",condition:"condition",sort:"tri",asc:"ascendant",desc:"descendant",predicates:{eq:"\xe9gal \xe0",eq_any:"\xe9gal \xe0 au moins un",eq_all:"\xe9gal \xe0 tous",not_eq:"diff\xe9rent de",not_eq_any:"diff\xe9rent d'au moins un",not_eq_all:"diff\xe9rent de tous",matches:"correspond \xe0",matches_any:"correspond \xe0 au moins un",matches_all:"correspond \xe0 tous",does_not_match:"ne correspond pas \xe0",does_not_match_any:"ne correspond pas \xe0 au moins un",does_not_match_all:"ne correspond \xe0 aucun",lt:"inf\xe9rieur \xe0",lt_any:"inf\xe9rieur \xe0 au moins un",lt_all:"inf\xe9rieur \xe0 tous",lteq:"inf\xe9rieur ou \xe9gal \xe0",lteq_any:"inf\xe9rieur ou \xe9gal \xe0 au moins un",lteq_all:"inf\xe9rieur ou \xe9gal \xe0 tous",gt:"sup\xe9rieur \xe0",gt_any:"sup\xe9rieur \xe0 au moins un",gt_all:"sup\xe9rieur \xe0 tous",gteq:"sup\xe9rieur ou \xe9gal \xe0",gteq_any:"sup\xe9rieur ou \xe9gal \xe0 au moins un",gteq_all:"sup\xe9rieur ou \xe9gal \xe0 tous","in":"inclus dans",in_any:"inclus dans au moins un",in_all:"inclus dans tous",not_in:"non inclus dans",not_in_any:"non inclus dans au moins un",not_in_all:"non inclus dans tous",cont:"contient",cont_any:"contient au moins un",cont_all:"contient tous",not_cont:"ne contient pas",not_cont_any:"ne contient pas au moins un",not_cont_all:"ne contient pas tous",start:"commence par",start_any:"commence par au moins un",start_all:"commence par tous",not_start:"ne commence pas par",not_start_any:"ne commence pas par au moins un",not_start_all:"ne commence pas par tous",end:"finit par",end_any:"finit par au moins un",end_all:"finit par tous",not_end:"ne finit pas par",not_end_any:"ne finit pas par au moins un",not_end_all:"ne finit pas par tous","true":"est vrai","false":"est faux",present:"est pr\xe9sent",blank:"est blanc","null":"est null",not_null:"n'est pas null"}},formtastic:{yes:"Oui",no:"Non",create:"Cr\xe9er un(e) %{model}",update:"Modifier ce(tte) %{model}",submit:"Enregistrer ce(tte) %{model}",cancel:"Annuler",reset:"R\xe9initialiser ce(tte) %{model}",required:"requis(e)"},active_admin:{dashboard:"Tableau de bord",dashboard_welcome:{welcome:"Bienvenue dans Active Admin. Ceci est la page par d\xe9faut.",call_to_action:"Pour ajouter des sections au tableau de bord, consultez 'app/admin/dashboard.rb'"},view:"Voir",edit:"Modifier","delete":"Supprimer",delete_confirmation:"\xcates-vous certain de vouloir supprimer ceci ?",new_model:"Cr\xe9er %{model}",edit_model:"Modifier %{model}",delete_model:"Supprimer %{model}",details:"D\xe9tails de %{model}",cancel:"Annuler",empty:"Vide",previous:"Pr\xe9c\xe9dent",next:"Suivant",download:"T\xe9l\xe9charger :",has_many_new:"Ajouter un nouveau %{model}",has_many_delete:"Supprimer",has_many_remove:"Enlever",filters:{buttons:{filter:"Filtrer",clear:"Supprimer les filtres"},predicates:{contains:"Contient",equals:"\xc9gal \xe0",starts_with:"Commence par",ends_with:"Se termine par",greater_than:"Plus grand que",less_than:"Plus petit que"}},search_status:{headline:"Statut de la recherche :",current_scope:"Etendu du filtre :",current_filters:"Filtres actuels :",no_current_filters:"Aucun filtres"},status_tag:{yes:"Oui",no:"Non"},main_content:"Veuillez impl\xe9menter %{model}#main_content pour afficher le contenu.",logout:"D\xe9connexion",powered_by:"Propuls\xe9 par %{active_admin} %{version}",sidebars:{filters:"Filtres",search_status:"Statut de la recherche"},pagination:{empty:"Aucun %{model} trouv\xe9",one:"Affichage de <b>1</b> %{model}",one_page:"Affichage des <b>%{n}</b> %{model}",multiple:"Affichage de %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> sur un total de <b>%{total}</b>",multiple_without_total:"Affichage de %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",entry:{one:"entr\xe9e",other:"entr\xe9es"}},any:"N'importe lequel",blank_slate:{content:"Il n'y a pas encore de %{resource_name}.",link:"Cr\xe9ez en un"},dropdown_actions:{button_label:"Actions"},batch_actions:{button_label:"Actions group\xe9es",default_confirmation:"\xcates-vous s\xfbr de vouloir faire cela ?",delete_confirmation:"\xcates-vous s\xfbr de vouloir supprimer ces %{plural_model} ?",succesfully_destroyed:{one:"1 %{model} supprim\xe9",other:"%{count} %{plural_model} supprim\xe9s"},selection_toggle_explanation:"(Inverser la s\xe9lection)",link:"Cr\xe9er un",action_label:"%{title} les \xe9l\xe9ments s\xe9lectionn\xe9s",labels:{destroy:"Supprimer"}},comments:{body:"Corps",author:"Auteur",title:"Commentaire",add:"Ajouter un commentaire",resource:"Ressource",resource_type:"Type de ressource",author_type:"Profil de l'auteur",no_comments_yet:"Aucun commentaire actuellement",title_content:"Commentaires (%{count})",errors:{empty_text:"Le commentaire n'a pas \xe9t\xe9 enregistr\xe9 puisque le texte \xe9tait vide."}},devise:{username:{title:"Nom d'utilisateur"},email:{title:"Email"},subdomain:{title:"Sous-domaine"},password:{title:"Mot de passe"},login:{title:"Connexion",remember_me:"Garder ma session ouverte",submit:"Se connecter"},reset_password:{title:"Vous avez oubli\xe9 votre mot de passe ?",submit:"R\xe9initialiser mon mot de passe"},change_password:{title:"Changez votre mot de passe",submit:"Changer mon mot de passe"},resend_confirmation_instructions:{title:"Renvoyer les instructions de confirmation",submit:"Renvoyer les instructions de confirmation"},links:{sign_in:"Connectez-vous",forgot_your_password:"Vous avez oubli\xe9 votre mot de passe ?",sign_in_with_omniauth_provider:"Connectez-vous avec %{provider}"}},access_denied:{message:"Vous n'\xeates pas autoris\xe9 \xe0 ex\xe9cuter cette action"},index_list:{table:"Tableau",block:"Liste",grid:"Grille",blog:"Blog"}},pageflow:{"public":{_language:"Fran\xe7ais",audio:"Audio",back:"Pr\xe9c\xe9dent",back_to_chapter:"Retour \xe0 chapitre",before_after:{drag_hint:"Appuyez sur le bouton gauche de la souris et d\xe9placez-le vers la gauche ou la droite",hint:'Affichage "avant/apr\xe8s"',leave_view:'Quitter l\'affichage "avant/apr\xe8s"',start:'Lancer l\'affichage "avant/apr\xe8s"',start_title:'Lancer l\'affichage "avant/apr\xe8s"'},chapter:"Chapitre",chart:{toggle:"Activer/D\xe9sactiver"},close:"Fermer",close_hint:"Fermer l\u2019astuce",close_navigation:"Fermer la navigation",close_overview:"Fermer l\u2019aper\xe7u",cookie_notice_html:null,deprecated_browser:"<p>Votre navigateur est obsol\xe8te et il est possible que cette page ne fonctionne pas correctement. Nous vous recommandons de passer \xe0 la derni\xe8re version de votre navigateur.<p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Quitter la vid\xe9o int\xe9gr\xe9e"},enlarge_view:"Agrandir l\u2019affichage",enter_fullscreen:"Passer en mode plein \xe9cran",first_page:"Premi\xe8re page",forward:"Suivant",fullscreen:"Plein \xe9cran",goto_first_page:"Acc\xe9der \xe0 la premi\xe8re page",goto_top:"Acc\xe9der \xe0 la premi\xe8re page",hide_text:"Masquer le texte",home:"Commencer",imprint:"Achev\xe9 d'imprimer",javascript_hint:"Pour un fonctionnement optimal et une meilleure exp\xe9rience utilisateur, cette application n\xe9cessite l\u2019utilisation de JavaScript. Il se peut que votre navigateur soit incompatible avec JavaScript ou que JavaScript soit d\xe9sactiv\xe9.",languages:{ar:"Arabe",cs:"Tch\xe8que",de:"Allemand",dk:"Danois",el:"Grec",en:"Anglais\n",es:"Espagnol",fr:"Fran\xe7ais",it:"Italien",nl:"N\xe9erlandais",pl:"Polonais",pt:"Portugais",ru:"Russe",sr:"Serbe",tr:"Turc",unknown:"(Inconnu)",zh:"Chinois"},leave_fullscreen:"Quitter le mode plein \xe9cran",lets_go:"D\xe9marrer",logo:"Logo",media_quality:"Qualit\xe9",mute_off:"D\xe9sactiver Muet",mute_on:"Muet",navigate_top:"Acc\xe9der \xe0 la premi\xe8re page",navigation:"Navigation",new_pages_box:{additional_pages_html:"\u2026 et <span></span> plus",description:"Depuis votre derni\xe8re visite, des pages ont \xe9t\xe9 ajout\xe9es \xe0 ce Pageflow:",title:"Nouvelles pages"},notice:"Remarque",open_audio:"Ouvrir audio",open_navigation:"Ouvrir la navigation",open_overview:"Ouvrir l\u2018aper\xe7u",open_video:"Ouvrir vid\xe9o",overview:"Aper\xe7u",panorama:{close:"Fermer le panorama \xe0 360\xb0 et afficher le texte",start:"D\xe9marrer le panorama \xe0 360\xb0"},play_video:"Lancer la vid\xe9o",privacy_notice:"Politique de confidentialit\xe9",scroll_back_indicator:null,scroll_down:"Faire d\xe9filer\t",scroll_hint:"Utilisez la roulette de la souris ou les touches de direction de votre clavier pour parcourir les pages.",scroll_indicator:"Faire d\xe9filer pour continuer",scroll_left:"Faire d\xe9filer vers la gauche",scroll_right:"Faire d\xe9filer vers la droite",scroll_up:"Faire d\xe9filer vers le haut",share:"Partager",share_on_facebook:"Partager sur Facebook",share_on_google:"Partager sur Google+",share_on_twitter:"Partager sur Twitter",share_this_entry:"Cette histoire",share_this_page:"Cette page",show_home:"Commencer",show_text:"Afficher le texte",skip_links_content:"Acc\xe9der au contenu",skip_links_navigation:"Acc\xe9der \xe0 la navigation",skip_links_top_navigation:"Acc\xe9der \xe0 la navigation principale",sound_hint:"Ce format d\u2019histoire multim\xe9dia utilise du contenu audio et vid\xe9o. Veuillez v\xe9rifier que vos haut-parleurs sont allum\xe9s.",start_audio:"D\xe9marrer Audio maintenant",start_video:"D\xe9marrer la vid\xe9o maintenant",swipe_hint:"Balayer pour parcourir les pages.",swipe_indicator:"Balayer pour continuer",swipe_to_continue:null,text_track_modes:{auto:"Auto (%{label})",auto_off:"Auto (D\xe9sactiv\xe9)",none:"(Aucun)"},text_tracks:"Sous-Titres",toggle_info_box:"Activer/d\xe9sactiver bo\xeete d'info",video:"Video",video_qualities:{annotations:{"4k":"4K",fullhd:"HD",medium:"HD"},labels:{"4k":"2160p",auto:"Auto",fullhd:"1080p",medium:"720p"}},volume:"Volume",vr:{no_vr:{link:"\nAfficher la vid\xe9o dans l'application YouTube",text:"Les vid\xe9os \xe0 360 \xb0 ne peuvent pas \xeatre affich\xe9es dans votre navigateur."},select_quality:"Choisissez la qualit\xe9 vid\xe9o",start:"Regardez vid\xe9o \xe0 360\xb0",start_cardboard:"D\xe9marrer le mode cardboard",video_qualities:{"4k":"2160s",fullhd:"1080s",high:"720s"},video_quality_annotations:{"4k":"4K",fullhd:"HD",high:"HD"}}}}},de:{ransack:{search:"suchen",predicate:"Eigenschaft",and:"und",or:"oder",any:"beliebige",all:"alle",combinator:"Kombinator",attribute:"Attribut",value:"Wert",condition:"Bedingung",sort:"sortieren",asc:"aufsteigend",desc:"absteigend",predicates:{eq:"gleicht",eq_any:"gleicht beliebigen",eq_all:"gleicht allen",not_eq:"ungleich",not_eq_any:"ungleich beliebigen",not_eq_all:"ungleich allen",matches:"entspricht",matches_any:"stimmt \xfcberein mit einem beliebigen",matches_all:"stimmt mit allen \xfcberein",does_not_match:"stimmt nicht \xfcberein",does_not_match_any:"erf\xfcllt ein beliebiger/s nicht",does_not_match_all:"stimmt nicht mit allen \xfcberein",lt:"kleiner als",lt_any:"kleiner als ein beliebiger/s",lt_all:"kleiner als alle als alle",lteq:"kleiner oder gleich",lteq_any:"kleiner oder gleich beliebige",lteq_all:"kleiner oder gleich allen",gt:"gr\xf6\xdfer als",gt_any:"gr\xf6\xdfer als ein beliebiger/s",gt_all:"gr\xf6\xdfer als alle",gteq:"gr\xf6\xdfer oder gleich",gteq_any:"gr\xf6\xdfer oder gleich als ein beliebiger/s",gteq_all:"gr\xf6\xdfer oder gleich alle","in":"in",in_any:"ist nicht in einem beliebigen",in_all:"in allen",not_in:"nicht in",not_in_any:"nicht in beliebige",not_in_all:"nicht in allen",cont:"enth\xe4lt",cont_any:"enth\xe4lt beliebige",cont_all:"enth\xe4lt alle",not_cont:"enth\xe4lt nicht",not_cont_any:"enth\xe4lt ein beliebiger/s nicht",not_cont_all:"enth\xe4lt keine/s",start:"beginnt mit",start_any:"beginnt mit beliebigen",start_all:"beginnt mit allen",not_start:"beginnt nicht mit",not_start_any:"beginnt nicht mit beliebigen",not_start_all:"beginnt nicht mit allen",end:"endet mit",end_any:"endet mit beliebigen",end_all:"endet mit allen",not_end:"endet nicht mit",not_end_any:"endet nicht mit beliebigen",not_end_all:"endet nicht mit allen","true":"ist wahr","false":"ist falsch",present:"ist vorhanden",blank:"ist leer","null":"ist null",not_null:"ist nicht null"}},active_admin:{access_denied:{message:"Sie sind nicht berechtigt diese Seite anzuzeigen."},any:"Alle",batch_actions:{action_label:"Ausgew\xe4hlte %{title}",button_label:"Massenoperationen",default_confirmation:"Bist Du sicher?",delete_confirmation:"Bist Du sicher, dass Du diese %{plural_model} l\xf6schen willst?",labels:{destroy:"L\xf6schen"},link:"Erstellen",selection_toggle_explanation:"(Auswahl)",succesfully_destroyed:{one:"1 %{model} erfolgreich gel\xf6scht",other:"%{count} %{plural_model} erfolgreich gel\xf6scht"}},blank_slate:{content:"Es gibt noch keine %{resource_name}.",link:"Erstellen"},cancel:"Abbrechen",clear_filters:"Filter entfernen",comments:{add:"Kommentar hinzuf\xfcgen",author:"Autor",author_missing:"Anonym",author_type:"Autor",body:"Inhalt",errors:{empty_text:"Der Kommentar wurde nicht gespeichert, da der Text fehlt."},no_comments_yet:"Es gibt noch keine Kommentare.",resource:"Resource",resource_type:"Ressource",title:"Kommentar",title_content:"Kommentare (%{count})","delete":"L\xf6schen",delete_confirmation:"Sind Sie sicher dass sie diesen Kommentar l\xf6schen wollen?"},create_model:"%{model} erstellen",dashboard:"\xdcbersicht",dashboard_welcome:{call_to_action:"Siehe 'app/admin/dashboards.rb', um \xdcbersichts-Bereiche hinzuzuf\xfcgen.",welcome:"Willkommen in Active Admin. Dies ist die Standard-\xdcbersichtsseite."},"delete":"L\xf6schen",delete_confirmation:"Wollen Sie dieses Element wirklich l\xf6schen?",delete_model:"%{model} l\xf6schen",details:"%{model} Details",devise:{change_password:{submit:"Mein Passwort \xe4ndern",title:"\xc4ndern Sie Ihr Passwort"},email:{title:"Email"},links:{forgot_your_password:"Passwort vergessen?",resend_confirmation_instructions:"Best\xe4tigungsmail erneut versenden",resend_unlock_instructions:"Entsperrungsmail erneut versenden",sign_in:"Anmeldung",sign_in_with_omniauth_provider:"Mit %{provider} anmelden",sign_up:"Registrieren"},login:{remember_me:"Erinnere dich an mich",submit:"Login",title:"Login"},password:{title:"Passwort"},resend_confirmation_instructions:{submit:"Senden",title:"Best\xe4tigungsmail erneut versenden"},reset_password:{submit:"Mein Passwort zur\xfccksetzen",title:"Passwort vergessen?"},sign_up:{submit:"Registrieren",title:"Registrieren"},subdomain:{title:"Subdomain"},unlock:{submit:"Senden",title:"Entsperrinformationen senden"},username:{title:"Benutzername"}},download:"Herunterladen:",dropdown_actions:{button_label:"Aktionen"},edit:"Bearbeiten",edit_model:"%{model} bearbeiten",empty:"Leer",equal_to:"Gleich",filter:"Filtern",filters:{buttons:{clear:"Filter zur\xfccksetzen",filter:"Filter"},predicates:{contains:"Enth\xe4lt",ends_with:"Endet mit",equals:"Ist gleich",greater_than:"Gr\xf6\xdfer als",less_than:"Kleiner als",starts_with:"Beginnt mit"}},greater_than:"Gr\xf6\xdfer als",has_many_delete:"L\xf6schen",has_many_new:"%{model} hinzuf\xfcgen",has_many_remove:"Entfernen",index_list:{block:"Liste",blog:"Blog",grid:"Grid",table:"Tabelle"},less_than:"Kleiner als",logout:"Abmelden",main_content:"Bitte implementieren Sie %{model}#main_content, um Inhalte anzuzeigen.",new_model:"%{model} erstellen",next:"Weiter",pagination:{empty:"Keine %{model} gefunden",entry:{one:"Eintrag",other:"Eintr\xe4ge"},multiple:"Zeige %{model} <b>%{from}&nbsp;\u2013&nbsp;%{to}</b> von <b>%{total}</b>",multiple_without_total:"Zeige %{model} <b> %{from}&nbsp;-&nbsp;%{to}</b>",one_page:"Zeige <b>alle %{n}</b> %{model}",one:"Zeige <b>1</b> %{model}"},powered_by:" ",previous:"Zur\xfcck",scopes:{frozen:"Alle",publications:"Nur Ver\xf6ffentlichungen",publications_and_user_snapshots:"Nur Ver\xf6ffentlichungen/Sicherungen"},search_field:"Durchsuche %{field}",sidebars:{filters:"Filter",folders:"Ordner",search_status:"Suchstatus"},status_tag:{no:"Nein",yes:"Ja"},undelete:"Wiederherstellen",unsupported_browser:{headline:"Internet Explorer Version 9 und niedriger sind nicht unterst\xfctzt.",recommendation:'Wir empfehlen ein Update des Browsers auf eine aktuelle Version von <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, oder <a href="https://mozilla.org/firefox/">Firefox</a>.',turn_off_compatibility_view:"Internet Explorer Version 9 und niedriger sind nicht unterst\xfctzt."},view:"Anzeigen",search_status:{headline:"Filter",current_scope:"Anwendungsbereich:",current_filters:"Aktuelle Filter:",no_current_filters:"Keine"}},activerecord:{attributes:{admin_user:{
created_at:"Erstellt am",current_sign_in_at:"Aktuell angemeldet seit",current_sign_in_ip:"Aktuelle IP-Adresse",email:"E-Mail",encrypted_Password:"Verschl\xfcsseltes Passwort",id:"ID",last_sign_in_at:"Letzter Login am",last_sign_in_ip:"Letzte IP-Adresse",remember_created_at:"Passwort merken seit",reset_password_sent_at:"Passwort Reset Anweisungen gesendet am",reset_password_token:"Passwort Reset Token",sign_in_count:"Anzahl Logins",updated_at:"Aktualisiert am"},"pageflow/account":{created_at:"Erstellt am",default_file_rights:"Standard Urheber",default_theming:"Standard-Theming",entries_count:"# Beitr\xe4ge",landing_page_name:"Einstiegsseite",name:"Name",own_role:"Eigene Rolle",users_count:"# Benutzer"},"pageflow/audio_file":{duration:"L\xe4nge",format:"Format"},"pageflow/chapter":{display_parent_page_button:"'\xdcbergeordnete Seite'-Button anzeigen",navigation_bar_mode:"Navigationsleiste",parent_page_perma_id:"\xdcbergeordnete Seite",title:"Titel"},"pageflow/entry":{account:"Konto",author:"Autor",created_at:"Erstellt am",credits:"Credits",edited_at:"Ge\xe4ndert am",embed_code:"Einbetten",emphasize_chapter_beginning:"Kapitelanfang hervorheben",emphasize_new_pages:"Neue Seiten hervorheben",first_published_at:"Erstmals ver\xf6ffentlicht am",home_button_enabled:"Home-Button anzeigen",home_url:"Home-Button URL",keywords:"Schl\xfcsselw\xf6rter",locale:"Sprache",manual_start:"Multimedia Hinweis vor dem Start anzeigen",overview_button_enabled:"\xdcbersicht-Button anzeigen",own_role:"Rolle","published?":"Ver\xf6ffentlichungstatus",published_at:"Ver\xf6ffentlicht seit",published_revision_published_at:"Ver\xf6ffentlicht am",publisher:"Herausgeber",share_image_id:"Social Sharing Bild",share_url:"Social Sharing URL",summary:"Zusammenfassung",theme_name:"Theme",title:"Titel",updated_at:"Ge\xe4ndert am",url:"Permalink",with_publication_state:"Ver\xf6ffentlichungsstatus"},"pageflow/folder":{account:"Konto",name:"Name"},"pageflow/image_file":{dimensions:"Ma\xdfe"},"pageflow/membership":{account:"Konto",created_at:"Mitglied seit",entity:"Entit\xe4t",entry:"Beitrag",role:"Rolle",user:"Redakteur"},"pageflow/page":{additional_description:"Beschreibung f\xfcr Infobox",additional_title:"Titel f\xfcr Infobox",allow_full_screen:"Vollbild Anzeige erlauben",atmo_audio_file_id:"Atmo-Audio",atmo_during_playback:"Atmo w\xe4hrend Medien-Wiedergabe",audio_file_id:"Audio",auto_change_page_on_ended:"Am Ende weiterbl\xe4ttern",autoplay:"Automatische Wiedergabe",background_image_id:"Hintergrundbild",background_video_id:"Hintergrundvideo",delayed_text_fade_in:"Text verz\xf6gert einblenden",description:"Beschreibung f\xfcr \xdcbersicht",display_in_navigation:"In Navigationsleiste anzeigen",emphasize_in_navigation:"In Navigationsleiste hervorheben",gradient_opacity:"Intensit\xe4t der Abblendung",hide_title:"Titel ausblenden",invert:"Farben invertieren",linked_page_ids:"Seiten verkn\xfcpfen",linked_pages_layout:"Hervorgehobenes Element",mobile_poster_image_id:"Posterbild (mobil)",poster_image_id:"Posterbild",scroll_indicator_mode:"Sichtbare Scroll Indikatoren",scroll_indicator_orientation:"Scroll Indikator Ausrichtung",subtitle:"Untertitel",tagline:"Tagline",template:"Seitentyp",text:"Text",text_position:"Textposition",thumbnail_image_id:"Thumbnail",title:"Titel",transition:"\xdcbergangseffekt",video_file_id:"Video",linked_external_site_perma_ids:"Externe Seiten",image_description:"Bildunterschrift",inline_text_position:"Flie\xdftextposition",invert_text:"Farben des Textbereichs invertieren",invert_title:"Farben des Titelbereichs invertieren",prevent_fullscreen:"Vollbildansicht ausschalten",sticky_inline_image:"Bild an Seite haften",text_coverage:"Textabdeckung",text_image_id:"Bild im Text",text_titel:"\xdcberschrift",text_title:"Texttitel",title_position:"Titelposition",topasset_dim:"Abblenden",topasset_parallax:"Parallax",embedded_video_id:"Video URL",full_width:"Gesamte Breite nutzen",video_caption:"Bildunterschrift",after_image_id:"Nachher-Bild",before_image_id:"Vorher-Bild",control_bar_text:"Start-Button Beschriftung"},"pageflow/revision":{created_at:"Erstellt am",created_with:"Erstellt durch",creator:"Erstellt von",frozen_at:"Stand vom",published_at:"Publiziert am",published_until:"Publiziert bis",updated_at:"Ge\xe4ndert am"},"pageflow/text_track_file":{kind:"Art",label:"Label",srclang:"Sprache"},"pageflow/theming":{additional_cnames:"Zus\xe4tzliche CNAMES",cname:"CNAME",copyright_link_label:"Copyright-Link Text",copyright_link_url:"Copyright-Link URL",default_author:"Standard Autor",default_keywords:"Standard Schl\xfcsselw\xf6rter",default_publisher:"Standard Herausgeber",home_button_enabled_by_default:"Home-Button in neuen Beitr\xe4gen anzeigen",home_url:"Redirect URL",imprint_link_label:"Impressum-Link Text",imprint_link_url:"Impressum-Link URL",theme_name:"Theme"},"pageflow/video_file":{dimensions:"Ma\xdfe",duration:"L\xe4nge",format:"Format"},user:{account:"Konto",admin:"System-Administrator","admin?":"System-Administrator",created_at:"Registriert seit",current_password:"Aktuelles Passwort",current_sign_in_at:"Aktuell angemeldet seit",email:"E-Mail-Adresse",entry:"Beitrag",first_name:"Vorname",full_name:"Name",initial_account:"Konto",initial_role:"Rolle",last_name:"Nachname",last_sign_in_at:"Zuletzt angemeldet am",locale:"Sprache",membership:"Mitgliedschaft",password:"Passwort",password_confirmation:"Passwort wiederholen",role:"Rolle",sign_in_count:"# Anmeldungen","suspended?":"Gesperrt",unconfirmed_email:"Noch nicht best\xe4tigte E-Mail-Adresse"},"pageflow/internal_links/page_link":{thumbnail_image_id:"Bild"},"pageflow/external_links/site":{description:"Beschreibung",open_in_new_tab:"In neuem Tab \xf6ffnen",thumbnail:"Teaserbild",title:"Titel",url:"Ziel URL"},"pageflow/linkmap_page/area":{inverted:"Invertieren",link_description:"Linkbeschreibung: Text",link_title:"Linkbeschreibung: Titel",marker:"Linkmarkierung",mask_perma_id:"Maske",name:"Bezeichnung",page_transition:"Seitenwechsel-Animation",target_id:"Ziel",target_type:"Bereichstyp"}},errors:{messages:{accepted:"muss akzeptiert werden",blank:"muss ausgef\xfcllt werden",confirmation:"stimmt nicht mit der Best\xe4tigung \xfcberein",empty:"muss ausgef\xfcllt werden",equal_to:{one:"muss genau %{count} sein",other:"muss genau %{count} sein"},even:"muss gerade sein",exclusion:"ist nicht verf\xfcgbar",greater_than:{one:"muss gr\xf6\xdfer als %{count} sein",other:"muss gr\xf6\xdfer als %{count} sein"},greater_than_or_equal_to:{one:"muss gr\xf6\xdfer oder gleich %{count} sein",other:"muss gr\xf6\xdfer oder gleich %{count} sein"},inclusion:"ist kein g\xfcltiger Wert",invalid:"ist nicht g\xfcltig",invalid_date:"ist kein g\xfcltiges Datum",less_than:{one:"muss kleiner als %{count} sein",other:"muss kleiner als %{count} sein"},less_than_or_equal_to:{one:"muss kleiner oder gleich %{count} sein",other:"muss kleiner oder gleich %{count} sein"},not_a_number:"ist keine Zahl",not_an_integer:"muss ganzzahlig sein",odd:"muss ungerade sein",record_invalid:"G\xfcltigkeitspr\xfcfung ist fehlgeschlagen: %{errors}",taken:"ist bereits vergeben",too_long:{one:"ist zu lang (nicht mehr als %{count} Zeichen)",other:"ist zu lang (nicht mehr als %{count} Zeichen)"},too_short:{one:"ist zu kurz (nicht weniger als %{count} Zeichen)",other:"ist zu kurz (nicht weniger als %{count} Zeichen)"},validation:"muss mindestens 5 Zeichen lang sein und eine Ziffer beinhalten.",wrong_length:{one:"hat die falsche L\xe4nge (muss genau %{count} Zeichen haben)",other:"hat die falsche L\xe4nge (muss genau %{count} Zeichen haben)"}},models:{"pageflow/entry":{attributes:{folder:{must_be_same_account:"Ordner muss zu gleichem Konto geh\xf6ren wie Beitrag"}}}}},models:{account:{one:"Konto",other:"Konten"},admin_user:{one:"System-Administrator",other:"System-Administratoren"},entry:{one:"Beitrag",other:"Beitr\xe4ge"},folder:{one:"Ordner",other:"Ordner"},membership:{one:"Mitgliedschaft",other:"Mitgliedschaften"},"pageflow/account":{one:"Konto",other:"Konten"},"pageflow/audio_file":{one:"Audiodatei",other:"Audiodateien"},"pageflow/entry":{one:"Beitrag",other:"Beitr\xe4ge"},"pageflow/folder":{one:"Ordner",other:"Ordner"},"pageflow/image_file":{one:"Bilddatei",other:"Bilddateien"},"pageflow/membership":{one:"Mitgliedschaft",other:"Mitgliedschaften"},"pageflow/revision":{one:"Revision",other:"Revisionen"},"pageflow/text_track_file":{one:"Textspur-Datei",other:"Textspur-Dateien"},"pageflow/theming":{one:"Theming",other:"Themings"},"pageflow/video_file":{one:"Videodatei",other:"Videodateien"},revision:{one:"Revision",other:"Revisionen"},theming:{one:"Theming",other:"Themings"},user:{one:"Nutzer",other:"Nutzer"}},values:{"pageflow/chapter":{navigation_bar_mode:{all:"Alle Seiten zeigen",current_chapter:"Nur aktuelles Kapitel",inherit_from_parent:"Von \xfcbergeordnetem Kapitel erben",non:"Ausblenden",same_parent_chapter:"Nur Kapitel mit gleichem \xfcbergeordneten Kapitel",same_parent_page:"Nur Kapitel mit gleicher \xfcbergeordneter Seite"}},"pageflow/entry":{publication_states:{not_published:"Nicht ver\xf6ffentlicht",published_with_password_protection:"Mit Passwortschutz ver\xf6ffentlicht",published_without_password_protection:"Ohne Passwortschutz ver\xf6ffentlicht"}},"pageflow/membership":{role:{editor:"Redakteur",manager:"Administrator",member:"Mitglied",previewer:"Pr\xfcfer",publisher:"Ver\xf6ffentlicher"}},"pageflow/page":{atmo_during_playback:{mute:"Ausblenden",play:"Weiterspielen",turn_down:"Leiser weiterspielen"},delayed_text_fade_in:{"long":"Lange Verz\xf6gerung",medium:"Mittlere Verz\xf6gerung",no_fade:"Nicht verz\xf6gert einblenden","short":"Kurze Verz\xf6gerung"},linked_pages_layout:{"default":"(Kein)",hero_top_left:"Links oben",hero_top_right:"Rechts oben"},scroll_indicator_mode:{all:"Vorw\xe4rts und zur\xfcck",non:"Keine",only_back:"Nur zur\xfcck",only_next:"Nur vorw\xe4rts"},scroll_indicator_orientation:{horizontal:"Horizontal",vertical:"Vertikal"},template:{audio:"Audio",background_image:"Hintergrund-Bild",internal_links:"Seiten-Verweise",video:"Video"},text_position:{left:"Links",right:"Rechts",center:"Zentriert"},transition:{fade:"\xdcberblenden",scroll:"Scrollen"},inline_text_position:{center:"Zentriert",left:"Links",right:"Rechts"},text_coverage:{banner:"Banner",extend_into:"Text ragt hinein",title_only:"Nur Titel"}},"pageflow/linkmap_page/area":{marker:{dynamic_marker:"Flexible Markierung",no_marker:"Keine Markierung"},target_type:{audio_file:"Audio Datei",external_site:"Externer Verweis",page:"Seitenverweis",text_only:"Nur Text"}}}},date:{abbr_day_names:["So","Mo","Di","Mi","Do","Fr","Sa"],abbr_month_names:[null,"Jan","Feb","M\xe4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_names:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],formats:{"default":"%d.%m.%Y","long":"%e. %B %Y","short":"%e. %b"},month_names:[null,"Januar","Februar","M\xe4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],order:["day","month","year"]},datetime:{distance_in_words:{about_x_hours:{one:"etwa eine Stunde",other:"etwa %{count} Stunden"},about_x_months:{one:"etwa ein Monat",other:"etwa %{count} Monate"},about_x_years:{one:"etwa ein Jahr",other:"etwa %{count} Jahre"},almost_x_years:{one:"fast ein Jahr",other:"fast %{count} Jahre"},half_a_minute:"eine halbe Minute",less_than_x_minutes:{one:"weniger als eine Minute",other:"weniger als %{count} Minuten"},less_than_x_seconds:{one:"weniger als eine Sekunde",other:"weniger als %{count} Sekunden"},over_x_years:{one:"mehr als ein Jahr",other:"mehr als %{count} Jahre"},x_days:{one:"ein Tag",other:"%{count} Tage"},x_minutes:{one:"eine Minute",other:"%{count} Minuten"},x_months:{one:"ein Monat",other:"%{count} Monate"},x_seconds:{one:"eine Sekunde",other:"%{count} Sekunden"}},prompts:{day:"Tag",hour:"Stunden",minute:"Minuten",month:"Monat",second:"Sekunden",year:"Jahr"}},devise:{confirmations:{confirmed:"Vielen Dank f\xfcr die Best\xe4tigung deiner E-Mail-Adresse.",send_instructions:"Du erh\xe4ltst in wenigen Minuten eine E-Mail, mit der du deine Registrierung best\xe4tigen kannst.",send_paranoid_instructions:"Falls deine E-Mail-Adresse in unserer Datenbank existiert, erh\xe4ltst du in K\xfcrze eine E-Mail mit der du die Registrierung best\xe4tigen kannst."},failure:{admin_user:{invalid:"Benutzername oder Kennwort nicht korrekt.",unauthenticated:"Bitte melden Sie sich als System-Administrator an."},already_authenticated:"Du bist bereits angemeldet.",inactive:"Dein Account ist nicht aktiv.",invalid:"Ung\xfcltige Anmeldedaten. Bitte \xfcberpr\xfcfe, ob du dich beim Passwort oder Benutzernamen vertippt hast.",invalid_token:"Der Anmelde-Token ist ung\xfcltig.",locked:"Dein Account ist f\xfcr einige Minuten gesperrt, da das Passwort zu oft falsch eingegeben wurde.",not_found_in_database:"Es wurde kein Benutzer mit diesen Anmeldedaten gefunden.",timeout:"Deine Sitzung ist abgelaufen, bitte melde Dich erneut an.",unauthenticated:"Du musst dich anmelden oder registrieren, bevor du fortfahren kannst.",unconfirmed:"Du musst deinen Account best\xe4tigen, bevor du fortfahren kannst."},mailer:{confirmation_instructions:{subject:"Best\xe4tigung"},reset_password_instructions:{subject:"Anleitung um dein Passwort zur\xfcckzusetzen"},unlock_instructions:{subject:"Anleitung um deinen Account freizuschalten"}},oauth_providers:{facebook:"Facebook",google_oauth2:"Google"},omniauth_callbacks:{failure:'Du kannst nicht mit deinem %{kind}-Account angemeldet werden, weil "%{reason}".',success:"Du hast dich erfolgreich mit deinem %{kind}-Account angemeldet."},passwords:{no_token:'Du musst diese Seite von einem Link aus der "Passwort zur\xfccksetzen" E-Mail aufrufen. Achte dabei darauf, dass der Link die vollst\xe4ndige URL enth\xe4lt.',send_instructions:"Du erh\xe4ltst in K\xfcrze eine E-Mail mit der Anleitung, wie das Passwort zur\xfcckgesetzt werden kann.",send_paranoid_instructions:"Wenn Deine E-Mail-Adresse in unserer Datenbank existiert, erh\xe4ltst du in K\xfcrze eine E-Mail mit der Anleitung, wie das Passwort zur\xfcckgesetzt werden kann.",updated:"Dein Passwort wurde ge\xe4ndert. Du bist jetzt angemeldet.",updated_not_active:"Dein Passwort wurde ge\xe4ndert."},registrations:{destroyed:"Dein Account wurde gel\xf6scht.",edit:{are_you_sure:"Bist du sicher?",change_password:"Passwort \xe4ndern",delete_account:"Account l\xf6schen",submit:"Daten speichern",userdata:"Benutzerdaten"},"new":{cancel_oauth_sign_up:"Abbrechen",registration:"Registrierung",sign_up_with_facebook:"Mit Facebook anmelden",sign_up_with_google:"Mit Google anmelden",submit:"Daten speichern"},signed_up:"Du hast dich erfolgreich registriert und bist nun angemeldet.",signed_up_but_inactive:"Du hast dich erfolgreich registriert. Wir konnten dich aber noch nicht anmelden, da dein Account inaktiv ist.",signed_up_but_locked:"Du hast dich erfolgreich registriert. Wir konnten dich aber noch nicht anmelden, da dein Account gesperrt ist.",signed_up_but_unconfirmed:"Du hast dich erfolgreich registriert. Wir konnten dich aber noch nicht anmelden, da dein Account noch nicht best\xe4tigt ist. Du erh\xe4ltst in K\xfcrze eine E-Mail mit der Anleitung, wie du deinen Account freischalten kannst.",update_needs_confirmation:"Deine Daten wurden aktualisiert, aber du musst deine neue E-Mail-Adresse best\xe4tigen. Du erh\xe4ltst in wenigen Minuten eine E-Mail, mit der du die \xc4nderung deiner E-Mail-Adresse abschlie\xdfen kannst.",updated:"Deine Daten wurden aktualisiert."},sessions:{admin_user:{signed_in:"Erfolgreich als System-Administrator angemeldet."},"new":{sign_in_with_facebook:"Mit Facebook anmelden",sign_in_with_google:"Mit Google anmelden"},signed_in:"Erfolgreich angemeldet.",signed_out:"Erfolgreich abgemeldet."},unlocks:{send_instructions:"Du erh\xe4ltst in K\xfcrze eine E-Mail mit der Anleitung, wie du deinen Account entsperren kannst.",send_paranoid_instructions:"Falls deine E-Mail-Adresse in unserer Datenbank existiert, erh\xe4ltst du in wenigen Minuten eine E-Mail mit der Anleitung, wie du deinen Account entsperren kannst.",unlocked:"Dein Account wurde entsperrt. Du bist jetzt angemeldet."}},errors:{format:"%{attribute} %{message}",messages:{accepted:"muss akzeptiert werden",already_confirmed:"wurde bereits best\xe4tigt",blank:"muss ausgef\xfcllt werden",confirmation:"stimmt nicht mit der Best\xe4tigung \xfcberein",confirmation_period_expired:"muss innherhalb von %{period} best\xe4tigt werden, bitte einen neuen Link anfordern",empty:"muss ausgef\xfcllt werden",equal_to:{one:"muss genau %{count} sein",other:"muss genau %{count} sein"},even:"muss gerade sein",exclusion:"ist nicht verf\xfcgbar",expired:"ist abgelaufen, bitte neu anfordern",greater_than:{one:"muss gr\xf6\xdfer als %{count} sein",other:"muss gr\xf6\xdfer als %{count} sein"},greater_than_or_equal_to:{one:"muss gr\xf6\xdfer oder gleich %{count} sein",other:"muss gr\xf6\xdfer oder gleich %{count} sein"},inclusion:"ist kein g\xfcltiger Wert",invalid:"ist nicht g\xfcltig",invalid_date:"ist kein g\xfcltiges Datum",less_than:{one:"muss kleiner als %{count} sein",other:"muss kleiner als %{count} sein"},less_than_or_equal_to:{one:"muss kleiner oder gleich %{count} sein",other:"muss kleiner oder gleich %{count} sein"},not_a_number:"ist keine Zahl",not_an_integer:"muss ganzzahlig sein",not_found:"nicht gefunden",not_locked:"ist nicht gesperrt",not_saved:{one:"Registrierung kann nicht abgeschlossen werden. Ein Fehler.",other:"Registrierung kann nicht abgeschlossen werden. %{count} Fehler."},odd:"muss ungerade sein",other_than:{one:"muss ungleich %{count} sein",other:"muss ungleich %{count} sein"},present:"muss leer sein",readonly:"ist schreibgesch\xfctzt",record_invalid:"G\xfcltigkeitspr\xfcfung ist fehlgeschlagen: %{errors}",restrict_dependent_destroy:{one:"Der Datensatz kann nicht gel\xf6scht werden, da  %{record} von ihm abh\xe4ngt.",other:"Der Datensatz kann nicht gel\xf6scht werden, da %{record} von ihm abh\xe4ngen."},taken:"ist bereits vergeben",too_long:{one:"ist zu lang (nicht mehr als 1 Zeichen)",other:"ist zu lang (nicht mehr als %{count} Zeichen)"},too_short:{one:"ist zu kurz (nicht weniger als 1 Zeichen)",other:"ist zu kurz (nicht weniger als %{count} Zeichen)"},wrong_length:{one:"hat die falsche L\xe4nge (muss genau 1 Zeichen haben)",other:"hat die falsche L\xe4nge (muss genau %{count} Zeichen haben)"},in_between:"muss zwischen %{min} und %{max} sein",spoofed_media_type:"tr\xe4gt eine Dateiendung, die nicht mit dem Inhalt der Datei \xfcbereinstimmt"},template:{body:"Bitte \xfcberpr\xfcfen Sie die folgenden Felder:",header:{one:"Konnte %{model} nicht speichern: ein Fehler.",other:"Konnte %{model} nicht speichern: %{count} Fehler."}}},formtastic:{cancel:"Abbrechen",create:"%{model} speichern",no:"Nein",required:"erforderlich",reset:"%{model} zur\xfccksetzen",submit:"%{model} speichern",update:"%{model} speichern",yes:"Ja"},helpers:{select:{prompt:"Bitte w\xe4hlen"},submit:{create:"%{model} erstellen",submit:"%{model} speichern",update:"%{model} aktualisieren"}},language:"Deutsch",number:{currency:{format:{delimiter:".",format:"%n %u",precision:2,separator:",",significant:!1,strip_insignificant_zeros:!1,unit:"\u20ac"}},format:{delimiter:".",precision:2,separator:",",significant:!1,strip_insignificant_zeros:!1},human:{decimal_units:{format:"%n %u",units:{billion:{one:"Milliarde",other:"Milliarden"},million:"Millionen",quadrillion:{one:"Billiarde",other:"Billiarden"},thousand:"Tausend",trillion:"Billionen",unit:"Einheit"}},format:{delimiter:".",precision:1,significant:!0,strip_insignificant_zeros:!0},storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},gb:"GB",kb:"KB",mb:"MB",tb:"TB"}}},percentage:{format:{delimiter:".",format:"%n%"}},precision:{format:{delimiter:"."}}},pageflow:{admin:{account:{add:"Konto hinzuf\xfcgen",none_addable_tooltip:"Kein Konto verf\xfcgbar"},accounts:{no_entries:"Keine Beitr\xe4ge",no_members:"Keine Benutzer",theming_defaults_inline_help:"Die folgenden Einstellungen werden als Standard f\xfcr neue Beitr\xe4ge des Kontos verwendet. \xc4nderungen wirken sich nicht auf existierende Beitr\xe4ge aus.",widgets_inline_help:"DELETED"},entries:{add_folder:"Ordner hinzuf\xfcgen",confirm_depublish:"Soll der Beitrag wirklich depubliziert werden?",confirm_duplicate:"Beitrag wirklich duplizieren?",confirm_restore:"Soll der Beitrag wirklich auf den Stand dieser Revision zur\xfcckgesetzt werden? Vor dem Zur\xfccksetzen wird eine automatische Sicherung des aktuellen Standes erstellt.",depublish:"Beitrag depublizieren",duplicate:"Beitrag kopieren",edit:"Bearbeiten",edit_config:"Konfiguration \xe4ndern",edit_revision:"\xc4ndern",editor:"Editor",editor_hint:"Editor \xf6ffnen",embed_code_hint:"Bette den ver\xf6ffentlichten Pageflow auf einer Website ein.",entries:"Beitr\xe4ge",forever:"(unbegrenzt)",members:"Mitglieder",no_members:"Es sind keine Redakteure zugeordnet.",no_revisions:"Bisher keine Revisionen",not_published:"Nicht ver\xf6ffentlicht",password_protected:"Mit Passwortschutz",preview:"Vorschau",preview_hint:"Vorschau anzeigen",published_forever:"Ver\xf6ffentlicht",published_revision_legend:"Aktuell Ver\xf6ffentlichter Stand",published_until:"Ver\xf6ffentlicht bis %{published_until}",remove:"Entfernen",remove_logo:"Logo l\xf6schen",restore:"Wiederherstellen",revision_created_with:{auto:"Auto-Sicherung",publish:"Ver\xf6ffentlichung",restore:"Auto-Sicherung",user:"Sicherung"},revision_created_with_hint:{auto:"Dieser Stand wurde automatisch gesichert",publish:"Dieser Stand des Beitrags wurde ver\xf6ffentlicht",restore:"Dieser Stand wurde gesichert bevor eine \xe4lteren Revision des Beitrags wiederhergestellt wurde",user:"Dieser Stand wurde durch einen Benutzer gesichert"},show:"Anzeigen",show_public:"\xd6ffentlich",show_public_hint:"\xd6ffentliche Seite anzeigen",snapshot:"Aktuellen Stand sichern",title_hint:"Dieses Feld bestimmt die URL, unter der der Beitrag \xf6ffentlich erreichbar ist."},entry:{add:"Beitrag hinzuf\xfcgen",none_addable_tooltip:"Kein Beitrag verf\xfcgbar"},features:{states:{"default":"Standard (%{inherited})",disabled:"Deaktiviert",enabled:"Aktiviert",undefined:"(Standard)"}},folders:{all:"Alle",confirm_destroy:"Ordner wirklick l\xf6schen? Beitr\xe4ge bleiben erhalten.",destroy:"L\xf6schen",edit:"Bearbeiten"},memberships:{on_account:{role:{hint_html:"Dem <strong>Mitglied</strong> k\xf6nnen Sie Rollen auf einzelnen Beitr\xe4gen dieses Kontos zuweisen.<br>Der <strong>Pr\xfcfer</strong> kann zus\xe4tzlich dazu alle Beitr\xe4ge dieses Kontos anschauen, auch bevor sie ver\xf6ffentlicht sind.<br>Der <strong>Redakteur</strong> kann zus\xe4tzlich dazu alle Beitr\xe4ge dieses Kontos bearbeiten.<br>Der <strong>Ver\xf6ffentlicher</strong> kann zus\xe4tzlich dazu alle Beitr\xe4ge dieses Kontos ver\xf6ffentlichen.<br>Der <strong>Administrator</strong> kann zus\xe4tzlich dazu Benutzerrollen auf allen Beitr\xe4gen dieses Kontos setzen und bearbeiten."}},on_entry:{role:{hint_html:"Der <strong>Pr\xfcfer</strong> kann diesen Beitrag anschauen, auch bevor er ver\xf6ffentlicht ist.<br>Der <strong>Redakteur</strong> kann zus\xe4tzlich dazu den Beitrag bearbeiten.<br>Der <strong>Ver\xf6ffentlicher</strong> kann zus\xe4tzlich dazu den Beitrag ver\xf6ffentlichen.<br>Der <strong>Administrator</strong> kann zus\xe4tzlich dazu Benutzerrollen auf diesem Beitrag setzen und bearbeiten."}}},resource_tabs:{account_editor_hint:"Auf Kontoebene zugeordnete Benutzer sind hier nicht aufgef\xfchrt",accounts:"Konten",entries:"Beitr\xe4ge",features:"Features",members:"Mitglieder",revisions:"Revisionen",users:"Benutzer"},revisions:{published_until_hint:"Freilassen, um Beitrag unbegrenzt zu ver\xf6ffentlichen."},themings:{additional_cnames_hint:"Kommaseparierte Liste von weiteren CNAMES. Ausschlie\xdflich zur Auswahl der Redirect URL genutzt.",cname_hint:"Wird in Share Links verwendet.",default_author_hint:"Voreinstellung 'author' Meta-Feld f\xfcr Eintrage",default_keywords_hint:"Voreinstellung 'keywords' Meta-Feld f\xfcr Eintrage",default_publisher_hint:"Voreinstellung 'publisher' Meta-Feld f\xfcr Eintrage",home_url_hint:"Wird einer der obigen CNAMES ohne Pfad in der URL verwendet, wird zu dieser URL umgeleitet. Standard Link Ziel des Home Buttons.",name:"%{account_name}",remove_logo:"Logo entfernen",show:"Anzeigen"},user:{none_addable_tooltip:"Kein Benutzer verf\xfcgbar"},users:{account:"Profil",accounts:"Konten",add:"Benutzer hinzuf\xfcgen",add_entry:"Beitrag hinzuf\xfcgen",confirm_delete:"Soll der Benutzer wirklich gel\xf6scht werden. Alle pers\xf6nlichen Daten des Benutzers gehen verloren. Dieser Vorgang kann nicht r\xfcckgangig gemacht werden.","delete":"L\xf6schen",delete_account_membership_confirmation:"Soll die Kontomitgliedschaft des Benutzers wirklich gel\xf6scht werden?\n\nACHTUNG: Alle Beitragsmitgliedschaften des Benutzers in diesem Konto werden ebenfalls gel\xf6scht.",delete_entry_membership_confirmation:"Soll die Beitragsmitgliedschaft wirklich gel\xf6scht werden?",delete_me:{cancel_label:"Nein, mein Benutzerkonto nicht l\xf6schen",delete_label:"Benutzerkonto l\xf6schen",warning_html:"Gib Dein aktuelles Passwort ein, um zu best\xe4tigen, dass Du Dein Benutzerkonto wirklich l\xf6schen m\xf6chtest. <b>Alle Deine Daten gehen dabei verloren. Der Vorgang kann nicht r\xfcckgangig gemacht werden.</b>"},deleted:"Der Benutzer wurde gel\xf6scht.",edit:"Bearbeiten",edit_role:"Rolle \xe4ndern",email_invitation_hint:"Dem Benutzer wird eine E-Mail mit Anweisungen zum Festelegen eines Passworts gesendet.",empty:"Keine Beitr\xe4ge assoziiert. F\xfcgen Sie dem ausgew\xe4hlten Benutzer Beitr\xe4ge hinzu.",invite_user:"Benutzer einladen",me:{change_password_hint:"Freilassen um bisheriges Passwort beizubehalten.",delete_account:"Benutzerkonto l\xf6schen",delete_account_hint:"Du m\xf6chtest die Anwendung nicht mehr nutzen?",deleted:"Dein Benutzerkonto wurde gel\xf6scht.",updated:"Dein Profil wurde aktualisiert."},member_exists:"Ein Benutzer mit der angegebenen E-Mail-Adresse ist bereits Mitglied des Kontos.",member_exists_link:"Benutzer anzeigen",no_accounts:"Keine Konten",no_entries:"Keine Beitr\xe4ge",none:"Sie haben keine Beitr\xe4ge.",resend_invitation:"Einladung erneut verschicken",resent_invitation:"Der Benutzer wurde erneut per E-Mail eingeladen.",roles:{account_manager:"Account Administrator",accounts:{tooltip:{editor:"Kann Beitr\xe4ge dieses Kontos editieren",manager:"Kann Konto-Rollen setzen",member:"Kann Beitrags-Rollen auf diesem Konto innehaben",previewer:"Kann unver\xf6ffentlichte Beitr\xe4ge dieses Kontos betrachten",publisher:"Kann Beitr\xe4ge dieses Kontos ver\xf6ffentlichen"}},admin:"System Administrator",editor:"Redakteur",entries:{tooltip:{editor:"Kann Beitrag editieren",manager:"Kann Beitrags-Rollen setzen",previewer:"Kann Beitrag unver\xf6ffentlicht betrachten",publisher:"Kann Beitrag ver\xf6ffentlichen"}},manager:"Administrator",member:"Mitglied",own_account_role:{tooltip:{editor:"Du kannst Beitr\xe4ge in diesem Konto editieren",manager:"Du kannst Benutzer und Beitr\xe4ge in diesem Konto verwalten",member:"Du kannst Beitrags-Rollen auf diesem Konto innehaben",previewer:"Du kannst Beitr\xe4ge in diesem Konto unver\xf6ffentlicht betrachten",publisher:"Du kannst Beitr\xe4ge in diesem Konto ver\xf6ffentlichen"}},own_entry_role:{tooltip:{editor:"Du kannst diesen Beitrag editieren",manager:"Du kannst Beitrags-Rollen setzen",previewer:"Du kannst diesen Beitrag unver\xf6ffentlicht betrachten",publisher:"Du kannst diesen Beitrag ver\xf6ffentlichen"}},previewer:"Pr\xfcfer",publisher:"Ver\xf6ffentlicher"},suspend:"Sperren",suspended:"Der Benutzer wurde gesperrt. Er kann sich nun nicht mehr anmelden.",unsuspend:"Entsperren",unsuspended:"Der Benutzer wurde entsperrt. Er kann sich nun wieder anmelden."}},audio:{help_entries:{page_type:{menu_item:"Audio",text:"# Audio\n\n*Wiedergabe von Audiodatei mit Steuerelementen* \n    \nHiermit kannst Du Audiodateien mit Hintergrund-Bild oder Hintergrund-Video und Textinhalten\nkombinieren. Wie beim Seitentyp \u201eVideo\u201c werden\nSteuerelemente angezeigt, und ebenso kann eine zus\xe4tzliche\nInfobox mit Text bef\xfcllt werden.\n\nTypische Anwendungsbeispiele: Interview, O-T\xf6ne,\nMusikst\xfccke"}},open:"Audio anh\xf6ren",page_type_category_name:"Media",page_type_description:"Wiedergabe von Audiodatei mit Steuerelementen",page_type_name:"Audio"},auto_change_page:{feature_name:"Automatischer Seitenwechsel"},background_image:{help_entries:{page_type:{menu_item:"Hintergrund-Bild/-Video",text:"# Hintergrund-Bild/-Video\n\nBildschirmf\xfcllendes Bild und Text\n\nMit dem Seitentyp \u201eHintergrund-Bild/-Video\u201c werden gro\xdfformatige\nBilder oder Videos mit Text \xfcberlagert und zur optimalen Lesbarkeit\nmit einem manuell einstellbaren Farbverlauf gepaart. \xfcber\ndie Auswahl des Bildausschnitts stellst Du sicher, dass\nDein Bild auch auf mobilen Endger\xe4ten optimal dargestellt\nwird. Wahlweise kann der Text f\xfcr einen ausreichenden\nKontrast auch invertiert - also von hell in dunkel -\nvertauscht werden. Das bietet sich bei hellen\nHintergrund-Bildern an.\n\nUser haben \xfcbrigens die M\xf6glichkeit Farbverlauf und Text\nim Front-End auszublenden, sofern Sie sich speziell f\xfcr\ndas Hintergrund-Bild oder - Video interessieren.\n\nTypische Anwendungsbeispiele: Pr\xe4sentation, Teil einer\nBildergalerie, Portrait"}},page_type_category_name:"Basic",page_type_description:"Bildschirmf\xfcllendes Bild oder Video-Loop mit Text",page_type_name:"Hintergrund Bild/Video"},chapter_hierachy:{feature_name:"Kapitel Hierachie"},common_page_attributes:{background_type:{inline_help:"Im Hintergund der Seite kann entweder ein Bild oder ein Video-Loop angezeigt werden.",label:"Hintergrund-Typ",values:{image:"Hintergrund-Bild",video:"Hintergrund-Video (Loop)"}},mobile_poster_image_id:{inline_help:"Bild, das in der Mobilvariante der Seite an Stelle des Hintergrund-Videos gezeigt werden soll."},poster_image_id:{inline_help:"Wird angezeigt, bevor das Video startet."}},common_page_link_attributes:{label:{inline_help:"Gib hier eine Bezeichnung ein, um sp\xe4ter bei in der Verweis-\xdcbersicht direkt zu erkennen, um welchen Verweis es sich handelt. Die Bezeichnung ist f\xfcr die Leser nicht sichtbar.",label:"Bezeichnung"},page_transition:{inline_help:"W\xe4hle hier den Effekt, der beim \xdcbergang zur Zielseite des Verweises benutzt werden soll.",label:"Seiten\xfcbergangseffekt"},target_page_id:{inline_help:"Auf diese Seite kommt der Leser beim Klick auf den Verweis.",label:"Zielseite"}},config:{text_track_kind:{captions:"Ton-Ersatz-Textspur",descriptions:"Bild-Ersatz-Textspur",subtitles:"\xdcbersetzungs-Textspur"}},default_theme:{name:"Standard"},delayed_text_fade_in:{feature_name:"Text verz\xf6gert einblenden"},devise:{mailer:{reset_password_instructions:{ignore_hint:"Falls Du diese Anfrage zur Passwort\xe4nderung gar nicht selbst gestartet hast, ignorier diese Mail einfach. Dein Passwort wird nicht ge\xe4ndert, bevor du den oben stehenden Link nicht best\xe4tigt hast und im Anschluss ein neues Passwort anlegst.",instruction:"f\xfcr dein pers\xf6nliches Pageflow-Benutzerkonto wurde ein Link zur Passwort\xe4nderung angefordert. Du kannst diese Aktion durchf\xfchren, indem du folgenden Link anklickst.",salutation:"Hallo %{first_name}"}}},edit_locks:{break_action:{acquire:"Stattdessen hier bearbeiten"},errors:{held_by_other_session_error:{acquire_html:"<p>Sie haben diesen Beitrag in einem anderen Fenster ge\xf6ffnet.</p>",other_html:"<p>Sie haben diesen Beitrag in einem anderen Fenster ge\xf6ffnet. Laden Sie die Seite neu und klicken Sie auf 'Stattdessen hier bearbeiten', um den akutellen Stand des Beitrags zu sehen.</p><p>Wenn Sie die Bearbeitung hier fortsetzen, gehen m\xf6glicherweise \xc4nderungen verloren.</p>"},held_by_other_user_error:{acquire_html:"<p>Dieser Beitrag wird im Moment von <strong>%{user_name}</strong> bearbeitet. Klicken Sie auf 'Stattdessen hier bearbeiten', um die Bearbeitung durch den anderen Benutzers abzubrechen.</p>",other_html:"<p><strong>%{user_name}</strong> hat ihre Bearbeitung abgebrochen. Laden Sie die Seite neu und klicken Sie auf 'Stattdessen hier bearbeiten', um den aktuellen Stand des Beitrags zu sehen.</p><p>Wenn Sie die Bearbeitung hier fortsetzen, gehen m\xf6glicherweise \xc4nderungen des anderen Benutzers verloren.</p>"},not_held_error:{other_html:"<p>Die Bearbeitung des Beitrags wurde au\xdferhalb dieses Editor beendet. Laden Sie die Seite neu, um den akutellen Stand des Beitrags zu sehen.</p><p>Wenn Sie die Bearbeitung hier fortsetzen, gehen m\xf6glicherweise \xc4nderungen verloren.</p>"}},required:"Die Aktion kann nicht durchgef\xfchrt werden, da der Beitrag gerade in einem Editor ge\xf6ffnet ist.",
required_but_held_by_other_user:"Die Aktion kann nicht durchgef\xfchrt werden, da der Beitrag gerade von einem anderen Benutzer bearbeitet wird."},editor:{atmo:{disabled:"Atmo deaktiviert"},blank_entry:{create_chapter:"Klicke jetzt auf <em>Neues Kapitel</em>, um ein erstes Kapitel zu erstellen.",create_page:"Klicke dann auf <em>Neue Seite</em>, um dem Kapitel eine erste Seite hinzuzuf\xfcgen.",edit_page:"Klicke auf eine Seite, um ihren Inhalt zu bearbeiten.",header:"Dies ist ein leerer Pageflow",intro:"Pageflows bestehen aus Kapiteln und Seiten. In der Seitenleiste rechts findest Du die Gliederung.",outro:"Hier siehst Du dann eine Vorschau deines Pageflows."},entries:{unsupported_browser_hint:{message:"Die Version Ihres Browsers wird vom Pageflow Editor nicht unterst\xfctzt. Bitte benutzen Sie einen aktuellen Browser."}},errors:{UnmatchedUploadError:"Der Dateityp wird nicht unterst\xfctzt.",invalid_nested_type_error:"Fehler: Upload-Datei '%{name}' ist eine %{type}. Es sind nur folgende Arten von Dateien erlaubt: %{validList}",nested_type_error:"Fehler beim Upload von '%{name}': %{type} k\xf6nnen nicht als unabh\xe4ngige Dateien hochgeladen werden. Verwende das Einstellungen-Men\xfc einer Datei des folgenden Typs: %{validList}",unknown:"Ein unbekannter Fehler ist aufgetreten.",unmatched_upload_error:"Kein passender Verwendungszweck gefunden f\xfcr Upload '%{name}' vom Typ '%{type}'.",upload:{type_empty:"kein"}},file_settings_dialog:{tabs:{video_settings_tab:"Video-Details"}},files:{common_attributes:{alt:{inline_help:"Ein Hinweis darauf, was in dem dargestellten Element zum Ausdruck kommt. Der Text ist im Beitrag nicht sichtbar, kann aber von Screen-Readern verarbeitet werden und tr\xe4gt somit zur barrierearmen Gestaltung der Inhalte bei.",label:"Alt-Text"},file_name:{column_header:"Dateiname",label:"Dateiname"},original_url:{label:"Original"},rights:{cell_title:{blank:"Noch nicht ausgef\xfcllt",present:"Ausgef\xfcllt: %{value}"},column_header:"Rechte",inline_help:"Wird im Copyright-Bereich des Beitrags angezeigt.",label:"Rechte"},text_tracks:{label:"Untertitel"}},settings_dialog_tabs:{general:"Metadata",text_tracks:"Textspuren"},stages:{encoding:{action_required:"Best\xe4tigung erforderlich.",active:"Encoding l\xe4uft.",failed:"Fehler beim Encoding.",finished:"Erfolgreich encodiert.",pending:"Noch nicht encodiert."},fetching_meta_data:{active:"Metadaten werden abgerufen.",failed:"Fehler beim Abrufen der Metadaten.",finished:"Metadaten erfolgreich abgerufen.",pending:"Metadaten noch nicht abgerufen."},processing:{active:"Verarbeitung l\xe4uft.",failed:"Fehler beim Verarbeiten.",finished:"Erfolgreich verarbeitet.",pending:"Noch nicht verarbeitet."},uploading:{active:"Wird hochgeladen.",failed:"Fehler beim hochladen.",finished:"Erfolgreich hochgeladen.",pending:"Noch nicht hochgeladen."},uploading_to_s3:{active:"Wird zu S3 \xfcbertragen.",failed:"Fehler beim \xfcbertragen zu S3.",finished:"Erfolgreich zu S3 \xfcbertragen.",pending:"Noch nicht zu S3 \xfcbertragen."}},tabs:{audio_files:"Audios",image_files:"Bilder",video_files:"Videos"}},nested_files:{text_track_files:{"delete":{cell_title:"Textspur l\xf6schen",column_header:" "},file_name:{inline_help_html:"<ul><li>Wenn der Dateiname dem Schema <strong>dateiname.wx_YZ.vtt</strong> folgt, findet Pageflow automatisch den Sprachcode, in diesem Fall <strong>wx</strong>.</li><li>Ein <strong>Beispiel-Dateiname</strong> f\xfcr Deutsch (de) ist <strong>untertitel.de_DE.vtt</strong>.</li></ul>"},kind:{cell_title:{captions:"Ton-Ersatz-Textspur",descriptions:"Bild-Ersatz-Textspur",subtitles:"\xdcbersetzungs-Textspur"},column_header:"Art",inline_help_html:"<ul><li><strong>Ton-Ersatz-Textspuren</strong> richten sich an Nutzer, welche eine Textspur besser verstehen als eine Tonspur.</li><li><strong>\xdcbersetzungs-Textspuren</strong> richten sich an Nutzer, welche eine andere Sprache besser verstehen als die Sprache der Tonspur.</li><li><strong>Bild-Ersatz-Textspuren</strong> richten sich an Nutzer, welche eine Textspur besser verstehen als eine Bildspur. Bild-Ersatz-Textspuren werden in der Regel von Screenreadern o.\xe4. vorgelesen, welche die Nutzer bereithalten.</li></ul>",label:"Art"},label:{column_header:"Label",inline_help:"Wird im Textspuren-Auswahlmen\xfc des Media Players angezeigt.",label:"Label"},no_files_blank_slate:"F\xfcr diese Datei gibt es momentan keine Textspuren.",srclang:{cell_title:{blank:"Noch nicht ausgef\xfcllt",present:"Ausgef\xfcllt: %{value}"},column_header:"Sprache",inline_help_html:"<ul><li>Die Sprache einer Textspur wird als Zwei-Buchstaben-Code nach ISO 639.1 angegeben.</li> <li><strong>Beispiele:</strong> 'de' f\xfcr Deutsch oder 'en' f\xfcr Englisch.</li> <li>Den Sprachcode findet man meist auf der Wikipedia-Seite zur jeweiligen Sprache.</li></ul>",label:"Sprache"}}},quotas:{loading:"Quotas \xfcberpr\xfcfen..."},templates:{back_button_decorator:{outline:"Gliederung"},background_positioning:{cancel:"Abbrechen",close:"Schlie\xdfen",help:"\xdcber die Auswahl des Bildausschnitts stellst Du sicher, dass Dein Bild auch auf mobilen Endger\xe4ten optimal dargestellt wird.",preview_title:"Vorschau",previews:{banner:"Banner",ratio16to9:"16:9 Landscape",ratio16to9Portrait:"16:9 Portrait",ratio4to3:"4:3 Landscape",ratio4to3Portrait:"4:3 Portrait"},save:"Speichern",title:"Bildausschnitt anpassen"},change_theme_dialog:{close:"Schlie\xdfen",header:"Themes",preview_header_prefix:"Vorschau",preview_header_suffix:"-Theme"},chapter_item:{new_page:"Neue Seite",save_error:"Beim Speichern des Kapitels ist ein Fehler aufgetreten."},confirm_encoding:{all_released:"Alle Dateien wurden zur Transcodierung freigegeben.",audios_tab:"Audios",confirm_button:"Ausgew\xe4hlte Dateien transcodieren",link_to_progress:"Auf der %{link} Seite wird der Fortschritt der Verarbeitung angezeigt.",manage_files:"Dateien verwalten",videos_tab:"Videos"},confirm_upload:{close:"Abbrechen",edit_file_header:"Metadaten",header:"Dateien hinzuf\xfcgen",hint:"Bearbeite die Metadaten der Dateien und starte dann den Upload.",upload:"Upload starten"},confirmable_file_item:{remove:"L\xf6schen"},edit_chapter:{destroy:"L\xf6schen",outline:"Gliederung",retry:"Erneut versuchen",save_error:"Beim Speichern des Kapitels ist ein Problem aufgetreten."},edit_entry:{close:"Schlie\xdfen",manage_files:"Dateien verwalten",metadata:"Titel und Optionen",publish:"Ver\xf6ffentlichen...",save_error:"Beim Speichern der Metadaten ist ein Fehler aufgetreten."},edit_meta_data:{outline:"Gliederung",retry:"Erneut versuchen",save_error:"Beim Speichern der Metadaten ist ein Problem aufgetreten."},edit_page:{destroy:"L\xf6schen",outline:"Gliederung",retry:"Erneut versuchen",save_error:"Beim Speichern der Seite ist ein Problem aufgetreten."},edit_page_link:{back:"Zur\xfcck",destroy:"L\xf6schen"},edit_storyline:{destroy:"L\xf6schen",outline:"Gliederung",retry:"Erneut versuchen",save_error:"Beim Speichern des Erz\xe4hlstrangs ist ein Problem aufgetreten."},edit_widget:{back:"Erscheinungsbild"},embedded:{page_link:{reset:"Zur\xfccksetzen"}},file_item:{cancel:"Abbrechen",confirm:"\xdcberpr\xfcfen und best\xe4tigen",credits:"Rechte",destroy:"L\xf6schen",download:"Herunterladen",retry:"Erneut versuchen",select:"Ausw\xe4hlen",settings:"Einstellungen",source:"Original"},file_meta_data_item_value_view:{edit:"Bearbeiten"},file_settings_dialog:{close:"Schlie\xdfen"},files:{back:"Zur\xfcck"},files_blank_slate:{no_files:"Es wurden noch keine Dateien dieses Typs hochgeladen."},files_explorer:{cancel:"Abbrechen",ok:"Ok",reuse_files:"Dateien wiederverwenden"},files_explorer_blank_slate:{choose_hint:"Bitte w\xe4hlen Sie einen Beitrag aus."},files_gallery_blank_slate:{no_files:"In diesem Beitrag gibt es keine Dateien dieses Typs."},help:{close:"Schlie\xdfen",title:"Hilfe"},help_button:{open_help:"Hilfe anzeigen"},inputs:{reference:{edit:"DELETED",reset:"DELETED"}},list_blank_slate:{text:"(Keine Eintr\xe4ge)"},list_item:{edit:"Bearbeiten",remove:"L\xf6schen"},loading:{loading:"Daten werden geladen."},locked:{close:"Editor schlie\xdfen",loading:"Der Beitrag wird zur Bearbeitung ge\xf6ffnet. Bitte warten...",open_here:"Stattdessen hier \xf6ffnen"},notification:{approve_files:"%{num_files} Dateien m\xfcssen f\xfcr die Transcodierung freigeben werden.",retry:"Erneut versuchen",save_error:"Datens\xe4tze konnten nicht gespeichert werden.",saved:"Alle \xc4nderungen wurden gespeichert.",saving:"\xc4nderungen werden gespeichert...",show:"Anzeigen",upload_pending:"Dateien werden gerade hochgeladen."},other_entries_blank_slate:{none_available:"Keine anderen Beitr\xe4ge verf\xfcgbar"},page_item:{save_error:"Beim Speichern der Seite ist ein Fehler aufgetreten."},page_link_item:{edit:"Bearbeiten",remove:"L\xf6schen"},page_links:{add:"Hinzuf\xfcgen",label:"Verlinkte Seiten"},page_selection:{cancel:"Abbrechen",ok:"OK",title:"Zielseite ausw\xe4hlen"},publish_entry:{already_published_with_password_help:"Dieser Beitrag ist im Moment mit Passwortschutz ver\xf6ffentlicht. Lassen Sie das Passwort-Feld frei, um das bisherige Passwort beizubehalten.",already_published_without_password_help:"Dieser Beitrag ist im Moment ohne Passwortschutz ver\xf6ffentlicht. Nach Festlegen eines Passworts ist kein \xf6ffentlicher Zugriff mehr m\xf6glich.",date:"Datum",files_pending_notice:"Bitte warten Sie bis alle Dateien des Beitrags verarbeitet wurden und \xfcberpr\xfcfen Sie das Ergebnis. Der Beitrag kann dann ver\xf6ffentlicht werden.",not_published_notice:"Dieser Beitrag ist zur Zeit nicht ver\xf6ffentlicht.",password:"Passwort",password_help:"Teilen Sie Ihren ver\xf6ffentlichten Beitrag nur mit bestimmten Personen. Besucher ben\xf6tigen dann das von Ihnen festgelegte Passwort, um den Beitrag ansehen zu k\xf6nnen.",password_protected:"Mit Passwort sch\xfctzen",previously_published_with_password_help:"Dieser Beitrag war zuletzt mit Passwortschutz ver\xf6ffentlicht. Lassen Sie das Passwort-Feld frei, um das bisherige Passwort beizubehalten.",publish:"Ver\xf6ffentlichen",publish_current:"Akuellen Stand ver\xf6ffentlichen",publish_success:"Der Beitrag wurde erfolgreich ver\xf6ffentlicht.",published_notice:"Eine Revision dieses Beitrags ist zur Zeit ver\xf6ffentlicht.",published_url_hint:"Er kann nun unter folgender URL erreicht werden:",show_files:"Dateien anzeigen",time:"Uhrzeit",unlimited:"Unbegrenzt",until_including:"Bis einschlie\xdflich",user_name:"Benutzername",view_revisions:"Revisionen ansehen"},select_button:{select:"Ausw\xe4hlen"},storyline_outline:{header:"Gliederung",new_chapter:"Neues Kapitel"},storyline_picker:{add:"Hinzuf\xfcgen",edit:"Einstellungen bearbeiten"},text_tracks:{edit_file_header:"Metadaten",upload:"Hinzuf\xfcgen"},theme:{use:"Verwenden"},widget_item:{settings:"Einstellungen"}},text_track_files:{label_missing:"(Label fehlt)",srclang_missing:"(Fehlt)"},themes:{header:"Themes"},views:{chapter_item_view:{chapter:"Kapitel",unnamed:"(Unbenannt)"},edit_chapter_view:{confirm_destroy:"Kapitel einschlie\xdflich ALLER enthaltener Seiten wirklich l\xf6schen?\n\nDieser Schritt kann nicht r\xfcckg\xe4ngig gemacht werden."},edit_entry_view:{cannot_publish:"Sie sind nicht berechtigt diesen Beitrag zu ver\xf6ffentlichen."},edit_page_link_view:{default_page_transition:"(Standard)"},edit_page_view:{confirm_destroy:"Seite wirklich l\xf6schen?"},edit_storyline_view:{cannot_destroy:"Nur leere Erz\xe4hlstr\xe4nge k\xf6nnen gel\xf6scht werden.",confirm_destroy:"Erz\xe4hlstrang wirklich l\xf6schen?",default_parent_page_transition:"(Standard)"},editor_views:{files_pending_warning:"Es werden noch Dateien hochgeladen. Wenn Sie die Seite verlassen werden die Uploads abgebrochen.",hide_editor:"Editorleiste ausblenden",resize_editor:"Gr\xf6\xdfe der Editorleiste \xe4ndern",show_editor:"Editorleiste einblenden"},entry_preview_view:{scroll_hint:"Scrollen, um weiterzulesen"},file_meta_data_item_value_view:{blank:"-"},files_view:{add:"Hinzuf\xfcgen",reuse:"Wiederverwenden",upload:"Hochladen"},filtered_files_view:{banner_prefix:"Aktiver Filter:"},inputs:{file_input:{auto_default_text_track:"(Automatisch)",default_text_track:"Standard Textspur:",edit_background_positioning:"Bildausschnitt anpassen...",edit_file_settings:"Datei-Einstellungen...",no_default_text_track:"(Kein)"},reference_input_view:{choose:"Verkn\xfcpfung \xe4ndern",none:"(Kein)",unset:"Verkn\xfcpfung entfernen"},theme_input_view:{choose:"Theme \xe4ndern"}},page_item_view:{unnamed:"(Unbenannt)"},page_link_item_view:{no_page:"(Keine Seite)",unnamed:"(Unbenannt)"},storylines_picker_view:{label:"Erz\xe4hlstrang",without_parent_page:"Ohne \xfcbergeordnete Seite"}}},entry:{duplicated_title:"Kopie von %{title}"},help_entries:{atmo:{menu_item:"Atmo Audio",text:"# Atmo Audio\n\nMit der \u201eAtmo\u201c kann jede Seite, unabh\xe4ngig vom Seitentyp, im Hintergrund Sound abspielen. Dabei kannst Du bestimmen, ob ein Sound nur auf einer Seite zu h\xf6ren ist oder \xfcber mehrere Seiten ohne Unterbrechung l\xe4uft. W\xe4hle dazu einfach f\xfcr die benachbarten Seiten die selbe Audiodatei als Atmo aus.\n\nAuf diese Weise lassen sich Kapitel akustisch voneinander absetzen und zusammenh\xe4ngende Seiten st\xe4rker verweben.\n\nBeim Seitentyp Video kann zus\xe4tzlich ausgw\xe4hlt werden, ob der Hintergrundsound w\xe4hrend der Video-Wiedergabe normal oder leiser weitergespielt oder ganz ausgeblendet werden soll.\n\nDie Einstellung der Atmo-Sounds erreichst du bei jeder Seite \xfcber den Reiter \u201eOptionen\u201c.\n\nSollte Dich die Atmo w\xe4hrend der Bearbeitung Deines Beitrags im Editor einmal st\xf6ren, kannst Du sie mit der Tastenkombination \u201eAlt + a\u201c vor\xfcbergehend stumm schalten. Um die Atmo wieder zu aktivieren, dr\xfccke einfach erneut \u201eAlt + a\u201c.\n\nACHTUNG: Atmo-Audios werden auf mobilen Ger\xe4ten nicht wiedergegeben."},files:{menu_item:"Dateien verwalten",text:'# Dateien verwalten\n\nPageflow verarbeitet alle g\xe4ngigen Medien-Formate (Bild,\nAudio, Video) und rechnet diese in unterschiedliche Formate\nund Qualit\xe4ten um. Das System passt dann automatisch die\nAusgabequalit\xe4t der Medien an die jeweilige\nInternetverbindung und das Endger\xe4t des Users\nan. Prinzipiell sollten Dateien in der bestm\xf6glichen\nAufl\xf6sung verwendet werden und vor dem Upload nicht\nkomprimiert sein. Zudem ist es f\xfcr ein strukturiertes\nArbeiten enorm hilfreich, s\xe4mtliche Audios,\nHintergrund-Video-Loops, Filme, Bilder und Texte bereits im\nVorfeld in der gew\xfcnschten Version in einem separaten Ordner\nauf dem eigenen Rechner abzulegen.\n\n## Dateien hochladen & verwalten\n\nVon der Gliederung f\xfchrt der Men\xfcpunkt "Dateien verwalten"\nzur Liste der bereits hochgeladenen Dateien. \xdcber die\nSchaltfl\xe4che "Hinzuf\xfcgen -> Hochladen" f\xfcgst Du weitere\nDateien hinzu.\n\nVor dem Upload wird ein Dialog angezeigt, in dem Du die\nListe der ausgew\xe4hlten Dateien noch einmal pr\xfcfen\nkannst. Nach einem Klick auf eine Datei in der Tabelle,\nkannst Du im Formular in der rechten Spalte Metadaten f\xfcr\ndie ausgew\xe4hlte Datei eingeben. Hier gibt es z.B die\nM\xf6glichkeit, Angaben zu den Urheberrechten zu machen, die\ndann automatisch im \u201eImpressum\u201c angezeigt werden.\n\nNach dem Hochladen werden die Dateien zun\xe4chst auf dem\nServer verarbeitet. Dies kann bei l\xe4ngeren Videos einige\nMinuten in Anspruch nehmen. Klicke auf das Thumbnail einer\nDatei, um den aktuellen Verarbeitungsstatus\neinzublenden. Hier lassen sich auch die allgemeinen\nEigenschaften, wie Bildgr\xf6\xdfe oder Audiol\xe4nge einsehen und\ndie Originaldatei herunterladen.\n\nDateien k\xf6nnen bereits in Seiten verwendet werden, auch wenn\ndie Verarbeitung noch nicht abgeschlossen ist. W\xe4hrend des\nLadevorgangs kann also problemlos weiter gearbeitet werden.\n\n## Datei-Einstellungen bearbeiten\n\nF\xfcr jede Datei kann \xfcber die Schaltfl\xe4che "Einstellungen\nbearbeiten" ein Dialog mit weiteren Optionen angezeigt\nwerden. Hier k\xf6nnen z.B. die beim Upload eingegebenen\nMetadaten (wie die Angaben zum Urheberrecht) noch einmal\nbearbeiten werden.\n\n## Dateien wiederverwenden\n\nVideos, Audios und Bilder k\xf6nnen in mehr als einem Beitrag\nverwendet werden. So m\xfcssen z.B. Videos nicht mehrfach\nhochgeladen und verarbeitet werden. Klicke hierf\xfcr unter\n"Dateien verwalten\u201c auf "Hinzuf\xfcgen -> Wiederverwenden", um\nandere Beitr\xe4ge nach Dateien zu durchsuchen und sie in den\nbearbeiteten Beitrag zu \xfcbernehmen.'},meta_data:{menu_item:"Titel und Optionen",text:'# Titel und Optionen\n\n## Allgemein\n\n### Titel des Pageflows\n\nHier kannst Du Deinem Pageflow einen Titel geben, der in der\nTitelleiste des Browserfensters angezeigt wird. Unter diesem\nTitel wird Dein Pageflow nach der Ver\xf6ffentlichung auch in\nSuchmaschinen indiziert werden.\n\n### Sprache\n\nW\xe4hle hier, in welcher Sprache Dein Pageflow ausgespielt\nwird. Hierbei geht es um nicht editierbare Texte, wie\nz.B. den Multimedia-Hinweis, Scroll-Hinweis, die \xdcbersicht\nund Impressum.\n\n### Impressum\n\nHier kannst Du Deine Impressums-Information im Freitext\neingeben.\n\n## Erscheinungsbild\n\n### Multimedia Hinweis vor dem Start\n\nEntscheide, ob zu Beginn Deines Pageflows ein Hinweis angezeigt wird.\n\n### Kapitelanfang hervorheben\n\nMit dieser Option wird der Titel der jeweils ersten Seite\neines Kapitels gr\xf6\xdfer dargestellt.\n\n## Neue Seiten hervorheben\n\nZeigt zum Start des Pageflows in einer Info-Box die seit dem\nletzten Besuch neu erstellen Seiten an.\n\n### Home-Button anzeigen\n\nEs gibt die M\xf6glichkeit, in der Navigation einen Button\nanzuzeigen, der auf eine externe Seite verlinkt, z.B. zur\xfcck\nauf die Homepage, von der aus Du den Pageflow verlinkt hast.\n\n### Navigationsleiste\n\nW\xe4hle zwischen "Navigationsleiste mit Fortschrittsbalken\u201c\noder "Navigationsleiste mit Thumbnails\u201c. Beachte, dass bei\nmobilen Endger\xe4ten statt der Navigationsleiste aus\nPlatzgr\xfcnden in beiden F\xe4llen lediglich das Icon \u201e\xdcbersicht\u201c\nangezeigt wird.\n\n## Social\n\n### Social Sharing Bild\n\nW\xe4hle hier das Bild aus, das beim Teilen des Pageflows in\nsozialen Netzwerken erscheinen soll.\n\n### Zusammenfassung\n\nTrage hier ein, welcher Beschreibungstext beim Teilen in\nsozialen Netzwerken angezeigt wird.\n'},outline:{menu_item:"Kapitel und Seiten",text:'# Kapitel und Seiten\n\nEin Pageflow besteht aus mindestens einem Kapitel mit\nmindestens einer Seite. Es k\xf6nnen beliebig viele Kapitel mit\nbeliebig vielen Seiten erstellt werden. Um Inhalte zu\nerstellen, klicke\n\n1. auf Neues Kaptitel, um eine erstes Kapitel zu erstellen\n2. auf Neue Seite, um dem Kapitel eine Seite hinzuzuf\xfcgen, und\n3. auf diese Seite, um den Inhalt zu bearbeiten.\n\n## Aufbau eines Kapitels\n\nMit den \u201eKapiteln" strukturierst Du den Aufbau Deiner\nReportage - beispielsweise nach Themenschwerpunkten oder\nZeitr\xe4umen. Die Kapitel werden in der \u201e\xdcbersicht\u201c angezeigt\nund dienen dem User als Orientierungshilfe. Deshalb ist es\nratsam die jeweiligen Kapitel mit Titeln zu versehen.\n\nWenn nur ein unbenanntes Kapitel angelegt wird, so verh\xe4lt\nsich Pageflow, als ob keine Kapitelstruktur vorhanden\nist. (Kapitel und Kapiteltitel werden in diesem Falle nicht\nin der \xdcbersicht bzw. Navigation dargestellt).\n'},overview:{menu_item:"\xdcbersicht",text:"# \xdcbersicht\n\nDies ist der Editor zum Bearbeiten eines Pageflows. Mit\nseiner Zweiteilung erm\xf6glicht er die direkte Vorschau\nw\xe4hrend der Bearbeitung, zeigt \xc4nderungen am Text oder neu\nausgew\xe4hlte Dateien unmittelbar an und speichert diese\nautomatisch.\n\nDie Seitenleiste kann durch einen Klick auf den Anfasser zur\nGr\xf6\xdfen\xe4nderung ein- und ausgeblendet werden. Mit einem\nVerschieben der Seitenleiste nach links und rechts kannst Du\ndie Gr\xf6\xdfe des Vorschaufensters ver\xe4ndern. Wird das\nVorschaufenster schmal, und somit eher zu einem hochkantigen\nMobiltelefon-Format gestaucht, wird aus Platzgr\xfcnden statt\nder Navigationsleiste nur das Icon \u201e\xdcbersicht\u201c angezeigt.\n\nDie Navigation des Editors ist unterteilt in die vier\nBereiche:\n\n## Titel und Optionen\n\nUnter \u201eTitel und Optionen\u201c kannst Du grunds\xe4tzliche\nParameter des Erscheinungsbildes, sowie Titel, Sprache,\nImpressum etc. einstellen. Dazu k\xf6nnen Texte festgelegt\nwerden, die beim Teilen des Beitrags \xfcber Social Media\nDienste angezeigt werden sollen.\n\nDetails findest Du unter: [Titel und Optionen](#pageflow.help_entries.meta_data)\n\n## Dateien verwalten\n\nUnter \u201eDateien verwalten\u201c l\xe4dst Du die Mediendateien hoch,\ndie im Pageflow verwendet werden sollen. Du kannst hier auch\nbereits hochgeladene Videos, Fotos und Audios\nwiederverwenden.\n\nDetails findest Du unter: [Dateien verwalten](#pageflow.help_entries.files)\n\n## Gliederung\n\n\xdcber die \u201eGliederung\u201c kannst Du Kapitel und Seiten\nhinzuf\xfcgen, also die eigentlichen Inhalte bearbeiten. Per\nDrag&Drop lassen sich Seiten und Kapitel auch jederzeit\numsortieren.\n\nDetails findest Du unter: [Kapitel und Seiten](#pageflow.help_entries.outline)\n"},page_options:{menu_item:"Allgemeine Seitenoptionen",text:"# Allgemeine Seitenoptionen\n\n### Titel\n\nHier gibst Du den Titel der jeweiligen Seite ein. Dieser\nwird nicht nur als \xdcberschrift des Fliesstextes der Seite\nausgespielt, sondern dient zudem als Titel innerhalb der\nNavigation und der \xdcbersicht. Wird eine einzelne Seite in\nsozialen Netzwerken geteilt, ist dieser Titel zugleich auch\nder Titel des Social Media-Beitrages.\n\n### Titel ausblenden\n\nOptional l\xe4sst sich der Titel auch ausblenden. Das heisst:\nEr wird nicht mehr als \xdcberschrift im Fliesstext\nangezeigt. Er bleibt zur Identifikation einer Seite\nallerdings in Navigation, \xdcbersicht und geteilten Betr\xe4gen\nerhalten.\n\n### Tagline und Untertitel\n\nHier kann wahlweise eine Tagline und/oder ein Untertitel\neingegeben werden. Falls Du ein H\xe4kchen bei \u201eTitel\nausblenden\u201c gesetzt hast, sind Tagline und Untertitel \xfcber\ndem Fliesstext ebenfalls nicht zu sehen.\n\n### Text\n\nDer Textblock kann mit den Buttons unterhalb des\nEingabefeldes formatiert werden. [ B=Fett / I=kursiv /\nU=unterstrichen \u201egekippte acht\u201c=Link/URL auf fremde Seite\neinf\xfcgen].\n\nAlle \xc4nderungen sind in der linken Frontend-Ansicht\nsichtbar, sobald das entsprechende Texteingabefeld im\nEditierbereich verlassen wurde.\n\n### Textposition\n\nW\xe4hle hier, ob der Text auf der linken oder rechten Seite\nangezeigt wird.\n\n### Intensit\xe4t der Abblendung\n\nDie Intensit\xe4t des Farbverlaufs dient der Lesbarkeit von\nTexten auf Videos oder Bildern.\n\nDurch den Schieberegler kann der Bildhintergrund so stark\nabgedunkelt bzw. aufgehellt werden, bis der Kontrast\nzwischen Bild und Text ausreichend ist.\n\n### Farben invertieren\n\nBeim Invertieren werden \u201ehell\u201c und \u201edunkel\u201c vertauscht, die\nsonst wei\xdfe Schrift \xe4ndert sich dabei automatisch in\nschwarz.\n\nGrunds\xe4tzlich gilt: Helle Schrift f\xfcr dunkle Bilder, dunkle\nSchrift f\xfcr helle Bilder.\n\n### Thumbnail\n\nDas Thumbnail ersetzt das ansonsten automatisch generierte\nVorschaubild in der Navigation und in der \xdcbersicht.\n\n### In Navigationsleiste anzeigen\n\nIst diese Option nicht gesetzt, wird die jeweilige Seite\nnicht in der Navigation repr\xe4sentiert, kann also nicht\ndirekt \xfcber die Navigation erreicht werden.\n\nDies bietet sich vor allem f\xfcr Seiten an, die inhaltlich als\n\u201eUnterseiten\u201c einer anderen Seite anzusehen sind.\n\n### \xdcbergangseffekt\n\nEs gibt verschiedene Effekte, die sichtbar sind, wenn von einer Kapitelseite zur n\xe4chsten gescrollt oder geklickt wird. Zur Auswahl stehen Seiten\xfcberg\xe4nge, wie \u201e\xdcberblendung\u201c, \u201eSchwarzblende\u201c oder \u201eHarter Schnitt\u201c die sich vertikal auswirken, zudem kann auch \u201eHorizontal Scrollen\u201c von rechts oder links ausgew\xe4hlt werden. \n\nWelcher Effekt verwendet wird, kann unter \u201eOptionen\u201c individuell f\xfcr jede Seite festgelegt werden.\n\n### Text verz\xf6gert einblenden\n\nBestimme mit dieser Option, ob Text und Abblendung mit zeitlicher Verz\xf6gerung angezeigt werden.\nHierbei sehen User zun\xe4chst nur den Hintergrund, dann erscheinen Titel, Tagline und Untertitel und mit minimaler Verz\xf6gerung schlie\xdflich der Flie\xdftext.\n\nInsgesamt stehen drei Verz\xf6gerungsl\xe4ngen zur Verf\xfcgung: kurz = 1 Sekunde, mittel = 3 Sekunde, lang = 5 Sekunde.\n\nDieses Feature eignet sich zum Beispiel f\xfcr Intros oder Kapitelanf\xe4nge.\n\n### Beschreibung f\xfcr \xdcbersicht\n\nHier kann der Text eingegeben werden, der angezeigt wird,\nwenn der User in der \xdcbersicht mit der Mouse \xfcber die\njeweilige Seite f\xe4hrt. Au\xdferdem entspricht der hier\neingegebene Text"},page_types:{menu_item:"Seitentypen",text:"# Seitentypen\n\nDurch die Auswahl des Seitentyps legst Du fest, welche\nMedien in der jeweiligen Seite verwendet werden. Je nach\nSeitentyp stehen verschiedene Einstellungen zur Verfu\u0308gung.\nF\xfcr weitere Informationen klicke bitte auf einen Seitentyp\nin der linken Spalte.\n"},publishing:{menu_item:"Ver\xf6ffentlichen",text:'# Ver\xf6ffentlichen\n\nKlicke in der Gliederung auf die Schaltfl\xe4che\n\u201eVer\xf6ffentlichen\u201c um Deinen Pageflow zu publizieren. Eine\nReportage kann entweder zeitlich unbegrenzt oder bis zu\neinem bestimmten Stichtag ver\xf6ffentlicht\nwerden. \n\nAu\xdferdem gibt es die M\xf6glichkeit, Pageflows mit einem Passwort zu sch\xfctzen. \nHierzu muss einfach das entsprechende H\xe4kchen bei \u201eMit Passwort sch\xfctzen" gesetzt werden. \nDas System verwendet als Benutzernamen den Namen des Kontos und generiert ein Passwort, \nwelches auch manuell ge\xe4ndert werden kann. \n\nBeitr\xe4ge, die bereits ver\xf6ffentlicht sind, k\xf6nnen nachtr\xe4glich mit einem Passwort gesch\xfctzt werden - \nund andersherum k\xf6nnen auch gesch\xfctzte Beitr\xe4ge anschlie\xdfend mit erneutem Klick auf \u201eVer\xf6ffentlichen\u201c vom Passwortschutz befreit werden. \nBei der Ver\xf6ffentlichung werden die auszuf\xfchrenden Schritte im Dialogfenster angezeigt und erkl\xe4rt.\n\nVer\xf6ffentlichte Pageflows k\xf6nnen jederzeit manuell\ndepubliziert werden. Sollte eine Reportage bereits\nver\xf6ffentlicht sein, bleiben \xc4nderungen solange \xf6ffentlich\nunsichtbar, bis die Reportage erneut ver\xf6ffentlicht wird.\nEine Reportage kann stets nur von einem Redakteur zur\ngleichen Zeit bearbeitet werden.\n\nVorschaubild zum Einbetten in Externe Webseiten Nach der\nVer\xf6ffentlichung erstellt das System ein Vorschaubild, das\nals iframe zur Verlinkung in eine externe Seite eingebunden\nwerden kann.  Anhand des ausgespielten Codes l\xe4sst sich die\nGr\xf6\xdfe des iframes frei einstellen. Hierbei ist jedoch eine\nMindesth\xf6he von 150px und und eine Mindestbreite von 220px\nzu beachten.'},storylines:{menu_item:"Erz\xe4hlstr\xe4nge",text:"# Erz\xe4hlstr\xe4nge\n\nErg\xe4nzend zur linearen Erz\xe4hlung von \u201eoben nach unten\u201c, k\xf6nnen auch weitere (non-lineare) Erz\xe4hlstr\xe4nge als Exkurse zu vertiefenden Inhalten genutzt werden. Mit \u201eErz\xe4hlstrang\u201c ist hier die zusammenh\xe4ngende Kapitel- und Seitenabfolge gemeint, durch die ein User hindurch scrollt. Zu unterscheiden ist zwischen dem sogenannten Haupterz\xe4hlstrang, in dem ein User zu Beginn eines Pageflows einsteigt, und weiteren untergeordneten Erz\xe4hlstr\xe4ngen. \n\nUm vom Haupterz\xe4hlstrang einen Abzweig zu erstellen, benutze eine \u201eVerweise\u201c-Seite (Mosaik, Collage oder Hotspot) und lege auf der jeweiligen Seite unter \u201eVerweise\u201c die entsprechenden Verkn\xfcpfungen an. \n\nDabei kann durch das Festlegen einer \u201e\xfcbergeordneten Seite\u201c bestimmt werden, zu welcher Seite der User am Ende des Erz\xe4hlstrangs  gelangt.\n\nOptisch unterst\xfctzt werden diese Exkurse in untergeordnete Erz\xe4hlstr\xe4nge durch einen horizontalen Seiten\xfcbergangseffekt, der beim Eintreten und Verlassen dieser Str\xe4nge automatisch eingestellt ist. \n\nErstellt werden diese Erz\xe4hlstr\xe4nge in der Gliederung \xfcber ein Klick auf die Plus-Schaltfl\xe4che neben der Erz\xe4hlstrang-Auswahl. Dabei \xf6ffnet sich automatisch ein neues Kapitel, in dem dann weitere Seiten angelegt werden k\xf6nnen.\n\n\n### \xdcbergeordnete Seiten\n\nIn jedem Untererz\xe4hlstrang muss eine \u201e\xdcbergeordnete Seite\u201c festgelegt werden, die bestimmt, wohin ein User beim zur\xfcck-scrollen gelangt. Mit einem Klick auf das Stift-Symbol neben der Erz\xe4hlstrang-Auswahl kann diese Zielseite ausgew\xe4hlt werden. Durch die Auswahl einer \xfcbergeordneten Seite erscheint auf allen Seiten eines untergeordneten Erz\xe4hlstrangs zudem automatisch ein \u201eZur\xfcck\u201c-Button, der zu der \xfcbergeordneten Seite f\xfchrt. \n\n\n### Kapitel-Hierarchie\n\nDurch die Verwendung mehrerer \u201euntergeordneter\u201c Erz\xe4hlstr\xe4nge und der Festlegung von \xfcbergeordneten Seiten ergibt sich eine Kapitelhierarchie, wie man sie auch von Buch-Gliederungen kennt:\n\n1. (Hauptstrang), 1.1 (\xdcbergeordneter Unterstrang), 1.1.1 (vertiefende Seite im \xfcbergeordneten Unterstrang) und so weiter.\n\nDiese Hierarchie kann nachtr\xe4glich in der Erz\xe4hlstrang-Auswahl \xfcber ein Klick auf Stift-Symbol ge\xe4ndert werden. Ein untergeordneter Erz\xe4hlstrang kann an dieser Stelle zudem auch nachtr\xe4glich zum Haupt-Erz\xe4hlstrang umsortiert werden.\n\n\n### Scroll-Nachfolger\n\nFalls der User von der letzten Seite eines Unterkapitels (1.1.1) auf eine andere Stelle im Beitrag geleitet werden soll (z.B. 2.1), kann hierzu ebenfalls \xfcber das Stiftsymbol in den Erz\xe4hlstrang-Einstellungen der sogenannte \u201eScroll-Nachfolger\u201c festgelegt werden. Um in dem Beispiel zu bleiben w\xe4re der folgende Ablauf denkbar: 1 -> 1.1 -> 1.1.1 -> 2.1\n\nAchtung: W\xe4hrend des Editierens wird immer nur das aktuell ausgew\xe4hlte Kapitel angezeigt. Um zu den anderen Erz\xe4hlstr\xe4ngen zu gelangen klicke auf das Auswahlmen\xfc \u201eErz\xe4hlstrang\u201c."},text_tracks:{menu_item:"Textspuren",text:'# Textspuren\n\nAudio- und Video-Dateien k\xf6nnen Textspuren hinzugef\xfcgt\nwerden.  \xd6ffne dazu unter "Dateien verwalten" \xfcber die\nSchaltfl\xe4che "Einstellungen bearbeiten" den\nEinstellungen-Dialog der Audio- oder Video-Datei, f\xfcr die Du\nTextspuren verwalten willst und w\xe4hle das Tab "Textspuren".\n\nHier k\xf6nnen Textspuren im SRT- oder VTT-Format hochgeladen\nwerden. Je Textspur kann Sprache, Typ und die Bezeichnung,\ndie dem Benutzer im Untertitel-Men\xfcs angezeigt werden soll,\nfestgelegt werden.\n\nVerf\xfcgt ein Video oder Audio \xfcber Textspuren, werden diese\ndem Benutzer auf Video- oder Audio-Seiten zur Auswahl\ngestellt. Bitte beachte, dass Untertitel nicht angezeigt\nwerden, wenn ein Video als Hintergrund-Video verwendet oder\neine Audio-Datei als Atmo wiedergegeben wird.\n\n## Automatische Untertitel\n\nDer Benutzer kann auf Video- und Audio-Seiten jederzeit eine\nder Textspuren als Untertitel anzeigen lassen. Die Auswahl\ndes Benutzers wird dauerhaft gespeichert.\n\nStandardm\xe4\xdfig ist im Untertitel-Men\xfc auf Video oder\nAudio-Seiten die Option "Automatisch" ausgew\xe4hlt. Untertitel\nwerden dann unter folgenden Bedingungen automatisch angezeigt:\n\n* Besitzt die Datei eine \xdcbersetzungstextspur in der Sprache\n  des Beitrags, wird diese automatisch angezeigt. Dies hilft\n  Benutzern, die zwar die Sprache des Beitrags, nicht aber\n  die Sprache der Tonspur der Datei verstehen k\xf6nnen.\n\n* Besitzt die Datei stattdessen eine Ton-Ersatz-Spur, wird\n  diese angezeigt, falls die Lautst\xe4rke \xfcber die Controls in\n  der Navigationsleiste auf stumm geregelt wurde. Bitte\n  beachte, dass aus technischen Gr\xfcnden nicht erkannt werden\n  kann, ob die Lautst\xe4rke au\xdferhalb des Browsers auf stumm\n  geregelt wurde. Ebenfalls ist diese Erkennung nicht auf\n  mobilen Ger\xe4ten m\xf6glich.\n\n## Standard Textspur\n\nSollte die automatische Auswahl der Textspur nicht zum\ngew\xfcnschten Verhalten f\xfchren, kannst Du je Audio- oder\nVideo-Seite selbst eine Standard-Textspur festlegen. Diese\nwird dann angezeigt, soweit der Benutzer im Untertitel-Men\xfc\nnicht eine andere Option w\xe4hlt.\n\nGehe dazu auf das "Dateien"-Tab der jeweiligen Seite und\nw\xe4hle im Video- oder Audio-Feld \xfcber die Schaltf\xe4che mit dem\nMen\xfc-Symbol eine Textspur als Standard aus.'}},helpers:{entries:{global_links:"Globale Links",image_rights:"Bildrechte"}},highdef_video_encoding:{feature_name:"Full HD und 4K Videos"},invalid_transition:"Der gew\xfcnschte Statuswechsel ist nicht erlaubt.",languages:{ar:"Arabisch",cs:"Tschechisch",de:"Deutsch",dk:"D\xe4nisch",
el:"Griechisch",en:"Englisch",es:"Spanisch",fr:"Franz\xf6sisch",fy:"Friesisch",hi:"Hindi",it:"Italienisch",lb:"Luxemburgisch",nl:"Holl\xe4ndisch",pl:"Polnisch",pt:"Portugiesisch",rm:"R\xe4toromanisch",ru:"Russisch",sr:"Serbisch",tr:"T\xfcrkisch",unknown:"(Unbekannt)",zh:"Chinesisch"},page_transitions:{crossfade:"\xdcberblenden",cut:"Harter Schnitt",fade:"Hintergrund Blenden/Vordergrund Scrollen",fade_to_black:"Schwarzblende",scroll:"Scrollen",scroll_left:"Scrollen (von links)",scroll_over_from_left:"\xdcberlagern (von links)",scroll_over_from_right:"\xdcberlagern (von rechts)",scroll_right:"Scrollen (von rechts)"},quotas:{exhausted:"Quota verbraucht."},selectable_themes:{feature_name:"Editor-Theme-Auswahl"},storyline_attributes:{main:{inline_help:"Macht die erste Seite dieses Erz\xe4hlstrangs zur Startseite des Beitrags.",inline_help_disabled:"Die erste Seite dieses Erz\xe4hlstrangs ist die Startseite des Beitrags.",label:"Haupterz\xe4hlstrang"},navigation_bar_mode:{label:"Navigationsleiste",values:{current_storyline:"Aktueller Erz\xe4hlstrang",inherit_from_parent:"Von \xfcbergeordnetem Kapitel erben",non:"Ausblenden"}},page_transition:{inline_help:"Standardm\xe4\xdfig wird beim Erreichen des Erz\xe4hlstrangs von der \xfcbergeordneten Seite die erste Seite des Erz\xe4hlstrangs von rechts hineingeschoben. Bei Klick auf den Zur\xfcck-Button f\xe4hrt die Seite wieder nach rechts hinaus. Hier kannst Du einen alternativen Effekt w\xe4hlen.",label:"Seiten\xfcbergangseffekt"},parent_page_perma_id:{inline_help:"Die Auswahl einer \xfcbergeordneten Seite bestimmt, auf welcher Seite der User am Ende eines untergeordneten Erz\xe4hlstrangs oder bei Klick auf den Zur\xfcck-Button landet. Mit einer solchen Seite kann die Kapitelhierarchie bestimmt werden, falls mehr als zwei Erz\xe4hlstr\xe4nge benutzt werden. Mehr Informationen zur Kapitelhierachie findest Du im Hilfethema 'Erz\xe4hlstr\xe4nge'.",label:"\xdcbergeordnete Seite"},scroll_successor_id:{inline_help:"Seite, die beim Weiterscrollen am Ende des Erz\xe4hlstrangs erreicht werden soll. Standardm\xe4\xdfig gelangt der Leser zur \xfcbergeordneten Seite zur\xfcck.",label:"Scroll Nachfolger"},title:{label:"Titel"}},storylines:{feature_name:"Erz\xe4hlstr\xe4nge",main:"Hauptstrang",untitled:"Unbenannter Erz\xe4hlstrang"},ui:{configuration_editor:{tabs:{files:"Dateien",general:"Allgemein",links:"Verweise",options:"Optionen",social:"Social",widgets:"Erscheinungsbild",appearance:"Erscheinungsbild",areas:"Bereiche",content:"Flie\xdftext",header:"Titel",topic:"Inhalt"}},inline_help:{"pageflow/chapter":{title:"Wird auf der \xdcbersichtsseite angezeigt."},"pageflow/entry":{author:"Name des Autors.",credits:"Text wird zusammen mit dem Impressumsverweis angezeigt.",emphasize_chapter_beginning:"Mit dieser Option wird der Titel der jeweils ersten Seite eines Kapitels gr\xf6\xdfer dargestellt.",emphasize_new_pages:"Zeigt zum Start des Pageflows in einer Info-Box die seit dem letzten Besuch neu erstellen Seiten an.",home_button_enabled:"Es gibt die M\xf6glichkeit, in der Navigation einen Button anzuzeigen, der auf eine externe Seite verlinkt, z.B. zur\xfcck auf die Homepage, von der aus Du den Pageflow verlinkt hast.",home_button_enabled_disabled:"Diese Funktion steht in diesem Theme nicht zur Verf\xfcgung.",home_url:"URL der \xdcbersichtseite. Leer lassen, um Standard zu \xfcbernehmen.",home_url_disabled:"Diese Funktion steht in diesem Theme nicht zur Verf\xfcgung.",keywords:"Schl\xfcsselw\xf6rter als Vorschlag f\xfcr Suchmaschinen.",manual_start:"Entscheide, ob zu Beginn Deines Pageflows ein Hinweis angezeigt wird.",overview_button_enabled:"In der \xdcbersicht werden die Kapitel und Seiten des Haupterz\xe4hlstrangs angezeigt.",overview_button_enabled_disabled:"Diese Funktion steht in diesem Theme nicht zur Verf\xfcgung.",publisher:"Name oder Firmenname des Herausgeber.",share_url:"URL, die geteilt werden soll, wenn der Benutzer auf einen der Social Media Buttons klickt. Feld frei lassen, um URL des ver\xf6ffentlichten Beitrags zu verwenden.",summary:"Trage hier ein, welcher Beschreibungstext beim Teilen in sozialen Netzwerken angezeigt wird.\n",title:"Hier kannst Du Deinem Pageflow einen Titel geben, der in der Titelleiste des Browserfensters angezeigt wird. Unter diesem Titel wird Dein Pageflow nach der Ver\xf6ffentlichung auch in Suchmaschinen indiziert werden"},"pageflow/page":{additional_title:"Die Infobox wird \xfcber den Steuerelementen zum Starten und Stoppen der Wiedegabe angezeigt.",atmo_audio_file_id:"W\xe4hle eine Audio-Datei, die im Hintergrund abgespielt werden soll. Wenn diese Atmo auch auf Folgeseiten nahtlos weiterspielen soll, w\xe4hle auf diesen Seiten die selbe Datei aus. Diese Funktionalit\xe4t steht im Moment nicht auf mobilen Ger\xe4ten zur Verf\xfcgung.",atmo_during_playback:"W\xe4hle wie sich die Atmo w\xe4hrend der Wiedergabe des Hauptmediums dieser Seite verhalten soll.",delayed_text_fade_in:"Blendet die Textinhalte der Seite sowie die Abblendung zeitverz\xf6gert ein, nachdem man auf die Seite gebl\xe4ttert hat. So wird f\xfcr eine gewisse Zeit der Blick auf den Hintergrund freigegeben.",description:"Hier kann der Text eingegeben werden, der angezeigt wird, wenn der User in der \xdcbersicht mit der Mouse \xfcber die jeweilige Seite f\xe4hrt. Au\xdferdem entspricht der hier eingegebene Text auch dem Mouse-Over-Text beim Seitentyp \u201eSeiten-Verweise\u201c, sowie dem Text zum Teilen in sozialen Netzwerken.",gradient_opacity:"Die Intensit\xe4t des Farbverlaufs dient der Lesbarkeit von Texten auf Videos oder Bildern.\n\nDurch den Schieberegler kann der Bildhintergrund so stark abgedunkelt bzw. aufgehellt werden, bis der Kontrast zwischen Bild und Text ausreichend ist.",invert:"Beim Invertieren werden \u201ehell\u201c und \u201edunkel\u201c vertauscht, die sonst wei\xdfe Schrift \xe4ndert sich dabei automatisch in schwarz. \n\nGrunds\xe4tzlich gilt: Helle Schrift f\xfcr dunkle Bilder, dunkle Schrift f\xfcr helle Bilder.",mobile_poster_image_id:"Dieses Bild wird in der Mobilvariante der Seite als Posterbild gezeigt.",text:"Der Textblock kann mit den Buttons unterhalb des Eingabefeldes formatiert werden. [ B=Fett / I=kursiv / U=unterstrichen \u201egekippte acht\u201c=Link/URL auf fremde Seite einf\xfcgen].\n\nAlle \xc4nderungen sind in der linken Frontend-Ansicht sichtbar, sobald das entsprechende Texteingabefeld im Editierbereich verlassen wurde.",thumbnail_image_id:"Das Thumbnail ersetzt das ansonsten automatisch generierte Vorschaubild in der Navigation und in der \xdcbersicht.",transition:"W\xe4hle hier den Effekt, der beim Erreichen dieser der Seite benutzt werden soll.",invert_text:"Vertauscht Text- und Hintergrundfarbe im Flie\xdftextbereich.",prevent_fullscreen:"Verhindert, dass das Flie\xdftextbild bei Klick auf das Bild im Vollbild dargestellt wird.",sticky_inline_image:"Das Bild wird zun\xe4chst zusammen mit dem Text gescrollt, bleibt dann aber vertikal zentriert stehen, w\xe4hrend der Text weiter scrollt.",text_coverage:"Definiert, wie viel Text (und wie viel vom Titelbild) anfangs sichtbar ist.",text_image_id:"Dieses Bild wird neben dem Text angezeigt.",topasset_dim:"Titlebild abh\xe4ngig von der Scroll-Position farblich abblenden.",topasset_parallax:"Titelbild abh\xe4ngig von der Scroll-Position vertikal verschieben."},"pageflow/internal_links/page_link":{thumbnail_image_id:"Ein Bild in der Verweis-Box anzeigen."},"pageflow/external_links/site":{description:"Empfohlene Textl\xe4nge: bis zu 220 Zeichen",thumbnail:"Empfohlenes Seitenverh\xe4ltnis: 16:9"},"pageflow/linkmap_page/area":{inverted:"Dunkle Piktogramme f\xfcr die Verwendung auf hellen Hintergr\xfcnden anzeigen.",link_title:"Die Beschreibung wird in einem Overlay angezeigt, wenn sich der Cursor \xfcber dem Hotspot befindet.",marker:"W\xe4hle die visuelle Darstellung des Hotspots.",mask_perma_id:"Farbiger Bereich im Maskenbild, der die Form des Hotspots bestimmt.",mask_perma_id_disabled:"Farbiger Bereich im Maskenbild, der die Form des Hotspots bestimmt. Nur verf\xfcgbar, wenn ein Masken-Bild im 'Dateien'-Tab der Hotspot-Seite festgelegt wurde und als Panorama-Typ nicht 'Hover Video' ausgew\xe4hlt wurde.",name:"Gib hier eine Bezeichnung ein, um sp\xe4ter bei in der Verweis-\xdcbersicht direkt zu erkennen, um welchen Verweis es sich handelt. Die Bezeichnung ist f\xfcr die Leser nicht sichtbar.",page_transition:"W\xe4hle hier den Effekt, der beim \xdcbergang zur Zielseite des Verweises benutzt werden soll.",target_id:"Objekt auf das der Hotspot verlinkt.",target_type:"W\xe4hle den Typ von Objekt auf den Hotspot verlinken soll."}},templates:{inputs:{file_input:{edit:"\xc4ndern",reset:"Zur\xfccksetzen"},page_reference:{drag_hint:"Ziehen Sie Seiten per Drag &amp; Drop in die Seite um Verweise zu erstellen."},text_area_input:{bold:"Fett",cancel:"Abbrechen",create_link:"Link einf\xfcgen",italic:"Kursiv",ok:"Ok",underline:"Unterstrichen",url:"URL"},url_display:{link_text:"Herunterladen"}}},text_table_cell_view:{empty:"(leer)"},views:{extended_select_input_view:{display_help:"Hilfe anzeigen"},inputs:{file_input_view:{none:"(Kein)"},proxy_url_input_view:{http_error:"Die URL konnte nicht erfolgreich abgerufen werden (Der Server antwortete mit HTTP Status Code ' %{status}')",url_validation:"Pr\xfcfe Erreichbarkeit der URL..."},select_input_view:{none:"(Kein)",placeholder:"Standard (%{text})"},text_input_view:{required_field:"Muss ausgef\xfcllt werden"},url_input_view:{required_field:"Muss ausgef\xfcllt werden",supported_vendors:"Es werden nur die folgenden Anbieter unterst\xfctzt:",url_hint:"URL muss mit http:// beginnen.",url_hint_https:"URL muss mit http:// oder https:// beginnen."}}}},unauthorized:"Sie sind nicht berechtigt diese Seite anzuzeigen.",user_mailer:{invitation:{ending:"Dankesch\xf6n und viel Spa\xdf,",greeting:"Dein Pageflow-Team",instruction:"Willkommen bei Pageflow. Bitte lege \xfcber den folgenden Link ein Kennwort fest. In Zukunft kannst Du Dich dann mit Deiner E-Mail-Adresse anmelden.",salutation:"Hallo %{first_name}",subject:"Ihre Pageflow Einladung"}},video:{help_entries:{page_type:{menu_item:"Video",text:"# Video\n\n*Wiedergabe einer Videodatei mit Steuerelementen* \n   \nAnders als bei \u201eHintergrund-Videos\u201c werden hier Textelemente nach ein\npaar Sekunden automatisch ausgeblendet, um die\nAufmerksamkeit auf das Bewegtbild zu lenken. Mit\nSteuerelementen kann der Nutzer das Video jederzeit\nstarten und pausieren, vor- oder zur\xfcckspulen. Ein\nweiterer Unterschied ist, dass Du w\xe4hlen kannst, ob ein\nVideo automatisch gestartet wird, sobald die Seite\nangezeigt wird.  Als dezente Alternative oder Erg\xe4nzung zu\nden normalen Texteingabem\xf6glichkeiten, kann eine\nsogenannte \u201eInfobox\u201c mit Text bef\xfcllt werden.\n\nUnter Optionen l\xe4sst sich ein automatisches weiterscrollen am Ende des Videos aktivieren. \nDas kann n\xfctzlich sein, um einen nahtlosen \xdcbergang zur n\xe4chsten Seite herzustellen.\n\nTypische Anwendungsbeispiele: Filme aller Art, Interviews,\nPortrait"}},page_attributes:{mobile_poster_image_id:{inline_help:"Wird in der Mobilvariante gezeigt, bevor das Video startet."}},page_type_category_name:"Media",page_type_description:"Wiedergabe einer Videodatei mit Steuerelementen",page_type_name:"Video"},widgets:{none:"(Kein)",roles:{analytics:"Z\xe4hlpixel",mobile_navigation:"Mobile Navigation",navigation:"Navigationsleiste",player_controls:"Player Controls"},type_names:{classic_player_controls:"Klassisch",default_mobile_navigation:"Navigationsmen\xfc mit Thumbnails",default_navigation:"Navigationsleiste mit Thumbnails",slim_player_controls:"Minimalistisch"}},"public":{_language:"Deutsch",audio:"Audio",back:"Zur\xfcck",back_to_chapter:"Zur\xfcck zu Kapitel",before_after:{drag_hint:"Linke Maustaste dr\xfccken und nach links oder rechts ziehen",hint:"Vorher/Nacher Ansicht",leave_view:"Vorher/Nachher-Ansicht verlassen",start:"Vorher/Nachher-Ansicht starten",start_title:"Vorher/Nachher-Ansicht starten"},chapter:"Kapitel",chart:{toggle:"Ansicht vergr\xf6\xdfern bzw. verkleinern"},close:"Schlie\xdfen",close_hint:"Hinweis schlie\xdfen",close_navigation:"Navigation schlie\xdfen",close_overview:"\xdcbersicht schlie\xdfen",cookie_notice_html:'Diese Webseite verwendet Cookies. Durch die Nutzung der Website wird der Verwendung von Cookies zugestimmt. <a href="%{privacyLinkUrl}" target="_blank">Mehr erfahren</a>',deprecated_browser:"<p>Liebe Nutzer,</p><p>leider nutzen Sie eine veraltete Version Ihres Browsers. Deshalb k\xf6nnen die an dieser Stelle vorgesehenen Inhalte nicht korrekt dargestellt werden. Bitte aktualisieren Sie auf eine aktuelle Version.</p>",dismiss_cookie_notice:"Ausblenden",embedded_video:{leave_video:"Eingebettetes Video verlassen"},enlarge_view:"Ansicht vergr\xf6\xdfern",enter_fullscreen:"Vollbilddarstellung",first_page:"Erste Seite",forward:"Vorw\xe4rts",fullscreen:"Vollbild",goto_first_page:"Zur ersten Seite",goto_top:"Zum Anfang",hide_text:"Text ausblenden",home:"Startseite",imprint:"Impressum",javascript_hint:"Zur korrekten Anzeige der Seite ben\xf6tigen Sie JavaScript.",languages:{ar:"Arabisch",cs:"Tschechisch",de:"Deutsch",dk:"D\xe4nisch",el:"Griechisch",en:"Englisch",es:"Spanisch",fr:"Franz\xf6sisch",it:"Italienisch",nl:"Holl\xe4ndisch",pl:"Polnisch",pt:"Portugiesisch",ru:"Russisch",sr:"Serbisch",tr:"T\xfcrkisch",unknown:"(Unbekannt)",zh:"Chinesisch"},leave_fullscreen:"Vollbilddarstellung beenden",lets_go:"Los geht's",logo:"Logo",media_quality:"Qualit\xe4t",mute_off:"Ton ein",mute_on:"Ton aus",navigate_top:"Zum Anfang",navigation:"Navigation",new_pages_box:{additional_pages_html:"...und <span></span> weitere",description:"Seit dem letzten Besuch wurden diesem Pageflow neue Seiten hinzugef\xfcgt:",title:"Neue Seiten"},notice:"Hinweis",open_audio:"Audio \xf6ffnen",open_navigation:"Navigation \xf6ffnen",open_overview:"\xdcbersicht \xf6ffnen",open_video:"Video \xf6ffnen",overview:"\xdcbersicht",panorama:{close:"360\xb0-Ansicht verlassen und Text einblenden",start:"360\xb0-Ansicht starten"},play_video:"Video ansehen",privacy_notice:"Datenschutz",scroll_back_indicator:" ",scroll_down:"Runter scrollen",scroll_hint:"Mit dem Mausrad oder den Pfeiltasten auf der Tastatur wird die jeweils n\xe4chste Kapitelseite aufgerufen.",scroll_indicator:"Scrollen, um weiterzulesen",scroll_left:"Nach links scrollen",scroll_right:"Nach rechts scrollen",scroll_up:"Hoch scrollen",share:"Teilen",share_on_facebook:"Auf Facebook teilen",share_on_google:"Auf Google+ teilen",share_on_twitter:"Auf Twitter teilen",share_this_entry:"Diesen Beitrag",share_this_page:"Diese Seite",show_home:"Zur Startseite",show_text:"Text einblenden",skip_links_content:"Zum Inhalt",skip_links_navigation:"Zur Seitennavigation",skip_links_top_navigation:"Zur Dachnavigation",sound_hint:"F\xfcr dieses multimediale Reportage-Format nutzen wir neben Texten und Fotos auch Audios und Videos. Daher sollten die Lautsprecher des Systems eingeschaltet sein.",start_audio:"Audio jetzt starten",start_video:"Video jetzt starten",swipe_hint:"Durch Wischen wird die jeweils n\xe4chste Kapitelseite aufgerufen.",swipe_indicator:"Wischen, um Text einzublenden",swipe_to_continue:"Wischen, um weiterzulesen",text_track_modes:{auto:"Auto (%{label})",auto_off:"Auto (Aus)",none:"Aus"},text_tracks:"Untertitel",toggle_info_box:"Info Box ein-/ausblenden",video:"Video",video_qualities:{annotations:{"4k":"4K",fullhd:"HD",medium:"HD"},labels:{"4k":"2160p",auto:"Automatisch",fullhd:"1080p",medium:"720p"}},volume:"Lautst\xe4rke",vr:{no_vr:{link:"Video in der YouTube-App ansehen",text:"360\xb0-Videos k\xf6nnen in ihrem Browser nicht angezeigt werden."},select_quality:"Video-Qualit\xe4t ausw\xe4hlen",start:"360\xb0 Video ansehen",start_cardboard:"Cardboard-Modus starten",video_qualities:{"4k":"2160s",fullhd:"1080s",high:"720s"},video_quality_annotations:{"4k":"4K",fullhd:"HD",high:"HD"}}},internal_links:{editor:{templates:{edit_page_link:{back:"Zur\xfcck",destroy:"L\xf6schen"},embedded:{grid_page_link:{edit:"Bearbeiten",set:"Zielseite ausw\xe4hlen"}}},views:{edit_page_link_view:{confirm_destroy:"Verweis wirklich l\xf6schen?",default_page_transition:"(Standard)"}}},grid:{help_entries:{page_type:{menu_item:"Mosaik",text:"# Mosaik\n\nVerweise auf andere Seiten innerhalb eines Pageflows\nIm Gegensatz zur externen Verweis-Seite, werden hier interne Seiten innerhalb des\nPageflows verlinkt. Dies bietet sich an, um den User gezielt durch den Pageflow zu leiten.\n\nF\xfcr den Hintergrund kann ein Bild oder Video verwendet werden.\n\nTypische Anwendungsbeispiele: Willkommens-Seite, Kapitel-Startseite"}},page_attributes:{linked_pages_layout:{inline_help:"Ein Thumbnail im Mosaik kann gr\xf6\xdfer dargestellt werden.",label:"Hervorgehobenes Element",values:{"default":"(Kein)",hero_top_left:"Links oben",hero_top_right:"Rechts oben"}}},page_type_category_name:"Verweise",page_type_description:"Verweise zu anderen Seiten als Mosaik angeordnet",page_type_name:"Mosaik"},list:{help_entries:{page_type:{menu_item:"Multiple Choice",text:"# Multiple Choice\n\nLinks auf andere Seiten des Pageflows dargestellt als horizontal angeordnete Boxen mit einem kurzen Text.\n\nF\xfcr den Hintergrund kann ein Bild oder Video verwendet werden.\n\nTypische Anwendungsbeispiele: Frage/Antwort-Seite, interaktives Interview, Quiz"}},page_type_category_name:"Verweise",page_type_description:"Verweise auf andere Seiten als Reihe von Antworten",page_type_name:"Multiple Choice"},page_link_attributes:{description:{inline_help:"Dieser Text wird auf dem Verweis angezeigt.",label:"Beschreibung"}}},internal_links_list:{page_type_feature_name:"Multiple Choice Seitentyp"},external_links:{editor:{templates:{edit_site:{back:"Externe Verweise",destroy:"L\xf6schen",failure:"Beim Speichern des externen Verweises ist ein Problem aufgetreten.",retry:"Erneut versuchen"},embedded:{list_item:{open_in_new_tab:"Seite in neuem Tab ansehen",open_in_new_tab_message:"\xd6ffnen im selben Tab ist im Editor deaktiviert."}},inputs:{site_reference:{add:"Hinzuf\xfcgen"}},site_item:{failure:"Beim Speichern der Seite ist ein Fehler aufgetreten.",select:"Ausw\xe4hlen"},site_reference_item:{edit:"Bearbeiten",remove:"L\xf6schen"},site_selection:{cancel:"Abbrechen",title:"Externe Seite ausw\xe4hlen"},sites:{add:"Hinzuf\xfcgen"},sites_blank_slate:{text:"Es wurden noch keine Seiten erstellt."}},views:{edit_site:{back:"Zur\xfcck",confirm_destroy:"Externen Verweis wirklich l\xf6schen?\n\nAlle Benutzungen dieses Verweises auf Seiten werden ebenfalls entfernt. Dieser Schritt kann nicht r\xfcckg\xe4ngig gemacht werden."},site_item_reference_view:{unknown:"(Unbenannt)"},site_item_view:{unknown:"(Unbenannt)"}}},help_entries:{page_type:{menu_item:"Externe Verweise",text:"# Externe Verweise\n\n*Sammlung von Verweisen zu Webseiten ausserhalb des Pageflows*\n    \nZu dem \xfcblichen Hintergrund-Bild/Video k\xf6nnen hier Verweise auf externe Webseiten\neingebunden werden, die sich bei Klick in einem neuen Browserfenster \xf6ffnen. Pro\nVerweis kann jeweils ein Bild, ein Titel und eine Beschreibung verwendet werden.\nAchtung: Mit jedem Verweis auf eine externe Webseite riskierst Du, dass User\nm\xf6glicherweise aus Deinem Pageflow aussteigen bzw. von dem neu ge\xf6ffneten Fenster\nnicht zur\xfcckkehren. Erfahrungsgem\xe4\xdf empfiehlt sich daher die Verwendung solcher Links\neher im hinteren Teil Deines Pageflows.\n\nTypische Anwendungsbeispiele: Vertiefungen, Quellen, Twitter- und Facebook-Feeds, Backlinks zur Homepage"},sites:{menu_item:"Externe Verweise verwalten",text:"# Externe Verweise verwalten\n\nMit \u201eExterne Verweise\u201c verwaltest Du Links auf Webseiten, die Du in eine Reportage einbinden m\xf6chtest. Hierzu kannst Du sowohl Bilder als \u201eTeaser\u201c, als auch Infotext zur Beschreibung des Verweises benutzen.\n\nDiese Verweise werden vom Seitentyp \u201eExterne Verweise\u201c verwendet.\nDer Verwendung externer Links bietet sich beispielsweise an, um bestimmte Themen weiter zu vertiefen. \n\nBeachte bitte, dass diese Links eher zum Ende eines Pageflows eingesetzt werden sollten, da sie die M\xf6glichkeit eines vorzeitigen Ausstieges aus der Reportage anbieten."}},manage_sites:"Externe Verweise verwalten",page_type_category_name:"Verweise",page_type_description:"Sammlung von Verweisen zu Webseiten au\xdferhalb des Pageflows",page_type_help_entry:{title:"Externe Verweise Seitentyp: Inhalte optisch ansprechend abrunden"},page_type_name:"Externe-Verweise"},linkmap_page:{default_page_transition:"(Standard)",editor:{area_types:{audio_file:"Audio Datei",external_site:"Externer Verweis",page:"Seitenverweis",text_only:"Nur Text"},templates:{edit_area:{back:"Zur\xfcck",destroy:"L\xf6schen"},embedded:{area_item:{hide_marker:"Linkmarkierung deaktivieren",set_mask:"Maske ausw\xe4hlen",show_marker:"Linkmarkierung aktivieren",unset_mask:"Frei positionierbar machen"}},file_area_item:{edit:"Bearbeiten",remove:"Entfernen",toggle_marker:"Linkmarkierung aktivieren"},file_areas:{add:"Hinzuf\xfcgen",label:"Audios"},select_area_position_hint:{cancel:"Abbrechen"}},views:{area_mask_input_view:{present:"(Aktiv)"},areas_list:{add:"Hinzuf\xfcgen",label:"Bereiche"},edit_area_view:{confirm_destroy:"Bereich wirklich l\xf6schen?"},embedded:{area_item:{external_link_disabled:"Externe Links sind im Editor deaktiviert."}},scaled_on_phone_hint:{orientations:{both:"Phone Layout",landscape:"Landscape Phone Layout",portrait:"Portrait Phone Layout"},text:"Das Panorama wird im %{orientation} skaliert, um eine Mindestgr\xf6\xdfe der Hotspots f\xfcr die Touch-Eingabe zu gew\xe4hrleisten. Hotspots vergr\xf6\xdfern, um Skalierung zu vermeiden."},select_area_position_hint:{drag_hint:"W\xe4hle einen Bereich f\xfcr den Hotspot durch Klicken und Ziehen mit der Maus.",select_mask_hint:"Klicke auf einen der farbigen Bereiche des Masken-Bildes, um einen Bereich f\xfcr den Hotspot auszuw\xe4hlen.",select_mask_or_drag_hint:"Klicke auf einen der farbigen Bereiche des Masken-Bildes oder w\xe4hle einen frei positionierten Bereich durch Klicken und Ziehen mit der Maus."}}},errors:{invalid_image_data:"Bei der Erkennung der Farbbereiche im Maskenbild ist ein Fehler aufgetreten. Stellen Sie sicher, dass die farbigen Bereiche im Maskenbild begrenzt und alle anderen Teile des Bildes transparent sind.",loading_remote_image_failed:"Beim Laden des Bildes ist ein Fehler aufgetreten.",mask_image_failed:"Beim Verarbeiten des Maskenbildes ist ein Fehler aufgetreten.",no_big_enough_color_map_components:"Es konnten keine Farb-Bereiche erkannt werden. Stellen Sie sicher, dass die Bereiche midestens 7x7 Pixel gro\xdf sind.",saving_mask_image_failed:"Beim Speichern des Maskenbildes ist ein Fehler aufgetreten."},help_entries:{page_type:{menu_item:"Hotspots",text:'# Hotspots\n\n*Verweise mit konfigurierbaren Klickbereichen*\n\nHotspots k\xf6nnen Audio-Dateien abspielen, interne Verweise auf andere\nSeiten im Pageflow sein oder auf externe Seiten verlinken. Es k\xf6nnen\nso viele Hotspots angelegt werden wie gew\xfcnscht.\n\nDer Panorama Typ entscheidet dar\xfcber, ob die Seite ein\nHintergrund-Bild oder Hintergrund-Video zeigt. (Beachte, dass\nHintergrund-Videos auf mobilen Ger\xe4ten nicht abgespielt werden,\ndeshalb w\xe4hle ein zus\xe4tzliches Panorama-Bild f\xfcr die mobile Version)\n\nDie Hotspot-Seite erm\xf6glicht auch die Nutzung von Panorama-Bildern,\ndie gr\xf6\xdfer sind, als der sichtbare Bildschirmbereich. So k\xf6nnen Nutzer\ndiese Seiten auch horizontal oder vertikal durch scrollen erkunden.\n\nUm einen Hotspot zu erstellen, klicke auf \u201eBereiche\u201c und w\xe4hle\nzwischen \u201eAudio\u201c, \u201eSeitenverweis\u201c oder \u201eExterner Verweis\u201c.\n\nDiese \u201eBereiche" k\xf6nnen auf zwei unterschiedliche Arten dargestellt\nwerden:\n\n##  Hotspots als Kreise\n\nEin wei\xdfer Kreis, dessen Position und Gr\xf6\xdfe frei gew\xe4hlt werden kann,\nmarkiert den Hotspot. Hierzu klicke beim entsprechenden Hotspot auf\nden Button mit dem Auge-Symbol und ziehe den Kreis dann an die\ngew\xfcnschte Position. Bei Auswahl einer Audio-Datei erscheint innerhalb\ndes Kreises ein Kopfh\xf6rer-Symbol mit einem Inline-Audio-Player. Dessen\nGr\xf6\xdfe h\xe4ngt von der Gr\xf6\xdfe des Kreises ab. Je n\xe4her der Mauszeiger\nRichtung Kreis bewegt wird, desto heller/sichtbarer wird dieser.\xa0Mit\nKlick auf den Kopfh\xf6rer wird der Audio-Player gestartet und gestoppt.\n\n## Individuell gestaltete Hotspots\n\nAlternativ kann ein zweites Panorama-Bild verwendet werden, um das\nAussehen der Hotspots zu bestimmen, \xfcber denen sich der Cursor\nbefindet. Es m\xfcssen zwei Panorama-Bilder vorbereitet werden:\n\n1. Ein Bild mit allen Hotspots im inaktiven Modus (z.B. eine Karte, auf der St\xe4dte mit schwarzen Punkten markiert sind)\n2. Ein Bild mit allen Hotspots im aktiven Zustand (z.B. die selbe Karte, aber mit roten Punkten als Markierung)\n\nDie rechteckigen Bereiche der Hotspots werden nun so positioniert,\ndass sie die graphischen Darstellungen der Hotspots im Bild\n\xfcberdecken. Befindet sich der Cursor \xfcber einem der Bereiche, wird\ngenau in diesem Ausschnitt der entsprechende Teil des Hover-Bildes\ngezeigt. Der Hotspot erscheint daher aktiv, w\xe4hrend alle anderen\nHotspots weiterhin inaktiv dargestellt werden.\n\nAn Stelle von Bildern k\xf6nnen auch Videos verwendet werden. Folgende\nKombinationen sind m\xf6glich:\n\n1. Hintergrund-Bild mit Hover-Bild\n2. Hintergrund-Video mit Hover-Bild\n3. Hintergrund-Bild mit Hover-Video\n\nFalls die vom User bereits besuchten Bereiche anschliessend anders\ndargestellt werden sollen, kann ein \u201eVisited-Bild\u201c festgelegt werden,\ndas dann zum Beispiel einen bestimmten Hotspot nach dem Klick in einer\nabgeschw\xe4chten Farbe zeigt.\n\n## Frei geformte Hotspots\n\nEs ist nicht immer m\xf6glich, die visuellen Elemente eines\nPanorama-Bildes so mit rechteckigen Hotspots zu \xfcberdecken, dass sich\nkeine \xdcberschneidungen ergeben. M\xf6chte man zum Beispiel die L\xe4nder auf\neiner Landkarte als Hotspots verwenden, so dass stets das unter dem\nCursor befindliche Land in einer anderern Farbe angezeigt wird, l\xe4sst\nsich dies mit einem einzelnen Hover-Bild nicht umsetzen: Sobald der\nBereich eines Hotspots \xfcber die Landesgrenze hinausragt, erscheint\nauch immer ein Teil des Nachbarlandes in der aktiven Farbe.\n\nF\xfcr diese F\xe4lle kann ein sogenanntes Masken-Bild eingesetzt werden, um\ndie Umrisse der Hotspots frei zu bestimmen. Es sollte sich dabei um\nein PNG-Bild mit transparentem Hintergrund handeln, auf dem die\ngew\xfcnschten Hotspot-Bereiche durch einfarbige Fl\xe4chen dargestellt\nsind. Die Abmessungen des Bildes m\xfcssen denen des Panorama- und des\nHover-Bildes entsprechen.\n\nF\xfcr das Landkarten-Beispiel k\xf6nnte also eine identisch proportionierte\nKarte verwendet werden, auf der die L\xe4nder jeweils mit einem einzelnen\nFarbton gef\xfcllt sind, Meere und Landesteile, die nicht mit einem\nHotspot versehen werden sollen, aber transparent bleiben.\n\nNachdem das Masken-Bild ausgew\xe4hlt wurde, kann beim Erstellen eines\nHotspots nicht nur ein Bereich mit der Maus gezogen, sondern auch ein\nvordefinierter farbiger Bereich aus dem Masken-Bild angeklickt werden.\n\nDie Umrisse des Hotspots entsprechen dann genau dem ausgew\xe4hlten\nfarbigen Bereich im Masken-Bild. Entsprechend wird das Hover-Bild nur\ninnerhalb dieses Bereiches dargestellt.\n\nBei der Zuordnung der Bereiche ist dabei nur die Farbe\nausschlaggebend: der Bereich eines Hotspots muss keine\nzusammenh\xe4ngende Fl\xe4che darstellen. So k\xf6nnen, um das Karten-Beispiel\nein letztes Mal aufzugreifen, auch die zu einem Land geh\xf6renden Inseln\nzusammen mit dem Festland hervorgehoben werden, ohne dass das Meer,\nwelches die Inseln umgibt, Teil des anklickbaren Bereichs sein\nm\xfcsste.\n\nWichtig: Bei der Erstellung des Masken-Bildes muss in der\nGrafik-Anwendung Kantengl\xe4ttung deaktiviert werden, da zur pr\xe4zisen\nAbgrenzung der Bereiche scharf getrennte Farbbereiche n\xf6tig\nsind. Kantengl\xe4ttung f\xfchrt zur Entstehung kleiner Farbverl\xe4ufe im\nBild, die dann als mehrere Bereiche erkannt werden. F\xfcr Bilder mit\neiner zu gro\xdfen Zahl an Farbt\xf6nen wird bei Auswahl als Masken-Bild\neine Fehlermeldung gezeigt.\n\nIm Moment ist es nicht m\xf6glich, die Masken-Bild-Funktion zusammen mit\neinem Hover-Video zu verwenden.\n\n## Textoptionen\n\nDie Hotspots k\xf6nnen mit einem Titel benannt und mit weiteren Text\nversehen werden. Der Text kann in fett, kursiv und unterstrichen\nformatiert werden.\n\n## Atmo Optionen\n\nWie bei den anderen Seitentypen auch, kann im Hintergrund ein\nzus\xe4tzliches Audiofile abgespielt werden. F\xfcr die Kombination mit\nAudio-Hotspots ist es neben \u201cAusblenden\u201d und \u201cWeiterspielen\u201d zudem\nm\xf6glich, die Option \u201cLeiser weiterspielen\u201d auszuw\xe4hlen. Das kann\nsinnvoll sein, wenn zum Beispiel ein im Hintergrund laufender Titel\nvon einem kurzen Interview \xfcberlagert wird.\n\n## Weitere Optionen\n\nUnter \u201eOptionen" k\xf6nnen folgende Regeln definiert werden:\n\nScrollbereich auf aktive Bereiche beschr\xe4nken: Hierbei wird\nverhindert, dass die User sich in Bildbereiche ausserhalb der Hotspots\nbewegen k\xf6nnen.\n\nScrollumgebung erzwingen: Hierbei wird der sichtbare Bereich so\nverkleinert, dass User sich durch die Seite scrollen m\xfcssen, um alle\nHotspots zu sehen.\n\nAm Bildrand scrollen deaktivieren: Hierbei wird das sonst automatische\nScrollen unterdr\xfcckt, sobald User die Maus zum Bildrand bewegen.\n\nTypische Anwendungsbeispiele: Men\xfcseite, Multiple Choice, Entdeckungstour'}},manage_sites:"Verweise verwalten",page:{scroll_down:"Nach unten scrollen",scroll_left:"Nach links scrollen",scroll_right:"Nach rechts scrollen",scroll_up:"Nach oben scrollen"},page_attributes:{add_environment:{inline_help:"Panorama etwas vergr\xf6\xdfern, um Scrollen in beide Richtungen zu erlauben.",label:"Scrollumgebung erzwingen"},audio_areas:{label:"Bereiche mit Audio"},background_type:{label:"Panorama-Typ",values:{hover_video:"Hintergrund-Bild/Hover-Video",image:"Hintergrund-Bild/Hover-Bild",video:"Hintergrund-Video/Hover-Bild"}},hover_image_id:{inline_help:"Ein Ausschnitt dieses Bildes wird im Bereich eines Hotspots angezeigt, wenn sich der Cursor \xfcber dem Hotspot befindet.",label:"Hover-Bild"},hover_video_type:{hover_image_id:{inline_help:"Bild, das auf mobilen Plattformen anstelle des Hover-Videos gezeigt werden soll.",label:"Hover-Bild (mobil)"},panorama_video_id:{inline_help:"Ein Ausschnitt dieses Videos wird im Bereich eines Hotspots angezeigt, wenn sich der Cursor \xfcber dem Hotspot befindet.",label:"Hover-Video"}},limit_scrolling:{inline_help:"Scrollen nur erlauben, falls Hotspot Bereiche au\xdferhalb des sichtbaren Bereichs liegen.",label:"Scrollbereich auf aktive Bereiche beschr\xe4nken"},linked_linkmap_page_perma_ids:{label:"Verlinkte Seiten"},linkmap_areas:{label:"Verweisbereiche"},linkmap_color_map_image_id:{inline_help:"Bild mit farbigen Bereichen, die die Umrisse von Hotspots bestimmen. Weitere Hinweise im Hilfe-Eintrag des Hotspot-Seitentyps.",label:"Masken-Bild"},margin_scrolling_disabled:{inline_help:"Panorama nicht automatisch scrollen, wenn der Cursor bewegt wird.",label:"Am Bildrand scrollen deaktivieren"},panorama_image_id:{inline_help:"Bild auf dem Hotspots gesetzt werden sollen.",label:"Panorama-Bild"},panorama_video_id:{inline_help:"Video auf dem Hotspots gesetzt werden sollen.",label:"Panorama-Video"},video_type:{panorama_image_id:{inline_help:"Bild, das auf mobilen Plattformen anstelle des Panorama-Videos gezeigt werden soll.",label:"Panorama-Bild (mobil)"}},visited_image_id:{inline_help:"Ein Ausschnitt dieses Bildes wird in den Bereichen der Hotspots angezeigt, deren Zielseite bereits besucht wurde.",label:"Visited-Bild"}},page_type_category_name:"Verweise",page_type_description:"Verweise mit konfigurierbaren Klickbereichen",page_type_feature_name:"Hotspot-Seitentyp",page_type_name:"Hotspots"},text_page:{help_entries:{page_type:{menu_item:"Text",text:"# Text Seite\n\n*Blog-artige Seite f\xfcr lange Texte*\n    \nDiese Seite ist speziell f\xfcr l\xe4ngere Texte auf neutralem Hintergrund ausgelegt. Sie bietet\nbesondere Gestaltungsm\xf6glichkeiten, die mit den Features klassischer (Parallax-) Blog-\nSeiten vergleichbar sind, wie man sie beispielsweise von Tumblr und WordPress kennt.\nEs gibt unterschiedliche Optionen bei der Anordnung von Titel-Bildern/Videos und auch\nverschiedene Varianten, ein weiteres Bild im Flie\xdftext einzubinden. Zum Beispiel ob das\nBild mitwandert oder auf dem Bildschirm fixiert wird.\n\nTypische Anwendungsbeispiele: Blog-Artikel, News-Artikel, Interview"}},page_type_category_name:"Basic",
page_type_description:"Lange Texte mit einem Banner-Bild",page_type_name:"Text"},embedded_video:{help_entries:{page_type:{menu_item:"Embedded Video",text:"# Embedded Video\n\n*Bettet ein externes Video von YouTube oder Vimeo ein*\n    \nFalls Du neben eigenem Filmmaterial auch externe Videos verwenden m\xf6chtest, kannst\nDu diese \xfcber eine Video-URL integrieren und zudem mit einer Bildunterschrift versehen.\nAus technischen Gr\xfcnden wird das Bild in einem Rahmen in die Seite\neingebunden, der sich der Gr\xf6\xdfe des Bildschirms und dem Textfluss automatisch anpasst, ihn aber nie komplett ausf\xfcllt.\nDeshalb besteht bei diesem Seitentyp die M\xf6glichkeit, ein zus\xe4tzliches Hintergrund-Bild/Video\neinzuf\xfcgen, beispielsweise um einen visuellen Rahmen zu schaffen.\n\nEs k\xf6nnen Videos der beiden Plattformen YouTube und Vimeo verwendet werden.\n\nTypische Anwendungsbeispiele: Einbinden von Playlists, Trailern, Kurzfilmen"}},page_type_category_name:"Media",page_type_description:"Bettet ein externes Video von YouTube oder Vimeo ein",page_type_name:"Embedded Video"},before_after:{help_entries:{page_type:{menu_item:"Vorher/Nachher",text:"# Vorher/Nachher\n\n*Zwei \xfcbereinander liegende Bilder mit Schieberegler getrennt*\n    \nMit dem Vorher/Nachher-Effekt lassen sich zwei Bilder \xfcbereinander legen, die dann per\nSchieberegler mehr oder weniger in Erscheinung treten.\nDieser Seitentyp macht vor allem dann Sinn, wenn Du etwas miteinander vergleichen\nm\xf6chtest. Besonders wirksam ist dieser optische Abgleich, wenn Winkel und Ausschnitt\nbeider Aufnahmen oder Grafiken exakt \xfcbereinstimmen.\n\nTypische Anwendungsbeispiele: Damals wie Heute, Status quo und Planung, leer oder voll etc."}},page_type_category_name:"Interaktiv",page_type_description:"Zwei \xfcbereinandergelegte Bilder mit Schieberegler getrennt",page_type_name:"Vorher/Nachher"}},support:{array:{last_word_connector:" und ",two_words_connector:" und ",words_connector:", "}},time:{am:"vormittags",formats:{date:"%d.%m.%Y","default":"%d.%m.%Y, %H:%M","long":"%d.%m.%Y, %H:%M","short":"%d. %B %Y, %H:%M Uhr"},pm:"nachmittags"},views:{pagination:{first:"|<",last:">|",next:">>",previous:"<<",truncate:"..."}}},it:{ransack:{search:"cerca",predicate:"predicato",and:"e",or:"o",any:"qualsiasi",all:"tutti",combinator:"combinatore",attribute:"attributo",value:"valore",condition:"condizione",sort:"ordinamento",asc:"crescente",desc:"decrescente",predicates:{eq:"uguale a",eq_any:"uguale ad almeno un",eq_all:"uguale ad ognuno",not_eq:"diverso da",not_eq_any:"diverso da uno qualsiasi",not_eq_all:"diverso da tutti",matches:"combacia con",matches_any:"combacia con almeno un",matches_all:"combacia con tutti",does_not_match:"non corrisponde",does_not_match_any:"non corrisponde ad uno qualsiasi",does_not_match_all:"non corrisponde con nessuno",lt:"minore di",lt_any:"minore di almeno un",lt_all:"minore di tutti",lteq:"minore o uguale a",lteq_any:"minore o uguale ad almeno un",lteq_all:"minore o uguale a tutti",gt:"maggiore di",gt_any:"maggiore di almeno un",gt_all:"maggiore di tutti",gteq:"maggiore o uguale a",gteq_any:"maggiore o uguale ad almeno un",gteq_all:"maggiore o uguale a tutti","in":"in",in_any:"in almeno un",in_all:"in tutti",not_in:"non in",not_in_any:"non in almeno un",not_in_all:"non in tutti",cont:"contiene",cont_any:"contiene almeno un",cont_all:"contiene tutti",not_cont:"non contiene",not_cont_any:"non contiene un qualsiasi",not_cont_all:"non contiene nessuno",start:"inizia con",start_any:"inizia con almeno un",start_all:"inizia con tutti",not_start:"non inizia con",not_start_any:"non inizia con uno qualsiasi",not_start_all:"non inizia con nessuno",end:"finisce con",end_any:"finisce con almeno un",end_all:"finisce con tutti",not_end:"non finisce con",not_end_any:"non finisce con uno qualsiasi",not_end_all:"non finisce con nessuno","true":"\xe8 vero","false":"\xe8 falso",present:"\xe8 presente",blank:"\xe8 vuoto","null":"\xe8 nullo",not_null:"non \xe8 nullo"}},formtastic:{yes:"S\xec",no:"No",create:"Crea %{model}",update:"Aggiorna %{model}",submit:"Invia",cancel:"Annulla",reset:"Ripristina %{model}",required:"obbligatorio"},active_admin:{dashboard:"Dashboard",dashboard_welcome:{welcome:"Benvenuti in Active Admin. Questa \xe8 la pagina dashboard di default.",call_to_action:"Per aggiungere sezioni alla dashboard controlla il file 'app/admin/dashboard.rb'"},view:"Mostra",edit:"Modifica","delete":"Rimuovi",delete_confirmation:"Sei sicuro di volerlo rimuovere?",new_model:"Aggiungi %{model}",edit_model:"Modifica %{model}",delete_model:"Rimuovi %{model}",details:"Dettagli %{model}",cancel:"Annulla",empty:"Vuoto",previous:"Precedente",next:"Prossimo",download:"Scarica:",has_many_new:"Aggiungi nuovo/a %{model}",has_many_delete:"Rimuovi",has_many_remove:"Rimuovi",filters:{buttons:{filter:"Filtra",clear:"Rimuovi filtri"},predicates:{contains:"Contiene",equals:"Uguale a",starts_with:"Inizia con",ends_with:"Finisce con",greater_than:"Maggiore di",less_than:"Minore di"}},search_status:{headline:"Situazione filtri:",current_scope:"Contesto selezionato:",current_filters:"Filtri attivi:",no_current_filters:"Nessuno"},status_tag:{yes:"S\xec",no:"No"},main_content:"Devi implemetare %{model}#main_content per mostrarne il contenuto.",logout:"Esci",powered_by:"Powered by %{active_admin} %{version}",sidebars:{filters:"Filtri",search_status:"Informazioni sulla ricerca"},pagination:{empty:"Nessun %{model} trovato",one:"Sto mostrando <b>1</b> %{model}",one_page:"Sto mostrando <b>%{n}</b> %{model}. Lista completa.",multiple:"Sto mostrando %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> di <b>%{total}</b> in totale",multiple_without_total:"Sto mostrando %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",entry:{one:"voce",other:"voci"}},any:"Qualsiasi",blank_slate:{content:"Non sono presenti %{resource_name}",link:"Crea nuovo/a"},dropdown_actions:{button_label:"Azioni"},batch_actions:{button_label:"Azioni multiple",default_confirmation:"Sei sicuro di che voler fare questo?",delete_confirmation:"Sei sicuro di volere cancellare %{plural_model}?",succesfully_destroyed:{one:"Eliminato con successo 1 %{model}",other:"Eliminati con successo %{count} %{plural_model}"},selection_toggle_explanation:"(Toggle Selection)",link:"Crea uno",action_label:"%{title} Selezionati",labels:{destroy:"Elimina"}},comments:{created_at:"Creato il",resource_type:"Tipo di risorsa",author_type:"Tipo di Autore",body:"Corpo",author:"Autore",title:"Commento",add:"Aggiungi Commento","delete":"Cancella Commento",delete_confirmation:"Sei sicuro di voler cancellare questo commento?",resource:"Risorsa",no_comments_yet:"Nessun commento.",author_missing:"Anonimo",title_content:"Commenti (%{count})",errors:{empty_text:"Il commento non pu\xf2 essere salvato, il testo \xe8 vuoto."}},devise:{username:{title:"Nome Utente"},email:{title:"Email"},subdomain:{title:"Sottodominio"},password:{title:"Password"},sign_up:{title:"Iscriviti",submit:"Iscriviti"},login:{title:"Entra",remember_me:"Ricordami",submit:"Entra"},reset_password:{title:"Dimenticato la password?",submit:"Reimposta la tua password"},change_password:{title:"Cambia la tua password",submit:"Cambia la mia password"},unlock:{title:"Invia di nuovo le istruzioni per sbloccare",submit:"Invia di nuovo le istruzioni per sbloccare"},resend_confirmation_instructions:{title:"Invia di nuovo le istruzioni per la conferma",submit:"Invia di nuovo le istruzioni per la conferma"},links:{sign_in:"Entra",forgot_your_password:"Dimenticato la password?",sign_in_with_omniauth_provider:"Collegati a %{provider}",resend_unlock_instructions:"Invia di nuovo le istruzioni per lo sblocco",resend_confirmation_instructions:"Invia di nuovo le istruzioni per la conferma"}},unsupported_browser:{headline:"Perfavore, notare che ActiveAdmin non supporta pi\xf9 Internet Explorer 8 o inferiore",recommendation:'Ti raccomandiamo di aggiornare alla versione pi\xf9 recente di <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, o <a href="https://mozilla.org/firefox/">Firefox</a>.',turn_off_compatibility_view:'Se stai utilizzando Internet Explorer 9 o successivo, assicurati di <a href="http://windows.microsoft.com/en-US/windows7/webpages-look-incorrect-in-Internet-Explorer">disabilitare la "Modalit\xe0 Compatibilit\xe0"</a>.'},access_denied:{message:"Non hai le autorizzazioni necessarie per eseguire questa azione."},index_list:{table:"Tabella",block:"Lista",grid:"Griglia",blog:"Blog"}},pageflow:{"public":{_language:"Italiano",audio:"audio",back:"indietro",back_to_chapter:"ritorno al capitolo",before_after:{drag_hint:null,hint:"visuale prima/dopo",leave_view:"chiudere visuale prima/dopo e visualizzare il testo",start:"aprire la visuale prima/dopo",start_title:"aprire la visuale prima/dopo"},chapter:"capitolo",chart:{toggle:"ingrandire o ridurre la visuale"},close:"chiudere",close_hint:"chiudere suggerimento",close_navigation:"terminare navigazione",close_overview:"chiudere panoramica",cookie_notice_html:null,deprecated_browser:"Gentile utilizzatore, sta usando una versione vecchia del suo browser. Per questo motivo non pu\xf2 visualizzare correttamente i contenuti di questa pagina. Per favore aggiorni il browser con l\u2019ultima versione disponibile.",dismiss_cookie_notice:null,embedded_video:{leave_video:"abbandonare video inserito"},enlarge_view:"ingrandire visuale",enter_fullscreen:"schermo intero",first_page:"prima pagina",forward:"avanti",fullscreen:"schermo intero",goto_first_page:"vai alla prima pagina",goto_top:"vai alla prima pagina",hide_text:"dissolvere testo",home:"inizio",imprint:" informazioni ",javascript_hint:"Per una corretta visualizzazione della pagina necessita di JavaScript.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"chiudere schermo intero",lets_go:"si parte",logo:"logo",media_quality:null,mute_off:"volume on",mute_on:"volume off",navigate_top:"all\u2019inizio",navigation:" navigazione",new_pages_box:{additional_pages_html:"\u2026e <span></span> ulteriori",description:"Dall\u2019ultima visita sono state inserite nuove pagine:",title:"nuove pagine"},notice:"note",open_audio:null,open_navigation:"aprire navigazione",open_overview:"aprire anteprima",open_video:null,overview:"anteprima",panorama:{close:"avvio visuale 360\xb0 e visualizzare testo",start:"avvio visuale 360\xb0"},play_video:"guardare video",privacy_notice:null,scroll_back_indicator:"scorrere indietro",scroll_down:"scorrere in basso",scroll_hint:"Con la rotella del mouse o le frecce sulla tastiera verr\xe0 visualizzata la pagina successiva.",scroll_indicator:"scorrere per continuare a leggere",scroll_left:"scorrere a sinistra",scroll_right:"scorrere a destra",scroll_up:"scorrere in alto",share:"condividere",share_on_facebook:"condividere su Facebook",share_on_google:"condividere su Google+",share_on_twitter:"condividere su Twitter",share_this_entry:"condividere questo articolo ",share_this_page:"condividere questa pagina ",show_home:"alla pagina iniziale",show_text:"visualizzare testo",skip_links_content:"al contenuto",skip_links_navigation:"navigazione Goto",skip_links_top_navigation:"navigazione principale Goto",sound_hint:"Questo formato storia multimediale utilizza video e filmati audio. Si prega di assicurarsi che gli altoparlanti siano accesi.",start_audio:"avvio audio",start_video:"avvio video",swipe_hint:"scorrendo verr\xe0 visualizzata la pagina successiva",swipe_indicator:"strisciare a continuare",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"volume",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},"pt-BR":{ransack:{search:"pesquisar",predicate:"predicado",and:"e",or:"ou",any:"algum",all:"todos",combinator:"combinador",attribute:"atributo",value:"valor",condition:"condi\xe7\xe3o",sort:"classificar",asc:"ascendente",desc:"descendente",predicates:{eq:"igual",eq_any:"igual a algum",eq_all:"igual a todos",not_eq:"n\xe3o \xe9 igual a",not_eq_any:"n\xe3o \xe9 igual a algum",not_eq_all:"n\xe3o \xe9 igual a todos",matches:"corresponde",matches_any:"corresponde a algum",matches_all:"corresponde a todos",does_not_match:"n\xe3o corresponde",does_not_match_any:"n\xe3o corresponde a algum",does_not_match_all:"n\xe3o corresponde a todos",lt:"menor que",lt_any:"menor que algum",lt_all:"menor que todos",lteq:"menor ou igual a",lteq_any:"menor ou igual a algum",lteq_all:"menor ou igual a todos",gt:"maior que",gt_any:"maior que algum",gt_all:"maior que todos",gteq:"maior que ou igual a",gteq_any:"maior que ou igual a algum",gteq_all:"maior que ou igual a todos","in":"em",in_any:"em algum",in_all:"em todos",not_in:"n\xe3o em",not_in_any:"n\xe3o em algum",not_in_all:"n\xe3o em todos",cont:"cont\xe9m",cont_any:"cont\xe9m algum",cont_all:"cont\xe9m todos",not_cont:"n\xe3o cont\xe9m",not_cont_any:"n\xe3o cont\xe9m algum",not_cont_all:"n\xe3o cont\xe9m todos",start:"come\xe7a com",start_any:"come\xe7a com algum",start_all:"come\xe7a com todos",not_start:"n\xe3o come\xe7a com",not_start_any:"n\xe3o come\xe7a com algum",not_start_all:"n\xe3o come\xe7a com algum",end:"termina com",end_any:"termina com algum",end_all:"termina com todos",not_end:"n\xe3o termina com",not_end_any:"n\xe3o termina com algum",not_end_all:"n\xe3o termina com todos","true":"\xe9 verdadeiro","false":"\xe9 falso",present:"est\xe1 presente",blank:"est\xe1 em branco","null":"\xe9 nulo",not_null:"n\xe3o \xe9 nulo"}},errors:{messages:{in_between:"deve ter entre %{min} e %{max}",spoofed_media_type:"tem uma extens\xe3o que n\xe3o corresponde ao seu conte\xfado"}},number:{human:{storage_units:{format:"%n %u",units:{"byte":{one:"Byte",other:"Bytes"},kb:"KB",mb:"MB",gb:"GB",tb:"TB"}}}},formtastic:{yes:"Sim",no:"N\xe3o",create:"Criar %{model}",update:"Atualizar %{model}",submit:"Salvar %{model}",cancel:"Cancelar %{model}",reset:"Voltar %{model}",required:"obrigat\xf3rio"},active_admin:{dashboard:"Painel Administrativo",dashboard_welcome:{welcome:"Bem vindo ao Active Admin. Esta \xe9 a p\xe1gina de pain\xe9is padr\xe3o.",call_to_action:"Para adicionar se\xe7\xf5es ao painel, verifique 'app/admin/dashboard.rb'"},view:"Visualizar",edit:"Editar","delete":"Remover",delete_confirmation:"Voc\xea tem certeza que deseja remover este item?",new_model:"Novo(a) %{model}",edit_model:"Editar %{model}",delete_model:"Remover %{model}",details:"Detalhes do(a) %{model}",cancel:"Cancelar",empty:"Vazio",previous:"Anterior",next:"Pr\xf3ximo",download:"Baixar:",has_many_new:"Adicionar Novo(a) %{model}",has_many_delete:"Remover",has_many_remove:"Remover",filters:{buttons:{filter:"Filtrar",clear:"Limpar Filtros"},predicates:{contains:"Cont\xe9m",equals:"Igual A",starts_with:"Come\xe7a com",ends_with:"Termina com",greater_than:"Maior Que",less_than:"Menor Que"}},search_status:{headline:"Buscou:",current_scope:"Em:",current_filters:"Filtros escolhidos:",no_current_filters:"Nenhum"},status_tag:{yes:"Sim",no:"N\xe3o"},main_content:"Por favor implemente %{model}#main_content para exibir conte\xfado.",logout:"Sair",powered_by:"Powered by %{active_admin} %{version}",sidebars:{filters:"Filtros",search_status:"Buscou"},pagination:{empty:"Nenhum(a) %{model} encontrado(a)",one:"Exibindo <b>1</b> %{model}",one_page:"Exibindo <b>todos(as) os(as) %{n}</b> %{model}",multiple:"Exibindo %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> de um total de <b>%{total}</b>",multiple_without_total:"Exibindo %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",entry:{one:"registro",other:"registros"}},any:"Qualquer",blank_slate:{content:"N\xe3o existem %{resource_name} ainda.",link:"Novo"},dropdown_actions:{button_label:"A\xe7\xf5es"},batch_actions:{button_label:"A\xe7\xf5es em lote",default_confirmation:"Tem certeza que quer fazer isso?",delete_confirmation:"Tem certeza que deseja excluir estes %{plural_model}?",succesfully_destroyed:{one:"Excluiu com sucesso 1 %{model}",other:"Excluiu com sucesso %{count} %{plural_model}"},selection_toggle_explanation:"(Alternar Sele\xe7\xe3o)",link:"Novo",action_label:"%{title} Selecionado",labels:{destroy:"Excluir"}},comments:{created_at:"Criado em",resource_type:"Tipo de Objeto",author_type:"Tipo de Autor",body:"Conte\xfado",author:"Autor",title:"Coment\xe1rio",add:"Adicionar Coment\xe1rio","delete":"Deletar coment\xe1rio",delete_confirmation:"Tem certeza que deseja excluir este coment\xe1rio?",resource:"Objeto",no_comments_yet:"Nenhum coment\xe1rio.",author_missing:"An\xf4nimo",title_content:"Coment\xe1rios: %{count}",errors:{empty_text:"O coment\xe1rio n\xe3o foi salvo porque o texto estava vazio."}},devise:{username:{title:"Nome de Usu\xe1rio"},email:{title:"E-mail"},subdomain:{title:"Subdom\xednio"},password:{title:"Senha"},sign_up:{title:"Cadastre-se",submit:"Continuar"},login:{title:"Conta",remember_me:"Lembrar da senha",submit:"Entrar"},reset_password:{title:"Esqueceu sua senha?",submit:"Reinicie minha senha"},change_password:{title:"Troque sua senha",submit:"Troque minha senha"},unlock:{title:"Reenviar instru\xe7\xf5es de desbloqueio",submit:"Reenviar instru\xe7\xf5es de desbloqueio"},resend_confirmation_instructions:{title:"Reenviar instru\xe7\xf5es de confirma\xe7\xe3o",submit:"Reenviar instru\xe7\xf5es de confirma\xe7\xe3o"},links:{sign_up:"Criar conta",sign_in:"Entrar",forgot_your_password:"Esqueceu sua senha?",sign_in_with_omniauth_provider:"Entre com o %{provider}",resend_unlock_instructions:"Reenviar instru\xe7\xf5es de desbloqueio",resend_confirmation_instructions:"Reenviar instru\xe7\xf5es de confirma\xe7\xe3o"}},unsupported_browser:{headline:"O ActiveAdmin n\xe3o oferece suporte ao Internet Explorer vers\xe3o 8 ou inferior.",recommendation:'N\xf3s recomendamos atualizar para a \xfaltima vers\xe3o do <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, ou <a href="https://mozilla.org/firefox/">Firefox</a>.',turn_off_compatibility_view:'Se voc\xea est\xe1 usando o IE 9 ou superior, <a href="http://windows.microsoft.com/pt-BR/windows7/webpages-look-incorrect-in-Internet-Explorer">desligue o "Modo de Exibi\xe7\xe3o de Compatibilidade"</a>.'},access_denied:{message:"Voc\xea n\xe3o tem permiss\xe3o para realizar o solicitado"},index_list:{table:"Tabela",block:"Lista",grid:"Grid",blog:"Blog"}},pageflow:{"public":{_language:"Portugu\xeas brasileiro",audio:"Audio",back:"Voltar",back_to_chapter:"Voltar \xe0 cap\xedtulo",before_after:{drag_hint:null,hint:"Vis\xe3o antes/depois",leave_view:"Deixar vis\xe3o antes/depois",start:"Iniciar vis\xe3o antes/depois",start_title:"Iniciar vis\xe3o antes/depois"},chapter:"Cap\xedtulo",chart:{toggle:"Alternar"},close:"Fechar",close_hint:"Fechar dica",close_navigation:"Fechar navega\xe7\xe3o",close_overview:"Fechar vis\xe3o geral",cookie_notice_html:null,deprecated_browser:"<p>O seu navegador est\xe1 desatualizado e essa p\xe1gina pode n\xe3o funcionar como planejado. Recomendamos atualizar seu navegador para a vers\xe3o mais recente.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Sair do v\xeddeo"},enlarge_view:"Aumentar",enter_fullscreen:"Tela cheia",first_page:"Primeira p\xe1gina",forward:"Avan\xe7ar",fullscreen:"Tela cheia",goto_first_page:"Ir p/ primeira p\xe1gina",goto_top:"Ir p/ in\xedcio",hide_text:"Esconder texto",home:"In\xedcio",imprint:"Imprimir",javascript_hint:"Essa aplica\xe7\xe3o utiliza JavaScript para uma melhor funcionalidade e experi\xeancia do usu\xe1rio. Seu navegador talvez n\xe3o suporte JavaScript ou talvez esteja desabilitado.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Sair de tela cheia",lets_go:"Vamos l\xe1",logo:"Logo",media_quality:null,mute_off:"Habilitar som",mute_on:"Mudo",navigate_top:"Topo",navigation:"Navega\xe7\xe3o",new_pages_box:{additional_pages_html:"...e <span></span> mais",description:"Desde sua \xfaltima visita, foram adicionadas novas p\xe1ginas",title:"Nova p\xe1gina"},notice:"Aviso",open_audio:null,open_navigation:"Abrir navega\xe7\xe3o",open_overview:"Abrir vis\xe3o geral",open_video:null,overview:"Vis\xe3o geral",panorama:{close:"Fechar panorama 360\xb0 e exibir texto",start:"Iniciar panorama 360\xb0"},play_video:"Reproduzir v\xeddeo",privacy_notice:null,scroll_back_indicator:null,scroll_down:"Rolar para baixo",scroll_hint:"Use a rolagem do mouse ou as setas do teclado para navegar entre as p\xe1ginas.",scroll_indicator:"Role para baixo para continuar",scroll_left:"Rolar para esquerda",scroll_right:"Rolar para direita",scroll_up:"Rolar para cima",share:"Compartilhar",share_on_facebook:"Compartilhar no Facebook",share_on_google:"Compartilhar no Google+",share_on_twitter:"Compartilhar no Twitter",share_this_entry:"Esta hist\xf3ria",share_this_page:"Esta p\xe1gina",show_home:"In\xedcio",show_text:"Mostrar texto",skip_links_content:"Ir para o conte\xfado",skip_links_navigation:"Ir para a navega\xe7\xe3o",skip_links_top_navigation:"Ir para navega\xe7\xe3o principal",sound_hint:"Este formato de hist\xf3ria multim\xeddia utiliza v\xeddeo e \xe1udio. Por favor, certifique-se que seus alto-falantes est\xe3o ligados.",start_audio:"Start audio now",start_video:"Start video now",swipe_hint:"Deslize para navegar entre as p\xe1ginas.",swipe_indicator:"Deslize para continuar",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"V\xeddeo",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Volume",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},ar:{active_admin:{dashboard:"\u0644\u0648\u062d\u0629 \u062a\u062d\u0643\u0645",dashboard_welcome:{welcome:"\u0645\u0631\u062d\u0628\u064b\u0627 \u0628\u0643 \u0641\u064a \u0641\u064a \u0635\u0641\u062d\u0629 \u0627\u0644\u0625\u062f\u0627\u0631\u0629\u060c \u0648\u0647\u0630\u0647 \u0647\u064a \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0625\u0641\u062a\u0631\u0627\u0636\u064a\u0651\u0629.",call_to_action:"\u0644\u0625\u0636\u0627\u0641\u0629 \u0623\u0642\u0633\u0627\u0645 \u0625\u0644\u0649  \u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645, \u0631\u0627\u062c\u0639: 'app/admin/dashboard.rb'"},view:"\u0639\u0631\u0636",edit:"\u062a\u0639\u062f\u064a\u0644","delete":"\u062d\u0630\u0641",delete_confirmation:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0630\u0641\u061f",new_model:"\u062c\u062f\u064a\u062f %{model}",edit_model:"\u062a\u0639\u062f\u064a\u0644 %{model}",delete_model:"\u062d\u0630\u0641 %{model}",details:"\u062a\u0641\u0627\u0635\u064a\u0644 %{model}",cancel:"\u0625\u0644\u063a\u0627\u0621",empty:"\u0641\u0627\u0631\u063a",previous:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062a\u0627\u0644\u064a",download:"\u062a\u062d\u0645\u064a\u0644",has_many_new:"\u0625\u0636\u0627\u0641\u0629 %{model} \u062c\u062f\u064a\u062f",has_many_delete:"\u062d\u0630\u0641",has_many_remove:"\u0625\u0632\u0627\u0644\u0629",filters:{buttons:{filter:"\u062a\u0635\u0641\u064a\u0629",clear:"\u062a\u0641\u0631\u064a\u063a \u0627\u0644\u062a\u0635\u0641\u064a\u0629"},predicates:{contains:"\u064a\u062d\u062a\u0648\u064a",equals:"\u0645\u062a\u0633\u0627\u0648\u064a",starts_with:"\u064a\u0628\u062f\u0623 \u0628\u0640",ends_with:"\u064a\u0646\u062a\u0647\u064a \u0628\u0640",greater_than:"\u0623\u0643\u0628\u0631 \u0645\u0646",less_than:"\u0623\u0642\u0644 \u0645\u0646"}},search_status:{headline:"\u062d\u0627\u0644\u0627\u062a \u0627\u0644\u0628\u062d\u062b:",current_scope:"\u0627\u0644\u0645\u062c\u0627\u0644:",current_filters:"\u0627\u0644\u0645\u064f\u0631\u0634\u062d\u0627\u062a \u0627\u0644\u062d\u0627\u0644\u064a\u0651\u0629:",no_current_filters:"\u0628\u062f\u0648\u0646"},status_tag:{yes:"\u0646\u0639\u0645",no:"\u0644\u0627"},main_content:"\u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u0646\u0641\u064a\u0630 %{model}#main_content \u0644\u0639\u0631\u0636 \u0627\u0644\u0645\u062d\u062a\u0648\u0649.",logout:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c",powered_by:"\u062a\u0646\u0641\u064a\u0630 %{active_admin} %{version}",sidebars:{filters:"\u0627\u0644\u0645\u064f\u0631\u0634\u062d\u0627\u062a",search_status:"\u062d\u0627\u0644\u0627\u062a \u0627\u0644\u0628\u062d\u062b"},pagination:{empty:"\u0644\u0627 \u064a\u0648\u062c\u062f %{model} ",one:"\u0639\u0631\u0636 <b>1</b> %{model}",one_page:"\u0639\u0631\u0636 <b>all %{n}</b> %{model}",multiple:"\u0639\u0631\u0636 %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> \u0645\u0646 <b>%{total}</b> \u0628\u0627\u0644\u0645\u062c\u0645\u0644",multiple_without_total:"\u0639\u0631\u0636 %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",entry:{one:"\u0645\u062f\u062e\u0644",other:"\u0645\u062f\u062e\u0644\u0627\u062a"}},any:"\u0623\u064a",blank_slate:{content:"\u0644\u0627\u064a\u0648\u062c\u062f %{resource_name} \u0628\u0639\u062f.",link:"\u0625\u0646\u0634\u0627\u0621"},dropdown_actions:{button_label:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a"},batch_actions:{button_label:"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0645\u062a\u0639\u062f\u062f\u0629",default_confirmation:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u0651\u062f\u061f",delete_confirmation:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u0651\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 %{plural_model}\u061f",succesfully_destroyed:{one:"\u062d\u064f\u0630\u0641 \u0628\u0646\u062c\u0627\u062d 1 %{model}",other:"\u062d\u064f\u0630\u0641 \u0628\u0646\u062c\u0627\u062d %{count} %{plural_model}"},selection_toggle_explanation:"(\u062a\u062a\u0628\u064a\u062b \u0627\u0644\u062e\u064a\u0627\u0631)",link:"\u0625\u0646\u0634\u0627\u0621",action_label:"\u0627\u064f\u062e\u062a\u064a\u0631 %{title}",labels:{destroy:"\u062d\u0630\u0641"}},comments:{resource_type:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0635\u062f\u0631",author_type:"\u0646\u0648\u0639 \u0627\u0644\u0624\u0644\u0651\u0641",body:"\u0647\u064a\u0643\u0644",author:"\u0645\u0624\u0644\u0651\u0641",title:"\u062a\u0639\u0644\u064a\u0642",add:"\u0625\u0636\u0627\u0641\u0629 \u062a\u0639\u0644\u064a\u0642",resource:"\u0645\u0635\u062f\u0631",no_comments_yet:"\u0644\u0627 \u064a\u0648\u062c\u062f \u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0628\u0639\u062f.",author_missing:"\u0645\u062c\u0647\u0648\u0644",title_content:"\u062a\u0639\u0644\u064a\u0642\u0627\u062a (%{count})",errors:{empty_text:"\u0644\u0645 \u064a\u064f\u062d\u0641\u0638 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u060c \u0627\u0644\u0646\u0635 \u0641\u0627\u0631\u063a."},created_at:"\u0623\u064f\u0646\u0634\u0626","delete":"\u062d\u0630\u0641 \u062a\u0639\u0644\u064a\u0642",delete_confirmation:"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u0651\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a\u061f"},devise:{username:{title:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"},email:{title:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a\u0651"},subdomain:{title:"\u0645\u062c\u0627\u0644 \u0641\u0631\u0639\u064a"},password:{title:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"},sign_up:{title:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644",submit:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644"},login:{title:"\u062f\u062e\u0648\u0644",remember_me:"\u062a\u0630\u0643\u0631\u0646\u064a",submit:"\u062a\u0633\u062d\u064a\u0644"},reset_password:{title:"\u0647\u0644 \u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f",submit:"\u0627\u0633\u062a\u0631\u062c\u0627\u0639 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"},change_password:{title:"\u062a\u063a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u062e\u0627\u0635\u062a\u0643",submit:"\u062a\u063a\u064a\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u062e\u0627\u0635\u062a\u064a"},unlock:{title:"\u0625\u0639\u0627\u062f\u0629 \u0625\u0631\u0633\u0627\u0644 \u062a\u0639\u0644\u064a\u0645\u0627\u062a \u0641\u0643 \u0627\u0644\u062d\u0638\u0631",submit:"\u0625\u0639\u0627\u062f\u0629 \u0625\u0631\u0633\u0627\u0644 \u062a\u0639\u0644\u064a\u0645\u0627\u062a \u0641\u0643 \u0627\u0644\u062d\u0638\u0631"},resend_confirmation_instructions:{title:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0631\u0633\u0627\u0644 \u062a\u0639\u0644\u064a\u0645\u0627\u062a \u0627\u0644\u062a\u0623\u0643\u064a\u062f",submit:"\u0625\u0639\u0627\u062f\u0629 \u0627\u0631\u0633\u0627\u0644 \u062a\u0639\u0644\u064a\u0645\u0627\u062a \u0627\u0644\u062a\u0623\u0643\u064a\u062f"},links:{sign_up:"\u0627\u0644\u062a\u0633\u062c\u064a\u0644",sign_in:"\u062f\u062e\u0648\u0644",forgot_your_password:"\u0647\u0644 \u0646\u0633\u064a\u062a \u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631\u061f",sign_in_with_omniauth_provider:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0640 %{provider}",resend_unlock_instructions:"\u0625\u0639\u0627\u062f\u0629 \u0625\u0631\u0633\u0627\u0644 \u062a\u0639\u0644\u064a\u0645\u0627\u062a \u062a\u0646\u0634\u064a\u0637 \u0627\u0644\u062d\u0633\u0627\u0628",resend_confirmation_instructions:"\u0625\u0639\u0627\u062f\u0629 \u0625\u0631\u0633\u0627\u0644 \u062a\u0639\u0644\u064a\u0645\u0627\u062a \u062a\u0623\u0643\u064a\u062f \u0627\u0644\u062d\u0633\u0627\u0628"}},unsupported_browser:{headline:"\u064a\u064f\u0631\u062c\u0649 \u0645\u064f\u0644\u0627\u062d\u0638\u0629 \u0623\u0646 (\u0623\u0643\u062a\u0641 \u0623\u062f\u0645\u0646) \u0644\u0645 \u062a\u0639\u062f \u062a\u062f\u0639\u0645 \u0627\u0644\u0645\u064f\u062a\u0635\u0641\u0651\u062d \u0625\u0646\u062a\u0631\u0646\u062a \u0627\u0643\u0633\u0628\u0644\u0648\u0631\u0631\u0627\u0644\u0625\u0635\u062f\u0627\u0631 \u0627\u0644\u062b\u0627\u0645\u0646 \u0648\u0645\u0627 \u0642\u0628\u0644\u0647",recommendation:'\u0646\u0646\u0635\u062d \u0628\u0627\u0644\u062a\u062d\u062f\u064a\u062b \u0625\u0644\u0649 \u0627\u0644\u0625\u0635\u062f\u0627\u0631\u0627\u062a \u0627\u0644\u0623\u062e\u064a\u0631\u0629 \u0645\u0646: <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, \u0623\u0648 <a href="https://mozilla.org/firefox/">Firefox</a>.',turn_off_compatibility_view:'\u0625\u0646 \u0643\u0646\u062a \u062a\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0625\u0635\u062f\u0627\u0631 \u0627\u0644\u062a\u0627\u0633\u0639 \u0648\u0645\u0627 \u064a\u0644\u064a\u0647 \u0645\u0646 \u0625\u0646\u062a\u0631\u0646\u062a \u0625\u0643\u0633\u0628\u0644\u0648\u0631\u0631 \u062a\u0623\u0643\u0651\u062f \u0645\u0646 <a href="http://windows.microsoft.com/en-US/windows7/webpages-look-incorrect-in-Internet-Explorer">\u062a\u0639\u0637\u064a\u0644 "Compatibility View"</a>.'},access_denied:{message:"\u0644\u0645 \u064a\u064f\u0635\u0631\u0651\u062d \u0644\u0643 \u0628\u0647\u0630\u0627 \u0627\u0644\u0625\u062c\u0631\u0627\u0621."},index_list:{table:"\u062c\u062f\u0648\u0644",block:"\u0642\u0627\u0626\u0645\u0629",grid:"\u0634\u0628\u0643\u0629",blog:"\u0645\u062f\u0648\u0646\u0629"}},pageflow:{"public":{_language:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",audio:"\u0627\u0644\u0635\u0648\u062a",back:"\u0639\u0648\u062f\u0629",back_to_chapter:"\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0641\u0635\u0644",before_after:{drag_hint:"\u0627\u0646\u0642\u0631 \u0632\u0631 \u0627\u0644\u0641\u0623\u0631\u0629 \u0627\u0644\u0623\u064a\u0633\u0631 \u0648\u062d\u0631\u0643\u0647\u0627 \u064a\u0645\u064a\u0646\u064b\u0627 \u0623\u0648 \u064a\u0633\u0627\u0631\u064b\u0627",hint:"\u0639\u0631\u0636 \u0642\u0628\u0644/\u0628\u0639\u062f",leave_view:"\u0625\u063a\u0644\u0627\u0642 \u0639\u0631\u0636 \u0642\u0628\u0644/\u0628\u0639\u062f",start:"\u0628\u062f\u0621 \u0639\u0631\u0636 \u0642\u0628\u0644/\u0628\u0639\u062f",start_title:"\u0628\u062f\u0621 \u0639\u0631\u0636 \u0642\u0628\u0644/\u0628\u0639\u062f"},chapter:" \u0627\u0644\u0641\u0635\u0644",chart:{
toggle:"\u062a\u0641\u0639\u064a\u0644/\u0625\u064a\u0642\u0627\u0641"},close:" \u0625\u063a\u0644\u0627\u0642",close_hint:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0634\u0631\u062d",close_navigation:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u062a\u0635\u0641\u062d",close_overview:"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0639\u0627\u0645",cookie_notice_html:null,deprecated_browser:" <p>\u0645\u062a\u0635\u0641\u062d\u0643 \u0642\u062f\u064a\u0645 \u0648\u0642\u062f \u0644\u0627 \u062a\u0638\u0647\u0631 \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629 \u0628\u0627\u0644\u0634\u0643\u0644 \u0627\u0644\u0645\u0637\u0644\u0648\u0628. \u0646\u0648\u0635\u064a \u0628\u062a\u0631\u0642\u064a\u0629 \u0627\u0644\u0645\u062a\u0635\u0641\u062d \u0625\u0644\u0649 \u0623\u062d\u062f\u062b \u0646\u0633\u062e\u0629.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"\u0625\u063a\u0644\u0627\u0642 \u0639\u0631\u0636 \u0627\u0644\u0641\u064a\u062f\u064a\u0648"},enlarge_view:"\u062a\u0643\u0628\u064a\u0631 \u0627\u0644\u0639\u0631\u0636",enter_fullscreen:"\u0627\u0644\u0639\u0631\u0636 \u0639\u0644\u0649 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",first_page:" \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0623\u0648\u0644\u0649",forward:" \u0625\u0644\u0649 \u0627\u0644\u0623\u0645\u0627\u0645",fullscreen:"\u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",goto_first_page:"\u0630\u0647\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0623\u0648\u0644\u0649",goto_top:"\u0630\u0647\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0623\u0648\u0644\u0649",hide_text:" \u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0646\u0635",home:"\u0628\u062f\u0621",imprint:"\u0637\u0628\u0627\u0639\u0629",javascript_hint:" \u0647\u0630\u0627 \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u064a\u0633\u062a\u062e\u062f\u0645 JavaScript \u0644\u062a\u0633\u0647\u064a\u0644 \u0639\u0645\u0644\u0647 \u0648\u0644\u062a\u062c\u0631\u0628\u0629 \u0645\u0633\u062a\u062e\u062f\u0645 \u0623\u0641\u0636\u0644. \u0642\u062f \u064a\u0643\u0648\u0646 \u0645\u062a\u0635\u0641\u062d\u0643 \u0644\u0627 \u064a\u062f\u0639\u0645 JavaScript\u060c \u0623\u0648 \u0642\u062f \u062a\u0643\u0648\u0646 \u0647\u0630\u0647 \u0627\u0644\u062a\u0642\u0646\u064a\u0629 \u063a\u064a\u0631 \u0645\u0641\u0639\u0644\u0629.",languages:{ar:" \u0627\u0644\u0639\u0631\u0628\u064a\u0629",cs:null,de:null,dk:null,el:null,en:"\u0627\u0644\u0625\u0646\u0643\u0644\u064a\u0632\u064a\u0629",es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:" \u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0639\u0631\u0636 \u0639\u0644\u0649 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",lets_go:"\u0627\u0644\u0628\u062f\u0627\u064a\u0629",logo:" \u0627\u0644\u0634\u0639\u0627\u0631",media_quality:"\u0627\u0644\u062c\u0648\u062f\u0629",mute_off:" \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0635\u0648\u062a",mute_on:"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0635\u0648\u062a",navigate_top:"\u0630\u0647\u0627\u0628 \u0625\u0644\u0649 \u0627\u0644\u0635\u0641\u062d\u0629 \u0627\u0644\u0623\u0648\u0644\u0649",navigation:"\u0627\u0644\u062a\u0635\u0641\u062d",new_pages_box:{additional_pages_html:"...\u0648\u0627\u0644\u0645\u0632\u064a\u062f",description:"\u0645\u0646\u0630 \u0632\u064a\u0627\u0631\u062a\u0643 \u0627\u0644\u0623\u062e\u064a\u0631\u0629\u060c \u062a\u0645\u062a \u0625\u0636\u0627\u0641\u0629 \u0635\u0641\u062d\u0627\u062a \u062c\u062f\u064a\u062f\u0629:",title:"\u0627\u0644\u0635\u0641\u062d\u0627\u062a \u0627\u0644\u062c\u062f\u064a\u062f\u0629"},notice:"\u062a\u0646\u0648\u064a\u0647",open_audio:"\u0641\u062a\u062d \u0645\u0644\u0641 \u0627\u0644\u0635\u0648\u062a",open_navigation:"\u0641\u062a\u062d \u0627\u0644\u062a\u0635\u0641\u062d",open_overview:"\u0641\u062a\u062d \u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0639\u0627\u0645",open_video:"\u0641\u062a\u062d \u0645\u0644\u0641 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",overview:"\u0627\u0644\u0639\u0631\u0636 \u0627\u0644\u0639\u0627\u0645",panorama:{close:"\u0625\u063a\u0644\u0627\u0642 \u0628\u0627\u0646\u0648\u0631\u0627\u0645\u0627 360 \u062f\u0631\u062c\u0629 \u0648\u0639\u0631\u0636 \u0627\u0644\u0646\u0635",start:" \u0628\u062f\u0621 \u0628\u0627\u0646\u0648\u0631\u0627\u0645\u0627 360 \u062f\u0631\u062c\u0629"},play_video:" \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",privacy_notice:"\u0633\u064a\u0627\u0633\u0629 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629",scroll_back_indicator:null,scroll_down:" \u0625\u0644\u0649 \u0627\u0644\u0623\u0633\u0641\u0644",scroll_hint:"\u0627\u0633\u062a\u062e\u062f\u0645 \u0639\u062c\u0644\u0629 \u0627\u0644\u0641\u0623\u0631\u0629 \u0623\u0648 \u0623\u0632\u0631\u0627\u0631 \u0627\u0644\u0623\u0633\u0647\u0645 \u0639\u0644\u0649 \u0644\u0648\u062d\u0629 \u0627\u0644\u0645\u0641\u0627\u062a\u064a\u062d \u0644\u0644\u062a\u0646\u0642\u0644 \u0628\u064a\u0646 \u0627\u0644\u0635\u0641\u062d\u0627\u062a",scroll_indicator:"\u0627\u0630\u0647\u0628 \u0625\u0644\u0649 \u0627\u0644\u0623\u0633\u0641\u0644 \u0644\u0644\u0627\u0633\u062a\u0645\u0631\u0627\u0631",scroll_left:" \u0627\u0630\u0647\u0628 \u0625\u0644\u0649 \u0627\u0644\u064a\u0633\u0627\u0631",scroll_right:"\u0627\u0630\u0647\u0628 \u0625\u0644\u0649 \u0627\u0644\u064a\u0645\u064a\u0646",scroll_up:" \u0627\u0630\u0647\u0628 \u0625\u0644\u0649 \u0627\u0644\u0623\u0639\u0644\u0649",share:"\u0645\u0634\u0627\u0631\u0643\u0629",share_on_facebook:"\u0645\u0634\u0627\u0631\u0643\u0629 \u0639\u0644\u0649 \u0641\u064a\u0633\u0628\u0648\u0643",share_on_google:"\u0645\u0634\u0627\u0631\u0643\u0629 \u0639\u0644\u0649 \u063a\u0648\u063a\u0644+",share_on_twitter:"\u0645\u0634\u0627\u0631\u0643\u0629 \u0639\u0644\u0649 \u062a\u0648\u064a\u062a\u0631",share_this_entry:"\u0647\u0630\u0647 \u0627\u0644\u0642\u0635\u0629",share_this_page:" \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062d\u0629",show_home:" \u0628\u062f\u0621",show_text:" \u0625\u0638\u0647\u0627\u0631 \u0627\u0644\u0646\u0635",skip_links_content:"\u0639\u0631\u0636 \u0627\u0644\u0645\u062d\u062a\u0648\u064a\u0627\u062a",skip_links_navigation:" \u0639\u0631\u0636 \u0627\u0644\u062a\u0635\u0641\u062d",skip_links_top_navigation:"\u0639\u0631\u0636 \u0627\u0644\u062a\u0635\u0641\u062d \u0627\u0644\u0631\u0626\u064a\u0633\u064a",sound_hint:" \u0647\u0630\u0647 \u0627\u0644\u0642\u0635\u0629 \u0645\u062a\u0639\u062f\u062f\u0629 \u0627\u0644\u0648\u0633\u0627\u0626\u0637 \u062a\u0633\u062a\u062e\u062f\u0645 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0648\u0627\u0644\u0635\u0648\u062a. \u064a\u064f\u0631\u062c\u0649 \u0627\u0644\u062a\u0623\u0643\u062f \u0645\u0646 \u062a\u0634\u063a\u064a\u0644 \u0645\u0643\u0628\u0631\u0627\u062a \u0627\u0644\u0635\u0648\u062a.",start_audio:"\u0628\u062f\u0621 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0635\u0648\u062a \u0627\u0644\u0622\u0646",start_video:"\u0628\u062f\u0621 \u062a\u0634\u063a\u064a\u0644 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0627\u0644\u0622\u0646",swipe_hint:"\u062d\u0631\u0643 \u0625\u0635\u0628\u0639\u0643 \u0639\u0644\u0649 \u0627\u0644\u0634\u0627\u0634\u0629 \u0644\u0644\u062a\u0646\u0642\u0644 \u0628\u064a\u0646 \u0627\u0644\u0635\u0641\u062d\u0627\u062a",swipe_indicator:"\u062d\u0631\u0643 \u0625\u0635\u0628\u0639\u0643 \u0644\u0644\u0627\u0633\u062a\u0645\u0631\u0627\u0631 ",swipe_to_continue:null,text_track_modes:{auto:" \u0623\u0648\u062a\u0648\u0645\u0627\u062a\u064a\u0643\u064a (%{label}) ",auto_off:" \u0623\u0648\u062a\u0648\u0645\u0627\u062a\u064a\u0643\u064a (\u0625\u064a\u0642\u0627\u0641)",none:" (\u0644\u0627 \u0634\u064a\u0621)"},text_tracks:"\u0627\u0644\u062a\u0631\u062c\u0645\u0629",toggle_info_box:" \u062a\u0634\u063a\u064a\u0644/\u0625\u064a\u0642\u0627\u0641 \u0635\u0646\u062f\u0648\u0642 \u0627\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062a",video:"\u0641\u064a\u062f\u064a\u0648",video_qualities:{annotations:{"4k":"4K",fullhd:" HD",medium:"HD"},labels:{"4k":" 2160p",auto:" \u0623\u0648\u062a\u0648\u0645\u0627\u062a\u064a\u0643\u064a",fullhd:"1080p",medium:"720p"}},volume:" \u062f\u0631\u062c\u0629 \u0627\u0644\u0635\u0648\u062a",vr:{no_vr:{link:" \u0639\u0631\u0636 \u0627\u0644\u0641\u064a\u062f\u064a\u0648 \u0641\u064a \u062a\u0637\u0628\u064a\u0642 \u064a\u0648\u062a\u064a\u0648\u0628",text:"\u0641\u064a\u062f\u064a\u0648\u0647\u0627\u062a 360 \u062f\u0631\u062c\u0629 \u0644\u0627 \u064a\u0645\u0643\u0646 \u062a\u0634\u063a\u064a\u0644\u0647\u0627 \u0641\u064a \u0645\u062a\u0635\u0641\u062d\u0643"},select_quality:" \u0627\u062e\u062a\u064a\u0627\u0631 \u062c\u0648\u062f\u0629 \u0627\u0644\u0641\u064a\u062f\u064a\u0648",start:"\u0645\u0634\u0627\u0647\u062f\u0629 \u0641\u064a\u062f\u064a\u0648 360 \u062f\u0631\u062c\u0629",start_cardboard:"\u0628\u062f\u0621 \u0646\u0645\u0637 \u0644\u0648\u062d \u0627\u0644\u0628\u0637\u0627\u0642\u0627\u062a ",video_qualities:{"4k":" 2160s",fullhd:" 1080s",high:"720s"},video_quality_annotations:{"4k":"4K",fullhd:"HD",high:"HD"}}}}},bg:{active_admin:{dashboard:"\u0422\u0430\u0431\u043b\u043e",dashboard_welcome:{welcome:"\u0414\u043e\u0431\u0440\u0435 \u0434\u043e\u0448\u043b\u0438 \u0432 Active Admin. \u0422\u043e\u0432\u0430 \u0435 \u0442\u0430\u0431\u043b\u043e\u0442\u043e \u043f\u043e \u043f\u043e\u0434\u0440\u0430\u0437\u0431\u0438\u0440\u0430\u043d\u0435.",call_to_action:"\u0417\u0430 \u0434\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u0435 \u0441\u0435\u043a\u0446\u0438\u0438, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439\u0442\u0435 'app/admin/dashboard.rb'"},view:"\u041f\u0440\u0435\u0433\u043b\u0435\u0434",edit:"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f","delete":"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435",delete_confirmation:"\u0421\u0438\u0433\u0443\u0440\u043d\u0438 \u043b\u0438 \u0441\u0442\u0435, \u0447\u0435 \u0438\u0441\u043a\u0430\u0442\u0435 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0442\u043e\u0432\u0430?",new_model:"\u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435 \u043d\u0430 %{model}",edit_model:"\u0420\u0435\u0434\u0430\u043a\u0446\u0438\u044f \u043d\u0430 %{model}",delete_model:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435 \u043d\u0430 %{model}",details:"%{model} \u0434\u0435\u0442\u0430\u0439\u043b\u0438",cancel:"\u041e\u0442\u043a\u0430\u0437",empty:"\u041f\u0440\u0430\u0437\u043d\u043e",previous:"\u041f\u0440\u0435\u0434\u0438\u0448\u043d\u043e",next:"\u0421\u043b\u0435\u0434\u0432\u0430\u0449\u043e",download:"\u0418\u0437\u0442\u0435\u0433\u043b\u044f\u043d\u0435:",has_many_new:"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 %{model}",has_many_delete:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435",has_many_remove:"\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435",filters:{buttons:{filter:"\u0424\u0438\u043b\u0442\u0440\u0438\u0440\u0430\u043d\u0435",clear:"\u0418\u0437\u0447\u0438\u0441\u0442\u0432\u0430\u043d\u0435"},predicates:{contains:"\u0441\u044a\u0434\u044a\u0440\u0436\u0430",equals:"\u0440\u0430\u0432\u043d\u043e \u043d\u0430",starts_with:"\u0417\u0430\u043f\u043e\u0447\u0432\u0430 \u0441",ends_with:"\u0417\u0430\u0432\u044a\u0440\u0448\u0432\u0430 \u0441",greater_than:"\u043f\u043e-\u0433\u043e\u043b\u044f\u043c\u043e \u043e\u0442",less_than:"\u043f\u043e-\u043c\u0430\u043b\u043a\u043e \u043e\u0442"}},status_tag:{yes:"\u0414\u0430",no:"\u043d\u0435"},main_content:"\u0414\u043e\u0431\u0430\u0432\u0435\u0442\u0435 %{model}#main_content \u0437\u0430 \u0434\u0430 \u0432\u0438\u0434\u0438\u0442\u0435 \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435.",logout:"\u0418\u0437\u0445\u043e\u0434",powered_by:"\u0417\u0430\u0434\u0432\u0438\u0436\u0432\u0430 \u0441\u0435 \u043e\u0442 %{active_admin} %{version}",sidebars:{filters:"\u0424\u0438\u043b\u0442\u0440\u0438"},pagination:{empty:"\u041d\u0435 \u0441\u0430 \u043d\u0430\u043c\u0435\u0440\u0435\u043d\u0438 %{model}",one:"\u041f\u043e\u043a\u0430\u0437\u0432\u0430\u043d\u0435 \u043d\u0430 <b>1</b> %{model}",one_page:"\u041f\u043e\u043a\u0430\u0437\u0432\u0430\u043d\u0435 \u043d\u0430 <b>\u0432\u0441\u0438\u0447\u043a\u0438 %{n}</b> %{model}",multiple:"\u041f\u043e\u043a\u0430\u0437\u0432\u0430\u043d\u0435 %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> \u043e\u0442 \u043e\u0431\u0449\u043e <b>%{total}</b>",multiple_without_total:"\u041f\u043e\u043a\u0430\u0437\u0432\u0430\u043d\u0435 %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",entry:{one:"\u0437\u0430\u043f\u0438\u0441",other:"\u0437\u0430\u043f\u0438\u0441\u0438"}},any:"\u0411\u0435\u0437 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",blank_slate:{content:"\u0412\u0441\u0435 \u043e\u0449\u0435 \u043d\u044f\u043c\u0430 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0438 %{resource_name}.",link:"\u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435"},dropdown_actions:{button_label:"\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"},batch_actions:{button_label:"\u041c\u0430\u0441\u043e\u0432\u0438 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f",default_confirmation:"\u041d\u0430\u0438\u0441\u0442\u0438\u043d\u0430 \u043b\u0438 \u0438\u0441\u043a\u0430\u0442\u0435 \u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u0438\u0442\u0435 \u0442\u043e\u0432\u0430?",delete_confirmation:"\u0421\u0438\u0433\u0443\u0440\u043d\u0438 \u043b\u0438 \u0441\u0442\u0435, \u0447\u0435 \u0438\u0441\u043a\u0430\u0442\u0435 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0442\u0435\u0437\u0438 %{plural_model}?",succesfully_destroyed:{one:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435 \u043d\u0430 1 %{model}",other:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435 \u043d\u0430 %{count} %{plural_model}"},selection_toggle_explanation:"(\u0418\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043c\u0430\u0440\u043a\u0438\u0440\u0430\u043d\u0435\u0442\u043e)",link:"\u0421\u044a\u0437\u0434\u0430\u0432\u0430\u043d\u0435",action_label:"%{title} \u0438\u0437\u0431\u0440\u0430\u043d",labels:{destroy:"\u0418\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435"}},comments:{resource_type:"\u0422\u0438\u043f \u0440\u0435\u0441\u0443\u0440\u0441",author_type:"\u0422\u0438\u043f \u0430\u0432\u0442\u043e\u0440",body:"\u0422\u0435\u043a\u0441\u0442",author:"\u0410\u0432\u0442\u043e\u0440",title:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",add:"\u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435 \u043d\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440",resource:"\u0420\u0435\u0441\u0443\u0440\u0441",no_comments_yet:"\u0412\u0441\u0435 \u043e\u0449\u0435 \u043d\u044f\u043c\u0430 \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438.",author_missing:"\u0410\u043d\u043e\u043d\u0438\u043c\u0435\u043d",title_content:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438 (%{count})",errors:{empty_text:"\u041a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u044a\u0442 \u0441 \u043f\u0440\u0430\u0437\u0435\u043d \u0442\u0435\u043a\u0441\u0442 \u043d\u0435 \u0431\u0435\u0448\u0435 \u0437\u0430\u043f\u0430\u0437\u0435\u043d."}},devise:{username:{title:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u0438\u043c\u0435"},email:{title:"\u041f\u043e\u0449\u0430"},subdomain:{title:"\u041f\u043e\u0434\u0434\u043e\u043c\u0435\u0439\u043d"},password:{title:"\u041f\u0430\u0440\u043e\u043b\u0430"},sign_up:{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",submit:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},login:{title:"\u0412\u0445\u043e\u0434",remember_me:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438 \u043c\u0435",submit:"\u0412\u0445\u043e\u0434"},reset_password:{title:"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430?",submit:"\u0418\u0437\u043f\u0440\u0430\u0449\u0430\u043d\u0435 \u043d\u0430 \u043d\u043e\u0432\u0430 \u043f\u0430\u0440\u043e\u043b\u0430"},change_password:{title:"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430",submit:"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430"},unlock:{title:"\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u043e\u0442\u043d\u043e\u0432\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438\u0442\u0435 \u0437\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0432\u0430\u043d\u0435",submit:"\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u043e\u0442\u043d\u043e\u0432\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438\u0442\u0435 \u0437\u0430 \u043e\u0442\u043a\u043b\u044e\u0447\u0432\u0430\u043d\u0435"},resend_confirmation_instructions:{title:"\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u043e\u0442\u043d\u043e\u0432\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438\u0442\u0435 \u0437\u0430 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043d\u0435",submit:"\u0418\u0437\u043f\u0440\u0430\u0442\u0438 \u043e\u0442\u043d\u043e\u0432\u043e \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438\u0442\u0435 \u0437\u0430 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043d\u0435"},links:{sign_in:"\u0412\u0445\u043e\u0434",forgot_your_password:"\u0417\u0430\u0431\u0440\u0430\u0432\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430?",sign_in_with_omniauth_provider:"\u0412\u043b\u0435\u0437 \u0441 %{provider}"}},access_denied:{message:"\u041d\u044f\u043c\u0430\u0442\u0435 \u043f\u0440\u0430\u0432\u0430 \u0434\u0430 \u0438\u0437\u0432\u044a\u0440\u0448\u0438\u0442\u0435 \u0442\u043e\u0432\u0430 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435."},index_list:{table:"\u0422\u0430\u0431\u043b\u0438\u0446\u0430",block:"\u0421\u043f\u0438\u0441\u044a\u043a",grid:"\u0413\u0440\u0438\u0434",blog:"\u0411\u043b\u043e\u0433"}},pageflow:{"public":{_language:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",audio:"\u0410\u0443\u0434\u0438\u043e",back:"\u041d\u0430\u0437\u0430\u0434",back_to_chapter:"\u041d\u0430\u0437\u0430\u0434 \u043a\u044a\u043c \u0440\u0430\u0437\u0434\u0435\u043b",before_after:{drag_hint:null,hint:"\u0418\u0437\u0433\u043b\u0435\u0434 \u043f\u0440\u0435\u0434\u0438/\u0441\u043b\u0435\u0434",leave_view:"\u0418\u0437\u043b\u0435\u0437 \u043e\u0442 \u0438\u0437\u0433\u043b\u0435\u0434 \u043f\u0440\u0435\u0434\u0438/\u0441\u043b\u0435\u0434",start:"\u0421\u0442\u0430\u0440\u0442\u0438\u0440\u0430\u0439 \u0438\u0437\u0433\u043b\u0435\u0434 \u043f\u0440\u0435\u0434\u0438/\u0441\u043b\u0435\u0434",start_title:"\u0421\u0442\u0430\u0440\u0442\u0438\u0440\u0430\u0439 \u0438\u0437\u0433\u043b\u0435\u0434 \u043f\u0440\u0435\u0434\u0438/\u0441\u043b\u0435\u0434"},chapter:"\u0420\u0430\u0437\u0434\u0435\u043b",chart:{toggle:"\u0412\u043a\u043b\u044e\u0447\u0432\u0430\u043d\u0435/\u0418\u0437\u043a\u043b\u044e\u0447\u0432\u0430\u043d\u0435"},close:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438",close_hint:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435\u0442\u043e",close_navigation:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438 \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f\u0442\u0430",close_overview:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438 \u043f\u0440\u0435\u0433\u043b\u0435\u0434\u0430",cookie_notice_html:null,deprecated_browser:"<p>\u0412\u0430\u0448\u0438\u044f\u0442 \u0431\u0440\u0430\u0443\u0437\u044a\u0440 \u043d\u0435 \u0435 \u043e\u0431\u043d\u043e\u0432\u0435\u043d \u0438 \u0442\u0430\u0437\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043c\u043e\u0436\u0435 \u0434\u0430 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0438 \u043d\u043e\u0440\u043c\u0430\u043b\u043d\u043e. \u041f\u0440\u0435\u043f\u043e\u0440\u044a\u0447\u0432\u0430\u043c\u0435 \u043e\u0431\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435 \u043d\u0430 \u0431\u0440\u0430\u0443\u0437\u044a\u0440\u0430 \u0434\u043e \u043d\u0430\u0439-\u043d\u043e\u0432\u0430\u0442\u0430 \u0432\u0435\u0440\u0441\u0438\u044f.<p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"\u0418\u0437\u043b\u0435\u0437 \u043e\u0442 \u0432\u0433\u0440\u0430\u0434\u0435\u043d\u043e\u0442\u043e \u0432\u0438\u0434\u0435\u043e"},enlarge_view:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438 \u0438\u0437\u0433\u043b\u0435\u0434\u0430",enter_fullscreen:"\u0412\u043b\u0435\u0437 \u0432 \u0440\u0435\u0436\u0438\u043c \u043d\u0430 \u0446\u044f\u043b \u0435\u043a\u0440\u0430\u043d",first_page:"\u041f\u044a\u0440\u0432\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",forward:"\u041d\u0430\u043f\u0440\u0435\u0434",fullscreen:"\u0426\u044f\u043b \u0435\u043a\u0440\u0430\u043d",goto_first_page:"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u044a\u0440\u0432\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",goto_top:"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u044a\u0440\u0432\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",hide_text:"\u0421\u043a\u0440\u0438\u0439 \u0442\u0435\u043a\u0441\u0442\u0430",home:"\u0421\u0442\u0430\u0440\u0442",imprint:"\u041e\u0442\u043f\u0435\u0447\u0430\u0442\u0430\u0439",javascript_hint:"\u0422\u043e\u0432\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0437\u0432\u0430 JavaScript \u0437\u0430 \u043f\u043e-\u0434\u043e\u0431\u0440\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u043d\u043e\u0441\u0442 \u0438 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0441\u043a\u043e \u043f\u0440\u0435\u0436\u0438\u0432\u044f\u0432\u0430\u043d\u0435. JavaScript \u043c\u043e\u0436\u0435 \u0434\u0430 \u043d\u0435 \u0441\u0435 \u043f\u043e\u0434\u0434\u044a\u0440\u0436\u0430 \u043e\u0442 \u0412\u0430\u0448\u0438\u044f \u0431\u0440\u0430\u0443\u0437\u044a\u0440 \u0438\u043b\u0438 \u0434\u0430 \u0435 \u0434\u0435\u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0430\u043d.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"\u0418\u0437\u043b\u0435\u0437 \u043e\u0442 \u0440\u0435\u0436\u0438\u043c \u043d\u0430 \u0446\u044f\u043b \u0435\u043a\u0440\u0430\u043d",lets_go:"\u0414\u0430 \u0442\u0440\u044a\u0433\u0432\u0430\u043c\u0435",logo:"\u041b\u043e\u0433\u043e",media_quality:null,mute_off:"\u0412\u043a\u043b\u044e\u0447\u0432\u0430\u043d\u0435 \u043d\u0430 \u0437\u0432\u0443\u043a\u0430",mute_on:"\u0421\u043f\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0437\u0432\u0443\u043a\u0430",navigate_top:"\u041e\u0442\u0438\u0434\u0438 \u043d\u0430 \u043f\u044a\u0440\u0432\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",navigation:"\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f",new_pages_box:{additional_pages_html:"...\u0438 <span></span> \u043f\u043e\u0432\u0435\u0447\u0435",description:"\u0421\u043b\u0435\u0434 \u0412\u0430\u0448\u0435\u0442\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u043e \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u0435 \u0431\u044f\u0445\u0430 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0438 \u043a\u044a\u043c \u0442\u043e\u0437\u0438 \u043f\u043e\u0442\u043e\u043a:",title:"\u041d\u043e\u0432\u0438 \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0438"},notice:"\u0418\u0437\u0432\u0435\u0441\u0442\u0438\u0435",open_audio:null,open_navigation:"\u041e\u0442\u0432\u043e\u0440\u0438 \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f\u0442\u0430",open_overview:"\u041e\u0442\u0432\u043e\u0440\u0438 \u043f\u0440\u0435\u0433\u043b\u0435\u0434\u0430",open_video:null,overview:"\u041f\u0440\u0435\u0433\u043b\u0435\u0434",panorama:{close:"\u0417\u0430\u0442\u0432\u043e\u0440\u0438 360\xb0 \u043f\u0430\u043d\u043e\u0440\u0430\u043c\u0430 \u0438 \u043f\u043e\u043a\u0430\u0436\u0438 \u0442\u0435\u043a\u0441\u0442\u0430",start:"\u0421\u0442\u0430\u0440\u0442\u0438\u0440\u0430\u0439 360\xb0 \u043f\u0430\u043d\u043e\u0440\u0430\u043c\u0430"},play_video:"\u041f\u0443\u0441\u043d\u0438 \u0432\u0438\u0434\u0435\u043e\u0442\u043e",privacy_notice:null,scroll_back_indicator:"\u041a\u043b\u0438\u043a\u043d\u0438 \u0442\u0443\u043a \u0437\u0430 \u0434\u0430 \u0432\u044a\u0432\u0435\u0434\u0435\u0448 \u0442\u0435\u043a\u0441\u0442/\u043f\u0440\u0435\u0432\u043e\u0434",scroll_down:"\u041f\u0440\u0435\u0432\u044a\u0440\u0442\u0438 \u043d\u0430\u0434\u043e\u043b\u0443",scroll_hint:"\u0418\u0437\u043f\u043e\u043b\u0437\u0432\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0435\u043b\u0446\u0435\u0442\u043e \u043d\u0430 \u043c\u0438\u0448\u043a\u0430\u0442\u0430 \u0438\u043b\u0438 \u0441\u0442\u0440\u0435\u043b\u043a\u0438\u0442\u0435 \u043d\u0430 \u0432\u0430\u0448\u0430\u0442\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0430 \u0437\u0430 \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u043f\u0440\u0435\u0437 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0438\u0442\u0435.",scroll_indicator:"\u041f\u0440\u0435\u0432\u044a\u0440\u0442\u0438 \u043d\u0430\u0434\u043e\u043b\u0443 \u0437\u0430 \u0434\u0430 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0448",scroll_left:"\u041f\u0440\u0435\u0432\u044a\u0440\u0442\u0438 \u043d\u0430\u043b\u044f\u0432\u043e",scroll_right:"\u041f\u0440\u0435\u0432\u044a\u0440\u0442\u0438 \u043d\u0430\u0434\u044f\u0441\u043d\u043e",scroll_up:"\u041f\u0440\u0435\u0432\u044a\u0440\u0442\u0438 \u043d\u0430\u0433\u043e\u0440\u0435",share:"\u0421\u043f\u043e\u0434\u0435\u043b\u0438",share_on_facebook:"\u0421\u043f\u043e\u0434\u0435\u043b\u0438 \u0432\u044a\u0432 Facebook",share_on_google:"\u0421\u043f\u043e\u0434\u0435\u043b\u0438 \u0432 Google+",share_on_twitter:"\u0421\u043f\u043e\u0434\u0435\u043b\u0438 \u0432 Twitter",share_this_entry:"\u0422\u0430\u0437\u0438 \u0438\u0441\u0442\u043e\u0440\u0438\u044f",share_this_page:"\u0422\u0430\u0437\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",show_home:"\u0421\u0442\u0430\u0440\u0442",show_text:"\u041f\u043e\u043a\u0430\u0436\u0438 \u0442\u0435\u043a\u0441\u0442\u0430",skip_links_content:"\u041e\u0442\u0438\u0434\u0438 \u0432 \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435\u0442\u043e",skip_links_navigation:"\u041a\u044a\u043c \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f\u0442\u0430",skip_links_top_navigation:"\u041a\u044a\u043c \u0433\u043b\u0430\u0432\u043d\u0430\u0442\u0430 \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f",sound_hint:"\u0422\u043e\u0437\u0438 \u0440\u0430\u0437\u043a\u0430\u0437\u0432\u0430\u0442\u0435\u043b\u0435\u043d \u043c\u0443\u043b\u0442\u0438\u043c\u0435\u0434\u0438\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043f\u043e\u043b\u0437\u0432\u0430 \u0432\u0438\u0434\u0435\u043e \u0438 \u0430\u0443\u0434\u0438\u043e \u0441\u044a\u0434\u044a\u0440\u0436\u0430\u043d\u0438\u0435. \u041c\u043e\u043b\u044f, \u0443\u0432\u0435\u0440\u0435\u0442\u0435 \u0441\u0435, \u0447\u0435 \u0433\u043e\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u0438\u0442\u0435 \u0441\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438.",start_audio:"\u041f\u0443\u0441\u043d\u0438 \u0437\u0432\u0443\u043a\u0430 \u0441\u0435\u0433\u0430",start_video:"\u041f\u0443\u0441\u043d\u0438 \u0432\u0438\u0434\u0435\u043e\u0442\u043e \u0441\u0435\u0433\u0430",swipe_hint:"\u041f\u043b\u044a\u0437\u043d\u0438 \u0437\u0430 \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u043f\u0440\u0435\u0437 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0438\u0442\u0435.",swipe_indicator:"\u041f\u043b\u044a\u0437\u043d\u0438 \u0437\u0430 \u0434\u0430 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0448",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"\u0412\u0438\u0434\u0435\u043e",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"\u0421\u0438\u043b\u0430 \u043d\u0430 \u0437\u0432\u0443\u043a\u0430",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},el:{active_admin:{dashboard:"\u03a3\u03b5\u03bb\u03af\u03b4\u03b1 \u03b4\u03b9\u03b1\u03c7\u03b5\u03af\u03c1\u03b9\u03c3\u03b7\u03c2",dashboard_welcome:{welcome:"\u039a\u03b1\u03bb\u03c9\u03c3\u03bf\u03c1\u03af\u03c3\u03b1\u03c4\u03b5 \u03c3\u03c4\u03bf Active Admin. \u0391\u03c5\u03c4\u03ae \u03b5\u03af\u03bd\u03b1\u03b9 \u03b7 \u03b1\u03c1\u03c7\u03b9\u03ba\u03ae \u03c3\u03b5\u03bb\u03af\u03b4\u03b1 \u03b4\u03b9\u03b1\u03c7\u03b5\u03af\u03c1\u03b9\u03c3\u03b7\u03c2.",call_to_action:"\u0393\u03b9\u03b1 \u03bd\u03b1 \u03c0\u03c1\u03bf\u03c3\u03b8\u03ad\u03c3\u03b5\u03c4\u03b5 \u03b5\u03bd\u03cc\u03c4\u03b7\u03c4\u03b5\u03c2, \u03b1\u03bd\u03b1\u03c4\u03c1\u03ad\u03be\u03c4\u03b5 \u03c3\u03c4\u03bf \u03b1\u03c1\u03c7\u03b5\u03af\u03bf 'app/admin/dashboard.rb'"},view:"\u03a0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae",edit:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1","delete":"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",delete_confirmation:"\u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03c2 \u03c0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c4\u03bf \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c8\u03b5\u03c4\u03b5;",new_model:"\u0394\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03af\u03b1 %{model}",edit_model:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 %{model}",delete_model:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae %{model}",details:"\u039b\u03b5\u03c0\u03c4\u03bf\u03bc\u03ad\u03c1\u03b5\u03b9\u03b5\u03c2 %{model}",cancel:"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7",empty:"\u0386\u03b4\u03b5\u03b9\u03bf",previous:"\u03a0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7",next:"\u0395\u03c0\u03cc\u03bc\u03b5\u03bd\u03b7",download:"\u039a\u03b1\u03c4\u03ad\u03b2\u03b1\u03c3\u03bc\u03b1:",has_many_new:"\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u039d\u03ad\u03bf\u03c5 %{model}",has_many_delete:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae",has_many_remove:"\u0391\u03c6\u03b1\u03af\u03c1\u03b5\u03c3\u03b7",filters:{buttons:{filter:"\u03a6\u03af\u03bb\u03c4\u03c1\u03b1",clear:"\u039a\u03b1\u03b8\u03b1\u03c1\u03b9\u03c3\u03bc\u03cc\u03c2 \u03a6\u03af\u03bb\u03c4\u03c1\u03c9\u03bd"},predicates:{contains:"\u03a0\u03b5\u03c1\u03b9\u03ad\u03c7\u03b5\u03b9",equals:"\u0395\u03af\u03bd\u03b1\u03b9 \u03af\u03c3\u03bf \u03bc\u03b5",starts_with:"\u0391\u03c1\u03c7\u03af\u03b6\u03b5\u03b9 \u03bc\u03b5",ends_with:"\u039a\u03b1\u03c4\u03b1\u03bb\u03ae\u03b3\u03b5\u03b9 \u03c3\u03b5",greater_than:"\u039c\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc",less_than:"\u039c\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03bf \u03b1\u03c0\u03cc"}},status_tag:{yes:"\u039d\u03b1\u03b9",no:"\u0394\u03b5\u03bd"},main_content:"\u03a0\u03b1\u03c1\u03b1\u03ba\u03b1\u03bb\u03ce \u03c5\u03bb\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03c4\u03b5 \u03c4\u03b7\u03bd %{model}#main_content \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03b5\u03bc\u03c6\u03b1\u03bd\u03af\u03c3\u03b5\u03c4\u03b5 \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03cc\u03bc\u03b5\u03bd\u03bf.",logout:"\u0391\u03c0\u03bf\u03c3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7",powered_by:"Powered by %{active_admin} %{version}",sidebars:{filters:"\u03a6\u03af\u03bb\u03c4\u03c1\u03b1"},pagination:{empty:"\u0394\u03b5 \u03b2\u03c1\u03ad\u03b8\u03b7\u03ba\u03b1\u03bd %{model}",one:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03b6\u03b5\u03c4\u03b1\u03b9 <b>1</b> %{model}",one_page:"\u0395\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9 <b>\u03cc\u03bb\u03b5\u03c2 \u03bf\u03b9 %{n}</b> \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2 %{model}",multiple:"\u0395\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9 %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b> \u03b1\u03c0\u03cc <b>%{total}</b> \u03c3\u03c5\u03bd\u03bf\u03bb\u03b9\u03ba\u03ac",multiple_without_total:"\u0395\u03bc\u03c6\u03b1\u03bd\u03af\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9 %{model} <b>%{from}&nbsp;-&nbsp;%{to}</b>",entry:{one:"\u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae",other:"\u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2"}},any:"\u038c\u03bb\u03b5\u03c2 \u03bf\u03b9 \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03c2",blank_slate:{
content:"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03bf\u03c5\u03bd %{resource_name} \u03b1\u03ba\u03cc\u03bc\u03b1.",link:"\u0394\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03ae\u03c3\u03c4\u03b5 \u03bc\u03af\u03b1 \u03b5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae"},dropdown_actions:{button_label:"\u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2"},batch_actions:{button_label:"\u039c\u03b1\u03b6\u03b9\u03ba\u03ad\u03c2 \u0395\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b5\u03c2",default_confirmation:"\u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03c2 \u03c0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03c4\u03bf \u03ba\u03ac\u03bd\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03cc;",delete_confirmation:"\u0395\u03af\u03c3\u03c4\u03b5 \u03c3\u03af\u03b3\u03bf\u03c5\u03c1\u03bf\u03c2 \u03c0\u03c9\u03c2 \u03b8\u03ad\u03bb\u03b5\u03c4\u03b5 \u03bd\u03b1 \u03b4\u03b9\u03b1\u03b3\u03c1\u03ac\u03c8\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ac \u03c4\u03b1 %{plural_model}?",succesfully_destroyed:{one:"\u0394\u03b9\u03b1\u03b3\u03c1\u03ac\u03c6\u03b7\u03ba\u03b5 \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03ce\u03c2 1 %{model}",other:"\u0394\u03b9\u03b1\u03b3\u03c1\u03ac\u03c6\u03b7\u03ba\u03b1\u03bd \u03b5\u03c0\u03b9\u03c4\u03c5\u03c7\u03ce\u03c2 %{count} %{plural_model}"},selection_toggle_explanation:"(\u0391\u03bd\u03c4\u03b9\u03c3\u03c4\u03c1\u03bf\u03c6\u03ae \u03b5\u03c0\u03b9\u03bb\u03bf\u03b3\u03ce\u03bd)",link:"\u0394\u03b7\u03bc\u03b9\u03bf\u03c5\u03c1\u03b3\u03ae\u03c3\u03c4\u03b5 \u03ad\u03bd\u03b1",action_label:"%{title} \u03b5\u03c0\u03b9\u03bb\u03b5\u03b3\u03bc\u03ad\u03bd\u03c9\u03bd",labels:{destroy:"\u0394\u03b9\u03b1\u03b3\u03c1\u03b1\u03c6\u03ae"}},comments:{resource_type:"\u03a4\u03cd\u03c0\u03bf\u03c2 \u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae\u03c2",author_type:"\u03a4\u03cd\u03c0\u03bf\u03c2 \u03a3\u03c5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03b1",body:"\u039a\u03b5\u03af\u03bc\u03b5\u03bd\u03bf",author:"\u03a3\u03c5\u03b3\u03b3\u03c1\u03b1\u03c6\u03ad\u03b1\u03c2",title:"\u03a3\u03c7\u03cc\u03bb\u03b9\u03bf",add:"\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03a3\u03c7\u03bf\u03bb\u03af\u03bf\u03c5",resource:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae",no_comments_yet:"\u0394\u03b5\u03bd \u03c5\u03c0\u03ac\u03c1\u03c7\u03b5\u03b9 \u03ba\u03b1\u03bd\u03ad\u03bd\u03b1 \u03c3\u03c7\u03cc\u03bb\u03b9\u03bf.",author_missing:"\u0391\u03bd\u03ce\u03bd\u03c5\u03bc\u03bf\u03c2",title_content:"\u03a3\u03c7\u03cc\u03bb\u03b9\u03b1 (%{count})",errors:{empty_text:"\u03a4\u03bf \u03c3\u03c7\u03cc\u03bb\u03b9\u03bf \u03b4\u03b5 \u03c3\u03ce\u03b8\u03b7\u03ba\u03b5, \u03c4\u03bf \u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf \u03ae\u03c4\u03b1\u03bd \u03ba\u03b5\u03bd\u03cc."}},devise:{username:{title:"\u038c\u03bd\u03bf\u03bc\u03b1 \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7"},email:{title:"Email"},subdomain:{title:"Subdomain"},password:{title:"\u039a\u03c9\u03b4\u03b9\u03ba\u03cc\u03c2"},sign_up:{title:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae",submit:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae"},login:{title:"\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7",remember_me:"\u039d\u03b1 \u03bc\u03b5 \u03b8\u03c5\u03bc\u03ac\u03c3\u03b1\u03b9",submit:"\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7"},reset_password:{title:"\u039e\u03b5\u03c7\u03ac\u03c3\u03b1\u03c4\u03b5 \u03c4\u03bf\u03bd \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2;",submit:"\u0395\u03c0\u03b1\u03bd\u03b1\u03c6\u03bf\u03c1\u03ac \u03ba\u03c9\u03b4\u03b9\u03ba\u03bf\u03cd"},change_password:{title:"\u0391\u03bb\u03bb\u03ac\u03be\u03c4\u03b5 \u03c4\u03bf\u03bd \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2",submit:"\u0391\u03bb\u03bb\u03b1\u03b3\u03ae \u03c4\u03bf\u03c5 \u03ba\u03c9\u03b4\u03b9\u03ba\u03bf\u03cd"},unlock:{title:"\u0391\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae \u03bf\u03b4\u03b7\u03b3\u03b9\u03ce\u03bd \u03be\u03b5\u03ba\u03bb\u03b5\u03b9\u03b4\u03ce\u03bc\u03b1\u03c4\u03bf\u03c2",submit:"\u0391\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae \u03bf\u03b4\u03b7\u03b3\u03b9\u03ce\u03bd \u03be\u03b5\u03ba\u03bb\u03b5\u03b9\u03b4\u03ce\u03bc\u03b1\u03c4\u03bf\u03c2"},resend_confirmation_instructions:{title:"\u0391\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae \u03bf\u03b4\u03b7\u03b3\u03b9\u03ce\u03bd \u03b5\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2",submit:"\u0391\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae \u03bf\u03b4\u03b7\u03b3\u03b9\u03ce\u03bd \u03b5\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"},links:{sign_in:"\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7",sign_up:"\u0395\u03b3\u03b3\u03c1\u03b1\u03c6\u03ae",forgot_your_password:"\u039e\u03b5\u03c7\u03ac\u03c3\u03b1\u03c4\u03b5 \u03c4\u03bf\u03bd \u03ba\u03c9\u03b4\u03b9\u03ba\u03cc \u03c3\u03b1\u03c2;",sign_in_with_omniauth_provider:"\u03a3\u03cd\u03bd\u03b4\u03b5\u03c3\u03b7 \u03bc\u03b5 %{provider}",resend_unlock_instructions:"\u0391\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae \u03bf\u03b4\u03b7\u03b3\u03b9\u03ce\u03bd \u03be\u03b5\u03ba\u03bb\u03b5\u03b9\u03b4\u03ce\u03bc\u03b1\u03c4\u03bf\u03c2",resend_confirmation_instructions:"\u0391\u03c0\u03bf\u03c3\u03c4\u03bf\u03bb\u03ae \u03bf\u03b4\u03b7\u03b3\u03b9\u03ce\u03bd \u03b5\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7\u03c2"}},unsupported_browser:{headline:"\u03a4\u03bf ActiveAdmin \u03b4\u03b5\u03bd \u03c5\u03c0\u03bf\u03c3\u03c4\u03b7\u03c1\u03af\u03b6\u03b5\u03b9 \u03c0\u03bb\u03b5\u03bf\u03bd \u03c4\u03bf\u03bd Internet Explorer \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7 8 \u03b7 \u03bc\u03b9\u03ba\u03c1\u03cc\u03c4\u03b5\u03c1\u03b7.",recommendation:'\u03a3\u03b1\u03c2 \u03c0\u03c1\u03bf\u03c4\u03b5\u03af\u03bd\u03bf\u03c5\u03bc\u03b5 \u03bd\u03b1 \u03b1\u03bd\u03b1\u03b2\u03b1\u03b8\u03bc\u03af\u03c3\u03b5\u03c4\u03b5 \u03c3\u03c4\u03b7\u03bd \u03c4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b1 <a href="http://windows.microsoft.com/ie">Internet Explorer</a>, <a href="https://chrome.google.com/">Google Chrome</a>, or <a href="https://mozilla.org/firefox/">Firefox</a>.',turn_off_compatibility_view:'\u0391\u03bd \u03c7\u03c1\u03b7\u03c3\u03b9\u03bc\u03bf\u03c0\u03bf\u03b9\u03b5\u03af\u03c4\u03b5 IE 9 \u03ae \u03bc\u03b5\u03b3\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03b7 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7, \u03c3\u03b9\u03b3\u03bf\u03c5\u03c1\u03b5\u03c5\u03c4\u03b5\u03af\u03c4\u03b5 \u03cc\u03c4\u03b9 <a href="http://windows.microsoft.com/en-US/windows7/webpages-look-incorrect-in-Internet-Explorer">turn off "Compatibility View"</a>.'},access_denied:{message:"\u0394\u03b5\u03bd \u03ad\u03c7\u03b5\u03c4\u03b5 \u03c0\u03c1\u03cc\u03c3\u03b2\u03b1\u03c3\u03b7 \u03b3\u03b9\u03b1 \u03b1\u03c5\u03c4\u03ae \u03c4\u03b7\u03bd \u03b5\u03bd\u03ad\u03c1\u03b3\u03b5\u03b9\u03b1."},index_list:{table:"\u03a0\u03af\u03bd\u03b1\u03ba\u03b1\u03c2",block:"\u039b\u03af\u03c3\u03c4\u03b1",grid:"\u03a0\u03bb\u03ad\u03b3\u03bc\u03b1",blog:"Blog"}},pageflow:{"public":{_language:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",audio:"\u0389\u03c7\u03bf\u03c2",back:"\u03a0\u03af\u03c3\u03c9",back_to_chapter:"\u03a0\u03af\u03c3\u03c9 \u03c3\u03c4\u03bf \u03ba\u03b5\u03c6\u03ac\u03bb\u03b1\u03b9\u03bf",before_after:{drag_hint:null,hint:"\u03a0\u03c1\u03b9\u03bd/\u03bc\u03b5\u03c4\u03b1 \u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae",leave_view:"\u0391\u03c0\u03bf\u03c7\u03ce\u03c1\u03b9\u03c3\u03b7 \u03c0\u03c1\u03b9\u03bd/\u03bc\u03b5\u03c4\u03b1 \u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae",start:"\u0395\u03ba\u03ba\u03af\u03bd\u03b9\u03c3\u03b7 \u03c0\u03c1\u03b9\u03bd/\u03bc\u03b5\u03c4\u03b1 \u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae",start_title:"\u0395\u03ba\u03ba\u03af\u03bd\u03b9\u03c3\u03b7 \u03c0\u03c1\u03b9\u03bd/\u03bc\u03b5\u03c4\u03b1 \u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae"},chapter:"\u039a\u03b5\u03c6\u03ac\u03bb\u03b1\u03b9\u03bf",chart:{toggle:"\u0395\u03bd\u03b1\u03bb\u03b1\u03ba\u03c4\u03b9\u03ba\u03b1"},close:"\u039a\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf",close_hint:"\u039a\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf \u03b2\u03bf\u03b7\u03b8\u03ae\u03bc\u03b1\u03c4\u03bf\u03c2",close_navigation:"\u039a\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf \u03bf\u03b4\u03b7\u03b3\u03bf\u03cd",close_overview:"\u039a\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf \u03b5\u03c0\u03b9\u03c3\u03ba\u03cc\u03c0\u03b9\u03c3\u03b7\u03c2",cookie_notice_html:null,deprecated_browser:"<p>\u03a4\u03bf \u03c0\u03c1\u03cc\u03b3\u03c1\u03b1\u03bc\u03b1 \u03c0\u03b5\u03c1\u03b9\u03ae\u03b3\u03b7\u03c3\u03b7\u03c2 \u03c3\u03b1\u03c2 \u03ad\u03c7\u03b5\u03b9 \u03be\u03b5\u03c0\u03b5\u03c1\u03b1\u03c3\u03bc\u03ad\u03bd\u03bf \u03bb\u03bf\u03b3\u03b9\u03c3\u03bc\u03b9\u03ba\u03cc  \u03ba\u03b1\u03b9 \u03af\u03c3\u03c9\u03c2 \u03bd\u03b1 \u03bc\u03b7\u03bd \u03bb\u03b7\u03c4\u03bf\u03c5\u03c1\u03b3\u03b5\u03af. \u03a3\u03b1\u03c2 \u03c0\u03c1\u03bf\u03c4\u03b5\u03af\u03bd\u03bf\u03c5\u03bc\u03b5 \u03bd\u03b1 \u03b1\u03bd\u03b1\u03b2\u03b1\u03b8\u03bc\u03af\u03c3\u03b5\u03c4\u03b5 \u03c4\u03bf \u03c0\u03c1\u03cc\u03b3\u03c1\u03b1\u03bc\u03b1 \u03c0\u03b5\u03c1\u03b9\u03ae\u03b3\u03b7\u03c3\u03b7\u03c2 \u03c3\u03b1\u03c2 \u03bc\u03b5 \u03c4\u03b7\u03bd \u03c0\u03bf\u03b9\u03bf \u03c0\u03c1\u03cc\u03c3\u03c6\u03b1\u03c4\u03b7 \u03ad\u03ba\u03b4\u03bf\u03c3\u03b7.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"\u0391\u03c0\u03bf\u03c7\u03ce\u03c1\u03b9\u03c3\u03b7 \u03b5\u03bd\u03c3\u03ce\u03bc\u03b1\u03c4\u03bf\u03bc\u03b5\u03bd\u03bf\u03c5 \u03b2\u03af\u03bd\u03c4\u03b5\u03bf"},enlarge_view:"\u039c\u03b5\u03b3\u03b9\u03c3\u03c4\u03bf\u03c0\u03bf\u03b9\u03b7\u03c3\u03b7 \u03c0\u03c1\u03bf\u03b2\u03bf\u03bb\u03ae\u03c2",enter_fullscreen:"\u0395\u03af\u03c3\u03bf\u03b4\u03bf\u03c2 \u03c3\u03b5 \u03c0\u03bb\u03ae\u03c1\u03b7\u03c2 \u03bf\u03b8\u03cc\u03bd\u03b7",first_page:"\u03a0\u03c1\u03ce\u03c4\u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1",forward:"\u039c\u03c0\u03c1\u03bf\u03c3\u03c4\u03ac",fullscreen:"\u03a0\u03bb\u03ae\u03c1\u03b7\u03c2 \u03bf\u03b8\u03cc\u03bd\u03b7",goto_first_page:"\u03a0\u03ae\u03b3\u03b1\u03b9\u03bd\u03b5 \u03c3\u03c4\u03b7\u03bd \u03b1\u03c1\u03c7\u03b9\u03ba\u03ae \u03c3\u03b5\u03bb\u03af\u03b4\u03b1",goto_top:"\u03a0\u03ae\u03b3\u03b1\u03b9\u03bd\u03b5 \u03c3\u03c4\u03b7\u03bd \u03b1\u03c1\u03c7\u03b9\u03ba\u03ae \u03c3\u03b5\u03bb\u03af\u03b4\u03b1",hide_text:"\u0391\u03c0\u03cc\u03ba\u03c1\u03c5\u03c8\u03b7 \u03ba\u03b5\u03b9\u03bc\u03ad\u03bd\u03bf\u03c5",home:"\u0391\u03c1\u03c7\u03b9\u03ba\u03ae",imprint:"\u0391\u03c0\u03bf\u03c4\u03cd\u03c0\u03c9\u03bc\u03b1",javascript_hint:"\u0391\u03c5\u03c4\u03ae \u03b7 \u03b5\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae \u03c7\u03c1\u03b7\u03c3\u03b9\u03bc\u03bf\u03c0\u03bf\u03b9\u03b5\u03af JavaScript \u03b3\u03b9\u03b1 \u03ba\u03b1\u03bb\u03cd\u03c4\u03b5\u03c1\u03b7 \u03b1\u03c0\u03cc\u03b4\u03bf\u03c3\u03b7 \u03c3\u03c4\u03bf\u03bd \u03c7\u03c1\u03ae\u03c3\u03c4\u03b7. \u03a4\u03bf \u03c0\u03c1\u03cc\u03b3\u03c1\u03b1\u03bc\u03bc\u03b1 \u03c0\u03b5\u03c1\u03b9\u03ae\u03b3\u03b7\u03c3\u03b7\u03c2 \u03c3\u03b1\u03c2 \u03bc\u03c0\u03bf\u03c1\u03b5\u03af \u03bd\u03b1 \u03bc\u03b7\u03bd \u03c5\u03c0\u03bf\u03c3\u03c4\u03b7\u03c1\u03b9\u03b6\u03b5\u03b9 \u03c4\u03bf JavaScript \u03ae \u03bd\u03b1 \u03b5\u03b9\u03bd\u03b1\u03b9 \u03b1\u03c0\u03b5\u03bd\u03b5\u03c1\u03b3\u03bf\u03c0\u03bf\u03b9\u03b7\u03bc\u03ad\u03bd\u03bf.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"\u0388\u03be\u03bf\u03b4\u03bf\u03c2 \u03b1\u03c0\u03bf \u03c0\u03bb\u03ae\u03c1\u03b7\u03c2 \u03bf\u03b8\u03cc\u03bd\u03b7",lets_go:"\u0395\u03ba\u03ba\u03af\u03bd\u03b7\u03c3\u03b7!",logo:"\u039b\u03bf\u03b3\u03cc\u03c4\u03c5\u03c0\u03bf",media_quality:null,mute_off:"\u039a\u03b1\u03c4\u03ac\u03c1\u03b3\u03b7\u03c3\u03b7 \u03c3\u03af\u03b3\u03b1\u03c3\u03b7\u03c2",mute_on:"\u03a3\u03af\u03b3\u03b1\u03c3\u03b7",navigate_top:"\u03a0\u03ae\u03b3\u03b1\u03b9\u03bd\u03b5 \u03c3\u03c4\u03b7\u03bd \u03b1\u03c1\u03c7\u03b9\u03ba\u03ae \u03c3\u03b5\u03bb\u03af\u03b4\u03b1",navigation:"\u03a0\u03bb\u03bf\u03ae\u03b3\u03b7\u03c3\u03b7",new_pages_box:{additional_pages_html:"...\u03ba\u03b1\u03b9 <span></span> \u03c0\u03b5\u03c1\u03b9\u03c3\u03c3\u03cc\u03c4\u03b5\u03c1\u03b5\u03c2",description:"\u0391\u03c0\u03bf \u03c4\u03b7\u03bd \u03c4\u03b5\u03bb\u03b5\u03c5\u03c4\u03b1\u03af\u03b1 \u03c3\u03b1\u03c2 \u03b5\u03c0\u03b9\u03c3\u03ba\u03b5\u03c8\u03b7 , \u03ad\u03c7\u03bf\u03c5\u03bd \u03c0\u03c1\u03bf\u03c3\u03c4\u03b5\u03b8\u03b5\u03af \u03bc\u03b5\u03c1\u03b9\u03ba\u03ad\u03c2 \u03c3\u03b5\u03bb\u03af\u03b4\u03b5\u03c2 \u03c3\u03c4\u03b7\u03bd pageflow:",title:"\u039d\u03ad\u03b5\u03c2 \u03c3\u03b5\u03bb\u03af\u03b4\u03b5\u03c2"},notice:"\u03b5\u03b9\u03b4\u03bf\u03c0\u03bf\u03af\u03b7\u03c3\u03b7",open_audio:null,open_navigation:"\u0386\u03bd\u03bf\u03b9\u03b3\u03bc\u03b1 \u03c0\u03bb\u03bf\u03ae\u03b3\u03b7\u03c3\u03b7\u03c2",open_overview:"\u0386\u03bd\u03bf\u03b9\u03b3\u03bc\u03b1 \u03b5\u03c0\u03b9\u03c3\u03ba\u03cc\u03c0\u03b7\u03c3\u03b7\u03c2",open_video:null,overview:"\u0395\u03c0\u03b9\u03c3\u03ba\u03cc\u03c0\u03b7\u03c3\u03b7",panorama:{close:"\u03ba\u03bb\u03b5\u03af\u03c3\u03b9\u03bc\u03bf 360\u1d52 \u03c0\u03b1\u03bd\u03bf\u03c1\u03ac\u03bc\u03b1\u03c4\u03bf\u03c2 \u03ba\u03b1\u03b9  \u03b1\u03c0\u03b5\u03b9\u03ba\u03bf\u03bd\u03b9\u03b6\u03cc\u03bc\u03b5\u03bd\u03bf\u03c5 \u03ba\u03b5\u03b9\u03bc\u03b5\u03bd\u03bf\u03cd",start:"\u03b5\u03ba\u03ba\u03b9\u03bd\u03ae\u03c3\u03b7 360\u1d52 \u03c0\u03b1\u03bd\u03bf\u03c1\u03ac\u03bc\u03b1\u03c4\u03bf\u03c2"},play_video:"\u03b1\u03bd\u03b1\u03c0\u03b1\u03c1\u03b1\u03b3\u03c9\u03b3\u03ae \u03b2\u03b9\u03bd\u03c4\u03b5\u03bf",privacy_notice:null,scroll_back_indicator:null,scroll_down:"\u03a3\u03ba\u03c1\u03bf\u03bb\u03ac\u03c1\u03b5\u03c4\u03b5 \u03ba\u03ac\u03c4\u03c9",scroll_hint:"\u03a7\u03c1\u03b7\u03c3\u03b9\u03bc\u03bf\u03c0\u03bf\u03b9\u03ae\u03c3\u03c4\u03b5 \u03c4\u03b7\u03bd \u03c1\u03bf\u03b4\u03ad\u03bb\u03b1 \u03ae \u03c4\u03b1 \u03b2\u03b5\u03bb\u03ac\u03ba\u03b9\u03b1 \u03c3\u03c4\u03bf \u03c0\u03bb\u03b7\u03ba\u03c4\u03c1\u03bf\u03bb\u03cc\u03b3\u03b9\u03bf \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c0\u03b5\u03c1\u03b9\u03b7\u03b3\u03b7\u03b8\u03b5\u03af\u03c4\u03b5 \u03b1\u03bd\u03ac\u03bc\u03b5\u03c3\u03b1 \u03c3\u03c4\u03b9\u03c2 \u03c3\u03b5\u03bb\u03ae\u03b4\u03b5\u03c2",scroll_indicator:"\u03a3\u03ba\u03c1\u03bf\u03bb\u03ac\u03c1\u03b5\u03c4\u03b5 \u03ba\u03b1\u03c4\u03c9 \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03af\u03c3\u03b5\u03c4\u03b5",scroll_left:"\u03a3\u03ba\u03c1\u03bf\u03bb\u03ac\u03c1\u03b5\u03c4\u03b5 \u03b1\u03c1\u03b9\u03c3\u03c4\u03b5\u03c1\u03ac",scroll_right:"\u03a3\u03ba\u03c1\u03bf\u03bb\u03ac\u03c1\u03b5\u03c4\u03b5 \u03b4\u03b5\u03be\u03b9\u03ac",scroll_up:"\u03a3\u03ba\u03c1\u03bf\u03bb\u03ac\u03c1\u03b5\u03c4\u03b5 \u03c0\u03ac\u03bd\u03c9",share:"\u039c\u03bf\u03b9\u03c1\u03b1\u03c3\u03c4\u03b5\u03af\u03c4\u03b5",share_on_facebook:"\u039c\u03bf\u03b9\u03c1\u03b1\u03c3\u03c4\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf Facebook",share_on_google:"\u039c\u03bf\u03b9\u03c1\u03b1\u03c3\u03c4\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf Google+",share_on_twitter:"\u039c\u03bf\u03b9\u03c1\u03b1\u03c3\u03c4\u03b5\u03af\u03c4\u03b5 \u03c3\u03c4\u03bf \u03a4witter",share_this_entry:"\u03b1\u03c5\u03c4\u03ae \u03b7 \u03b9\u03c3\u03c4\u03bf\u03c1\u03af\u03b1",share_this_page:"\u03b1\u03c5\u03c4\u03ae \u03b7 \u03c3\u03b5\u03bb\u03af\u03b4\u03b1",show_home:"\u0388\u03bd\u03b1\u03c1\u03be\u03b7",show_text:"\u0395\u03bc\u03c6\u03ac\u03bd\u03b9\u03c3\u03b7 \u03ba\u03b5\u03b9\u03bc\u03ad\u03bd\u03bf\u03c5",skip_links_content:"\u03c0\u03ae\u03b3\u03b1\u03b9\u03bd\u03b5 \u03c3\u03c4\u03bf \u03c0\u03b5\u03c1\u03b9\u03b5\u03c7\u03ce\u03bc\u03b5\u03bd\u03bf",skip_links_navigation:"\u03a0\u03ae\u03b3\u03b1\u03b9\u03bd\u03b5 \u03c3\u03c4\u03b7\u03bd \u03c0\u03b5\u03c1\u03b9\u03ae\u03b3\u03b7\u03c3\u03b7",skip_links_top_navigation:"\u03a0\u03ae\u03b3\u03b1\u03b9\u03bd\u03b5 \u03c3\u03c4\u03b7\u03bd \u03ba\u03b5\u03bd\u03c4\u03c1\u03b9\u03ba\u03ae \u03c0\u03b5\u03c1\u03b9\u03ae\u03b3\u03b7\u03c3\u03b7",sound_hint:"\u0391\u03c5\u03c4\u03ae \u03b7 \u03b9\u03c3\u03c4\u03bf\u03c1\u03af\u03b1 \u03c7\u03c1\u03b7\u03c3\u03b9\u03bc\u03bf\u03c0\u03bf\u03b9\u03b5\u03af \u03bf\u03c0\u03c4\u03b9\u03ba\u03bf\u03b1\u03ba\u03bf\u03c5\u03c3\u03c4\u03af\u03ba\u03bf \u03c5\u03bb\u03b9\u03ba\u03cc. \u03a3\u03b9\u03b3\u03bf\u03c5\u03c1\u03b5\u03c5\u03c4\u03b5\u03af\u03c4\u03b5 \u03cc\u03c4\u03b9 \u03c4\u03bf \u03b7\u03c7\u03b5\u03af\u03bf \u03c3\u03b1\u03c2 \u03b5\u03af\u03bd\u03b1\u03b9 \u03b1\u03bd\u03bf\u03b9\u03c7\u03c4\u03cc.",start_audio:"\u0388\u03bd\u03b1\u03c1\u03be\u03b7 \u03ae\u03c7\u03bf\u03c5 \u03c4\u03ce\u03c1\u03b1",start_video:"\u0388\u03bd\u03b1\u03c1\u03be\u03ae \u03b2\u03af\u03bd\u03c4\u03b5\u03bf \u03c4\u03ce\u03c1\u03b1",swipe_hint:"\u03c3\u03cd\u03c1\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03bf\u03b8\u03cc\u03bd\u03b7 \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c0\u03b5\u03c1\u03b9\u03b7\u03b3\u03b7\u03b8\u03b5\u03af\u03c4\u03b5 \u03b1\u03bd\u03ac\u03bc\u03b5\u03c3\u03b1 \u03c3\u03c4\u03b9\u03c2 \u03c3\u03b5\u03bb\u03af\u03b4\u03b5\u03c2",swipe_indicator:"\u03c3\u03cd\u03c1\u03b5\u03c4\u03b5 \u03c4\u03b7\u03bd \u03bf\u03b8\u03cc\u03bd\u03b7 \u03b3\u03b9\u03b1 \u03bd\u03b1 \u03c3\u03c5\u03bd\u03b5\u03c7\u03ae\u03c3\u03b5\u03c4\u03b5",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"\u03b2\u03af\u03bd\u03c4\u03b5\u03bf",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"\u0389\u03c7\u03bf\u03c2",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},"cs-CZ":{pageflow:{"public":{_language:"\u010cesky",audio:"Zvuk",back:"Zp\u011bt",back_to_chapter:"Zp\u011bt do sekce",before_after:{drag_hint:"Zm\xe1\u010dkn\u011bte lev\xe9 tla\u010d\xedtko my\u0161i a pohybujte se vlevo \u010di vpravo.",hint:"Zobrazen\xed p\u0159ed/po",leave_view:"Opustit zobrazen\xed p\u0159ed/po",start:"Spustit zobrazen\xed p\u0159ed/po",start_title:"Spustit zobrazen\xed p\u0159ed/po"},chapter:"Kapitola",chart:{toggle:"P\u0159epnout"},close:"Zav\u0159\xedt",close_hint:"Zav\u0159\xedt n\xe1pov\u011bdu",close_navigation:"Zav\u0159\xedt navigaci",close_overview:"Zav\u0159\xedt n\xe1hled",cookie_notice_html:null,deprecated_browser:"<p>Pou\u017e\xedv\xe1te zastaral\xfd prohl\xed\u017ee\u010d, je proto mo\u017en\xe9, \u017ee nedok\xe1\u017ee tuto str\xe1nku zobrazit tak, jak byla navr\u017eena. Doporu\u010dujeme jej aktualizovat na nejnov\u011bj\u0161\xed verzi.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Zav\u0159\xedt vlo\u017een\xe9 video"},enlarge_view:"Zv\u011bt\u0161it zobrazen\xed",enter_fullscreen:"P\u0159es celou obrazovku",first_page:"Na tituln\xed stranu",forward:"Vp\u0159ed",fullscreen:"P\u0159es celou obrazovku",goto_first_page:"J\xedt na prvn\xed str\xe1nku",goto_top:"J\xedt na prvn\xed str\xe1nku",hide_text:"Skr\xfdt text",home:"Za\u010d\xe1tek",imprint:"Tir\xe1\u017e",javascript_hint:"Tato aplikace vy\u017eaduje pro spr\xe1vn\xe9 fungov\xe1n\xed JavaScript. V\xe1\u0161 prohl\xed\u017ee\u010d JavaScript nepodporuje, nebo jej m\xe1te vypnut\xfd.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Opustit re\u017eim p\u0159es celou obrazovku",lets_go:"Spustit",logo:"Logo",media_quality:null,mute_off:"Zapnout zvuk",mute_on:"Vypnout zvuk",navigate_top:"J\xedt na prvn\xed str\xe1nku",navigation:"Navigace",new_pages_box:{additional_pages_html:"...a <span></span> dal\u0161\xed",description:"Str\xe1nky, kter\xe9 zde p\u0159ibyly od va\u0161\xed posledn\xed n\xe1v\u0161t\u011bvy:",title:"Nov\xe9 str\xe1nky"},notice:"Upozorn\u011bn\xed",open_audio:null,open_navigation:"Otev\u0159\xedt navigaci",open_overview:"Otev\u0159\xedt obsah",open_video:null,overview:"Obsah",panorama:{close:"Zav\u0159\xedt 360\xb0 panorama a zobrazit text",start:"Otev\u0159\xedt 360\xb0 panorama"},play_video:"P\u0159ehr\xe1t video",privacy_notice:null,scroll_back_indicator:" ",scroll_down:"Scrollujte dol\u016f",scroll_hint:"Proch\xe1zejte str\xe1nky ot\xe1\u010den\xedm kole\u010dka my\u0161i nebo \u0161ipkami na kl\xe1vesnici",scroll_indicator:"Pokra\u010dujte dol\u016f",scroll_left:"Pokra\u010dujte scrollov\xe1n\xedm dol\u016f",scroll_right:"Scrollujte doprava",scroll_up:"Scrollujte nahoru",share:"Sd\xedlejte",share_on_facebook:"Sd\xedlejte na Facebooku",share_on_google:"Sd\xedlejte na Google+ ",share_on_twitter:"Sd\xedlejte na Twitteru",share_this_entry:"Cel\xfd p\u0159\xedsp\u011bvek",share_this_page:"P\u0159\xedmo tuto str\xe1nku",show_home:"Start",show_text:"Zobrazit text",skip_links_content:"P\u0159ej\xedt na obsah",skip_links_navigation:"P\u0159ej\xedt k navigaci",skip_links_top_navigation:"Na hlavn\xed navigaci",sound_hint:"Tato multimedi\xe1ln\xed report\xe1\u017e obsahuje zvukovou stopu. M\xe1te zapnut\xe9 reproduktory, p\u0159\xedpadn\u011b nasazen\xe1 sluch\xe1tka?",start_audio:"Poslechn\u011bte si",start_video:"Pod\xedvejte se",swipe_hint:"Listujte tahem prstu po obrazovce",swipe_indicator:"Pokra\u010dujte tahem prstu",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Hlasitost",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},"fa-IR":{pageflow:{"public":{_language:"\u0627\u0646\u06af\u0644\u06cc\u0633\u06cc",audio:"\u0635\u062f\u0627",back:"\u0628\u0627\u0632\u06af\u0634\u062a",back_to_chapter:"\u0628\u0631\u06af\u0634\u062a \u0628\u0647 \u0641\u0635\u0644",before_after:{drag_hint:null,hint:"\u0642\u0628\u0644 / \u0628\u0639\u062f \u0627\u0632 \u0646\u0645\u0627\u06cc\u0634",leave_view:"\u062a\u0631\u06a9 \u0642\u0628\u0644 / \u0628\u0639\u062f \u0627\u0632 \u0646\u0645\u0627\u06cc\u0634",start:"\u0634\u0631\u0648\u0639 \u0642\u0628\u0644 / \u0628\u0639\u062f \u0627\u0632 \u0646\u0645\u0627\u06cc\u0634",start_title:"\u0634\u0631\u0648\u0639 \u0642\u0628\u0644 / \u0628\u0639\u062f \u0627\u0632 \u0646\u0645\u0627\u06cc\u0634"},chapter:"\u0641\u0635\u0644",chart:{toggle:"\u062a\u063a\u06cc\u06cc\u0631 \u0648\u0636\u0639\u06cc\u062a"},close:"\u0628\u0633\u062a\u0646",close_hint:"\u0628\u0633\u062a\u0646",close_navigation:"\u0628\u0633\u062a\u0646 \u062c\u0647\u062a \u06cc\u0627\u0628\u06cc",close_overview:"\u0628\u0633\u062a\u0646 \u0645\u0631\u0648\u0631 \u06a9\u0644\u06cc",cookie_notice_html:null,deprecated_browser:" \u0627\u06cc\u0646 \u0635\u0641\u062d\u0647 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u06a9\u0627\u0631 \u06a9\u0646\u062f \u0648 \u062f\u0631 \u0645\u0631\u0648\u0631\u06af\u0631 \u0634\u0645\u0627 \u0645\u0646\u0633\u0648\u062e \u0634\u062f\u0647 \u0627\u0633\u062a \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0647 \u0634\u062f\u0647. \u0645\u0627 \u062a\u0648\u0635\u06cc\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645  \u0645\u0631\u0648\u0631\u06af\u0631 \u062e\u0648\u062f \u0631\u0627 \u0628\u0647 \u0646\u0633\u062e\u0647 \u0647\u0627\u06cc \u0627\u062e\u06cc\u0631  \u0628\u0647 \u0631\u0648\u0632 \u0631\u0633\u0627\u0646\u06cc \u06a9\u0646\u06cc\u062f.",dismiss_cookie_notice:null,embedded_video:{leave_video:"\u062a\u0631\u06a9 \u0648\u06cc\u062f\u0626\u0648 \u0647\u0627\u06cc \u062c\u0627\u0633\u0627\u0632\u06cc \u0634\u062f\u0647"},enlarge_view:"\u0628\u0632\u0631\u06af \u0646\u0645\u0627\u06cc\u06cc \u0646\u0645\u0627\u06cc\u0634",enter_fullscreen:"\u062d\u0627\u0644\u062a \u062a\u0645\u0627\u0645 \u0635\u0641\u062d\u0647 ",first_page:"\u0635\u0641\u062d\u0647 \u0627\u0648\u0644",forward:"\u0631\u0648 \u0628\u0647 \u062c\u0644\u0648",fullscreen:"\u062a\u0645\u0627\u0645 \u0635\u0641\u062d\u0647",goto_first_page:"\u0628\u0631\u0648 \u0628\u0647 \u0635\u0641\u062d\u0647 \u0627\u0648\u0644",goto_top:"\u0628\u0631\u0648 \u0628\u0647 \u0635\u0641\u062d\u0647 \u0627\u0648\u0644",hide_text:"\u0645\u062e\u0641\u06cc \u06a9\u0631\u062f\u0646 \u0645\u062a\u0646",home:"\u0634\u0631\u0648\u0639",imprint:"\u0645\u0646\u0642\u0648\u0634 \u06a9\u0631\u062f\u0646",javascript_hint:"\u0627\u06cc\u0646 \u0646\u0631\u0645 \u0627\u0641\u0632\u0627\u0631 \u0628\u0627 \u0628\u0647\u0631\u0647 \u06af\u06cc\u0631\u06cc \u0627\u0632 \u062c\u0627\u0648\u0627 \u0627\u0633\u06a9\u0631\u06cc\u067e\u062a \u0628\u0631\u0627\u06cc \u0642\u0627\u0628\u0644\u06cc\u062a \u0647\u0627\u06cc \u067e\u06cc\u0634\u0631\u0641\u062a\u0647 \u0648 \u062a\u062c\u0631\u0628\u0647 \u06a9\u0627\u0631\u0628\u0631 \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u062f . \u0645\u0631\u0648\u0631\u06af\u0631 \u0634\u0645\u0627 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u062c\u0627\u0648\u0627 \u0627\u0633\u06a9\u0631\u06cc\u067e\u062a \u0631\u0627 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0646\u06a9\u0646\u062f \u0648 \u06cc\u0627 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u063a\u06cc\u0631 \u0641\u0639\u0627\u0644 \u0634\u0648\u062f.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"\u062e\u0631\u0648\u062c \u0627\u0632 \u062d\u0627\u0644\u062a \u062a\u0645\u0627\u0645 \u0635\u0641\u062d\u0647",lets_go:"\u0628\u0632\u0646 \u0628\u0631\u06cc\u0645",logo:"\u0628\u0648\u06af\u0648 / \u0645\u0627\u0631\u06a9 \u0627\u062e\u062a\u0635\u0627\u0631\u06cc",media_quality:null,mute_off:"\u0628\u0627\u0635\u062f\u0627 \u06a9\u0631\u062f\u0646",mute_on:"\u0642\u0637\u0639 \u0635\u062f\u0627",navigate_top:"\u0628\u0631\u0648 \u0628\u0647 \u0635\u0641\u062d\u0647 \u0627\u0648\u0644",navigation:"\u062c\u0647\u062a \u06cc\u0627\u0628\u06cc \u0635\u0641\u062d\u0647",new_pages_box:{additional_pages_html:"\u0648 \u0628\u0647 <span> </ span> \u062f\u0631 \u0628\u06cc\u0634\u062a\u0631 ...",description:"\u0627\u0632 \u0622\u062e\u0631\u06cc\u0646 \u0628\u0627\u0632\u062f\u06cc\u062f \u0634\u0645\u0627\u060c\u0627\u06cc\u0646 \u0635\u0641\u062d\u0627\u062a \u0628\u0647  pageflow \u0627\u0636\u0627\u0641\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a:",title:"\u0635\u0641\u062d\u0647 \u062c\u062f\u06cc\u062f"},notice:"\u06cc\u0627\u062f\u062f\u0627\u0634\u062a",open_audio:null,open_navigation:"\u0628\u0627\u0632\u06a9\u0631\u062f\u0646 \u062c\u0647\u062a \u06cc\u0627\u0628\u06cc \u0635\u0641\u062d\u0647",open_overview:"\u0628\u0627\u0632\u06a9\u0631\u062f\u0646 \u0646\u0645\u0627\u06cc \u06a9\u0644\u06cc",open_video:null,overview:"\u0646\u0645\u0627\u06cc \u06a9\u0644\u06cc",panorama:{close:"\u0628\u0633\u062a\u0646  360 \u062f\u0631\u062c\u0647 \u067e\u0627\u0646\u0648\u0631\u0627\u0645\u0627 \u0648 \u0646\u0645\u0627\u06cc\u0634 \u0645\u062a\u0646",start:"\u0634\u0631\u0648\u0639  360 \u062f\u0631\u062c\u0647 \u067e\u0627\u0646\u0648\u0631\u0627\u0645\u0627"},play_video:"\u067e\u062e\u0634 \u0648\u06cc\u062f\u0626\u0648",privacy_notice:null,scroll_back_indicator:"\u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f \u062a\u0627 \u0645\u062a\u0646 / \u062a\u0631\u062c\u0645\u0647 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f",scroll_down:"\u0628\u0647 \u067e\u0627\u06cc\u06cc\u0646 \u0628\u0631\u0648\u06cc\u062f",scroll_hint:"\u0628\u0631\u0627\u06cc \u062d\u0631\u06a9\u062a \u0628\u06cc\u0646 \u0635\u0641\u062d\u0627\u062a \u0627\u0632 \u0686\u0631\u062e \u0645\u0627\u0648\u0633 \u0648 \u06cc\u0627 \u06a9\u0644\u06cc\u062f\u0647\u0627\u06cc \u062c\u0647\u062a \u062f\u0627\u0631 \u0628\u0631 \u0631\u0648\u06cc \u0635\u0641\u062d\u0647 \u06a9\u0644\u06cc\u062f \u062e\u0648\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647  \u06a9\u0646\u06cc\u062f.",scroll_indicator:"\u0628\u0631\u0627\u06cc \u0627\u062f\u0627\u0645\u0647 \u0628\u0647 \u067e\u0627\u06cc\u06cc\u0646 \u0628\u0631\u0648\u06cc\u062f",scroll_left:"\u062d\u0631\u06a9\u062a \u0628\u0647 \u0637\u0631\u0641 \u0686\u067e",scroll_right:"\u062d\u0631\u06a9\u062a \u0628\u0647 \u0637\u0631\u0641 \u0631\u0627\u0633\u062a",scroll_up:"\u062d\u0631\u06a9\u062a \u0628\u0647 \u0637\u0631\u0641 \u0628\u0627\u0644\u0627",share:" \u0628\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u06af\u0630\u0627\u0631\u06cc\u062f",share_on_facebook:"\u062f\u0631 \u0641\u06cc\u0633\u0628\u0648\u06a9 \u0628\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u06af\u0630\u0627\u0631\u06cc\u062f",share_on_google:"\u062f\u0631 \u06af\u0648\u06af\u0644 \u067e\u0644\u0627\u0633 \u0628\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u06af\u0630\u0627\u0631\u06cc\u062f",share_on_twitter:"\u062f\u0631 \u062a\u0648\u06cc\u062a\u06cc\u062a\u0631 \u0628\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u06af\u0630\u0627\u0631\u06cc\u062f",share_this_entry:"\u0627\u06cc\u0646 \u062f\u0627\u0633\u062a\u0627\u0646",share_this_page:"\u0627\u06cc\u0646 \u0635\u0641\u062d\u0647",show_home:"\u0634\u0631\u0648\u0639",show_text:"\u0646\u0645\u0627\u06cc\u0634 \u0645\u062a\u0646",skip_links_content:"\u0631\u0641\u062a\u0646 \u0628\u0637\u0631\u0641 \u0645\u062d\u062a\u0648\u0627",skip_links_navigation:"\u0631\u0641\u062a\u0646 \u0628\u0647 \u062c\u0647\u062a \u06cc\u0627\u0628\u06cc \u0635\u0641\u062d\u0647",skip_links_top_navigation:"\u0631\u0641\u062a\u0646 \u0628\u0647 \u0635\u0641\u062d\u0647 \u0627\u0635\u0644\u06cc \u062c\u0647\u062a \u06cc\u0627\u0628\u06cc \u0635\u0641\u062d\u0647",sound_hint:"\u0627\u06cc\u0646 \u0642\u0627\u0644\u0628 \u062f\u0627\u0633\u062a\u0627\u0646 \u0647\u0627\u06cc \u0686\u0646\u062f \u0631\u0633\u0627\u0646\u0647 \u0627\u06cc \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0648\u06cc\u062f\u0626\u0648 \u0648 \u0641\u06cc\u0644\u0645 \u0647\u0627\u06cc \u0635\u0648\u062a\u06cc \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u062f. \u0644\u0637\u0641\u0627 \u0645\u0637\u0645\u0626\u0646 \u0634\u0648\u06cc\u062f \u06a9\u0647 \u0628\u0644\u0646\u062f\u06af\u0648\u0647\u0627\u06cc \u06a9\u0627\u0645\u067e\u06cc\u0648\u062a\u0631 \u0631\u0648\u0634\u0646 \u0647\u0633\u062a\u0646\u062f.",start_audio:"\u0634\u0631\u0648\u0639 \u067e\u062e\u0634 \u0635\u0648\u062a\u06cc ",start_video:"\u0634\u0631\u0648\u0639 \u067e\u062e\u0634 \u062a\u0635\u0648\u06cc\u0631\u06cc",swipe_hint:"\u062d\u0631\u06a9\u062a \u0628\u06cc\u0646 \u0635\u0641\u062d\u0627\u062a",swipe_indicator:"\u062d\u0631\u06a9\u062a \u0628\u0631\u0627\u06cc \u0627\u062f\u0627\u0645\u0647",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"\u062a\u0635\u0648\u06cc\u0631",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"\u0627\u0646\u062f\u0627\u0632\u0647 (\u0635\u062f\u0627 / \u062a\u0635\u0648\u06cc\u0631)",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},gn:{pageflow:{"public":{_language:"Guarani",audio:"Re hendu hag\u0169a",back:"Eju jey",back_to_chapter:"Eju jey kap\xedtulope",before_after:{drag_hint:null,hint:"Re hecha anteve/up\xe9i rire",leave_view:"Re s\xe9 hag\u0169a la anteve/up\xe9i rire gui",start:"Emo \xf1epyr\u0169 hag\u0169a anteve/up\xe9i rire",start_title:"Emo \xf1epyr\xfc hag\u0169a anteve/up\xe9i rire"},chapter:"Kapitulo",chart:{toggle:"Ejopy"},close:"Emboty",close_hint:"Emboty \xf1e\u2019\u1ebd",close_navigation:"Emboty nde navegador",close_overview:"Emboty pait\xe9",cookie_notice_html:null,deprecated_browser:"<p>Ko navegador reipur\xfava hina itujama ha ikat\xfa ndoikopor\xe1i ndeve. E mbo pyahuve vaer\xe3.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Re s\u1ebd hag\u0169a video o\xf1ondivepa gui"},enlarge_view:"Re hecha hag\u0169a tuichave",enter_fullscreen:"Re hecha enteroit\xe9 nde pantallape",first_page:"Kuatia rogu\xe9 pete\u0129",forward:"Ekorr\xe9",fullscreen:"Re hecha pait\xe9",goto_first_page:"Jaha kuaatia rogu\xe9 pete\u0129pe",goto_top:"Jaha kuaatia rogu\xe9 pete\u0129pe",hide_text:"Emboka\xf1y kuatia \xf1e\u2019\u1ebd",home:"\xd1epyr\u0169",imprint:"Embo ha\xed kuati\xe1pe",
javascript_hint:"Ko aplicaci\xf3n oipur\xfa hina JavaScript oiko por\xe4ve hag\xfca ha reipuru por\xe3ve hag\u0169a. Ikat\xfa nde navegador itujama ha ndoikoi pype t\u1ebdra ikatu oguereko ha reikotev\u1ebd emyandynte.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Emboty la rehechava",lets_go:"\xd1a \xf1epyr\u0169",logo:"Ta\u2019anga",media_quality:null,mute_off:"Ehend\xfa jey",mute_on:"Kirir\u0129",navigate_top:"Jaha kuatia rogu\xe9 pete\u0129pe",navigation:"Emo \xf1epyr\u0169 poravokuaa",new_pages_box:{additional_pages_html:"...o\u0129 <span></span> ve",description:"Nde reho rire, o\u0129ve ko\u2019ape ipyahuva",title:"Kuatia rogu\xe9 pyahu"},notice:"\xd1e\u2019\u1ebd mi",open_audio:null,open_navigation:"Emo\xf1epyr\u0169",open_overview:"Rehecha pait\xe9 hag\u0169a",open_video:null,overview:"Ehecha pait\xe9",panorama:{close:"Emboty ko jehecha pait\xe9 ha embo\xf1epyr\u0169 \xf1e\u2019\u1ebdmi",start:"Emo\xf1epyr\u0169 jehecha pait\xe9"},play_video:"Emo\xf1epyr\u0169 ta\u2019anga omyiva",privacy_notice:null,scroll_back_indicator:"Tereh\xf3 hapyku\xe9pe",scroll_down:"Tereh\xf3 yvype",scroll_hint:"Reipur\xfa kua\xe1 nde anguja \xf1erenga tera nde teclado e korre hag\u0169a op\xe1 kuatia roguere",scroll_indicator:"Tereh\xf3 yvyoto re segui hag\u0169a",scroll_left:"Tereh\xf3 izquierdape",scroll_right:"Tereh\xf3 derechape",scroll_up:"Tereh\xf3 yvatepe",share:"Emombe\u2019\xfa",share_on_facebook:"Emombe\u2019\xfa Facebookpe",share_on_google:"Emombe\u2019\xfa Google+pe",share_on_twitter:"Emombe\u2019\xfa Twitterpe",share_this_entry:"Ko \xf1emombe\u2019u",share_this_page:"Ko kuatia rogu\xe9",show_home:"\xd1epyr\u0169",show_text:"Ehechuka \xf1e\u2019\u1ebdmi",skip_links_content:"Jaha hyepype",skip_links_navigation:"Jaha menupe",skip_links_top_navigation:"Jaha menu principalpe",sound_hint:"Ko\u2019ape rehechata ha rehenduta ta\u2019anga omyiva ha o\xf1e\u2019eva. Ema\xf1am\xed kena la nde parlanteku\xe9ra o\u0129 por\xe3pa.",start_audio:"Emo \xf1epyr\u0169 rehendu hag\u0169a",start_video:"Emo \xf1epyr\u0169 rehecha hag\u0169a",swipe_hint:"Ikat\xfa embohas\xe1 nde ku\xe3me",swipe_indicator:"Embohas\xe1 nde ku\xe3 re segu\xed hag\u0169a",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Ta\u2019ang\xe1 omyiva",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Ehend\xfa hag\u0169a",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},ms:{pageflow:{"public":{_language:"Bahasa Melayu",audio:"Audio",back:"Kembali",back_to_chapter:"Kebali ke bab",before_after:{drag_hint:null,hint:"Paparan sebelum/selepas",leave_view:"Tinggalkan paparan sebelum/selepas",start:"Mulakan paparan sebelum/selepas",start_title:"Mulakan paparan sebelum/selepas"},chapter:"Bab",chart:{toggle:"Togol"},close:"Tutup ",close_hint:"Tutup petua",close_navigation:"Tutup navigasi",close_overview:"Tutup gambaran keseluruhan",cookie_notice_html:null,deprecated_browser:"<p>Pelayar anda tidak dikemaskini dan halaman ini mungkin tidak berfungsi seperti yang sepatutnya. Kami mengesyorkan supaya anda menaiktaraf pelayar anda kepada versi yang terkini.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Tinggalkan pautan video"},enlarge_view:"Besarkan paparan",enter_fullscreen:"Masuki mod paparan penuh",first_page:"Halaman pertama",forward:"Ke hadapan ",fullscreen:"Paparan penuh",goto_first_page:"Pergi ke halaman pertama",goto_top:"Pergi ke halaman pertama",hide_text:"Sembunyikan teks",home:"Mula",imprint:"Tanda",javascript_hint:"Aplikasi ini menggunakan JavaScript untuk mempertingkatkan fungsi dan pengalaman pengguna. Pelayar anda mungkin tidak menyokong JavaScript atau ia telah dimatikan.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Tinggalkan mod paparan penuh",lets_go:"Jom",logo:"Logo",media_quality:null,mute_off:"Nyahbisukan",mute_on:"Bisukan",navigate_top:"Pergi ke halaman pertama",navigation:"Navigasi",new_pages_box:{additional_pages_html:"...dan <span></span> selebihnya",description:"Sejak kunjungan terakhir anda, halaman baru telah ditambah ke Pageflow ini: ",title:"Halaman Baru"},notice:"Notis",open_audio:null,open_navigation:"Buka navigasi",open_overview:"Buka gambaran umum",open_video:null,overview:"Gambaran umum",panorama:{close:"Tutup panorama 360\xb0 dan paparan teks",start:"Mulakan panorama 360\xb0"},play_video:"Mainkan video",privacy_notice:null,scroll_back_indicator:"Skrol kembali",scroll_down:"Skrol ke bawah",scroll_hint:"Gunakan roda tetikus atau kekunci anak panah pada papan kekunci anda untuk menelusuri antara halaman.",scroll_indicator:"Skrol ke bawah untuk teruskan",scroll_left:"Skrol ke kiri",scroll_right:"Skrol ke kanan",scroll_up:"Skrol ke atas",share:"Kongsi",share_on_facebook:"Kongsi di Facebook",share_on_google:"Kongsi di Google+",share_on_twitter:"Kongsi di Twitter",share_this_entry:"Cerita ini",share_this_page:"Cerita ini",show_home:"Mula",show_text:"Paparkan teks",skip_links_content:"Pergi ke isi kandungan",skip_links_navigation:"Pergi ke navigasi",skip_links_top_navigation:"Pergi ke navigasi utama",sound_hint:"Format cerita multimedia ini menggunakan rakaman video dan audio. Pastikan pembuka suara anda dihidupkan.",start_audio:"Mulakan audio sekarang",start_video:"Mulakan video sekarang",swipe_hint:"Leret untuk menelusuri antara halaman.",swipe_indicator:"Leret untuk teruskan",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Kelantangan",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},"nl-BE":{pageflow:{"public":{_language:"Nederlands (Belgi\xeb)",audio:"Audio",back:"Terug",back_to_chapter:"Terug naar hoofdstuk",before_after:{drag_hint:null,hint:"Voor / na weergave",leave_view:"Verlaat de voor / na weergave ",start:"Start de voor / na weergave",start_title:"Start de voor / na weergave"},chapter:"Hoofdstuk",chart:{toggle:"In-/uitschakelen"},close:"Sluiten",close_hint:"Hint sluiten",close_navigation:"Navigatie sluiten",close_overview:"Overzicht sluiten",cookie_notice_html:null,deprecated_browser:"<p>Uw browser is verouderd en deze pagina werkt mogelijk niet zoals verwacht. We raden u aan uw browser te upgraden naar de nieuwste versie.<p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Ingesloten video verlaten"},enlarge_view:"Weergave vergroten",enter_fullscreen:"Volledig scherm weergeven",first_page:"Eerste pagina",forward:"Verder",fullscreen:"Volledig scherm",goto_first_page:"Ga naar de eerste pagina",goto_top:"Ga naar de eerste pagina",hide_text:"Tekst verbergen",home:"Starten",imprint:"Colofon",javascript_hint:"Deze toepassing gebruikt JavaScript voor verbeterde functionaliteit en gebruikservaring. Uw browser ondersteunt JavaScript mogelijk niet of het is mogelijk uitgeschakeld.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Volledig scherm afsluiten",lets_go:"Hier gaan we",logo:"Logo",media_quality:null,mute_off:"Dempen uit",mute_on:"Dempen",navigate_top:"Ga naar eerste pagina",navigation:"Navigatie",new_pages_box:{additional_pages_html:"\u2026 en <span></span> meer",description:"Sinds uw laatste bezoek werden er pagina\u2019s toegevoegd aan deze Pageflow:",title:"Nieuwe pagina\u2019s"},notice:"Opmerking",open_audio:null,open_navigation:"Navigatie openen",open_overview:"Overzicht openen",open_video:null,overview:"Overzicht",panorama:{close:"360\xb0 panorama afsluiten en tekst weergeven",start:"360\xb0 panorama starten"},play_video:"Video afspelen",privacy_notice:null,scroll_back_indicator:null,scroll_down:"Omlaag schuiven",scroll_hint:"Gebruik het muiswiel of de pijltoetsen op uw toetsenbord om tussen pagina\u2019s te navigeren.",scroll_indicator:"Scroll om door te gaan",scroll_left:"Naar links schuiven",scroll_right:"Naar rechts schuiven",scroll_up:"Omhoog schuiven",share:"Delen",share_on_facebook:"Delen op Facebook",share_on_google:"Delen op Google+",share_on_twitter:"Delen op Twitter",share_this_entry:"Dit artikel",share_this_page:"Deze pagina",show_home:"Start",show_text:"Tekst weergeven",skip_links_content:"Ga naar inhoud",skip_links_navigation:"Ga naar navigatie",skip_links_top_navigation:"Ga naar hoofdnavigatie",sound_hint:"Dit multimediaverhaal gebruikt video- en audioclips. Ga na of uw luidsprekers ingeschakeld zijn.",start_audio:"Start audio",start_video:"Start video",swipe_hint:"Vegen om tussen pagina\u2018s te navigeren",swipe_indicator:"Vegen om verder te gaan",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Volume",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},"pl-PL":{pageflow:{"public":{_language:"Polski",audio:"Audio",back:"Powr\xf3t",back_to_chapter:"Powr\xf3t do rozdzia\u0142u",before_after:{drag_hint:null,hint:"Przed/po widoku",leave_view:"Po podgl\u0105d i poka\u017c  tekst",start:"Start widok przed/po",start_title:"Start widok przed/po"},chapter:"Rozdzia\u0142",chart:{toggle:"Powi\u0119ksz lub pomniejsz podgl\u0105d"},close:"Zamknij",close_hint:"Zamknij wskaz\xf3wk\u0119",close_navigation:"Zamknij nawigacj\u0119",close_overview:"Zamknij przegl\u0105d",cookie_notice_html:null,deprecated_browser:"<p> Szanowny uzytkowniku, </p><p>niestety u\u017cywasz starej wersji przegl\u0105darki, dlatego przygotowane tre\u015bci nie  mog\u0105 by\u0107 pokazane prawid\u0142owo.  Prosimy zaktualizowa\u0107 do nowej wersji.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Opu\u015b\u0107 wbudowane video"},enlarge_view:"Powi\u0119ksz podgl\u0105d",enter_fullscreen:"Pe\u0142ny ekran",first_page:"Pierwsza strona",forward:"Do przodu",fullscreen:"Pe\u0142ny ekran",goto_first_page:"Do pierwszej strony",goto_top:"Do pocz\u0105tku",hide_text:"Ukryj tekst",home:"Strona g\u0142\xf3wna",imprint:"Nota",javascript_hint:"Dla poprawnego dzia\u0142ania strony potrzebujesz JavaScript.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Zako\u0144cz odtwarzanie w pe\u0142nym ekranie",lets_go:"Rozpocznij",logo:"Logo",media_quality:null,mute_off:"W\u0142\u0105cz d\u017awi\u0119k",mute_on:"Wy\u0142\u0105cz d\u017awi\u0119k",navigate_top:"Do pocz\u0105tku",navigation:"Nawigacja",new_pages_box:{additional_pages_html:"...oraz <span></span>kolejne",description:"Od ostatniej wizyty to Pageflow zosta\u0142y dodane nowe strony:",title:"Nowe strony"},notice:"Wskaz\xf3wka",open_audio:null,open_navigation:"Otw\xf3rz nawigacj\u0119",open_overview:"Otw\xf3rz przegl\u0105d",open_video:null,overview:"Przegl\u0105d",panorama:{close:"Opu\u015b\u0107 widok 360\xb0 i poka\u017c tekst",start:"Otw\xf3rz widok 360\xb0"},play_video:"Odtw\xf3rz video",privacy_notice:null,scroll_back_indicator:"Przewijanie wstecz",scroll_down:"Przewi\u0144 ni\u017cej",scroll_hint:"Poprzez mysz lub strza\u0142ki na klawiaturze  zostanie przywo\u0142any kolejny rodzia\u0142 strony.",scroll_indicator:"Przewi\u0144 aby czyta\u0107 dalej",scroll_left:"Przewi\u0144 w lewo",scroll_right:"Przewi\u0144 w prawo",scroll_up:"Przewi\u0144 do g\xf3ry",share:"Udost\u0119pnij",share_on_facebook:"Udost\u0119pnij w facebook",share_on_google:"Udost\u0119pnij w Google+",share_on_twitter:"Udost\u0119pnij w Twitter",share_this_entry:"Udsot\u0119pnij",share_this_page:"Udost\u0119pnij stron\u0119",show_home:"Do strony g\u0142\xf3wnej",show_text:"Poka\u017c tekst",skip_links_content:"Do tre\u015bci",skip_links_navigation:"Do nawigacji strony",skip_links_top_navigation:"Do nawigacji g\xf3rnej",sound_hint:"W tym formacie reporta\u017cu udost\u0119pniamy obok zdj\u0119\u0107 i tre\u015bci r\xf3wnie\u017c d\u017awi\u0119k , dlatego prosimy o odpowiednie uistawienie g\u0142o\u015bnik\xf3w w systemie.",start_audio:"W\u0142\u0105cz d\u017awi\u0119k",start_video:"Rozpocznij video",swipe_hint:"Przesuni\u0119cie spowoduje przej\u015bcie do kolejnego rozdzia\u0142u",swipe_indicator:"Przesu\u0144 aby zobaczy\u0107 tekst",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"g\u0142o\u015bno\u015b\u0107",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},rm:{pageflow:{"public":{_language:"Rumantsch",audio:"Audio",back:"Enavos",back_to_chapter:"Enavos al chapitel",before_after:{drag_hint:null,hint:"Vista avant/suenter",leave_view:"Sortir da la vista avant/suenter",start:"Cumenzar cun vista avant/suenter",start_title:"Cumenzar cun vista avant/suenter"},chapter:"Chapitel",chart:{toggle:"midar"},close:"Serrar",close_hint:"Serrar tip",close_navigation:"Serrar navigaziun",close_overview:"Serrar survista",cookie_notice_html:null,deprecated_browser:"<p>Voss browser n'\xe8 betg pli actual ed i pudess esser, che questa pagina na funcziuna betg sco intenziun\xe0. Nus proponin d'actualisar Voss browser a la versiun la pli actuala.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Sortir da embedded video"},enlarge_view:"Engrondir la vista",enter_fullscreen:"Entrar en il modus da fullscreen",first_page:"Emprima pagina",forward:"Enavant",fullscreen:"Fullscreen",goto_first_page:"Ir a l'emprima pagina",goto_top:"Ir a l'emprima pagina",hide_text:"Zuppentar il text",home:"Cumenzar",imprint:"Impressum",javascript_hint:"Questa applicaziun fa diever da JavaScript per dapli funcziuns e che la chaussa saja pli pratica per l'utilisader. Forsa na sustegna Voss browser betg JavaScript ni che JavaScript pudess esser deactiv\xe0.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Sortir dal modus da fullscreen",lets_go:"Giaini!",logo:"Logo",media_quality:null,mute_off:"Pusp\xe8 tadlar!",mute_on:"Pssst!",navigate_top:"Ir a l'emprima pagina",navigation:"Navigaziun",new_pages_box:{additional_pages_html:"...e <span></span> dapli",description:"Dapi Voss'ultima visita \xe8n vegnidas agiuntadas paginas a quest pageflow:",title:"Novas paginas"},notice:"Avis",open_audio:null,open_navigation:"Avrir navigaziun",open_overview:"Survista averta",open_video:null,overview:"Survista",panorama:{close:"Serrar panorama da 360\xb0 e mussar text",start:"Cumenzar panorama da 360\xb0"},play_video:"Laschar ir video",privacy_notice:null,scroll_back_indicator:" ",scroll_down:"Scrollar engiu",scroll_hint:"Duvrar la roda sin la mieur u las frizzas sin la tastatura per navigar tranter las paginas.",scroll_indicator:"Scrollar engiu per continuar",scroll_left:"Scrollar a la sanestra",scroll_right:"Scrollar a la dretga",scroll_up:"Scrollar ensi",share:"Cundivider",share_on_facebook:"Cundivider sin Facebook",share_on_google:"Cundivider sin Google+",share_on_twitter:"Cundivider sin Twitter",share_this_entry:"Questa istorgia",share_this_page:"Questa pagina",show_home:"Cumenzar",show_text:"Mussar text",skip_links_content:"Ir al cuntegn",skip_links_navigation:"Ir a la navigaziun",skip_links_top_navigation:"Ir a la navigaziun principala",sound_hint:"Questa istorgia multimediala ha videos cun audio. Guardai d'avair activ\xe0 Voss autpledaders!",start_audio:"Laschar ir l'audio uss",start_video:"Laschar ir video uss",swipe_hint:"Far vi e n\xe0 cun il det per navigar tranter paginas",swipe_indicator:"Far vi e n\xe0 cun il det per cuntinuar",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Volumen dal tun",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},"ru-RU":{pageflow:{"public":{_language:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",audio:"\u0410\u0443\u0434\u0438\u043e",back:"\u041d\u0430\u0437\u0430\u0434 ",back_to_chapter:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0437\u0434\u0435\u043b",before_after:{drag_hint:null,hint:"\u0420\u0435\u0436\u0438\u043c \u0434\u043e/\u043f\u043e\u0441\u043b\u0435",leave_view:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0440\u0435\u0436\u0438\u043c\u0430 \u0434\u043e/\u043f\u043e\u0441\u043b\u0435",start:"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u043e/\u043f\u043e\u0441\u043b\u0435",start_title:"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u043e/\u043f\u043e\u0441\u043b\u0435"},chapter:"\u0420\u0430\u0437\u0434\u0435\u043b",chart:{toggle:"\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f"},close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",close_hint:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",close_navigation:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044e",close_overview:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u0431\u0437\u043e\u0440",cookie_notice_html:null,deprecated_browser:"<p>\u0412\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0443\u044e \u0432\u0435\u0440\u0441\u0438\u044e \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u0430, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c \u0432\u0430\u043c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u0432\u0435\u0440\u0441\u0438\u044e</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0440\u0435\u0436\u0438\u043c\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0432\u0438\u0434\u0435\u043e"},enlarge_view:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",enter_fullscreen:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u0432 \u043f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c",first_page:"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",forward:"\u0412\u043f\u0435\u0440\u0435\u0434",fullscreen:"\u041f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c",goto_first_page:"\u041d\u0430 \u043f\u0435\u0440\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",goto_top:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u043f\u0435\u0440\u0432\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",hide_text:"\u0421\u043a\u0440\u044b\u0442\u044c \u0442\u0435\u043a\u0441\u0442",home:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",imprint:"\u0412\u044b\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",javascript_hint:"\u0414\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 JavaScript.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u043f\u043e\u043b\u043d\u043e\u044d\u043a\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430",lets_go:"\u0421\u0442\u0430\u0440\u0442",logo:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",media_quality:null,mute_off:"\u0441\u043e \u0437\u0432\u0443\u043a\u043e\u043c",mute_on:"\u0431\u0435\u0437 \u0437\u0432\u0443\u043a\u0430",navigate_top:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0435\u0440\u0432\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",navigation:"\u041d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f",new_pages_box:{additional_pages_html:"\u0438 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u0442\u0435\u0433 <span></span> \u0434\u0430\u043b\u0435\u0435",description:"\u0421 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044f \u0432 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u043f\u043e\u044f\u0432\u0438\u043b\u0438\u0441\u044c \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b:",title:"\u041d\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"},notice:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435",open_audio:null,open_navigation:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044e",open_overview:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u043e\u0431\u0437\u043e\u0440",open_video:null,overview:"\u041e\u0431\u0437\u043e\u0440",panorama:{close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0436\u0438\u043c 360\xb0 \u0438 \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442",start:"\u041d\u0430\u0447\u0430\u0442\u044c \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432 \u043f\u0430\u043d\u043e\u0440\u0430\u043c\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 360\xb0"},play_video:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0438\u0434\u0435\u043e",privacy_notice:null,scroll_back_indicator:"\u0418\u043d\u0434\u0438\u043a\u0430\u0442\u043e\u0440 \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b",scroll_down:"\u041f\u0440\u043e\u043a\u0440\u0443\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437",scroll_hint:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043a\u043e\u043b\u0435\u0441\u043e \u043c\u044b\u0448\u0438 \u0438\u043b\u0438 \u0441\u0442\u0440\u0435\u043b\u043a\u0438 \u043d\u0430 \u043a\u043b\u0430\u0432\u0438\u0430\u0442\u0443\u0440\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u044c\u0441\u044f \u043c\u0435\u0436\u0434\u0443 \u0433\u043b\u0430\u0432\u0430\u043c\u0438",scroll_indicator:"\u041f\u0440\u043e\u043a\u0440\u0443\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u0437, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",scroll_left:"\u041f\u0440\u043e\u043a\u0440\u0443\u0442\u0438\u0442\u044c \u0432\u043b\u0435\u0432\u043e",scroll_right:"\u041f\u0440\u043e\u043a\u0440\u0443\u0442\u0438\u0442\u044c \u0432\u043f\u0440\u0430\u0432\u043e",scroll_up:"\u041f\u0440\u043e\u043a\u0440\u0443\u0442\u0438\u0442\u044c \u0432\u0432\u0435\u0440\u0445",share:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",share_on_facebook:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430 Facebook",share_on_google:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430 Google+",share_on_twitter:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043d\u0430 Twitter",share_this_entry:"\u044d\u0442\u0438\u043c \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u043e\u043c",share_this_page:"\u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435\u0439",show_home:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e",show_text:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442",skip_links_content:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044e",skip_links_navigation:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438",skip_links_top_navigation:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u0438",sound_hint:"\u042d\u0442\u043e\u0442 \u043c\u0443\u043b\u044c\u0442\u0438\u043c\u0435\u0434\u0438\u0439\u043d\u044b\u0439 \u0440\u0435\u043f\u043e\u0440\u0442\u0430\u0436 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0430\u0443\u0434\u0438\u043e- \u0438 \u0432\u0438\u0434\u0435\u043e\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b. \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u043d\u0430 \u0432\u0430\u0448\u0435\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d \u0437\u0432\u0443\u043a",start_audio:"\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0430\u0443\u0434\u0438\u043e",start_video:"\u0412\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u0432\u0438\u0434\u0435\u043e",swipe_hint:"\u041f\u0440\u043e\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u043b\u044c\u0446\u0435\u043c \u043f\u043e \u044d\u043a\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",swipe_indicator:"\u041f\u0440\u043e\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u043b\u044c\u0446\u0435\u043c \u043f\u043e \u044d\u043a\u0440\u0430\u043d\u0443, \u0447\u0442\u043e\u0431\u044b \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"\u0412\u0438\u0434\u0435\u043e",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"\u0413\u0440\u043e\u043c\u043a\u043e\u0441\u0442\u044c",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},sr:{pageflow:{"public":{_language:"Srpski",audio:"Zvuk",back:"Nazad",back_to_chapter:"Nazad na sekciju",before_after:{drag_hint:null,hint:"Pre/Posle stranice",leave_view:"Napusti pre/posle stranice",start:"Start pre/posle stranice",start_title:"Start pre/posle stranice"},chapter:"Sekcija",chart:{toggle:"Toggle"},close:"Zatvori",close_hint:"Zatvori hint",close_navigation:"Zatvori navigaciju",close_overview:"Zatvori overview",cookie_notice_html:null,deprecated_browser:"<p>Va\u0161 pretra\u017eiva\u010d je zastareo, ova strana ne\u0107e raditi kako je planirano. Preporu\u010dujemo da skinete poslednju verziju pretra\u017eiva\u010da.</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"Napusti embedovan video"},enlarge_view:"Uvecati stranicu",enter_fullscreen:"Prika\u017ei preko celog ekrana",first_page:"Po\u010detna strana",forward:"Napred",fullscreen:"Ceo ekran",goto_first_page:"Idi na po\u010detnu stranicu",goto_top:"Idi na prvu stranicu",hide_text:"Sakrij tekst",home:"Start",imprint:"Imprint",javascript_hint:"Ova aplikacija koristi Javascript za pobolj\u0161anu funkcionalnost i korisni\u010dki interfejs. Va\u0161 browser ne podr\u017eava JavaScript ili je mo\u017eda isklju\u010den.",languages:{ar:null,cs:null,de:null,dk:null,el:null,en:null,es:null,fr:null,it:null,nl:null,pl:null,pt:null,ru:null,sr:null,tr:null,unknown:null,zh:null},leave_fullscreen:"Napusti fullscreen mode",lets_go:"Idemo",logo:"Logo",media_quality:null,mute_off:"Unmute",mute_on:"Mute",navigate_top:"Idi na prvu stranicu",navigation:"Navigacija",new_pages_box:{additional_pages_html:"...i <span></span> dalje",description:"Od va\u0161e poslednje posete, stranice su dodate u ovaj pageflow:",title:"Nove Stranice"},notice:"Bele\u0161ka",open_audio:null,open_navigation:"Otvori navigaciju",open_overview:"Otvori detaljan pregled",open_video:null,overview:"Overview",panorama:{close:"Zatvori 360\xb0 panoramu i tekst",start:"Start 360\xb0 panoramu"},play_video:"Play video",privacy_notice:null,scroll_back_indicator:" ",scroll_down:"Skroluj dole",scroll_hint:"Koristi to\u010dki\u0107 na mi\u0161u ili strelice na tastaturi i koristite navigaciju.",scroll_indicator:"Skroluj dole za nastavak",scroll_left:"Skroluj levo",scroll_right:"Skroluj desno",scroll_up:"Skroluj gore",share:"Share",share_on_facebook:"Share on Facebook",share_on_google:"Share on Google+",share_on_twitter:"Share on Twitter",share_this_entry:"Ovaj story",share_this_page:"Ova stranica",show_home:"Start",show_text:"Prika\u017ei tekst",skip_links_content:"Idi na sekciju",skip_links_navigation:"Idi na navigaciju",skip_links_top_navigation:"Idi na glavnu navigaciju",sound_hint:"Ovaj format multimedia story koristi video i audio sadr\u017eaj. Molimo vas obratite pa\u017enju da li su vam uklju\u010deni zvu\u010dnici.",start_audio:"Start audio now",start_video:"Start video now",swipe_hint:"Swipe za navigaciju izme\u0111u strana.",swipe_indicator:"Swipe za nastavak",swipe_to_continue:null,text_track_modes:{auto:null,auto_off:null,none:null},text_tracks:null,toggle_info_box:null,video:"Video",video_qualities:{annotations:{"4k":null,fullhd:null,medium:null},labels:{"4k":null,auto:null,fullhd:null,medium:null}},volume:"Zvuk",vr:{no_vr:{link:null,text:null},select_quality:null,start:null,start_cardboard:null,video_qualities:{"4k":null,fullhd:null,high:null},video_quality_annotations:{"4k":null,fullhd:null,high:null}}}}},zh:{pageflow:{"public":{_language:"\u4e2d\u56fd",audio:"\u97f3\u9891",back:"\u8fd4\u56de",back_to_chapter:"\u8fd4\u56de\u7ae0\u8282",before_after:{drag_hint:"\u62d6\u52a8\u63d0\u793a",hint:"\u524d/\u540e \u67e5\u770b",leave_view:"\u79bb\u5f00 \u524d/\u540e \u67e5\u770b",start:"\u5f00\u59cb \u524d/\u540e \u67e5\u770b",start_title:"\u5f00\u59cb \u524d/\u540e \u67e5\u770b"},chapter:"\u7ae0\u8282",chart:{toggle:"\u5f00\u5173"},close:"\u5173\u95ed",close_hint:"\u5173\u95ed\u63d0\u793a",close_navigation:"\u5173\u95ed\u5bfc\u822a",close_overview:"\u5173\u95ed\u6982\u8ff0",cookie_notice_html:null,deprecated_browser:"<p>\u60a8\u7684\u6d4f\u89c8\u5668\u5df2\u7ecf\u8fc7\u65f6\uff0c\u8be5\u754c\u9762\u6216\u8bb8\u4e0d\u80fd\u6b63\u5e38\u5de5\u4f5c. \u6211\u4eec\u5efa\u8bae\u60a8\u5347\u7ea7\u60a8\u7684\u6d4f\u89c8\u5668\u7248\u672c</p>",dismiss_cookie_notice:null,embedded_video:{leave_video:"\u79bb\u5f00\u5d4c\u5165\u7684\u89c6\u9891"},enlarge_view:"\u8fdb\u5165\u5927\u56fe\u6a21\u5f0f",enter_fullscreen:"\u8fdb\u5165\u5168\u5c4f\u6a21\u5f0f",first_page:"\u9996\u9875",forward:"\u524d\u4e00\u9875",fullscreen:"\u5168\u5c4f",goto_first_page:"\u8fdb\u5165\u7b2c\u4e00\u9875",goto_top:"\u8fdb\u5165\u7b2c\u4e00\u9875",hide_text:"\u9690\u85cf\u6587\u672c",home:"\u5f00\u59cb",imprint:"\u76d6\u7ae0",javascript_hint:"\u672c\u5e94\u7528\u4f7f\u7528JavaScript\u5de5\u5177\u589e\u5f3a\u7528\u6237\u4f53\u9a8c\u548c\u529f\u80fd\u3002\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301JavaScript\u6216\u8005\u5df2\u7981\u7528\u3002",languages:{ar:"\u963f\u62c9\u4f2f",cs:"\u6377\u514b",de:"\u5fb7\u56fd",dk:"\u4e39\u9ea6",el:"\u5e0c\u814a",
en:"\u82f1\u683c\u5170",es:"\u897f\u73ed\u7259",fr:"\u6cd5\u56fd",it:"\u610f\u5927\u5229",nl:"\u8377\u5170",pl:"\u6ce2\u5170",pt:"\u8461\u8404\u7259",ru:"\u4fc4\u7f57\u65af",sr:"\u585e\u5c14\u7ef4\u4e9a",tr:"\u571f\u8033\u5176",unknown:"\u672a\u77e5",zh:"\u4e2d\u56fd"},leave_fullscreen:"\u9000\u51fa\u5168\u5c4f",lets_go:"\u4e00\u8d77\u8d70",logo:"\u6807\u5fd7",media_quality:"\u8d28\u91cf",mute_off:"\u53d6\u6d88\u9759\u97f3",mute_on:"\u9759\u97f3",navigate_top:"\u8fdb\u5165\u7b2c\u4e00\u9875",navigation:"\u5bfc\u822a",new_pages_box:{additional_pages_html:"...\u548c <span></span> \u66f4\u591a",description:"\u4ece\u4f60\u4e0a\u6b21\u8bbf\u95ee\u540e\uff0c\u754c\u9762\u5df2\u7ecf\u88ab\u52a0\u5230\u9875\u9762\u6d41:",title:"\u65b0\u754c\u9762"},notice:"\u901a\u77e5",open_audio:"\u6253\u5f00\u97f3\u9891",open_navigation:"\u6253\u5f00\u5bfc\u822a",open_overview:"\u6253\u5f00\u7f29\u7565\u56fe",open_video:"\u6253\u5f00\u89c6\u9891",overview:"\u7f29\u7565\u56fe",panorama:{close:"\u5173\u95ed 360\xb0 \u5168\u666f\u5e76\u663e\u793a\u6587\u5b57",start:"\u6253\u5f00 360\xb0 \u5168\u666f"},play_video:"\u64ad\u653e\u89c6\u9891",privacy_notice:"\u9690\u79c1\u58f0\u660e",scroll_back_indicator:" ",scroll_down:"\u5411\u4e0b\u6eda\u52a8",scroll_hint:"\u4f7f\u7528\u9f20\u6807\u6eda\u8f6e\u6216\u952e\u76d8\u4e0a\u7684\u65b9\u5411\u952e\u8fdb\u884c\u754c\u9762\u95f4\u7684\u5207\u6362\u3002",scroll_indicator:"\u7ee7\u7eed\u5411\u4e0b\u6eda\u52a8",scroll_left:"\u5411\u5de6\u6eda\u52a8",scroll_right:"\u5411\u53f3\u6eda\u52a8",scroll_up:"\u5411\u4e0a\u6eda\u52a8",share:"\u5206\u4eab",share_on_facebook:"\u5206\u4eab\u5230 Facebook",share_on_google:"\u5206\u4eab\u5230 Google+",share_on_twitter:"\u5206\u4eab\u5230 Twitter",share_this_entry:"\u8fd9\u4e2a\u6545\u4e8b",share_this_page:"\u8fd9\u4e2a\u754c\u9762",show_home:"\u5f00\u59cb",show_text:"\u663e\u793a\u6587\u5b57",skip_links_content:"\u67e5\u770b\u5185\u5bb9",skip_links_navigation:"\u8df3\u8f6c\u5230\u5bfc\u822a",skip_links_top_navigation:"\u8df3\u8f6c\u5230\u4e3b\u5bfc\u822a",sound_hint:"\u8fd9\u4e2a\u591a\u5a92\u4f53\u6545\u4e8b\u9700\u8981\u97f3\u9891\u548c\u89c6\u9891\u64ad\u653e\u3002\u8bf7\u786e\u8ba4\u8bdd\u7b52\u548c\u97f3\u54cd\u5f00\u542f\u72b6\u6001\u3002",start_audio:"\u7acb\u5373\u64ad\u653e\u97f3\u9891",start_video:"\u7acb\u5373\u64ad\u653e\u89c6\u9891",swipe_hint:"\u6ed1\u52a8\u754c\u9762\u95f4\u5bfc\u822a",swipe_indicator:"\u7ee7\u7eed\u6ed1\u52a8",swipe_to_continue:null,text_track_modes:{auto:"\u81ea\u52a8 (%{label})",auto_off:"\u81ea\u52a8 (\u5173\u95ed)",none:"(\u65e0)"},text_tracks:"\u5b50\u6807\u9898",toggle_info_box:"\u5207\u6362\u4fe1\u606f\u6846",video:"\u89c6\u9891",video_qualities:{annotations:{"4k":"4K",fullhd:"\u9ad8\u6e05",medium:"\u9ad8\u6e05"},labels:{"4k":"2160p",auto:"\u81ea\u52a8",fullhd:"1080p",medium:"720p"}},volume:"\u97f3\u91cf",vr:{no_vr:{link:"\u5c55\u793a\u89c6\u9891\u5728Youtube\u5e94\u7528",text:"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u64ad\u653e360\xb0\u89c6\u9891"},select_quality:"\u9009\u62e9\u89c6\u9891\u8d28\u91cf",start:"\u89c2\u770b360\xb0\u89c6\u9891",start_cardboard:"\u5f00\u542f\u5361\u7247\u6a21\u5f0f",video_qualities:{"4k":"2160s",fullhd:"1080s",high:"720s"},video_quality_annotations:{"4k":"4K",fullhd:"\u9ad8\u6e05",high:"\u9ad8\u6e05"}}}}}},function(){var a,o;(a="undefined"!=typeof exports?exports:this.Cocktail={}).mixins={},a.mixin=function t(i){var e=_.chain(arguments).toArray().rest().flatten().value(),n={};_(e).each(function(e){_.isString(e)&&(e=a.mixins[e]),_(e).each(function(e,t){_.isFunction(e)?(i.prototype[t]&&(n[t]=n[t]||[i.prototype[t]],n[t].push(e)),i.prototype[t]=e):_.isObject(e)&&(i.prototype[t]=_.extend({},e,i.prototype[t]||{}))})}),_(n).each(function(e,t){i.prototype[t]=function(){var i=this,n=arguments,a=undefined;return _(e).each(function(e){var t=_.isFunction(e)?e.apply(i,n):e;a=t===undefined?a:t}),a}})},a.patch=function n(e){o=e.Model.extend;var i=function(e,t){var i=o.call(this,e,t),n=i.prototype.mixins;return n&&i.prototype.hasOwnProperty("mixins")&&a.mixin(i,n),i};_([e.Model,e.Collection,e.Router,e.View]).each(function(e){e.mixin=function t(){a.mixin(this,_.toArray(arguments))},e.extend=i})},a.unpatch=function i(e){_([e.Model,e.Collection,e.Router,e.View]).each(function(e){e.mixin=undefined,e.extend=o})},a.patch(Backbone)}(),Backbone.ChildViewContainer=function(e,n){var i=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),n.each(e,this.add,this)};n.extend(i.prototype,{add:function(e,t){var i=e.cid;(this._views[i]=e).model&&(this._indexByModel[e.model.cid]=i),t&&(this._indexByCustom[t]=i),this._updateLength()},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return n.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var i=e.cid;e.model&&delete this._indexByModel[e.model.cid],n.any(this._indexByCustom,function(e,t){if(e===i)return delete this._indexByCustom[t],!0},this),delete this._views[i],this._updateLength()},call:function(e){this.apply(e,n.tail(arguments))},apply:function(t,i){n.each(this._views,function(e){n.isFunction(e[t])&&e[t].apply(e,i||[])})},_updateLength:function(){this.length=n.size(this._views)}});var t=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return n.each(t,function(t){i.prototype[t]=function(){var e=[n.values(this._views)].concat(n.toArray(arguments));return n[t].apply(n,e)}}),i}(Backbone,_),Backbone.Wreqr=function(e,t,a){"use strict";var i,n,o,s,r,l,d,u,c={};return c.Handlers=(i=e,n=a,(o=function(e){this.options=e,this._wreqrHandlers={},n.isFunction(this.initialize)&&this.initialize(e)}).extend=i.Model.extend,n.extend(o.prototype,i.Events,{setHandlers:function(e){n.each(e,function(e,t){var i=null;n.isObject(e)&&!n.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(t,e,i)},this)},setHandler:function(e,t,i){var n={callback:t,context:i};this._wreqrHandlers[e]=n,this.trigger("handler:add",e,t,i)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)throw new Error("Handler not found for '"+e+"'");return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),o),c.CommandStorage=(s=function(e){this.options=e,this._commands={},a.isFunction(this.initialize)&&this.initialize(e)},a.extend(s.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),s),c.Commands=(r=c).Handlers.extend({storageType:r.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var t=Array.prototype.slice.call(arguments);r.Handlers.prototype.constructor.apply(this,t)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,i){var n=this.storage.getCommands(e);a.each(n.instances,function(e){t.apply(i,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,i=e.storageType||this.storageType;t=a.isFunction(i)?new i:i,this.storage=t}}),c.RequestResponse=c.Handlers.extend({request:function(e){var t=e,i=Array.prototype.slice.call(arguments,1);return this.getHandler(t).apply(this,i)}}),c.EventAggregator=(l=e,d=a,(u=function(){}).extend=l.Model.extend,d.extend(u.prototype,l.Events),u),c}(Backbone,Backbone.Marionette,_);var Marionette=function(e,n,d){"use strict";function r(e){return a.call(e)}function l(e,t){var i=new Error(e);throw i.name=t||"Error",i}var o={};(n.Marionette=o).$=n.$;var s,i,t,a=Array.prototype.slice;return o.extend=n.Model.extend,o.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&e.options[t]!==undefined?e.options[t]:e[t]},o.triggerMethod=function(){function i(e,t,i){return i.toUpperCase()}var n=/(^|:)(\w)/gi;return function(e){var t=this["on"+e.replace(n,i)];if(d.isFunction(this.trigger)&&this.trigger.apply(this,arguments),d.isFunction(t))return t.apply(this,d.tail(arguments))}}(),o.MonitorDOMRefresh=function(){function t(e){e._isShown=!0,n(e)}function i(e){e._isRendered=!0,n(e)}function n(e){e._isShown&&e._isRendered&&d.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){i(e)})}}(),function(e){function n(i,n,a,e){var t=e.split(/\s+/);d.each(t,function(e){var t=i[e];t||l("Method '"+e+"' was configured as an event handler, but does not exist."),i.listenTo(n,a,t,i)})}function a(e,t,i,n){e.listenTo(t,i,n,e)}function o(i,n,a,e){var t=e.split(/\s+/);d.each(t,function(e){var t=i[e];i.stopListening(n,a,t,i)})}function s(e,t,i,n){e.stopListening(t,i,n,e)}function r(i,n,e,a,o){n&&e&&(d.isFunction(e)&&(e=e.call(i)),d.each(e,function(e,t){d.isFunction(e)?a(i,n,t,e):o(i,n,t,e)}))}e.bindEntityEvents=function(e,t,i){r(e,t,i,a,n)},e.unbindEntityEvents=function(e,t,i){r(e,t,i,s,o)}}(o),o.Callbacks=function(){this._deferred=o.$.Deferred(),this._callbacks=[]},d.extend(o.Callbacks.prototype,{add:function(i,n){this._callbacks.push({cb:i,ctx:n}),this._deferred.done(function(e,t){n&&(e=n),i.call(e,t)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=o.$.Deferred(),this._callbacks=[],d.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),o.Controller=function(e){this.triggerMethod=o.triggerMethod,this.options=e||{},d.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,d.extend(o.Controller.prototype,n.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),o.Region=function(e){if(this.options=e||{},this.el=o.getOption(this,"el"),!this.el){var t=new Error("An 'el' must be specified for a region.");throw t.name="NoElError",t}if(this.initialize){var i=Array.prototype.slice.apply(arguments);this.initialize.apply(this,i)}},d.extend(o.Region,{buildRegion:function(i,e){var t,n,a="string"==typeof i,o="string"==typeof i.selector,s="undefined"==typeof i.regionType,r="function"==typeof i;if(!r&&!a&&!o)throw new Error("Region must be specified as a Region type, a selector string or an object with selector property");a&&(t=i),i.selector&&(t=i.selector),r&&(n=i),!r&&s&&(n=e),i.regionType&&(n=i.regionType);var l=new n({el:t});return i.parentEl&&(l.getEl=function(e){var t=i.parentEl;return d.isFunction(t)&&(t=t()),t.find(e)}),l}}),d.extend(o.Region.prototype,n.Events,{show:function(e){this.ensureEl();var t=e.isClosed||d.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,o.triggerMethod.call(this,"show",e),o.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return o.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),o.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),o.Region.extend=o.extend,o.RegionManager=(i=(s=o).Controller.extend({constructor:function(e){this._regions={},s.Controller.prototype.constructor.call(this,e)},addRegions:function(e,n){var a={};return d.each(e,function(e,t){"string"==typeof e&&(e={selector:e}),e.selector&&(e=d.defaults({},e,n));var i=this.addRegion(t,e);a[t]=i},this),a},addRegion:function(e,t){var i,n=d.isObject(t),a=d.isString(t),o=!!t.selector;return i=a||n&&o?s.Region.buildRegion(t,s.Region):d.isFunction(t)?s.Region.buildRegion(t,s.Region):t,this._store(e,i),this.triggerMethod("region:add",e,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){d.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){d.each(this._regions,function(e){e.close()},this)},close:function(){this.removeRegions();var e=Array.prototype.slice.call(arguments);s.Controller.prototype.close.apply(this,e)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=d.size(this._regions)}}),t=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],d.each(t,function(t){i.prototype[t]=function(){var e=[d.values(this._regions)].concat(d.toArray(arguments));return d[t].apply(d,e)}}),i),o.TemplateCache=function(e){this.templateId=e},d.extend(o.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new o.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=r(arguments),i=t.length;if(0<i)for(e=0;e<i;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),d.extend(o.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=o.$(e).html();return t&&0!==t.length||l("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return d.template(e)}}),o.Renderer={render:function(e,t){if(e)return("function"==typeof e?e:o.TemplateCache.get(e))(t);var i=new Error("Cannot render the template since it's false, null or undefined.");throw i.name="TemplateNotFoundError",i}},o.View=n.View.extend({constructor:function(){d.bindAll(this,"render");var e=Array.prototype.slice.apply(arguments);n.View.prototype.constructor.apply(this,e),o.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:o.triggerMethod,getTemplate:function(){return o.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=o.getOption(this,"templateHelpers");return d.isFunction(t)&&(t=t.call(this)),d.extend(e,t)},configureTriggers:function(){if(this.triggers){var t={},e=d.result(this,"triggers");return d.each(e,function(i,e){t[e]=function(e){e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation();var t={view:this,model:this.model,collection:this.collection};this.triggerMethod(i,t)}},this),t}},delegateEvents:function(e){this._delegateDOMEvents(e),o.bindEntityEvents(this,this.model,o.getOption(this,"modelEvents")),o.bindEntityEvents(this,this.collection,o.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,d.isFunction(e)&&(e=e.call(this));var t={},i=this.configureTriggers();d.extend(t,e,i),n.View.prototype.delegateEvents.call(this,t)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);n.View.prototype.undelegateEvents.apply(this,e),o.unbindEntityEvents(this,this.model,o.getOption(this,"modelEvents")),o.unbindEntityEvents(this,this.collection,o.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var i=d.result(this,"_uiBindings");this.ui={},d.each(d.keys(i),function(e){var t=i[e];this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(d.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),o.ItemView=o.View.extend({constructor:function(){o.View.prototype.constructor.apply(this,r(arguments))},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),i=o.Renderer.render(t,e);return this.$el.html(i),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),o.View.prototype.close.apply(this,r(arguments)),this.triggerMethod("item:closed"))}}),o.CollectionView=o.View.extend({itemViewEventPrefix:"itemview",constructor:function(){this._initChildViewStorage(),o.View.prototype.constructor.apply(this,r(arguments)),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(e){this.closeEmptyView();var t=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,t,i)},onShowCalled:function(){this.children.each(function(e){o.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&0<this.collection.length?this.showCollection():this.showEmptyView()},showCollection:function(){var i;this.collection.each(function(e,t){i=this.getItemView(e),this.addItemView(e,i,t)},this)},showEmptyView:function(){var e=o.getOption(this,"emptyView");if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var t=new n.Model;this.addItemView(t,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(){var e=o.getOption(this,"itemView");return e||l("An `itemView` must be specified","NoItemViewError"),e},addItemView:function(e,t,i){var n=o.getOption(this,"itemViewOptions");d.isFunction(n)&&(n=n.call(this,e,i));var a=this.buildItemView(e,t,n);this.addChildViewEventForwarding(a),this.triggerMethod("before:item:added",a),this.children.add(a),this.renderItemView(a,i),this._isShown&&o.triggerMethod.call(a,"show"),this.triggerMethod("after:item:added",a)},addChildViewEventForwarding:function(t){var i=o.getOption(this,"itemViewEventPrefix");this.listenTo(t,"all",function(){var e=r(arguments);e[0]=i+":"+e[0],e.splice(1,0,t),o.triggerMethod.apply(this,e)},this)},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){return new t(d.extend({model:e},i))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendHtml:function(e,t){e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new n.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),o.View.prototype.close.apply(this,r(arguments)))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.prototype.constructor.apply(this,r(arguments))},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(){var e=o.getOption(this,"itemView")||this.constructor;return e||l("An `itemView` must be specified","NoItemViewError"),e},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(o.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return o.Renderer.render(t,e)},appendHtml:function(e,t){this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=o.getOption(e,"itemViewContainer");if(i){var n=d.isFunction(i)?i():i;(t=e.$(n)).length<=0&&l("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),o.Layout=o.ItemView.extend({regionType:o.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),o.ItemView.prototype.constructor.call(this,e)},render:function(){this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var e=Array.prototype.slice.apply(arguments);return o.ItemView.prototype.render.apply(this,e)},close:function(){if(!this.isClosed){this.regionManager.close();var e=Array.prototype.slice.apply(arguments);o.ItemView.prototype.close.apply(this,e)}},addRegion:function(e,t){var i={};return i[e]=t,this._buildRegions(i)[e]},addRegions:function(e){return this.regions=d.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,i={regionType:o.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,i)},_initializeRegions:function(e){var t;this._initRegionManager(),t=d.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new o.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),o.AppRouter=n.Router.extend({constructor:function(e){n.Router.prototype.constructor.apply(this,r(arguments)),this.options=e||{};var t=o.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,t)},appRoute:function(e,t){var i=this._getController();this._addAppRoute(i,e,t)},processAppRoutes:function(t,i){if(i){var e=d.keys(i).reverse();d.each(e,function(e){this._addAppRoute(t,e,i[e])},this)}},_getController:function(){return o.getOption(this,"controller")},_addAppRoute:function(e,t,i){var n=e[i];if(!n)throw new Error("Method '"+i+"' was not found on the controller");this.route(t,i,d.bind(n,e))}}),o.Application=function(e){this._initRegionManager(),this._initCallbacks=new o.Callbacks,this.vent=new n.Wreqr.EventAggregator,this.commands=new n.Wreqr.Commands,this.reqres=new n.Wreqr.RequestResponse,this.submodules={},d.extend(this,e),this.triggerMethod=o.triggerMethod},d.extend(o.Application.prototype,n.Events,{execute:function(){var e=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,e)},request:function(){var e=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,e)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(){var e=r(arguments);return e.unshift(this),o.Module.create.apply(o.Module,e)},_initRegionManager:function(){this._regionManager=new o.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e){delete this[e]})}}),o.Application.extend=o.extend,o.Module=function(e,t){this.moduleName=e,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=o.triggerMethod},d.extend(o.Module.prototype,n.Events,{addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(t){this._isInitialized||(d.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,o.triggerMethod.call(this,"before:stop"),d.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),o.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,t){if(e){var i=d.flatten([this,this.app,n,o,o.$,d,t]);e.apply(this,i)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks}}),d.extend(o.Module,{create:function(n,e,t){var a=n,o=r(arguments);o.splice(0,3);var i=(e=e.split(".")).length,s=[];return s[i-1]=t,d.each(e,function(e,t){var i=a;a=this._getModule(i,e,n),this._addModuleDefinition(i,a,s[t],o)},this),a},_getModule:function(e,t,i){var n=e[t];return n||(n=new o.Module(t,i),e[t]=n,e.submodules[t]=n),n},_addModuleDefinition:function(e,t,i,n){var a,o;o=d.isFunction(i)?(a=i,!0):!d.isObject(i)||(a=i.define,i.startWithParent),a&&t.addDefinition(a,n),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),o}(0,Backbone,_);window.pageflow=window.pageflow||{},function(){if(Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),!Element.prototype.addEventListener){var s=[],e=function(e,t){var i=this,n=function(e){e.target=e.srcElement,e.currentTarget=i,t.handleEvent?t.handleEvent(e):t.call(i,e)};if("DOMContentLoaded"==e){var a=function(e){"complete"==document.readyState&&n(e)};if(document.attachEvent("onreadystatechange",a),s.push({object:this,type:e,listener:t,wrapper:a}),"complete"==document.readyState){var o=new Event;o.srcElement=window,a(o)}}else this.attachEvent("on"+e,n),s.push({object:this,type:e,listener:t,wrapper:n})},t=function(e,t){for(var i=0;i<s.length;){var n=s[i];if(n.object==this&&n.type==e&&n.listener==t){"DOMContentLoaded"==e?this.detachEvent("onreadystatechange",n.wrapper):this.detachEvent("on"+e,n.wrapper),s.splice(i,1);break}++i}};Element.prototype.addEventListener=e,Element.prototype.removeEventListener=t,HTMLDocument&&(HTMLDocument.prototype.addEventListener=e,HTMLDocument.prototype.removeEventListener=t),Window&&(Window.prototype.addEventListener=e,Window.prototype.removeEventListener=t)}}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return t.get.call(this)},set:function(e){return t.set.call(this,e)}})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a});var wysihtml5={version:"0.4.17",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",INVISIBLE_SPACE_REG_EXP:/\uFEFF/g,EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,TAB_KEY:9,DELETE_KEY:46};!function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){function d(e,t){var i=typeof e[t];return i==v||!(i!=b||!e[t])||"unknown"==i}function t(e,t){return!(typeof e[t]!=b||!e[t])}function e(e,t){return typeof e[t]!=y}function i(n){return function(e,t){for(var i=t.length;i--;)if(!n(e,t[i]))return!1;return!0}}function u(e){return e&&T(e,S)&&P(e,C)}function c(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function h(e){typeof console!=y&&d(console,"log")&&console.log(e)}function n(e,t){E&&t?alert(e):h(e)}function p(e){D.initialized=!0,D.supported=!1,n("Rangy is not supported in this environment. Reason: "+e,D.config.alertOnFail)}function a(e){n("Rangy warning: "+e,D.config.alertOnWarn)}function g(e){return e.message||e.description||String(e)}function o(){if(E&&!D.initialized){var e,t=!1,i=!1;d(document,"createRange")&&(e=document.createRange(),T(e,x)&&P(e,k)&&(t=!0));var n=c(document);if(n&&"body"==n.nodeName.toLowerCase())if(n&&d(n,"createTextRange")&&u(e=n.createTextRange())&&(i=!0),t||i){var a;for(var o in D.initialized=!0,D.features={implementsDomRange:t,implementsTextRange:i},z)(a=z[o])instanceof f&&a.init(a,D);for(var s=0,r=A.length;s<r;++s)try{A[s](D)}catch(l){h("Rangy init listener threw an exception. Continuing. Detail: "+g(l))}}else p("Neither Range nor TextRange are available");else p("No body element found")}}function s(e){e=e||window,o();for(var t=0,i=R.length;t<i;++t)R[t](e)}function f(e,t,i){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=i}function r(n,e,a){var t=new f(n,e,function(e){if(!e.initialized){e.initialized=!0;try{a(D,e),e.supported=!0}catch(i){var t="Module '"+n+"' failed to load: "+g(i);h(t),i.stack&&h(i.stack)}}});return z[n]=t}function l(){}function m(){}var _,w,b="object",v="function",y="undefined",k=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],x=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],C=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],T=i(d),I=i(t),P=i(e),z={},E=typeof window!=y&&typeof document!=y,N={isHostMethod:d,isHostObject:t,isHostProperty:e,areHostMethods:T,areHostObjects:I,areHostProperties:P,isTextRange:u,getBody:c},D={version:"1.3.0-alpha.20140921",initialized:!1,isBrowser:E,supported:!0,util:N,features:{},modules:z,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==y||rangyAutoInitialize}};D.fail=p,D.warn=a,!{}.hasOwnProperty?p("hasOwnProperty not supported"):(N.extend=_=function(e,t,i){var n,a;for(var o in t)t.hasOwnProperty(o)&&(n=e[o],a=t[o],i&&null!==n&&"object"==typeof n&&null!==a&&"object"==typeof a&&_(n,a,!0),e[o]=a);return t.hasOwnProperty("toString")&&(
e.toString=t.toString),e},N.createOptions=function(e,t){var i={};return _(i,t),e&&_(i,e),i}),E||p("Rangy can only run in a browser"),function(){var e;if(E){var t=document.createElement("div");t.appendChild(document.createElement("span"));var i=[].slice;try{1==i.call(t.childNodes,0)[0].nodeType&&(e=function(e){return i.call(e,0)})}catch(n){}}e||(e=function(e){for(var t=[],i=0,n=e.length;i<n;++i)t[i]=e[i];return t}),N.toArray=e}(),E&&(d(document,"addEventListener")?w=function(e,t,i){e.addEventListener(t,i,!1)}:d(document,"attachEvent")?w=function(e,t,i){e.attachEvent("on"+t,i)}:p("Document does not have required addEventListener or attachEvent method"),N.addListener=w);var A=[];D.init=o,D.addInitListener=function(e){D.initialized?e(D):A.push(e)};var R=[];D.addShimListener=function(e){R.push(e)},E&&(D.shim=D.createMissingNativeApi=s),f.prototype={init:function(){for(var e,t,i=this.dependencies||[],n=0,a=i.length;n<a;++n){if(t=i[n],!((e=z[t])&&e instanceof f))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},warn:function(e){D.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){D.warn("DEPRECATED: "+e+" in module "+this.name+"is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},D.createModule=function(e,t,i){var n,a=r(e,2==arguments.length?(n=t,[]):(n=i,t),n);D.initialized&&D.supported&&a.init()},D.createCoreModule=function(e,t,i){r(e,t,i)},D.RangePrototype=l,D.rangePrototype=new l,D.selectionPrototype=new m,D.createCoreModule("DomUtil",[],function(i,d){function e(e){var t;return typeof e.namespaceURI==z||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function t(e){var t=e.parentNode;return 1==t.nodeType?t:null}function u(e){for(var t=0;e=e.previousSibling;)++t;return t}function n(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function c(e,t){var i,n=[];for(i=e;i;i=i.parentNode)n.push(i);for(i=t;i;i=i.parentNode)if(R(n,i))return i;return null}function a(e,t,i){for(var n=i?t:t.parentNode;n;){if(n===e)return!0;n=n.parentNode}return!1}function o(e,t){return a(e,t,!0)}function h(e,t,i){for(var n,a=i?e:e.parentNode;a;){if((n=a.parentNode)===t)return a;a=n}return null}function s(e){var t=e.nodeType;return 3==t||4==t||8==t}function r(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function l(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e}function p(e,t,i){var n=e.cloneNode(!1);if(n.deleteData(0,t),e.deleteData(t,e.length-t),l(n,e),i)for(var a,o=0;a=i[o++];)a.node==e&&a.offset>t?(a.node=n,a.offset-=t):a.node==e.parentNode&&a.offset>u(e)&&++a.offset;return n}function g(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=z)return e.ownerDocument;if(typeof e.document!=z)return e.document;if(e.parentNode)return g(e.parentNode);throw d.createError("getDocument: no document found for node")}function f(e){var t=g(e);if(typeof t.defaultView!=z)return t.defaultView;if(typeof t.parentWindow!=z)return t.parentWindow;throw d.createError("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=z)return e.contentDocument;if(typeof e.contentWindow!=z)return e.contentWindow.document;throw d.createError("getIframeDocument: No Document object found for iframe element")}function _(e){if(typeof e.contentWindow!=z)return e.contentWindow;if(typeof e.contentDocument!=z)return e.contentDocument.defaultView;throw d.createError("getIframeWindow: No Window object found for iframe element")}function w(e){return e&&E.isHostMethod(e,"setTimeout")&&E.isHostObject(e,"document")}function b(e,t,i){var n;if(e?E.isHostProperty(e,"nodeType")?n=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?m(e):g(e):w(e)&&(n=e.document):n=document,!n)throw t.createError(i+"(): Parameter must be a Window object or DOM node");return n}function v(e){for(var t;t=e.parentNode;)e=t;return e}function y(e,t,i,n){var a,o,s,r,l;if(e==i)return t===n?0:t<n?-1:1;if(a=h(i,e,!0))return t<=u(a)?-1:1;if(a=h(e,i,!0))return u(a)<n?-1:1;if(!(o=c(e,i)))throw new Error("comparePoints error: nodes have no common ancestor");if((s=e===o?o:h(e,o,!0))===(r=i===o?o:h(i,o,!0)))throw d.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=o.firstChild;l;){if(l===s)return-1;if(l===r)return 1;l=l.nextSibling}}function k(e){try{return e.parentNode,!1}catch(t){return!0}}function x(e){if(!e)return"[No node]";if(B&&k(e))return"[Broken node]";if(s(e))return'"'+e.data+'"';if(1!=e.nodeType)return e.nodeName;var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+u(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}function C(e){for(var t,i=g(e).createDocumentFragment();t=e.firstChild;)i.appendChild(t);return i}function S(e){this.root=e,this._next=e}function T(e){return new S(e)}function I(e,t){this.node=e,this.offset=t}function P(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var z="undefined",E=i.util;E.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||d.fail("document missing a Node creation method"),E.isHostMethod(document,"getElementsByTagName")||d.fail("document missing getElementsByTagName method");var N=document.createElement("div");E.areHostMethods(N,["insertBefore","appendChild","cloneNode"])||d.fail("Incomplete Element implementation"),E.isHostProperty(N,"innerHTML")||d.fail("Element is missing innerHTML property");var D=document.createTextNode("test");E.areHostMethods(D,["splitText","deleteData","insertData","appendData","cloneNode"])||d.fail("Incomplete Text Node implementation");var A,R=function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1},B=!1;!function(){var e=document.createElement("b");e.innerHTML="1";var t=e.firstChild;e.innerHTML="<br>",B=k(t),i.features.crashyTextNodes=B}(),typeof window.getComputedStyle!=z?A=function(e,t){return f(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=z?A=function(e,t){return e.currentStyle[t]}:d.fail("No means of obtaining computed style properties found"),S.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,i=this._current=this._next;if(this._current)if(e=i.firstChild)this._next=e;else{for(t=null;i!==this.root&&!(t=i.nextSibling);)i=i.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},I.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+x(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},P.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},P.prototype.toString=function(){return this.message},i.dom={arrayContains:R,isHtmlNamespace:e,parentElement:t,getNodeIndex:u,getNodeLength:n,getCommonAncestor:c,isAncestorOf:a,isOrIsAncestorOf:o,getClosestAncestorIn:h,isCharacterDataNode:s,isTextOrCommentNode:r,insertAfter:l,splitDataNode:p,getDocument:g,getWindow:f,getIframeWindow:_,getIframeDocument:m,getBody:E.getBody,isWindow:w,getContentDocument:b,getRootContainer:v,comparePoints:y,isBrokenNode:k,inspectNode:x,getComputedStyleProperty:A,fragmentFromNodeChildren:C,createIterator:T,DomPosition:I},i.DOMException=P}),D.createCoreModule("DomRange",["DomUtil"],function(s){function n(e,t){return 3!=e.nodeType&&(H(e,t.startContainer)||H(e,t.endContainer))}function r(e){return e.document||O(e.startContainer)}function l(e){return new V(e.parentNode,F(e))}function u(e){return new V(e.parentNode,F(e)+1)}function i(e,t,i){var n=11==e.nodeType?e.firstChild:e;return L(t)?i==t.length?R.insertAfter(e,t):t.parentNode.insertBefore(e,0==i?t:$(t,i)):i>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[i]),n}function t(e,t,i){if(C(e),C(t),r(t)!=r(e))throw new M("WRONG_DOCUMENT_ERR");var n=j(e.startContainer,e.startOffset,t.endContainer,t.endOffset),a=j(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return i?n<=0&&0<=a:n<0&&0<a}function o(e){for(var t,i,n,a=r(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(n=e.getSubtreeIterator(),i.appendChild(o(n)),n.detach()),10==i.nodeType)throw new M("HIERARCHY_REQUEST_ERR");a.appendChild(i)}return a}function d(e,t,i){var n,a,o,s;for(i=i||{stop:!1};o=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(o))return void(i.stop=!0);if(d(s=e.getSubtreeIterator(),t,i),s.detach(),i.stop)return}else for(n=R.createIterator(o);a=n.next();)if(!1===t(a))return void(i.stop=!0)}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(c(t=e.getSubtreeIterator()),t.detach()):e.remove()}function h(e){for(var t,i,n=r(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(h(i)),i.detach()):e.remove(),10==t.nodeType)throw new M("HIERARCHY_REQUEST_ERR");n.appendChild(t)}return n}function a(n,e,a){var o,s=!(!e||!e.length),r=!!a;s&&(o=new RegExp("^("+e.join("|")+")$"));var l=[];return d(new p(n,!1),function(e){if((!s||o.test(e.nodeType))&&(!r||a(e))){var t=n.startContainer;if(e!=t||!L(t)||n.startOffset!=t.length){var i=n.endContainer;e==i&&L(i)&&0==n.endOffset||l.push(e)}}}),l}function e(e){return"["+("undefined"==typeof e.getName?"Range":e.getName())+"("+R.inspectNode(e.startContainer)+":"+e.startOffset+", "+R.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function p(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var i=e.commonAncestorContainer;this.sc===this.ec&&L(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==i||L(this.sc)?q(this.sc,i,!0):this.sc.childNodes[this.so],this._last=this.ec!==i||L(this.ec)?q(this.ec,i,!0):this.ec.childNodes[this.eo-1])}}function g(a){return function(e,t){for(var i,n=t?e:e.parentNode;n;){if(i=n.nodeType,U(a,i))return n;n=n.parentNode}return null}}function f(e,t){if(ie(e,t))throw new M("INVALID_NODE_TYPE_ERR")}function m(e,t){if(!U(t,e.nodeType))throw new M("INVALID_NODE_TYPE_ERR")}function _(e,t){if(t<0||t>(L(e)?e.length:e.childNodes.length))throw new M("INDEX_SIZE_ERR")}function w(e,t){if(ee(e,!0)!==ee(t,!0))throw new M("WRONG_DOCUMENT_ERR")}function b(e){if(te(e,!0))throw new M("NO_MODIFICATION_ALLOWED_ERR")}function v(e,t){if(!e)throw new M(t)}function y(e){return J&&R.isBrokenNode(e)||!U(G,e.nodeType)&&!ee(e,!0)}function k(e,t){return t<=(L(e)?e.length:e.childNodes.length)}function x(e){return!!e.startContainer&&!!e.endContainer&&!y(e.startContainer)&&!y(e.endContainer)&&k(e.startContainer,e.startOffset)&&k(e.endContainer,e.endOffset)}function C(e){if(!x(e))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function S(e,t){C(e);var i=e.startContainer,n=e.startOffset,a=e.endContainer,o=e.endOffset,s=i===a;L(a)&&0<o&&o<a.length&&$(a,o,t),L(i)&&0<n&&n<i.length&&(i=$(i,n,t),s?(o-=n,a=i):a==i.parentNode&&o>=F(i)&&o++,n=0),e.setStartAndEnd(i,n,a,o)}function T(e){C(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function I(e){e.START_TO_START=re,e.START_TO_END=le,e.END_TO_END=de,e.END_TO_START=ue,e.NODE_BEFORE=ce,e.NODE_AFTER=he,e.NODE_BEFORE_AND_AFTER=pe,e.NODE_INSIDE=ge}function P(e){I(e),I(e.prototype)}function z(s,r){return function(){C(this);var e,t=this.startContainer,i=this.startOffset,n=this.commonAncestorContainer,a=new p(this,!0);t!==n&&(t=(e=u(q(t,n,!0))).node,i=e.offset),d(a,b),a.reset();var o=s(a);return a.detach(),r(this,t,i,t,i),o}}function E(e,d){function t(i,n){return function(e){m(e,Y),m(K(e),G);var t=(i?l:u)(e);(n?a:o)(this,t.node,t.offset)}}function a(e,t,i){var n=e.endContainer,a=e.endOffset;t===e.startContainer&&i===e.startOffset||(K(t)==K(n)&&1!=j(t,i,n,a)||(n=t,a=i),d(e,t,i,n,a))}function o(e,t,i){var n=e.startContainer,a=e.startOffset;t===e.endContainer&&i===e.endOffset||(K(t)==K(n)&&-1!=j(t,i,n,a)||(n=t,a=i),d(e,n,a,t,i))}var i=function(){};i.prototype=s.rangePrototype,e.prototype=new i,B.extend(e.prototype,{setStart:function(e,t){f(e,!0),_(e,t),a(this,e,t)},setEnd:function(e,t){f(e,!0),_(e,t),o(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],i=e[1],n=t,a=i;switch(e.length){case 3:a=e[2];break;case 4:n=e[2],a=e[3]}d(this,t,i,n,a)},setBoundary:function(e,t,i){this["set"+(i?"Start":"End")](e,t)},setStartBefore:t(!0,!0),setStartAfter:t(!1,!0),setEndBefore:t(!0,!1),setEndAfter:t(!1,!1),collapse:function(e){C(this),e?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){f(e,!0),d(this,e,0,e,W(e))},selectNode:function(e){f(e,!1),m(e,Y);var t=l(e),i=u(e);d(this,t.node,t.offset,i.node,i.offset)},extractContents:z(h,d),deleteContents:z(c,d),canSurroundContents:function(){C(this),b(this.startContainer),b(this.endContainer);var e=new p(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){S(this)},splitBoundariesPreservingPositions:function(e){S(this,e)},normalizeBoundaries:function(){C(this);var a=this.startContainer,o=this.startOffset,s=this.endContainer,r=this.endOffset,e=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(r=(s=e).length,e.appendData(t.data),t.parentNode.removeChild(t))},t=function(e){var t=e.previousSibling;if(t&&t.nodeType==e.nodeType){var i=(a=e).length;if(o=t.length,e.insertData(0,t.data),t.parentNode.removeChild(t),a==s)r+=o,s=a;else if(s==e.parentNode){var n=F(e);r==n?(s=e,r=i):n<r&&r--}}},i=!0;if(L(s))s.length==r&&e(s);else{if(0<r){var n=s.childNodes[r-1];n&&L(n)&&e(n)}i=!this.collapsed}if(i){if(L(a))0==o&&t(a);else if(o<a.childNodes.length){var l=a.childNodes[o];l&&L(l)&&t(l)}}else a=s,o=r;d(this,a,o,s,r)},collapseToPoint:function(e,t){f(e,!0),_(e,t),this.setStartAndEnd(e,t)}}),P(e)}function N(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:R.getCommonAncestor(e.startContainer,e.endContainer)}function D(e,t,i,n,a){e.startContainer=t,e.startOffset=i,e.endContainer=n,e.endOffset=a,e.document=R.getDocument(t),N(e)}function A(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,N(this)}var R=s.dom,B=s.util,V=R.DomPosition,M=s.DOMException,L=R.isCharacterDataNode,F=R.getNodeIndex,H=R.isOrIsAncestorOf,O=R.getDocument,j=R.comparePoints,$=R.splitDataNode,q=R.getClosestAncestorIn,W=R.getNodeLength,U=R.arrayContains,K=R.getRootContainer,J=s.features.crashyTextNodes;p.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,L(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,i=this._current;!L(i)||i!==this.sc&&i!==this.ec?i.parentNode&&i.parentNode.removeChild(i):(e=i===this.sc?this.so:0)!=(t=i===this.ec?this.eo:i.length)&&i.deleteData(e,t-e)},isPartiallySelectedSubtree:function(){return n(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new A(r(this.range));var t=this._current,i=t,n=0,a=t,o=W(t);H(t,this.sc)&&(i=this.sc,n=this.so),H(t,this.ec)&&(a=this.ec,o=this.eo),D(e,i,n,a,o)}return new p(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Y=[1,3,4,5,7,8,10],G=[2,9,11],Z=[5,6,10,12],X=[1,3,4,5,7,8,10,11],Q=[1,3,4,5,7,8],ee=g([9,11]),te=g(Z),ie=g([6,10,12]),ne=document.createElement("style"),ae=!1;try{ne.innerHTML="<b>x</b>",ae=3==ne.firstChild.nodeType}catch(fe){}var oe=(s.features.htmlParsingConforms=ae)?function(e){var t=this.startContainer,i=O(t);if(!t)throw new M("INVALID_STATE_ERR");var n=null;return 1==t.nodeType?n=t:L(t)&&(n=R.parentElement(t)),(n=null===n||"HTML"==n.nodeName&&R.isHtmlNamespace(O(n).documentElement)&&R.isHtmlNamespace(n)?i.createElement("body"):n.cloneNode(!1)).innerHTML=e,R.fragmentFromNodeChildren(n)}:function(e){var t=r(this).createElement("body");return t.innerHTML=e,R.fragmentFromNodeChildren(t)},se=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],re=0,le=1,de=2,ue=3,ce=0,he=1,pe=2,ge=3;B.extend(s.rangePrototype,{compareBoundaryPoints:function(e,t){var i,n,a,o;C(this),w(this.startContainer,t.startContainer);var s=e==ue||e==re?"start":"end",r=e==le||e==re?"start":"end";return i=this[s+"Container"],n=this[s+"Offset"],a=t[r+"Container"],o=t[r+"Offset"],j(i,n,a,o)},insertNode:function(e){if(C(this),m(e,X),b(this.startContainer),H(e,this.startContainer))throw new M("HIERARCHY_REQUEST_ERR");var t=i(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if(C(this),this.collapsed)return r(this).createDocumentFragment();if(this.startContainer===this.endContainer&&L(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=r(this).createDocumentFragment()).appendChild(e),t;var i=new p(this,!0);return e=o(i),i.detach(),e},canSurroundContents:function(){C(this),b(this.startContainer),b(this.endContainer);var e=new p(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(m(e,Q),!this.canSurroundContents())throw new M("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);i(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){C(this);for(var e,t=new A(r(this)),i=se.length;i--;)t[e=se[i]]=this[e];return t},toString:function(){C(this);var e=this.startContainer;if(e===this.endContainer&&L(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],i=new p(this,!0);return d(i,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),i.detach(),t.join("")},compareNode:function(e){C(this);var t=e.parentNode,i=F(e);if(!t)throw new M("NOT_FOUND_ERR");var n=this.comparePoint(t,i),a=this.comparePoint(t,i+1);return n<0?0<a?pe:ce:0<a?he:ge},comparePoint:function(e,t){return C(this),v(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),j(e,t,this.startContainer,this.startOffset)<0?-1:0<j(e,t,this.endContainer,this.endOffset)?1:0},createContextualFragment:oe,toHtml:function(){return T(this)},intersectsNode:function(e,t){if(C(this),v(e,"NOT_FOUND_ERR"),O(e)!==r(this))return!1;var i=e.parentNode,n=F(e);v(i,"NOT_FOUND_ERR");var a=j(i,n,this.endContainer,this.endOffset),o=j(i,n+1,this.startContainer,this.startOffset);return t?a<=0&&0<=o:a<0&&0<o},isPointInRange:function(e,t){return C(this),v(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),0<=j(e,t,this.startContainer,this.startOffset)&&j(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return t(this,e,!1)},intersectsOrTouchesRange:function(e){return t(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=j(this.startContainer,this.startOffset,e.startContainer,e.startOffset),i=j(this.endContainer,this.endOffset,e.endContainer,e.endOffset),n=this.cloneRange();return-1==t&&n.setStart(e.startContainer,e.startOffset),1==i&&n.setEnd(e.endContainer,e.endOffset),n}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==j(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==j(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new M("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ge},containsNodeContents:function(e){return 0<=this.comparePoint(e,0)&&this.comparePoint(e,W(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var i=t.getNodes([3]);if(0<i.length){t.setStart(i[0],0);var n=i.pop();return t.setEnd(n,n.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return C(this),a(this,e,t)},getDocument:function(){return r(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(e){var t=r(this),i=s.createRange(t);e=e||R.getBody(t),i.selectNodeContents(e);var n=this.intersection(i),a=0,o=0;return n&&(i.setEnd(n.startContainer,n.startOffset),o=(a=i.toString().length)+n.toString().length),{start:a,end:o,containerNode:e}},moveToBookmark:function(e){var t=e.containerNode,i=0;this.setStart(t,0),this.collapse(!0);for(var n,a,o,s,r=[t],l=!1,d=!1;!d&&(n=r.pop());)if(3==n.nodeType)a=i+n.length,!l&&e.start>=i&&e.start<=a&&(this.setStart(n,e.start-i),l=!0),l&&e.end>=i&&e.end<=a&&(this.setEnd(n,e.end-i),d=!0),i=a;else for(o=(s=n.childNodes).length;o--;)r.push(s[o])},getName:function(){return"DomRange"},equals:function(e){return A.rangesEqual(this,e)},isValid:function(){return x(this)},inspect:function(){return e(this)},detach:function(){}}),E(A,D),B.extend(A,{rangeProperties:se,RangeIterator:p,copyComparisonConstants:P,createPrototypeRange:E,inspect:e,toHtml:T,getRangeDocument:r,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),s.DomRange=A}),D.createCoreModule("WrappedRange",["DomRange"],function(h,p){var g,e,k=h.dom,f=h.util,x=k.DomPosition,m=h.DomRange,_=k.getBody,w=k.getContentDocument,C=k.isCharacterDataNode;if(h.features.implementsDomRange&&function(){function n(e){for(var t,i=a.length;i--;)e[t=a[i]]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function e(e,t,i,n,a){var o=e.startContainer!==t||e.startOffset!=i,s=e.endContainer!==n||e.endOffset!=a,r=!e.equals(e.nativeRange);(o||s||r)&&(e.setEnd(n,a),e.setStart(t,i))}var t,i,a=m.rangeProperties;g=function(e){if(!e)throw p.createError("WrappedRange: Range must be specified");this.nativeRange=e,n(this)},m.createPrototypeRange(g,e),(t=g.prototype).selectNode=function(e){this.nativeRange.selectNode(e),n(this)},t.cloneContents=function(){return this.nativeRange.cloneContents()},t.surroundContents=function(e){this.nativeRange.surroundContents(e),n(this)},t.collapse=function(e){this.nativeRange.collapse(e),n(this)},t.cloneRange=function(){return new g(this.nativeRange.cloneRange())},t.refresh=function(){n(this)},t.toString=function(){return this.nativeRange.toString()};var o=document.createTextNode("test");_(document).appendChild(o);var s=document.createRange();s.setStart(o,0),s.setEnd(o,0);try{s.setStart(o,1),t.setStart=function(e,t){this.nativeRange.setStart(e,t),n(this)},t.setEnd=function(e,t){this.nativeRange.setEnd(e,t),n(this)},i=function(t){return function(e){this.nativeRange[t](e),n(this)}}}catch(c){t.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(zu){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}n(this)},t.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(zu){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}n(this)},i=function(t,i){return function(e){try{this.nativeRange[t](e)}catch(zu){this.nativeRange[i](e),this.nativeRange[t](e)}n(this)}}}t.setStartBefore=i("setStartBefore","setEndBefore"),t.setStartAfter=i("setStartAfter","setEndAfter"),t.setEndBefore=i("setEndBefore","setStartBefore"),t.setEndAfter=i("setEndAfter","setStartAfter"),t.selectNodeContents=function(e){this.setStartAndEnd(e,0,k.getNodeLength(e))},s.selectNodeContents(o),s.setEnd(o,3);var r=document.createRange();r.selectNodeContents(o),r.setEnd(o,4),r.setStart(o,2),-1==s.compareBoundaryPoints(s.START_TO_END,r)&&1==s.compareBoundaryPoints(s.END_TO_START,r)?t.compareBoundaryPoints=function(e,t){return e==(t=t.nativeRange||t).START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:t.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var l=document.createElement("div");l.innerHTML="123";var d=l.firstChild,u=_(document);u.appendChild(l),s.setStart(d,1),s.setEnd(d,2),s.deleteContents(),"13"==d.data&&(t.deleteContents=function(){this.nativeRange.deleteContents(),n(this)},t.extractContents=function(){var e=this.nativeRange.extractContents();return n(this),e}),u.removeChild(l),u=null,f.isHostMethod(s,"createContextualFragment")&&(t.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),_(document).removeChild(o),t.getName=function(){return"WrappedRange"},h.WrappedRange=g,h.createNativeRange=function(e){return(e=w(e,p,"createNativeRange")).createRange()}}(),h.features.implementsTextRange){var a=function(e){var t=e.parentElement(),i=e.duplicate();i.collapse(!0);var n=i.parentElement();(i=e.duplicate()).collapse(!1);var a=i.parentElement(),o=n==a?n:k.getCommonAncestor(n,a);return o==t?o:k.getCommonAncestor(t,o)},o=function(e){return 0==e.compareEndPoints("StartToEnd",e)},s=function(e,t,i,n,a){var o=e.duplicate();o.collapse(i);var s=o.parentElement();if(k.isOrIsAncestorOf(t,s)||(s=t),!s.canHaveHTML){var r=new x(s.parentNode,k.getNodeIndex(s));return{boundaryPosition:r,nodeInfo:{nodeIndex:r.offset,containerElement:r.node}}}var l=k.getDocument(s).createElement("span");l.parentNode&&l.parentNode.removeChild(l);for(var d,u,c,h,p,g=i?"StartToStart":"StartToEnd",f=a&&a.containerElement==s?a.nodeIndex:0,m=s.childNodes.length,_=m,w=_;w==m?s.appendChild(l):s.insertBefore(l,s.childNodes[w]),o.moveToElementText(l),0!=(d=o.compareEndPoints(g,e))&&f!=_;){if(-1==d){if(_==f+1)break;f=w}else _=_==f+1?f:w;w=Math.floor((f+_)/2),s.removeChild(l)}if(p=l.nextSibling,-1==d&&p&&C(p)){var b;if(o.setEndPoint(i?"EndToStart":"EndToEnd",e),/[\r\n]/.test(p.data)){var v=o.duplicate(),y=v.text.replace(/\r\n/g,"\r").length;for(b=v.moveStart("character",y);-1==(d=v.compareEndPoints("StartToEnd",v));)b++,v.moveStart("character",1)}else b=o.text.length;h=new x(p,b)}else u=(n||!i)&&l.previousSibling,h=(c=(n||i)&&l.nextSibling)&&C(c)?new x(c,0):u&&C(u)?new x(u,u.data.length):new x(s,k.getNodeIndex(l));return l.parentNode.removeChild(l),{boundaryPosition:h,nodeInfo:{nodeIndex:w,containerElement:s}}},r=function(e,t){var i,n,a,o,s=e.offset,r=k.getDocument(e.node),l=_(r).createTextRange(),d=C(e.node);return n=d?(i=e.node).parentNode:(i=s<(o=e.node.childNodes).length?o[s]:null,e.node),(a=r.createElement("span")).innerHTML="&#feff;",i?n.insertBefore(a,i):n.appendChild(a),l.moveToElementText(a),l.collapse(!t),n.removeChild(a),d&&l[t?"moveStart":"moveEnd"]("character",s),l};(e=function(e){this.textRange=e,this.refresh()}).prototype=new m(document),e.prototype.refresh=function(){var e,t,i,n=a(this.textRange);t=o(this.textRange)?e=s(this.textRange,n,!0,!0).boundaryPosition:(e=(i=s(this.textRange,n,!0,!1)).boundaryPosition,s(this.textRange,n,!1,!1,i.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},e.prototype.getName=function(){return"WrappedTextRange"},m.copyComparisonConstants(e);var t=function(e){if(e.collapsed)return r(new x(e.startContainer,e.startOffset),!0);var t=r(new x(e.startContainer,e.startOffset),!0),i=r(new x(e.endContainer,e.endOffset),!1),n=_(m.getRangeDocument(e)).createTextRange();return n.setEndPoint("StartToStart",t),n.setEndPoint("EndToEnd",i),n};if(e.rangeToTextRange=t,e.prototype.toTextRange=function(){return t(this)},h.WrappedTextRange=e,!h.features.implementsDomRange||h.config.preferTextRange){var i=Function("return this;")();"undefined"==typeof i.Range&&(i.Range=e),h.createNativeRange=function(e){return e=w(e,p,"createNativeRange"),_(e).createTextRange()},h.WrappedRange=e}}h.createRange=function(e){return e=w(e,p,"createRange"),new h.WrappedRange(h.createNativeRange(e))},h.createRangyRange=function(e){return e=w(e,p,"createRangyRange"),new m(e)},h.createIframeRange=function(e){return p.deprecationNotice("createIframeRange()","createRange(iframeEl)"),h.createRange(e)},h.createIframeRangyRange=function(e){return p.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),h.createRangyRange(e)},h.addShimListener(function(e){var t=e.document;"undefined"==typeof t.createRange&&(t.createRange=function(){return h.createRange(t)}),t=e=null})}),D.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(h,d){function s(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function a(e,t){if(e){if(P.isWindow(e))return e;if(e instanceof w)return e.win;var i=P.getContentDocument(e,d,t);return P.getWindow(i)}return window}function e(e){return a(e,"getWinSelection").getSelection()}function o(e){return a(e,"getDocSelection").document.selection}function p(e){var t=!1;return e.anchorNode&&(t=1==P.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function r(e,t,i){var n=i?"end":"start",a=i?"start":"end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[a+"Container"],e.focusOffset=t[a+"Offset"]}function n(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function l(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function u(e){var t;return e instanceof N?((t=h.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),t.setStart(e.startContainer,e.startOffset)):e instanceof D?t=e.nativeRange:B.implementsDomRange&&e instanceof P.getWindow(e.startContainer).Range&&(t=e),t}function i(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,i=e.length;t<i;++t)if(!P.isAncestorOf(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!i(t))throw d.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return t[0]}function g(e){return!!e&&"undefined"!=typeof e.text}function f(e,t){var i=new D(t);e._ranges=[i],r(e,i,!1),e.rangeCount=1,e.isCollapsed=i.collapsed}function m(e){if(e._ranges.length=0,"None"==e.docSelection.type)l(e);else{var t=e.docSelection.createRange();if(g(t))f(e,t);else{e.rangeCount=t.length;for(var i,n=M(t.item(0)),a=0;a<e.rangeCount;++a)(i=h.createRange(n)).selectNode(t.item(a)),e._ranges.push(i);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,r(e,e._ranges[e.rangeCount-1],!1)}}}function _(e,t){for(var i=e.docSelection.createRange(),n=c(t),a=M(i.item(0)),o=L(a).createControlRange(),s=0,r=i.length;s<r;++s)o.add(i.item(s));try{o.add(n)}catch(l){throw d.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),m(e)}function w(e,t,i){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=i,this.refresh()}function b(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function v(e,t){for(var i,n,a=te.length;a--;)if(n=(i=te[a]).selection,"deleteAll"==t)b(n);else if(i.win==e)return"delete"==t?(te.splice(a,1),!0):n;return"deleteAll"==t&&(te.length=0),null}function y(e,t){for(var i,n=M(t[0].startContainer),a=L(n).createControlRange(),o=0,s=t.length;o<s;++o){i=c(t[o]);try{a.add(i)}catch(r){throw d.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}a.select(),m(e)}function k(e,t){if(e.win.document!=M(t))throw new A("WRONG_DOCUMENT_ERR")}function t(n){return function(e,t){var i;this.rangeCount?(i=this.getRangeAt(0))["set"+(n?"Start":"End")](e,t):(i=h.createRange(this.win.document)).setStartAndEnd(e,t),this.setSingleRange(i,this.isBackward())}}function x(e){var t=[],i=new R(e.anchorNode,e.anchorOffset),n=new R(e.focusNode,e.focusOffset),a="function"==typeof e.getName?e.getName():"Selection";if(
"undefined"!=typeof e.rangeCount)for(var o=0,s=e.rangeCount;o<s;++o)t[o]=N.inspect(e.getRangeAt(o));return"["+a+"(Ranges: "+t.join(", ")+")(anchor: "+i.inspect()+", focus: "+n.inspect()+"]"}h.config.checkSelectionRanges=!0;var C,S,T="boolean",I="number",P=h.dom,z=h.util,E=z.isHostMethod,N=h.DomRange,D=h.WrappedRange,A=h.DOMException,R=P.DomPosition,B=h.features,V="Control",M=P.getDocument,L=P.getBody,F=N.rangesEqual,H=E(window,"getSelection"),O=z.isHostObject(document,"selection");B.implementsWinGetSelection=H;var j=(B.implementsDocSelection=O)&&(!H||h.config.preferTextRange);j?(C=o,h.isSelectionValid=function(e){var t=a(e,"isSelectionValid").document,i=t.selection;return"None"!=i.type||M(i.createRange().parentElement())==t}):H?(C=e,h.isSelectionValid=function(){return!0}):d.fail("Neither document.selection or window.getSelection() detected.");var $=(h.getNativeSelection=C)(),q=h.createNativeRange(document),W=L(document),U=z.areHostProperties($,["anchorNode","focusNode","anchorOffset","focusOffset"]);B.selectionHasAnchorAndFocus=U;var K=E($,"extend");B.selectionHasExtend=K;var J=typeof $.rangeCount==I;B.selectionHasRangeCount=J;var Y=!1,G=!0,Z=K?function(e,t){var i=N.getRangeDocument(t),n=h.createRange(i);n.collapseToPoint(t.endContainer,t.endOffset),e.addRange(u(n)),e.extend(t.startContainer,t.startOffset)}:null;z.areHostMethods($,["addRange","getRangeAt","removeAllRanges"])&&typeof $.rangeCount==I&&B.implementsDomRange&&function(){var e=window.getSelection();if(e){for(var t=e.rangeCount,i=1<t,n=[],a=p(e),o=0;o<t;++o)n[o]=e.getRangeAt(o);var s=L(document),r=s.appendChild(document.createElement("div"));r.contentEditable="false";var l=r.appendChild(document.createTextNode("\xa0\xa0\xa0")),d=document.createRange();if(d.setStart(l,1),d.collapse(!0),e.addRange(d),G=1==e.rangeCount,e.removeAllRanges(),!i){var u=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(u&&36<=parseInt(u[1]))Y=!1;else{var c=d.cloneRange();d.setStart(l,0),c.setEnd(l,3),c.setStart(l,2),e.addRange(d),e.addRange(c),Y=2==e.rangeCount}}for(s.removeChild(r),e.removeAllRanges(),o=0;o<t;++o)0==o&&a?Z?Z(e,n[o]):(h.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),e.addRange(n[o])):e.addRange(n[o])}}(),B.selectionSupportsMultipleRanges=Y,B.collapsedNonEditableSelectionsSupported=G;var X,Q,ee=!1;W&&E(W,"createControlRange")&&(X=W.createControlRange(),z.areHostProperties(X,["item","add"])&&(ee=!0)),B.implementsControlRange=ee,S=U?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},E($,"getRangeAt")?Q=function(e,t){try{return e.getRangeAt(t)}catch(i){return null}}:U&&(Q=function(e){var t=M(e.anchorNode),i=h.createRange(t);return i.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),i}),w.prototype=h.selectionPrototype;var te=[],ie=function(e){if(e&&e instanceof w)return e.refresh(),e;var t=v(e=a(e,"getNativeSelection")),i=C(e),n=O?o(e):null;return t?(t.nativeSelection=i,t.docSelection=n,t.refresh()):(t=new w(i,n,e),te.push({win:e,selection:t})),t};h.getSelection=ie,h.getIframeSelection=function(e){return d.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),h.getSelection(P.getIframeWindow(e))};var ne,ae=w.prototype;if(!j&&U&&z.areHostMethods($,["removeAllRanges","addRange"])){ae.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),l(this)};var oe=function(e,t){Z(e.nativeSelection,t),e.refresh()};ae.addRange=J?function(e,t){if(ee&&O&&this.docSelection.type==V)_(this,e);else if(s(t)&&K)oe(this,e);else{var i;i=Y?this.rangeCount:(this.removeAllRanges(),0);var n=u(e).cloneRange();try{this.nativeSelection.addRange(n)}catch(o){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==i+1){if(h.config.checkSelectionRanges){var a=Q(this.nativeSelection,this.rangeCount-1);a&&!F(a,e)&&(e=new D(a))}this._ranges[this.rangeCount-1]=e,r(this,e,se(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:function(e,t){s(t)&&K?oe(this,e):(this.nativeSelection.addRange(u(e)),this.refresh())},ae.setRanges=function(e){if(ee&&O&&1<e.length)y(this,e);else{this.removeAllRanges();for(var t=0,i=e.length;t<i;++t)this.addRange(e[t])}}}else{if(!(E($,"empty")&&E(q,"select")&&ee&&j))return d.fail("No means of selecting a Range or TextRange was found"),!1;ae.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=M(this.anchorNode);else if(this.docSelection.type==V){var t=this.docSelection.createRange();t.length&&(e=M(t.item(0)))}if(e)L(e).createTextRange().select(),this.docSelection.empty()}}catch(i){}l(this)},ae.addRange=function(e){this.docSelection.type==V?_(this,e):(h.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,r(this,e,!1))},ae.setRanges=function(e){this.removeAllRanges();var t=e.length;1<t?y(this,e):t&&this.addRange(e[0])}}if(ae.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new A("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},j)ne=function(e){var t;h.isSelectionValid(e.win)?t=e.docSelection.createRange():(t=L(e.win.document).createTextRange()).collapse(!0),e.docSelection.type==V?m(e):g(t)?f(e,t):l(e)};else if(E($,"getRangeAt")&&typeof $.rangeCount==I)ne=function(e){if(ee&&O&&e.docSelection.type==V)m(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var t=0,i=e.rangeCount;t<i;++t)e._ranges[t]=new h.WrappedRange(e.nativeSelection.getRangeAt(t));r(e,e._ranges[e.rangeCount-1],se(e.nativeSelection)),e.isCollapsed=S(e)}else l(e)};else{if(!U||typeof $.isCollapsed!=T||typeof q.collapsed!=T||!B.implementsDomRange)return d.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ne=function(e){var t,i=e.nativeSelection;i.anchorNode?(t=Q(i,0),e._ranges=[t],e.rangeCount=1,n(e),e.isCollapsed=S(e)):l(e)}}ae.refresh=function(e){var t=e?this._ranges.slice(0):null,i=this.anchorNode,n=this.anchorOffset;if(ne(this),e){var a=t.length;if(a!=this._ranges.length)return!0;if(this.anchorNode!=i||this.anchorOffset!=n)return!0;for(;a--;)if(!F(t[a],this._ranges[a]))return!0;return!1}};var se,re=function(e,t){var i=e.getAllRanges();e.removeAllRanges();for(var n=0,a=i.length;n<a;++n)F(t,i[n])||e.addRange(i[n]);e.rangeCount||l(e)};ae.removeRange=ee&&O?function(e){if(this.docSelection.type==V){for(var t=this.docSelection.createRange(),i=c(e),n=M(t.item(0)),a=L(n).createControlRange(),o=!1,s=0,r=t.length;s<r;++s)t.item(s)!==i||o?a.add(t.item(s)):o=!0;a.select(),m(this)}else re(this,e)}:function(e){re(this,e)},!j&&U&&B.implementsDomRange?(se=p,ae.isBackward=function(){return se(this)}):se=ae.isBackward=function(){return!1},ae.isBackwards=ae.isBackward,ae.toString=function(){for(var e=[],t=0,i=this.rangeCount;t<i;++t)e[t]=""+this._ranges[t];return e.join("")},ae.collapse=function(e,t){k(this,e);var i=h.createRange(e);i.collapseToPoint(e,t),this.setSingleRange(i),this.isCollapsed=!0},ae.collapseToStart=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ae.collapseToEnd=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ae.selectAllChildren=function(e){k(this,e);var t=h.createRange(e);t.selectNodeContents(e),this.setSingleRange(t)},ae.deleteFromDocument=function(){if(ee&&O&&this.docSelection.type==V){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var i=this.getAllRanges();if(i.length){this.removeAllRanges();for(var n=0,a=i.length;n<a;++n)i[n].deleteContents();this.addRange(i[a-1])}}},ae.eachRange=function(e,t){for(var i=0,n=this._ranges.length;i<n;++i)if(e(this.getRangeAt(i)))return t},ae.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},ae.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ae.callMethodOnEachRange=function(t,i){var n=[];return this.eachRange(function(e){n.push(e[t].apply(e,i))}),n},ae.setStart=t(!0),ae.setEnd=t(!1),h.rangePrototype.select=function(e){ie(this.getDocument()).setSingleRange(this,e)},ae.changeEachRange=function(t){var i=[],e=this.isBackward();this.eachRange(function(e){t(e),i.push(e)}),this.removeAllRanges(),e&&1==i.length?this.addRange(i[0],"backward"):this.setRanges(i)},ae.containsNode=function(t,i){return this.eachRange(function(e){return e.containsNode(t,i)},!0)||!1},ae.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ae.moveToBookmark=function(e){for(var t,i,n=[],a=0;t=e.rangeBookmarks[a++];)(i=h.createRange(this.win)).moveToBookmark(t),n.push(i);e.backward?this.setSingleRange(n[0],"backward"):this.setRanges(n)},ae.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(N.toHtml(e))}),t.join("")},B.implementsTextRange&&(ae.getNativeTextRange=function(){var e;if(e=this.docSelection){var t=e.createRange();if(g(t))return t;throw d.createError("getNativeTextRange: selection is a control selection")}if(0<this.rangeCount)return h.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw d.createError("getNativeTextRange: selection contains no range")}),ae.getName=function(){return"WrappedSelection"},ae.inspect=function(){return x(this)},ae.detach=function(){v(this.win,"delete"),b(this)},w.detachAll=function(){v(null,"deleteAll")},w.inspect=x,w.isDirectionBackward=s,h.Selection=w,h.selectionPrototype=ae,h.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return ie(e)}),e=null})});var B=!1,V=function(){B||(B=!0,!D.initialized&&D.config.autoInitialize&&o())};return E&&("complete"==document.readyState?V():(d(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",V,!1),w(window,"load",V))),D},this),function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){e.createModule("SaveRestore",["WrappedRange"],function(r,s){function l(e,t){return(t||document).getElementById(e)}function o(e,t){var i,n="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),a=f.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),(i=a.createElement("span")).id=n,i.style.lineHeight="0",i.style.display="none",i.className="rangySelectionBoundary",i.appendChild(a.createTextNode(m)),o.insertNode(i),i}function d(e,t,i,n){var a=l(i,e);a?(t[n?"setStartBefore":"setEndBefore"](a),a.parentNode.removeChild(a)):s.warn("Marker element has been removed. Cannot restore selection.")}function u(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function c(e,t){var i,n=r.DomRange.getRangeDocument(e),a=e.toString();return e.collapsed?{document:n,markerId:(i=o(e,!1)).id,collapsed:!0}:(i=o(e,!1),{document:n,startMarkerId:o(e,!0).id,endMarkerId:i.id,collapsed:!1,backward:t,toString:function(){return"original text: '"+a+"', new text: '"+e.toString()+"'"}})}function n(e,t){var i=e.document;void 0===t&&(t=!0);var n=r.createRange(i);if(e.collapsed){var a=l(e.markerId,i);if(a){a.style.display="inline";var o=a.previousSibling;o&&3==o.nodeType?(a.parentNode.removeChild(a),n.collapseToPoint(o,o.length)):(n.collapseBefore(a),a.parentNode.removeChild(a))}else s.warn("Marker element has been removed. Cannot restore selection.")}else d(i,n,e.startMarkerId,!0),d(i,n,e.endMarkerId,!1);return t&&n.normalizeBoundaries(),n}function h(e,t){var i,n,a=[];(e=e.slice(0)).sort(u);for(var o=0,s=e.length;o<s;++o)a[o]=c(e[o],t);for(o=s-1;0<=o;--o)i=e[o],n=r.DomRange.getRangeDocument(i),i.collapsed?i.collapseAfter(l(a[o].markerId,n)):(i.setEndBefore(l(a[o].endMarkerId,n)),i.setStartAfter(l(a[o].startMarkerId,n)));return a}function e(e){if(!r.isSelectionValid(e))return s.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var t=r.getSelection(e),i=t.getAllRanges(),n=1==i.length&&t.isBackward(),a=h(i,n);return n?t.setSingleRange(i[0],"backward"):t.setRanges(i),{win:e,rangeInfos:a,restored:!1}}function p(e){for(var t=[],i=e.length-1;0<=i;i--)t[i]=n(e[i],!0);return t}function t(e,t){if(!e.restored){var i=e.rangeInfos,n=r.getSelection(e.win),a=p(i);1==i.length&&t&&r.features.selectionHasExtend&&i[0].backward?(n.removeAllRanges(),n.addRange(a[0],!0)):n.setRanges(a),e.restored=!0}}function g(e,t){var i=l(t,e);i&&i.parentNode.removeChild(i)}function i(e){for(var t,i=e.rangeInfos,n=0,a=i.length;n<a;++n)(t=i[n]).collapsed?g(e.doc,t.markerId):(g(e.doc,t.startMarkerId),g(e.doc,t.endMarkerId))}var f=r.dom,m="\ufeff";r.util.extend(r,{saveRange:c,restoreRange:n,saveRanges:h,restoreRanges:p,saveSelection:e,restoreSelection:t,removeMarkerElement:g,removeMarkers:i})})},this);var Base=function(){};Base.extend=function(e,t){var i=Base.prototype.extend;Base._prototyping=!0;var n=new this;i.call(n,e),n.base=function(){},delete Base._prototyping;var a=n.constructor,o=n.constructor=function(e){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,a.apply(this,arguments),delete this._constructing;else if(null!=e)return(e.extend||i).call(e,n)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=n,o.toString=this.toString,o.valueOf=function(e){return"object"==e?o:a.valueOf()},i.call(o,t),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(e,t){if(1<arguments.length){var i=this[e];if(i&&"function"==typeof t&&(!i.valueOf||i.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var n=t.valueOf();(t=function(){var e=this.base||Base.prototype.base;this.base=i;var t=n.apply(this,arguments);return this.base=e,t}).valueOf=function(e){return"object"==e?t:n},t.toString=Base.toString}this[e]=t}else if(e){var a=Base.prototype.extend;Base._prototyping||"function"==typeof this||(a=this.extend||a);for(var o={toSource:null},s=["constructor","toString","valueOf"],r=Base._prototyping?0:1;l=s[r++];)e[l]!=o[l]&&a.call(this,l,e[l]);for(var l in e)o[l]||a.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(e){this.extend(e)}},{ancestor:Object,version:"1.1",forEach:function(e,t,i){for(var n in e)this.prototype[n]===undefined&&t.call(i,e[n],n,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function o(e){return+(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[undefined,0])[1]}function s(e){return+(e.match(/android (\d+)/)||[undefined,0])[1]}function t(e,t){var i,n=-1;return"Microsoft Internet Explorer"==navigator.appName?i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),i&&null!=i.exec(navigator.userAgent)&&(n=parseFloat(RegExp.$1)),-1!==n&&(!e||(t?"<"===t?e<n:">"===t?n<e:"<="===t?e<=n:">="===t?n<=e:void 0:e===n))}var a,r,i=navigator.userAgent,l=document.createElement("div"),e=-1!==i.indexOf("Gecko")&&-1===i.indexOf("KHTML"),n=-1!==i.indexOf("AppleWebKit/"),d=-1!==i.indexOf("Chrome/"),u=-1!==i.indexOf("Opera/");return{USER_AGENT:i,supported:function(){var e=this.USER_AGENT.toLowerCase(),t="contentEditable"in l,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,n=document.querySelector&&document.querySelectorAll,a=this.isIos()&&o(e)<5||this.isAndroid()&&s(e)<4||-1!==e.indexOf("opera mobi")||-1!==e.indexOf("hpwos/");return t&&i&&n&&!a},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return t()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return t()},hasCurrentStyleProperty:function(){return"currentStyle"in l},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in l||(l.setAttribute("on"+e,"return;"),"function"==typeof l["on"+e])},supportsEventsInIframeCorrectly:function(){return!u},supportsHTML5Tags:function(e){var t=e.createElement("div"),i="<article>foo</article>";return t.innerHTML=i,t.innerHTML.toLowerCase()===i},supportsCommand:(a={formatBlock:t(10,"<="),insertUnorderedList:t(),insertOrderedList:t()},r={insertHTML:e},function(e,t){if(!a[t]){try{return e.queryCommandSupported(t)}catch(i){}try{return e.queryCommandEnabled(t)}catch(n){return!!r[t]}}return!1}),doesAutoLinkingInContentEditable:function(){return t()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return e||u||n},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||t()||u},autoScrollsToCaret:function(){return!n},autoClosesUnclosedTags:function(){var e,t,i=l.cloneNode(!1);return i.innerHTML="<p><div></div>",t=i.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return u},supportsSpeechApiOn:function(e){return 11<=(i.match(/Chrome\/(\d+)/)||[undefined,0])[1]&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return t(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return t()},hasProblemsSettingCaretAfterImg:function(){return t()},hasUndoInContextMenu:function(){return e||d||u},hasInsertNodeIssue:function(){return u},hasIframeFocusIssue:function(){return t()},createsNestedInvalidMarkupAfterPaste:function(){return n},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModenPaste:function(){return!("clipboardData"in window)}}}(),wysihtml5.lang.array=function(o){return{contains:function(e){if(Array.isArray(e)){for(var t=e.length;t--;)if(-1!==wysihtml5.lang.array(o).indexOf(e[t]))return!0;return!1}return-1!==wysihtml5.lang.array(o).indexOf(e)},indexOf:function(e){if(o.indexOf)return o.indexOf(e);for(var t=0,i=o.length;t<i;t++)if(o[t]===e)return t;return-1},without:function(e){e=wysihtml5.lang.array(e);for(var t=[],i=0,n=o.length;i<n;i++)e.contains(o[i])||t.push(o[i]);return t},get:function(){for(var e=0,t=o.length,i=[];e<t;e++)i.push(o[e]);return i},map:function(e,t){if(Array.prototype.map)return o.map(e,t);for(var i=o.length>>>0,n=new Array(i),a=0;a<i;a++)n[a]=e.call(t,o[a],a,o);return n},unique:function(){for(var e=[],t=o.length,i=0;i<t;)wysihtml5.lang.array(e).contains(o[i])||e.push(o[i]),i++;return e}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var i,n,a=0;if(e){for(i=this.events[e]||[],n=[];a<i.length;a++)i[a]!==t&&t&&n.push(i[a]);this.events[e]=n}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var i=this.events[e]||[],n=0;n<i.length;n++)i[n].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(n){return{merge:function(e){for(var t in e)n[t]=e[t];return this},get:function(){return n},clone:function(e){var t,i={};if(null===n||!wysihtml5.lang.object(n).isPlainObject())return n;for(t in n)n.hasOwnProperty(t)&&(i[t]=e?wysihtml5.lang.object(n[t]).clone(e):n[t]);return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(n)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(n)},isPlainObject:function(){return"[object Object]"===Object.prototype.toString.call(n)}}},function(){var e=/^\s+/,t=/\s+$/,a=/[&<>\t"]/g,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(n){return n=String(n),{trim:function(){return n.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)n=this.replace("#{"+t+"}").by(e[t]);return n},replace:function(t){return{by:function(e){return n.split(t).join(e)}}},escapeHTML:function(e,t){var i=n.replace(a,function(e){return o[e]});return e&&(i=i.replace(/(?:\r\n|\r|\n)/g,"<br />")),t&&(i=i.replace(/  /gi,"&nbsp; ")),i}}}}(),function(o){function e(e,t){return i(e,t)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),l(e,t))}function a(e){return e.replace(u,function(e,t){var i=(t.match(c)||[])[1]||"",n=p[i];(t=t.replace(c,"")).split(n).length>t.split(i).length&&(t+=i,i="");var a=t,o=t;return t.length>h&&(o=o.substr(0,h)+"..."),"www."===a.substr(0,4)&&(a="http://"+a),'<a href="'+a+'">'+o+"</a>"+i})}function s(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function r(e){var t=e.parentNode,i=o.lang.string(e.data).escapeHTML(),n=s(t.ownerDocument);for(n.innerHTML="<span></span>"+a(i),n.removeChild(n.firstChild);n.firstChild;)t.insertBefore(n.firstChild,e);t.removeChild(e)}function i(e,t){for(var i;e.parentNode;){if(i=(e=e.parentNode).nodeName,e.className&&o.lang.array(e.className.split(" ")).contains(t))return!0;if(d.contains(i))return!0;if("body"===i)return!1}return!1}function l(e,t){if(!(d.contains(e.nodeName)||e.className&&o.lang.array(e.className.split(" ")).contains(t))){if(e.nodeType!==o.TEXT_NODE||!e.data.match(u)){for(var i=o.lang.array(e.childNodes).get(),n=i.length,a=0;a<n;a++)l(i[a],t);return e}r(e)}}var d=o.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),u=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,h=100,p={")":"(","]":"[","}":"{"};o.dom.autoLink=e,o.dom.autoLink.URL_REG_EXP=u}(wysihtml5),function(){var n=wysihtml5.dom;n.addClass=function(e,t){var i=e.classList;if(i)return i.add(t);n.hasClass(e,t)||(e.className+=" "+t)},n.removeClass=function(e,t){var i=e.classList;if(i)return i.remove(t);e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ")},n.hasClass=function(e,t){var i=e.classList;if(i)return i.contains(t);var n=e.className;return 0<n.length&&(n==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(n))}}(),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function m(e,t){var i=e.createElement("li");return t.appendChild(i),i}function _(e,t){return e.createElement(t)}function e(e,t,i){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var n,a,o,s,r,l,d,u,c,h=e.ownerDocument,p=_(h,t),g=e.querySelectorAll("br"),f=g.length;for(c=0;c<f;c++)for(s=g[c];(r=s.parentNode)&&r!==e&&r.lastChild===s;){if("block"===wysihtml5.dom.getStyle("display").from(r)){r.removeChild(s);break}wysihtml5.dom.insert(s).after(s.parentNode)}for(a=(n=wysihtml5.lang.array(e.childNodes).get()).length,c=0;c<a;c++)u=u||m(h,p),o=n[c],l="block"===wysihtml5.dom.getStyle("display").from(o),d="BR"===o.nodeName,!l||i&&wysihtml5.dom.hasClass(o,i)?d?u=u.firstChild?null:u:u.appendChild(o):((u=u.firstChild?m(h,p):u).appendChild(o),u=null);return 0===n.length&&m(h,p),e.parentNode.replaceChild(p,e),p}return e}(),wysihtml5.dom.copyAttributes=function(o){return{from:function(a){return{to:function(e){for(var t,i=0,n=o.length;i<n;i++)t=o[i],"undefined"!=typeof a[t]&&""!==a[t]&&(e[t]=a[t]);return{andTo:arguments.callee}}}}}},function(s){var r=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],l=function(e){return!!t(e)&&parseInt(s.getStyle("width").from(e),10)<e.offsetWidth},t=function(e){for(var t=0,i=r.length;t<i;t++)if("border-box"===s.getStyle(r[t]).from(e))return r[t]};s.copyStyles=function(o){return{from:function(e){l(e)&&(o=wysihtml5.lang.array(o).without(r));for(var t,i="",n=o.length,a=0;a<n;a++)t=o[a],i+=t+":"+s.getStyle(t).from(e)+";";return{to:function(e){return s.setStyles(i).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(s){s.dom.delegate=function(n,a,e,o){return s.dom.observe(n,e,function(e){for(var t=e.target,i=s.lang.array(n.querySelectorAll(a));t&&t!==n;){if(i.contains(t)){o.call(t,e);break}t=t.parentNode}})}}(wysihtml5),function(s){s.dom.domNode=function(n){var a=[s.ELEMENT_NODE,s.TEXT_NODE],o=function(e){return e.nodeType===s.TEXT_NODE&&/^\s*$/g.test(e.data)};return{prev:function(e){var t=n.previousSibling,i=e&&e.nodeTypes?e.nodeTypes:a;return t?!s.lang.array(i).contains(t.nodeType)||e&&e.ignoreBlankTexts&&o(t)?s.dom.domNode(t).prev(e):t:null},next:function(e){var t=n.nextSibling,i=e&&e.nodeTypes?e.nodeTypes:a;return t?!s.lang.array(i).contains(t.nodeType)||e&&e.ignoreBlankTexts&&o(t)?s.dom.domNode(t).next(e):t:null},lastLeafNode:function(e){var t;if(1!==n.nodeType)return n;if(!(t=n.lastChild))return n;if(e&&e.leafClasses)for(var i=e.leafClasses.length;i--;)if(s.dom.hasClass(n,e.leafClasses[i]))return n;return s.dom.domNode(t).lastLeafNode(e)}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var n=function(e,t){var i=t.createElement("div");i.style.display="none",t.body.appendChild(i);try{i.innerHTML=e}catch(n){}return t.body.removeChild(i),i},a=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,i=o.length;t<i;t++)e.createElement(o[t]);e._wysihtml5_supportsHTML5Tags=!0}},o=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(e,t){var i;return t=t||document,"object"==typeof e&&e.nodeType?(i=t.createElement("div")).appendChild(e):wysihtml5.browser.supportsHTML5Tags(t)?(i=t.createElement("div")).innerHTML=e:(a(t),i=n(e,t)),i}}(),wysihtml5.dom.getParentElement=function(){function s(e,t){return!t||!t.length||("string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e))}function r(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function l(e,t,i){var n=(e.className||"").match(i)||[];return t?n[n.length-1]===t:!!n.length}function d(e,t,i){var n=(e.getAttribute("style")||"").match(i)||[];return t?n[n.length-1]===t:!!n.length}return function(e,t,i,n){var a=t.cssStyle||t.styleRegExp,o=t.className||t.classRegExp;for(i=i||50,o&&!t.classRegExp&&(t.classRegExp=new RegExp(t.className));i--&&e&&"BODY"!==e.nodeName&&(!n||e!==n);){if(r(e)&&(!t.nodeName||s(e.nodeName,t.nodeName))&&(!a||d(e,t.cssStyle,t.styleRegExp))&&(!o||l(e,t.className,t.classRegExp)))return e;e=e.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function h(e){return e.replace(t,function(e){return e.charAt(1).toUpperCase()})}var p={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},t=/\-[a-z]/g;return function(c){return{from:function(e){if(e.nodeType===wysihtml5.ELEMENT_NODE){var t=e.ownerDocument,i=p[c]||h(c),n=e.style,a=e.currentStyle,o=n[i];if(o)return o;if(a)try{return a[i]}catch(u){}var s,r,l=t.defaultView||t.parentWindow,d=("height"===c||"width"===c)&&"TEXTAREA"===e.nodeName;return l.getComputedStyle?(d&&(s=n.overflow,n.overflow="hidden"),r=l.getComputedStyle(e,null).getPropertyValue(c),d&&(n.overflow=s||""),r):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var i=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||i.push(e):i=i.concat(wysihtml5.dom.getTextNodes(e,t));return i},wysihtml5.dom.hasElementWithTagName=function(){function a(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=t++)}var o={},t=1;return function(e,t){var i=a(e)+":"+t,n=o[i];return n||(n=o[i]=e.getElementsByTagName(t)),0<n.length}}(),function(a){function o(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=t++)}var s={},t=1;a.dom.hasElementWithClassName=function(e,t){if(!a.browser.supportsNativeGetElementsByClassName())return!!e.querySelector("."+t);var i=o(e)+":"+t,n=s[i];return n||(n=s[i]=e.getElementsByClassName(t)),0<n.length}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join("\n"),{into:function(e){var t=e.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=a:t.appendChild(e.createTextNode(a));var i=e.querySelector("head link");if(i)i.parentNode.insertBefore(t,i);else{var n=e.querySelector("head");n&&n.appendChild(t)}}}},function(o){o.dom.lineBreaks=function(n){function i(e){return"BR"===e.nodeName}function a(e){return!!i(e)||"block"===o.dom.getStyle("display").from(e)}return{add:function(){var e=n.ownerDocument,t=o.dom.domNode(n).next({ignoreBlankTexts:!0}),i=o.dom.domNode(n).prev({ignoreBlankTexts:!0});t&&!a(t)&&o.dom.insert(e.createElement("br")).after(n),i&&!a(i)&&o.dom.insert(e.createElement("br")).before(n)},remove:function(){var e=o.dom.domNode(n).next({ignoreBlankTexts:!0}),t=o.dom.domNode(n).prev({ignoreBlankTexts:!0});e&&i(e)&&e.parentNode.removeChild(e),t&&i(t)&&t.parentNode.removeChild(t)}}}}(wysihtml5),wysihtml5.dom.observe=function(n,a,o){for(var s,e,t=0,i=(a="string"==typeof a?[a]:a).length;t<i;t++)e=a[t],n.addEventListener?n.addEventListener(e,o,!1):(s=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},o.call(n,e)},n.attachEvent("on"+e,s));return{stop:function(){for(var e,t=0,i=a.length;t<i;t++)e=a[t],n.removeEventListener?n.removeEventListener(e,o,!1):n.detachEvent("on"+e,s)}}},wysihtml5.dom.parse=function(e,t){function i(e,t){wysihtml5.lang.object(N).merge(E).merge(t.rules).get();var i,n,a,o=t.context||e.ownerDocument||document,s=o.createDocumentFragment(),r="string"==typeof e,l=!1;for(!0===t.clearInternals&&(l=!0),i=r?wysihtml5.dom.getAsDom(e,o):e,N.selectors&&c(i,N.selectors);i.firstChild;)(n=p(a=i.firstChild,t.cleanUp,l,t.uneditableClass))&&s.appendChild(n),a!==n&&i.removeChild(a);if(t.unjoinNbsps)for(var d=wysihtml5.dom.getTextNodes(s),u=d.length;u--;)d[u].nodeValue=d[u].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return i.innerHTML="",i.appendChild(s),r?wysihtml5.quirks.getCorrectInnerHTML(i):i}function p(e,t,i,n){var a,o,s,r,l=e.nodeType,d=e.childNodes,u=d.length,c=I[l],h=0;if(n&&1===l&&wysihtml5.dom.hasClass(e,n))return e;if(!(o=c&&c(e,i))){if(!1!==o)return null;for(a=e.ownerDocument.createDocumentFragment(),h=u;h--;)d[h]&&(s=p(d[h],t,i,n))&&(d[h]===s&&h--,a.insertBefore(s,a.firstChild));return""===(r=wysihtml5.dom.getStyle("display").from(e))&&(r=wysihtml5.lang.array(D).contains(e.tagName)?"block":""),wysihtml5.lang.array(["block","flex","table"]).contains(r)&&a.appendChild(e.ownerDocument.createElement("br")),wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(e.nodeName.toLowerCase())&&e.parentNode.lastChild!==e&&(e.nextSibling&&3===e.nextSibling.nodeType&&/^\s/.test(e.nextSibling.nodeValue)||a.appendChild(e.ownerDocument.createTextNode(" "))),a.normalize&&a.normalize(),a}for(h=0;h<u;h++)d[h]&&(s=p(d[h],t,i,n))&&(d[h]===s&&h--,o.appendChild(s));if(t&&o.nodeName.toLowerCase()===P&&(!o.childNodes.length||/^\s*$/gi.test(o.innerHTML)&&(i||"_wysihtml5-temp-placeholder"!==e.className&&"rangySelectionBoundary"!==e.className)||!o.attributes.length)){for(a=o.ownerDocument.createDocumentFragment();o.firstChild;)a.appendChild(o.firstChild);return a.normalize&&a.normalize(),a}return o.normalize&&o.normalize(),o}function c(e,t){var i,n,a;for(i in t)if(t.hasOwnProperty(i)){wysihtml5.lang.object(t[i]).isFunction()?n=t[i]:"string"==typeof t[i]&&M[t[i]]&&(n=M[t[i]]);for(var o=(a=e.querySelectorAll(i)).length;o--;)n(a[o])}}function n(e,t){var i,n,a,o=N.tags,s=e.nodeName.toLowerCase(),
r=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(r&&"HTML"!=r&&(s=r+":"+s),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(s="div")),s in o){if(!(i=o[s])||i.remove)return null;if(i.unwrap)return!1;i="string"==typeof i?{rename_tag:i}:i}else{if(!e.firstChild)return null;i={rename_tag:P}}if(i.one_of_type&&!l(e,N,i.one_of_type,t)){if(!i.remove_action)return null;if("unwrap"===i.remove_action)return!1;if("rename"!==i.remove_action)return null;a=i.remove_action_rename_to||P}return u(e,n=e.ownerDocument.createElement(a||i.rename_tag||s),i,t),d(e,n,i),e=null,n.normalize&&n.normalize(),n}function l(e,t,i,n){var a;if("SPAN"===e.nodeName&&!n&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return!0;for(a in i)if(i.hasOwnProperty(a)&&t.type_definitions&&t.type_definitions[a]&&o(e,t.type_definitions[a]))return!0;return!1}function o(e,t){var i,n,a,o,s,r=e.getAttribute("class"),l=e.getAttribute("style");if(t.methods)for(var d in t.methods)if(t.methods.hasOwnProperty(d)&&V[d]&&V[d](e))return!0;if(r&&t.classes){i=(r=r.replace(/^\s+/g,"").replace(/\s+$/g,"").split(z)).length;for(var u=0;u<i;u++)if(t.classes[r[u]])return!0}if(l&&t.styles)for(n in l=l.split(";"),t.styles)if(t.styles.hasOwnProperty(n))for(var c=l.length;c--;)if((s=l[c].split(":"))[0].replace(/\s/g,"").toLowerCase()===n&&(!0===t.styles[n]||1===t.styles[n]||wysihtml5.lang.array(t.styles[n]).contains(s[1].replace(/\s/g,"").toLowerCase())))return!0;if(t.attrs)for(a in t.attrs)if(t.attrs.hasOwnProperty(a)&&"string"==typeof(o=wysihtml5.dom.getAttribute(e,a))&&-1<o.search(t.attrs[a]))return!0;return!1}function d(e,t,i){var n,a;if(i&&i.keep_styles)for(n in i.keep_styles)if(i.keep_styles.hasOwnProperty(n)){if(a="float"===n?e.style.styleFloat||e.style.cssFloat:e.style[n],i.keep_styles[n]instanceof RegExp&&!i.keep_styles[n].test(a))continue;"float"===n?t.style[e.style.styleFloat?"styleFloat":"cssFloat"]=a:e.style[n]&&(t.style[n]=a)}}function h(e,t){var i=[];for(var n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&i.push(n);return i}function g(e,t,i,n){var a,o=A[i];return!(!o||!(t||"alt"===e&&"IMG"==n)||"string"!=typeof(a=o(t)))&&a}function y(e,t){var i,n,a,o=wysihtml5.lang.object(N.attributes||{}).clone(),s=wysihtml5.lang.object(o).merge(wysihtml5.lang.object(t||{}).clone()).get(),r={},l=wysihtml5.dom.getAttributes(e);for(i in s)if(/\*$/.test(i))for(var d=0,u=(a=h(i.slice(0,-1),l)).length;d<u;d++)!1!==(n=g(a[d],l[a[d]],s[i],e.nodeName))&&(r[a[d]]=n);else!1!==(n=g(i,l[i],s[i],e.nodeName))&&(r[i]=n);return r}function u(e,t,i,n){var a,o,s,r,l,d={},u=i.set_class,c=i.add_class,h=i.add_style,p=i.set_attributes,g=N.classes,f=0,m=[],_=[],w=[],b=[];if(p&&(d=wysihtml5.lang.object(p).clone()),d=wysihtml5.lang.object(d).merge(y(e,i.check_attributes)).get(),u&&m.push(u),c)for(r in c)(l=B[c[r]])&&"string"==typeof(s=l(wysihtml5.dom.getAttribute(e,r)))&&m.push(s);if(h)for(r in h)(l=R[h[r]])&&(newStyle=l(wysihtml5.dom.getAttribute(e,r)),"string"==typeof newStyle&&_.push(newStyle));if("string"==typeof g&&"any"===g&&e.getAttribute("class"))if(N.classes_blacklist){for((b=e.getAttribute("class"))&&(m=m.concat(b.split(z))),a=m.length;f<a;f++)o=m[f],N.classes_blacklist[o]||w.push(o);w.length&&(d["class"]=wysihtml5.lang.array(w).unique().join(" "))}else d["class"]=e.getAttribute("class");else{for(n||(g["_wysihtml5-temp-placeholder"]=1,g._rangySelectionBoundary=1,g["wysiwyg-tmp-selected-cell"]=1),(b=e.getAttribute("class"))&&(m=m.concat(b.split(z))),a=m.length;f<a;f++)g[o=m[f]]&&w.push(o);w.length&&(d["class"]=wysihtml5.lang.array(w).unique().join(" "))}for(r in d["class"]&&n&&(d["class"]=d["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(d["class"])&&delete d["class"]),_.length&&(d.style=wysihtml5.lang.array(_).unique().join(" ")),d)try{t.setAttribute(r,d[r])}catch(v){}d.src&&("undefined"!=typeof d.width&&t.setAttribute("width",d.width),"undefined"!=typeof d.height&&t.setAttribute("height",d.height))}function a(e){var t=e.nextSibling;if(!t||t.nodeType!==wysihtml5.TEXT_NODE){var i=e.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"");return e.ownerDocument.createTextNode(i)}t.data=e.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")+t.data.replace(wysihtml5.INVISIBLE_SPACE_REG_EXP,"")}function s(e){if(N.comments)return e.ownerDocument.createComment(e.nodeValue)}var r,f,m,_,w,b,v,k,x,C,S,T,I={1:n,3:a,8:s},P="span",z=/\s+/,E={tags:{},classes:{}},N={},D=["ADDRESS","BLOCKQUOTE","CENTER","DIR","DIV","DL","FIELDSET","FORM","H1","H2","H3","H4","H5","H6","ISINDEX","MENU","NOFRAMES","NOSCRIPT","OL","P","PRE","TABLE","UL"],A={url:(w=/^https?:\/\//i,function(e){return e&&e.match(w)?e.replace(w,function(e){return e.toLowerCase()}):null}),src:(_=/^(\/|https?:\/\/)/i,function(e){return e&&e.match(_)?e.replace(_,function(e){return e.toLowerCase()}):null}),href:(m=/^(#|\/|https?:\/\/|mailto:)/i,function(e){return e&&e.match(m)?e.replace(m,function(e){return e.toLowerCase()}):null}),alt:(f=/[^ a-z0-9_\-]/gi,function(e){return e?e.replace(f,""):""}),numbers:(r=/\D/g,function(e){return(e=(e||"").replace(r,""))||null}),any:function(e){return e}},R={align_text:(b={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"},function(e){return b[String(e).toLowerCase()]})},B={align_img:(C={left:"wysiwyg-float-left",right:"wysiwyg-float-right"},function(e){return C[String(e).toLowerCase()]}),align_text:(x={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"},function(e){return x[String(e).toLowerCase()]}),clear_br:(k={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"},function(e){return k[String(e).toLowerCase()]}),size_font:(v={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"},function(e){return v[String(e).charAt(0)]})},V={has_visible_contet:(T=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"],function(e){if((S=(e.innerText||e.textContent).replace(/\s/g,""))&&0<S.length)return!0;for(var t=T.length;t--;)if(e.querySelector(T[t]))return!0;return!!(e.offsetWidth&&0<e.offsetWidth&&e.offsetHeight&&0<e.offsetHeight)})},M={unwrap:function(e){wysihtml5.dom.unwrap(e)},remove:function(e){e.parentNode.removeChild(e)}};return i(e,t)},wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,i=wysihtml5.lang.array(e.childNodes).get(),n=i.length,a=0;a<n;a++)(t=i[a]).nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var i,n=e.ownerDocument.createElement(t);i=e.firstChild;)n.appendChild(i);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(n),e.parentNode.replaceChild(n,e),n},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode)if(e.firstChild){for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}else e.parentNode.removeChild(e)},function(t){function u(e){return"block"===t.getStyle("display").from(e)}function c(e){return"BR"===e.nodeName}function h(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function e(e,t){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var i,n,a,o,s,r=e.ownerDocument,l=r.createDocumentFragment(),d=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0});if(t)for(!d||u(d)||c(d)||h(l);s=e.firstElementChild||e.firstChild;){for(n=s.lastChild;i=s.firstChild;)a=i===n&&!u(i)&&!c(i),l.appendChild(i),a&&h(l);s.parentNode.removeChild(s)}else for(;s=e.firstElementChild||e.firstChild;){if(s.querySelector&&s.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;i=s.firstChild;)l.appendChild(i);else{for(o=r.createElement("p");i=s.firstChild;)o.appendChild(i);l.appendChild(o)}s.parentNode.removeChild(s)}e.parentNode.replaceChild(l,e)}}t.resolveList=e}(wysihtml5.dom),function(l){var d=document,u=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],c=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],h=["referrer","write","open","close"];l.dom.Sandbox=Base.extend({constructor:function(e,t){this.callback=e||l.EMPTY_FUNCTION,this.config=l.lang.object({}).merge(t).get(),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=d.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var e=this,t=d.createElement("iframe");return t.className="wysihtml5-sandbox",l.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(t),l.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(t.src="javascript:'<html></html>'"),t.onload=function(){t.onreadystatechange=t.onload=null,e._onLoadIframe(t)},t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&(t.onreadystatechange=t.onload=null,e._onLoadIframe(t))},t},_onLoadIframe:function(e){if(l.dom.contains(d.documentElement,e)){var t=this,i=e.contentWindow,n=e.contentWindow.document,a=d.characterSet||d.charset||"utf-8",o=this._getHtml({charset:a,stylesheets:this.config.stylesheets});if(n.open("text/html","replace"),n.write(o),n.close(),this.getWindow=function(){return e.contentWindow},this.getDocument=function(){return e.contentWindow.document},i.onerror=function(e,t,i){throw new Error("wysihtml5.Sandbox: "+e,t,i)},!l.browser.supportsSandboxedIframes()){var s,r;for(s=0,r=u.length;s<r;s++)this._unset(i,u[s]);for(s=0,r=c.length;s<r;s++)this._unset(i,c[s],l.EMPTY_FUNCTION);for(s=0,r=h.length;s<r;s++)this._unset(n,h[s]);this._unset(n,"cookie","",!0)}this.loaded=!0,setTimeout(function(){t.callback(t)},0)}},_getHtml:function(e){var t,i=e.stylesheets,n="",a=0;if(i="string"==typeof i?[i]:i)for(t=i.length;a<t;a++)n+='<link rel="stylesheet" href="'+i[a]+'">';return e.stylesheets=n,l.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,t,i,n){try{e[t]=i}catch(o){}try{e.__defineGetter__(t,function(){return i})}catch(o){}if(n)try{e.__defineSetter__(t,function(){})}catch(o){}if(!l.browser.crashesWhenDefineProperty(t))try{var a={get:function(){return i}};n&&(a.set=function(){}),Object.defineProperty(e,t,a)}catch(o){}}})}(wysihtml5),function(n){var t=document;n.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(e,t,i){this.callback=e||n.EMPTY_FUNCTION,this.config=n.lang.object({}).merge(t).get(),this.element=i?this._bindElement(i):this._createElement()},_createElement:function(){var e=t.createElement("div");return e.className="wysihtml5-sandbox",this._loadElement(e),e},_bindElement:function(e){return e.className=e.className&&""!=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var i=this;if(!t){var n=this._getHtml();e.innerHTML=n}this.getWindow=function(){return e.ownerDocument.defaultView},this.getDocument=function(){return e.ownerDocument},this.loaded=!0,setTimeout(function(){i.callback(i)},0)},_getHtml:function(){return""}})}(wysihtml5),function(){var n={className:"class"};wysihtml5.dom.setAttributes=function(i){return{on:function(e){for(var t in i)e.setAttribute(n[t]||t,i[t])}}}}(),wysihtml5.dom.setStyles=function(n){return{on:function(e){var t=e.style;if("string"!=typeof n)for(var i in n)"float"===i?(t.cssFloat=n[i],t.styleFloat=n[i]):t[i]=n[i];else t.cssText+=";"+n}}},function(s){s.simulatePlaceholder=function(e,t,i){var n="placeholder",a=function(){var e=0<t.element.offsetWidth&&0<t.element.offsetHeight;t.hasPlaceholderSet()&&(t.clear(),t.element.focus(),e&&setTimeout(function(){var e=t.selection.getSelection();e.focusNode&&e.anchorNode||t.selection.selectNode(t.element.firstChild||t.element)},0)),t.placeholderSet=!1,s.removeClass(t.element,n)},o=function(){t.isEmpty()&&(t.placeholderSet=!0,t.setValue(i),s.addClass(t.element,n))};e.on("set_placeholder",o).on("unset_placeholder",a).on("focus:composer",a).on("paste:composer",a).on("blur:composer",o),o()}}(wysihtml5.dom),function(e){var t=document.documentElement;e.getTextContent="textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var i=!wysihtml5.browser.supportsGetAttributeCorrectly();return t=t.toLowerCase(),"IMG"==e.nodeName&&"src"==t&&!0===wysihtml5.dom.isLoadedImage(e)?e.src:i&&"outerHTML"in e?-1!=e.outerHTML.toLowerCase().indexOf(" "+t+"=")?e.getAttribute(t):null:e.getAttribute(t)},wysihtml5.dom.getAttributes=function(e){var t,i=!wysihtml5.browser.supportsGetAttributeCorrectly(),n=e.nodeName,a=[];for(t in e.attributes)(e.attributes.hasOwnProperty&&e.attributes.hasOwnProperty(t)||!e.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e.attributes,t))&&e.attributes[t].specified&&("IMG"==n&&"src"==e.attributes[t].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(e)?a.src=e.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(e.attributes[t].name.toLowerCase())&&i?1!==e.attributes[t].value&&(a[e.attributes[t].name]=e.attributes[t].value):a[e.attributes[t].name]=e.attributes[t].value);return a},wysihtml5.dom.isLoadedImage=function(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}},function(a){function o(e,t){for(var i,n=[],a=0,o=e.length;a<o;a++)if(i=e[a].querySelectorAll(t))for(var s=i.length;s--;n.unshift(i[s]));return n}function l(e){e.parentNode.removeChild(e)}function h(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function p(e,t){for(var i=e.nextSibling;1!=i.nodeType;)if(i=i.nextSibling,!t||t==i.tagName.toLowerCase())return i;return null}var g=a.dom,f=function(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},i=function(e,t){e?(this.cell=e,this.table=g.getParentElement(e,{nodeName:["TABLE"]})):t&&(this.table=t,this.cell=this.table.querySelectorAll("th, td")[0])};i.prototype={addSpannedCellToMap:function(e,t,i,n,a,o){for(var s=[],r=i+(o?parseInt(o,10)-1:0),l=n+(a?parseInt(a,10)-1:0),d=i;d<=r;d++){"undefined"==typeof t[d]&&(t[d]=[]);for(var u=n;u<=l;u++)t[d][u]=new f(e),t[d][u].isColspan=a&&1<parseInt(a,10),t[d][u].isRowspan=o&&1<parseInt(o,10),t[d][u].firstCol=u==n,t[d][u].lastCol=u==l,t[d][u].firstRow=d==i,t[d][u].lastRow=d==r,t[d][u].isReal=u==n&&d==i,(t[d][u].spanCollection=s).push(t[d][u])}},setCellAsModified:function(e){if(e.modified=!0,0<e.spanCollection.length)for(var t=0,i=e.spanCollection.length;t<i;t++)e.spanCollection[t].modified=!0},setTableMap:function(){var e,t,i,n,a,o,s,r,l=[],d=this.getTableRows();for(e=0;e<d.length;e++)for(t=d[e],i=this.getRowCells(t),o=0,"undefined"==typeof l[e]&&(l[e]=[]),n=0;n<i.length;n++){for(a=i[n];"undefined"!=typeof l[e][o];)o++;s=g.getAttribute(a,"colspan"),r=g.getAttribute(a,"rowspan"),s||r?(this.addSpannedCellToMap(a,l,e,o,s,r),o+=s?parseInt(s,10):1):(l[e][o]=new f(a),o++)}return this.map=l},getRowCells:function(e){var t=this.table.querySelectorAll("table"),i=t?o(t,"th, td"):[],n=e.querySelectorAll("th, td");return 0<i.length?a.lang.array(n).without(i):n},getTableRows:function(){var e=this.table.querySelectorAll("table"),t=e?o(e,"tr"):[],i=this.table.querySelectorAll("tr");return 0<t.length?a.lang.array(i).without(t):i},getMapIndex:function(e){for(var t=this.map.length,i=this.map&&this.map[0]?this.map[0].length:0,n=0;n<t;n++)for(var a=0;a<i;a++)if(this.map[n][a].el===e)return{row:n,col:a};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var i=this.idx_start;this.idx_start=this.idx_end,this.idx_end=i}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}if(null!=this.idx_start&&null!=this.idx_end)for(var a=this.idx_start.row,o=this.idx_end.row;a<=o;a++)for(var s=this.idx_start.col,r=this.idx_end.col;s<=r;s++)t.push(this.map[a][s].el);return t},orderSelectionEnds:function(e){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,i){for(var n,a=this.table.ownerDocument,o=a.createDocumentFragment(),s=0;s<t;s++){if(n=a.createElement(e),i)for(var r in i)i.hasOwnProperty(r)&&n.setAttribute(r,i[r]);n.appendChild(document.createTextNode("\xa0")),o.appendChild(n)}return o},correctColIndexForUnreals:function(e,t){for(var i=this.map[t],n=-1,a=0;a<e;a++)i[a].isReal&&n++;return n},getLastNewCellOnRow:function(e,t){for(var i,n,a=this.getRowCells(e),o=0,s=a.length;o<s;o++)if(i=a[o],!1===(n=this.getMapIndex(i))||void 0!==t&&n.row!=t)return i;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return(!e||0==e.length)&&(l(this.table),!0)},splitRowToCells:function(e){if(e.isColspan){var t=parseInt(g.getAttribute(e.el,"colspan")||1,10),i=e.el.tagName.toLowerCase();if(1<t){var n=this.createCells(i,t-1);h(e.el,n)}e.el.removeAttribute("colspan")}},getRealRowEl:function(e,t){var i=null,n=null;t=t||this.idx;for(var a=0,o=this.map[t.row].length;a<o;a++)if((n=this.map[t.row][a]).isReal&&(i=g.getParentElement(n.el,{nodeName:["TR"]})))return i;return null===i&&e&&(i=g.getParentElement(this.map[t.row][t.col].el,{nodeName:["TR"]})||null),i},injectRowAt:function(e,t,i,n,a){var o=this.getRealRowEl(!1,{row:e,col:t}),s=this.createCells(n,i);if(o){var r=this.correctColIndexForUnreals(t,e);0<=r?h(this.getRowCells(o)[r],s):o.insertBefore(s,o.firstChild)}else{var l=this.table.ownerDocument.createElement("tr");l.appendChild(s),h(g.getParentElement(a.el,{nodeName:["TR"]}),l)}},canMerge:function(e){if(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}for(var n=this.idx_start.row,a=this.idx_end.row;n<=a;n++)for(var o=this.idx_start.col,s=this.idx_end.col;o<=s;o++)if(this.map[n][o].isColspan||this.map[n][o].isRowspan)return!1;return!0},decreaseCellSpan:function(e,t){var i=parseInt(g.getAttribute(e.el,t),10)-1;1<=i?e.el.setAttribute(t,i):(e.el.removeAttribute(t),"colspan"==t&&(e.isColspan=!1),"rowspan"==t&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,t,i,n,a,o,s;if(this.setTableMap(),this.map){for(i=0,n=this.map.length;i<n;i++){for(s=!0,a=0,o=(e=this.map[i]).length;a<o;a++)if(t=e[a],!(g.getAttribute(t.el,"rowspan")&&1<parseInt(g.getAttribute(t.el,"rowspan"),10)&&!0!==t.firstRow)){s=!1;break}if(s)for(a=0;a<o;a++)this.decreaseCellSpan(e[a],"rowspan")}var r=this.getTableRows();for(i=0,n=r.length;i<n;i++)0==(e=r[i]).childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&l(e)}},fillMissingCells:function(){var e=0,t=0,i=null;if(this.setTableMap(),this.map){e=this.map.length;for(var n=0;n<e;n++)this.map[n].length>t&&(t=this.map[n].length);for(var a=0;a<e;a++)for(var o=0;o<t;o++)this.map[a]&&!this.map[a][o]&&0<o&&(this.map[a][o]=new f(this.createCells("td",1)),(i=this.map[a][o-1])&&i.el&&i.el.parent&&h(this.map[a][o-1].el,this.map[a][o].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var e=this.map[this.idx.row][this.idx.col],t=g.getAttribute(e.el,"colspan")?parseInt(g.getAttribute(e.el,"colspan"),10):1,i=e.el.tagName.toLowerCase();if(e.isRowspan){var n=parseInt(g.getAttribute(e.el,"rowspan"),10);if(1<n)for(var a=1,o=n-1;a<=o;a++)this.injectRowAt(this.idx.row+a,this.idx.col,t,i,e);e.el.removeAttribute("rowspan")}this.splitRowToCells(e)}},merge:function(e){if(this.rectify())if(this.canMerge(e)){for(var t=this.idx_end.row-this.idx_start.row+1,i=this.idx_end.col-this.idx_start.col+1,n=this.idx_start.row,a=this.idx_end.row;n<=a;n++)for(var o=this.idx_start.col,s=this.idx_end.col;o<=s;o++)n==this.idx_start.row&&o==this.idx_start.col?(1<t&&this.map[n][o].el.setAttribute("rowspan",t),1<i&&this.map[n][o].el.setAttribute("colspan",i)):(/^\s*<br\/?>\s*$/.test(this.map[n][o].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[n][o].el.innerHTML),l(this.map[n][o].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(e){var t=this.getMapIndex(e.el),i=t.row+1,n={row:i,col:t.col};if(i<this.map.length){var a=this.getRealRowEl(!1,n);if(null!==a){var o=this.correctColIndexForUnreals(n.col,n.row);if(0<=o)h(this.getRowCells(a)[o],e.el);else{var s=this.getLastNewCellOnRow(a,i);null!==s?h(s,e.el):a.insertBefore(e.el,a.firstChild)}2<parseInt(g.getAttribute(e.el,"rowspan"),10)?e.el.setAttribute("rowspan",parseInt(g.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")}}},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):l(e.el):2<parseInt(g.getAttribute(e.el,"rowspan"),10)?e.el.setAttribute("rowspan",parseInt(g.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],i=0,n=t.length;i<n;i++)t[i].isReal&&e.push(t[i].el);return e},getColumnElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,i=this.map.length;t<i;t++)this.map[t][this.idx.col]&&this.map[t][this.idx.col].isReal&&e.push(this.map[t][this.idx.col].el);return e},removeRow:function(){var e=g.getParentElement(this.cell,{nodeName:["TR"]});if(e){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=this.map[this.idx.row],i=0,n=t.length;i<n;i++)t[i].modified||(this.setCellAsModified(t[i]),this.removeRowCell(t[i]));l(e)}},removeColCell:function(e){e.isColspan?2<parseInt(g.getAttribute(e.el,"colspan"),10)?e.el.setAttribute("colspan",parseInt(g.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&l(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var e=0,t=this.map.length;e<t;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var t=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&g.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(g.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(var i=this.map[this.idx.row],n=t.createElement("tr"),a=0,o=i.length;a<o;a++)i[a].modified||(this.setCellAsModified(i[a]),this.addRowCell(i[a],n,e));switch(e){case"below":h(this.getRealRowEl(!0),n);break;case"above":var s=g.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});s&&s.parentNode.insertBefore(n,s)}}},addRowCell:function(e,t,i){var n=e.isColspan?{colspan:g.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=i&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(g.getAttribute(e.el,"rowspan"),10)+1):t.appendChild(this.createCells("td",1,n)):"above"!=i&&e.isRowspan&&e.lastRow?t.appendChild(this.createCells("td",1,n)):c.isRowspan&&e.el.attr("rowspan",parseInt(g.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&("below"!=e&&"above"!=e||this.addRow(e),"before"!=e&&"after"!=e||this.addColumn(e))},addColCell:function(e,t,i){var n,a=e.el.tagName.toLowerCase();switch(i){case"before":n=!e.isColspan||e.firstCol;break;case"after":n=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(n){switch(i){case"before":e.el.parentNode.insertBefore(this.createCells(a,1),e.el);break;case"after":h(e.el,this.createCells(a,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,t+1,i)}else e.el.setAttribute("colspan",parseInt(g.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var t,i;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&g.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(g.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(var n=0,a=this.map.length;n<a;n++)(t=this.map[n])[this.idx.col]&&((i=t[this.idx.col]).modified||(this.setCellAsModified(i),this.addColCell(i,n,e)))},handleCellAddWithRowspan:function(e,t,i){for(var n,a,o,s=parseInt(g.getAttribute(this.cell,"rowspan"),10)-1,r=g.getParentElement(e.el,{nodeName:["TR"]}),l=e.el.tagName.toLowerCase(),d=this.table.ownerDocument,u=0;u<s;u++)if(n=this.correctColIndexForUnreals(this.idx.col,t+u),r=p(r,"tr"))if(0<n)switch(i){case"before":a=this.getRowCells(r),0<n&&this.map[t+u][this.idx.col].el!=a[n]&&n==a.length-1?h(a[n],this.createCells(l,1)):a[n].parentNode.insertBefore(this.createCells(l,1),a[n]);break;case"after":h(this.getRowCells(r)[n],this.createCells(l,1))}else r.insertBefore(this.createCells(l,1),r.firstChild);else(o=d.createElement("tr")).appendChild(this.createCells(l,1)),this.table.appendChild(o)}},g.table={getCellsBetween:function(e,t){return new i(e).getMapElsTo(t)},addCells:function(e,t){new i(e).add(t)},removeCells:function(e,t){new i(e).remove(t)},mergeCellsBetween:function(e,t){new i(e).merge(t)},unmergeCell:function(e){new i(e).unmerge()},orderSelectionEnds:function(e,t){return new i(e).orderSelectionEnds(t)},indexOf:function(e){var t=new i(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){return new i(null,e).getElementAtIndex(t)},findRowByCell:function(e){return new i(e).getRowElementsByCell()},findColumnByCell:function(e){return new i(e).getColumnElementsByCell()},canMerge:function(e,t){return new i(e).canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var i,n=[];e.nodeType&&(e=[e]);for(var a=0,o=e.length;a<o;a++)if(i=e[a].querySelectorAll(t))for(var s=i.length;s--;n.unshift(i[s]));return n},wysihtml5.dom.compareDocumentPosition=document.documentElement.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var i,n;if(i=9===e.nodeType?e:e.ownerDocument,n=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(i!==n)return 1;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 20;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 10;for(var a=e,o=[],s=null;a;){if(a==t)return 10;o.push(a),a=a.parentNode}for(a=t,s=null;a;){if(a==e)return 20;var r=wysihtml5.lang.array(o).indexOf(a);if(-1!==r){var l=o[r],d=wysihtml5.lang.array(l.childNodes).indexOf(o[r-1]);return wysihtml5.lang.array(l.childNodes).indexOf(s)<d?2:4}a=(s=a).parentNode}return 1},wysihtml5.dom.unwrap=function(e){if(e.parentNode){for(;e.lastChild;)wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}},wysihtml5.dom.getPastedHtml=function(e){var t;return e.clipboardData&&(wysihtml5.lang.array(e.clipboardData.types).contains("text/html")?t=e.clipboardData.getData("text/html"):wysihtml5.lang.array(e.clipboardData.types).contains("text/plain")&&(t=wysihtml5.lang.string(e.clipboardData.getData("text/plain")).escapeHTML(!0,!0))),t},wysihtml5.dom.getPastedHtmlWithDiv=function(e,t){var i=e.selection.getBookmark(),n=e.element.ownerDocument,a=n.createElement("DIV");n.body.appendChild(a),a.style.width="1px",a.style.height="1px",a.style.overflow="hidden",a.setAttribute("contenteditable","true"),a.focus(),setTimeout(function(){e.selection.setBookmark(i),t(a.innerHTML),a.parentNode.removeChild(a)},0)},wysihtml5.quirks.cleanPastedHTML=function(){var o=function(e){var t=wysihtml5.lang.string(e).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return new RegExp("^((?!^"+t+"$).)*$","i")},a=function(e,t){var i,n,a=wysihtml5.lang.object(e).clone(!0);for(i in a.tags)if(a.tags.hasOwnProperty(i)&&a.tags[i].keep_styles)for(n in a.tags[i].keep_styles)a.tags[i].keep_styles.hasOwnProperty(n)&&t[n]&&(a.tags[i].keep_styles[n]=o(t[n]));return a},s=function(e,t){var i;if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].condition||(i=e[n].set),e[n].condition&&e[n].condition.test(t))return e[n].set;return i};return function(e,t){var i={color:wysihtml5.dom.getStyle("color").from(t.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(t.referenceNode)},n=a(s(t.rules,e)||{},i);return wysihtml5.dom.parse(e,{rules:n,cleanUp:!0,context:t.referenceNode.ownerDocument,uneditableClass:t.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();"<p>&nbsp;</p>"!=e&&"<p>&nbsp;</p><p>&nbsp;</p>"!=e||(t.innerHTML="")},0)};return function(e){wysihtml5.dom.observe(e.element,["cut","keydown"],t)}}(),function(r){var l="%7E";r.quirks.getCorrectInnerHTML=function(e){var t=e.innerHTML;if(-1===t.indexOf(l))return t;var i,n,a,o,s=e.querySelectorAll("[href*='~'], [src*='~']");for(o=0,a=s.length;o<a;o++)i=s[o].href||s[o].src,n=r.lang.string(i).replace("~").by(l),t=r.lang.string(t).replace(n).by(i);return t}}(wysihtml5),function(n){var a="wysihtml5-quirks-redraw";n.quirks.redraw=function(e){n.dom.addClass(e,a),n.dom.removeClass(e,a);try{var t=e.ownerDocument;t.execCommand("italic",!1,null),t.execCommand("italic",!1,null)}catch(i){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(i,a){function e(){return u.observe(i,"mousedown",function(e){var t=wysihtml5.dom.getParentElement(e.target,{nodeName:["TD","TH"]});t&&n(t)}),c}function n(e){c.start=e,c.end=e,c.cells=[e],c.table=u.getParentElement(c.start,{nodeName:["TABLE"]}),c.table&&(o(),u.addClass(e,h),p=u.observe(i,"mousemove",t),g=u.observe(i,"mouseup",r),a.fire("tableselectstart").fire("tableselectstart:composer"))}function o(){if(i){var e=i.querySelectorAll("."+h);if(0<e.length)for(var t=0;t<e.length;t++)u.removeClass(e[t],h)}}function s(e){for(var t=0;t<e.length;t++)u.addClass(e[t],h)}function t(e){var t,i=null,n=u.getParentElement(e.target,{nodeName:["TD","TH"]});n&&c.table&&c.start&&(i=u.getParentElement(n,{nodeName:["TABLE"]}))&&i===c.table&&(o(),t=c.end,c.end=n,c.cells=u.table.getCellsBetween(c.start,n),1<c.cells.length&&a.composer.selection.deselect(),s(c.cells),c.end!==t&&a.fire("tableselectchange").fire("tableselectchange:composer"))}function r(){p.stop(),g.stop(),a.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){l()},0)}function l(){var t=u.observe(i.ownerDocument,"click",function(e){t.stop(),u.getParentElement(e.target,{nodeName:["TABLE"]})!=c.table&&(o(),c.table=null,
c.start=null,c.end=null,a.fire("tableunselect").fire("tableunselect:composer"))})}function d(e,t){c.start=e,c.end=t,c.table=u.getParentElement(c.start,{nodeName:["TABLE"]}),selectedCells=u.table.getCellsBetween(c.start,c.end),s(selectedCells),l(),a.fire("tableselect").fire("tableselect:composer")}var u=wysihtml5.dom,c={table:null,start:null,end:null,cells:null,select:d},h="wysiwyg-tmp-selected-cell",p=null,g=null;return e()},function(l){var d=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,u=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,c=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,h=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,p=function(e){return new RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")};l.quirks.styleParser={parseColor:function(e,t){var i,n,a=p(t),o=e.match(a),s=10;if(o){for(var r=o.length;r--;)o[r]=l.lang.string(o[r].split(":")[1]).trim();if(i=o[o.length-1],d.test(i))n=i.match(d);else if(u.test(i))n=i.match(u);else if(c.test(i))n=i.match(c),s=16;else if(h.test(i))return(n=i.match(h)).shift(),n.push(1),l.lang.array(n).map(function(e,t){return t<3?16*parseInt(e,16)+parseInt(e,16):parseFloat(e)});if(n)return n.shift(),n[3]||n.push(1),l.lang.array(n).map(function(e,t){return t<3?parseInt(e,s):parseFloat(e)})}return!1},unparseColor:function(e,t){if(t){if("hex"==t)return e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("hash"==t)return"#"+e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("rgb"==t)return"rgb("+e[0]+","+e[1]+","+e[2]+")";if("rgba"==t)return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")";if("csv"==t)return e[0]+","+e[1]+","+e[2]+","+e[3]}return e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(e){var t=e.match(p("font-size"));return!!t&&l.lang.string(t[t.length-1].split(":")[1]).trim()}}}(wysihtml5),function(b){function s(e){var t=0;if(e.parentNode)for(;t+=e.offsetTop||0,e=e.offsetParent;);return t}function a(e,t){for(var i=0;t!==e;)if(i++,!(t=t.parentNode))throw new Error("not a descendant of ancestor!");return i}function t(e){if(!e.canSurroundContents())for(var t=e.commonAncestorContainer,i=a(t,e.startContainer),n=a(t,e.endContainer);!e.canSurroundContents();)n<i?(e.setStartBefore(e.startContainer),i=a(t,e.startContainer)):(e.setEndAfter(e.endContainer),n=a(t,e.endContainer))}var v=b.dom;b.Selection=Base.extend({constructor:function(e,t,i){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.contain=t,this.unselectableClass=i||!1},getBookmark:function(){var e=this.getRange();return e&&t(e),e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},creteTemporaryCaretSpaceAfter:function(e){var t=this.doc.createElement("span"),i=this.doc.createTextNode(b.INVISIBLE_SPACE),n=function(){var e;this.contain.removeEventListener("mouseup",n),this.contain.removeEventListener("keydown",o),this.contain.removeEventListener("touchstart",n),this.contain.removeEventListener("focus",n),this.contain.removeEventListener("blur",n),this.contain.removeEventListener("paste",a),this.contain.removeEventListener("drop",a),this.contain.removeEventListener("beforepaste",a),t&&t.parentNode&&(t.innerHTML=t.innerHTML.replace(b.INVISIBLE_SPACE_REG_EXP,""),/[^\s]+/.test(t.innerHTML)?(e=t.lastChild,b.dom.unwrap(t),this.setAfter(e)):t.parentNode.removeChild(t))}.bind(this),a=function(){t&&t.parentNode&&setTimeout(n,0)},o=function(e){8===e.which||91===e.which||17===e.which||86===e.which&&(e.ctrlKey||e.metaKey)||n()};return t.style.position="absolute",t.style.display="block",t.style.minWidth="1px",t.style.zIndex="99999",t.appendChild(i),e.parentNode.insertBefore(t,e.nextSibling),this.setBefore(i),this.contain.addEventListener("mouseup",n),this.contain.addEventListener("keydown",o),this.contain.addEventListener("touchstart",n),this.contain.addEventListener("focus",n),this.contain.addEventListener("blur",n),this.contain.addEventListener("paste",a),this.contain.addEventListener("drop",a),this.contain.addEventListener("beforepaste",a),t},setAfter:function(e){var t,i=rangy.createRange(this.doc),n=this.doc.documentElement.scrollTop||this.doc.body.scrollTop||this.doc.defaultView.pageYOffset,a=this.doc.documentElement.scrollLeft||this.doc.body.scrollLeft||this.doc.defaultView.pageXOffset;return i.setStartAfter(e),i.setEndAfter(e),this.composer.element.focus(),this.doc.defaultView.scrollTo(a,n),(t=this.setSelection(i))||this.creteTemporaryCaretSpaceAfter(e),t},selectNode:function(e,t){var i=rangy.createRange(this.doc),n=e.nodeType===b.ELEMENT_NODE,a="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,o=n?e.innerHTML:e.data,s=""===o||o===b.INVISIBLE_SPACE,r=v.getStyle("display").from(e),l="block"===r||"list-item"===r;if(s&&n&&a&&!t)try{e.innerHTML=b.INVISIBLE_SPACE}catch(d){}a?i.selectNodeContents(e):i.selectNode(e),a&&s&&n?i.collapse(l):a&&s&&(i.setStartAfter(e),i.setEndAfter(e)),this.setSelection(i)},getSelectedNode:function(e){var t,i;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(i=this.doc.selection.createRange())&&i.length?i.item(0):(t=this.getSelection(this.doc)).focusNode===t.anchorNode?t.focusNode:(i=this.getRange(this.doc))?i.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var e=this.getRange();t(e),this.setSelection(e)},getSelectedOwnNodes:function(){for(var e=this.getOwnRanges(),t=[],i=0,n=e.length;i<n;i++)t.push(e[i].commonAncestorContainer||this.doc.body);return t},findNodesInSelection:function(t){for(var e,i=this.getOwnRanges(),n=[],a=0,o=i.length;a<o;a++)e=i[a].getNodes([1],function(e){return b.lang.array(t).contains(e.nodeName)}),n=n.concat(e);return n},containsUneditable:function(){for(var e=this.getOwnUneditables(),t=this.getSelection(),i=0,n=e.length;i<n;i++)if(t.containsNode(e[i]))return!0;return!1},deleteContents:function(){var e,t,i,n,a=this.getRange();if(this.unselectableClass){(e=b.dom.getParentElement(a.startContainer,{className:this.unselectableClass},!1,this.contain))&&a.setStartBefore(e),(t=b.dom.getParentElement(a.endContainer,{className:this.unselectableClass},!1,this.contain))&&a.setEndAfter(t);for(var o=(i=a.getNodes([1],function(e){return b.dom.hasClass(e,this.unselectableClass)}.bind(this))).length;o--;)try{n=new CustomEvent("wysihtml5:uneditable:delete"),i[o].dispatchEvent(n)}catch(s){}}a.deleteContents(),this.setSelection(a)},getPreviousNode:function(e,t){var i;e||(e=this.getSelection().anchorNode);if(e===this.contain)return!1;var n,a=e.previousSibling;return a!==this.contain&&(a&&3!==a.nodeType&&1!==a.nodeType?a=this.getPreviousNode(a,t):a&&3===a.nodeType&&/^\s*$/.test(a.textContent)?a=this.getPreviousNode(a,t):t&&a&&1===a.nodeType?(i=b.dom.getStyle("display").from(a),b.lang.array(["BR","HR","IMG"]).contains(a.nodeName)||b.lang.array(["block","inline-block","flex","list-item","table"]).contains(i)||!/^[\s]*$/.test(a.innerHTML)||(a=this.getPreviousNode(a,t))):a||e===this.contain||(n=e.parentNode)!==this.contain&&(a=this.getPreviousNode(n,t)),a!==this.contain&&a)},getSelectionParentsByTag:function(){for(var e,t=this.getSelectedOwnNodes(),i=[],n=0,a=t.length;n<a;n++)(e=t[n].nodeName&&"LI"===t[n].nodeName?t[n]:b.dom.getParentElement(t[n],{nodeName:["LI"]},!1,this.contain))&&i.push(e);return i.length?i:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,i=e.startOffset,n=rangy.createRange(this.doc);return n.selectNodeContents(t),n.setStart(t,i),n}},caretIsLastInSelection:function(){rangy.createRange(this.doc),this.getSelection();var e=this.getRangeToNodeEnd().cloneContents().textContent;return/^\s*$/.test(e)},caretIsFirstInSelection:function(){var e=rangy.createRange(this.doc),t=this.getSelection(),i=this.getRange(),n=i.startContainer;if(n)return n.nodeType===b.TEXT_NODE?this.isCollapsed()&&n.nodeType===b.TEXT_NODE&&/^\s*$/.test(n.data.substr(0,i.startOffset)):(e.selectNodeContents(this.getRange().commonAncestorContainer),e.collapse(!0),this.isCollapsed()&&(e.startContainer===t.anchorNode||e.endContainer===t.anchorNode)&&e.startOffset===t.anchorOffset)},caretIsInTheBeginnig:function(e){var t=this.getSelection(),i=t.anchorNode,n=t.anchorOffset;return e&&i?0===n&&(i.nodeName&&i.nodeName===e.toUpperCase()||b.dom.getParentElement(i.parentNode,{nodeName:e},1)):i?0===n&&!this.getPreviousNode(i,!0):void 0},caretIsBeforeUneditable:function(){var e,t,i,n=this.getSelection(),a=n.anchorNode,o=n.anchorOffset,s=[];if(a)if(0===o){var r=this.getPreviousNode(a,!0),l=r?b.dom.domNode(r).lastLeafNode(!!this.unselectableClass&&{leafClasses:[this.unselectableClass]}):null;if(l)for(var d=this.getOwnUneditables(),u=0,c=d.length;u<c;u++)if(l===d[u])return d[u]}else{if((e=n.getRangeAt(0)).setStart(e.startContainer,e.startOffset-1),e)for(var h=0,p=(t=e.getNodes([1,3])).length;h<p;h++)t[h].parentNode&&t[h].parentNode===a&&s.push(t[h]);if((i=0<s.length?s[s.length-1]:null)&&1===i.nodeType&&b.dom.hasClass(i,this.unselectableClass))return i}return!1},executeAndRestoreRangy:function(e){var t=this.doc.defaultView||this.doc.parentWindow,i=rangy.saveSelection(t);if(i)try{e()}catch(n){setTimeout(function(){throw n},0)}else e();rangy.restoreSelection(i)},executeAndRestore:function(e,t){var i,n,a,o,s,r,l,d,u=this.doc.body,c=t&&u.scrollTop,h=t&&u.scrollLeft,p="_wysihtml5-temp-placeholder",g='<span class="'+p+'">'+b.INVISIBLE_SPACE+"</span>",f=this.getRange(!0);if(f){f.collapsed||(r=(l=f.cloneRange()).createContextualFragment(g),l.collapse(!1),l.insertNode(r),l.detach()),s=f.createContextualFragment(g),f.insertNode(s),r&&(i=this.contain.querySelectorAll("."+p),f.setStartBefore(i[0]),f.setEndAfter(i[i.length-1])),this.setSelection(f);try{e(f.startContainer,f.endContainer)}catch(_){setTimeout(function(){throw _},0)}if((i=this.contain.querySelectorAll("."+p))&&i.length){d=rangy.createRange(this.doc),a=i[0].nextSibling,1<i.length&&(o=i[i.length-1].previousSibling),o&&a?(d.setStartBefore(a),d.setEndAfter(o)):(n=this.doc.createTextNode(b.INVISIBLE_SPACE),v.insert(n).after(i[0]),d.setStartBefore(n),d.setEndAfter(n)),this.setSelection(d);for(var m=i.length;m--;)i[m].parentNode.removeChild(i[m])}else this.contain.focus();t&&(u.scrollTop=c,u.scrollLeft=h);try{i.parentNode.removeChild(i)}catch(w){}}else e(u,u)},set:function(e,t){var i=rangy.createRange(this.doc);i.setStart(e,t||0),this.setSelection(i)},insertHTML:function(e){rangy.createRange(this.doc);var t,i=this.doc.createElement("DIV"),n=this.doc.createDocumentFragment();for(i.innerHTML=e,t=i.lastChild;i.firstChild;)n.appendChild(i.firstChild);this.insertNode(n),t&&this.setAfter(t)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t,i=this.getOwnRanges(),n=[];if(0==i.length)return n;for(var a=i.length;a--;){t=this.doc.createElement(e.nodeName),n.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{i[a].surroundContents(t),this.selectNode(t)}catch(o){t.appendChild(i[a].extractContents()),i[a].insertNode(t)}}return n},deblockAndSurround:function(e){var t,i,n,a=this.doc.createElement("div"),o=rangy.createRange(this.doc);if(a.className=e.className,this.composer.commands.exec("formatBlock",e.nodeName,e.className),(t=this.contain.querySelectorAll("."+e.className))[0])for(t[0].parentNode.insertBefore(a,t[0]),o.setStartBefore(t[0]),o.setEndAfter(t[t.length-1]),i=o.extractContents();i.firstChild;)if(1==(n=i.firstChild).nodeType&&b.dom.hasClass(n,e.className)){for(;n.firstChild;)a.appendChild(n.firstChild);"BR"!==n.nodeName&&a.appendChild(this.doc.createElement("br")),i.removeChild(n)}else a.appendChild(n);else a=null;return a},scrollIntoView:function(){var e,t,i=this.doc,n=5,a=i.documentElement.scrollHeight>i.documentElement.offsetHeight,o=i._wysihtml5ScrollIntoViewElement=i._wysihtml5ScrollIntoViewElement||((t=i.createElement("span")).innerHTML=b.INVISIBLE_SPACE,t);a&&(this.insertNode(o),e=s(o),o.parentNode.removeChild(o),e>=i.body.scrollTop+i.documentElement.offsetHeight-n&&(i.body.scrollTop=e))},selectLine:function(){b.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView.getSelection();e.modify("move","left","lineboundary"),e.modify("extend","right","lineboundary")},toLineBoundary:function(e,t){if(t=void 0!==t&&t,b.browser.supportsSelectionModify()){var i=this.doc.defaultView.getSelection();i.modify("extend",e,"lineboundary"),t&&("left"===e?i.collapseToStart():"right"===e&&i.collapseToEnd())}},_selectLine_MSIE:function(){var e,t,i,n,a,o=this.doc.selection.createRange(),s=o.boundingTop,r=this.doc.body.scrollWidth;if(o.moveToPoint){for(0===s&&(i=this.doc.createElement("span"),this.insertNode(i),s=i.offsetTop,i.parentNode.removeChild(i)),s+=1,n=-10;n<r;n+=2)try{o.moveToPoint(n,s);break}catch(l){}for(e=s,t=this.doc.selection.createRange(),a=r;0<=a;a--)try{t.moveToPoint(a,e);break}catch(d){}o.setEndPoint("EndToEnd",t),o.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var i=this.getRange();return i?i.getNodes([e],t):[]},fixRangeOverflow:function(e){if(this.contain&&this.contain.firstChild&&e){var t=e.compareNode(this.contain);if(2!==t)1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(e)){var i=e.endContainer.previousElementSibling;i&&e.setEnd(i,this._endOffsetForNode(i))}}},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var t=v.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&t},getRange:function(e){var t=this.getSelection(),i=t&&t.rangeCount&&t.getRangeAt(0);return!0!==e&&this.fixRangeOverflow(i),i},getOwnUneditables:function(){var e=v.query(this.contain,"."+this.unselectableClass),t=v.query(e,"."+this.unselectableClass);return b.lang.array(e).without(t)},getOwnRanges:function(){var e,t=[],i=this.getRange();if(i&&t.push(i),this.unselectableClass&&this.contain&&i){var n,a=this.getOwnUneditables();if(0<a.length)for(var o=0,s=a.length;o<s;o++){e=[];for(var r=0,l=t.length;r<l;r++){if(t[r])switch(t[r].compareNode(a[o])){case 2:break;case 3:(n=t[r].cloneRange()).setEndBefore(a[o]),e.push(n),(n=t[r].cloneRange()).setStartAfter(a[o]),e.push(n);break;default:e.push(t[r])}t=e}}}return t},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,i=rangy.getSelection(t);return i.setSingleRange(e),i&&i.anchorNode&&i.focusNode?i:null},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},getPlainText:function(){return this.getSelection().toString()},isEndToEndInNode:function(e){var t=this.getRange(),i=t.commonAncestorContainer,n=t.startContainer,a=t.endContainer;if(i.nodeType===b.TEXT_NODE&&(i=i.parentNode),n.nodeType===b.TEXT_NODE&&!/^\s*$/.test(n.data.substr(t.startOffset)))return!1;if(a.nodeType===b.TEXT_NODE&&!/^\s*$/.test(a.data.substr(t.endOffset)))return!1;for(;n&&n!==i;){if(n.nodeType!==b.TEXT_NODE&&!b.dom.contains(i,n))return!1;if(b.dom.domNode(n).prev({ignoreBlankTexts:!0}))return!1;n=n.parentNode}for(;a&&a!==i;){if(a.nodeType!==b.TEXT_NODE&&!b.dom.contains(i,a))return!1;if(b.dom.domNode(a).next({ignoreBlankTexts:!0}))return!1;a=a.parentNode}return!!b.lang.array(e).contains(i.nodeName)&&i},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(d,s){function i(e,t,i){if(!e.className)return!1;var n=e.className.match(i)||[];return n[n.length-1]===t}function n(e,t){if(!e.getAttribute||!e.getAttribute("style"))return!1;e.getAttribute("style").match(t);return!!e.getAttribute("style").match(t)}function a(e,t,i){e.getAttribute("style")?(r(e,i),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function o(e,t,i){e.className?(l(e,i),e.className+=" "+t):e.className=t}function l(e,t){e.className&&(e.className=e.className.replace(t,""))}function r(e,t){var i,n=[];if(e.getAttribute("style")){for(var a=(i=e.getAttribute("style").split(";")).length;a--;)i[a].match(t)||/^\s*$/.test(i[a])||n.push(i[a]);n.length?e.setAttribute("style",n.join(";")):e.removeAttribute("style")}}function u(e,t){var i=[],n=t.split(";"),a=e.getAttribute("style");if(a){a=a.replace(/\s/gi,"").toLowerCase(),i.push(new RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var o=n.length;0<o--;)/^\s*$/.test(n[o])||i.push(new RegExp("(^|\\s|;)"+n[o].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var s=0,r=i.length;s<r;s++)if(a.match(i[s]))return i[s]}return!1}function c(e,t,i,n){return i?u(e,i):n?d.dom.hasClass(e,n):s.dom.arrayContains(t,e.tagName.toLowerCase())}function h(e,t,i,n){for(var a=e.length;a--;)if(!c(e[a],t,i,n))return!1;return!!e.length}function p(e,t,i){var n=u(e,t);return n?(r(e,n),"remove"):(a(e,t,i),"change")}function g(e,t){return e.className.replace(y," ")==t.className.replace(y," ")}function f(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function m(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var i,n,a,o=0,s=e.attributes.length;o<s;++o)if("class"!=(a=(i=e.attributes[o]).name)){if(n=t.attributes.getNamedItem(a),i.specified!=n.specified)return!1;if(i.specified&&i.nodeValue!==n.nodeValue)return!1}return!0}function _(e,t){return s.dom.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:0<t&&t<e.childNodes.length}function w(e,t,i,n){var a;if(s.dom.isCharacterDataNode(t)&&(0==i?(i=s.dom.getNodeIndex(t),t=t.parentNode):i==t.length?(i=s.dom.getNodeIndex(t)+1,t=t.parentNode):a=s.dom.splitDataNode(t,i)),!(a||n&&t===n)){var o;for((a=t.cloneNode(!1)).id&&a.removeAttribute("id");o=t.childNodes[i];)a.appendChild(o);s.dom.insertAfter(a,t)}return t==e?a:w(e,a.parentNode,s.dom.getNodeIndex(a),n)}function b(e){this.isElementMerge=e.nodeType==d.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function e(e,t,i,n,a,o,s){this.tagNames=e||[v],this.cssClass=t||!1!==t&&"",this.similarClassRegExp=i,this.cssStyle=a||"",this.similarStyleRegExp=o,this.normalize=n,this.applyToAnyTagName=!1,this.container=s}var v="span",y=/\s+/g;b.prototype={doMerge:function(){for(var e,t,i,n=[],a=0,o=this.textNodes.length;a<o;++a)t=(e=this.textNodes[a]).parentNode,n[a]=e.data,a&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=i=n.join(""),i},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,i=this.textNodes.length;t<i;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},e.prototype={getAncestorWithClass:function(e){for(var t;e;){if(t=this.cssClass?i(e,this.cssClass,this.similarClassRegExp):""===this.cssStyle,e.nodeType==d.ELEMENT_NODE&&"false"!=e.getAttribute("contenteditable")&&s.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&t)return e;e=e.parentNode}return!1},getAncestorWithStyle:function(e){for(var t;e;){if(t=!!this.cssStyle&&n(e,this.similarStyleRegExp),e.nodeType==d.ELEMENT_NODE&&"false"!=e.getAttribute("contenteditable")&&s.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&t)return e;e=e.parentNode}return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),i=!1;return t?this.cssStyle&&(i="class"):(t=this.getAncestorWithStyle(e))&&(i="style"),{element:t,type:i}},postApply:function(e,t){for(var i,n,a,o=e[0],s=e[e.length-1],r=[],l=o,d=s,u=0,c=s.length,h=0,p=e.length;h<p;++h)a=null,(n=e[h])&&n.parentNode&&(a=this.getAdjacentMergeableTextNode(n.parentNode,!1)),a?(i||(i=new b(a),r.push(i)),i.textNodes.push(n),n===o&&(u=(l=i.firstTextNode).length),n===s&&(d=i.firstTextNode,c=i.getLength())):i=null;if(s&&s.parentNode){var g=this.getAdjacentMergeableTextNode(s.parentNode,!0);g&&(i||(i=new b(s),r.push(i)),i.textNodes.push(g))}if(r.length){for(h=0,p=r.length;h<p;++h)r[h].doMerge();t.setStart(l,u),t.setEnd(d,c)}},getAdjacentMergeableTextNode:function(e,t){var i,n=e.nodeType==d.TEXT_NODE,a=n?e.parentNode:e,o=t?"nextSibling":"previousSibling";if(n){if((i=e[o])&&i.nodeType==d.TEXT_NODE)return i}else if((i=a[o])&&this.areElementsMergeable(e,i))return i[t?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,t){return s.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&s.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&g(e,t)&&m(e,t)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var t=e.parentNode;if(1==t.childNodes.length&&s.dom.arrayContains(this.tagNames,t.tagName.toLowerCase()))this.cssClass&&o(t,this.cssClass,this.similarClassRegExp),this.cssStyle&&a(t,this.cssStyle,this.similarStyleRegExp);else{var i=this.createContainer(s.dom.getDocument(e));e.parentNode.insertBefore(i,e),i.appendChild(e)}},isRemovable:function(e){return s.dom.arrayContains(this.tagNames,e.tagName.toLowerCase())&&""===d.lang.string(e.className).trim()&&(!e.getAttribute("style")||""===d.lang.string(e.getAttribute("style")).trim())},undoToTextNode:function(e,t,i,n){var a=!i,o=i||n,s=!1;if(!t.containsNode(o)){var r=t.cloneRange();r.selectNode(o),r.isPointInRange(t.endContainer,t.endOffset)&&_(t.endContainer,t.endOffset)&&(w(o,t.endContainer,t.endOffset,this.container),t.setEndAfter(o)),r.isPointInRange(t.startContainer,t.startOffset)&&_(t.startContainer,t.startOffset)&&(o=w(o,t.startContainer,t.startOffset,this.container))}!a&&this.similarClassRegExp&&l(o,this.similarClassRegExp),a&&this.similarStyleRegExp&&(s="change"===p(o,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(o)&&!s&&f(o)},applyToRange:function(e){for(var t,i=e.length;i--;){if(!(t=e[i].getNodes([d.TEXT_NODE])).length)try{var n=this.createContainer(e[i].endContainer.ownerDocument);return e[i].surroundContents(n),void this.selectNode(e[i],n)}catch(r){}if(e[i].splitBoundaries(),(t=e[i].getNodes([d.TEXT_NODE])).length){for(var a,o=0,s=t.length;o<s;++o)a=t[o],this.getMatchingAncestor(a).element||this.applyToTextNode(a);e[i].setStart(t[0],0),a=t[t.length-1],e[i].setEnd(a,a.length),this.normalize&&this.postApply(t,e[i])}}},undoToRange:function(e){for(var t,i,n,a=e.length;a--;){if((t=e[a].getNodes([d.TEXT_NODE])).length)e[a].splitBoundaries(),t=e[a].getNodes([d.TEXT_NODE]);else{var o=e[a].endContainer.ownerDocument.createTextNode(d.INVISIBLE_SPACE);e[a].insertNode(o),e[a].selectNode(o),t=[o]}for(var s=0,r=t.length;s<r;++s)e[a].isValid()&&(i=t[s],"style"===(n=this.getMatchingAncestor(i)).type?this.undoToTextNode(i,e[a],!1,n.element):n.element&&this.undoToTextNode(i,e[a],n.element));1==r?this.selectNode(e[a],t[0]):(e[a].setStart(t[0],0),i=t[t.length-1],e[a].setEnd(i,i.length),this.normalize&&this.postApply(t,e[a]))}},selectNode:function(e,t){var i=t.nodeType===d.ELEMENT_NODE,n=!("canHaveHTML"in t)||t.canHaveHTML,a=i?t.innerHTML:t.data,o=""===a||a===d.INVISIBLE_SPACE;if(o&&i&&n)try{t.innerHTML=d.INVISIBLE_SPACE}catch(s){}e.selectNodeContents(t),o&&i?e.collapse(!1):o&&(e.setStartAfter(t),e.setEndAfter(t))},getTextSelectedByRange:function(e,t){var i=t.cloneRange();i.selectNodeContents(e);var n=i.intersection(t),a=n?n.toString():"";return i.detach(),a},isAppliedToRange:function(e){for(var t,i,n=[],a="full",o=e.length;o--;){if(!(i=e[o].getNodes([d.TEXT_NODE])).length)return!!(t=this.getMatchingAncestor(e[o].startContainer).element)&&{elements:[t],coverage:a};for(var s,r=0,l=i.length;r<l;++r)s=this.getTextSelectedByRange(i[r],e[o]),(t=this.getMatchingAncestor(i[r]).element)&&""!=s?(n.push(t),1===d.dom.getTextNodes(t,!0).length?a="full":"full"===a&&(a="inline")):t||(a="partial")}return!!n.length&&{elements:n,coverage:a}},toggleRange:function(e){var t,i=this.isAppliedToRange(e);i?"full"===i.coverage?this.undoToRange(e):"inline"===i.coverage?(t=h(i.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(h(i.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},d.selection.HTMLApplier=e}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var i=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),a=i&&i.exec,o=null;if(this.composer.hasPlaceholderSet()&&!wysihtml5.lang.array(["styleWithCSS","enableObjectResizing","enableInlineTableEditing"]).contains(e)&&(this.composer.element.innerHTML="",this.composer.selection.selectNode(this.composer.element)),this.editor.fire("beforecommand:composer"),a)n.unshift(this.composer),o=a.apply(i,n);else try{o=this.doc.execCommand(e,!1,t)}catch(s){}return this.editor.fire("aftercommand:composer"),o},state:function(e,t){var i=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),a=i&&i.state;if(a)return n.unshift(this.composer),a.apply(i,n);try{return this.doc.queryCommandState(e)}catch(o){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),n=t&&t.stateValue;return!!n&&(i.unshift(this.composer),n.apply(t,i))}}),wysihtml5.commands.bold={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(f){function a(e,t){var i,n,a,o,s,r,l,d,u,c=e.doc,h="_wysihtml5-temp-"+ +new Date,p=/non-matching-class/g,g=0;for(f.commands.formatInline.exec(e,m,_,h,p,m,m,!0,!0),i=(n=c.querySelectorAll(_+"."+h)).length;g<i;g++)for(u in(a=n[g]).removeAttribute("class"),t)"text"!==u&&a.setAttribute(u,t[u]);r=a,1===i&&(l=w.getTextContent(a),o=!!a.querySelector("*"),s=""===l||l===f.INVISIBLE_SPACE,!o&&s&&(w.setTextContent(a,t.text||a.href),d=c.createTextNode(" "),e.selection.setAfter(a),w.insert(d).after(a),r=d)),e.selection.setAfter(r)}function o(e,t,i){for(var n,a=t.length;a--;){for(var o=(n=t[a].attributes).length;o--;)t[a].removeAttribute(n.item(o).name);for(var s in i)i.hasOwnProperty(s)&&t[a].setAttribute(s,i[s])}}var m,_="A",w=f.dom;f.commands.createLink={exec:function(e,t,i){var n=this.state(e,t);n?e.selection.executeAndRestore(function(){o(e,n,i)}):a(e,i="object"==typeof i?i:{href:i})},state:function(e,t){return f.commands.formatInline.state(e,t,"A")}}}(wysihtml5),function(i){function n(e,t){for(var i,n,a=t.length,o=0;o<a;o++)i=t[o],n=s.getParentElement(i,{nodeName:"code"}),s.getTextContent(i).match(s.autoLink.URL_REG_EXP)&&!n?n=s.renameElement(i,"code"):s.replaceWithChildNodes(i)}var s=i.dom;i.commands.removeLink={exec:function(e,t){var i=this.state(e,t);i&&e.selection.executeAndRestore(function(){n(e,i)})},state:function(e,t){return i.commands.formatInline.state(e,t,"A")}}}(wysihtml5),function(n){var a=/wysiwyg-font-size-[0-9a-z\-]+/g;n.commands.fontSize={exec:function(e,t,i){n.commands.formatInline.execWithToggle(e,t,"span","wysiwyg-font-size-"+i,a)},state:function(e,t,i){return n.commands.formatInline.state(e,t,"span","wysiwyg-font-size-"+i,a)}}}(wysihtml5),function(a){var n=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;a.commands.fontSizeStyle={exec:function(e,t,i){i="object"==typeof i?i.size:i,/^\s*$/.test(i)||a.commands.formatInline.execWithToggle(e,t,"span",!1,!1,"font-size:"+i,n)},state:function(e,t){return a.commands.formatInline.state(e,t,"span",!1,!1,"font-size",n)},stateValue:function(e,t){var i,n=this.state(e,t);return n&&a.lang.object(n).isArray()&&(n=n[0]),!(!n||!(i=n.getAttribute("style")))&&a.quirks.styleParser.parseFontSize(i)}}}(wysihtml5),function(n){var a=/wysiwyg-color-[0-9a-z]+/g;n.commands.foreColor={exec:function(e,t,i){n.commands.formatInline.execWithToggle(e,t,"span","wysiwyg-color-"+i,a)},state:function(e,t,i){return n.commands.formatInline.state(e,t,"span","wysiwyg-color-"+i,a)}}}(wysihtml5),function(o){var s=/(\s|^)color\s*:\s*[^;\s]+;?/gi;o.commands.foreColorStyle={exec:function(e,t,i){var n,a=o.quirks.styleParser.parseColor("object"==typeof i?"color:"+i.color:"color:"+i,"color");a&&(n="color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(n+="color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),o.commands.formatInline.execWithToggle(e,t,"span",!1,!1,n,s))},state:function(e,t){return o.commands.formatInline.state(e,t,"span",!1,!1,"color",s)},stateValue:function(e,t,i){var n,a=this.state(e,t);return a&&o.lang.object(a).isArray()&&(a=a[0]),!!(a&&(n=a.getAttribute("style"))&&n)&&(val=o.quirks.styleParser.parseColor(n,"color"),o.quirks.styleParser.unparseColor(val,i))}}}(wysihtml5),function(s){var o=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;s.commands.bgColorStyle={exec:function(e,t,i){var n,a=s.quirks.styleParser.parseColor("object"==typeof i?"background-color:"+i.color:"background-color:"+i,"background-color");a&&(n="background-color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(n+="background-color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),s.commands.formatInline.execWithToggle(e,t,"span",!1,!1,n,o))},state:function(e,t){return s.commands.formatInline.state(e,t,"span",!1,!1,"background-color",o)},stateValue:function(e,t,i){var n,a=this.state(e,t),o=!1;return a&&s.lang.object(a).isArray()&&(a=a[0]),!(!a||!(n=a.getAttribute("style")))&&(o=s.quirks.styleParser.parseColor(n,"background-color"),s.quirks.styleParser.unparseColor(o,i))}}}(wysihtml5),function(f){function m(e,t,i){e.className?(w(e,i),e.className=f.lang.string(e.className+" "+t).trim()):e.className=t}function _(e,t,i){b(e,i),e.getAttribute("style")?e.setAttribute("style",f.lang.string(e.getAttribute("style")+" "+t).trim()):e.setAttribute("style",t)}function w(e,t){var i=t.test(e.className);return e.className=e.className.replace(t,""),""==f.lang.string(e.className).trim()&&e.removeAttribute("class"),i}function b(e,t){var i=t.test(e.getAttribute("style"));return e.setAttribute("style",(e.getAttribute("style")||"").replace(t,"")),""==f.lang.string(e.getAttribute("style")||"").trim()&&e.removeAttribute("style"),i}function o(e){var t=e.lastChild;t&&i(t)&&t.parentNode.removeChild(t)}function i(e){return"BR"===e.nodeName}function v(e,t){e.selection.isCollapsed()&&e.selection.selectLine();for(var i=e.selection.surround(t),n=0,a=i.length;n<a;n++)f.dom.lineBreaks(i[n]).remove(),o(i[n])}function y(e){return!!f.lang.string(e.className).trim()}function k(e){return!!f.lang.string(e.getAttribute("style")||"").trim()}var x=f.dom,C=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];f.commands.formatBlock={exec:function(t,e,n,i,a,o,s){t.doc;var r,l,d,u,c,h=this.state(t,e,n,i,a,o,s),p=t.config.useLineBreaks,g=p?"DIV":"P";n="string"==typeof n?n.toUpperCase():n,h.length?t.selection.executeAndRestoreRangy(function(){for(var e=h.length;e--;){if(a&&(l=w(h[e],a)),s&&(u=b(h[e],s)),(u||l)&&null===n&&h[e].nodeName!=g)return;var t=y(h[e]),i=k(h[e]);t||i||!p&&"P"!==n?x.renameElement(h[e],"P"===n?"DIV":g):(f.dom.lineBreaks(h[e]).add(),x.replaceWithChildNodes(h[e]))}}):(null===n||f.lang.array(C).contains(n))&&(r=t.selection.findNodesInSelection(C).concat(t.selection.getSelectedOwnNodes()),t.selection.executeAndRestoreRangy(function(){for(var e=r.length;e--;)(c=x.getParentElement(r[e],{nodeName:C}))==t.element&&(c=null),c&&(n&&(c=x.renameElement(c,n)),i&&m(c,i,a),o&&_(c,o,s),d=!0)}),d)||v(t,{nodeName:n||g,className:i||null,cssStyle:o||null})},state:function(e,t,i,n,a,o,s){var r,l=e.selection.getSelectedOwnNodes(),d=[];i="string"==typeof i?i.toUpperCase():i;for(var u=0,c=l.length;u<c;u++)(r=x.getParentElement(l[u],{nodeName:i,className:n,classRegExp:a,cssStyle:o,styleRegExp:s}))&&-1==f.lang.array(d).indexOf(r)&&d.push(r);return 0!=d.length&&d}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(e,t,i){var n,a,o,s=this.state(e);s?e.selection.executeAndRestore(function(){n=s.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(s),n&&wysihtml5.dom.replaceWithChildNodes(n)}):(o=(a=e.selection.getRange()).extractContents(),
s=e.doc.createElement("pre"),n=e.doc.createElement("code"),i&&(n.className=i),s.appendChild(n),n.appendChild(o),a.insertNode(s),e.selection.selectNode(s))},state:function(e){var t=e.selection.getSelectedNode();return t&&t.nodeName&&"PRE"==t.nodeName&&t.firstChild&&t.firstChild.nodeName&&"CODE"==t.firstChild.nodeName?t:wysihtml5.dom.getParentElement(t,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(t,{nodeName:"PRE"})}},function(c){function r(e){var t=p[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function h(e,t,i,n,a,o){var s=e;return t&&(s+=":"+t),n&&(s+=":"+n),l[s]||(l[s]=new c.selection.HTMLApplier(r(e),t,i,!0,n,a,o)),l[s]}var p={strong:"b",em:"i",b:"strong",i:"em"},l={};c.commands.formatInline={exec:function(e,t,i,n,a,o,s,r,l){var d=e.selection.createRange(),u=e.selection.getOwnRanges();if(!u||0==u.length)return!1;e.selection.getSelection().removeAllRanges(),h(i,n,a,o,s,e.element).toggleRange(u),r?l||e.cleanUp():(d.setStart(u[0].startContainer,u[0].startOffset),d.setEnd(u[u.length-1].endContainer,u[u.length-1].endOffset),e.selection.setSelection(d),e.selection.executeAndRestore(function(){l||e.cleanUp()},!0,!0))},execWithToggle:function(e,t,i,n,a,o,s){var r=this;if(this.state(e,t,i,n,a,o,s)&&e.selection.isCollapsed()&&!e.selection.caretIsLastInSelection()&&!e.selection.caretIsFirstInSelection()){var l=r.state(e,t,i,n,a)[0];e.selection.executeAndRestoreRangy(function(){l.parentNode;e.selection.selectNode(l,!0),c.commands.formatInline.exec(e,t,i,n,a,o,s,!0,!0)})}else this.state(e,t,i,n,a,o,s)&&!e.selection.isCollapsed()?e.selection.executeAndRestoreRangy(function(){c.commands.formatInline.exec(e,t,i,n,a,o,s,!0,!0)}):c.commands.formatInline.exec(e,t,i,n,a,o,s)},state:function(e,t,i,n,a,o,s){var r,l,d=e.doc,u=p[i]||i;return!(!c.dom.hasElementWithTagName(d,i)&&!c.dom.hasElementWithTagName(d,u))&&(!(n&&!c.dom.hasElementWithClassName(d,n))&&(!(!(r=e.selection.getOwnRanges())||0===r.length)&&(!(!(l=h(i,n,a,o,s,e.element).isAppliedToRange(r))||!l.elements)&&l.elements)))}}}(wysihtml5),function(a){a.commands.insertBlockQuote={exec:function(t,e){var i=this.state(t,e),n=t.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);t.selection.executeAndRestore(function(){if(i)t.config.useLineBreaks&&a.dom.lineBreaks(i).add(),a.dom.unwrap(i);else if(t.selection.isCollapsed()&&t.selection.selectLine(),n){var e=n.ownerDocument.createElement("blockquote");a.dom.insert(e).after(n),e.appendChild(n)}else t.selection.surround({nodeName:"blockquote"})})},state:function(e){var t=e.selection.getSelectedNode(),i=a.dom.getParentElement(t,{nodeName:"BLOCKQUOTE"},!1,e.element);return i||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,i){e.commands.support(t)?e.doc.execCommand(t,!1,i):e.selection.insertHTML(i)},state:function(){return!1}},function(l){var d="IMG";l.commands.insertImage={exec:function(e,t,i){i="object"==typeof i?i:{src:i};var n,a,o=e.doc,s=this.state(e);if(s)return e.selection.setBefore(s),(a=s.parentNode).removeChild(s),l.dom.removeEmptyTextNodes(a),"A"!==a.nodeName||a.firstChild||(e.selection.setAfter(a),a.parentNode.removeChild(a)),void l.quirks.redraw(e.element);for(var r in s=o.createElement(d),i)s.setAttribute("className"===r?"class":r,i[r]);e.selection.insertNode(s),l.browser.hasProblemsSettingCaretAfterImg()?(n=o.createTextNode(l.INVISIBLE_SPACE),e.selection.insertNode(n),e.selection.setAfter(n)):e.selection.setAfter(s)},state:function(e){var t,i,n,a=e.doc;return!!l.dom.hasElementWithTagName(a,d)&&(!!(t=e.selection.getSelectedNode())&&(t.nodeName===d?t:t.nodeType===l.ELEMENT_NODE&&(i=e.selection.getText(),!(i=l.lang.string(i).trim())&&(1===(n=e.selection.getNodes(l.ELEMENT_NODE,function(e){return"IMG"===e.nodeName})).length&&n[0]))))}}}(wysihtml5),function(i){var n="<br>"+(i.browser.needsSpaceAfterLineBreak()?" ":"");i.commands.insertLineBreak={exec:function(e,t){e.commands.support(t)?(e.doc.execCommand(t,!1,null),i.browser.autoScrollsToCaret()||e.selection.scrollIntoView()):e.commands.exec("insertHTML",n)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"OL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"UL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"UL")}},wysihtml5.commands.insertList=function(l){var s=function(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var i=t.length;i--;)if(e.nodeName===t[i])return!0}return!1},r=function(e,t,i){var n={el:null,other:!1};if(e){var a=l.dom.getParentElement(e,{nodeName:"LI"}),o="UL"===t?"OL":"UL";s(e,t)?n.el=e:s(e,o)?n={el:e,other:!0}:a&&(s(a.parentNode,t)?n.el=a.parentNode:s(a.parentNode,o)&&(n={el:a.parentNode,other:!0}))}return n.el&&!i.element.contains(n.el)&&(n.el=null),n},d=function(n,a,o){var s,r="UL"===a?"OL":"UL";o.selection.executeAndRestore(function(){var e=c(r,o);if(e.length)for(var t=e.length;t--;)l.dom.renameElement(e[t],a.toLowerCase());else{for(var i=(s=c(["OL","UL"],o)).length;i--;)l.dom.resolveList(s[i],o.config.useLineBreaks);l.dom.resolveList(n,o.config.useLineBreaks)}})},u=function(i,n,a){var o="UL"===n?"OL":"UL";a.selection.executeAndRestore(function(){for(var e=[i].concat(c(o,a)),t=e.length;t--;)l.dom.renameElement(e[t],n.toLowerCase())})},c=function(t,e){for(var i=e.selection.getOwnRanges(),n=[],a=i.length;a--;)n=n.concat(i[a].getNodes([1],function(e){return s(e,t)}));return n},h=function(a,o){o.selection.executeAndRestoreRangy(function(){var e,t,i="_wysihtml5-temp-"+(new Date).getTime(),n=o.selection.deblockAndSurround({nodeName:"div",className:i});n.innerHTML=n.innerHTML.replace(l.INVISIBLE_SPACE_REG_EXP,""),n&&(e=l.lang.array(["","<br>",l.INVISIBLE_SPACE]).contains(n.innerHTML),t=l.dom.convertToList(n,a.toLowerCase(),o.parent.config.uneditableContainerClassname),e&&o.selection.selectNode(t.querySelector("li"),!0))})};return{exec:function(e,t,i){var n=e.doc,a="OL"===i?"insertOrderedList":"insertUnorderedList",o=e.selection.getSelectedNode(),s=r(o,i,e);s.el?s.other?u(s.el,i,e):d(s.el,i,e):e.commands.support(a)?n.execCommand(a,!1,null):h(i,e)},state:function(e,t,i){var n=e.selection.getSelectedNode(),a=r(n,i,e);return!(!a.el||a.other)&&a.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(t){var i="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyCenter={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,i,n)}}}(wysihtml5),function(t){var i="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyLeft={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,i,n)}}}(wysihtml5),function(t){var i="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyRight={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,i,n)}}}(wysihtml5),function(t){var i="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyFull={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,i,n)}}}(wysihtml5),function(t){var i="text-align: right;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignRightStyle={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,null,null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,null,null,i,n)}}}(wysihtml5),function(t){var i="text-align: left;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignLeftStyle={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,null,null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,null,null,i,n)}}}(wysihtml5),function(t){var i="text-align: center;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignCenterStyle={exec:function(e){return t.commands.formatBlock.exec(e,"formatBlock",null,null,null,i,n)},state:function(e){return t.commands.formatBlock.state(e,"formatBlock",null,null,null,i,n)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(e,t,i){var n,a,o;if(i&&i.cols&&i.rows&&0<parseInt(i.cols,10)&&0<parseInt(i.rows,10)){for(o=i.tableStyle?'<table style="'+i.tableStyle+'">':"<table>",o+="<tbody>",a=0;a<i.rows;a++){for(o+="<tr>",n=0;n<i.cols;n++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</tbody></table>",e.commands.exec("insertHTML",o)}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?wysihtml5.dom.table.unmergeCell(e.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e){if(e.tableSelection){var t=e.tableSelection.start,i=e.tableSelection.end;if(t&&i&&t==i&&(wysihtml5.dom.getAttribute(t,"colspan")&&1<parseInt(wysihtml5.dom.getAttribute(t,"colspan"),10)||wysihtml5.dom.getAttribute(t,"rowspan")&&1<parseInt(wysihtml5.dom.getAttribute(t,"rowspan"),10)))return[t]}return!1}},wysihtml5.commands.addTableCells={exec:function(e,t,i){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var n=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==i||"above"==i?wysihtml5.dom.table.addCells(n.start,i):"after"!=i&&"below"!=i||wysihtml5.dom.table.addCells(n.end,i),setTimeout(function(){e.tableSelection.select(n.start,n.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(e,t,i){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var n,a=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),o=wysihtml5.dom.table.indexOf(a.start),s=e.tableSelection.table;wysihtml5.dom.table.removeCells(a.start,i),setTimeout(function(){(n=wysihtml5.dom.table.findCell(s,o))||("row"==i&&(n=wysihtml5.dom.table.findCell(s,{row:o.row-1,col:o.col})),"column"==i&&(n=wysihtml5.dom.table.findCell(s,{row:o.row,col:o.col-1}))),n&&e.tableSelection.select(n,n)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return!!t&&this.tryToPushLiLevel(t,e.selection)},state:function(){return!1},tryToPushLiLevel:function(t,e){var i,n,a,o,s,r=!1;return e.executeAndRestoreRangy(function(){for(var e=t.length;e--;)o=t[e],i="OL"===o.parentNode.nodeName?"OL":"UL",n=o.ownerDocument.createElement(i),a=wysihtml5.dom.domNode(o).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),s=a?a.querySelector("ul, ol"):null,a&&(s?s.appendChild(o):(n.appendChild(o),a.appendChild(n)),r=!0)}),r}},wysihtml5.commands.outdentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return!!t&&this.tryToPullLiLevel(t,e)},state:function(){return!1},tryToPullLiLevel:function(i,n){var a,o,s,r,l,d=!1,u=this;return n.selection.executeAndRestoreRangy(function(){for(var e=i.length;e--;)if((r=i[e]).parentNode&&("OL"===(a=r.parentNode).tagName||"UL"===a.tagName)){if(d=!0,o=wysihtml5.dom.getParentElement(a.parentNode,{nodeName:["OL","UL"]},!1,n.element),s=wysihtml5.dom.getParentElement(a.parentNode,{nodeName:["LI"]},!1,n.element),o&&s)r.nextSibling&&(l=u.getAfterList(a,r),r.appendChild(l)),o.insertBefore(r,s.nextSibling);else{r.nextSibling&&(l=u.getAfterList(a,r),r.appendChild(l));for(var t=r.childNodes.length;t--;)a.parentNode.insertBefore(r.childNodes[t],a.nextSibling);a.parentNode.insertBefore(document.createElement("br"),a.nextSibling),r.parentNode.removeChild(r)}0===a.childNodes.length&&a.parentNode.removeChild(a)}}),d},getAfterList:function(e,t){for(var i=e.nodeName,n=document.createElement(i);t.nextSibling;)n.appendChild(t.nextSibling);return n}},function(u){var o=90,s=89,n=8,r=46,c=25,h="data-wysihtml5-selection-node",p="data-wysihtml5-selection-offset",e=(u.INVISIBLE_SPACE,u.INVISIBLE_SPACE,u.dom);u.UndoManager=u.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var i,a=this;this.composer.sandbox.getDocument();e.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var t=e.keyCode,i=t===o&&!e.shiftKey,n=t===o&&e.shiftKey||t===s;i?(a.undo(),e.preventDefault()):n&&(a.redo(),e.preventDefault())}}),e.observe(this.element,"keydown",function(e){var t=e.keyCode;t!==i&&((i=t)!==n&&t!==r||a.transact())}),this.editor.on("newword:composer",function(){a.transact()}).on("beforecommand:composer",function(){a.transact()})},transact:function(){var e,t,i,n,a,o=this.historyStr[this.position-1],s=this.composer.getValue(!1,!1),r=0<this.element.offsetWidth&&0<this.element.offsetHeight;if(s!==o){var l=this.historyStr.length=this.historyDom.length=this.position;c<l&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,r&&(t=(e=this.composer.selection.getRange())&&e.startContainer?e.startContainer:this.element,i=e&&e.startOffset?e.startOffset:0,t.nodeType===u.ELEMENT_NODE?n=t:(n=t.parentNode,a=this.getChildNodeIndex(n,t)),n.setAttribute(p,i),void 0!==a&&n.setAttribute(h,a));var d=this.element.cloneNode(!!s);this.historyDom.push(d),this.historyStr.push(s),n&&(n.removeAttribute(p),n.removeAttribute(h))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return 1<this.position},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){this.element.innerHTML="";for(var t,i,n,a=0,o=e.childNodes,s=e.childNodes.length;a<s;a++)this.element.appendChild(o[a].cloneNode(!0));e.hasAttribute(p)?(t=e.getAttribute(p),n=e.getAttribute(h),i=this.element):(t=(i=this.element.querySelector("["+p+"]")||this.element).getAttribute(p),n=i.getAttribute(h),i.removeAttribute(p),i.removeAttribute(h)),null!==n&&(i=this.getChildNodeByIndex(i,+n)),this.composer.selection.set(i,t)},getChildNodeIndex:function(e,t){for(var i=0,n=e.childNodes,a=n.length;i<a;i++)if(n[i]===t)return i},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,i){this.parent=e,this.element=t,this.config=i,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.on("beforeload",function(){t.parent.on("change_view",function(e){e===t.name?((t.parent.currentView=t).show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(!this.element||!this.element.ownerDocument||this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element&&this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(l){var d=l.dom,u=l.browser;l.views.Composer=l.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,i){this.base(e,t,i),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=u.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e,t){var i=this.isEmpty()?"":l.quirks.getCorrectInnerHTML(this.element);return!1!==e&&(i=this.parent.parse(i,!1!==t)),i},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(i){this.element.innerText=e}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=d.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(e){l.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var t=this.element.lastChild;e&&t&&this.selection&&("BR"===t.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return d.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new d.ContentEditableArea(function(){e._create()},{},this.editableArea):(this.sandbox=new d.ContentEditableArea(function(){e._create()}),this.editableArea=this.sandbox.getContentEditable(),d.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e=this;this.sandbox=new d.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var t=this.textarea.element;d.insert(this.editableArea).after(t),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,d.insert(e).after(this.textarea.element)}},_create:function(){var e=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new l.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new l.Commands(this.parent),this.config.noTextarea||d.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),d.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var t=this.config.name;t&&(d.addClass(this.element,t),this.config.contentEditableMode||d.addClass(this.editableArea,t)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var i="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");i&&d.simulatePlaceholder(this.parent,this,i),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||u.isIos()||setTimeout(function(){e.focus(!0)},100),u.clearsContentEditableCorrectly()||l.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var a=this,e=u.canDisableAutoLinking(),t=u.doesAutoLinkingInContentEditable();if(e&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!t||t&&e)&&(this.parent.on("newword:composer",function(){if(d.getTextContent(a.element).match(d.autoLink.URL_REG_EXP)){for(var e=a.selection.getSelectedNode(),t=a.element.querySelectorAll("."+a.config.uneditableContainerClassname),i=!1,n=t.length;n--;)l.dom.contains(t[n],e)&&(i=!0);i||d.autoLink(e,[a.config.uneditableContainerClassname])}}),d.observe(this.element,"blur",function(){d.autoLink(a.element,[a.config.uneditableContainerClassname])}));var o=this.sandbox.getDocument().getElementsByTagName("a"),s=d.autoLink.URL_REG_EXP,r=function(e){var t=l.lang.string(d.getTextContent(e)).trim();return"www."===t.substr(0,4)&&(t="http://"+t),t};d.observe(this.element,"keydown",function(e){if(o.length){var t,i=a.selection.getSelectedNode(e.target.ownerDocument),n=d.getParentElement(i,{nodeName:"A"},4);n&&(t=r(n),setTimeout(function(){var e=r(n);e!==t&&e.match(s)&&n.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),u.supportsEvent("resizeend")){var o=["width","height"],s=o.length,r=this.element;d.observe(r,"resizeend",function(e){var t,i=e.target||e.srcElement,n=i.style,a=0;if("IMG"===i.nodeName){for(;a<s;a++)n[t=o[a]]&&(i.setAttribute(t,parseInt(n[t],10)),n[t]="");l.quirks.redraw(r)}})}},_initUndoManager:function(){this.undoManager=new l.UndoManager(this.parent)},_initLineBreaking:function(){function n(e){var t=d.getParentElement(e,{nodeName:["P","DIV"]},2);t&&d.contains(a.element,t)&&a.selection.executeAndRestore(function(){a.config.useLineBreaks?d.replaceWithChildNodes(t):"P"!==t.nodeName&&d.renameElement(t,"p")})}var a=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],s=["UL","OL","MENU"];this.config.useLineBreaks||d.observe(this.element,["focus","keydown"],function(){if(a.isEmpty()){var e=a.doc.createElement("P");a.element.innerHTML="",a.element.appendChild(e),u.displaysCaretInEmptyContentEditableCorrectly()?a.selection.selectNode(e,!0):(e.innerHTML="<br>",a.selection.setBefore(e.firstChild))}}),d.observe(this.element,"keydown",function(e){var t=e.keyCode;if(!e.shiftKey&&(t===l.ENTER_KEY||t===l.BACKSPACE_KEY)){var i=d.getParentElement(a.selection.getSelectedNode(),{nodeName:o},4);i?setTimeout(function(){var e=a.selection.getSelectedNode();if("LI"===i.nodeName){if(!e)return;d.getParentElement(e,{nodeName:s},2)||n(e)}t===l.ENTER_KEY&&i.nodeName.match(/^H[1-6]$/)&&n(e)},0):a.config.useLineBreaks&&t===l.ENTER_KEY&&!l.browser.insertsLineBreaksOnReturn()&&(e.preventDefault(),a.commands.exec("insertLineBreak"))}})}})}(wysihtml5),function(d){var u=d.dom,c=document,s=window,h=c.createElement("div"),p=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],g=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],f=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",d.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],m=function(e){if(e.setActive)try{e.setActive()}catch(o){}else{var t=e.style,i=c.documentElement.scrollTop||c.body.scrollTop,n=c.documentElement.scrollLeft||c.body.scrollLeft,a={position:t.position,top:t.top,left:t.left,WebkitUserSelect:t.WebkitUserSelect};u.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),u.setStyles(a).on(e),s.scrollTo&&s.scrollTo(n,i)}};d.views.Composer.prototype.style=function(){var e,t=this,i=c.querySelector(":focus"),n=this.textarea.element,a=n.hasAttribute("placeholder"),o=a&&n.getAttribute("placeholder"),s=n.style.display,r=n.disabled;this.focusStylesHost=h.cloneNode(!1),this.blurStylesHost=h.cloneNode(!1),this.disabledStylesHost=h.cloneNode(!1),a&&n.removeAttribute("placeholder"),n===i&&n.blur(),n.disabled=!1,n.style.display=e="none",(n.getAttribute("rows")&&"auto"===u.getStyle("height").from(n)||n.getAttribute("cols")&&"auto"===u.getStyle("width").from(n))&&(n.style.display=e=s),u.copyStyles(g).from(n).to(this.editableArea).andTo(this.blurStylesHost),u.copyStyles(p).from(n).to(this.element).andTo(this.blurStylesHost),u.insertCSS(f).into(this.element.ownerDocument),n.disabled=!0,u.copyStyles(g).from(n).to(this.disabledStylesHost),u.copyStyles(p).from(n).to(this.disabledStylesHost),n.disabled=r,n.style.display=s,m(n),n.style.display=e,u.copyStyles(g).from(n).to(this.focusStylesHost),u.copyStyles(p).from(n).to(this.focusStylesHost),n.style.display=s,u.copyStyles(["display"]).from(n).to(this.editableArea);var l=d.lang.array(g).without(["display"]);return i?i.focus():n.blur(),a&&n.setAttribute("placeholder",o),this.parent.on("focus:composer",function(){u.copyStyles(l).from(t.focusStylesHost).to(t.editableArea),u.copyStyles(p).from(t.focusStylesHost).to(t.element)}),this.parent.on("blur:composer",function(){u.copyStyles(l).from(t.blurStylesHost).to(t.editableArea),u.copyStyles(p).from(t.blurStylesHost).to(t.element)}),this.parent.observe("disable:composer",function(){u.copyStyles(l).from(t.disabledStylesHost).to(t.editableArea),u.copyStyles(p).from(t.disabledStylesHost).to(t.element)}),this.parent.observe("enable:composer",function(){u.copyStyles(l).from(t.blurStylesHost).to(t.editableArea),u.copyStyles(p).from(t.blurStylesHost).to(t.element)}),this}}(wysihtml5),function(o){var i=o.dom,s=o.browser,r={66:"bold",73:"italic",85:"underline"},n=function(e,t,i){for(var n=0,a=t.length;n<a;n++)e.addEventListener(t[n],i,!1)},a=function(e,t,i){for(var n=0,a=t.length;n<a;n++)e.removeEventListener(t[n],i,!1)},l=function(e,t){var i=t.selection;t.element;if(i.isCollapsed())if(i.caretIsInTheBeginnig("LI"))e.preventDefault(),t.commands.exec("outdentList");else if(i.caretIsInTheBeginnig())e.preventDefault();else{if(i.caretIsFirstInSelection()&&i.getPreviousNode()&&i.getPreviousNode().nodeName&&/^H\d$/gi.test(i.getPreviousNode().nodeName)){var n=i.getPreviousNode();if(e.preventDefault(),/^\s*$/.test(n.textContent||n.innerText))n.parentNode.removeChild(n);else{var a=n.ownerDocument.createRange();a.selectNodeContents(n),a.collapse(!1),i.setSelection(a)}}var o=i.caretIsBeforeUneditable();if(o){e.preventDefault();try{var s=new CustomEvent("wysihtml5:uneditable:delete");o.dispatchEvent(s)}catch(r){}o.parentNode.removeChild(o)}}else i.containsUneditable()&&(e.preventDefault(),i.deleteContents())},d=function(e){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("LI")&&e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")},u=function(){this.domNodeRemovedInterval&&clearInterval(domNodeRemovedInterval),this.parent.fire("destroy:composer")},c=function(){this.parent.fire("beforeinteraction").fire("beforeinteraction:composer"),setTimeout(function(){this.parent.fire("interaction").fire("interaction:composer")}.bind(this),0)},h=function(e){this.parent.fire("focus",e).fire("focus:composer",e),setTimeout(function(){this.focusState=this.getValue(!1,!1)}.bind(this),0)},p=function(e){if(this.focusState!==this.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),this.parent.fire("change",t).fire("change:composer",t)}this.parent.fire("blur",e).fire("blur:composer",e)},g=function(e){this.parent.fire(e.type,e).fire(e.type+":composer",e),"paste"===e.type&&setTimeout(function(){this.parent.fire("newword:composer")}.bind(this),0)},f=function(e){this.config.copyedFromMarking&&(e.clipboardData&&(e.clipboardData.setData("text/html",this.config.copyedFromMarking+this.selection.getHtml()),e.clipboardData.setData("text/plain",this.selection.getPlainText()),e.preventDefault()),this.parent.fire(e.type,e).fire(e.type+":composer",e))},m=function(e){var t=e.keyCode;t!==o.SPACE_KEY&&t!==o.ENTER_KEY||this.parent.fire("newword:composer")},_=function(e){if(!s.canSelectImagesInContentEditable()){var t=e.target,i=this.element.querySelectorAll("img"),n=this.element.querySelectorAll("."+this.config.uneditableContainerClassname+" img"),a=o.lang.array(i).without(n);"IMG"===t.nodeName&&o.lang.array(a).contains(t)&&this.selection.selectNode(t)}},w=function(e){var t,i={IMG:"Image: ",A:"Link: "},n=e.target,a=n.nodeName;"A"!==a&&"IMG"!==a||n.hasAttribute("title")||(t=i[a]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",t))},b=function(e){if(this.config.uneditableContainerClassname){var t=o.dom.getParentElement(e.target,{className:this.config.uneditableContainerClassname},!1,this.element);t&&this.selection.setAfter(t)}},v=function(){s.canSelectImagesInContentEditable()||setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},y=function(e){var t,i,n=e.keyCode,a=r[n];(e.ctrlKey||e.metaKey)&&!e.altKey&&a&&(this.commands.exec(a),e.preventDefault()),n===o.BACKSPACE_KEY&&l(e,this),n!==o.BACKSPACE_KEY&&n!==o.DELETE_KEY||(t=this.selection.getSelectedNode(!0))&&"IMG"===t.nodeName&&(e.preventDefault(),(i=t.parentNode).removeChild(t),"A"!==i.nodeName||i.firstChild||i.parentNode.removeChild(i),setTimeout(function(){o.quirks.redraw(element)},0)),this.config.handleTabKey&&n===o.TAB_KEY&&(e.preventDefault(),d(this,element))},k=function(){setTimeout(function(){this.doc.querySelector(":focus")!==this.element&&this.focus()}.bind(this),0)},x=function(){setTimeout(function(){this.selection.getSelection().removeAllRanges()}.bind(this),0)},C=function(){var e=function(){this.doc.execCommand("enableObjectResizing",!1,"false"),this.doc.execCommand("enableInlineTableEditing",!1,"false")},t=function(){e.call(this),a(this.sandbox.getIframe(),["focus","mouseup","mouseover"],t)}.bind(this);this.doc.execCommand&&o.browser.supportsCommand(this.doc,"enableObjectResizing")&&o.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?n(this.sandbox.getIframe(),["focus","mouseup","mouseover"],t):setTimeout(function(){e.call(this)}.bind(this),0)),this.tableSelection=o.quirks.tableCellsSelection(this.element,this.parent)};o.views.Composer.prototype.observe=function(){var e=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),t=(this.element,s.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?this.element:this.sandbox.getWindow());this.focusState=this.getValue(!1,!1),e.addEventListener(["DOMNodeRemoved"],u.bind(this),!1),s.supportsMutationEvents()||(this.domNodeRemovedInterval=setInterval(function(){i.contains(document.documentElement,e)||u.call(this)},250)),this.config.handleTables&&C.call(this),n(t,["drop","paste","mouseup","focus","keyup"],c.bind(this)),t.addEventListener("focus",h.bind(this),!1),t.addEventListener("blur",p.bind(this),!1),n(this.element,["drop","paste","beforepaste"],g.bind(this),!1),this.element.addEventListener("copy",f.bind(this),!1),this.element.addEventListener("mousedown",_.bind(this),!1),this.element.addEventListener("mouseover",w.bind(this),!1),
this.element.addEventListener("click",b.bind(this),!1),this.element.addEventListener("drop",v.bind(this),!1),this.element.addEventListener("keyup",m.bind(this),!1),this.element.addEventListener("keydown",y.bind(this),!1),this.element.addEventListener("dragenter",function(){this.parent.fire("unset_placeholder")}.bind(this),!1),!this.config.contentEditableMode&&s.hasIframeFocusIssue()&&(e.addEventListener("focus",k.bind(this),!1),e.addEventListener("blur",x.bind(this),!1))}}(wysihtml5),function(o){var s=400;o.views.Synchronizer=Base.extend({constructor:function(e,t,i){this.editor=e,this.textarea=t,this.composer=i,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(o.lang.string(this.composer.getValue(!1,!1)).trim(),e)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var t,i=this,e=this.textarea.element.form,n=function(){t=setInterval(function(){i.fromComposerToTextarea()},s)},a=function(){clearInterval(t),t=null};n(),e&&(o.dom.observe(e,"submit",function(){i.sync(!0)}),o.dom.observe(e,"reset",function(){setTimeout(function(){i.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"!==e||t?"textarea"===e&&(i.fromComposerToTextarea(!0),a()):(i.fromTextareaToComposer(!0),n())}),this.editor.on("destroy:composer",a)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,i){this.base(e,t,i),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return!1!==e&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(){var e=this.parent.parse(this.element.value);this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,i=this.element.value;return e&&!i||i===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,i=this.parent,n={focusin:"focus",focusout:"blur"},t=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];i.on("beforeload",function(){wysihtml5.dom.observe(e,t,function(e){var t=n[e.type]||e.type;i.fire(t).fire(t+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){i.fire("paste").fire("paste:textarea")},0)})})}}),function(a){var e,n={name:e,style:!0,toolbar:e,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},pasteParserRulesets:null,parser:a.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:e,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container",copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};a.Editor=a.lang.Dispatcher.extend({constructor:function(e,t){if(this.editableElement="string"==typeof e?document.getElementById(e):e,this.config=a.lang.object({}).merge(n).merge(t).get(),this._isCompatible=a.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new a.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var i=this;setTimeout(function(){i.fire("beforeload").fire("load")},0)}else a.dom.addClass(document.body,this.config.bodyClassName),this.composer=new a.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e,t){var i=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,n=this.config.parser(e,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:i,uneditableClass:this.config.uneditableContainerClassname,clearInternals:t});return"object"==typeof e&&a.quirks.redraw(e),n},_initParser:function(){var t,i=this;a.browser.supportsModenPaste()?this.on("paste:composer",function(e){e.preventDefault(),(t=a.dom.getPastedHtml(e))&&i._cleanAndPaste(t)}):this.on("beforepaste:composer",function(e){e.preventDefault(),a.dom.getPastedHtmlWithDiv(i.composer,function(e){e&&i._cleanAndPaste(e)})})},_cleanAndPaste:function(e){var t=a.quirks.cleanPastedHTML(e,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.uneditableContainerClassname});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(t)}})}(wysihtml5),function(s){var r=s.dom,l="wysihtml5-command-dialog-opened",d="input, select, textarea",u="[data-wysihtml5-dialog-field]",c="data-wysihtml5-dialog-field";s.toolbar.Dialog=s.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var i=this,n=function(e){var t=i._serialize();t==i.elementToChange?i.fire("edit",t):i.fire("save",t),i.hide(),e.preventDefault(),e.stopPropagation()};r.observe(i.link,"click",function(){r.hasClass(i.link,l)&&setTimeout(function(){i.hide()},0)}),r.observe(this.container,"keydown",function(e){var t=e.keyCode;t===s.ENTER_KEY&&n(e),t===s.ESCAPE_KEY&&(i.fire("cancel"),i.hide())}),r.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",n),r.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){i.fire("cancel"),i.hide(),e.preventDefault(),e.stopPropagation()});for(var e=this.container.querySelectorAll(d),t=0,a=e.length,o=function(){clearInterval(i.interval)};t<a;t++)r.observe(e[t],"change",o);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(u),i=t.length,n=0;n<i;n++)e[t[n].getAttribute(c)]=t[n].value;return e},_interpolate:function(e){for(var t,i,n,a=document.querySelector(":focus"),o=this.container.querySelectorAll(u),s=o.length,r=0;r<s;r++)(t=o[r])!==a&&(e&&"hidden"===t.type||(i=t.getAttribute(c),n=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(i)||"":t.defaultValue,t.value=n))},show:function(e){if(!r.hasClass(this.link,l)){var t=this,i=this.container.querySelector(d);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){t._interpolate(!0)},500)),r.addClass(this.link,l),this.container.style.display="",this.fire("show"),i&&!e)try{i.focus()}catch(n){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,r.removeClass(this.link,l),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(s){var r=s.dom,l={position:"relative"},d={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},u={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},c={"x-webkit-speech":"",speech:""};s.toolbar.Speech=function(e,t){var i=document.createElement("input");if(s.browser.supportsSpeechApiOn(i)){var n=e.editor.textarea.element.getAttribute("lang");n&&(c.lang=n);var a=document.createElement("div");s.lang.object(d).merge({width:t.offsetWidth+"px",height:t.offsetHeight+"px"}),r.insert(i).into(a),r.insert(a).into(t),r.setStyles(u).on(i),r.setAttributes(c).on(i),r.setStyles(d).on(a),r.setStyles(l).on(t);var o="onwebkitspeechchange"in i?"webkitspeechchange":"speechchange";r.observe(i,o,function(){e.execCommand("insertText",i.value),i.value=""}),r.observe(i,"click",function(e){r.hasClass(t,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}else t.style.display="none"}}(wysihtml5),function(u){var s="wysihtml5-command-disabled",r="wysihtml5-commands-disabled",l="wysihtml5-command-active",d="wysihtml5-action-active",c=u.dom;u.toolbar.Toolbar=Base.extend({constructor:function(e,t,i){this.editor=e,this.container="string"==typeof t?document.getElementById(t):t,this.composer=e.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),i&&this.show(),null!=e.config.classNameCommandDisabled&&(s=e.config.classNameCommandDisabled),null!=e.config.classNameCommandsDisabled&&(r=e.config.classNameCommandsDisabled),null!=e.config.classNameCommandActive&&(l=e.config.classNameCommandActive),null!=e.config.classNameActionActive&&(d=e.config.classNameActionActive);for(var n=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),a=n.length,o=0;o<a;o++)new u.toolbar.Speech(this,n[o])},_getLinks:function(e){for(var t,i,n,a,o,s=this[e+"Links"]=u.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),r=s.length,l=0,d=this[e+"Mapping"]={};l<r;l++)n=(t=s[l]).getAttribute("data-wysihtml5-"+e),a=t.getAttribute("data-wysihtml5-"+e+"-value"),i=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+n+"']"),o=this._getDialog(t,n),d[n+":"+a]={link:t,group:i,name:n,value:a,dialog:o,state:!1}},_getDialog:function(t,i){var e,n,a=this,o=this.container.querySelector("[data-wysihtml5-dialog='"+i+"']");return o&&((e=u.toolbar["Dialog_"+i]?new u.toolbar["Dialog_"+i](t,o):new u.toolbar.Dialog(t,o)).on("show",function(){n=a.composer.selection.getBookmark(),a.editor.fire("show:dialog",{command:i,dialogContainer:o,commandLink:t})}),e.on("save",function(e){n&&a.composer.selection.setBookmark(n),a._execCommand(i,e),a.editor.fire("save:dialog",{command:i,dialogContainer:o,commandLink:t})}),e.on("cancel",function(){a.editor.focus(!1),a.editor.fire("cancel:dialog",{command:i,dialogContainer:o,commandLink:t})})),e},execCommand:function(e,t){if(!this.commandsDisabled){var i=this.commandMapping[e+":"+t];i&&i.dialog&&!i.state?i.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&t.textarea&&(t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var a=this,t=this.editor,i=this.container,e=this.commandLinks.concat(this.actionLinks),n=e.length,o=0;o<n;o++)"A"===e[o].nodeName?c.setAttributes({href:"javascript:;",unselectable:"on"}).on(e[o]):c.setAttributes({unselectable:"on"}).on(e[o]);c.delegate(i,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),c.delegate(i,"[data-wysihtml5-command]","click",function(e){var t=this,i=t.getAttribute("data-wysihtml5-command"),n=t.getAttribute("data-wysihtml5-command-value");a.execCommand(i,n),e.preventDefault()}),c.delegate(i,"[data-wysihtml5-action]","click",function(e){var t=this.getAttribute("data-wysihtml5-action");a.execAction(t),e.preventDefault()}),t.on("interaction:composer",function(){a._updateLinkStates()}),t.on("focus:composer",function(){a.bookmark=null}),this.editor.config.handleTables&&(t.on("tableselect:composer",function(){a.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),t.on("tableunselect:composer",function(){a.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),t.on("change_view",function(e){t.textarea&&setTimeout(function(){a.commandsDisabled="composer"!==e,a._updateLinkStates(),a.commandsDisabled?c.addClass(i,r):c.removeClass(i,r)},0)})},_updateLinkStates:function(){var e,t,i,n,a=this.commandMapping,o=this.actionMapping;for(e in a)n=a[e],this.commandsDisabled?(t=!1,c.removeClass(n.link,l),n.group&&c.removeClass(n.group,l),n.dialog&&n.dialog.hide()):(t=this.composer.commands.state(n.name,n.value),c.removeClass(n.link,s),n.group&&c.removeClass(n.group,s)),n.state!==t&&((n.state=t)?(c.addClass(n.link,l),n.group&&c.addClass(n.group,l),n.dialog&&("object"==typeof t||u.lang.object(t).isArray()?(!n.dialog.multiselect&&u.lang.object(t).isArray()&&(t=1!==t.length||t[0],n.state=t),n.dialog.show(t)):n.dialog.hide())):(c.removeClass(n.link,l),n.group&&c.removeClass(n.group,l),n.dialog&&n.dialog.hide()));for(e in o)"change_view"===(i=o[e]).name&&(i.state=this.editor.currentView===this.editor.textarea,i.state?c.addClass(i.link,d):c.removeClass(i.link,d))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){e.toolbar.Dialog_createTable=e.toolbar.Dialog.extend({show:function(e){this.base(e)}})}(wysihtml5),function(d){d.dom;var u="[data-wysihtml5-dialog-field]",c="data-wysihtml5-dialog-field";d.toolbar.Dialog_foreColorStyle=d.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},t=this.container.querySelectorAll(u),i=t.length,n=0;n<i;n++)e[t[n].getAttribute(c)]=t[n].value;return e},_interpolate:function(e){for(var t,i=document.querySelector(":focus"),n=this.container.querySelectorAll(u),a=n.length,o=0,s=this.elementToChange?d.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,r=s?s.getAttribute("style"):null,l=r?d.quirks.styleParser.parseColor(r,"color"):null;o<a;o++)(t=n[o])!==i&&(e&&"hidden"===t.type||"color"===t.getAttribute(c)&&(l?l[3]&&1!=l[3]?t.value="rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+");":t.value="rgb("+l[0]+","+l[1]+","+l[2]+");":t.value="rgb(0,0,0);"))}})}(wysihtml5),function(o){o.dom;o.toolbar.Dialog_fontSizeStyle=o.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(){var e=document.querySelector(":focus"),t=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?o.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,n=i?i.getAttribute("style"):null,a=n?o.quirks.styleParser.parseFontSize(n):null;t&&t!==e&&a&&!/^\s*$/.test(a)&&(t.value=a)}})}(wysihtml5),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(y){"use strict";function i(t,e){var i,n,a,o,s,r=y('<div class="minicolors" />'),l=y.minicolors.defaults;if(!t.data("minicolors-initialized")){if(e=y.extend(!0,{},l,e),r.addClass("minicolors-theme-"+e.theme).toggleClass("minicolors-with-opacity",e.opacity),e.position!==undefined&&y.each(e.position.split(" "),function(){r.addClass("minicolors-position-"+this)}),i="rgb"===e.format?e.opacity?"25":"20":e.keywords?"11":"7",t.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",e).prop("size",i).wrap(r).after('<div class="minicolors-panel minicolors-slider-'+e.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),e.inline||(t.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),t.next(".minicolors-input-swatch").on("click",function(e){e.preventDefault(),t.focus()})),(o=t.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),e.swatches&&0!==e.swatches.length)for(o.addClass("minicolors-with-swatches"),n=y('<ul class="minicolors-swatches"></ul>').appendTo(o),s=0;s<e.swatches.length;++s)a=z(a=e.swatches[s])?T(a,!0):h(x(a,!0)),y('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(n).data("swatch-color",e.swatches[s]).find(".minicolors-swatch-color").css({backgroundColor:u(a),opacity:a.a}),e.swatches[s]=a;e.inline&&t.parent().addClass("minicolors-inline"),d(t,!1),t.data("minicolors-initialized",!0)}}function n(e){var t=e.parent();e.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),t.before(e).remove()}function a(e){var t=e.parent(),i=t.find(".minicolors-panel"),n=e.data("minicolors-settings");!e.data("minicolors-initialized")||e.prop("disabled")||t.hasClass("minicolors-inline")||t.hasClass("minicolors-focus")||(o(),t.addClass("minicolors-focus"),i.stop(!0,!0).fadeIn(n.showSpeed,function(){n.show&&n.show.call(e.get(0))}))}function o(){y(".minicolors-focus").each(function(){var e=y(this),t=e.find(".minicolors-input"),i=e.find(".minicolors-panel"),n=t.data("minicolors-settings");i.fadeOut(n.hideSpeed,function(){n.hide&&n.hide.call(t.get(0)),e.removeClass("minicolors-focus")})})}function s(e,t,i){var n,a,o,s,r=e.parents(".minicolors").find(".minicolors-input"),l=r.data("minicolors-settings"),d=e.find("[class$=-picker]"),u=e.offset().left,c=e.offset().top,h=Math.round(t.pageX-u),p=Math.round(t.pageY-c),g=i?l.animationSpeed:0;t.originalEvent.changedTouches&&(h=t.originalEvent.changedTouches[0].pageX-u,p=t.originalEvent.changedTouches[0].pageY-c),h<0&&(h=0),p<0&&(p=0),h>e.width()&&(h=e.width()),p>e.height()&&(p=e.height()),e.parent().is(".minicolors-slider-wheel")&&d.parent().is(".minicolors-grid")&&(n=75-h,a=75-p,o=Math.sqrt(n*n+a*a),(s=Math.atan2(a,n))<0&&(s+=2*Math.PI),75<o&&(h=(o=75)-75*Math.cos(s),p=75-75*Math.sin(s)),h=Math.round(h),p=Math.round(p)),e.is(".minicolors-grid")?d.stop(!0).animate({top:p+"px",left:h+"px"},g,l.animationEasing,function(){f(r,e)}):d.stop(!0).animate({top:p+"px"},g,l.animationEasing,function(){f(r,e)})}function f(e,t){function i(e,t){var i,n;return e.length&&t?(i=e.offset().left,n=e.offset().top,{x:i-t.offset().left+e.outerWidth()/2,y:n-t.offset().top+e.outerHeight()/2}):null}var n,a,o,s,r,l,d,u=e.val(),c=e.attr("data-opacity"),h=e.parent(),p=e.data("minicolors-settings"),g=h.find(".minicolors-input-swatch"),f=h.find(".minicolors-grid"),m=h.find(".minicolors-slider"),_=h.find(".minicolors-opacity-slider"),w=f.find("[class$=-picker]"),b=m.find("[class$=-picker]"),v=_.find("[class$=-picker]"),y=i(w,f),k=i(b,m),x=i(v,_);if(t.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(p.control){case"wheel":s=f.width()/2-y.x,r=f.height()/2-y.y,l=Math.sqrt(s*s+r*r),(d=Math.atan2(r,s))<0&&(d+=2*Math.PI),75<l&&(l=75,y.x=69-75*Math.cos(d),y.y=69-75*Math.sin(d)),a=P(l/.75,0,100),u=D({h:n=P(180*d/Math.PI,0,360),s:a,b:o=P(100-Math.floor(k.y*(100/m.height())),0,100)}),m.css("backgroundColor",D({h:n,s:a,b:100}));break;case"saturation":u=D({h:n=P(parseInt(y.x*(360/f.width()),10),0,360),s:a=P(100-Math.floor(k.y*(100/m.height())),0,100),b:o=P(100-Math.floor(y.y*(100/f.height())),0,100)}),m.css("backgroundColor",D({h:n,s:100,b:o})),h.find(".minicolors-grid-inner").css("opacity",a/100);break;case"brightness":u=D({h:n=P(parseInt(y.x*(360/f.width()),10),0,360),s:a=P(100-Math.floor(y.y*(100/f.height())),0,100),b:o=P(100-Math.floor(k.y*(100/m.height())),0,100)}),m.css("backgroundColor",D({h:n,s:a,b:100})),h.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:u=D({h:n=P(360-parseInt(k.y*(360/m.height()),10),0,360),s:a=P(Math.floor(y.x*(100/f.width())),0,100),b:o=P(100-Math.floor(y.y*(100/f.height())),0,100)}),f.css("backgroundColor",D({h:n,s:100,b:100}))}C(e,u,c=p.opacity?parseFloat(1-x.y/_.height()).toFixed(2):1)}else g.find("span").css({backgroundColor:u,opacity:c}),S(e,u,c)}function C(e,t,i){var n,a=e.parent(),o=e.data("minicolors-settings"),s=a.find(".minicolors-input-swatch");o.opacity&&e.attr("data-opacity",i),t="rgb"===o.format?(n=z(t)?T(t,!0):h(x(t,!0)),i=""===e.attr("data-opacity")?1:P(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),!isNaN(i)&&o.opacity||(i=1),e.minicolors("rgbObject").a<=1&&n&&o.opacity?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(i)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"):(z(t)&&(t=N(t)),k(t,o.letterCase)),e.val(t),s.find("span").css({backgroundColor:t,opacity:i}),S(e,t,i)}function d(e,t){var i,n,a,o,s,r,l,d,u,c,h=e.parent(),p=e.data("minicolors-settings"),g=h.find(".minicolors-input-swatch"),f=h.find(".minicolors-grid"),m=h.find(".minicolors-slider"),_=h.find(".minicolors-opacity-slider"),w=f.find("[class$=-picker]"),b=m.find("[class$=-picker]"),v=_.find("[class$=-picker]");switch(z(e.val())?(i=N(e.val()),(s=P(parseFloat(E(e.val())).toFixed(2),0,1))&&e.attr("data-opacity",s)):i=k(x(e.val(),!0),p.letterCase),i||(i=k(I(p.defaultValue,!0),p.letterCase)),n=A(i),o=p.keywords?y.map(p.keywords.split(","),function(e){return y.trim(e.toLowerCase())}):[],r=""!==e.val()&&-1<y.inArray(e.val().toLowerCase(),o)?k(e.val()):z(e.val())?T(e.val()):i,t||e.val(r),p.opacity&&(a=""===e.attr("data-opacity")?1:P(parseFloat(e.attr("data-opacity")).toFixed(2),0,1),isNaN(a)&&(a=1),e.attr("data-opacity",a),g.find("span").css("opacity",a),d=P(_.height()-_.height()*a,0,_.height()),v.css("top",d+"px")),"transparent"===e.val().toLowerCase()&&g.find("span").css("opacity",0),g.find("span").css("backgroundColor",i),p.control){case"wheel":u=P(Math.ceil(.75*n.s),0,f.height()/2),c=n.h*Math.PI/180,l=P(75-Math.cos(c)*u,0,f.width()),d=P(75-Math.sin(c)*u,0,f.height()),w.css({top:d+"px",left:l+"px"}),d=150-n.b/(100/f.height()),""===i&&(d=0),b.css("top",d+"px"),m.css("backgroundColor",D({h:n.h,s:n.s,b:100}));break;case"saturation":l=P(5*n.h/12,0,150),d=P(f.height()-Math.ceil(n.b/(100/f.height())),0,f.height()),w.css({top:d+"px",left:l+"px"}),d=P(m.height()-n.s*(m.height()/100),0,m.height()),b.css("top",d+"px"),m.css("backgroundColor",D({h:n.h,s:100,b:n.b})),h.find(".minicolors-grid-inner").css("opacity",n.s/100);break;case"brightness":l=P(5*n.h/12,0,150),d=P(f.height()-Math.ceil(n.s/(100/f.height())),0,f.height()),w.css({top:d+"px",left:l+"px"}),d=P(m.height()-n.b*(m.height()/100),0,m.height()),b.css("top",d+"px"),m.css("backgroundColor",D({h:n.h,s:n.s,b:100})),h.find(".minicolors-grid-inner").css("opacity",1-n.b/100);break;default:l=P(Math.ceil(n.s/(100/f.width())),0,f.width()),d=P(f.height()-Math.ceil(n.b/(100/f.height())),0,f.height()),w.css({top:d+"px",left:l+"px"}),d=P(m.height()-n.h/(360/m.height()),0,m.height()),b.css("top",d+"px"),f.css("backgroundColor",D({h:n.h,s:100,b:100}))}e.data("minicolors-initialized")&&S(e,r,a)}function S(e,t,i){var n,a,o,s=e.data("minicolors-settings"),r=e.data("minicolors-lastChange");if(!r||r.value!==t||r.opacity!==i){if(e.data("minicolors-lastChange",{value:t,opacity:i}),s.swatches&&0!==s.swatches.length){for(n=z(t)?T(t,!0):h(t),a=-1,o=0;o<s.swatches.length;++o)if(n.r===s.swatches[o].r&&n.g===s.swatches[o].g&&n.b===s.swatches[o].b&&n.a===s.swatches[o].a){a=o;break}e.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==a&&e.parent().find(".minicolors-swatches .minicolors-swatch").eq(o).addClass("selected")}s.change&&(s.changeDelay?(clearTimeout(e.data("minicolors-changeTimeout")),e.data("minicolors-changeTimeout",setTimeout(function(){s.change.call(e.get(0),t,i)},s.changeDelay))):s.change.call(e.get(0),t,i)),e.trigger("change").trigger("input")}}function r(e){var t,i=y(e).attr("data-opacity");z(y(e).val())?t=T(y(e).val(),!0):t=h(x(y(e).val(),!0));return t?(i!==undefined&&y.extend(t,{a:parseFloat(i)}),t):null}function l(e,t){var i,n=y(e).attr("data-opacity");z(y(e).val())?i=T(y(e).val(),!0):i=h(x(y(e).val(),!0));return i?(n===undefined&&(n=1),t?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(n)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):null}function k(e,t){return"uppercase"===t?e.toUpperCase():e.toLowerCase()}function x(e,t){return(e=e.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==e.length&&6!==e.length?"":(3===e.length&&t&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),"#"+e):""}function T(e,t){var i=e.replace(/[^\d,.]/g,"").split(",");return i[0]=P(parseInt(i[0],10),0,255),i[1]=P(parseInt(i[1],10),0,255),i[2]=P(parseInt(i[2],10),0,255),i[3]&&(i[3]=P(parseFloat(i[3],10),0,1)),t?i[3]?{r:i[0],g:i[1],b:i[2],a:i[3]}:{r:i[0],g:i[1],b:i[2]}:"undefined"!=typeof i[3]&&i[3]<=1?"rgba("+i[0]+", "+i[1]+", "+i[2]+", "+i[3]+")":"rgb("+i[0]+", "+i[1]+", "+i[2]+")"}function I(e,t){return z(e)?T(e):x(e,t)}function P(e,t,i){return e<t&&(e=t),i<e&&(e=i),e}function z(e){var t=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!t||4!==t.length)}function E(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===e.length?e[4]:"1"}function t(e){var t={},i=Math.round(e.h),n=Math.round(255*e.s/100),a=Math.round(255*e.b/100);if(0===n)t.r=t.g=t.b=a;else{var o=a,s=(255-n)*a/255,r=i%60*(o-s)/60;360===i&&(i=0),i<60?(t.r=o,t.b=s,t.g=s+r):i<120?(t.g=o,t.b=s,t.r=o-r):i<180?(t.g=o,t.r=s,t.b=s+r):i<240?(t.b=o,t.r=s,t.g=o-r):i<300?(t.b=o,t.g=s,t.r=s+r):t.b=i<360?(t.r=o,t.g=s,o-r):(t.r=0,t.g=0)}return{r:Math.round(t.r),g:Math.round(t.g),b:Math.round(t.b)}}function N(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}function u(e){var i=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return y.each(i,function(e,t){1===t.length&&(i[e]="0"+t)}),"#"+i.join("")}function D(e){return u(t(e))}function A(e){var t=c(h(e));return 0===t.s&&(t.h=360),t}function c(e){var t={h:0,s:0,b:0},i=Math.min(e.r,e.g,e.b),n=Math.max(e.r,e.g,e.b),a=n-i;return t.b=n,t.s=0!==n?255*a/n:0,0!==t.s?e.r===n?t.h=(e.g-e.b)/a:e.g===n?t.h=2+(e.b-e.r)/a:t.h=4+(e.r-e.g)/a:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t}function h(e){return{r:(e=parseInt(-1<e.indexOf("#")?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}}y.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},y.extend(y.fn,{minicolors:function(e,t){switch(e){case"destroy":return y(this).each(function(){n(y(this))}),y(this);case"hide":return o(),y(this);case"opacity":return t===undefined?y(this).attr("data-opacity"):(y(this).each(function(){d(y(this).attr("data-opacity",t))}),y(this));case"rgbObject":return r(y(this),"rgbaObject"===e);case"rgbString":case"rgbaString":return l(y(this),"rgbaString"===e);case"settings":return t===undefined?y(this).data("minicolors-settings"):(y(this).each(function(){var e=y(this).data("minicolors-settings")||{};n(y(this)),y(this).minicolors(y.extend(!0,e,t))}),y(this));case"show":return a(y(this).eq(0)),y(this);case"value":return t===undefined?y(this).val():(y(this).each(function(){"object"==typeof t&&"null"!==t?(t.opacity&&y(this).attr("data-opacity",P(t.opacity,0,1)),t.color&&y(this).val(t.color)):y(this).val(t),d(y(this))}),y(this));default:return"create"!==e&&(t=e),y(this).each(function(){i(y(this),t)}),y(this)}}}),y([document]).on("mousedown.minicolors touchstart.minicolors",function(e){y(e.target).parents().add(e.target).hasClass("minicolors")||o()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var t=y(this);e.preventDefault(),y(e.delegateTarget).data("minicolors-target",t),s(t,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var t=y(e.delegateTarget).data("minicolors-target");t&&s(t,e)}).on("mouseup.minicolors touchend.minicolors",function(){y(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(e){e.preventDefault();var t=y(this),i=t.parents(".minicolors").find(".minicolors-input"),n=t.data("swatch-color");C(i,n,E(n)),d(i)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(e){var t=y(this).parent().find(".minicolors-input");e.preventDefault(),a(t)}).on("focus.minicolors",".minicolors-input",function(){var e=y(this);e.data("minicolors-initialized")&&a(e)}).on("blur.minicolors",".minicolors-input",function(){var e,t,i,n,a,o=y(this),s=o.data("minicolors-settings");o.data("minicolors-initialized")&&(e=s.keywords?y.map(s.keywords.split(","),function(e){return y.trim(e.toLowerCase())}):[],a=""!==o.val()&&-1<y.inArray(o.val().toLowerCase(),e)?o.val():null===(i=z(o.val())?T(o.val(),!0):(t=x(o.val(),!0))?h(t):null)?s.defaultValue:"rgb"===s.format?s.opacity?T("rgba("+i.r+","+i.g+","+i.b+","+o.attr("data-opacity")+")"):T("rgb("+i.r+","+i.g+","+i.b+")"):u(i),n=s.opacity?o.attr("data-opacity"):1,"transparent"===a.toLowerCase()&&(n=0),o.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",n),o.val(a),""===o.val()&&o.val(I(s.defaultValue,!0)),o.val(k(o.val(),s.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var t=y(this);if(t.data("minicolors-initialized"))switch(e.keyCode){case 9:o();break;case 13:case 27:o(),t.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=y(this);e.data("minicolors-initialized")&&d(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=y(this);e.data("minicolors-initialized")&&setTimeout(function(){d(e,!0)},1)})}),Backbone.Marionette.Renderer.render=function(e,t){if(_.isFunction(e))return e(t);if(0===e.indexOf("templates/")&&(e="pageflow/editor/"+e),!JST[e])throw"Template '"+e+"' not found!";return JST[e](t)},pageflow.Object=function(e){this.initialize.apply(this,arguments)},_.extend(pageflow.Object.prototype,Backbone.Events,{initialize:function(){}}),pageflow.Object.extend=Backbone.Model.extend,pageflow.i18nUtils={attributeTranslationKeys:function(t,i,e){var n=[];return e.prefixes&&(n=n.concat(_(e.prefixes).map(function(e){return e+"."+t+"."+i},this))),e&&e.fallbackPrefix&&n.push(e.fallbackPrefix+"."+e.fallbackModelI18nKey+"."+t),n},attributeTranslation:function(e,t,i){return pageflow.i18nUtils.findTranslation(this.attributeTranslationKeys(e,t,i))},findTranslation:function(e,n){return(n=n||{}).html&&(e=this.translationKeysWithSuffix(e,"html")),_.chain(e).reverse().reduce(function(e,t){var i=I18n.t(t,_.extend({},n,{defaultValue:e}));return!n.html||t.match(/_html$/)||e==i?i:$("<div />").text(i).html()},n.defaultValue).value()},findKeyWithTranslation:function(e){var t="_not_translated";return _(e).detect(function(e){return I18n.t(e,{defaultValue:t})!==t})||_.first(e)},translationKeysWithSuffix:function(e,t){return _.chain(e).map(function(e){return[e+"_"+t,e]}).flatten().value()}},pageflow.inputView={ui:{labelText:"label .name",inlineHelp:"label .inline_help"},attributeTranslationKeys:function(e,t){return pageflow.i18nUtils.attributeTranslationKeys(this.options.propertyName,e,_.extend({prefixes:this.options.attributeTranslationKeyPrefixes,fallbackModelI18nKey:this.model.i18nKey},t||{}))},onRender:function(){this.$el.addClass("input"),this.$el.addClass(this.model.modelName+"_"+this.options.propertyName),this.$el.data("inputPropertyName",this.options.propertyName),this.ui.labelText.text(this.labelText()),this.ui.inlineHelp.html(this.inlineHelpText()),this.inlineHelpText()||this.ui.inlineHelp.hide(),this.updateDisabled(),this.setupVisibleBinding()},labelText:function(){return this.options.label||this.localizedAttributeName()},localizedAttributeName:function(){return pageflow.i18nUtils.findTranslation(this.attributeTranslationKeys("label",{fallbackPrefix:"activerecord.attributes"}))},inlineHelpText:function(){var e=this.attributeTranslationKeys("inline_help",{fallbackPrefix:"pageflow.ui.inline_help"});return this.options.disabled&&(e=pageflow.i18nUtils.translationKeysWithSuffix(e,"disabled")),
pageflow.i18nUtils.findTranslation(e,{defaultValue:"",html:!0})},updateDisabled:function(){this.ui.input&&this.updateDisabledAttribute(this.ui.input)},updateDisabledAttribute:function(e){this.options.disabled?e.attr("disabled",!0):e.removeAttr("disabled")},setupVisibleBinding:function(){function e(e,t){n.$el.toggle(i(t))}function i(e){return n.options.visibleBindingValue?e===n.options.visibleBindingValue:"function"==typeof n.options.visible?!!n.options.visible(e):"visible"in n.options?!!n.options.visible:!!e}var n=this;this.options.visibleBinding&&(this.listenTo(this.model,"change:"+this.options.visibleBinding,e),e(this.model,this.model.get(this.options.visibleBinding)))}},pageflow.inputWithPlaceholderText={onRender:function(){this.updatePlaceholder(),this.options.placeholderBinding&&this.listenTo(this.model,"change:"+this.options.placeholderBinding,this.updatePlaceholder)},updatePlaceholder:function(){this.ui.input.attr("placeholder",this.placeholderText())},placeholderText:function(){if(!this.options.disabled||!this.options.hidePlaceholderIfDisabled)return this.options.placeholder?"function"==typeof this.options.placeholder?this.options.placeholder(this.model):this.options.placeholder:this.placeholderModelValue()},placeholderModelValue:function(){return this.options.placeholderModel&&this.options.placeholderModel.get(this.options.propertyName)}},pageflow.subviewContainer={subview:function(e){return this.subviews=this.subviews||new Backbone.ChildViewContainer,this.subviews.add(e.render()),e},appendSubview:function(e){return this.$el.append(this.subview(e).el)},onClose:function(){this.subviews&&this.subviews.call("close")}},Cocktail.mixin(Backbone.Marionette.View,pageflow.subviewContainer),pageflow.tooltipContainer={events:{"mouseover [data-tooltip]":function(e){if(!this.tooltip.visible){var t,i=$(e.target),n=i.data("tooltip");t="bottom left"===i.data("tooltipAlign")?{left:i.position().left,top:i.position().top+i.outerHeight()}:"bottom right"===i.data("tooltipAlign")?{left:i.position().left+i.outerWidth(),top:i.position().top+i.outerHeight()}:{left:i.position().left+i.outerWidth(),top:i.position().top+i.outerHeight()/2},this.tooltip.show(I18n.t(n),t,{align:i.data("tooltipAlign")})}},"mouseout [data-tooltip]":function(){this.tooltip.hide()}},onRender:function(){this.appendSubview(this.tooltip=new pageflow.TooltipView)}},pageflow.SelectInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView],template:"pageflow/ui/templates/inputs/select_input",events:{change:"save"},ui:{select:"select",input:"select"},initialize:function(){if(this.options.collection&&(this.options.values=_.pluck(this.options.collection,this.options.valueProperty),this.options.textProperty?this.options.texts=_.pluck(this.options.collection,this.options.textProperty):this.options.translationKeyProperty&&(this.options.translationKeys=_.pluck(this.options.collection,this.options.translationKeyProperty)),this.options.groupProperty?this.options.groups=_.pluck(this.options.collection,this.options.groupProperty):this.options.groupTranslationKeyProperty&&(this.options.groupTanslationKeys=_.pluck(this.options.collection,this.options.groupTranslationKeyProperty))),!this.options.texts){if(!this.options.translationKeys){var t=this.options.translationKeyPrefix||pageflow.i18nUtils.findKeyWithTranslation(this.attributeTranslationKeys("values",{fallbackPrefix:"activerecord.values"}));this.options.translationKeys=_.map(this.options.values,function(e){return t+"."+e},this)}this.options.texts=_.map(this.options.translationKeys,function(e){return I18n.t(e)})}this.options.groups||(this.options.groups=_.map(this.options.groupTanslationKeys,function(e){return I18n.t(e)})),this.optGroups={}},onRender:function(){this.appendBlank(),this.appendPlaceholder(),this.appendOptions(),this.load(),this.listenTo(this.model,"change:"+this.options.propertyName,this.load),this.options.ensureValueDefined&&!this.model.has(this.options.propertyName)&&this.save()},appendBlank:function(){if(this.options.includeBlank){this.options.blankTranslationKey&&(this.options.blankText=I18n.t(this.options.blankTranslationKey));var e=document.createElement("option");e.value="",e.text=this.options.blankText||I18n.t("pageflow.ui.views.inputs.select_input_view.none"),this.ui.select.append(e)}},appendPlaceholder:function(){if(this.options.placeholderModel||this.options.placeholderValue){var e=this.options.placeholderValue||this.options.placeholderModel.get(this.options.propertyName),t=this.options.values.indexOf(e);if(0<=t){var i=document.createElement("option");i.value="",i.text=I18n.t("pageflow.ui.views.inputs.select_input_view.placeholder",{text:this.options.texts[t]}),this.ui.select.append(i)}}},appendOptions:function(){_.each(this.options.values,function(e,t){var i=document.createElement("option"),n=this.options.groups[t];i.value=e,i.text=this.options.texts[t],n?(i.setAttribute("data-group",n),this.findOrCreateOptGroup(n).append(i)):this.ui.select.append(i)},this)},findOrCreateOptGroup:function(e){return this.optGroups[e]||(this.optGroups[e]=$("<optgroup />",{label:e}).appendTo(this.ui.select)),this.optGroups[e]},save:function(){this.model.set(this.options.propertyName,this.ui.select.val())},load:function(){this.isClosed||(this.model.has(this.options.propertyName)?this.ui.select.val(this.model.get(this.options.propertyName)):this.ui.select.val(this.ui.select.find("option:first").val()))}}),pageflow.TableCellView=Backbone.Marionette.ItemView.extend({tagName:"td",template:"templates/table_cell",className:function(){return this.options.className},onRender:function(){this.listenTo(this.getModel(),"change:"+this.options.column.name,this.update),this.setupContentBinding(),this.update()},update:function(){throw"Not implemented"},attributeValue:function(){return"function"==typeof this.options.column.value?this.options.column.value(this.model):this.getModel().get(this.options.column.name)},getModel:function(){return this.options.column.configurationAttribute?this.model.configuration:this.model},attributeTranslation:function(e,t){return pageflow.i18nUtils.findTranslation(this.attributeTranslationKeys(e),t)},attributeTranslationKeys:function(t){return _(this.options.attributeTranslationKeyPrefixes||[]).map(function(e){return e+"."+this.options.column.name+"."+t},this)},setupContentBinding:function(){this.options.column.contentBinding&&(this.listenTo(this.getModel(),"change:"+this.options.column.contentBinding,this.update),this.update())}}),pageflow.CollectionView=Backbone.Marionette.View.extend({initialize:function(){this.rendered=!1,this.itemViews=new Backbone.ChildViewContainer,this.collection.map(this.addItem,this),this.listenTo(this.collection,"add",this.addItem),this.listenTo(this.collection,"remove",this.removeItem),this.listenTo(this.collection,"sort",this.sort),this.options.loadingViewConstructor&&(this.listenTo(this.collection,"request",function(){this.loading=!0,this.togglePlaceHolder()}),this.listenTo(this.collection,"sync",function(){this.loading=!1,this.togglePlaceHolder()}))},render:function(){return this.rendered||(this.$el.append(this.itemViews.map(function(e){return e.$el.data("view",e),e.render().el})),this.togglePlaceHolder(),this.rendered=!0),this},onClose:function(){this.itemViews.call("close"),this.closePlaceHolderView()},addItem:function(e){var t=new this.options.itemViewConstructor(_.extend({model:e},this.getItemViewOptions(e)));if(this.itemViews.add(t),this.rendered){var i=this.collection.indexOf(e);t.render(),t.$el.data("view",t),0<i?this.$el.children().eq(i-1).after(t.el):this.$el.prepend(t.el),this.togglePlaceHolder()}},removeItem:function(e){var t=this.itemViews.findByModel(e);t&&(this.itemViews.remove(t),t.close(),this.togglePlaceHolder())},sort:function(){var n=null;this.collection.each(function(e){var t,i=this.itemViews.findByModel(e);i&&(t=i.$el,n?n.after(t):this.$el.prepend(t),n=t)},this)},getItemViewOptions:function(e){return"function"==typeof this.options.itemViewOptions?this.options.itemViewOptions(e):this.options.itemViewOptions||{}},closePlaceHolderView:function(){this.placeHolderView&&(this.placeHolderView.close(),this.placeHolderView=null)},togglePlaceHolder:function(){var e=this.placeHolderConstructor;this.placeHolderConstructor=this.getPlaceHolderConstructor(),this.itemViews.length||!this.placeHolderConstructor?this.closePlaceHolderView():this.placeHolderView&&e===this.placeHolderConstructor||(this.closePlaceHolderView(),this.placeHolderView=new this.placeHolderConstructor,this.$el.append(this.placeHolderView.render().el))},getPlaceHolderConstructor:function(){return this.loading&&this.options.loadingViewConstructor?this.options.loadingViewConstructor:this.options.blankSlateViewConstructor?this.options.blankSlateViewConstructor:void 0}}),pageflow.ConfigurationEditorTabView=Backbone.Marionette.View.extend({className:"configuration_editor",initialize:function(){this.groups=this.options.groups||pageflow.ConfigurationEditorTabView.groups},input:function(e,t,i){this.view(t,_.extend({placeholderModel:this.options.placeholderModel,propertyName:e,attributeTranslationKeyPrefixes:this.options.attributeTranslationKeyPrefixes},i||{}))},view:function(e,t){this.inputs=this.inputs||new Backbone.ChildViewContainer,this.inputs.add(new e(_.extend({model:this.model,parentTab:this.options.tab},t||{})))},group:function(e,t){this.groups.apply(e,this,t)},render:function(){return this.inputs.each(function(e){this.$el.append(e.render().el)},this),this},onClose:function(){this.inputs&&this.inputs.call("close")}}),pageflow.ConfigurationEditorTabView.Groups=function(){var n={};this.define=function(e,t){if("function"!=typeof t)throw"Group has to be function.";n[e]=t},this.apply=function(e,t,i){if(!(e in n))throw'Undefined group named "'+e+'".';n[e].call(t,i||{})}},pageflow.ConfigurationEditorTabView.groups=new pageflow.ConfigurationEditorTabView.Groups,pageflow.ConfigurationEditorView=Backbone.Marionette.View.extend({className:"configuration_editor",initialize:function(){this.tabsView=new pageflow.TabsView({i18n:"pageflow.ui.configuration_editor.tabs",defaultTab:this.options.tab}),this.configure()},configure:function(){},tab:function(t,i){this.tabsView.tab(t,_.bind(function(){var e=new pageflow.ConfigurationEditorTabView({model:this.model,placeholderModel:this.options.placeholderModel,tab:t,attributeTranslationKeyPrefixes:this.options.attributeTranslationKeyPrefixes});return i.call(e),e},this))},refresh:function(){this.tabsView.refresh()},render:function(){return this.$el.append(this.subview(this.tabsView).el),this}}),_.extend(pageflow.ConfigurationEditorView,{repository:{},register:function(e,t){this.repository[e]=pageflow.ConfigurationEditorView.extend(t)}}),pageflow.CheckBoxInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView],template:"pageflow/ui/templates/inputs/check_box",className:"check_box_input",events:{change:"save"},ui:{input:"input",label:"label"},onRender:function(){this.ui.label.attr("for",this.cid),this.ui.input.attr("id",this.cid),this.load(),this.listenTo(this.model,"change:"+this.options.propertyName,this.load)},save:function(){this.options.disabled||this.model.set(this.options.propertyName,this.ui.input.is(":checked"))},load:function(){this.isClosed||this.ui.input.prop("checked",this.displayValue())},displayValue:function(){return(!this.options.disabled||!this.options.displayUncheckedIfDisabled)&&this.model.get(this.options.propertyName)}}),pageflow.ColorInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView],template:"pageflow/ui/templates/inputs/text_input",className:"color_input",ui:{input:"input"},events:{mousedown:"refreshPicker"},onRender:function(){this.ui.input.minicolors({changeDelay:200,change:_.bind(function(e){e===this.defaultValue()?this.model.unset(this.options.propertyName):this.model.set(this.options.propertyName,e)},this)}),this.listenTo(this.model,"change:"+this.options.propertyName,this.load),this.options.defaultValueBinding&&this.listenTo(this.model,"change:"+this.options.defaultValueBinding,this.updateSettings),this.updateSettings()},updateSettings:function(){this.ui.input.minicolors("settings",{defaultValue:this.defaultValue(),swatches:this.getSwatches()}),this.load()},load:function(){this.ui.input.minicolors("value",this.model.get(this.options.propertyName)||this.defaultValue()),this.$el.toggleClass("is_default",!this.model.has(this.options.propertyName))},refreshPicker:function(){this.ui.input.minicolors("value",{})},getSwatches:function(){return _.chain([this.defaultValue(),this.options.swatches]).flatten().uniq().compact().value()},defaultValue:function(){var e;return this.options.defaultValueBinding&&(e=this.model.get(this.options.defaultValueBinding)),"function"==typeof this.options.defaultValue?this.options.defaultValue(e):"defaultValue"in this.options?this.options.defaultValue:e}}),pageflow.ExtendedSelectInputView=pageflow.SelectInputView.extend({className:"extended_select_input",initialize:function(){pageflow.SelectInputView.prototype.initialize.apply(this,arguments),this.options.collection&&(this.options.descriptionProperty?this.options.descriptions=_.pluck(this.options.collection,this.options.descriptionProperty):this.options.descriptionTranslationKeyProperty&&(this.options.descriptionTanslationKeys=_.pluck(this.options.collection,this.options.descriptionTranslationKeyProperty))),this.options.descriptions||(this.options.descriptions=_.map(this.options.descriptionTanslationKeys,function(e){return I18n.t(e)}))},onRender:function(){var e=this,s=this.options;pageflow.SelectInputView.prototype.onRender.apply(this,arguments),$.widget("custom.extendedselectmenu",$.ui.selectmenu,{_renderItem:function(e,t){var i=this,n=$("<li>",{"class":t.value}),a=$("<div>",{"class":"text-container"}).appendTo(n),o=s.values.indexOf(t.value);return t.disabled&&n.addClass("ui-state-disabled"),s.pictogramClass&&$("<span>",{"class":s.pictogramClass}).prependTo(n),$("<p>",{text:t.label,"class":"item-text"}).appendTo(a),$("<p>",{text:s.descriptions[o],"class":"item-description"}).appendTo(a),s.helpLinkClicked&&$("<a>",{href:"#",title:I18n.t("pageflow.ui.views.extended_select_input_view.display_help")}).on("click",function(){return i.close(),s.helpLinkClicked(t.value),!1}).appendTo(n),n.appendTo(e)},_resizeMenu:function(){this.menuWrap.addClass("extended_select_input_menu");var e=this.menu.height(),t=this.button.offset().top+this.button.outerHeight(),i=$("body").height();i<e+t?this.menuWrap.outerHeight(i-t-5).css({"overflow-y":"scroll"}):this.menuWrap.css({height:"initial","overflow-y":"initial"})}}),this.ui.select.extendedselectmenu({select:e.select.bind(e),width:"100%",position:{my:"right top",at:"right bottom"}})},select:function(e,t){this.ui.select.val(t.item.value),this.save()}}),pageflow.UrlInputView=Backbone.Marionette.Layout.extend({mixins:[pageflow.inputView],template:"pageflow/ui/templates/inputs/url_input",ui:{input:"input",validation:".validation"},events:{change:"onChange"},onRender:function(){this.ui.validation.hide(),this.load(),this.validate()},onChange:function(){var e=this;this.saveDisplayProperty(),this.validate().done(function(){e.save()})},saveDisplayProperty:function(){this.model.set(this.options.displayPropertyName,this.ui.input.val()),this.model.unset(this.options.propertyName)},save:function(){var t=this;$.when(this.transformPropertyValue(this.ui.input.val())).then(function(e){t.model.set(t.options.propertyName,e)})},load:function(){this.ui.input.val(this.model.get(this.options.displayPropertyName)),this.onLoad()},onLoad:function(){},validateUrl:function(){return $.Deferred().resolve().promise()},transformPropertyValue:function(e){return e},supportedHosts:function(){return this.options.supportedHosts},validate:function(){function e(e){return s.permitHttps?e.match(/^https?:\/\//i):e.match(/^http:\/\//i)}function t(t){return _.any(o.supportedHosts(),function(e){return t.match(new RegExp("^"+e))})}function i(e){o.$el.addClass("invalid"),o.ui.validation.removeClass("pending").addClass("failed").html(e).show()}function n(e){o.$el.removeClass("invalid"),o.ui.validation.removeClass("failed").addClass("pending").html(e).show()}function a(){o.$el.removeClass("invalid"),o.ui.validation.hide()}var o=this,s=this.options,r=this.ui.input.val();if(s.required&&!r)i(I18n.t("pageflow.ui.views.inputs.url_input_view.required_field"));else if(r&&!e(r)){var l=I18n.t("pageflow.ui.views.inputs.url_input_view.url_hint");s.permitHttps&&(l=I18n.t("pageflow.ui.views.inputs.url_input_view.url_hint_https")),i(l)}else{if(!r||t(r))return o.validateUrl(r).progress(function(e){n(e)}).done(function(){a()}).fail(function(e){i(e)});i(I18n.t("pageflow.ui.views.inputs.url_input_view.supported_vendors")+_.map(o.supportedHosts(),function(e){return"<li>"+e+"</li>"}).join(""))}return $.Deferred().reject().promise()}}),pageflow.ProxyUrlInputView=pageflow.UrlInputView.extend({validateUrl:function(e){var i=this;return $.Deferred(function(t){t.notify(I18n.t("pageflow.ui.views.inputs.proxy_url_input_view.url_validation")),$.ajax({url:i.rewriteUrl(e),dataType:"html"}).done(t.resolve).fail(function(e){t.reject(I18n.t("pageflow.ui.views.inputs.proxy_url_input_view.http_error",{status:e.status}))})}).promise()},transformPropertyValue:function(e){return this.rewriteUrl(e)},supportedHosts:function(){return _.pluck(this.options.proxies,"url")},rewriteUrl:function(t){return _.each(this.options.proxies,function(e){t=t.replace(new RegExp("^"+e.url+"/?"),e.base_path+"/")}),t}}),pageflow.SliderInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView],className:"slider_input",template:"pageflow/ui/templates/inputs/slider_input",ui:{widget:".slider",value:".value"},events:{slidechange:"save"},onRender:function(){this.ui.widget.slider({animate:"fast",min:"minValue"in this.options?this.options.minValue:0,max:"maxValue"in this.options?this.options.maxValue:100}),this.load()},save:function(){var e=this.ui.widget.slider("option","value"),t="unit"in this.options?this.options.unit:"%";this.ui.value.text(e+t),this.model.set(this.options.propertyName,e)},load:function(){var e;e=this.model.has(this.options.propertyName)?this.model.get(this.options.propertyName):"defaultValue"in this.options?this.options.defaultValue:0,this.ui.widget.slider("option","value",e)}}),pageflow.TextAreaInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView,pageflow.inputWithPlaceholderText],template:"pageflow/ui/templates/inputs/text_area_input",ui:{input:"textarea",toolbar:".toolbar"},events:{change:"save"},onRender:function(){this.ui.input.addClass(this.options.size),this.load(),this.updatePlaceholder(),this.editor=new wysihtml5.Editor(this.ui.input[0],{toolbar:this.ui.toolbar[0],autoLink:this.options.disableLinks?0:1,parserRules:{tags:{em:{unwrap:this.options.disableRichtext?1:0,rename_tag:"i"},strong:{unwrap:this.options.disableRichtext?1:0,rename_tag:"b"},u:{unwrap:this.options.disableRichtext?1:0},b:{unwrap:this.options.disableRichtext?1:0},i:{unwrap:this.options.disableRichtext?1:0},br:{},a:{unwrap:this.options.disableLinks?1:0,check_attributes:{href:"href"},set_attributes:{rel:"nofollow",target:"_blank"}}}}}),this.options.disableRichtext&&(this.ui.toolbar.find('a[data-wysihtml5-command="bold"]').hide(),this.ui.toolbar.find('a[data-wysihtml5-command="italic"]').hide(),this.ui.toolbar.find('a[data-wysihtml5-command="underline"]').hide()),this.options.disableLinks&&this.ui.toolbar.find('a[data-wysihtml5-command="createLink"]').hide(),this.editor.on("change",_.bind(this.save,this)),this.editor.on("aftercommand:composer",_.bind(this.save,this))},save:function(){this.model.set(this.options.propertyName,this.editor.getValue())},load:function(){this.ui.input.val(this.model.get(this.options.propertyName))}}),function(){var e=-1!==navigator.userAgent.indexOf("Trident"),t=-1!==navigator.userAgent.indexOf("Gecko")&&-1===navigator.userAgent.indexOf("KHTML");wysihtml5.browser.insertsLineBreaksOnReturn=function(){return t&&!e}}(),pageflow.TextInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView,pageflow.inputWithPlaceholderText],template:"pageflow/ui/templates/inputs/text_input",ui:{input:"input"},events:{change:"onChange"},onRender:function(){this.load(),this.validate(),this.listenTo(this.model,"change:"+this.options.propertyName,this.load)},onChange:function(){this.validate(),this.save()},onClose:function(){this.save()},save:function(){this.model.set(this.options.propertyName,this.ui.input.val())},load:function(){this.ui.input.val(this.model.get(this.options.propertyName))},validate:function(){this.options.required&&!this.ui.input.val()?this.displayValidationError(I18n.t("pageflow.ui.views.inputs.text_input_view.required_field")):this.resetValidationError()},displayValidationError:function(e){this.$el.addClass("invalid"),this.ui.input.attr("title",e)},resetValidationError:function(){this.$el.removeClass("invalid"),this.ui.input.attr("title","")}}),pageflow.UrlDisplayView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView],template:"pageflow/ui/templates/inputs/url_display",ui:{link:"a"},modelEvents:{change:"update"},events:{"click a":function(e){e.stopPropagation()}},onRender:function(){this.update()},update:function(){var e=this.model.get("original_url");this.$el.toggle(this.model.isUploaded()&&!_.isEmpty(e)),this.ui.link.attr("href",e)}}),pageflow.SortableCollectionView=pageflow.CollectionView.extend({render:function(){return pageflow.CollectionView.prototype.render.call(this),this.$el.sortable({connectWith:this.options.connectWith,placeholder:"sortable-placeholder",forcePlaceholderSize:!0,delay:200,update:_.bind(function(e,t){t.item.parent().is(this.el)&&this.updateOrder()},this),receive:_.bind(function(e,t){var i=t.item.data("view");this.reindexPositions(),this.itemViews.add(i),this.collection.add(i.model)},this),remove:_.bind(function(e,t){var i=t.item.data("view");this.itemViews.remove(i),this.collection.remove(i.model)},this)}),this},addItem:function(e){this.itemViews.findByModel(e)||pageflow.CollectionView.prototype.addItem.call(this,e)},removeItem:function(e){this.itemViews.findByModel(e)&&pageflow.CollectionView.prototype.removeItem.call(this,e)},updateOrder:function(){this.reindexPositions(),this.collection.sort(),this.collection.saveOrder()},reindexPositions:function(){this.$el.children().each(function(e){$(this).data("view").model.set("position",e)})}}),pageflow.DeleteRowTableCellView=pageflow.TableCellView.extend({className:"delete_row_table_cell",template:"templates/delete_row_table_cell",ui:{removeButton:".remove"},events:{"click .remove":"destroy",click:function(){return!1}},showButton:function(){if(this.options.toggleDeleteButton){var e=this.getModel(),t=e[this.options.toggleDeleteButton].apply(e);return this.options.invertToggleDeleteButton?!t:!!t}return!0},update:function(){this.ui.removeButton.toggleClass("remove",this.showButton()),this.ui.removeButton.attr("title",this.attributeTranslation("cell_title"))},destroy:function(){this.getModel().destroy()}}),pageflow.EnumTableCellView=pageflow.TableCellView.extend({className:"enum_table_cell",update:function(){this.$el.text(this.attributeTranslation("cell_text."+(this.attributeValue()||"blank"))),this.$el.attr("title",this.attributeTranslation("cell_title."+(this.attributeValue()||"blank"),{defaultValue:""}))}}),pageflow.IconTableCellView=pageflow.TableCellView.extend({className:"icon_table_cell",update:function(){var e=this.attributeValue(),t=!!this.attributeValue();this.removeExistingIcons(),this.$el.attr("title",t?this.attributeTranslation("cell_title."+e,{value:this.attributeValue()}):this.attributeTranslation("cell_title.blank")),this.$el.addClass(e)},removeExistingIcons:function(){this.$el.removeClass(this.options.icons.join(" "))}}),pageflow.PresenceTableCellView=pageflow.TableCellView.extend({className:"presence_table_cell",update:function(){var e=!!this.attributeValue();this.$el.attr("title",e?this.attributeTranslation("cell_title.present",{value:this.attributeValue()}):this.attributeTranslation("cell_title.blank")),this.$el.toggleClass("is_present",e)}}),pageflow.TableHeaderCellView=pageflow.TableCellView.extend({tagName:"th",render:function(){return this.$el.text(this.attributeTranslation("column_header")),this.$el.data("columnName",this.options.column.name),this}}),pageflow.TextTableCellView=pageflow.TableCellView.extend({className:"text_table_cell",update:function(){this.$el.text(this._updateText())},_updateText:function(){if(this.attributeValue())return this.attributeValue();if("function"!=typeof this.options.column["default"])return"default"in this.options.column?this.options.column["default"]:I18n.t("pageflow.ui.text_table_cell_view.empty");var e={};return this.options.column.contentBinding&&(e={contentBinding:this.options.column.contentBinding,model:this.getModel()}),this.options.column["default"](e)}}),pageflow.TableRowView=Backbone.Marionette.View.extend({tagName:"tr",events:{click:function(){this.options.selection&&this.options.selection.set(this.selectionAttribute(),this.model)}},initialize:function(){this.options.selection&&this.listenTo(this.options.selection,"change",this.updateClassName)},render:function(){return _(this.options.columns).each(function(e){this.appendSubview(new e.cellView(_.extend({model:this.model,column:e,attributeTranslationKeyPrefixes:this.options.attributeTranslationKeyPrefixes},e.cellViewOptions||{})))},this),this.updateClassName(),this},updateClassName:function(){this.$el.toggleClass("is_selected",this.isSelected())},isSelected:function(){return this.options.selection&&this.options.selection.get(this.selectionAttribute())===this.model},selectionAttribute:function(){return this.options.selectionAttribute||"current"}}),pageflow.TableView=Backbone.Marionette.ItemView.extend({tagName:"table",className:"table_view",template:"pageflow/ui/templates/table",ui:{headRow:"thead tr",body:"tbody"},onRender:function(){var e=this;_(this.options.columns).each(function(e){this.ui.headRow.append(this.subview(new pageflow.TableHeaderCellView({column:e,attributeTranslationKeyPrefixes:this.options.attributeTranslationKeyPrefixes})).el)},this),this.subview(new pageflow.CollectionView({el:this.ui.body,collection:this.collection,itemViewConstructor:pageflow.TableRowView,itemViewOptions:{columns:this.options.columns,selection:this.options.selection,selectionAttribute:this.options.selectionAttribute,attributeTranslationKeyPrefixes:this.options.attributeTranslationKeyPrefixes},blankSlateViewConstructor:Backbone.Marionette.ItemView.extend({tagName:"tr",className:"blank_slate",template:"pageflow/ui/templates/table_blank_slate",serializeData:function(){return{blankSlateText:e.options.blankSlateText,colSpan:e.options.columns.length}}})}))}}),pageflow.TabsView=Backbone.Marionette.Layout.extend({template:"pageflow/ui/templates/tabs_view",className:"tabs_view",ui:{headers:"> ul"},regions:{container:"> div"},events:{"click > ul > li":function(e){this.changeTab($(e.target).data("tab-name"))}},initialize:function(){this.tabFactoryFns={},this.tabNames=[],this.currentTabName=null},tab:function(e,t){this.tabFactoryFns[e]=t,this.tabNames.push(e)},onRender:function(){_.each(this.tabNames,function(e){this.ui.headers.append($("<li />").attr("data-tab-name",e).text(I18n.t(this.options.i18n+"."+e)))},this),this.changeTab(this.defaultTab())},changeTab:function(e){this.container.show(this.tabFactoryFns[e]()),this._updateActiveHeader(e),this.currentTabName=e},defaultTab:function(){return _.include(this.tabNames,this.options.defaultTab)?this.options.defaultTab:_.first(this.tabNames)},refresh:function(){this.changeTab(this.currentTabName)},toggleSpinnerOnTab:function(e,t){this.$("[data-tab-name="+e+"]").toggleClass("spinner",t)},_updateActiveHeader:function(e){this.ui.headers.children().each(function(){$(this).toggleClass("active",$(this).data("tab-name")===e)})}}),pageflow.TooltipView=Backbone.Marionette.ItemView.extend({template:"pageflow/ui/templates/tooltip",className:"tooltip",ui:{label:".label"},hide:function(){this.visible=!1,clearTimeout(this.timeout),this.$el.removeClass("visible")},show:function(i,n,a){a=a||{},this.visible=!0,clearTimeout(this.timeout),this.timeout=setTimeout(_.bind(function(){var e,t;this.ui.label.text(i),this.$el.toggleClass("align_bottom_right","bottom right"===a.align),this.$el.toggleClass("align_bottom_left","bottom left"===a.align),t="bottom right"===a.align||"bottom left"===a.align?(e=10,0):(e=-17,10),this.$el.css({top:n.top+e+"px",left:n.left+t+"px"}),this.$el.addClass("visible")},this),200)}}),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/inputs/check_box"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<input type="checkbox" />\n<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/inputs/select_input"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<select></select>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/inputs/slider_input"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<div class="value"></div>\n<div class="slider"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/inputs/text_area_input"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n\n<!-- inline style for wysihtml5 to pick up -->\n<textarea style="width: 100%;" dir="auto"></textarea>\n\n<div class="toolbar">\n  <a data-wysihtml5-command="bold" title="',I18n.t("pageflow.ui.templates.inputs.text_area_input.bold"),'"></a>\n  <a data-wysihtml5-command="italic" title="',I18n.t("pageflow.ui.templates.inputs.text_area_input.italic"),'"></a>\n  <a data-wysihtml5-command="underline" title="',I18n.t("pageflow.ui.templates.inputs.text_area_input.underline"),'"></a>\n  <a data-wysihtml5-command="createLink" title="',I18n.t("pageflow.ui.templates.inputs.text_area_input.create_link"),'"></a>\n\n  <div data-wysihtml5-dialog="createLink" class="dialog" style="display: none;">\n    <label>\n        ',I18n.t("pageflow.ui.templates.inputs.text_area_input.url"),':\n      <input data-wysihtml5-dialog-field="href" value="http://">\n    </label>\n    <a data-wysihtml5-dialog-action="save">',I18n.t("pageflow.ui.templates.inputs.text_area_input.ok"),'</a>\n    <a data-wysihtml5-dialog-action="cancel">',I18n.t("pageflow.ui.templates.inputs.text_area_input.cancel"),"</a>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/inputs/text_input"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<input type="text" dir="auto" />\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/inputs/url_display"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<a class="original" href="#" download target="_blank">\n  ',I18n.t("pageflow.ui.templates.inputs.url_display.link_text"),"\n</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/inputs/url_input"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<input type="text" />\n<div class="validation"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/table"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<table>\n  <thead>\n    <tr></tr>\n  </thead>\n  <tbody>\n  </tbody>\n</table>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/table_blank_slate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<td colspan="',colSpan,'">\n  ',blankSlateText,"\n</td>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/tabs_view"]=function(obj){var __p=[],
print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<ul></ul>\n<div></div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/ui/templates/tooltip"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="label">\n</span>\n');return __p.join("")}}.call(this),function(){var n=Backbone.sync;Backbone.sync=function(e,t,i){return t.paramRoot&&!i.attrs&&(i.attrs={},i.attrs[t.paramRoot]=t.toJSON(i)),n(e,t,i)}}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(r){function n(e,t){var i,n,a,o=e.nodeName.toLowerCase();return"area"===o?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(a=r("img[usemap='#"+n+"']")[0])&&s(a))):(/^(input|select|textarea|button|object)$/.test(o)?!e.disabled:"a"===o&&e.href||t)&&s(e)}function s(e){return r.expr.filters.visible(e)&&!r(e).parents().addBack().filter(function(){return"hidden"===r.css(this,"visibility")}).length}var e,t,i,a;r.ui=r.ui||{},r.extend(r.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),r.fn.extend({scrollParent:function(e){var t=this.css("position"),i="absolute"===t,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var e=r(this);return(!i||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&a.length?a:r(this[0].ownerDocument||document)},uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&r(this).removeAttr("id")})}}),r.extend(r.expr[":"],{data:r.expr.createPseudo?r.expr.createPseudo(function(t){return function(e){return!!r.data(e,t)}}):function(e,t,i){return!!r.data(e,i[3])},focusable:function(e){return n(e,!isNaN(r.attr(e,"tabindex")))},tabbable:function(e){var t=r.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&n(e,!i)}}),r("<a>").outerWidth(1).jquery||r.each(["Width","Height"],function(e,i){function n(e,t,i,n){return r.each(a,function(){t-=parseFloat(r.css(e,"padding"+this))||0,i&&(t-=parseFloat(r.css(e,"border"+this+"Width"))||0),n&&(t-=parseFloat(r.css(e,"margin"+this))||0)}),t}var a="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:r.fn.innerWidth,innerHeight:r.fn.innerHeight,outerWidth:r.fn.outerWidth,outerHeight:r.fn.outerHeight};r.fn["inner"+i]=function(e){return e===undefined?s["inner"+i].call(this):this.each(function(){r(this).css(o,n(this,e)+"px")})},r.fn["outer"+i]=function(e,t){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){r(this).css(o,n(this,e,!0,t)+"px")})}}),r.fn.addBack||(r.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),r("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(r.fn.removeData=(t=r.fn.removeData,function(e){return arguments.length?t.call(this,r.camelCase(e)):t.call(this)})),r.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),r.fn.extend({focus:(a=r.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){r(e).focus(),i&&i.call(e)},t)}):a.apply(this,arguments)}),disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(i+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(e!==undefined)return this.css("zIndex",e);if(this.length)for(var t,i,n=r(this[0]);n.length&&n[0]!==document;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}}),r.ui.plugin={add:function(e,t,i){var n,a=r.ui[e].prototype;for(n in i)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([t,i[n]])},call:function(e,t,i,n){var a,o=e.plugins[t];if(o&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(a=0;a<o.length;a++)e.options[o[a][0]]&&o[a][1].apply(e.element,i)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(u){var o,i=0,r=Array.prototype.slice;return u.cleanData=(o=u.cleanData,function(e){var t,i,n;for(n=0;null!=(i=e[n]);n++)try{(t=u._data(i,"events"))&&t.remove&&u(i).triggerHandler("remove")}catch(a){}o(e)}),u.widget=function(e,i,t){var n,a,o,s,r={},l=e.split(".")[0];return e=e.split(".")[1],n=l+"-"+e,t||(t=i,i=u.Widget),u.expr[":"][n.toLowerCase()]=function(e){return!!u.data(e,n)},u[l]=u[l]||{},a=u[l][e],o=u[l][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},u.extend(o,a,{version:t.version,_proto:u.extend({},t),_childConstructors:[]}),(s=new i).options=u.widget.extend({},s.options),u.each(t,function(t,n){var a,o;u.isFunction(n)?r[t]=(a=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)},function(){var e,t=this._super,i=this._superApply;return this._super=a,this._superApply=o,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):r[t]=n}),o.prototype=u.widget.extend(s,{widgetEventPrefix:a&&s.widgetEventPrefix||e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:n}),a?(u.each(a._childConstructors,function(e,t){var i=t.prototype;u.widget(i.namespace+"."+i.widgetName,o,t._proto)}),delete a._childConstructors):i._childConstructors.push(o),u.widget.bridge(e,o),o},u.widget.extend=function(e){for(var t,i,n=r.call(arguments,1),a=0,o=n.length;a<o;a++)for(t in n[a])i=n[a][t],n[a].hasOwnProperty(t)&&i!==undefined&&(u.isPlainObject(i)?e[t]=u.isPlainObject(e[t])?u.widget.extend({},e[t],i):u.widget.extend({},i):e[t]=i);return e},u.widget.bridge=function(o,t){var s=t.prototype.widgetFullName||o;u.fn[o]=function(i){var e="string"==typeof i,n=r.call(arguments,1),a=this;return e?this.each(function(){var e,t=u.data(this,s);return"instance"===i?(a=t,!1):t?u.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n))!==t&&e!==undefined?(a=e&&e.jquery?a.pushStack(e.get()):e,!1):void 0:u.error("no such method '"+i+"' for "+o+" widget instance"):u.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):(n.length&&(i=u.widget.extend.apply(null,[i].concat(n))),this.each(function(){var e=u.data(this,s);e?(e.option(i||{}),e._init&&e._init()):u.data(this,s,new t(i,this))})),a}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0],this.element=u(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=u(),this.hoverable=u(),this.focusable=u(),t!==this&&(u.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=u(t.style?t.ownerDocument:t.document||t),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this.options=u.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:u.noop,_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(u.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var i,n,a,o=e;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(i=e.split(".")).shift(),i.length){for(n=o[e]=u.widget.extend({},this.options[e]),a=0;a<i.length-1;a++)n[i[a]]=n[i[a]]||{},n=n[i[a]];if(e=i.pop(),1===arguments.length)return n[e]===undefined?null:n[e];n[e]=t}else{if(1===arguments.length)return this.options[e]===undefined?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(s,r,e){var l,d=this;"boolean"!=typeof s&&(e=r,r=s,s=!1),e?(r=l=u(r),this.bindings=this.bindings.add(r)):(e=r,r=this.element,l=this.widget()),u.each(e,function(e,t){function i(){if(s||!0!==d.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof t?d[t]:t).apply(d,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||u.guid++);var n=e.match(/^([\w:-]*)\s*(.*)$/),a=n[1]+d.eventNamespace,o=n[2];o?l.delegate(o,a,i):r.bind(a,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=u(this.bindings.not(e).get()),this.focusable=u(this.focusable.not(e).get()),this.hoverable=u(this.hoverable.not(e).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){u(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){u(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){u(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){u(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var n,a,o=this.options[e];if(i=i||{},(t=u.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],a=t.originalEvent)for(n in a)n in t||(t[n]=a[n]);return this.element.trigger(t,i),!(u.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(o,s){u.Widget.prototype["_"+o]=function(t,e,i){"string"==typeof e&&(e={effect:e});var n,a=e?!0===e||"number"==typeof e?s:e.effect||s:o;"number"==typeof(e=e||{})&&(e={duration:e}),n=!u.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&u.effects&&u.effects.effect[a]?t[o](e):a!==o&&t[a]?t[a](e.duration,e.easing,i):t.queue(function(e){u(this)[o](),i&&i.call(t[0]),e()})}}),u.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(d){return d.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=d(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():d()}},_createIcons:function(){var e=this.options.icons;e&&(d("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))):this._activate(t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=d.ui.keyCode,i=this.headers.length,n=this.headers.index(e.target),a=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:a=this.headers[(n+1)%i];break;case t.LEFT:case t.UP:a=this.headers[(n-1+i)%i];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:a=this.headers[0];break;case t.END:a=this.headers[i-1]}a&&(d(e.target).attr("tabIndex",-1),d(a).attr("tabIndex",0),a.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===d.ui.keyCode.UP&&e.ctrlKey&&d(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=d()):!1===e.active?this._activate(0):this.active.length&&!d.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=d()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var i,e=this.options,t=e.heightStyle,n=this.element.parent();this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=d(this),t=e.uniqueId().attr("id"),i=e.next(),n=i.uniqueId().attr("id");e.attr("aria-controls",n),i.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(i=n.height(),this.element.siblings(":visible").each(function(){var e=d(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=d(this).outerHeight(!0)}),this.headers.next().each(function(){d(this).height(Math.max(0,i-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.headers.next().each(function(){i=Math.max(i,d(this).css("height","").height())}).height(i))},_activate:function(e){var t=this._findActive(e)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:d.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):d()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&d.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t=this.options,i=this.active,n=d(e.currentTarget),a=n[0]===i[0],o=a&&t.collapsible,s=o?d():n.next(),r=i.next(),l={oldHeader:i,oldPanel:r,newHeader:o?d():n,newPanel:s};e.preventDefault(),a&&!t.collapsible||!1===this._trigger("beforeActivate",e,l)||(t.active=!o&&this.headers.index(n),this.active=a?d():n,this._toggle(l),i.removeClass("ui-accordion-header-active ui-state-active"),t.icons&&i.children(".ui-accordion-header-icon").removeClass(t.icons.activeHeader).addClass(t.icons.header),a||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),t.icons&&n.children(".ui-accordion-header-icon").removeClass(t.icons.header).addClass(t.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=i,this.options.animate?this._animate(t,i,e):(i.hide(),t.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(d(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,i,t){var n,a,o,s=this,r=0,l=e.css("box-sizing"),d=e.length&&(!i.length||e.index()<i.index()),u=this.options.animate||{},c=d&&u.down||u,h=function(){s._toggleComplete(t)};return"number"==typeof c&&(o=c),"string"==typeof c&&(a=c),a=a||c.easing||u.easing,o=o||c.duration||u.duration,i.length?e.length?(n=e.show().outerHeight(),i.animate(this.hideProps,{duration:o,easing:a,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:a,complete:h,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===l&&(r+=t.now):"content"!==s.options.heightStyle&&(t.now=Math.round(n-i.outerHeight()-r),r=0)}})):i.animate(this.hideProps,o,a,h):e.animate(this.showProps,o,a,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(P){return function(){function k(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function x(e,t){return parseInt(P.css(e,t),10)||0}function t(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:P.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}P.ui=P.ui||{};var a,C,S=Math.max,T=Math.abs,I=Math.round,n=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,l=/%$/,i=P.fn.position;P.position={scrollbarWidth:function(){if(a!==undefined)return a;var e,t,i=P("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return P("body").append(i),e=n.offsetWidth,i.css("overflow","scroll"),e===(t=n.offsetWidth)&&(t=i[0].clientWidth),i.remove(),a=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?P.position.scrollbarWidth():0,height:n?P.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=P(e||window),i=P.isWindow(t[0]),n=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:i,isDocument:n,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:i||n?t.width():t.outerWidth(),height:i||n?t.height():t.outerHeight()}}},P.fn.position=function(c){if(!c||!c.of)return i.apply(this,arguments);c=P.extend({},c);var h,p,g,f,m,e,_=P(c.of),w=P.position.getWithinInfo(c.within),b=P.position.getScrollInfo(w),v=(c.collision||"flip").split(" "),y={};return e=t(_),_[0].preventDefault&&(c.at="left top"),p=e.width,g=e.height,f=e.offset,m=P.extend({},f),P.each(["my","at"],function(){var e,t,i=(c[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",e=s.exec(i[0]),t=s.exec(i[1]),y[this]=[e?e[0]:0,t?t[0]:0],c[this]=[r.exec(i[0])[0],r.exec(i[1])[0]]}),1===v.length&&(v[1]=v[0]),"right"===c.at[0]?m.left+=p:"center"===c.at[0]&&(m.left+=p/2),"bottom"===c.at[1]?m.top+=g:"center"===c.at[1]&&(m.top+=g/2),h=k(y.at,p,g),m.left+=h[0],m.top+=h[1],this.each(function(){var i,e,s=P(this),r=s.outerWidth(),l=s.outerHeight(),t=x(this,"marginLeft"),n=x(this,"marginTop"),a=r+t+x(this,"marginRight")+b.width,o=l+n+x(this,"marginBottom")+b.height,d=P.extend({},m),u=k(y.my,s.outerWidth(),s.outerHeight());"right"===c.my[0]?d.left-=r:"center"===c.my[0]&&(d.left-=r/2),"bottom"===c.my[1]?d.top-=l:"center"===c.my[1]&&(d.top-=l/2),d.left+=u[0],d.top+=u[1],C||(d.left=I(d.left),d.top=I(d.top)),i={marginLeft:t,marginTop:n},P.each(["left","top"],function(e,t){P.ui.position[v[e]]&&P.ui.position[v[e]][t](d,{targetWidth:p,targetHeight:g,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:a,collisionHeight:o,offset:[h[0]+u[0],h[1]+u[1]],my:c.my,at:c.at,within:w,elem:s})}),c.using&&(e=function(e){var t=f.left-d.left,i=t+p-r,n=f.top-d.top,a=n+g-l,o={target:{element:_,left:f.left,top:f.top,width:p,height:g},element:{element:s,left:d.left,top:d.top,width:r,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:a<0?"top":0<n?"bottom":"middle"};p<r&&T(t+i)<p&&(o.horizontal="center"),g<l&&T(n+a)<g&&(o.vertical="middle"),S(T(t),T(i))>S(T(n),T(a))?o.important="horizontal":o.important="vertical",c.using.call(this,e,o)}),s.offset(P.extend(d,{using:e}))})},P.ui.position={fit:{left:function(e,t){var i,n=t.within,a=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,s=e.left-t.collisionPosition.marginLeft,r=a-s,l=s+t.collisionWidth-o-a;t.collisionWidth>o?0<r&&l<=0?(i=e.left+r+t.collisionWidth-o-a,e.left+=r-i):e.left=0<l&&r<=0?a:l<r?a+o-t.collisionWidth:a:0<r?e.left+=r:0<l?e.left-=l:e.left=S(e.left-s,e.left)},top:function(e,t){var i,n=t.within,a=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,r=a-s,l=s+t.collisionHeight-o-a;t.collisionHeight>o?0<r&&l<=0?(i=e.top+r+t.collisionHeight-o-a,e.top+=r-i):e.top=0<l&&r<=0?a:l<r?a+o-t.collisionHeight:a:0<r?e.top+=r:0<l?e.top-=l:e.top=S(e.top-s,e.top)}},flip:{left:function(e,t){var i,n,a=t.within,o=a.offset.left+a.scrollLeft,s=a.width,r=a.isWindow?a.scrollLeft:a.offset.left,l=e.left-t.collisionPosition.marginLeft,d=l-r,u=l+t.collisionWidth-s-r,c="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];d<0?((i=e.left+c+h+p+t.collisionWidth-s-o)<0||i<T(d))&&(e.left+=c+h+p):0<u&&(0<(n=e.left-t.collisionPosition.marginLeft+c+h+p-r)||T(n)<u)&&(e.left+=c+h+p)},top:function(e,t){var i,n,a=t.within,o=a.offset.top+a.scrollTop,s=a.height,r=a.isWindow?a.scrollTop:a.offset.top,l=e.top-t.collisionPosition.marginTop,d=l-r,u=l+t.collisionHeight-s-r,c="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];d<0?((n=e.top+c+h+p+t.collisionHeight-s-o)<0||n<T(d))&&(e.top+=c+h+p):0<u&&(0<(i=e.top-t.collisionPosition.marginTop+c+h+p-r)||T(i)<u)&&(e.top+=c+h+p)}},flipfit:{left:function(){P.ui.position.flip.left.apply(this,arguments),P.ui.position.fit.left.apply(this,arguments)},top:function(){P.ui.position.flip.top.apply(this,arguments),P.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t,i,n,a,o=document.getElementsByTagName("body")[0],s=document.createElement("div");for(a in e=document.createElement(o?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&P.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)e.style[a]=i[a];e.appendChild(s),(t=o||document.documentElement).insertBefore(e,t.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",n=P(s).offset().left,C=10<n&&n<11,e.innerHTML="",t.removeChild(e)}()}(),P.ui.position}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(r){return r.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var t=r(e.target);!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&r(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var t=r(e.currentTarget);t.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,t)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(e){this._delay(function(){r.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=r(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var t,i,n,a,o=!0;switch(e.keyCode){case r.ui.keyCode.PAGE_UP:this.previousPage(e);break;case r.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case r.ui.keyCode.HOME:this._move("first","first",e);break;case r.ui.keyCode.END:this._move("last","last",e);break;case r.ui.keyCode.UP:this.previous(e);break;case r.ui.keyCode.DOWN:this.next(e);break;case r.ui.keyCode.LEFT:this.collapse(e);break;case r.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case r.ui.keyCode.ENTER:case r.ui.keyCode.SPACE:this._activate(e);break;case r.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,i=this.previousFilter||"",n=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),n===i?a=!0:n=i+n,t=this._filterMenuItems(n),(t=a&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(n=String.fromCharCode(e.keyCode),t=this._filterMenuItems(n)),t.length?(this.focus(e,t),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var e,t=this,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),i.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=r(this),t=e.parent(),i=r("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),(e=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=r(this);t._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),e.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!r.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,n,a,o,s;this._hasScroll()&&(t=parseFloat(r.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(r.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-t-i,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=e.outerHeight(),n<0?this.activeMenu.scrollTop(a+n):o<n+s&&this.activeMenu.scrollTop(a+n-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=r.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:r(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this.activeMenu=e},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!r(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(
e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(e){var t,i,n;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=r(this)).offset().top-i-n<0}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,n;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=r(this)).offset().top-i+n}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||r(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var t=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(r.trim(r(this).text()))})}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(s){return s.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var i,n,a,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,o="input"===e;this.isMultiLine=!!t||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[t||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))n=a=i=!0;else{n=a=i=!1;var t=s.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(i=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:n=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!n){var t=s.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(a)return a=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=s("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];s(e.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(e){e.target===t.element[0]||e.target===i||s.contains(i,e.target)||t.close()})})},menufocus:function(e,t){var i,n;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){s(e.target).trigger(e.originalEvent)});n=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),(i=t.item.attr("aria-label")||n.value)&&s.trim(i).length&&(this.liveRegion.children().hide(),s("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=s("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?s(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var i,n,a=this;s.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(s.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,t){a.xhr&&a.xhr.abort(),a.xhr=s.ajax({url:n,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),i=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;e&&(!e||t||i)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return s.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:s.map(e,function(e){return"string"==typeof e?{label:e,value:e}:s.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(s.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var n=this;s.each(e,function(e,t){n._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return s("<li>").text(t.label).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),s.extend(s.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(s.ui.autocomplete.escapeRegex(t),"i");return s.grep(e,function(e){return i.test(e.label||e.value||e)})}}),s.widget("ui.autocomplete",s.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),s("<div>").text(t).appendTo(this.liveRegion))}}),s.ui.autocomplete}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(o){var a,s="ui-button ui-widget ui-state-default ui-corner-all",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=o(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},d=function(e){var t=e.name,i=e.form,n=o([]);return t&&(t=t.replace(/'/g,"\\'"),n=i?o(i).find("[name='"+t+"'][type=radio]"):o("[name='"+t+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),n};return o.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,e="checkbox"===this.type||"radio"===this.type,n=e?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===a&&o(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||o(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),e&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;o(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var e=t.element[0];d(e).not(e).map(function(){return o(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(i.disabled)return!1;o(this).addClass("ui-state-active"),a=this,t.document.one("mouseup",function(){a=null})}).bind("mouseup"+this.eventNamespace,function(){if(i.disabled)return!1;o(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(i.disabled)return!1;e.keyCode!==o.ui.keyCode.SPACE&&e.keyCode!==o.ui.keyCode.ENTER||o(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){o(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===o.ui.keyCode.SPACE&&o(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" ui-state-active "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){if(this._super(e,t),"disabled"===e)return this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?d(this.element[0]).each(function(){o(this).is(":checked")?o(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):o(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(r),t=o("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,n=i.primary&&i.secondary,a=[];i.primary||i.secondary?(this.options.text&&a.push("ui-button-text-icon"+(n?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(a.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",o.trim(t)))):a.push("ui-button-text-only"),e.addClass(a.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),o.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var e="rtl"===this.element.css("direction"),t=this.element.find(this.options.items),i=t.filter(":ui-button");t.not(":ui-button").button(),i.button("refresh"),this.buttons=t.map(function(){return o(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return o(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),o.ui.button}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery)}(function(x){function l(e){for(var t,i;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},x.extend(this._defaults,this.regional[""]),this.regional.en=x.extend(!0,{},this.regional[""]),this.regional["en-US"]=x.extend(!0,{},this.regional.en),this.dpDiv=i(x("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){x(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&x(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&x(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",s)}function s(){x.datepicker._isDisabledDatepicker(r.inline?r.dpDiv.parent()[0]:r.input[0])||(x(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),x(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&x(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&x(this).addClass("ui-datepicker-next-hover"))}function c(e,t){for(var i in x.extend(e,t),t)null==t[i]&&(e[i]=t[i]);return e}var r;return x.extend(x.ui,{datepicker:{version:"1.11.4"}}),x.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return c(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var i,n,a;n="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(a=this._newInst(x(e),n)).settings=x.extend({},t||{}),"input"===i?this._connectDatepicker(e,a):n&&this._inlineDatepicker(e,a)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?i(x("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var i=x(e);t.append=x([]),t.trigger=x([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(t),x.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i,n,a,o=this._get(t,"appendText"),s=this._get(t,"isRTL");t.append&&t.append.remove(),o&&(t.append=x("<span class='"+this._appendClass+"'>"+o+"</span>"),e[s?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(i=this._get(t,"showOn"))&&"both"!==i||e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(t,"buttonText"),a=this._get(t,"buttonImage"),t.trigger=x(this._get(t,"buttonImageOnly")?x("<img/>").addClass(this._triggerClass).attr({src:a,alt:n,title:n}):x("<button type='button'></button>").addClass(this._triggerClass).html(a?x("<img/>").attr({src:a,alt:n,title:n}):n)),e[s?"before":"after"](t.trigger),t.trigger.click(function(){return x.datepicker._datepickerShowing&&x.datepicker._lastInput===e[0]?x.datepicker._hideDatepicker():(x.datepicker._datepickerShowing&&x.datepicker._lastInput!==e[0]&&x.datepicker._hideDatepicker(),x.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,a,o=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(a=n=i=0;a<e.length;a++)e[a].length>i&&(i=e[a].length,n=a);return n},o.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(e,t){var i=x(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv),x.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,a){var o,s,r,l,d,u=this._dialogInst;return u||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=x("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),x("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},x.data(this._dialogInput[0],"datepicker",u)),c(u.settings,n||{}),t=t&&t.constructor===Date?this._formatDate(u,t):t,this._dialogInput.val(t),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(s=document.documentElement.clientWidth,r=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[s/2-100+l,r/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),x.blockUI&&x.blockUI(this.dpDiv),x.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var t,i=x(e),n=x.data(e,"datepicker");i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),x.removeData(e,"datepicker"),"input"===t?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||i.removeClass(this.markerClassName).empty(),r===n&&(r=null))},_enableDatepicker:function(t){var e,i,n=x(t),a=x.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=x.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,i,n=x(t),a=x.data(t,"datepicker");n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=x.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return x.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n,a,o,s,r=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?x.extend({},x.datepicker._defaults):r?"all"===t?x.extend({},r.settings):this._get(r,t):null;n=t||{},"string"==typeof t&&((n={})[t]=i),r&&(this._curInst===r&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),s=this._getMinMaxDate(r,"max"),c(r.settings,n),null!==o&&n.dateFormat!==undefined&&n.minDate===undefined&&(r.settings.minDate=this._formatDate(r,o)),null!==s&&n.dateFormat!==undefined&&n.maxDate===undefined&&(r.settings.maxDate=this._formatDate(r,s)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(x(e),r),this._autoSize(r),this._setDate(r,a),this._updateAlternate(r),this._updateDatepicker(r))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t,i,n,a=x.datepicker._getInst(e.target),o=!0,s=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,x.datepicker._datepickerShowing)switch(e.keyCode){case 9:x.datepicker._hideDatepicker(),o=!1;break;case 13:return(n=x("td."+x.datepicker._dayOverClass+":not(."+x.datepicker._currentClass+")",a.dpDiv))[0]&&x.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,n[0]),(t=x.datepicker._get(a,"onSelect"))?(i=x.datepicker._formatDate(a),t.apply(a.input?a.input[0]:null,[i,a])):x.datepicker._hideDatepicker(),!1;case 27:x.datepicker._hideDatepicker();break;case 33:x.datepicker._adjustDate(e.target,e.ctrlKey?-x.datepicker._get(a,"stepBigMonths"):-x.datepicker._get(a,"stepMonths"),"M");break;case 34:x.datepicker._adjustDate(e.target,e.ctrlKey?+x.datepicker._get(a,"stepBigMonths"):+x.datepicker._get(a,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&x.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&x.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&x.datepicker._adjustDate(e.target,s?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&x.datepicker._adjustDate(e.target,e.ctrlKey?-x.datepicker._get(a,"stepBigMonths"):-x.datepicker._get(a,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&x.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&x.datepicker._adjustDate(e.target,s?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&x.datepicker._adjustDate(e.target,e.ctrlKey?+x.datepicker._get(a,"stepBigMonths"):+x.datepicker._get(a,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&x.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?x.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,i,n=x.datepicker._getInst(e.target);if(x.datepicker._get(n,"constrainInput"))return t=x.datepicker._possibleChars(x.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!t||-1<t.indexOf(i)},_doKeyUp:function(e){var t=x.datepicker._getInst(e.target);if(t.input.val()!==t.lastVal)try{x.datepicker.parseDate(x.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,x.datepicker._getFormatConfig(t))&&(x.datepicker._setDateFromField(t),x.datepicker._updateAlternate(t),x.datepicker._updateDatepicker(t))}catch(i){}return!0},_showDatepicker:function(e){var t,i,n,a,o,s,r;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=x("input",e.parentNode)[0]),x.datepicker._isDisabledDatepicker(e)||x.datepicker._lastInput===e)||(t=x.datepicker._getInst(e),x.datepicker._curInst&&x.datepicker._curInst!==t&&(x.datepicker._curInst.dpDiv.stop(!0,!0),t&&x.datepicker._datepickerShowing&&x.datepicker._hideDatepicker(x.datepicker._curInst.input[0])),!1!==(n=(i=x.datepicker._get(t,"beforeShow"))?i.apply(e,[e,t]):{})&&(c(t.settings,n),t.lastVal=null,x.datepicker._lastInput=e,x.datepicker._setDateFromField(t),x.datepicker._inDialog&&(e.value=""),x.datepicker._pos||(x.datepicker._pos=x.datepicker._findPos(e),x.datepicker._pos[1]+=e.offsetHeight),a=!1,x(e).parents().each(function(){return!(a|="fixed"===x(this).css("position"))}),o={left:x.datepicker._pos[0],top:x.datepicker._pos[1]},x.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),x.datepicker._updateDatepicker(t),o=x.datepicker._checkOffset(t,o,a),t.dpDiv.css({position:x.datepicker._inDialog&&x.blockUI?"static":a?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),t.inline||(s=x.datepicker._get(t,"showAnim"),r=x.datepicker._get(t,"duration"),t.dpDiv.css("z-index",l(x(e))+1),x.datepicker._datepickerShowing=!0,x.effects&&x.effects.effect[s]?t.dpDiv.show(s,x.datepicker._get(t,"showOptions"),r):t.dpDiv[s||"show"](s?r:null),x.datepicker._shouldFocusInput(t)&&t.input.focus(),x.datepicker._curInst=t)))},_updateDatepicker:function(e){this.maxRows=4,(r=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,i=this._getNumberOfMonths(e),n=i[1],a=17,o=e.dpDiv.find("."+this._dayOverClass+" a");0<o.length&&s.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<n&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===x.datepicker._curInst&&x.datepicker._datepickerShowing&&x.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:x(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:x(document).scrollTop());return t.left-=this._get(e,"isRTL")?n-o:0,t.left-=i&&t.left===e.input.offset().left?x(document).scrollLeft():0,
t.top-=i&&t.top===e.input.offset().top+s?x(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>r&&n<r?Math.abs(t.left+n-r):0),t.top-=Math.min(t.top,t.top+a>l&&a<l?Math.abs(a+s):0),t},_findPos:function(e){for(var t,i=this._getInst(e),n=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||x.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(t=x(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,i,n,a,o=this._curInst;!o||e&&o!==x.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(o,"showAnim"),i=this._get(o,"duration"),n=function(){x.datepicker._tidyDialog(o)},x.effects&&(x.effects.effect[t]||x.effects[t])?o.dpDiv.hide(t,x.datepicker._get(o,"showOptions"),i,n):o.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?i:null,n),t||n(),this._datepickerShowing=!1,(a=this._get(o,"onClose"))&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),x.blockUI&&(x.unblockUI(),x("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(x.datepicker._curInst){var t=x(e.target),i=x.datepicker._getInst(t[0]);(t[0].id===x.datepicker._mainDivId||0!==t.parents("#"+x.datepicker._mainDivId).length||t.hasClass(x.datepicker.markerClassName)||t.closest("."+x.datepicker._triggerClass).length||!x.datepicker._datepickerShowing||x.datepicker._inDialog&&x.blockUI)&&(!t.hasClass(x.datepicker.markerClassName)||x.datepicker._curInst===i)||x.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=x(e),a=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(a,t+("M"===i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(e){var t,i=x(e),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(t=new Date,n.selectedDay=t.getDate(),n.drawMonth=n.selectedMonth=t.getMonth(),n.drawYear=n.selectedYear=t.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(e,t,i){var n=x(e),a=this._getInst(n[0]);a["selected"+("M"===i?"Month":"Year")]=a["draw"+("M"===i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(n)},_selectDay:function(e,t,i,n){var a,o=x(e);x(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((a=this._getInst(o[0])).selectedDay=a.currentDay=x("a",n).html(),a.selectedMonth=a.currentMonth=t,a.selectedYear=a.currentYear=i,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var t=x(e);this._selectDate(t,"")},_selectDate:function(e,t){var i,n=x(e),a=this._getInst(n[0]);t=null!=t?t:this._formatDate(a),a.input&&a.input.val(t),this._updateAlternate(a),(i=this._get(a,"onSelect"))?i.apply(a.input?a.input[0]:null,[t,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t,i,n,a=this._get(e,"altField");a&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),n=this.formatDate(t,i,this._getFormatConfig(e)),x(a).each(function(){x(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,o,e){if(null==i||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;var n,t,a,s,r=0,l=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,c=(e?e.dayNames:null)||this._defaults.dayNames,h=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,p=(e?e.monthNames:null)||this._defaults.monthNames,g=-1,f=-1,m=-1,_=-1,w=!1,b=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t},v=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=new RegExp("^\\d{"+("y"===e?i:1)+","+i+"}"),a=o.substring(r).match(n);if(!a)throw"Missing number at position "+r;return r+=a[0].length,parseInt(a[0],10)},y=function(e,t,i){var n=-1,a=x.map(b(e)?i:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(x.each(a,function(e,t){var i=t[1];if(o.substr(r,i.length).toLowerCase()===i.toLowerCase())return n=t[0],r+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+r},k=function(){if(o.charAt(r)!==i.charAt(n))throw"Unexpected literal at position "+r;r++};for(n=0;n<i.length;n++)if(w)"'"!==i.charAt(n)||b("'")?k():w=!1;else switch(i.charAt(n)){case"d":m=v("d");break;case"D":y("D",u,c);break;case"o":_=v("o");break;case"m":f=v("m");break;case"M":f=y("M",h,p);break;case"y":g=v("y");break;case"@":g=(s=new Date(v("@"))).getFullYear(),f=s.getMonth()+1,m=s.getDate();break;case"!":g=(s=new Date((v("!")-this._ticksTo1970)/1e4)).getFullYear(),f=s.getMonth()+1,m=s.getDate();break;case"'":b("'")?k():w=!0;break;default:k()}if(r<o.length&&(a=o.substr(r),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=d?0:-100)),-1<_)for(f=1,m=_;;){if(m<=(t=this._getDaysInMonth(g,f-1)))break;f++,m-=t}if((s=this._daylightSavingAdjust(new Date(g,f-1,m))).getFullYear()!==g||s.getMonth()+1!==f||s.getDate()!==m)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(i,e,t){if(!e)return"";var n,a=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,o=(t?t.dayNames:null)||this._defaults.dayNames,s=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,r=(t?t.monthNames:null)||this._defaults.monthNames,l=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t},d=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},c="",h=!1;if(e)for(n=0;n<i.length;n++)if(h)"'"!==i.charAt(n)||l("'")?c+=i.charAt(n):h=!1;else switch(i.charAt(n)){case"d":c+=d("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),a,o);break;case"o":c+=d("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=d("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),s,r);break;case"y":c+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":h=!0;break;default:c+=i.charAt(n)}return c},_possibleChars:function(i){var n,e="",t=!1,a=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t};for(n=0;n<i.length;n++)if(t)"'"!==i.charAt(n)||a("'")?e+=i.charAt(n):t=!1;else switch(i.charAt(n)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":a("'")?e+="'":t=!0;break;default:e+=i.charAt(n)}return e},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),o=a,s=this._getFormatConfig(e);try{o=this.parseDate(i,n,s)||a}catch(r){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(l,e,t){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=null==e||""===e?t:"string"==typeof e?function(e){try{return x.datepicker.parseDate(x.datepicker._get(l,"dateFormat"),e,x.datepicker._getFormatConfig(l))}catch(r){}for(var t=(e.toLowerCase().match(/^c/)?x.datepicker._getDate(l):null)||new Date,i=t.getFullYear(),n=t.getMonth(),a=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,s=o.exec(e);s;){switch(s[2]||"d"){case"d":case"D":a+=parseInt(s[1],10);break;case"w":case"W":a+=7*parseInt(s[1],10);break;case"m":case"M":n+=parseInt(s[1],10),a=Math.min(a,x.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(s[1],10),a=Math.min(a,x.datepicker._getDaysInMonth(i,n))}s=o.exec(e)}return new Date(i,n,a)}(e):"number"==typeof e?isNaN(e)?t:i(e):new Date(e.getTime());return(n=n&&"Invalid Date"===n.toString()?t:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,a=e.selectedMonth,o=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),a===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){x.datepicker._adjustDate(i,-t,"M")},next:function(){x.datepicker._adjustDate(i,+t,"M")},hide:function(){x.datepicker._hideDatepicker()},today:function(){x.datepicker._gotoToday(i)},selectDay:function(){return x.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return x.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return x.datepicker._selectMonthYear(i,this,"Y"),!1}};x(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,a,o,s,r,l,d,u,c,h,p,g,f,m,_,w,b,v,y,k,x,C,S,T,I,P,z,E,N,D,A,R,B,V,M,L,F,H=new Date,O=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),j=this._get(e,"isRTL"),$=this._get(e,"showButtonPanel"),q=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),U=this._getNumberOfMonths(e),K=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),Y=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Q=e.drawMonth-K,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-U[0]*U[1]+1,X.getDate())),t=Z&&t<Z?Z:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)--Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,i=this._get(e,"prevText"),i=W?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,Q-J,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>",a=this._get(e,"nextText"),a=W?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,Q+J,1)),this._getFormatConfig(e)):a,o=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+a+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+a+"</span></a>",s=this._get(e,"currentText"),r=this._get(e,"gotoCurrent")&&e.currentDay?G:O,s=W?this.formatDate(s,r,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",d=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(e,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(j?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),f=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),w=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),v="",k=0;k<U[0];k++){for(x="",this.maxRows=4,C=0;C<U[1];C++){if(S=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),T=" ui-corner-all",I="",Y){if(I+="<div class='ui-datepicker-group",1<U[1])switch(C){case 0:I+=" ui-datepicker-group-first",T=" ui-corner-"+(j?"right":"left");break;case U[1]-1:I+=" ui-datepicker-group-last",T=" ui-corner-"+(j?"left":"right");break;default:I+=" ui-datepicker-group-middle",T=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===k?j?o:n:"")+(/all|right/.test(T)&&0===k?j?n:o:"")+this._generateMonthYearHeader(e,Q,ee,Z,X,0<k||0<C,g,f)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=c?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",y=0;y<7;y++)P+="<th scope='col'"+(5<=(y+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+h[z=(y+u)%7]+"'>"+p[z]+"</span></th>";for(I+=P+"</tr></thead><tbody>",E=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,E)),N=(this._getFirstDayOfMonth(ee,Q)-u+7)%7,D=Math.ceil((N+E)/7),A=Y&&this.maxRows>D?this.maxRows:D,this.maxRows=A,R=this._daylightSavingAdjust(new Date(ee,Q,1-N)),B=0;B<A;B++){for(I+="<tr>",V=c?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(R)+"</td>":"",y=0;y<7;y++)M=m?m.apply(e.input?e.input[0]:null,[R]):[!0,""],F=(L=R.getMonth()!==Q)&&!w||!M[0]||Z&&R<Z||X&&X<R,V+="<td class='"+(5<=(y+u+6)%7?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(R.getTime()===S.getTime()&&Q===e.selectedMonth&&e._keyEvent||b.getTime()===R.getTime()&&b.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!_?"":" "+M[1]+(R.getTime()===G.getTime()?" "+this._currentClass:"")+(R.getTime()===O.getTime()?" ui-datepicker-today":""))+"'"+(L&&!_||!M[2]?"":" title='"+M[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+R.getMonth()+"' data-year='"+R.getFullYear()+"'")+">"+(L&&!_?"&#xa0;":F?"<span class='ui-state-default'>"+R.getDate()+"</span>":"<a class='ui-state-default"+(R.getTime()===O.getTime()?" ui-state-highlight":"")+(R.getTime()===G.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+R.getDate()+"</a>")+"</td>",R.setDate(R.getDate()+1),R=this._daylightSavingAdjust(R);I+=V+"</tr>"}11<++Q&&(Q=0,ee++),x+=I+="</tbody></table>"+(Y?"</div>"+(0<U[0]&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}v+=x}return v+=d,e._keyEvent=!1,v},_generateMonthYearHeader:function(e,t,i,n,a,o,s,r){var l,d,u,c,h,p,g,f,m=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),w=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",v="";if(o||!m)v+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=n&&n.getFullYear()===i,d=a&&a.getFullYear()===i,v+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!d||u<=a.getMonth())&&(v+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+r[u]+"</option>");v+="</select>"}if(w||(b+=v+(!o&&m&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),g=(p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t})(c[0]),f=Math.max(g,p(c[1]||"")),g=n?Math.max(g,n.getFullYear()):g,f=a?Math.min(f,a.getFullYear()):f,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g<=f;g++)e.yearshtml+="<option value='"+g+"'"+(g===i?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),w&&(b+=(!o&&m&&_?"":"&#xa0;")+v),b+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),a=e.drawMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,a))+("D"===i?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,a,o)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),a=i&&t<i?i:t;return n&&n<a?n:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var a=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(t<0?t:a[0]*a[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,a=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),s=null,r=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!a||t.getTime()>=a.getTime())&&(!o||t.getTime()<=o.getTime())&&(!s||t.getFullYear()>=s)&&(!r||t.getFullYear()<=r)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}}),x.fn.datepicker=function(e,t){if(!this.length)return this;x.datepicker.initialized||(x(document).mousedown(x.datepicker._checkExternalClick),x.datepicker.initialized=!0),0===x("#"+x.datepicker._mainDivId).length&&x("body").append(x.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof t?x.datepicker["_"+e+"Datepicker"].apply(x.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?x.datepicker["_"+e+"Datepicker"].apply(x.datepicker,[this].concat(i)):x.datepicker._attachDatepicker(this,e)}):x.datepicker["_"+e+"Datepicker"].apply(x.datepicker,[this[0]].concat(i))},x.datepicker=new e,x.datepicker.initialized=!1,x.datepicker.uuid=(new Date).getTime(),x.datepicker.version="1.11.4",x.datepicker}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(a){var o=!1;return a(document).mouseup(function(){o=!1}),a.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===a.data(e.target,t.widgetName+".preventClickEvent"))return a.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&a(e.target).closest(this.options.cancel).length;return!(i&&!n&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===a.data(e.target,this.widgetName+".preventClickEvent")&&a.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&a.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),o=!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(b){return b.widget("ui.draggable",b.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return this._blurActiveElement(e),!(this.helper||t.disabled||0<b(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=b(this);return b("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=this.document[0];if(this.handleElement.is(e.target))try{t.activeElement&&"body"!==t.activeElement.nodeName.toLowerCase()&&b(t.activeElement).blur()}catch(i){}},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),b.ui.ddmanager&&(b.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===b(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),b.ui.ddmanager&&!t.dropBehaviour&&b.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),b.ui.ddmanager&&b.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",b.ui.ddmanager&&b.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,i=!1;return b.ui.ddmanager&&!this.options.dropBehaviour&&(i=b.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||b.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?b(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),b.ui.ddmanager&&b.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),b.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!b(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var t=this.options,i=b.isFunction(t.helper),n=i?b(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),i&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),b.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&b.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options,a=this.document[0];this.relativeContainer=null,n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(i=(t=b(n.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=n.containment:this.containment=[0,0,b(a).width()-this.helperProportions.width-this.margins.left,(b(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[b(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,b(window).scrollLeft()+b(window).width()-this.helperProportions.width-this.margins.left,b(window).scrollTop()+(b(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,a,o,s=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,d=e.pageY
;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(i=this.relativeContainer?(n=this.relativeContainer.offset(),[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(d=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(d=i[3]+this.offset.click.top)),s.grid&&(a=s.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,d=i?a-this.offset.click.top>=i[1]||a-this.offset.click.top>i[3]?a:a-this.offset.click.top>=i[1]?a-s.grid[1]:a+s.grid[1]:a,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(d=this.originalPageY)),{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,t,i){return i=i||this._uiHash(),b.ui.plugin.call(this,e,[t,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),b.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),b.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,i){var n=b.extend({},e,{item:i.element});i.sortables=[],b(i.options.connectToSortable).each(function(){var e=b(this).sortable("instance");e&&!e.options.disabled&&(i.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,n))})},stop:function(t,e,i){var n=b.extend({},e,{item:i.element});i.cancelHelperRemoval=!1,b.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,n))})},drag:function(i,n,a){b.each(a.sortables,function(){var e=!1,t=this;t.positionAbs=a.positionAbs,t.helperProportions=a.helperProportions,t.offset.click=a.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,b.each(a.sortables,function(){return this.positionAbs=a.positionAbs,this.helperProportions=a.helperProportions,this.offset.click=a.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&b.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,a._parent=n.helper.parent(),t.currentItem=n.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return n.helper[0]},i.target=t.currentItem[0],t._mouseCapture(i,!0),t._mouseStart(i,!0,!0),t.offset.click.top=a.offset.click.top,t.offset.click.left=a.offset.click.left,t.offset.parent.left-=a.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=a.offset.parent.top-t.offset.parent.top,a._trigger("toSortable",i),a.dropped=t.element,b.each(a.sortables,function(){this.refreshPositions()}),a.currentItem=a.element,t.fromOutside=a),t.currentItem&&(t._mouseDrag(i),n.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",i,t._uiHash(t)),t._mouseStop(i,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),n.helper.appendTo(a._parent),a._refreshOffsets(i),n.position=a._generatePosition(i,!0),a._trigger("fromSortable",i),a.dropped=!1,b.each(a.sortables,function(){this.refreshPositions()}))})}}),b.ui.plugin.add("draggable","cursor",{start:function(e,t,i){var n=b("body"),a=i.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(e,t,i){var n=i.options;n._cursor&&b("body").css("cursor",n._cursor)}}),b.ui.plugin.add("draggable","opacity",{start:function(e,t,i){var n=b(t.helper),a=i.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(e,t,i){var n=i.options;n._opacity&&b(t.helper).css("opacity",n._opacity)}}),b.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,t,i){var n=i.options,a=!1,o=i.scrollParentNotHidden[0],s=i.document[0];o!==s&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+o.offsetHeight-e.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+o.offsetWidth-e.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-b(s).scrollTop()<n.scrollSensitivity?a=b(s).scrollTop(b(s).scrollTop()-n.scrollSpeed):b(window).height()-(e.pageY-b(s).scrollTop())<n.scrollSensitivity&&(a=b(s).scrollTop(b(s).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-b(s).scrollLeft()<n.scrollSensitivity?a=b(s).scrollLeft(b(s).scrollLeft()-n.scrollSpeed):b(window).width()-(e.pageX-b(s).scrollLeft())<n.scrollSensitivity&&(a=b(s).scrollLeft(b(s).scrollLeft()+n.scrollSpeed)))),!1!==a&&b.ui.ddmanager&&!n.dropBehaviour&&b.ui.ddmanager.prepareOffsets(i,e)}}),b.ui.plugin.add("draggable","snap",{start:function(e,t,i){var n=i.options;i.snapElements=[],b(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=b(this),t=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,i){var n,a,o,s,r,l,d,u,c,h,p=i.options,g=p.snapTolerance,f=t.offset.left,m=f+i.helperProportions.width,_=t.offset.top,w=_+i.helperProportions.height;for(c=i.snapElements.length-1;0<=c;c--)l=(r=i.snapElements[c].left-i.margins.left)+i.snapElements[c].width,u=(d=i.snapElements[c].top-i.margins.top)+i.snapElements[c].height,m<r-g||l+g<f||w<d-g||u+g<_||!b.contains(i.snapElements[c].item.ownerDocument,i.snapElements[c].item)?(i.snapElements[c].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,b.extend(i._uiHash(),{snapItem:i.snapElements[c].item})),i.snapElements[c].snapping=!1):("inner"!==p.snapMode&&(n=Math.abs(d-w)<=g,a=Math.abs(u-_)<=g,o=Math.abs(r-m)<=g,s=Math.abs(l-f)<=g,n&&(t.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(t.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(t.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),s&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),h=n||a||o||s,"outer"!==p.snapMode&&(n=Math.abs(d-_)<=g,a=Math.abs(u-w)<=g,o=Math.abs(r-f)<=g,s=Math.abs(l-m)<=g,n&&(t.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(t.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(t.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),s&&(t.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[c].snapping&&(n||a||o||s||h)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,b.extend(i._uiHash(),{snapItem:i.snapElements[c].item})),i.snapElements[c].snapping=n||a||o||s||h)}}),b.ui.plugin.add("draggable","stack",{start:function(e,t,i){var n,a=i.options,o=b.makeArray(b(a.stack)).sort(function(e,t){return(parseInt(b(e).css("zIndex"),10)||0)-(parseInt(b(t).css("zIndex"),10)||0)});o.length&&(n=parseInt(b(o[0]).css("zIndex"),10)||0,b(o).each(function(e){b(this).css("zIndex",n+e)}),this.css("zIndex",n+o.length))}}),b.ui.plugin.add("draggable","zIndex",{start:function(e,t,i){var n=b(t.helper),a=i.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(e,t,i){var n=i.options;n._zIndex&&b(t.helper).css("zIndex",n._zIndex)}}),b.ui.draggable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(w){return w.widget("ui.resizable",w.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(e,t){if("hidden"===w(e).css("overflow"))return!1;var i=t&&"left"===t?"scrollLeft":"scrollTop",n=!1;return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)},_create:function(){var e,t,i,n,o=this,a=this.options;if(this.element.addClass("ui-resizable"),w.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(w("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(w(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=w(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;t<e.length;t++)i=w.trim(e[t]),(n=w("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:a.zIndex}),"se"===i&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(e){var t,i,n,a;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=w(this.handles[t]),this._on(this.handles[t],{mousedown:o._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=w(this.handles[t],this.element),a=/sw|ne|nw|se|n|s/.test(t)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(n,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),a.autoHide&&(this._handles.hide(),w(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(w(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){a.disabled||o.resizing||(w(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){w(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(e){var t,i,n=!1;for(t in this.handles)((i=w(this.handles[t])[0])===e.target||w.contains(i,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var t,i,n,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),a.containment&&(t+=w(a.containment).scrollLeft()||0,i+=w(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:t,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=w(".ui-resizable-"+this.axis).css("cursor"),w("body").css("cursor","auto"===n?this.axis+"-resize":n),o.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,i,n=this.originalMousePosition,a=this.axis,o=e.pageX-n.left||0,s=e.pageY-n.top||0,r=this._change[a];return this._updatePrevProperties(),r&&(t=r.apply(this,[e,o,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),w.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,i,n,a,o,s,r,l=this.options,d=this;return this._helper&&(n=(i=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&this._hasScroll(t[0],"left")?0:d.sizeDiff.height,a=i?0:d.sizeDiff.width,o={width:d.helper.width()-a,height:d.helper.height()-n},s=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,r=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null,l.animate||this.element.css(w.extend(o,{top:r,left:s})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!l.animate&&this._proportionallyResize()),w("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,a,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:Infinity,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:Infinity},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),a<o.maxHeight&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,a=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,s=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,d=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),s&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),a&&(e.height=t.maxHeight),o&&d&&(e.left=r-t.minWidth),n&&d&&(e.left=r-t.maxWidth),s&&u&&(e.top=l-t.minHeight),a&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],a=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(a[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||w("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return w.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return w.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return w.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return w.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){w.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),w.ui.plugin.add("resizable","animate",{stop:function(t){var i=w(this).resizable("instance"),e=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&i._hasScroll(n[0],"left")?0:i.sizeDiff.height,s=a?0:i.sizeDiff.width,r={width:i.size.width-s,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,d=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(w.extend(r,d&&l?{top:d,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&w(n[0]).css({width:e.width,height:e.height}),i._updateCache(e),i._propagate("resize",t)}})}}),w.ui.plugin.add("resizable","containment",{start:function(){var i,n,e,t,a,o,s,r=w(this).resizable("instance"),l=r.options,d=r.element,u=l.containment,c=u instanceof w?u.get(0):/parent/.test(u)?d.parent().get(0):u;c&&(r.containerElement=w(c),/document/.test(u)||u===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:w(document),left:0,top:0,width:w(document).width(),height:w(document).height()||document.body.parentNode.scrollHeight}):(i=w(c),n=[],w(["Top","Right","Left","Bottom"]).each(function(e,t){n[e]=r._num(i.css("padding"+t))}),r.containerOffset=i.offset(),r.containerPosition=i.position(),r.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},e=r.containerOffset,t=r.containerSize.height,a=r.containerSize.width,o=r._hasScroll(c,"left")?c.scrollWidth:a,s=r._hasScroll(c)?c.scrollHeight:t,r.parentData={element:c,left:e.left,top:e.top,width:o,height:s}))},resize:function(e){var t,i,n,a,o=w(this).resizable("instance"),s=o.options,r=o.containerOffset,l=o.position,d=o._aspectRatio||e.shiftKey,u={top:0,left:0},c=o.containerElement,h=!0;c[0]!==document&&/static/.test(c.css("position"))&&(u=r),l.left<(o._helper?r.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-r.left:o.position.left-u.left),d&&(o.size.height=o.size.width/o.aspectRatio,h=!1),o.position.left=s.helper?r.left:0),l.top<(o._helper?r.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-r.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio,h=!1),o.position.top=o._helper?r.top:0),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),o.offset.top=n&&a?(o.offset.left=o.parentData.left+o.position.left,o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.element.offset().top),t=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-r.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-r.top)),t+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-t,d&&(o.size.height=o.size.width/o.aspectRatio,h=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,d&&(o.size.width=o.size.height*o.aspectRatio,h=!1)),h||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=w(this).resizable("instance"),t=e.options,i=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=w(e.helper),s=o.offset(),r=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(a.css("position"))&&w(this).css({left:s.left-n.left-i.left,width:r,height:l}),e._helper&&!t.animate&&/static/.test(a.css("position"))&&w(this).css({left:s.left-n.left-i.left,width:r,height:l})}}),w.ui.plugin.add("resizable","alsoResize",{start:function(){var e=w(this).resizable("instance").options;w(e.alsoResize).each(function(){var e=w(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var t=w(this).resizable("instance"),n=t.options,a=t.originalSize,o=t.originalPosition,s={height:t.size.height-a.height||0,width:t.size.width-a.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0};w(n.alsoResize).each(function(){var e=w(this),n=w(this).data("ui-resizable-alsoresize"),a={},t=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];w.each(t,function(e,t){var i=(n[t]||0)+(s[t]||0);i&&0<=i&&(a[t]=i||null)}),e.css(a)})},stop:function(){w(this).removeData("resizable-alsoresize")}}),w.ui.plugin.add("resizable","ghost",{start:function(){var e=w(this).resizable("instance"),t=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof t.ghost?t.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=w(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=w(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),w.ui.plugin.add("resizable","grid",{resize:function(){var e,t=w(this).resizable("instance"),i=t.options,n=t.size,a=t.originalSize,o=t.originalPosition,s=t.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,d=r[1]||1,u=Math.round((n.width-a.width)/l)*l,c=Math.round((n.height-a.height)/d)*d,h=a.width+u,p=a.height+c,g=i.maxWidth&&i.maxWidth<h,f=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>h,_=i.minHeight&&i.minHeight>p;i.grid=r,m&&(h+=l),_&&(p+=d),g&&(h-=l),f&&(p-=d),/^(se|s|e)$/.test(s)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.top=o.top-c):/^(sw)$/.test(s)?(t.size.width=h,t.size.height=p,t.position.left=o.left-u):((p-d<=0||h-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),t.position.top=0<p-d?(t.size.height=p,o.top-c):(p=d-e.height,t.size.height=p,o.top+a.height-p),t.position.left=0<h-l?(t.size.width=h,o.left-u):(h=l-e.width,t.size.width=h,o.left+a.width-h))}}),w.ui.resizable}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button","./draggable","./mouse","./position","./resizable"],e):e(jQuery)}(function(l){return l.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=l(this).css(e).offset().top;t<0&&l(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&l.fn.draggable&&this._makeDraggable(),this.options.resizable&&l.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?l(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:l.noop,enable:l.noop,close:function(e){var t,i=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{(t=this.document[0].activeElement)&&"body"!==t.nodeName.toLowerCase()&&l(t).blur()}catch(n){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!1,n=this.uiDialog.siblings(".ui-front:visible").map(function(){return+l(this).css("z-index")}).get(),a=Math.max.apply(null,n);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),i=!0),i&&!t&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=l(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(e){function t(){var e=this.document[0].activeElement;this.uiDialog[0]===e||l.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=l("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===l.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===l.ui.keyCode.TAB&&!e.isDefaultPrevented()){var t=this.uiDialog.find(":tabbable"),i=t.filter(":first"),n=t.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){n.focus()}),e.preventDefault()):(this._delay(function(){i.focus()}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=l("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){l(e.target).closest(".ui-dialog-titlebar-close"
)||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=l("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=l("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=l("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=l("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var a=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),l.isEmptyObject(e)||l.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(l.each(e,function(e,t){var i,n;t=l.isFunction(t)?{click:t,text:e}:t,t=l.extend({type:"button"},t),i=t.click,t.click=function(){i.apply(a.element[0],arguments)},n={icons:t.icons,text:t.showText},delete t.icons,delete t.showText,l("<button></button>",t).button(n).appendTo(a.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function a(e){return{position:e.position,offset:e.offset}}var o=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){l(this).addClass("ui-dialog-dragging"),o._blockFrames(),o._trigger("dragStart",e,a(t))},drag:function(e,t){o._trigger("drag",e,a(t))},stop:function(e,t){var i=t.offset.left-o.document.scrollLeft(),n=t.offset.top-o.document.scrollTop();s.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=n?"+":"")+n,of:o.window},l(this).removeClass("ui-dialog-dragging"),o._unblockFrames(),o._trigger("dragStop",e,a(t))}})},_makeResizable:function(){function o(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var s=this,r=this.options,e=r.resizable,t=this.uiDialog.css("position"),i="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:r.maxWidth,maxHeight:r.maxHeight,minWidth:r.minWidth,minHeight:this._minHeight(),handles:i,start:function(e,t){l(this).addClass("ui-dialog-resizing"),s._blockFrames(),s._trigger("resizeStart",e,o(t))},resize:function(e,t){s._trigger("resize",e,o(t))},stop:function(e,t){var i=s.uiDialog.offset(),n=i.left-s.document.scrollLeft(),a=i.top-s.document.scrollTop();r.height=s.uiDialog.height(),r.width=s.uiDialog.width(),r.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=a?"+":"")+a,of:s.window},l(this).removeClass("ui-dialog-resizing"),s._unblockFrames(),s._trigger("resizeStop",e,o(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=l(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=l.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,a={};l.each(e,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(a[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(e,t){var i,n,a=this.uiDialog;"dialogClass"===e&&a.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((i=a.is(":data(ui-draggable)"))&&!t&&a.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=a.is(":data(ui-resizable)"))&&!t&&a.resizable("destroy"),n&&"string"==typeof t&&a.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=l(this);return l("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!l(e.target).closest(".ui-dialog").length||!!l(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=l("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./mouse","./draggable"],e):e(jQuery)}(function(r){return r.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=r.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(e){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=e},this._addToManager(e.scope),e.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(e){r.ui.ddmanager.droppables[e]=r.ui.ddmanager.droppables[e]||[],r.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=r.ui.ddmanager.droppables[this.options.scope];this._splice(e),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,t){if("accept"===e)this.accept=r.isFunction(t)?t:function(e){return e.is(t)};else if("scope"===e){var i=r.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(t)}this._super(e,t)},_activate:function(e){var t=r.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=r.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=r.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=r.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var i=e||r.ui.ddmanager.current,n=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=r(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&r.ui.intersect(i,r.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(n=!0)}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),r.ui.intersect=function(){function h(e,t,i){return t<=e&&e<t+i}return function(e,t,i,n){if(!t.offset)return!1;var a=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,s=a+e.helperProportions.width,r=o+e.helperProportions.height,l=t.offset.left,d=t.offset.top,u=l+t.proportions().width,c=d+t.proportions().height;switch(i){case"fit":return l<=a&&s<=u&&d<=o&&r<=c;case"intersect":return l<a+e.helperProportions.width/2&&s-e.helperProportions.width/2<u&&d<o+e.helperProportions.height/2&&r-e.helperProportions.height/2<c;case"pointer":return h(n.pageY,d,t.proportions().height)&&h(n.pageX,l,t.proportions().width);case"touch":return(d<=o&&o<=c||d<=r&&r<=c||o<d&&c<r)&&(l<=a&&a<=u||l<=s&&s<=u||a<l&&u<s);default:return!1}}}(),r.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,t){var i,n,a=r.ui.ddmanager.droppables[e.options.scope]||[],o=t?t.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<a.length;i++)if(!(a[i].options.disabled||e&&!a[i].accept.call(a[i].element[0],e.currentItem||e.element))){for(n=0;n<s.length;n++)if(s[n]===a[i].element[0]){a[i].proportions().height=0;continue e}a[i].visible="none"!==a[i].element.css("display"),a[i].visible&&("mousedown"===o&&a[i]._activate.call(a[i],t),a[i].offset=a[i].element.offset(),a[i].proportions({width:a[i].element[0].offsetWidth,height:a[i].element[0].offsetHeight}))}},drop:function(e,t){var i=!1;return r.each((r.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&r.ui.intersect(e,this,this.options.tolerance,t)&&(i=this._drop.call(this,t)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),i},dragStart:function(e,t){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||r.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,s){o.options.refreshPositions&&r.ui.ddmanager.prepareOffsets(o,s),r.each(r.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,t,i,n=r.ui.intersect(o,this,this.options.tolerance,s),a=!n&&this.isover?"isout":n&&!this.isover?"isover":null;a&&(this.options.greedy&&(t=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return r(this).droppable("instance").options.scope===t})).length&&((e=r(i[0]).droppable("instance")).greedyChild="isover"===a)),e&&"isover"===a&&(e.isover=!1,e.isout=!0,e._out.call(e,s)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,s),e&&"isout"===a&&(e.isout=!1,e.isover=!0,e._over.call(e,s)))}})},dragStop:function(e,t){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||r.ui.ddmanager.prepareOffsets(e,t)}},r.ui.droppable}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(c){var i,r="ui-effects-",n=c;return c.effects={effect:{}},function(u,c){function h(e,t,i){var n=m[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:e<0?0:n.max<e?n.max:e)}function r(s){var r=g(),l=r._rgba=[];return s=s.toLowerCase(),w(t,function(e,t){var i,n=t.re.exec(s),a=n&&t.parse(n),o=t.space||"rgba";if(a)return i=r[o](a),r[f[o].cache]=i[f[o].cache],l=r._rgba=i._rgba,!1}),l.length?("0,0,0,0"===l.join()&&u.extend(l,d.transparent),r):d[s]}function l(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var d,e="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",p=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],g=u.Color=function(e,t,i,n){return new u.Color.fn.parse(e,t,i,n)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},_=g.support={},i=u("<p>")[0],w=u.each;i.style.cssText="background-color:rgba(1,1,1,.5)",_.rgba=-1<i.style.backgroundColor.indexOf("rgba"),w(f,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),g.fn=u.extend(g.prototype,{parse:function(a,e,t,i){if(a===c)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=u(a).css(e),e=c);var o=this,n=u.type(a),s=this._rgba=[];return e!==c&&(a=[a,e,t,i],n="array"),"string"===n?this.parse(r(a)||d._default):"array"===n?(w(f.rgba.props,function(e,t){s[t.idx]=h(a[t.idx],t)}),this):"object"===n?(w(f,a instanceof g?function(e,t){a[t.cache]&&(o[t.cache]=a[t.cache].slice())}:function(e,i){var n=i.cache;w(i.props,function(e,t){if(!o[n]&&i.to){if("alpha"===e||null==a[e])return;o[n]=i.to(o._rgba)}o[n][t.idx]=h(a[e],t,!0)}),o[n]&&u.inArray(null,o[n].slice(0,3))<0&&(o[n][3]=1,i.from&&(o._rgba=i.from(o[n])))}),this):void 0},is:function(e){var a=g(e),o=!0,s=this;return w(f,function(e,t){var i,n=a[t.cache];return n&&(i=s[t.cache]||t.to&&t.to(s._rgba)||[],w(t.props,function(e,t){if(null!=n[t.idx])return o=n[t.idx]===i[t.idx]})),o}),o},_space:function(){var i=[],n=this;return w(f,function(e,t){n[t.cache]&&i.push(e)}),i.pop()},transition:function(e,s){var r=g(e),t=r._space(),i=f[t],n=0===this.alpha()?g("transparent"):this,l=n[i.cache]||i.to(n._rgba),d=l.slice();return r=r[i.cache],w(i.props,function(e,t){var i=t.idx,n=l[i],a=r[i],o=m[t.type]||{};null!==a&&(d[i]=null===n?a:(o.mod&&(a-n>o.mod/2?n+=o.mod:n-a>o.mod/2&&(n-=o.mod)),h((a-n)*s+n,t)))}),this[t](d)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),n=g(e)._rgba;return g(u.map(t,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=u.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=u.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+u.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),g.fn.parse.prototype=g.fn,f.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,a=e[1]/255,o=e[2]/255,s=e[3],r=Math.max(n,a,o),l=Math.min(n,a,o),d=r-l,u=r+l,c=.5*u;return t=l===r?0:n===r?60*(a-o)/d+360:a===r?60*(o-n)/d+120:60*(n-a)/d+240,i=0===d?0:c<=.5?d/u:d/(2-u),[Math.round(t)%360,i,c,null==s?1:s]},f.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],a=e[3],o=n<=.5?n*(1+i):n+i-n*i,s=2*n-o;return[Math.round(255*l(s,o,t+1/3)),Math.round(255*l(s,o,t)),Math.round(255*l(s,o,t-1/3)),a]},w(f,function(l,e){var i=e.props,s=e.cache,r=e.to,d=e.from;g.fn[l]=function(e){if(r&&!this[s]&&(this[s]=r(this._rgba)),e===c)return this[s].slice();var t,n=u.type(e),a="array"===n||"object"===n?e:arguments,o=this[s].slice();return w(i,function(e,t){var i=a["object"===n?e:t.idx];null==i&&(i=o[t.idx]),o[t.idx]=h(i,t)}),d?((t=g(d(o)))[s]=o,t):g(o)},w(i,function(s,r){g.fn[s]||(g.fn[s]=function(e){var t,i=u.type(e),n="alpha"===s?this._hsla?"hsla":"rgba":l,a=this[n](),o=a[r.idx];return"undefined"===i?o:("function"===i&&(e=e.call(this,o),i=u.type(e)),null==e&&r.empty?this:("string"===i&&(t=p.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1)),a[r.idx]=e,this[n](a)))})})}),g.hook=function(e){var t=e.split(" ");w(t,function(e,s){u.cssHooks[s]={set:function(e,t){var i,n,a="";if("transparent"!==t&&("string"!==u.type(t)||(i=r(t)))){if(t=g(i||t),!_.rgba&&1!==t._rgba[3]){for(n="backgroundColor"===s?e.parentNode:e;(""===a||"transparent"===a)&&n&&n.style;)try{a=u.css(n,"backgroundColor"),n=n.parentNode}catch(o){}t=t.blend(a&&"transparent"!==a?a:"_default")}t=t.toRgbaString()}try{e.style[s]=t}catch(o){}}},u.fx.step[s]=function(e){e.colorInit||(e.start=g(e.elem,s),e.end=g(e.end),e.colorInit=!0),u.cssHooks[s].set(e.elem,e.start.transition(e.end,e.pos))}})},g.hook(e),u.cssHooks.borderColor={expand:function(i){var n={};return w(["Top","Right","Bottom","Left"],function(e,t){n["border"+t+"Color"]=i}),n}},d=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){function s(e){var t,i,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[t=n[i]]&&(a[c.camelCase(t)]=n[t]);else for(t in n)"string"==typeof n[t]&&(a[t]=n[t]);return a}function r(e,t){var i,n,a={};for(i in t)n=t[i],e[i]!==n&&(u[i]||!c.fx.step[i]&&isNaN(parseFloat(n))||(a[i]=n));return a}var o,a,l,d=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};c.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){c.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(n.style(e.elem,t,e.end),e.setAttr=!0)}}),c.fn.addBack||(c.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),c.effects.animateClass=function(a,e,t,i){var o=c.speed(e,t,i);return this.queue(function(){var e,i=c(this),t=i.attr("class")||"",n=o.children?i.find("*").addBack():i;n=n.map(function(){return{el:c(this),start:s(this)}}),(e=function(){c.each(d,function(e,t){a[t]&&i[t+"Class"](a[t])})})(),n=n.map(function(){return this.end=s(this.el[0]),this.diff=r(this.start,this.end),this}),i.attr("class",t),n=n.map(function(){var e=this,t=c.Deferred(),i=c.extend({},o,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,i),t.promise()}),c.when.apply(c,n.get()).done(function(){e(),c.each(arguments,function(){var t=this.el;c.each(this.diff,function(e){t.css(e,"")})}),o.complete.call(i[0])})})},c.fn.extend({addClass:(l=c.fn.addClass,function(e,t,i,n){return t?c.effects.animateClass.call(this,{add:e},t,i,n):l.apply(this,arguments)}),removeClass:(a=c.fn.removeClass,function(e,t,i,n){return 1<arguments.length?c.effects.animateClass.call(this,{remove:e},t,i,n):a.apply(this,arguments)}),toggleClass:(o=c.fn.toggleClass,function(e,t,i,n,a){return"boolean"==typeof t||t===undefined?i?c.effects.animateClass.call(this,t?{add:e}:{remove:e},i,n,a):o.apply(this,arguments):c.effects.animateClass.call(this,{toggle:e},t,i,n)}),switchClass:function(e,t,i,n,a){return c.effects.animateClass.call(this,{add:t,remove:e},i,n,a)}})}(),function(){function n(e,t,i,n){return c.isPlainObject(e)&&(e=(t=e).effect),e={effect:e},null==t&&(t={}),c.isFunction(t)&&(n=t,i=null,t={}),("number"==typeof t||c.fx.speeds[t])&&(n=i,i=t,t={}),c.isFunction(i)&&(n=i,i=null),t&&c.extend(e,t),i=i||t.duration,e.duration=c.fx.off?0:"number"==typeof i?i:i in c.fx.speeds?c.fx.speeds[i]:c.fx.speeds._default,e.complete=n||t.complete,e}function i(e){return!(e&&"number"!=typeof e&&!c.fx.speeds[e])||("string"==typeof e&&!c.effects.effect[e]||(!!c.isFunction(e)||"object"==typeof e&&!e.effect))}var a,o,s;c.extend(c.effects,{version:"1.11.4",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(r+t[i],e[0].style[t[i]])},restore:function(e,t){var i,n;for(n=0;n<t.length;n++)null!==t[n]&&((i=e.data(r+t[n]))===undefined&&(i=""),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),"float":i.css("float")},e=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return i.wrap(e),(i[0]===a||c.contains(i[0],a))&&c(a).focus(),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(c.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),c.each(["top","left","bottom","right"],function(e,t){n[t]=i.css(t),isNaN(parseInt(n[t],10))&&(n[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(n).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||c.contains(e[0],t))&&c(t).focus()),e},setTransition:function(n,e,a,o){return o=o||{},c.each(e,function(e,t){var i=n.cssUnit(t);0<i[0]&&(o[t]=i[0]*a+i[1])}),o}}),c.fn.extend({effect:function(){function e(e){function t(){c.isFunction(n)&&n.call(i[0]),c.isFunction(e)&&e()}var i=c(this),n=o.complete,a=o.mode;(i.is(":hidden")?"hide"===a:"show"===a)?(i[a](),t()):s.call(i[0],o,t)}var o=n.apply(this,arguments),t=o.mode,i=o.queue,s=c.effects.effect[o.effect];return c.fx.off||!s?t?this[t](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):!1===i?this.each(e):this.queue(i||"fx",e)},show:(s=c.fn.show,function(e){if(i(e))return s.apply(this,arguments);var t=n.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(o=c.fn.hide,function(e){if(i(e))return o.apply(this,arguments);var t=n.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(a=c.fn.toggle,function(e){if(i(e)||"boolean"==typeof e)return a.apply(this,arguments);var t=n.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(e){var i=this.css(e),n=[];return c.each(["em","px","%","pt"],function(e,t){0<i.indexOf(t)&&(n=[parseFloat(i),t])}),n}})}(),i={},c.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){i[e]=function(e){return Math.pow(e,t+2)}}),c.extend(i,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),c.each(i,function(e,t){c.easing["easeIn"+e]=t,c.easing["easeOut"+e]=function(e){return 1-t(1-e)},c.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}}),c.effects}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(_){return _.effects.effect.blind=function(e,t){var i,n,a,o=_(this),s=/up|down|vertical/,r=/up|left|vertical|horizontal/,l=["position","top","bottom","left","right","height","width"],d=_.effects.setMode(o,e.mode||"hide"),u=e.direction||"up",c=s.test(u),h=c?"height":"width",p=c?"top":"left",g=r.test(u),f={},m="show"===d;o.parent().is(".ui-effects-wrapper")?_.effects.save(o.parent(),l):_.effects.save(o,l),o.show(),n=(i=_.effects.createWrapper(o).css({overflow:"hidden"}))[h](),a=parseFloat(i.css(p))||0,f[h]=m?n:0,g||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),f[p]=m?a:n+a),m&&(i.css(h,0),g||i.css(p,a+n)),i.animate(f,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===d&&o.hide(),_.effects.restore(o,l),_.effects.removeWrapper(o),t()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(v){return v.effects.effect.bounce=function(e,t){var i,n,a,o=v(this),s=["position","top","bottom","left","right","height","width"],r=v.effects.setMode(o,e.mode||"effect"),l="hide"===r,d="show"===r,u=e.direction||"up",c=e.distance,h=e.times||5,p=2*h+(d||l?1:0),g=e.duration/p,f=e.easing,m="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,w=o.queue(),b=w.length;for((d||l)&&s.push("opacity"),v.effects.save(o,s),o.show(),v.effects.createWrapper(o),c||(c=o["top"===m?"outerHeight":"outerWidth"]()/3),d&&((a={opacity:1})[m]=0,o.css("opacity",0).css(m,_?2*-c:2*c).animate(a,g,f)),l&&(c/=Math.pow(2,h-1)),i=(a={})[m]=0;i<h;i++)(n={})[m]=(_?"-=":"+=")+c,o.animate(n,g,f).animate(a,g,f),c=l?2*c:c/2;l&&((n={opacity:0})[m]=(_?"-=":"+=")+c,o.animate(n,g,f)),o.queue(function(){l&&o.hide(),v.effects.restore(o,s),v.effects.removeWrapper(o),t()}),1<b&&w.splice.apply(w,[1,0].concat(w.splice(b,p+1))),o.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(h){return h.effects.effect.clip=function(e,t){var i,n,a,o=h(this),s=["position","top","bottom","left","right","height","width"],r="show"===h.effects.setMode(o,e.mode||"hide"),l="vertical"===(e.direction||"vertical"),d=l?"height":"width",u=l?"top":"left",c={};h.effects.save(o,s),o.show(),i=h.effects.createWrapper(o).css({overflow:"hidden"}),a=(n="IMG"===o[0].tagName?i:o)[d](),r&&(n.css(d,0),n.css(u,a/2)),c[d]=r?a:0,c[u]=r?0:a/2,n.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){r||o.hide(),h.effects.restore(o,s),h.effects.removeWrapper(o),t()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(c){return c.effects.effect.drop=function(e,t){var i,n=c(this),a=["position","top","bottom","left","right","opacity","height","width"],o=c.effects.setMode(n,e.mode||"hide"),s="show"===o,r=e.direction||"left",l="up"===r||"down"===r?"top":"left",d="up"===r||"left"===r?"pos":"neg",u={opacity:s?1:0};c.effects.save(n,a),n.show(),c.effects.createWrapper(n),i=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,s&&n.css("opacity",0).css(l,"pos"===d?-i:i),u[l]=(s?"pos"===d?"+=":"-=":"pos"===d?"-=":"+=")+i,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),c.effects.restore(n,a),c.effects.removeWrapper(n),t()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(w){return w.effects.effect.explode=function(e,t){function i(){_.push(this),_.length===u*c&&n()}function n(){h.css({visibility:"visible"}),w(_).remove(),p||h.hide(),t()}var a,o,s,r,l,d,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=u,h=w(this),p="show"===w.effects.setMode(h,e.mode||"hide"),g=h.show().css("visibility","hidden").offset(),f=Math.ceil(h.outerWidth()/c),m=Math.ceil(h.outerHeight()/u),_=[];for(a=0;a<u;a++)for(r=g.top+a*m,d=a-(u-1)/2,o=0;o<c;o++)s=g.left+o*f,l=o-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*f,top:-a*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:m,left:s+(p?l*f:0),top:r+(p?d*m:0),opacity:p?0:1}).animate({left:s+(p?0:l*f),top:r+(p?0:d*m),opacity:p?1:0},e.duration||500,e.easing,i)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(a){return a.effects.effect.fade=function(e,t){var i=a(this),n=a.effects.setMode(i,e.mode||"toggle");i.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(_){return _.effects.effect.fold=function(e,t){var i,n,a=_(this),o=["position","top","bottom","left","right","height","width"],s=_.effects.setMode(a,e.mode||"hide"),r="show"===s,l="hide"===s,d=e.size||15,u=/([0-9]+)%/.exec(d),c=!!e.horizFirst,h=r!==c,p=h?["width","height"]:["height","width"],g=e.duration/2,f={},m={};_.effects.save(a,o),a.show(),i=_.effects.createWrapper(a).css({overflow:"hidden"}),n=h?[i.width(),i.height()]:[i.height(),i.width()],u&&(d=parseInt(u[1],10)/100*n[l?0:1]),r&&i.css(c?{height:0,width:d}:{height:d,width:0}),f[p[0]]=r?n[0]:d,m[p[1]]=r?n[1]:0,i.animate(f,g,e.easing).animate(m,g,e.easing,function(){l&&a.hide(),_.effects.restore(a,o),_.effects.removeWrapper(a),t()})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(s){return s.effects.effect.highlight=function(e,t){var i=s(this),n=["backgroundImage","backgroundColor","opacity"],a=s.effects.setMode(i,e.mode||"show"),o={backgroundColor:i.css("backgroundColor")};"hide"===a&&(o.opacity=0),s.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&i.hide(),s.effects.restore(i,n),t()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(b){return b.effects.effect.size=function(i,e){var t,n,a,o=b(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],r=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],d=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=b.effects.setMode(o,i.mode||"effect"),p=i.restore||"effect"!==h,g=i.scale||"both",f=i.origin||["middle","center"],m=o.css("position"),_=p?s:r,w={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&o.show(),t={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===i.mode&&"show"===h?(o.from=i.to||w,o.to=i.from||t):(o.from=i.from||("show"===h?w:t),o.to=i.to||("hide"===h?w:t)),a={from:{y:o.from.height/t.height,x:o.from.width/t.width},to:{y:o.to.height/t.height,x:o.to.width/t.width}},"box"!==g&&"both"!==g||(a.from.y!==a.to.y&&(_=_.concat(u),o.from=b.effects.setTransition(o,u,a.from.y,o.from),o.to=b.effects.setTransition(o,u,a.to.y,o.to)),a.from.x!==a.to.x&&(_=_.concat(c),o.from=b.effects.setTransition(o,c,a.from.x,o.from),o.to=b.effects.setTransition(o,c,a.to.x,o.to))),"content"!==g&&"both"!==g||a.from.y!==a.to.y&&(_=_.concat(d).concat(l),
o.from=b.effects.setTransition(o,d,a.from.y,o.from),o.to=b.effects.setTransition(o,d,a.to.y,o.to)),b.effects.save(o,_),o.show(),b.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),f&&(n=b.effects.getBaseline(f,t),o.from.top=(t.outerHeight-o.outerHeight())*n.y,o.from.left=(t.outerWidth-o.outerWidth())*n.x,o.to.top=(t.outerHeight-o.to.outerHeight)*n.y,o.to.left=(t.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),"content"!==g&&"both"!==g||(u=u.concat(["marginTop","marginBottom"]).concat(d),c=c.concat(["marginLeft","marginRight"]),l=s.concat(u).concat(c),o.find("*[width]").each(function(){var e=b(this),t={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()};p&&b.effects.save(e,l),e.from={height:t.height*a.from.y,width:t.width*a.from.x,outerHeight:t.outerHeight*a.from.y,outerWidth:t.outerWidth*a.from.x},e.to={height:t.height*a.to.y,width:t.width*a.to.x,outerHeight:t.height*a.to.y,outerWidth:t.width*a.to.x},a.from.y!==a.to.y&&(e.from=b.effects.setTransition(e,u,a.from.y,e.from),e.to=b.effects.setTransition(e,u,a.to.y,e.to)),a.from.x!==a.to.x&&(e.from=b.effects.setTransition(e,c,a.from.x,e.from),e.to=b.effects.setTransition(e,c,a.to.x,e.to)),e.css(e.from),e.animate(e.to,i.duration,i.easing,function(){p&&b.effects.restore(e,l)})})),o.animate(o.to,{queue:!1,duration:i.duration,easing:i.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===h&&o.hide(),b.effects.restore(o,_),p||("static"===m?o.css({position:"relative",top:o.to.top,left:o.to.left}):b.each(["top","left"],function(a,e){o.css(e,function(e,t){var i=parseInt(t,10),n=a?o.to.left:o.to.top;return"auto"===t?n+"px":i+n+"px"})})),b.effects.removeWrapper(o),e()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-size"],e):e(jQuery)}(function(u){return u.effects.effect.scale=function(e,t){var i=u(this),n=u.extend(!0,{},e),a=u.effects.setMode(i,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===a?0:100),s=e.direction||"both",r=e.origin,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},d={y:"horizontal"!==s?o/100:1,x:"vertical"!==s?o/100:1};n.effect="size",n.queue=!1,n.complete=t,"effect"!==a&&(n.origin=r||["middle","center"],n.restore=!0),n.from=e.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*d.y,width:l.width*d.x,outerHeight:l.outerHeight*d.y,outerWidth:l.outerWidth*d.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),i.effect(n)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect","./effect-scale"],e):e(jQuery)}(function(l){return l.effects.effect.puff=function(e,t){var i=l(this),n=l.effects.setMode(i,e.mode||"hide"),a="hide"===n,o=parseInt(e.percent,10)||150,s=o/100,r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};l.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:t,percent:a?o:100,from:a?r:{height:r.height*s,width:r.width*s,outerHeight:r.outerHeight*s,outerWidth:r.outerWidth*s}}),i.effect(e)}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(p){return p.effects.effect.pulsate=function(e,t){var i,n=p(this),a=p.effects.setMode(n,e.mode||"show"),o="show"===a,s="hide"===a,r=o||"hide"===a,l=2*(e.times||5)+(r?1:0),d=e.duration/l,u=0,c=n.queue(),h=c.length;for(!o&&n.is(":visible")||(n.css("opacity",0).show(),u=1),i=1;i<l;i++)n.animate({opacity:u},d,e.easing),u=1-u;n.animate({opacity:u},d,e.easing),n.queue(function(){s&&n.hide(),t()}),1<h&&c.splice.apply(c,[1,0].concat(c.splice(h,l+1))),n.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(w){return w.effects.effect.shake=function(e,t){var i,n=w(this),a=["position","top","bottom","left","right","height","width"],o=w.effects.setMode(n,e.mode||"effect"),s=e.direction||"left",r=e.distance||20,l=e.times||3,d=2*l+1,u=Math.round(e.duration/d),c="up"===s||"down"===s?"top":"left",h="up"===s||"left"===s,p={},g={},f={},m=n.queue(),_=m.length;for(w.effects.save(n,a),n.show(),w.effects.createWrapper(n),p[c]=(h?"-=":"+=")+r,g[c]=(h?"+=":"-=")+2*r,f[c]=(h?"-=":"+=")+2*r,n.animate(p,u,e.easing),i=1;i<l;i++)n.animate(g,u,e.easing).animate(f,u,e.easing);n.animate(g,u,e.easing).animate(p,u/2,e.easing).queue(function(){"hide"===o&&n.hide(),w.effects.restore(n,a),w.effects.removeWrapper(n),t()}),1<_&&m.splice.apply(m,[1,0].concat(m.splice(_,d+1))),n.dequeue()}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(c){return c.effects.effect.slide=function(e,t){var i,n=c(this),a=["position","top","bottom","left","right","width","height"],o=c.effects.setMode(n,e.mode||"show"),s="show"===o,r=e.direction||"left",l="up"===r||"down"===r?"top":"left",d="up"===r||"left"===r,u={};c.effects.save(n,a),n.show(),i=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),c.effects.createWrapper(n).css({overflow:"hidden"}),s&&n.css(l,d?isNaN(i)?"-"+i:-i:i),u[l]=(s?d?"+=":"-=":d?"-=":"+=")+i,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),c.effects.restore(n,a),c.effects.removeWrapper(n),t()}})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(h){return h.effects.effect.transfer=function(e,t){var i=h(this),n=h(e.to),a="fixed"===n.css("position"),o=h("body"),s=a?o.scrollTop():0,r=a?o.scrollLeft():0,l=n.offset(),d={top:l.top-s,left:l.left-r,height:n.innerHeight(),width:n.innerWidth()},u=i.offset(),c=h("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-s,left:u.left-r,height:i.innerHeight(),width:i.innerWidth(),position:a?"fixed":"absolute"}).animate(d,e.duration,e.easing,function(){c.remove(),t()})}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(i){return i.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=i("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===undefined)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===undefined&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=i("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(d){return d.widget("ui.selectable",d.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,t=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=d(t.options.filter,t.element[0])).addClass("ui-selectee"),e.each(function(){var e=d(this),t=e.offset();d.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=d("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(i){var n=this,e=this.options;this.opos=[i.pageX,i.pageY],this.options.disabled||(this.selectees=d(e.filter,this.element[0]),this._trigger("start",i),d(e.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=d.data(this,"selectable-item");e.startselected=!0,i.metaKey||i.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",i,{unselecting:e.element}))}),d(i.target).parents().addBack().each(function(){var e,t=d.data(this,"selectable-item");if(t)return e=!i.metaKey&&!i.ctrlKey||!t.$element.hasClass("ui-selected"),t.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?n._trigger("selecting",i,{selecting:t.element}):n._trigger("unselecting",i,{unselecting:t.element}),!1}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var e,n=this,a=this.options,o=this.opos[0],s=this.opos[1],r=i.pageX,l=i.pageY;return r<o&&(e=r,r=o,o=e),l<s&&(e=l,l=s,s=e),this.helper.css({left:o,top:s,width:r-o,height:l-s}),this.selectees.each(function(){var e=d.data(this,"selectable-item"),t=!1;e&&e.element!==n.element[0]&&("touch"===a.tolerance?t=!(e.left>r||e.right<o||e.top>l||e.bottom<s):"fit"===a.tolerance&&(t=e.left>o&&e.right<r&&e.top>s&&e.bottom<l),t?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,n._trigger("selecting",i,{selecting:e.element}))):(e.selecting&&((i.metaKey||i.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),n._trigger("unselecting",i,{unselecting:e.element}))),e.selected&&(i.metaKey||i.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",i,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,d(".ui-unselecting",this.element[0]).each(function(){var e=d.data(this,"selectable-item");e.$element.removeClass("ui-unselecting"),e.unselecting=!1,e.startselected=!1,i._trigger("unselected",t,{unselected:e.element})}),d(".ui-selecting",this.element[0]).each(function(){var e=d.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,i._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(o){return o.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=o("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=o("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),o("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=o("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var n=this;this.menu=o("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=o("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,t){e.preventDefault(),n._setSelection(),n._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){var i=t.item.data("ui-selectmenu-item");null!=n.focusIndex&&i.index!==n.focusIndex&&(n._trigger("focus",e,{item:i}),n.isOpen||n._select(i,e)),n.focusIndex=i.index,n.button.attr("aria-activedescendant",n.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(o.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(i,e){var n=this,a="";o.each(e,function(e,t){t.optgroup!==a&&(o("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:t.optgroup}).appendTo(i),a=t.optgroup),n._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var i=o("<li>");return t.disabled&&i.addClass("ui-state-disabled"),this._setText(i,t.label),i.appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,a=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),a+=":not(.ui-state-disabled)"),(n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](a).eq(-1):i[e+"All"](a).eq(0)).length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(o(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case o.ui.keyCode.TAB:case o.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case o.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case o.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case o.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case o.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case o.ui.keyCode.LEFT:this._move("prev",e);break;case o.ui.keyCode.RIGHT:this._move("next",e);break;case o.ui.keyCode.HOME:case o.ui.keyCode.PAGE_UP:this._move("first",e);break;case o.ui.keyCode.END:case o.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?o(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var a=[];e.each(function(e,t){var i=o(t),n=i.parent("optgroup");a.push({element:i,index:e,value:i.val(),label:i.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||i.prop("disabled")})}),this.items=a},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(u){return u.widget("ui.slider",u.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t,i=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(t=i.values&&i.values.length||1,n.length>t&&(n.slice(t).remove(),n=n.slice(0,t)),e=n.length;e<t;e++)o.push(a);this.handles=n.add(u(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){u(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,t="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:u.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=u("<div></div>").appendTo(this.element),t="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(t+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var t,i,n,a,o,s,r,l=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(i-l.values(e));(t<n||n===t&&(e===l._lastChangedValue||l.values(e)===d.min))&&(n=t,a=u(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),s=a.offset(),r=!u(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=r?{left:0,top:0}:{left:e.pageX-s.left-a.width()/2,top:e.pageY-s.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,a;return 1<(i=("horizontal"===this.orientation?(t=this.elementSize.width,e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/t)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),n=this._valueMax()-this._valueMin(),a=this._valueMin()+i*n,this._trimAlignValue(a)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,a,o;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n<i||1===t&&i<n)&&(i=n),i!==this.values(t)&&((a=this.values())[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:a}),n=this.values(t?0:1),!1!==o&&this.values(t,i))):i!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var i,n,a;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!u.isArray(e))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,n=e,a=0;a<i.length;a+=1)i[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,t){var i,n=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),u.isArray(this.options.values)&&(n=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t),this._super(e,t),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<n;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=0<i?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step;e=Math.floor(+(e-t).toFixed(this._precision())/i)*i+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,e,n,a,o=this.options.range,s=this.options,r=this,l=!this._animateOff&&s.animate,d={};this.options.values&&this.options.values.length?this.handles.each(function(e){i=(r.values(e)-r._valueMin())/(r._valueMax()-r._valueMin())*100,d["horizontal"===r.orientation?"left":"bottom"]=i+"%",u(this).stop(1,1)[l?"animate":"css"](d,s.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===e&&r.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},s.animate),1===e&&r.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:s.animate})):(0===e&&r.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},s.animate),1===e&&r.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:s.animate}))),t=i}):(e=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?(e-n)/(a-n)*100:0,d["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](d,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:s.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(e){var t,i,n,a=u(e.target).data("ui-slider-handle-index");switch(e.keyCode){case u.ui.keyCode.HOME:case u.ui.keyCode.END:case u.ui.keyCode.PAGE_UP:case u.ui.keyCode.PAGE_DOWN:case u.ui.keyCode.UP:case u.ui.keyCode.RIGHT:case u.ui.keyCode.DOWN:case u.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,u(e.target).addClass("ui-state-active"),!1===this._start(e,a)))return}switch(n=this.options.step,t=i=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case u.ui.keyCode.HOME:i=this._valueMin();break;case u.ui.keyCode.END:i=this._valueMax();break;case u.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case u.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case u.ui.keyCode.UP:case u.ui.keyCode.RIGHT:if(t===this._valueMax())return;i=this._trimAlignValue(t+n);break;case u.ui.keyCode.DOWN:case u.ui.keyCode.LEFT:if(t===this._valueMin())return;i=this._trimAlignValue(t-n)}this._slide(e,a,i)},keyup:function(e){var t=u(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),u(e.target).removeClass("ui-state-active"))}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(p){return p.widget("ui.sortable",p.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return t<=e&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),p.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},
_mouseCapture:function(e,t){var i=null,n=!1,a=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),p(e.target).parents().each(function(){if(p.data(this,a.widgetName+"-item")===a)return i=p(this),!1}),p.data(e.target,a.widgetName+"-item")===a&&(i=p(e.target)),!!i&&(!(this.options.handle&&!t&&(p(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,i){var n,a,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},p.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=p("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return p.ui.ddmanager&&(p.ui.ddmanager.current=this),p.ui.ddmanager&&!o.dropBehaviour&&p.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,i,n,a,o=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&p.ui.ddmanager&&!o.dropBehaviour&&p.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(n=(i=this.items[t]).item[0],(a=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===a?"next":"prev"]()[0]===n||p.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&p.contains(this.element[0],n))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),p.ui.ddmanager&&p.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(p.ui.ddmanager&&!this.options.dropBehaviour&&p.ui.ddmanager.drop(this,e),this.options.revert){var i=this,n=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,p(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),p.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?p(this.domPosition.prev).after(this.currentItem):p(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},p(e).each(function(){var e=(p(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(p(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,a=n+this.helperProportions.height,o=e.left,s=o+e.width,r=e.top,l=r+e.height,d=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||r<n+d&&n+d<l,h="y"===this.options.axis||o<t+u&&t+u<s,p=c&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<s&&r<n+this.helperProportions.height/2&&a-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,a=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!n&&(this.floating?o&&"right"===o||"down"===a?2:1:a&&("down"===a?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return this.floating&&a?"right"===a&&i||"left"===a&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){function t(){s.push(this)}var i,n,a,o,s=[],r=[],l=this._connectWith();if(l&&e)for(i=l.length-1;0<=i;i--)for(n=(a=p(l[i],this.document[0])).length-1;0<=n;n--)(o=p.data(a[n],this.widgetFullName))&&o!==this&&!o.options.disabled&&r.push([p.isFunction(o.options.items)?o.options.items.call(o.element):p(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(r.push([p.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):p(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;0<=i;i--)r[i][0].each(t);return p(s)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=p.grep(this.items,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,i,n,a,o,s,r,l,d=this.items,u=[[p.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):p(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(t=c.length-1;0<=t;t--)for(i=(n=p(c[t],this.document[0])).length-1;0<=i;i--)(a=p.data(n[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&(u.push([p.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):p(a.options.items,a.element),a]),this.containers.push(a));for(t=u.length-1;0<=t;t--)for(o=u[t][1],i=0,l=(s=u[t][0]).length;i<l;i++)(r=p(s[i])).data(this.widgetName+"-item",o),d.push({item:r,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,i,n,a;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(i=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?p(this.options.toleranceElement,i.item):i.item,e||(i.width=n.outerWidth(),i.height=n.outerHeight()),a=n.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)a=this.containers[t].element.offset(),this.containers[t].containerCache.left=a.left,this.containers[t].containerCache.top=a.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(i){var n,a=(i=i||this).options;a.placeholder&&a.placeholder.constructor!==String||(n=a.placeholder,a.placeholder={element:function(){var e=i.currentItem[0].nodeName.toLowerCase(),t=p("<"+e+">",i.document[0]).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===e?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),p("<tr>",i.document[0]).appendTo(t)):"tr"===e?i._createTrPlaceholder(i.currentItem,t):"img"===e&&t.attr("src",i.currentItem.attr("src")),n||t.css("visibility","hidden"),t},update:function(e,t){n&&!a.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=p(a.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),a.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(e,t){var i=this;e.children().each(function(){p("<td>&#160;</td>",i.document[0]).attr("colspan",p(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){var t,i,n,a,o,s,r,l,d,u,c=null,h=null;for(t=this.containers.length-1;0<=t;t--)if(!p.contains(this.currentItem[0],this.containers[t].element[0]))if(this._intersectsWith(this.containers[t].containerCache)){if(c&&p.contains(this.containers[t].element[0],c.element[0]))continue;c=this.containers[t],h=t}else this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",e,this._uiHash(this)),this.containers[t].containerCache.over=0);if(c)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(n=1e4,a=null,o=(d=c.floating||this._isFloating(this.currentItem))?"left":"top",s=d?"width":"height",u=d?"clientX":"clientY",i=this.items.length-1;0<=i;i--)p.contains(this.containers[h].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(r=this.items[i].item.offset()[o],l=!1,e[u]-r>this.items[i][s]/2&&(l=!0),Math.abs(e[u]-r)<n&&(n=Math.abs(e[u]-r),a=this.items[i],this.direction=l?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[h].element,!0),this._trigger("change",e,this._uiHash()),this.containers[h]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(e){var t=this.options,i=p.isFunction(t.helper)?p(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||p("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!t.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!t.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),p.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&p.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&p.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=p(n.containment)[0],t=p(n.containment).offset(),i="hidden"!==p(e).css("overflow"),this.containment=[t.left+(parseInt(p(e).css("borderLeftWidth"),10)||0)+(parseInt(p(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(p(e).css("borderTopWidth"),10)||0)+(parseInt(p(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(p(e).css("borderLeftWidth"),10)||0)-(parseInt(p(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(p(e).css("borderTopWidth"),10)||0)-(parseInt(p(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&p.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:n.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:n.scrollLeft())*i}},_generatePosition:function(e){var t,i,n=this.options,a=e.pageX,o=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&p.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(t=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-n.grid[1]:t+n.grid[1]:t,i=this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){a===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(t,i,n){return function(e){n._trigger(t,e,i._uiHash(i))}}this.reverting=!1;var n,a=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&a.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||a.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(a.push(function(e){this._trigger("remove",e,this._uiHash())}),a.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),a.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)t||a.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(a.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<a.length;n++)a[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===p.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||p([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./button"],e):e(jQuery)}(function(o){function t(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}return o.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var n={},a=this.element;return o.each(["min","max","step"],function(e,t){var i=a.attr(t);i!==undefined&&i.length&&(n[t]=i)}),n},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){function t(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),t.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,t.call(this)}),!1!==this._start(e)&&this._repeat(null,o(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(o(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,o(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&0<e.height()&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(e){var t=this.options,i=o.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,t.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?o.isFunction(t)?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:t(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],e):e(jQuery)}(function(d){return d.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(a=/#.*$/,function(e){var t,i;t=(e=e.cloneNode(!1)).href.replace(a,""),i=location.href.replace(a,"");try{t=decodeURIComponent(t)}catch(n){}try{i=decodeURIComponent(i)}catch(n){}return 1<e.hash.length&&t===i}),_create:function(){var t=this,e=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",e.collapsible),this._processTabs(),e.active=this._initialActive(),d.isArray(e.disabled)&&(e.disabled=d.unique(e.disabled.concat(d.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=d(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var i=this.options.active,e=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(e,t){if(d(t).attr("aria-controls")===n)return i=e,!1}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==i&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!e&&0),!e&&!1===i&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):d()}},_tabKeydown:function(e){var t=d(this.document[0].activeElement).closest("li"),i=this.tabs.index(t),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:i++;break;case d.ui.keyCode.UP:case d.ui.keyCode.LEFT:n=!1,i--;break;case d.ui.keyCode.END:i=this.anchors.length-1;break;case d.ui.keyCode.HOME:i=0;break;case d.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case d.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,n),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===d.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===d.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===d.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},
_findNextTab:function(e,t){function i(){return n<e&&(e=0),e<0&&(e=n),e}for(var n=this.tabs.length-1;-1!==d.inArray(i(),this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=d.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!d.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=d()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=d()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,i=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(e){d(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){d(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return d("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=d(),this.anchors.each(function(e,t){var i,n,a,o=d(t).uniqueId().attr("id"),s=d(t).closest("li"),r=s.attr("aria-controls");l._isLocal(t)?(a=(i=t.hash).substring(1),n=l.element.find(l._sanitizeSelector(i))):(i="#"+(a=s.attr("aria-controls")||d({}).uniqueId()[0].id),(n=l.element.find(i)).length||(n=l._createPanel(a)).insertAfter(l.panels[e-1]||l.tablist),n.attr("aria-live","polite")),n.length&&(l.panels=l.panels.add(n)),r&&s.data("ui-tabs-aria-controls",r),s.attr({"aria-controls":a,"aria-labelledby":o}),n.attr("aria-labelledby",o)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return d("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){d.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var t,i=0;t=this.tabs[i];i++)!0===e||-1!==d.inArray(i,e)?d(t).addClass("ui-state-disabled").attr("aria-disabled","true"):d(t).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={};e&&d.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,t=this.element.parent();"fill"===e?(i=t.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=d(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=d(this).outerHeight(!0)}),this.panels.each(function(){d(this).height(Math.max(0,i-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,d(this).height("").height())}).height(i))},_eventHandler:function(e){var t=this.options,i=this.active,n=d(e.currentTarget).closest("li"),a=n[0]===i[0],o=a&&t.collapsible,s=o?d():this._getPanelForTab(n),r=i.length?this._getPanelForTab(i):d(),l={oldTab:i,oldPanel:r,newTab:o?d():n,newPanel:s};e.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||a&&!t.collapsible||!1===this._trigger("beforeActivate",e,l)||(t.active=!o&&this.tabs.index(n),this.active=a?d():n,this.xhr&&this.xhr.abort(),r.length||s.length||d.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(n),e),this._toggle(e,l))},_toggle:function(e,t){function i(){a.running=!1,a._trigger("activate",e,t)}function n(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,i):(o.show(),i())}var a=this,o=t.newPanel,s=t.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),n()),s.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&s.length?t.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===d(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var t,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),t=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:d.noop}))},_findActive:function(e){return!1===e?d():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){d.data(this,"ui-tabs-destroy")?d(this).remove():d(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=d(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var e=this.options.disabled;!1!==e&&(e=i!==undefined&&(i=this._getIndex(i),d.isArray(e)?d.map(e,function(e){return e!==i?e:null}):d.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(e===undefined)t=!0;else{if(e=this._getIndex(e),-1!==d.inArray(e,t))return;t=d.isArray(t)?d.merge([e],t).sort():[e]}this._setupDisabled(t)}},load:function(e,n){e=this._getIndex(e);var a=this,i=this.tabs.eq(e),t=i.find(".ui-tabs-anchor"),o=this._getPanelForTab(i),s={tab:i,panel:o},r=function(e,t){"abort"===t&&a.panels.stop(!1,!0),i.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===a.xhr&&delete a.xhr};this._isLocal(t[0])||(this.xhr=d.ajax(this._ajaxSettings(t,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(i.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,i){setTimeout(function(){o.html(e),a._trigger("load",n,s),r(i,t)},1)}).fail(function(e,t){setTimeout(function(){r(e,t)},1)})))},_ajaxSettings:function(e,i,n){var a=this;return{url:e.attr("href"),beforeSend:function(e,t){return a._trigger("beforeLoad",i,d.extend({jqXHR:e,ajaxSettings:t},n))}}},_getPanelForTab:function(e){var t=d(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}});var a}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],e):e(jQuery)}(function(d){return d.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=d(this).attr("title")||"";return d("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",d.trim(i.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),n=d.inArray(t,i);-1!==n&&i.splice(n,1),e.removeData("ui-tooltip-id"),(i=d.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=d("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,t){var i=this;if("disabled"===e)return this[t?"_disable":"_enable"](),void(this.options[e]=t);this._super(e,t),"content"===e&&d.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_disable:function(){var n=this;d.each(this.tooltips,function(e,t){var i=d.Event("blur");i.target=i.currentTarget=t.element[0],n.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=d(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=d(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,t=d(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=d(this);t.data("ui-tooltip-open")&&((e=d.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),t.attr("title")&&(t.uniqueId(),i.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,i){var e,n=this.options.content,a=this,o=i?i.type:null;if("string"==typeof n)return this._open(i,t,n);(e=n.call(t[0],function(e){a._delay(function(){t.data("ui-tooltip-open")&&(i&&(i.type=o),this._open(i,t,e))})}))&&this._open(i,t,e)},_open:function(e,t,i){function n(e){l.of=e,o.is(":hidden")||o.position(l)}var a,o,s,r,l=d.extend({},this.options.position);i&&((a=this._find(t))?a.tooltip.find(".ui-tooltip-content").html(i):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),a=this._tooltip(t),o=a.tooltip,this._addDescribedBy(t,o.attr("id")),o.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(r=i.clone()).removeAttr("id").find("[id]").removeAttr("id"):r=i,d("<div>").html(r).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):o.position(d.extend({of:t},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){o.is(":visible")&&(n(l.of),clearInterval(s))},d.fx.interval)),this._trigger("open",e,{tooltip:o})))},_registerCloseHandlers:function(e,i){var t={keyup:function(e){if(e.keyCode===d.ui.keyCode.ESCAPE){var t=d.Event(e);t.currentTarget=i[0],this.close(t,!0)}}};i[0]!==this.element[0]&&(t.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(t.mouseleave="close"),e&&"focusin"!==e.type||(t.focusout="close"),this._on(!0,i,t)},close:function(e){var t,i=this,n=d(e?e.currentTarget:this.element),a=this._find(n);a?(t=a.tooltip,a.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&!n.attr("title")&&n.attr("title",n.data("ui-tooltip-title")),this._removeDescribedBy(n),a.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){i._removeTooltip(d(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&d.each(this.parents,function(e,t){d(t.element).attr("title",t.title),delete i.parents[e]}),a.closing=!0,this._trigger("close",e,{tooltip:t}),a.hiding||(a.closing=!1))):n.removeData("ui-tooltip-open")},_tooltip:function(e){var t=d("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=t.uniqueId().attr("id");return d("<div>").addClass("ui-tooltip-content").appendTo(t),t.appendTo(this.document[0].body),this.tooltips[i]={element:e,tooltip:t}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var a=this;d.each(this.tooltips,function(e,t){var i=d.Event("blur"),n=t.element;i.target=i.currentTarget=n[0],a.close(i,!0),d("#"+e).remove(),n.data("ui-tooltip-title")&&(n.attr("title")||n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),function($){var min=Math.min,max=Math.max,round=Math.floor,isStr=function(e){return"string"===$.type(e)},runPluginCallbacks=function(Instance,a_fn){function g(e){return e}if($.isArray(a_fn))for(var i=0,c=a_fn.length;i<c;i++){var fn=a_fn[i];try{isStr(fn)&&(fn=eval(fn)),$.isFunction(fn)&&g(fn)(Instance)}catch(ex){}}};$.layout={version:"1.3.rc30.79",revision:.033007,browser:{},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(e){var t=$(e),i=t.data("layout")||t.data("parentLayout");if(i){var n=i.container;if(n.data("layoutPane"))return n;var a=n.closest("."+$.layout.defaults.panes.paneClass);if(a.data("layoutPane"))return a}return null},getParentPaneInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("layoutPane"):null},getParentLayoutInstance:function(e){var t=$.layout.getParentPaneElem(e);return t?t.data("parentLayout"):null},getEventObject:function(e){return"object"==typeof e&&e.stopPropagation?e:null},parsePaneName:function(e){var t=$.layout.getEventObject(e),i=e;return t&&(t.stopPropagation(),i=$(this).data("layoutEdge")),i&&!/^(west|east|north|south|center)$/.test(i)&&($.layout.msg('LAYOUT ERROR - Invalid pane-name: "'+i+'"'),i="error"),i},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&($.effects.slide||$.effects.effect&&$.effects.effect.slide)}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(e){var t=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),i={width:t.css("width")-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),window.scrollbarWidth=i.width,window.scrollbarHeight=i.height,e.match(/^(width|height)$/)?i[e]:i},showInvisibly:function(e,t){if(e&&e.length&&(t||"none"===e.css("display"))){var i=e[0].style,n={display:i.display||"",visibility:i.visibility||""};return e.css({display:"block",visibility:"hidden"}),n}return{}},getElementDimensions:function(i,n){var a,o,s,r={css:{},inset:{}},l=r.css,d={bottom:0},e=$.layout.cssNum,t=i.offset();return r.offsetLeft=t.left,r.offsetTop=t.top,n||(n={}),$.each("Left,Right,Top,Bottom".split(","),function(e,t){a=l["border"+t]=$.layout.borderWidth(i,t),o=l["padding"+t]=$.layout.cssNum(i,"padding"+t),s=t.toLowerCase(),r.inset[s]=0<=n[s]?n[s]:o,d[s]=r.inset[s]+a}),l.width=i.width(),l.height=i.height(),l.top=e(i,"top",!0),l.bottom=e(i,"bottom",!0),l.left=e(i,"left",!0),l.right=e(i,"right",!0),r.outerWidth=i.outerWidth(),r.outerHeight=i.outerHeight(),r.innerWidth=max(0,r.outerWidth-d.left-d.right),r.innerHeight=max(0,r.outerHeight-d.top-d.bottom),r.layoutWidth=i.innerWidth(),r.layoutHeight=i.innerHeight(),r},getElementStyles:function(e,t){var i,n,a,o,s,r,l={},d=e[0].style,u=t.split(","),c="Top,Bottom,Left,Right".split(","),h="Color,Style,Width".split(",");for(o=0;o<u.length;o++)if((i=u[o]).match(/(border|padding|margin)$/))for(s=0;s<4;s++)if(n=c[s],"border"===i)for(r=0;r<3;r++)l[i+n+(a=h[r])]=d[i+n+a];else l[i+n]=d[i+n];else l[i]=d[i];return l},cssWidth:function(e,t){if(t<=0)return 0;var i=$.layout.browser.boxModel?$.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",n=$.layout.borderWidth,a=$.layout.cssNum,o=t;return"border-box"!==i&&(o-=n(e,"Left")+n(e,"Right")),"content-box"===i&&(o-=a(e,"paddingLeft")+a(e,"paddingRight")),max(0,o)},cssHeight:function(e,t){if(t<=0)return 0;var i=$.layout.browser.boxModel?$.support.boxSizing?e.css("boxSizing"):"content-box":"border-box",n=$.layout.borderWidth,a=$.layout.cssNum,o=t;return"border-box"!==i&&(o-=n(e,"Top")+n(e,"Bottom")),"content-box"===i&&(o-=a(e,"paddingTop")+a(e,"paddingBottom")),max(0,o)},cssNum:function(e,t,i){e.jquery||(e=$(e));var n=$.layout.showInvisibly(e),a=$.css(e[0],t,!0),o=i&&"auto"==a?a:Math.round(parseFloat(a)||0);return e.css(n),o},borderWidth:function(e,t){e.jquery&&(e=e[0]);var i="border"+t.substr(0,1).toUpperCase()+t.substr(1);return"none"===$.css(e,i+"Style",!0)?0:Math.round(parseFloat($.css(e,i+"Width",!0))||0)},isMouseOverElem:function(e,t){var i=$(t||this),n=i.offset(),a=n.top,o=n.left,s=o+i.outerWidth(),r=a+i.outerHeight(),l=e.pageX,d=e.pageY;return $.layout.browser.msie&&l<0&&d<0||o<=l&&l<=s&&a<=d&&d<=r},msg:function(e,t,i,n){function a(){var e=$.support.fixedPosition?"fixed":"absolute",t=$('<div id="layoutLogger" style="position: '+e+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);"><div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;"><span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div><ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul></div>').appendTo("body");return t.css("left",$(window).width()-t.outerWidth()-5),$.ui.draggable&&t.draggable({handle:":first-child"}),t}if($.isPlainObject(e)&&window.debugData){"string"==typeof t?(n=i,i=t):"object"==typeof i&&(n=i,i=null);var o=i||"log( <object> )",s=$.extend({sort:!1,returnHTML:!1,display:!1},n);!0===t||s.display?debugData(e,o,s):window.console&&console.log(debugData(e,o,s))}else if(t)alert(e);else if(window.console)console.log(e);else{var r=$("#layoutLogger");r.length||(r=a()),r.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+e.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")}}};var u=navigator.userAgent.toLowerCase(),m=/(chrome)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],b=m[1]||"",v=m[2]||0,ie="msie"===b;$.layout.browser={version:v,safari:"webkit"===b,webkit:"chrome"===b,msie:ie,isIE6:ie&&6==v,boxModel:!ie||!1!==$.support.boxModel},b&&($.layout.browser[b]=!0),ie&&$(function(){$.layout.browser.boxModel=$.support.boxModel}),$.layout.defaults={name:"",containerClass:"ui-layout-container",inset:null,scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,maskPanesEarly:!1,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button\nInvalid ",containerMissing:"UI Layout Initialization Error\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\nThe center-pane element does not exist.\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\nThe layout-container \"CONTAINER\" has no height.\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:!1,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,children:null,containerSelector:"",initChildren:!0,destroyChildren:!0,resizeChildren:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},$.layout.optionsMap={layout:"name,instanceKey,stateManagement,effects,inset,zIndexes,errors,zIndex,scrollToBookmarkOnLoad,showErrorMessages,maskPanesEarly,outset,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end".split(","),center:"paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,maskContents,maskObjects,liveContentResizing,containerSelector,children,initChildren,resizeChildren,destroyChildren,onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end".split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")},$.layout.transformData=function(e,t){var i,n,a,o,s,r,l,d=t?{panes:{},center:{}}:{};if("object"!=typeof e)return d;for(n in e)for(i=d,s=e[n],l=(a=n.split("__")).length-1,r=0;r<=l;r++)o=a[r],r===l?$.isPlainObject(s)?i[o]=$.layout.transformData(s):i[o]=s:(i[o]||(i[o]={}),i=i[o]);return d},$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",childOptions:"children",initChildLayout:"initChildren",destroyChildLayout:"destroyChildren",resizeChildLayout:"resizeChildren",resizeNestedLayout:"resizeChildren",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(r){function e(e,t){for(var i,n=e.split("."),a=n.length-1,o={branch:r,key:n[a]},s=0;s<a;s++)i=n[s],o.branch[i]==undefined?o.branch=t?o.branch[i]={}:{}:o.branch=o.branch[i];return o}var t,i,n,a=$.layout.backwardCompatibility.map;for(var o in a)(n=(t=e(o)).branch[t.key])!==undefined&&((i=e(a[o],!0)).branch[i.key]=n,delete t.branch[t.key])},renameAllOptions:function(i){var n=$.layout.backwardCompatibility.renameOptions;return n(i),i.defaults&&("object"!=typeof i.panes&&(i.panes={}),$.extend(!0,i.panes,i.defaults),delete i.defaults),i.panes&&n(i.panes),$.each($.layout.config.allPanes,function(e,t){i[t]&&n(i[t])}),i}},$.fn.layout=function(opts){function keyDown(e){if(!e)return!0;var i=e.keyCode;if(i<33)return!0;var n,a,o,s,t={38:"north",40:"south",37:"west",39:"east"},r=(e.altKey,e.shiftKey),l=e.ctrlKey;return l&&37<=i&&i<=40&&options[t[i]].enableCursorHotkey?s=t[i]:(l||r)&&$.each(_c.borderPanes,function(e,t){if(n=options[t],a=n.customHotkey,o=n.customHotkeyModifier,(r&&"SHIFT"==o||l&&"CTRL"==o||l&&r)&&a&&i===(isNaN(a)||a<=9?a.toUpperCase().charCodeAt(0):a))return s=t,!1}),!(s&&$Ps[s]&&options[s].closable&&!state[s].isHidden)||(toggle(s),e.stopPropagation(),e.returnValue=!1)}function allowOverflow(e){var t;if(isInitialized()&&(this&&this.tagName&&(e=this),isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){if($(this).data("layoutRole"))return t=$(this),!1}),t&&t.length)){var i=t.data("layoutEdge"),n=state[i];if(n.cssSaved&&resetOverflow(i),n.isSliding||n.isResizing||n.isClosed)n.cssSaved=!1;else{var a={zIndex:options.zIndexes.resizer_normal+1},o={},s=t.css("overflow"),r=t.css("overflowX"),l=t.css("overflowY");"visible"!=s&&(o.overflow=s,a.overflow="visible"),r&&!r.match(/(visible|auto)/)&&(o.overflowX=r,a.overflowX="visible"),l&&!l.match(/(visible|auto)/)&&(o.overflowY=r,a.overflowY="visible"),n.cssSaved=o,t.css(a),$.each(_c.allPanes,function(e,t){t!=i&&resetOverflow(t)})}}}function resetOverflow(e){var t;if(isInitialized()&&(this&&this.tagName&&(e=this),isStr(e)?t=$Ps[e]:$(e).data("layoutRole")?t=$(e):$(e).parents().each(function(){if($(this).data("layoutRole"))return t=$(this),!1}),t&&t.length)){var i=t.data("layoutEdge"),n=state[i],a=n.cssSaved||{};n.isSliding||n.isResizing||t.css("zIndex",options.zIndexes.pane_normal),t.css(a),n.cssSaved=!1}}var browser=$.layout.browser,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,styles=$.layout.getElementStyles,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(!0,{},$.layout.defaults),effects=options.effects=$.extend(!0,{},$.layout.effects),state={id:"layout"+$.now(),initialized:!1,paneResizing:!1,panesSliding:{},container:{innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,layoutWidth:0,layoutHeight:0},north:{childIdx:0},south:{childIdx:0},east:{childIdx:0},west:{childIdx:0},center:{childIdx:0}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(e,t,i){timer.clear(e),timer.data[e]=setTimeout(t,i)},clear:function(e){var t=timer.data;t[e]&&(clearTimeout(t[e]),delete t[e])}},_log=function(e,t,i){var n=options;return(n.showErrorMessages&&!i||i&&n.showDebugMessages)&&$.layout.msg(n.name+" / "+e,!1!==t),!1},_runCallbacks=function(evtName,pane,skipBoundEvents){function g(e){return e}var hasPane=pane&&isStr(pane),s=hasPane?state[pane]:state,o=hasPane?options[pane]:options,lName=options.name,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng]||o[shrt],retVal="NC",args=[],$P;if(hasPane||"boolean"!==$.type(pane)||(skipBoundEvents=pane,pane=""),fn)try{isStr(fn)&&(fn=fn.match(/,/)?(args=fn.split(","),eval(args[0])):eval(fn)),$.isFunction(fn)&&(retVal=args.length?g(fn)(args[1]):hasPane?g(fn)(pane,$Ps[pane],s,o,lName):g(fn)(Instance,s,o,lName))}catch(ex){_log(options.errors.callbackError.replace(/EVENT/,$.trim((pane||"")+" "+lng)),!1),"string"===$.type(ex)&&string.length&&_log("Exception:  "+ex,!1)}return skipBoundEvents||!1===retVal||(hasPane?($P=$Ps[pane],o=options[pane],s=state[pane],$P.triggerHandler("layoutpane"+lng,[pane,$P,s,o,lName]),shrt&&$P.triggerHandler("layoutpane"+shrt,[pane,$P,s,o,lName])):($N.triggerHandler("layout"+lng,[Instance,s,o,lName]),shrt&&$N.triggerHandler("layout"+shrt,[Instance,s,o,lName]))),hasPane&&"onresize_end"===evtName&&resizeChildren(pane+"",!0),retVal},_fixIframe=function(e){if(!browser.mozilla){var t=$Ps[e];"IFRAME"===state[e].tagName?t.css(_c.hidden).css(_c.visible):t.find("IFRAME").css(_c.hidden).css(_c.visible)}},cssSize=function(e,t){return("horz"==_c[e].dir?cssH:cssW)($Ps[e],t)},cssMinDims=function(e){var t=$Ps[e],i=_c[e].dir,n={minWidth:1001-cssW(t,1e3),minHeight:1001-cssH(t,1e3)};return"horz"===i&&(n.minSize=n.minHeight),"vert"===i&&(n.minSize=n.minWidth),n},setOuterWidth=function(e,t,i){var n,a=e;isStr(e
)?a=$Ps[e]:e.jquery||(a=$(e)),n=cssW(a,t),a.css({width:n}),0<n?i&&a.data("autoHidden")&&0<a.innerHeight()&&(a.show().data("autoHidden",!1),browser.mozilla||a.css(_c.hidden).css(_c.visible)):i&&!a.data("autoHidden")&&a.hide().data("autoHidden",!0)},setOuterHeight=function(e,t,i){var n,a=e;isStr(e)?a=$Ps[e]:e.jquery||(a=$(e)),n=cssH(a,t),a.css({height:n,visibility:"visible"}),0<n&&0<a.innerWidth()?i&&a.data("autoHidden")&&(a.show().data("autoHidden",!1),browser.mozilla||a.css(_c.hidden).css(_c.visible)):i&&!a.data("autoHidden")&&a.hide().data("autoHidden",!0)},_parseSize=function(e,t,i){if(i||(i=_c[e].dir),isStr(t)&&t.match(/%/)&&(t="100%"===t?-1:parseInt(t,10)/100),0===t)return 0;if(1<=t)return parseInt(t,10);var n=options,a=0;if("horz"==i?a=sC.innerHeight-($Ps.north?n.north.spacing_open:0)-($Ps.south?n.south.spacing_open:0):"vert"==i&&(a=sC.innerWidth-($Ps.west?n.west.spacing_open:0)-($Ps.east?n.east.spacing_open:0)),-1===t)return a;if(0<t)return round(a*t);if("center"==e)return 0;var o="horz"===i?"height":"width",s=$Ps[e],r="height"===o&&$Cs[e],l=$.layout.showInvisibly(s),d=s.css(o),u=r?r.css(o):0;return s.css(o,"auto"),r&&r.css(o,"auto"),t="height"===o?s.outerHeight():s.outerWidth(),s.css(o,d).css(l),r&&r.css(o,u),t},getPaneSize=function(e,t){var i=$Ps[e],n=options[e],a=state[e],o=t?n.spacing_open:0,s=t?n.spacing_closed:0;return!i||a.isHidden?0:a.isClosed||a.isSliding&&t?s:"horz"===_c[e].dir?i.outerHeight()+o:i.outerWidth()+o},setSizeLimits=function(e,t){if(isInitialized()){var i=options[e],n=state[e],a=_c[e],o=a.dir,s=(a.sizeType.toLowerCase(),t!=undefined?t:n.isSliding),r=($Ps[e],i.spacing_open),l=_c.oppositeEdge[e],d=state[l],u=$Ps[l],c=!u||!1===d.isVisible||d.isSliding?0:"horz"==o?u.outerHeight():u.outerWidth(),h=(!u||d.isHidden?0:options[l][!1!==d.isClosed?"spacing_closed":"spacing_open"])||0,p="horz"==o?sC.innerHeight:sC.innerWidth,g=cssMinDims("center"),f="horz"==o?max(options.center.minHeight,g.minHeight):max(options.center.minWidth,g.minWidth),m=p-r-(s?0:_parseSize("center",f,o)+c+h),_=n.minSize=max(_parseSize(e,i.minSize),cssMinDims(e).minSize),w=n.maxSize=min(i.maxSize?_parseSize(e,i.maxSize):1e5,m),b=n.resizerPosition={},v=sC.inset.top,y=sC.inset.left,k=sC.innerWidth,x=sC.innerHeight,C=i.spacing_open;switch(e){case"north":b.min=v+_,b.max=v+w;break;case"west":b.min=y+_,b.max=y+w;break;case"south":b.min=v+x-w-C,b.max=v+x-_-C;break;case"east":b.min=y+k-w-C,b.max=y+k-_-C}}},calcNewCenterPaneDims=function(){var e={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};return e.width=sC.innerWidth-e.left-e.right,e.height=sC.innerHeight-e.bottom-e.top,e.top+=sC.inset.top,e.bottom+=sC.inset.bottom,e.left+=sC.inset.left,e.right+=sC.inset.right,e},getHoverClasses=function(e,t){var i=$(e),n=i.data("layoutRole"),a=i.data("layoutEdge"),o=options[a][n+"Class"],s="-"+a,r="-open",l="-closed",d="-sliding",u="-hover ",c=i.hasClass(o+l)?l:r,h=c===l?r:l,p=o+u+(o+s+u)+(o+c+u)+(o+s+c+u);return t&&(p+=o+h+u+(o+s+h+u)),"resizer"==n&&i.hasClass(o+d)&&(p+=o+d+u+(o+s+d+u)),$.trim(p)},addHover=function(e,t){var i=$(t||this);e&&"toggler"===i.data("layoutRole")&&e.stopPropagation(),i.addClass(getHoverClasses(i))},removeHover=function(e,t){var i=$(t||this);i.removeClass(getHoverClasses(i,!0))},onResizerEnter=function(){var e=$(this).data("layoutEdge"),t=state[e];t.isClosed||t.isResizing||state.paneResizing||($.fn.disableSelection&&$("body").disableSelection(),options.maskPanesEarly&&showMasks(e,{resizing:!0}))},onResizerLeave=function(e,t){var i=t||this,n=$(i).data("layoutEdge"),a=n+"ResizerLeave";timer.clear(n+"_openSlider"),timer.clear(a),t?state.paneResizing||($.fn.enableSelection&&$("body").enableSelection(),options.maskPanesEarly&&hideMasks()):timer.set(a,function(){onResizerLeave(e,i)},200)},_create=function(){initOptions();var e=options,t=state;return t.creatingLayout=!0,runPluginCallbacks(Instance,$.layout.onCreate),!1===_runCallbacks("onload_start")?"cancel":(_initContainer(),initHotkeys(),$(window).bind("unload."+sID,unload),runPluginCallbacks(Instance,$.layout.onLoad),e.initPanes&&_initLayoutElements(),delete t.creatingLayout,state.initialized)},isInitialized=function(){return!(!state.initialized&&!state.creatingLayout)||_initLayoutElements()},_initLayoutElements=function(e){var t=options;if(!$N.is(":visible"))return!e&&browser.webkit&&"BODY"===$N[0].tagName&&setTimeout(function(){_initLayoutElements(!0)},50),!1;if(!getPane("center").length)return _log(t.errors.centerPaneMissing);if(state.creatingLayout=!0,$.extend(sC,elDims($N,t.inset)),initPanes(),t.scrollToBookmarkOnLoad){var i=self.location;i.hash&&i.replace(i.hash)}return Instance.hasParentLayout?t.resizeWithWindow=!1:t.resizeWithWindow&&$(window).bind("resize."+sID,windowResize),delete state.creatingLayout,state.initialized=!0,runPluginCallbacks(Instance,$.layout.onReady),_runCallbacks("onload_end"),!0},createChildren=function(e,t){var o=evtPane.call(this,e),i=$Ps[o];if(i){var n=$Cs[o],s=state[o],a=options[o],r=options.stateManagement||{},l=t?a.children=t:a.children;if($.isPlainObject(l))l=[l];else if(!l||!$.isArray(l))return;$.each(l,function(e,a){$.isPlainObject(a)&&(a.containerSelector?i.find(a.containerSelector):n||i).each(function(){var e=$(this),t=e.data("layout");if(!t){if(setInstanceKey({container:e,options:a},s),r.includeChildren&&state.stateData[o]){var i=(state.stateData[o].children||{})[a.instanceKey],n=a.stateManagement||(a.stateManagement={autoLoad:!0});!0===n.autoLoad&&i&&(n.autoSave=!1,n.includeChildren=!0,n.autoLoad=$.extend(!0,{},i))}(t=e.layout(a))&&refreshChildren(o,t)}})})}},setInstanceKey=function(e,t){var i=e.container,n=e.options,a=n.stateManagement,o=n.instanceKey||i.data("layoutInstanceKey");return o||(o=(a&&a.cookie?a.cookie.name:"")||n.name),o=o?o.replace(/[^\w-]/gi,"_").replace(/_{2,}/g,"_"):"layout"+ ++t.childIdx,n.instanceKey=o,i.data("layoutInstanceKey",o),o},refreshChildren=function(e,t){var i,n=$Ps[e],a=children[e],o=state[e];$.isPlainObject(a)&&($.each(a,function(e,t){t.destroyed&&delete a[e]}),$.isEmptyObject(a)&&(a=children[e]=null)),t||a||(t=n.data("layout")),t&&(t.hasParentLayout=!0,i=t.options,setInstanceKey(t,o),a||(a=children[e]={}),a[i.instanceKey]=t.container.data("layout")),Instance[e].children=children[e],t||createChildren(e)},windowResize=function(){var t=options,e=Number(t.resizeWithWindowDelay);e<10&&(e=100),timer.clear("winResize"),timer.set("winResize",function(){timer.clear("winResize"),timer.clear("winResizeRepeater");var e=elDims($N,t.inset);e.innerWidth===sC.innerWidth&&e.innerHeight===sC.innerHeight||resizeAll()},e),timer.data.winResizeRepeater||setWindowResizeRepeater()},setWindowResizeRepeater=function(){var e=Number(options.resizeWithWindowMaxDelay);0<e&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater(),resizeAll()},e)},unload=function(){_runCallbacks("onunload_start"),runPluginCallbacks(Instance,$.layout.onUnload),_runCallbacks("onunload_end")},_initContainer=function(){var e,t,i=$N[0],n=$("html"),a=sC.tagName=i.tagName,o=sC.id=i.id,s=sC.className=i.className,r=options,l=r.name,d="position,margin,padding,border",u="layoutCSS",c={},h="hidden",p=$N.data("parentLayout"),g=$N.data("layoutEdge"),f=p&&g,m=$.layout.cssNum;sC.selector=$N.selector.split(".slice")[0],sC.ref=(r.name?r.name+" layout / ":"")+a+(o?"#"+o:s?".["+s+"]":""),sC.isBody="BODY"===a,f||sC.isBody||(p=(e=$N.closest("."+$.layout.defaults.panes.paneClass)).data("parentLayout"),g=e.data("layoutEdge"),f=p&&g),$N.data({layout:Instance,layoutContainer:sID}).addClass(r.containerClass);var _={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(l in _)$N.bind("layout"+l.toLowerCase()+"."+sID,Instance[_[l]||l]);f&&(Instance.hasParentLayout=!0,p.refreshChildren(g,Instance)),$N.data(u)||(sC.isBody?($N.data(u,$.extend(styles($N,d),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")})),n.data(u,$.extend(styles(n,"padding"),{height:"auto",overflow:n.css("overflow"),overflowX:n.css("overflowX"),overflowY:n.css("overflowY")}))):$N.data(u,styles($N,d+",top,bottom,left,right,width,height,overflow,overflowX,overflowY")));try{if(c={overflow:h,overflowX:h,overflowY:h},$N.css(c),r.inset&&!$.isPlainObject(r.inset)&&(t=parseInt(r.inset,10)||0,r.inset={top:t,bottom:t,left:t,right:t}),sC.isBody)r.outset?$.isPlainObject(r.outset)||(t=parseInt(r.outset,10)||0,r.outset={top:t,bottom:t,left:t,right:t}):r.outset={top:m(n,"paddingTop"),bottom:m(n,"paddingBottom"),left:m(n,"paddingLeft"),right:m(n,"paddingRight")},n.css(c).css({height:"100%",border:"none",padding:0,margin:0}),browser.isIE6?($N.css({width:"100%",height:"100%",border:"none",padding:0,margin:0,position:"relative"}),r.inset||(r.inset=elDims($N).inset)):($N.css({width:"auto",height:"auto",margin:0,position:"absolute"}),$N.css(r.outset)),$.extend(sC,elDims($N,r.inset));else{var w=$N.css("position");w&&w.match(/(fixed|absolute|relative)/)||$N.css("position","relative"),$N.is(":visible")&&($.extend(sC,elDims($N,r.inset)),sC.innerHeight<1&&_log(r.errors.noContainerHeight.replace(/CONTAINER/,sC.ref)))}m($N,"minWidth")&&$N.parent().css("overflowX","auto"),m($N,"minHeight")&&$N.parent().css("overflowY","auto")}catch(b){}},initHotkeys=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=options[t];if(i.enableCursorHotkey||i.customHotkey)return $(document).bind("keydown."+sID,keyDown),!1})},initOptions=function(){function i(u){var c=options[u],h=options.panes;c.fxSettings||(c.fxSettings={}),h.fxSettings||(h.fxSettings={}),$.each(["_open","_close","_size"],function(e,t){var i="fxName"+t,n="fxSpeed"+t,a="fxSettings"+t,o=c[i]=c[i]||h[i]||c.fxName||h.fxName||"none",s=$.effects&&($.effects[o]||$.effects.effect&&$.effects.effect[o]);"none"!==o&&options.effects[o]&&s||(o=c[i]="none");var r=options.effects[o]||{},l=r.all||null,d=r[u]||null;c[n]=c[n]||h[n]||c.fxSpeed||h.fxSpeed||null,c[a]=$.extend(!0,{},l,d,h.fxSettings,c.fxSettings,h[a],c[a])}),delete c.fxName,delete c.fxSpeed,delete c.fxSettings}var n,a,o,e,t,s,r;if(opts=$.layout.transformData(opts,!0),opts=$.layout.backwardCompatibility.renameAllOptions(opts),!$.isEmptyObject(opts.panes)){for(n=$.layout.optionsMap.noDefault,t=0,s=n.length;t<s;t++)o=n[t],delete opts.panes[o];for(n=$.layout.optionsMap.layout,t=0,s=n.length;t<s;t++)o=n[t],delete opts.panes[o]}n=$.layout.optionsMap.layout;var l=$.layout.config.optionRootKeys;for(o in opts)e=opts[o],$.inArray(o,l)<0&&$.inArray(o,n)<0&&(opts.panes[o]||(opts.panes[o]=$.isPlainObject(e)?$.extend(!0,{},e):e),delete opts[o]);$.extend(!0,options,opts),$.each(_c.allPanes,function(e,t){if(_c[t]=$.extend(!0,{},_c.panes,_c[t]),a=options.panes,r=options[t],"center"===t)for(n=$.layout.optionsMap.center,e=0,s=n.length;e<s;e++)o=n[e],opts.center[o]||!opts.panes[o]&&r[o]||(r[o]=a[o]);else r=options[t]=$.extend(!0,{},a,r),i(t),r.resizerClass||(r.resizerClass="ui-layout-resizer"),r.togglerClass||(r.togglerClass="ui-layout-toggler");r.paneClass||(r.paneClass="ui-layout-pane")});var d=opts.zIndex,u=options.zIndexes;0<d&&(u.pane_normal=d,u.content_mask=max(d+1,u.content_mask),u.resizer_normal=max(d+2,u.resizer_normal)),delete options.panes},getPane=function(e){var t=options[e].paneSelector;if("#"===t.substr(0,1))return $N.find(t).eq(0);var i=$N.children(t).eq(0);return i.length?i:$N.children("form:first").children(t).eq(0)},initPanes=function(e){evtPane(e),$.each(_c.allPanes,function(e,t){addPane(t,!0)}),initHandles(),$.each(_c.borderPanes,function(e,t){$Ps[t]&&state[t].isVisible&&(setSizeLimits(t),makePaneFit(t))}),sizeMidPanes("center"),$.each(_c.allPanes,function(e,t){afterInitPane(t)})},addPane=function(e,t){if(t||isInitialized()){var i,n,a,o=options[e],s=state[e],r=_c[e],l=r.dir,d=(s.fx,o.spacing_open,"center"===e),u={},c=$Ps[e];if(c?removePane(e,!1,!0,!1):$Cs[e]=!1,(c=$Ps[e]=getPane(e)).length){if(!c.data("layoutCSS")){var h="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";c.data("layoutCSS",styles(c,h))}Instance[e]={name:e,pane:$Ps[e],content:$Cs[e],options:options[e],state:state[e],children:children[e]},c.data({parentLayout:Instance,layoutPane:Instance[e],layoutEdge:e,layoutRole:"pane"}).css(r.cssReq).css("zIndex",options.zIndexes.pane_normal).css(o.applyDemoStyles?r.cssDemo:{}).addClass(o.paneClass+" "+o.paneClass+"-"+e).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var p,g={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildren:"",resizeChildren:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"};for(p in g)c.bind("layoutpane"+p.toLowerCase()+"."+sID,Instance[g[p]||p]);initContent(e,!1),d||(i=s.size=_parseSize(e,o.size),n=_parseSize(e,o.minSize)||1,a=_parseSize(e,o.maxSize)||1e5,0<i&&(i=max(min(i,a),n)),s.autoResize=o.autoResize,s.isClosed=!1,s.isSliding=!1,s.isResizing=!1,s.isHidden=!1,s.pins||(s.pins=[])),s.tagName=c[0].tagName,s.edge=e,s.noRoom=!1,s.isVisible=!0,setPanePosition(e),"horz"===l?u.height=cssH(c,i):"vert"===l&&(u.width=cssW(c,i)),c.css(u),"horz"!=l&&sizeMidPanes(e,!0),state.initialized&&(initHandles(e),initHotkeys(e)),o.initClosed&&o.closable&&!o.initHidden?close(e,!0,!0):o.initHidden||o.initClosed?hide(e):s.noRoom||c.css("display","block"),c.css("visibility","visible"),o.showOverflowOnHover&&c.hover(allowOverflow,resetOverflow),state.initialized&&afterInitPane(e)}else $Ps[e]=!1}},afterInitPane=function(e){var t=$Ps[e],i=state[e],n=options[e];t&&(t.data("layout")&&refreshChildren(e,t.data("layout")),i.isVisible&&(state.initialized?resizeAll():sizeContent(e),n.triggerEventsOnLoad?_runCallbacks("onresize_end",e):resizeChildren(e,!0)),n.initChildren&&n.children&&createChildren(e))},setPanePosition=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=$Ps[t],n=$Rs[t],a=(options[t],state[t]),o=_c[t].side,s={};if(i){switch(t){case"north":s.top=sC.inset.top,s.left=sC.inset.left,s.right=sC.inset.right;break;case"south":s.bottom=sC.inset.bottom,s.left=sC.inset.left,s.right=sC.inset.right;break;case"west":s.left=sC.inset.left;break;case"east":s.right=sC.inset.right}i.css(s),n&&a.isClosed?n.css(o,sC.inset[o]):n&&!a.isHidden&&n.css(o,sC.inset[o]+getPaneSize(t))}})},initHandles=function(e){e=e?e.split(","):_c.borderPanes,$.each(e,function(e,t){var i=$Ps[t];if($Rs[t]=!1,$Ts[t]=!1,i){var n=options[t],a=state[t],o=(_c[t],"#"===n.paneSelector.substr(0,1)?n.paneSelector.substr(1):""),s=n.resizerClass,r=n.togglerClass,l=(a.isVisible?n.spacing_open:n.spacing_closed,"-"+t),d=(a.isVisible,Instance[t]),u=d.resizer=$Rs[t]=$("<div></div>"),c=d.toggler=!!n.closable&&($Ts[t]=$("<div></div>"));!a.isVisible&&n.slidable&&u.attr("title",n.tips.Slide).css("cursor",n.sliderCursor),u.attr("id",o?o+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(n.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(s+" "+s+l).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).appendTo($N),n.resizerDblClickToggle&&u.bind("dblclick."+sID,toggle),c&&(c.attr("id",o?o+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[t],layoutEdge:t,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(n.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(r+" "+r+l).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(u),n.togglerContent_open&&$("<span>"+n.togglerContent_open+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",t).addClass("content content-open").css("display","none").appendTo(c),n.togglerContent_closed&&$("<span>"+n.togglerContent_closed+"</span>").data({layoutEdge:t,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(c),enableClosable(t)),initResizable(t),a.isVisible?setAsOpen(t):(setAsClosed(t),bindStartSlidingEvents(t,!0))}}),sizeHandles()},initContent=function(e,t){if(isInitialized()){var i,n=options[e],a=n.contentSelector,o=Instance[e],s=$Ps[e];a&&(i=o.content=$Cs[e]=n.findNestedContent?s.find(a).eq(0):s.children(a).eq(0)),i&&i.length?(i.data("layoutRole","content"),i.data("layoutCSS")||i.data("layoutCSS",styles(i,"height")),i.css(_c.content.cssReq),n.applyDemoStyles&&(i.css(_c.content.cssDemo),s.css(_c.content.cssDemoPane)),s.css("overflowX").match(/(scroll|auto)/)&&s.css("overflow","hidden"),!(state[e].content={})!==t&&sizeContent(e)):o.content=$Cs[e]=!1}},initResizable=function(e){var b=$.layout.plugins.draggable;e=e?e.split(","):_c.borderPanes,$.each(e,function(e,n){var a=options[n];if(!b||!$Ps[n]||!a.resizable)return!(a.resizable=!1);var o,s,r=state[n],l=options.zIndexes,t=_c[n],d="horz"==t.dir?"top":"left",i=($Ps[n],$Rs[n]),u=a.resizerClass,c=0,h=u+"-drag",p=u+"-"+n+"-drag",g=u+"-dragging",f=u+"-"+n+"-dragging",m=u+"-dragging-limit",_=u+"-"+n+"-dragging-limit",w=!1;r.isClosed||i.attr("title",a.tips.Resize).css("cursor",a.resizerCursor),i.draggable({containment:$N[0],axis:"horz"==t.dir?"y":"x",delay:0,distance:1,grid:a.resizingGrid,helper:"clone",opacity:a.resizerDragOpacity,addClasses:!1,zIndex:l.resizer_drag,start:function(e,t){if(a=options[n],r=state[n],s=a.livePaneResizing,!1===_runCallbacks("ondrag_start",n))return!1;r.isResizing=!0,state.paneResizing=n,timer.clear(n+"_closeSlider"),setSizeLimits(n),o=r.resizerPosition,c=t.position[d],i.addClass(h+" "+p),w=!1,$("body").disableSelection(),showMasks(n,{resizing:!0})},drag:function(e,t){w||(t.helper.addClass(g+" "+f).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),w=!0,r.isSliding&&$Ps[n].css("zIndex",l.pane_sliding));var i=0;t.position[d]<o.min?(t.position[d]=o.min,i=-1):t.position[d]>o.max&&(t.position[d]=o.max,i=1),window.defaultStatus=i?(t.helper.addClass(m+" "+_),0<i&&n.match(/(north|west)/)||i<0&&n.match(/(south|east)/)?a.tips.maxSizeWarning:a.tips.minSizeWarning):(t.helper.removeClass(m+" "+_),""),s&&Math.abs(t.position[d]-c)>=a.liveResizingTolerance&&(c=t.position[d],v(e,t,n))},stop:function(e,t){$("body").enableSelection(),window.defaultStatus="",i.removeClass(h+" "+p),r.isResizing=!1,state.paneResizing=!1,v(e,t,n,!0)}})});var v=function(e,t,i,n){var a,o=t.position,s=_c[i],r=options[i],l=state[i];switch(i){case"north":a=o.top;break;case"west":a=o.left;break;case"south":a=sC.layoutHeight-o.top-r.spacing_open;break;case"east":a=sC.layoutWidth-o.left-r.spacing_open}var d=a-sC.inset[s.side];if(n)!1!==_runCallbacks("ondrag_end",i)&&manualSizePane(i,d,!1,!0),hideMasks(!0),l.isSliding&&showMasks(i,{resizing:!0});else{if(Math.abs(d-l.size)<r.liveResizingTolerance)return;manualSizePane(i,d,!1,!0),sizeMasks()}}},sizeMask=function(){var e=$(this),t=e.data("layoutMask"),i=state[t];"IFRAME"==i.tagName&&i.isVisible&&e.css({top:i.offsetTop,left:i.offsetLeft,width:i.outerWidth,height:i.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(e,t){var i,n,a=_c[e],o=["center"],s=options.zIndexes,r=$.extend({objectsOnly:!1,animation:!1,resizing:!0,sliding:state[e].isSliding},t);r.resizing&&o.push(e),r.sliding&&o.push(_c.oppositeEdge[e]),"horz"===a.dir&&(o.push("west"),o.push("east")),$.each(o,function(e,t){n=state[t],i=options[t],n.isVisible&&(i.maskObjects||!r.objectsOnly&&i.maskContents)&&getMasks(t).each(function(){sizeMask.call(this),this.style.zIndex=n.isSliding?s.pane_sliding+1:s.pane_normal+1,this.style.display="block"})})},hideMasks=function(e){if(e||!state.paneResizing)$Ms.hide();else if(!e&&!$.isEmptyObject(state.panesSliding))for(var t,i,n=$Ms.length-1;0<=n;n--)t=(i=$Ms.eq(n)).data("layoutMask"),options[t].maskObjects||i.hide()},getMasks=function(e){for(var t,i=$([]),n=0,a=$Ms.length;n<a;n++)(t=$Ms.eq(n)).data("layoutMask")===e&&(i=i.add(t));return i.length?i:createMasks(e)},createMasks=function(e){var t,i,n,a,o,s=$Ps[e],r=state[e],l=options[e],d=options.zIndexes,u=$([]);if(!l.maskContents&&!l.maskObjects)return u;for(o=0;o<(l.maskObjects?2:1);o++)t=l.maskObjects&&0==o,i=document.createElement(t?"iframe":"div"),n=$(i).data("layoutMask",e),i.className="ui-layout-mask ui-layout-mask-"+e,(a=i.style).display="block",a.position="absolute",a.background="#FFF",t&&(i.frameborder=0,i.src="about:blank",a.opacity=0,a.filter="Alpha(Opacity='0')",a.border=0),"IFRAME"==r.tagName?(a.zIndex=d.pane_normal+1,$N.append(i)):(n.addClass("ui-layout-mask-inside-pane"),a.zIndex=l.maskZindex||d.content_mask,a.top=0,a.left=0,a.width="100%",a.height="100%",s.append(i)),u=u.add(i),$Ms=$Ms.add(i);return u},destroy=function(e,i){$(window).unbind("."+sID),$(document).unbind("."+sID),"object"==typeof e?evtPane(e):i=e,$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID),$Ms.remove(),$.each(_c.allPanes,function(e,t){removePane(t,!1,!0,i)});var t="layoutCSS";for(var n in $N.data(t)&&!$N.data("layoutRole")&&$N.css($N.data(t)).removeData(t),"BODY"===sC.tagName&&($N=$("html")).data(t)&&$N.css($N.data(t)).removeData(t),runPluginCallbacks(Instance,$.layout.onDestroy),unload(),Instance)n.match(/^(container|options)$/)||delete Instance[n];return Instance.destroyed=!0,Instance},removePane=function(e,t,i,n){if(isInitialized()){var a=evtPane.call(this,e),o=$Ps[a],s=$Cs[a],r=$Rs[a],l=$Ts[a];o&&$.isEmptyObject(o.data())&&(o=!1),s&&$.isEmptyObject(s.data())&&(s=!1),r&&$.isEmptyObject(r.data())&&(r=!1),l&&$.isEmptyObject(l.data())&&(l=!1),o&&o.stop(!0,!0);var d=options[a],u=(state[a],"layout"),c="layoutCSS",h=children[a],p=$.isPlainObject(h)&&!$.isEmptyObject(h),g=n!==undefined?n:d.destroyChildren;if(p&&g&&($.each(h,function(e,t){t.destroyed||t.destroy(!0),t.destroyed&&delete h[e]}),$.isEmptyObject(h)&&(h=children[a]=null,p=!1)),o&&t&&!p)o.remove();else if(o&&o[0]){var f=d.paneClass,m=f+"-"+a,_="-open",w="-sliding",b="-closed",v=[f,f+_,f+b,f+w,m,m+_,m+b,m+w];$.merge(v,getHoverClasses(o,!0)),o.removeClass(v.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID),p&&s?(s.width(s.width()),$.each(h,function(e,t){t.resizeAll()})):s&&s.css(s.data(c)).removeData(c).removeData("layoutRole"),o.data(u)||o.css(o.data(c)).removeData(c)}l&&l.remove(),r&&r.remove(),Instance[a]=$Ps[a]=$Cs[a]=$Rs[a]=$Ts[a]=!1,{removed:!0},i||resizeAll()}},_hidePane=function(e){var t=$Ps[e],i=options[e],n=t[0].style;i.useOffscreenClose?(t.data(_c.offscreenReset)||t.data(_c.offscreenReset,{left:n.left,right:n.right}),t.css(_c.offscreenCSS)):t.hide().removeData(_c.offscreenReset)},_showPane=function(e){var t=$Ps[e],i=options[e],n=_c.offscreenCSS,a=t.data(_c.offscreenReset),o=t[0].style;t.show().removeData(_c.offscreenReset),i.useOffscreenClose&&a&&(o.left==n.left&&(o.left=a.left),o.right==n.right&&(o.right=a.right))},hide=function(e,t){if(isInitialized()){var i=evtPane.call(this,e),n=options[i],a=state[i],o=$Ps[i],s=$Rs[i];o&&!a.isHidden&&(state.initialized&&!1===_runCallbacks("onhide_start",i)||(a.isSliding=!1,delete state.panesSliding[i],s&&s.hide(),!state.initialized||a.isClosed?(a.isClosed=!0,a.isHidden=!0,a.isVisible=!1,state.initialized||_hidePane(i),sizeMidPanes("horz"===_c[i].dir?"":"center"),(state.initialized||n.triggerEventsOnLoad)&&_runCallbacks("onhide_end",i)):(a.isHiding=!0,close(i,!1,t))))}},show=function(e,t,i,n){if(isInitialized()){var a=evtPane.call(this,e),o=(options[a],state[a]),s=$Ps[a];$Rs[a];s&&o.isHidden&&!1!==_runCallbacks("onshow_start",a)&&(o.isShowing=!0,o.isSliding=!1,delete state.panesSliding[a],!1===t?close(a,!0):open(a,!1,i,n))}},toggle=function(e,t){if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),a=state[n];i&&i.stopImmediatePropagation(),a.isHidden?show(n):a.isClosed?open(n,!!t):close(n)}},_closePane=function(e,t){$Ps[e];var i=state[e];_hidePane(e),i.isClosed=!0,i.isVisible=!1,t&&setAsClosed(e)},close=function(e,i,n,t){function a(){c.isMoving=!1,bindStartSlidingEvents(o,!0);var e=_c.oppositeEdge[o];state[e].noRoom&&(setSizeLimits(e),makePaneFit(e)),t||!state.initialized&&!u.triggerEventsOnLoad||(r||_runCallbacks("onclose_end",o),r&&_runCallbacks("onshow_end",o),l&&_runCallbacks("onhide_end",o))}var o=evtPane.call(this,e);if(state.initialized||!$Ps[o]){if(isInitialized()){var s,r,l,d=$Ps[o],u=($Rs[o],$Ts[o],options[o]),c=state[o];_c[o];$N.queue(function(e){if(!d||!u.closable&&!c.isShowing&&!c.isHiding||!i&&c.isClosed&&!c.isShowing)return e();var t=!c.isShowing&&!1===_runCallbacks("onclose_start",o);if(r=c.isShowing,l=c.isHiding,c.isSliding,delete c.isShowing,delete c.isHiding,t)return e();s=!n&&!c.isClosed&&"none"!=u.fxName_close,c.isMoving=!0,c.isClosed=!0,c.isVisible=!1,l?c.isHidden=!0:r&&(c.isHidden=!1),c.isSliding?bindStopSlidingEvents(o,!1):sizeMidPanes("horz"===_c[o].dir?"":"center",!1),setAsClosed(o),s?(lockPaneForFX(o,!0),d.hide(u.fxName_close,u.fxSettings_close,u.fxSpeed_close,function(){lockPaneForFX(o,!1),c.isClosed&&a(),e()})):(_hidePane(o),a(),e())})}}else _closePane(o,!0)},setAsClosed=function(e){if($Rs[e]){$Ps[e];var t=$Rs[e],i=$Ts[e],n=options[e],a=(state[e],_c[e].side),o=n.resizerClass,s=n.togglerClass,r="-"+e,l="-open",d="-sliding",u="-closed";t.css(a,sC.inset[a]).removeClass(o+l+" "+o+r+l).removeClass(o+d+" "+o+r+d).addClass(o+u+" "+o+r+u),n.resizable&&$.layout.plugins.draggable&&t.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),i&&(i.removeClass(s+l+" "+s+r+l).addClass(s+u+" "+s+r+u).attr("title",n.tips.Open),i.children(".content-open").hide(),i.children(".content-closed").css("display","block")),syncPinBtns(e,!1),state.initialized&&sizeHandles()}},open=function(e,i,n,a){function o(){c.isMoving=!1,_fixIframe(l),c.isSliding||sizeMidPanes("vert"==_c[l].dir?"center":"",!1),setAsOpen(l)}if(isInitialized()){var s,r,l=evtPane.call(this,e),d=$Ps[l],u=($Rs[l],$Ts[l],options[l]),c=state[l];_c[l];$N.queue(function(e){if(!d||!u.resizable&&!u.closable&&!c.isShowing||c.isVisible&&!c.isSliding)return e();if(c.isHidden&&!c.isShowing)return e(),void show(l,!0);c.autoResize&&c.size!=u.size?sizePane(l,u.size,!0,!0,!0):setSizeLimits(l,i);var t=_runCallbacks("onopen_start",l);return"abort"===t?e():("NC"!==t&&setSizeLimits(l,i),c.minSize>c.maxSize?(syncPinBtns(l,!1),!a&&u.tips.noRoomToOpen&&alert(u.tips.noRoomToOpen),e()):(i?bindStopSlidingEvents(l,!0):c.isSliding?bindStopSlidingEvents(l,!1):u.slidable&&bindStartSlidingEvents(l,!1),c.noRoom=!1,makePaneFit(l),r=c.isShowing,delete c.isShowing,s=!n&&c.isClosed&&"none"!=u.fxName_open,c.isMoving=!0,c.isVisible=!0,c.isClosed=!1,r&&(c.isHidden=!1),void(s?(lockPaneForFX(l,!0),d.show(u.fxName_open,u.fxSettings_open,u.fxSpeed_open,function(){lockPaneForFX(l,!1),c.isVisible&&o(),e()})):(_showPane(l),o(),e()))))})}},setAsOpen=function(e,t){var i=$Ps[e],n=$Rs[e],a=$Ts[e],o=options[e],s=state[e],r=_c[e].side,l=o.resizerClass,d=o.togglerClass,u="-"+e,c="-open",h="-closed",p="-sliding";n.css(r,sC.inset[r]+getPaneSize(e)).removeClass(l+h+" "+l+u+h).addClass(l+c+" "+l+u+c),s.isSliding?n.addClass(l+p+" "+l+u+p):n.removeClass(l+p+" "+l+u+p),removeHover(0,n),o.resizable&&$.layout.plugins.draggable?n.draggable("enable").css("cursor",o.resizerCursor).attr("title",o.tips.Resize):s.isSliding||n.css("cursor","default"),a&&(a.removeClass(d+h+" "+d+u+h).addClass(d+c+" "+d+u+c).attr("title",o.tips.Close),removeHover(0,a),a.children(".content-closed").hide(),a.children(".content-open").css("display","block")),syncPinBtns(e,!s.isSliding),$.extend(s,elDims(i)),state.initialized&&(sizeHandles(),sizeContent(e,!0)),!t&&(state.initialized||o.triggerEventsOnLoad)&&i.is(":visible")&&(_runCallbacks("onopen_end",e),s.isShowing&&_runCallbacks("onshow_end",e),state.initialized&&_runCallbacks("onresize_end",e))},slideOpen=function(e){function t(){a.isClosed?a.isMoving||open(n,!0):bindStopSlidingEvents(n,!0)}if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),a=state[n],o=options[n].slideDelay_open;i&&i.stopImmediatePropagation(),a.isClosed&&i&&"mouseenter"===i.type&&0<o?timer.set(n+"_openSlider",t,o):t()}},slideClose=function(e){function t(){o.isClosed?bindStopSlidingEvents(n,!1):o.isMoving||close(n)}if(isInitialized()){var i=evtObj(e),n=evtPane.call(this,e),a=options[n],o=state[n],s=o.isMoving?1e3:300;if(!o.isClosed&&!o.isResizing)if("click"===a.slideTrigger_close)t();else{if(a.preventQuickSlideClose&&o.isMoving)return;if(a.preventPrematureSlideClose&&i&&$.layout.isMouseOverElem(i,$Ps[n]))return;i?timer.set(n+"_closeSlider",t,max(a.slideDelay_close,s)):t()}}},slideToggle=function(e){var t=evtPane.call(this,e);toggle(t,!0)},lockPaneForFX=function(e,t){var i=$Ps[e],n=state[e],a=options[e],o=options.zIndexes;t?(showMasks(e,{animation:!0,objectsOnly:!0}),i.css({zIndex:o.pane_animate}),"south"==e?i.css({top:sC.inset.top+sC.innerHeight-i.outerHeight()}):"east"==e&&i.css({left:sC.inset.left+sC.innerWidth-i.outerWidth()})):(hideMasks(),i.css({zIndex:n.isSliding?o.pane_sliding:o.pane_normal}),"south"==e?i.css({top:"auto"}):"east"!=e||i.css("left").match(/\-99999/)||i.css({left:"auto"}),browser.msie&&a.fxOpacityFix&&"slide"!=a.fxName_open&&i.css("filter")&&1==i.css("opacity")&&i[0].style.removeAttribute("filter"))},bindStartSlidingEvents=function(e,t){var i=options[e],n=($Ps[e],$Rs[e]),a=i.slideTrigger_open.toLowerCase();!n||t&&!i.slidable||(a.match(/mouseover/)?a=i.slideTrigger_open="mouseenter":a.match(/(click|dblclick|mouseenter)/)||(a=i.slideTrigger_open="click"),i.resizerDblClickToggle&&a.match(/click/)&&n[t?"unbind":"bind"]("dblclick."+sID,toggle),n[t?"bind":"unbind"](a+"."+sID,slideOpen).css("cursor",t?i.sliderCursor:"default").attr("title",t?i.tips.Slide:""))},bindStopSlidingEvents=function(t,e){function i(e){timer.clear(t+"_closeSlider"),e.stopPropagation()}var n=options[t],a=state[t],o=(_c[t],options.zIndexes),s=n.slideTrigger_close.toLowerCase(),r=e?"bind":"unbind",l=$Ps[t],d=$Rs[t];timer.clear(t+"_closeSlider"),e?(a.isSliding=!0,state.panesSliding[t]=!0,bindStartSlidingEvents(t,!1)):(a.isSliding=!1,delete state.panesSliding[t]),l.css("zIndex",e?o.pane_sliding:o.pane_normal),d.css("zIndex",e?o.pane_sliding+2:o.resizer_normal),s.match(/(click|mouseleave)/)||(s=n.slideTrigger_close="mouseleave"),d[r](s,slideClose),"mouseleave"===s&&(l[r]("mouseleave."+sID,slideClose),d[r]("mouseenter."+sID,i),l[r]("mouseenter."+sID,i)),e?"click"!==s||n.resizable||(d.css("cursor",e?n.sliderCursor:"default"),d.attr("title",e?n.tips.Close:"")):timer.clear(t+"_closeSlider")},makePaneFit=function(e,t,i,n){var a=options[e],o=state[e],s=_c[e],r=$Ps[e],l=$Rs[e],d="vert"===s.dir,u=!1;if(("center"===e||d&&o.noVerticalRoom)&&((u=0<=o.maxHeight)&&o.noRoom?(_showPane(e),l&&l.show(),o.isVisible=!0,o.noRoom=!1,d&&(o.noVerticalRoom=!1),_fixIframe(e)):u||o.noRoom||(_hidePane(e),l&&l.hide(),o.isVisible=!1,o.noRoom=!0)),"center"===e);else if(o.minSize<=o.maxSize){if(u=!0,o.size>o.maxSize)sizePane(e,o.maxSize,i,!0,n);else if(o.size<o.minSize)sizePane(e,o.minSize,i,!0,n);else if(l&&o.isVisible&&r.is(":visible")){var c=o.size+sC.inset[s.side];$.layout.cssNum(l,s.side)!=c&&l.css(s.side,c)}o.noRoom&&(o.wasOpen&&a.closable?a.autoReopen?open(e,!1,!0,!0):o.noRoom=!1:show(e,o.wasOpen,!0,!0))}else o.noRoom||(o.noRoom=!0,o.wasOpen=!o.isClosed&&!o.isSliding,o.isClosed||(a.closable?close(e,!0,!0):hide(e,!0)))},manualSizePane=function(e,t,i,n,a){if(isInitialized()){var o=evtPane.call(this,e),s=options[o],r=state[o],l=a||s.livePaneResizing&&!r.isResizing;r.autoResize=!1,sizePane(o,t,i,n,l)}},sizePane=function(e,s,r,t,l){function o(){for(var e="width"===_?g.outerWidth():g.outerHeight(),t=[{pane:c,count:1,target:s,actual:e,correct:s===e,attempt:s,cssSize:u}],i=t[0],n={},a="Inaccurate size after resizing the "+c+"-pane.";!(i.correct||(n={pane:c,count:i.count+1,target:s},i.actual>s?n.attempt=max(0,i.attempt-(i.actual-s)):n.attempt=max(0,i.attempt+(s-i.actual)),n.cssSize=cssSize(c,n.attempt),g.css(_,n.cssSize),n.actual="width"==_?g.outerWidth():g.outerHeight(),n.correct=s===n.actual,1===t.length&&(_log(a,!1,!0),_log(i,!1,!0)),_log(n,!1,!0),3<t.length));)t.push(n),i=t[t.length-1];p.size=s,$.extend(p,elDims(g)),p.isVisible&&g.is(":visible")&&(f&&f.css(m,s+sC.inset[m]),sizeContent(c)),!r&&!w&&state.initialized&&p.isVisible&&_runCallbacks("onresize_end",c),r||(p.isSliding||sizeMidPanes("horz"==_c[c].dir?"":"center",w,l),sizeHandles());var o=_c.oppositeEdge[c];s<d&&state[o].noRoom&&(setSizeLimits(o),makePaneFit(o,!1,r)),1<t.length&&_log(a+"\nSee the Error Console for details.",!0,!0)}if(isInitialized()){var d,u,c=evtPane.call(this,e),h=options[c],p=state[c],g=$Ps[c],f=$Rs[c],m=_c[c].side,
_=_c[c].sizeType.toLowerCase(),w=p.isResizing&&!h.triggerEventsDuringLiveResize,b=!0!==t&&h.animatePaneSizing;$N.queue(function(e){if(setSizeLimits(c),d=p.size,s=_parseSize(c,s),s=max(s,_parseSize(c,h.minSize)),(s=min(s,p.maxSize))<p.minSize)return e(),void makePaneFit(c,!1,r);if(!l&&s===d)return e();if(p.newSize=s,!r&&state.initialized&&p.isVisible&&_runCallbacks("onresize_start",c),u=cssSize(c,s),b&&g.is(":visible")){var t=$.layout.effects.size[c]||$.layout.effects.size.all,i=h.fxSettings_size.easing||t.easing,n=options.zIndexes,a={};a[_]=u+"px",p.isMoving=!0,g.css({zIndex:n.pane_animate}).show().animate(a,h.fxSpeed_size,i,function(){g.css({zIndex:p.isSliding?n.pane_sliding:n.pane_normal}),p.isMoving=!1,delete p.newSize,o(),e()})}else g.css(_,u),delete p.newSize,g.is(":visible")?o():(p.size=s,$.extend(p,elDims(g))),e()})}},sizeMidPanes=function(e,_,w){e=(e||"east,west,center").split(","),$.each(e,function(e,t){if($Ps[t]){var i=options[t],n=state[t],a=$Ps[t],o=($Rs[t],!0),s={},r=$.layout.showInvisibly(a),l=calcNewCenterPaneDims();if($.extend(n,elDims(a)),"center"===t){if(!w&&n.isVisible&&l.width===n.outerWidth&&l.height===n.outerHeight)return a.css(r),!0;if($.extend(n,cssMinDims(t),{maxWidth:l.width,maxHeight:l.height}),s=l,n.newWidth=s.width,n.newHeight=s.height,s.width=cssW(a,s.width),s.height=cssH(a,s.height),o=0<=s.width&&0<=s.height,!state.initialized&&i.minWidth>l.width){var d=i.minWidth-n.outerWidth,u=options.east.minSize||0,c=options.west.minSize||0,h=state.east.size,p=state.west.size,g=h,f=p;if(0<d&&state.east.isVisible&&u<h&&(d-=h-(g=max(h-u,h-d))),0<d&&state.west.isVisible&&c<p&&(d-=p-(f=max(p-c,p-d))),0===d)return h&&h!=u&&sizePane("east",g,!0,!0,w),p&&p!=c&&sizePane("west",f,!0,!0,w),sizeMidPanes("center",_,w),void a.css(r)}}else{if(n.isVisible&&!n.noVerticalRoom&&$.extend(n,elDims(a),cssMinDims(t)),!w&&!n.noVerticalRoom&&l.height===n.outerHeight)return a.css(r),!0;s.top=l.top,s.bottom=l.bottom,n.newSize=l.height,s.height=cssH(a,l.height),n.maxHeight=s.height,(o=0<=n.maxHeight)||(n.noVerticalRoom=!0)}if(o?(!_&&state.initialized&&_runCallbacks("onresize_start",t),a.css(s),"center"!==t&&sizeHandles(t),!n.noRoom||n.isClosed||n.isHidden||makePaneFit(t),n.isVisible&&($.extend(n,elDims(a)),state.initialized&&sizeContent(t))):!n.noRoom&&n.isVisible&&makePaneFit(t),a.css(r),delete n.newSize,delete n.newWidth,delete n.newHeight,!n.isVisible)return!0;if("center"===t){var m=browser.isIE6||!browser.boxModel;$Ps.north&&(m||"IFRAME"==state.north.tagName)&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth)),$Ps.south&&(m||"IFRAME"==state.south.tagName)&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}!_&&state.initialized&&_runCallbacks("onresize_end",t)}})},resizeAll=function(e){var t=sC.innerWidth,i=sC.innerHeight;if(evtPane(e),$N.is(":visible"))if(state.initialized){if(!0===e&&$.isPlainObject(options.outset)&&$N.css(options.outset),$.extend(sC,elDims($N,options.inset)),sC.outerHeight){if(!0===e&&setPanePosition(),!1===_runCallbacks("onresizeall_start"))return!1;var n,a;sC.innerHeight,sC.innerWidth;$.each(["south","north","east","west"],function(e,t){$Ps[t]&&(n=options[t],(a=state[t]).autoResize&&a.size!=n.size?sizePane(t,n.size,!0,!0,!0):(setSizeLimits(t),makePaneFit(t,!1,!0,!0)))}),sizeMidPanes("",!0,!0),sizeHandles(),$.each(_c.allPanes,function(e,t){$Ps[t]&&state[t].isVisible&&_runCallbacks("onresize_end",t)}),_runCallbacks("onresizeall_end")}}else _initLayoutElements()},resizeChildren=function(e,t){var i=evtPane.call(this,e);if(options[i].resizeChildren){t||refreshChildren(i);var n=children[i];$.isPlainObject(n)&&$.each(n,function(e,t){t.destroyed||t.resizeAll()})}},sizeContent=function(e,u){if(isInitialized()){var t=evtPane.call(this,e);t=t?t.split(","):_c.allPanes,$.each(t,function(e,a){function o(e){return max(r.css.paddingBottom,parseInt(e.css("marginBottom"),10)||0)}function t(){var e=options[a].contentIgnoreSelector,t=s.nextAll().not(".ui-layout-mask").not(e||":lt(0)"),i=t.filter(":visible"),n=i.filter(":last");(l={top:s[0].offsetTop,height:s.outerHeight(),numFooters:t.length,hiddenFooters:t.length-i.length,spaceBelow:0}).spaceAbove=l.top,l.bottom=l.top+l.height,n.length?l.spaceBelow=n[0].offsetTop+n.outerHeight()-l.bottom+o(n):l.spaceBelow=o(s)}var i=$Ps[a],s=$Cs[a],n=options[a],r=state[a],l=r.content;if(!i||!s||!i.is(":visible"))return!0;if((s.length||(initContent(a,!1),s))&&!1!==_runCallbacks("onsizecontent_start",a)){(!r.isMoving&&!r.isResizing||n.liveContentResizing||u||l.top==undefined)&&(t(),0<l.hiddenFooters&&"hidden"===i.css("overflow")&&(i.css("overflow","visible"),t(),i.css("overflow","hidden")));var d=r.innerHeight-(l.spaceAbove-r.css.paddingTop)-(l.spaceBelow-r.css.paddingBottom);s.is(":visible")&&l.height==d||(setOuterHeight(s,d,!0),l.height=d),state.initialized&&_runCallbacks("onsizecontent_end",a)}})}},sizeHandles=function(e){var t=evtPane.call(this,e);t=t?t.split(","):_c.borderPanes,$.each(t,function(e,t){var i,n=options[t],a=state[t],o=$Ps[t],s=$Rs[t],r=$Ts[t];if(o&&s){var l,d,u,c=_c[t].dir,h=a.isClosed?"_closed":"_open",p=n["spacing"+h],g=n["togglerAlign"+h],f=n["togglerLength"+h];if(0!==p){if(a.noRoom||a.isHidden||s.show(),"horz"===c?(l=sC.innerWidth,a.resizerLength=l,d=$.layout.cssNum(o,"left"),s.css({width:cssW(s,l),height:cssH(s,p),left:-9999<d?d:sC.inset.left})):(l=o.outerHeight(),a.resizerLength=l,s.css({height:cssH(s,l),width:cssW(s,p),top:sC.inset.top+getPaneSize("north",!0)})),removeHover(n,s),r){if(0===f||a.isSliding&&n.hideTogglerOnSlide)return void r.hide();if(r.show(),!(0<f)||"100%"===f||l<f)f=l,u=0;else if(isStr(g))switch(g){case"top":case"left":u=0;break;case"bottom":case"right":u=l-f;break;case"middle":case"center":default:u=round((l-f)/2)}else{var m=parseInt(g,10);u=0<=g?m:l-f+m}if("horz"===c){var _=cssW(r,f);r.css({width:_,height:cssH(r,p),left:u,top:0}),r.children(".content").each(function(){(i=$(this)).css("marginLeft",round((_-i.outerWidth())/2))})}else{var w=cssH(r,f);r.css({height:w,width:cssW(r,p),top:u,left:0}),r.children(".content").each(function(){(i=$(this)).css("marginTop",round((w-i.outerHeight())/2))})}removeHover(0,r)}state.initialized||!n.initHidden&&!a.isHidden||(s.hide(),r&&r.hide())}else s.hide()}})},enableClosable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Ts[t],n=options[t];i&&(n.closable=!0,i.bind("click."+sID,function(e){e.stopPropagation(),toggle(t)}).css("visibility","visible").css("cursor","pointer").attr("title",state[t].isClosed?n.tips.Open:n.tips.Close).show())}},disableClosable=function(e,t){if(isInitialized()){var i=evtPane.call(this,e),n=$Ts[i];n&&(options[i].closable=!1,state[i].isClosed&&open(i,!1,!0),n.unbind("."+sID).css("visibility",t?"hidden":"visible").css("cursor","default").attr("title",""))}},enableSlidable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&i.data("draggable")&&(options[t].slidable=!0,state[t].isClosed&&bindStartSlidingEvents(t,!0))}},disableSlidable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&(options[t].slidable=!1,state[t].isSliding?close(t,!1,!0):(bindStartSlidingEvents(t,!1),i.css("cursor","default").attr("title",""),removeHover(null,i[0])))}},enableResizable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t],n=options[t];i&&i.data("draggable")&&(n.resizable=!0,i.draggable("enable"),state[t].isClosed||i.css("cursor",n.resizerCursor).attr("title",n.tips.Resize))}},disableResizable=function(e){if(isInitialized()){var t=evtPane.call(this,e),i=$Rs[t];i&&i.data("draggable")&&(options[t].resizable=!1,i.draggable("disable").css("cursor","default").attr("title",""),removeHover(null,i[0]))}},swapPanes=function(e,t){function i(e){var t=$Ps[e],i=$Cs[e];return!!t&&{pane:e,P:!!t&&t[0],C:!!i&&i[0],state:$.extend(!0,{},state[e]),options:$.extend(!0,{},options[e])}}function n(e,t){if(e){var i,n,a=e.P,o=e.C,s=e.pane,r=_c[t],l=$.extend(!0,{},state[t]),d=options[t],u={resizerCursor:d.resizerCursor};$.each("fxName,fxSpeed,fxSettings".split(","),function(e,t){u[t+"_open"]=d[t+"_open"],u[t+"_close"]=d[t+"_close"],u[t+"_size"]=d[t+"_size"]}),$Ps[t]=$(a).data({layoutPane:Instance[t],layoutEdge:t}).css(_c.hidden).css(r.cssReq),$Cs[t]=!!o&&$(o),options[t]=$.extend(!0,{},e.options,u),state[t]=$.extend(!0,{},e.state),i=new RegExp(d.paneClass+"-"+s,"g"),a.className=a.className.replace(i,d.paneClass+"-"+t),initHandles(t),r.dir!=_c[s].dir?(n=c[t]||0,setSizeLimits(t),n=max(n,state[t].minSize),manualSizePane(t,n,!0,!0)):$Rs[t].css(r.side,sC.inset[r.side]+(state[t].isVisible?getPaneSize(t):0)),e.state.isVisible&&!l.isVisible?setAsOpen(t,!0):(setAsClosed(t),bindStartSlidingEvents(t,!0)),e=null}}if(isInitialized()){var a=evtPane.call(this,e);if(state[a].edge=t,state[t].edge=a,!1===_runCallbacks("onswap_start",a)||!1===_runCallbacks("onswap_start",t))return state[a].edge=a,void(state[t].edge=t);var o=i(a),s=i(t),c={};c[a]=o?o.state.size:0,c[t]=s?s.state.size:0,$Ps[a]=!1,$Ps[t]=!1,state[a]={},state[t]={},$Ts[a]&&$Ts[a].remove(),$Ts[t]&&$Ts[t].remove(),$Rs[a]&&$Rs[a].remove(),$Rs[t]&&$Rs[t].remove(),$Rs[a]=$Rs[t]=$Ts[a]=$Ts[t]=!1,n(o,t),n(s,a),o=s=c=null,$Ps[a]&&$Ps[a].css(_c.visible),$Ps[t]&&$Ps[t].css(_c.visible),resizeAll(),_runCallbacks("onswap_end",a),_runCallbacks("onswap_end",t)}},syncPinBtns=function(i,n){$.layout.plugins.buttons&&$.each(state[i].pins,function(e,t){$.layout.buttons.setPinState(Instance,$(t),i,n)})},$N=$(this).eq(0);if(!$N.length)return _log(options.errors.containerMissing);if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id,Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,showMasks:showMasks,hideMasks:hideMasks,initContent:initContent,addPane:addPane,removePane:removePane,createChildren:createChildren,refreshChildren:refreshChildren,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:!1,children:children,north:!1,south:!1,west:!1,east:!1,center:!1};return"cancel"===_create()?null:Instance}}(jQuery),function(b){b.ui||(b.ui={}),b.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(e){for(var t,i=document.cookie,n=i?i.split(";"):[],a=0,o=n.length;a<o;a++)if((t=b.trim(n[a]).split("="))[0]==e)return decodeURIComponent(t[1]);return null},write:function(e,t,i){var n="",a="",o=!1,s=i||{},r=s.expires||null,l=b.type(r);"date"===l?a=r:"string"===l&&0<r&&(r=parseInt(r,10),l="number"),"number"===l&&(a=new Date,0<r?a.setDate(a.getDate()+r):(a.setFullYear(1970),o=!0)),a&&(n+=";expires="+a.toUTCString()),s.path&&(n+=";path="+s.path),s.domain&&(n+=";domain="+s.domain),s.secure&&(n+=";secure"),document.cookie=e+"="+(o?"":encodeURIComponent(t))+n},clear:function(e){b.ui.cookie.write(e,"",{expires:-1})}},b.cookie||(b.cookie=function(e,t,i){var n=b.ui.cookie;if(null===t)n.clear(e);else{if(t===undefined)return n.read(e);n.write(e,t,i)}}),b.layout.plugins.stateManagement=!0,b.layout.config.optionRootKeys.push("stateManagement"),b.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,animateLoad:!0,includeChildren:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}},b.layout.optionsMap.layout.push("stateManagement"),b.layout.state={saveCookie:function(e,t,i){var n=e.options,a=n.stateManagement,o=b.extend(!0,{},a.cookie,i||null),s=e.state.stateData=e.readState(t||a.stateKeys);return b.ui.cookie.write(o.name||n.name||"Layout",b.layout.state.encodeJSON(s),o),b.extend(!0,{},s)},deleteCookie:function(e){var t=e.options;b.ui.cookie.clear(t.stateManagement.cookie.name||t.name||"Layout")},readCookie:function(e){var t=e.options,i=b.ui.cookie.read(t.stateManagement.cookie.name||t.name||"Layout");return i?b.layout.state.decodeJSON(i):{}},loadCookie:function(e){var t=b.layout.state.readCookie(e);return t&&(e.state.stateData=b.extend(!0,{},t),e.loadState(t)),t},loadState:function(i,n,e){if(b.isPlainObject(n)&&!b.isEmptyObject(n)){n=i.state.stateData=b.layout.transformData(n);var t=i.options.stateManagement;if(e=b.extend({animateLoad:!1,includeChildren:t.includeChildren},e),i.state.initialized){var a,o,r,l,d,u,c=!e.animateLoad;if(b.each(b.layout.config.borderPanes,function(e,t){h=n[t],b.isPlainObject(h)&&(s=h.size,a=h.initClosed,o=h.initHidden,ar=h.autoResize,r=i.state[t],l=r.isVisible,ar&&(r.autoResize=ar),l||i._sizePane(t,s,!1,!1,!1),!0===o?i.hide(t,c):!0===a?i.close(t,!1,c):!1===a?i.open(t,!1,c):!1===o&&i.show(t,!1,c),l&&i._sizePane(t,s,!1,!1,c))}),e.includeChildren)b.each(i.children,function(e,t){(d=n[e]?n[e].children:0)&&t&&b.each(t,function(e,t){u=d[e],t&&u&&t.loadState(u)})})}else{var h=b.extend(!0,{},n);b.each(b.layout.config.allPanes,function(e,t){h[t]&&delete h[t].children}),b.extend(!0,i.options,h)}}},readState:function(i,e){"string"===b.type(e)&&(e={keys:e}),e||(e={});var t,n,a,o,s,r,l,d=i.options.stateManagement,u=e.includeChildren,c=u!==undefined?u:d.includeChildren,h=e.stateKeys||d.stateKeys,p={isClosed:"initClosed",isHidden:"initHidden"},g=i.state,f=b.layout.config.allPanes,m={};b.isArray(h)&&(h=h.join(","));for(var _=0,w=(h=h.replace(/__/g,".").split(",")).length;_<w;_++)n=(t=h[_].split("."))[0],a=t[1],b.inArray(n,f)<0||(o=g[n][a])!=undefined&&("isClosed"==a&&g[n].isSliding&&(o=!0),(m[n]||(m[n]={}))[p[a]?p[a]:a]=o);return c&&b.each(f,function(e,t){r=i.children[t],s=g.stateData[t],b.isPlainObject(r)&&!b.isEmptyObject(r)&&((l=m[t]||(m[t]={})).children||(l.children={}),b.each(r,function(e,t){t.state.initialized?l.children[e]=b.layout.state.readState(t):s&&s.children&&s.children[e]&&(l.children[e]=b.extend(!0,{},s.children[e]))}))}),m},encodeJSON:function(e){function r(e){var t,i,n,a=[],o=0,s=b.isArray(e);for(t in e)"string"==(n=typeof(i=e[t]))?i='"'+i+'"':"object"==n&&(i=r(i)),a[o++]=(s?"":'"'+t+'":')+i;return(s?"[":"{")+a.join(",")+(s?"]":"}")}return r(e)},decodeJSON:function(e){try{return b.parseJSON?b.parseJSON(e):window.eval("("+e+")")||{}}catch(t){return{}}},_create:function(i){var n=b.layout.state,e=i.options.stateManagement;if(b.extend(i,{readCookie:function(){return n.readCookie(i)},deleteCookie:function(){n.deleteCookie(i)},saveCookie:function(e,t){return n.saveCookie(i,e,t)},loadCookie:function(){return n.loadCookie(i)},loadState:function(e,t){n.loadState(i,e,t)},readState:function(e){return n.readState(i,e)},encodeJSON:n.encodeJSON,decodeJSON:n.decodeJSON}),i.state.stateData={},e.autoLoad)if(b.isPlainObject(e.autoLoad))b.isEmptyObject(e.autoLoad)||i.loadState(e.autoLoad);else if(e.enabled)if(b.isFunction(e.autoLoad)){var t={};try{t=e.autoLoad(i,i.state,i.options,i.options.name||"")}catch(a){}t&&b.isPlainObject(t)&&!b.isEmptyObject(t)&&i.loadState(t)}else i.loadCookie()},_unload:function(e){var t=e.options.stateManagement;if(t.enabled&&t.autoSave)if(b.isFunction(t.autoSave))try{t.autoSave(e,e.state,e.options,e.options.name||"")}catch(i){}else e.saveCookie()}},b.layout.onCreate.push(b.layout.state._create),b.layout.onUnload.push(b.layout.state._unload),b.layout.plugins.buttons=!0,b.layout.defaults.autoBindCustomButtons=!1,b.layout.optionsMap.layout.push("autoBindCustomButtons"),b.layout.buttons={init:function(n){var a,o="ui-layout-button-",s=n.options.name||"";b.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(e,i){b.each(b.layout.config.borderPanes,function(e,t){b("."+o+i+"-"+t).each(function(){(a=b(this).data("layoutName")||b(this).attr("layoutName"))!=undefined&&a!==s||n.bindButton(this,i,t)})})})},get:function(e,t,i,n){var a=b(t),o=e.options,s=o.errors.addButtonError;if(a.length)if(b.inArray(i,b.layout.config.borderPanes)<0)b.layout.msg(s+" "+o.errors.pane+": "+i,!0),a=b("");else{var r=o[i].buttonClass+"-"+n;a.addClass(r+" "+r+"-"+i).data("layoutName",o.name)}else b.layout.msg(s+" "+o.errors.selector+": "+t,!0);return a},bind:function(e,t,i,n){var a=b.layout.buttons;switch(i.toLowerCase()){case"toggle":a.addToggle(e,t,n);break;case"open":a.addOpen(e,t,n);break;case"close":a.addClose(e,t,n);break;case"pin":a.addPin(e,t,n);break;case"toggle-slide":a.addToggle(e,t,n,!0);break;case"open-slide":a.addOpen(e,t,n,!0)}return e},addToggle:function(t,e,i,n){return b.layout.buttons.get(t,e,i,"toggle").click(function(e){t.toggle(i,!!n),e.stopPropagation()}),t},addOpen:function(t,e,i,n){return b.layout.buttons.get(t,e,i,"open").attr("title",t.options[i].tips.Open).click(function(e){t.open(i,!!n),e.stopPropagation()}),t},addClose:function(t,e,i){return b.layout.buttons.get(t,e,i,"close").attr("title",t.options[i].tips.Close).click(function(e){t.close(i),e.stopPropagation()}),t},addPin:function(t,e,i){var n=b.layout.buttons,a=n.get(t,e,i,"pin");if(a.length){var o=t.state[i];a.click(function(e){n.setPinState(t,b(this),i,o.isSliding||o.isClosed),o.isSliding||o.isClosed?t.open(i):t.close(i),e.stopPropagation()}),n.setPinState(t,a,i,!o.isClosed&&!o.isSliding),o.pins.push(e)}return t},setPinState:function(e,t,i,n){var a=t.attr("pin");if(!a||n!==("down"==a)){var o=e.options[i],s=o.buttonClass+"-pin",r=s+"-"+i,l=s+"-up "+r+"-up",d=s+"-down "+r+"-down";t.attr("pin",n?"down":"up").attr("title",n?o.tips.Unpin:o.tips.Pin).removeClass(n?l:d).addClass(n?d:l)}},syncPinBtns:function(i,n,a){b.each(i.state[n].pins,function(e,t){b.layout.buttons.setPinState(i,b(t),n,a)})},_load:function(n){var a=b.layout.buttons;b.extend(n,{bindButton:function(e,t,i){return a.bind(n,e,t,i)},addToggleBtn:function(e,t,i){return a.addToggle(n,e,t,i)},addOpenBtn:function(e,t,i){return a.addOpen(n,e,t,i)},addCloseBtn:function(e,t){return a.addClose(n,e,t)},addPinBtn:function(e,t){return a.addPin(n,e,t)}});for(var e=0;e<4;e++){var t=b.layout.config.borderPanes[e];n.state[t].pins=[]}n.options.autoBindCustomButtons&&a.init(n)},_unload:function(){}},b.layout.onLoad.push(b.layout.buttons._load),b.layout.plugins.browserZoom=!0,b.layout.defaults.browserZoomCheckInterval=1e3,b.layout.optionsMap.layout.push("browserZoomCheckInterval"),b.layout.browserZoom={_init:function(e){!1!==b.layout.browserZoom.ratio()&&b.layout.browserZoom._setTimer(e)},_setTimer:function(t){if(!t.destroyed){var i=t.options,n=t.state,e=t.hasParentLayout?5e3:Math.max(i.browserZoomCheckInterval,100);setTimeout(function(){if(!t.destroyed&&i.resizeWithWindow){var e=b.layout.browserZoom.ratio();e!==n.browserZoom&&(n.browserZoom=e,t.resizeAll()),b.layout.browserZoom._setTimer(t)}},e)}},ratio:function(){function e(e,t){return(parseInt(e,10)/parseInt(t,10)*100).toFixed()}var t,i,n,a=window,o=screen,s=document,r=s.documentElement||s.body,l=b.layout.browser,d=l.version;return!(l.msie&&8<d||!l.msie)&&(o.deviceXDPI&&o.systemXDPI?e(o.deviceXDPI,o.systemXDPI):l.webkit&&(t=s.body.getBoundingClientRect)?e(t.left-t.right,s.body.offsetWidth):l.webkit&&(i=a.outerWidth)?e(i,a.innerWidth):!(!(i=o.width)||!(n=r.clientWidth))&&e(i,n))}},b.layout.onReady.push(b.layout.browserZoom._init)}(jQuery),function(e){"use strict";var s=function(e,t,i){var n,a,o=document.createElement("img");return o.onerror=t,o.onload=function(){!a||i&&i.noRevoke||s.revokeObjectURL(a),t(s.scale(o,i))},(n=window.Blob&&e instanceof Blob||window.File&&e instanceof File?a=s.createObjectURL(e):e)?(o.src=n,o):s.readFile(e,function(e){o.src=e})},t=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;s.scale=function(e,t){t=t||{};var i=document.createElement("canvas"),n=e.width,a=e.height,o=Math.max((t.minWidth||n)/n,(t.minHeight||a)/a);return 1<o&&(n=parseInt(n*o,10),a=parseInt(a*o,10)),(o=Math.min((t.maxWidth||n)/n,(t.maxHeight||a)/a))<1&&(n=parseInt(n*o,10),a=parseInt(a*o,10)),e.getContext||t.canvas&&i.getContext?(i.width=n,i.height=a,i.getContext("2d").drawImage(e,0,0,n,a),i):(e.width=n,e.height=a,e)},s.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},s.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},s.readFile=function(e,t){if(window.FileReader&&FileReader.prototype.readAsDataURL){var i=new FileReader;return i.onload=function(e){t(e.target.result)},i.readAsDataURL(e),i}return!1},"function"==typeof define&&define.amd?define(function(){return s}):e.loadImage=s}(this),function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),l=r&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),d=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,i=(r||d)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,i,n,a,o,s;for(t=0<=e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),a=0;a<t.length;a+=1)n[a]=t.charCodeAt(a);return o=e.split(",")[0].split(":")[1].split(";")[0],r?new Blob([l?n:i],{type:o}):((s=new d).append(i),s.getBlob(o))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,t){e(this.mozGetAsFile("blob",t))}:t.toDataURL&&i&&(t.toBlob=function(e,t){e(i(this.toDataURL(t)))})),"function"==typeof define&&define.amd?define(function(){return i}):e.dataURLtoBlob=i}(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(h){"use strict";h.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),h.support.xhrFormDataFileUpload=!!window.FormData,h.propHooks.elements={get:function(e){return h.nodeName(e,"form")?h.grep(e.elements,function(e){return!h.nodeName(e,"input")||"file"!==e.type}):null}},h.widget("blueimp.fileupload",{options:{dropZone:h(document),pasteZone:h(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||i<n)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&h.support.xhrFileUpload||h.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"==typeof e.formData?e.formData(e.form):h.isArray(e.formData)?e.formData:e.formData?(i=[],h.each(e.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(e){var i=0;return h.each(e,function(e,t){i+=t.size||1}),i},_onProgress:function(e,t){if(e.lengthComputable){var i,n,a=+new Date;if(t._time&&t.progressInterval&&a-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=a,i=t.total||this._getTotal(t.files),n=parseInt(e.loaded/e.total*(t.chunkSize||i),10)+(t.uploadedBytes||0),this._loaded+=n-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=n,t.total=i,t.bitrate=t._bitrateTimer.getBitrate(a,n,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(a,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(i){var n=this,e=i.xhr?i.xhr():h.ajaxSettings.xhr();e.upload&&(h(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,n._onProgress(e,i)}),i.xhr=function(){return e})},_initXHRData:function(i){var n,e=i.files[0],t=i.multipart||!h.support.xhrFileUpload,a=i.paramName[0];i.headers=i.headers||{},i.contentRange&&(i.headers["Content-Range"]=i.contentRange),t?h.support.xhrFormDataFileUpload&&(i.postMessage?(n=this._getFormData(i),i.blob?n.push({name:a,value:i.blob}):h.each(i.files,function(e,t){n.push({name:i.paramName[e]||a,value:t})})):(i.formData instanceof FormData?n=i.formData:(n=new FormData,h.each(this._getFormData(i),function(e,t){n.append(t.name,t.value)})),i.blob?(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"',n.append(a,i.blob,e.name)):h.each(i.files,function(e,t){(window.Blob&&t instanceof Blob||window.File&&t instanceof File)&&n.append(i.paramName[e]||a,t,t.name)})),i.data=n):(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"',i.contentType=e.type,i.data=i.blob||e),i.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&h("<a></a>").prop("href",e.url).prop("host")!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e,"iframe")},_getParamName:function(e){var t=h(e.fileInput),n=e.paramName;return n?h.isArray(n)||(n=[n]):(n=[],t.each(function(){for(var e=h(this),t=e.prop("name")||"files[]",i=(e.prop("files")||[1]).length;i;)n.push(t),i-=1}),n.length||(n=[t.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=h(e.fileInput.prop("form")),e.form.length||(e.form=h(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=h.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,i){var n=h.Deferred(),a=n.promise();return t=t||this.options.context||a,!0===e?n.resolveWith(t,i):!1===e&&n.rejectWith(t,i),a.abort=n.promise,this._enhancePromise(a)},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&1<i.length&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(a,e){var t,o,s=this,i=a.files[0],r=i.size,l=a.uploadedBytes=a.uploadedBytes||0,d=a.maxChunkSize||r,u=i.slice||i.webkitSlice||i.mozSlice,c=h.Deferred(),n=c.promise();return!(!(this._isXHRUpload(a)&&u&&(l||d<r))||a.data)&&(!!e||(r<=l?(i.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,a.context,[null,"error",i.error])):(o=function(){var n=h.extend({},a);n.blob=u.call(i,l,l+d,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+r,s._initXHRData(n),s._initProgressListener(n),t=(!1!==s._trigger("chunksend",null,n)&&h.ajax(n)||s._getXHRPromise(!1,n.context)).done(function(e,t,i){l=s._getUploadedBytes(i)||l+n.chunkSize,(!n.loaded||n.loaded<n.total)&&s._onProgress(h.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),a.uploadedBytes=n.uploadedBytes=l,n.result=e,n.textStatus=t,n.jqXHR=i,s._trigger("chunkdone",null,n),s._trigger("chunkalways",null,n),l<r?o():c.resolveWith(n.context,[e,t,i])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,s._trigger("chunkfail",null,n),s._trigger("chunkalways",null,n),c.rejectWith(n.context,[e,t,i])})},this._enhancePromise(n),n.abort=function(){return t.abort()},o(),n)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(e,t,i,n){if(!this._isXHRUpload(n)||!n.loaded||n.loaded<n.total){var a=this._getTotal(n.files)||1;this._onProgress(h.Event("progress",{lengthComputable:!0,loaded:a,total:a}),n)}n.result=e,n.textStatus=t,n.jqXHR=i,this._trigger("done",null,n)},_onFail:function(e,t,i,n){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,this._trigger("fail",null,n),n.recalculateProgress&&(this._loaded-=n.loaded||n.uploadedBytes||0,this._total-=n.total||this._getTotal(n.files))},_onAlways:function(e,t,i,n){this._active-=1,this._trigger("always",null,n),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(e,t){var i,n,a,o,s=this,r=s._getAJAXSettings(t),l=function(){return s._sending+=1,r._bitrateTimer=new s._BitrateTimer,i=i||((n||!1===s._trigger("send",e,r))&&s._getXHRPromise(!1,r.context,n)||s._chunkedUpload(r)||h.ajax(r)).done(function(e,t,i){s._onDone(e,t,i,r)}).fail(function(e,t,i){s._onFail(e,t,i,r)}).always(function(e,t,i){if(s._sending-=1,s._onAlways(e,t,i,r),r.limitConcurrentUploads&&r.limitConcurrentUploads>s._sending)for(var n=s._slots.shift();n;){if(n.state?"pending"===n.state():!n.isRejected()){n.resolve();break}n=s._slots.shift()}})};return this._beforeSend(e,r),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?((o=1<this.options.limitConcurrentUploads?(a=h.Deferred(),this._slots.push(a),a.pipe(l)):this._sequence=this._sequence.pipe(l,l)).abort=function(){return n=[undefined,"abort","abort"],i?i.abort():(a&&a.rejectWith(r.context,n),l())},this._enhancePromise(o)):l()},_onAdd:function(n,a){var o,e,s,t,r=this,l=!0,i=h.extend({},this.options,a),d=i.limitMultiFileUploads,u=this._getParamName(i);if((i.singleFileUploads||d)&&this._isXHRUpload(i))if(!i.singleFileUploads&&d)for(s=[],o=[],t=0;t<a.files.length;t+=d)s.push(a.files.slice(t,t+d)),(e=u.slice(t,t+d)).length||(e=u),o.push(e);else o=u;else s=[a.files],o=[u];return a.originalFiles=a.files,h.each(s||a.files,function(e,t){var i=h.extend({},a);return i.files=s?t:[t],i.paramName=o[e],i.submit=function(){return i.jqXHR=this.jqXHR=!1!==r._trigger("submit",n,this)&&r._onSend(n,this),this.jqXHR},l=r._trigger("add",n,i)}),l},_replaceFileInput:function(i){var n=i.clone(!0);h("<form></form>").append(n)[0].reset(),i.after(n).detach(),h.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?n[0]:t}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,i){var n=this,a=h.Deferred(),o=function(e){e&&!e.entry&&(e.entry=t),a.resolve([e])};return i=i||"",t.isFile?t._file?(t._file.relativePath=i,a.resolve(t._file)):t.file(function(e){e.relativePath=i,a.resolve(e)},o):t.isDirectory?t.createReader().readEntries(function(e){n._handleFileTreeEntries(e,i+t.name+"/").done(function(e){a.resolve(e)}).fail(o)},o):a.resolve([]),a.promise()},_handleFileTreeEntries:function(e,t){var i=this;return h.when.apply(h,h.map(e,function(e){return i._handleFileTreeEntry(e,t)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(h.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):h.Deferred().resolve(h.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,i,n=(e=h(e)).prop("webkitEntries")||e.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if((t=h.makeArray(e.prop("files"))).length)t[0].name===undefined&&t[0].fileName&&h.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(i=e.prop("value")))return h.Deferred().resolve([]).promise();t=[{name:i.replace(/^.*\\/,"")}]}return h.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof h&&1!==e.length?h.when.apply(h,h.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var i=this,n={fileInput:h(t.target),form:h(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(e){n.files=e,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),!1!==i._trigger("change",t,n)&&i._onAdd(t,n)})},_onPaste:function(e){var t=e.originalEvent.clipboardData,i=t&&t.items||[],n={
files:[]};if(h.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),!1===this._trigger("paste",e,n)||!1===this._onAdd(e,n))return!1},_onDrop:function(t){var i=this,e=t.dataTransfer=t.originalEvent.dataTransfer,n={};e&&e.files&&e.files.length&&t.preventDefault(),this._getDroppedFiles(e).always(function(e){n.files=e,!1!==i._trigger("drop",t,n)&&i._onAdd(t,n)})},_onDragOver:function(e){var t=e.dataTransfer=e.originalEvent.dataTransfer;if(!1===this._trigger("dragover",e))return!1;t&&-1!==h.inArray("Files",t.types)&&(t.dropEffect="copy",e.preventDefault())},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,t){var i=-1!==h.inArray(e,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(e,t),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof h||(e.fileInput=h(e.fileInput)),e.dropZone instanceof h||(e.dropZone=h(e.dropZone)),e.pasteZone instanceof h||(e.pasteZone=h(e.pasteZone))},_create:function(){var e=this.options;h.extend(e,h(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=h.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,a=this,o=h.Deferred(),e=o.promise();return e.abort=function(){return n=!0,i?i.abort():(o.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){n||(t.files=e,i=a._onSend(null,t).then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)}))}),this._enhancePromise(e)}if(t.files=h.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","canvas-to-blob","./jquery.fileupload"],e):e(window.jQuery,window.loadImage)}(function(s,o){"use strict";s.widget("blueimp.fileupload",s.blueimp.fileupload,{options:{process:[],add:function(e,t){s(this).fileupload("process",t).done(function(){t.submit()})}},processActions:{load:function(t,e){var i=this,n=t.files[t.index],a=s.Deferred();return window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype.toBlob&&("number"!==s.type(e.maxFileSize)||n.size<e.maxFileSize)&&(!e.fileTypes||e.fileTypes.test(n.type))?o(n,function(e){if(!e.src)return a.rejectWith(i,[t]);t.img=e,a.resolveWith(i,[t])}):a.rejectWith(i,[t]),a.promise()},resize:function(e,t){var i,n=e.img;return t=s.extend({canvas:!0},t),n&&((i=o.scale(n,t)).width===n.width&&i.height===n.height||(e.canvas=i)),e},save:function(t){if(!t.canvas)return t;var i=this,n=t.files[t.index],e=n.name,a=s.Deferred(),o=function(e){e.name||(n.type===e.type?e.name=n.name:n.name&&(e.name=n.name.replace(/\..+$/,"."+e.type.substr(6)))),t.files[t.index]=e,a.resolveWith(i,[t])};return t.canvas.mozGetAsFile?o(t.canvas.mozGetAsFile(/^image\/(jpeg|png)$/.test(n.type)&&e||(e&&e.replace(/\..+$/,"")||"blob")+".png",n.type)):t.canvas.toBlob(o,n.type),a.promise()}},_processFile:function(e,t,i){var n=this,a=s.Deferred().resolveWith(n,[{files:e,index:t}]).promise();return n._processing+=1,s.each(i.process,function(e,t){a=a.pipe(function(e){return n.processActions[t.action].call(this,e,t)})}),a.always(function(){n._processing-=1,0===n._processing&&n.element.removeClass("fileupload-processing")}),1===n._processing&&n.element.addClass("fileupload-processing"),a},process:function(i){var n=this,a=s.extend({},this.options,i);return a.process&&a.process.length&&this._isXHRUpload(a)&&s.each(i.files,function(t){n._processingQueue=n._processingQueue.pipe(function(){var e=s.Deferred();return n._processFile(i.files,t,a).always(function(){e.resolveWith(n)}),e.promise()})}),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=s.Deferred().resolveWith(this).promise()}})}),pageflow.UploadError=pageflow.Object.extend({setMessage:function(e){var t;this.upload=e.upload,t=e.typeTranslation?e.typeTranslation:""!==this.upload.type?this.upload.type:I18n.t("pageflow.editor.errors.upload.type_empty");var i={name:this.upload.name,type:t,validList:e.validList};this.message=I18n.t(e.translationKey,i)}}),pageflow.UnmatchedUploadError=pageflow.UploadError.extend({name:"UnmatchedUploadError",initialize:function(e){this.setMessage({upload:e,translationKey:"pageflow.editor.errors.unmatched_upload_error"})}}),pageflow.validFileTypeTranslationList={validFileTypeTranslations:function(e){return _.map(e,function(e){return I18n.t("activerecord.models."+e.i18nKey+".other")}).join(", ")}},pageflow.NestedTypeError=pageflow.UploadError.extend({name:"NestedTypeError",initialize:function(e,t){var i=t.fileType,n=t.fileTypes,a=n.filter(function(e){return e.nestedFileTypes.contains(i)}),o=this.validFileTypeTranslations(a),s=n.findByUpload(e).i18nKey,r=I18n.t("activerecord.models."+s+".other");this.setMessage({upload:e,translationKey:"pageflow.editor.errors.nested_type_error",typeTranslation:r,validList:o})}}),Cocktail.mixin(pageflow.NestedTypeError,pageflow.validFileTypeTranslationList),pageflow.InvalidNestedTypeError=pageflow.UploadError.extend({name:"InvalidNestedTypeError",initialize:function(e,t){var i=t.editor,n=t.fileType,a=i.nextUploadTargetFile.fileType().nestedFileTypes.fileTypes,o=this.validFileTypeTranslations(a),s=n.i18nKey,r=I18n.t("activerecord.models."+s+".one");this.setMessage({upload:e,translationKey:"pageflow.editor.errors.invalid_nested_type_error",typeTranslation:r,validList:o})}}),Cocktail.mixin(pageflow.InvalidNestedTypeError,pageflow.validFileTypeTranslationList),pageflow.Failure=pageflow.Object.extend({canRetry:!0,type:"Failure",initialize:function(e){this.model=e},retry:function(){if(this.canRetry)return this.retryAction()},retryAction:function(){return this.model.save()},key:function(){return this.model.cid+"-"+this.type}}),pageflow.SavingFailure=pageflow.Failure.extend({type:"SavingFailure"}),pageflow.OrderingFailure=pageflow.Failure.extend({type:"OrderingFailure",initialize:function(e,t){pageflow.Failure.prototype.initialize.call(this,e),this.collection=t},retryAction:function(){return this.collection.saveOrder()}}),pageflow.FailuresAPI=pageflow.Object.extend({initialize:function(){this.failures={},this.length=0},watch:function(e){this.listenTo(e,"sync",this.remove),this.listenTo(e,"error",function(e){e.isNew()||this.add(new pageflow.SavingFailure(e))})},retry:function(){_.each(this.failures,function(e,t){this.remove(t),e.retry()},this)},isEmpty:function(){return 0===_.size(this.failures)},add:function(e){this.failures[e.key()]=e,this.length=_.size(this.failures)},remove:function(e){delete this.failures[e],this.length=_.size(this.failures)},count:function(){return this.length}}),_.extend(pageflow.FailuresAPI.prototype,Backbone.Events),pageflow.FileType=pageflow.Object.extend({initialize:function(t){if(this.model=t.model,this.typeName=t.typeName,this.collectionName=t.collectionName,this.topLevelType=t.topLevelType,this.paramKey=t.paramKey,this.i18nKey=t.i18nKey,this.nestedFileTypes=[],this.confirmUploadTableColumns=t.confirmUploadTableColumns||[],this.configurationEditorInputs=[].concat(t.configurationEditorInputs||[]),this.configurationUpdaters=t.configurationUpdaters||[],this.nestedFileTableColumns=t.nestedFileTableColumns||[],this.nestedFilesOrder=t.nestedFilesOrder,this.skipUploadConfirmation=t.skipUploadConfirmation||!1,this.filters=t.filters||[],this.metaDataAttributes=[{name:"rights",valueView:pageflow.TextFileMetaDataItemValueView,valueViewOptions:{settingsDialogTabLink:"general"}}].concat(t.metaDataAttributes||[]),this.settingsDialogTabs=[{name:"general",view:pageflow.EditFileView}].concat(t.settingsDialogTabs||[]),"function"==typeof t.matchUpload)this.matchUpload=t.matchUpload;else{if(!(t.matchUpload instanceof RegExp))throw'matchUpload option of FileType "'+this.collectionName+'" must either be a function or a RegExp.';this.matchUpload=function(e){return e.type.match(t.matchUpload)}}this.setupModelNaming()},setupModelNaming:function(){this.model.prototype.modelName=this.model.prototype.modelName||this.paramKey,this.model.prototype.paramRoot=this.model.prototype.paramRoot||this.paramKey,this.model.prototype.i18nKey=this.model.prototype.i18nKey||this.i18nKey},setNestedFileTypes:function(e){this.nestedFileTypes=e},getFilter:function(t){var e=_(this.filters).find(function(e){return e.name===t});if(!e)throw new Error('Unknown filter "'+t+'" for file type "'+this.collectionName+'".');return e}}),pageflow.FileTypes=pageflow.Object.extend({modifyableProperties:["configurationEditorInputs","configurationUpdaters","confirmUploadTableColumns","filters"],initialize:function(){this.clientSideConfigs=[],this.clientSideConfigModifications={}},register:function(e,t){if(this._setup)throw"File types already set up. Register file types before initializers run.";this.clientSideConfigs[e]=t},modify:function(e,t){if(this._setup)throw"File types already set up. Modify file types before initializers run.";this.clientSideConfigModifications[e]=this.clientSideConfigModifications[e]||[],this.clientSideConfigModifications[e].push(t)},setup:function(e){var n=this.clientSideConfigs;this._setup=!0,this.collection=new pageflow.FileTypesCollection(_.map(e,function(t){var i=n[t.collectionName];if(!i)throw'Missing client side config for file type "'+t.collectionName+'"';return _(this.clientSideConfigModifications[t.collectionName]).each(function(e){this.lintModification(e,t.collectionName),this.applyModification(i,e)},this),new pageflow.FileType(_.extend({},t,i))},this));var t=this;_.map(e,function(e){t.findByCollectionName(e.collectionName).setNestedFileTypes(new pageflow.FileTypesCollection(_.map(e.nestedFileTypes,function(e){return t.findByCollectionName(e.collectionName)})))})},lintModification:function(e,t){var i=_.difference(_.keys(e),this.modifyableProperties);if(i.length)throw"Only the following properties are allowed in FileTypes#modify: "+this.modifyableProperties.join(", ")+". Given in modification for "+t+": "+i.join(", ")+"."},applyModification:function(t,i){_(this.modifyableProperties).each(function(e){t[e]=(t[e]||[]).concat(i[e]||[])})}}),_.each(["each","map","reduce","first","find","findByUpload","findByCollectionName","contains","filter"],function(e){pageflow.FileTypes.prototype[e]=function(){if(!this._setup)throw"File types are not yet set up.";return this.collection[e].apply(this.collection,arguments)}}),pageflow.PageType=pageflow.Object.extend({initialize:function(e,t,i){this.name=e,this.options=t,this.seed=i},translationKey:function(){return this.seed.translation_key},thumbnailCandidates:function(){return this.seed.thumbnail_candidates},pageLinks:function(e){if("pageLinks"in this.options)return this.options.pageLinks(e)},configurationEditorView:function(){return this.options.configurationEditorView||pageflow.ConfigurationEditorView.repository[this.name]},embeddedViews:function(){return this.options.embeddedViews},createConfigurationEditorView:function(e){var t=this.configurationEditorView();return e.pageType=this.seed,new t(_.extend({attributeTranslationKeyPrefixes:[this.seed.translation_key_prefix+".page_attributes","pageflow.common_page_attributes"]},e))},createPageLinkConfigurationEditorView:function(e){return new(this.options.pageLinkConfigurationEditorView||pageflow.PageLinkConfigurationEditorView)(_.extend({attributeTranslationKeyPrefixes:[this.seed.translation_key_prefix+".page_link_attributes","pageflow.common_page_link_attributes"]},e))}}),pageflow.PageTypes=pageflow.Object.extend({initialize:function(){this.clientSideConfigs={}},register:function(e,t){if(this._setup)throw"Page types already set up. Register page types before initializers run.";this.clientSideConfigs[e]=t},setup:function(e){var i=this.clientSideConfigs;this._setup=!0,this.pageTypes=_.map(e,function(e){var t=i[e.name]||{};return new pageflow.PageType(e.name,t,e)})},findByName:function(t){var e=this.find(function(e){return e.name===t});if(!e)throw'Could not find page type with name "'+t+'"';return e}}),_.each(["each","map","reduce","first","find","pluck"],function(t){pageflow.PageTypes.prototype[t]=function(){if(!this._setup)throw"Page types are not yet set up.";var e=Array.prototype.slice.call(arguments);return e.unshift(this.pageTypes),_[t].apply(_,e)}}),pageflow.WidgetType=pageflow.Object.extend({initialize:function(e,t){this.name=e.name,this.translationKey=e.translationKey,this.configurationEditorView=t.configurationEditorView,this.isOptional=t.isOptional},hasConfiguration:function(){return!!this.configurationEditorView},createConfigurationEditorView:function(e){return new this.configurationEditorView(_.extend({attributeTranslationKeyPrefixes:["pageflow.editor.widgets.attributes."+this.name,"pageflow.editor.widgets.common_attributes"]},e))}}),pageflow.WidgetTypes=pageflow.Object.extend({initialize:function(){this._clientSideConfigs={},this._optionalRoles={}},register:function(e,t){if(this._setup)throw"Widget types already set up. Register widget types before initializers run.";this._clientSideConfigs[e]=t},setup:function(i){this._setup=!0,this._widgetTypesByName={};var e=_.keys(i);this._widgetTypesByRole=e.reduce(_.bind(function(e,t){return e[t]=i[t].map(_.bind(function(e){var t=this._clientSideConfigs[e.name]||{},i=new pageflow.WidgetType(e,t);return this._widgetTypesByName[e.name]=i},this)),e},this),{})},findAllByRole:function(e){return this._widgetTypesByRole[e]||[]},findByName:function(e){if(!this._widgetTypesByName[e])throw'Could not find widget type with name "'+e+'"';return this._widgetTypesByName[e]},registerRole:function(e,t){this._optionalRoles[e]=t.isOptional},isOptional:function(e){return!!this._optionalRoles[e]}}),pageflow.EditorApi=pageflow.Object.extend({initialize:function(e){this.router=e&&e.router,this.sideBarRoutings=[],this.mainMenuItems=[],this.initializers=[],this.fileSelectionHandlers={},this.failures=new pageflow.FailuresAPI,this.pageTypes=new pageflow.PageTypes,this.widgetTypes=new pageflow.WidgetTypes,this.fileTypes=new pageflow.FileTypes},showViewInMainPanel:function(e){pageflow.app.mainRegion.show(e)},showPreview:function(){pageflow.app.mainRegion.$el.empty()},registerSideBarRouting:function(e){this.sideBarRoutings.push(e)},setUploadTargetFile:function(e){this.nextUploadTargetFile=e},setDefaultHelpEntry:function(e){this.nextDefaultHelpEntry=e},applyDefaultHelpEntry:function(){this.defaultHelpEntry=this.nextDefaultHelpEntry,this.nextDefaultHelpEntry=null},registerMainMenuItem:function(e){this.mainMenuItems.push(e)},addInitializer:function(e){this.initializers.push(e)},navigate:function(e,t){if(!this.router)throw"Routing has not been initialized yet.";this.router.navigate(e,t)},registerPageConfigurationMixin:function(e){Cocktail.mixin(pageflow.Configuration,e)},registerFileSelectionHandler:function(e,t){this.fileSelectionHandlers[e]=t},selectFile:function(e,t,i){"string"==typeof e&&(e={name:e}),this.navigate("/files/"+e.name+"?handler="+t+"&payload="+encodeURIComponent(JSON.stringify(i))+(e.filter?"&filter="+e.filter:""),{trigger:!0})},selectPage:function(e){return pageflow.PageSelectionView.selectPage(e)},createFileSelectionHandler:function(e,t){if(!this.fileSelectionHandlers[e])throw"Unknown FileSelectionHandler "+e;var i=JSON.parse(decodeURIComponent(t));return new this.fileSelectionHandlers[e](i)}}),pageflow.app=new Backbone.Marionette.Application,pageflow.editor=new pageflow.EditorApi,pageflow.startEditor=function(e){jQuery(function(){$.when($.getJSON("/editor/entries/"+e.entryId+"/seed"),pageflow.browser.detectFeatures()).done(function(e){pageflow.app.start(e[0])}).fail(function(){alert("Error while starting editor.")})})},pageflow.formDataUtils={fromModel:function(e){var t={};return t[e.modelName]=e.toJSON(),this.fromObject(t)},fromObject:function(e){var t=$.param(e).replace(/\+/g,"%20");return _(t.split("&")).reduce(function(e,t){var i=t.split("=");return e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]),e},{})}},pageflow.stylesheet={reload:function(e){var t=this.selectLink(e);t.data("originalHref")||t.data("originalHref",t.attr("href")),t.attr("href",t.data("originalHref")+"&reload="+(new Date).getTime())},update:function(e,t){var i=this.selectLink(e);i.attr("href")!==t&&i.attr("href",t)},selectLink:function(e){return $("head link[data-name="+e+"]")}},pageflow.delayedDestroying={initialize:function(){this._destroying=!1},destroyWithDelay:function(){var e=this;return this._destroying=!0,this.trigger("destroying",this),Backbone.Model.prototype.destroy.call(this,{wait:!0,success:function(){e._destroying=!1},error:function(){e._destroying=!1}})},isDestroying:function(){return this._destroying}},pageflow.failureTracking={initialize:function(){this._saveFailed=!1,this.listenTo(this,"sync",function(){this._saveFailed=!1,this._failureMessage=null,this.trigger("change:failed")}),this.listenTo(this,"error",function(e,t){this._saveFailed=!0,this._failureMessage=this.translateStatus(t),this.trigger("change:failed")})},isFailed:function(){return this._saveFailed},getFailureMessage:function(){return this._failureMessage},translateStatus:function(e){return 401===e.status?"Sie m\xfcssen angemeldet sein, um diese Aktion auszuf\xfchren.":403===e.status?"Sie sind nicht berechtigt diese Aktion auszuf\xfchren.":404===e.status?"Der Datensatz konnte auf dem Server nicht gefunden werden.":409===e.status?"Die Reportage wurde au\xdferhalb dieses Editors bearbeitet.":500<=e.status&&e.status<600?"Der Server hat einen internen Fehler gemeldet.":"timeout"===e.statusText?"Der Server ist nicht erreichbar.":""}},pageflow.fileWithType={},pageflow.filesCountWatcher={watchFileCollection:function(e,t){this.watchedFileCollectionNames=this.watchedFileCollectionNames||[],this.watchedFileCollectionNames.push(e),this.listenTo(t,"change:state",function(){this.updateFilesCounts(e,t)}),this.listenTo(t,"add",function(){this.updateFilesCounts(e,t)}),this.listenTo(t,"remove",function(){this.updateFilesCounts(e,t)}),this.updateFilesCounts(e,t)},updateFilesCounts:function(e,t){this.updateFilesCount("uploading",e,t,function(e){return e.isUploading()}),this.updateFilesCount("confirmable",e,t,function(e){return e.isConfirmable()}),this.updateFilesCount("pending",e,t,function(e){return e.isPending()})},updateFilesCount:function(i,e,t,n){this.set(i+"_"+e+"_count",t.filter(n).length),this.set(i+"_files_count",_.reduce(this.watchedFileCollectionNames,function(e,t){return e+this.get(i+"_"+t+"_count")},0,this))}},pageflow.persistedPromise={persisted:function(){var t=this;return this._persistedDeferred=this._persistedDeferred||jQuery.Deferred(function(e){t.isNew()?t.once("change:id",e.resolve):e.resolve()}),this._persistedDeferred.promise()}},Cocktail.mixin(Backbone.Model,pageflow.persistedPromise),pageflow.polling={togglePolling:function(e){e?this.startPolling():this.stopPolling()},startPolling:function(){this.pollingInterval||(this.pollingInterval=setInterval(_.bind(function(){this.fetch()},this),1e3))},stopPolling:function(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}},pageflow.retryable={retry:function(t){void 0===(t=t?_.clone(t):{}).parse&&(t.parse=!0);var i=this;return t.success=function(e){if(!i.set(i.parse(e,t),t))return!1;i.trigger("sync",i,e,t)},t.error=function(e){i.trigger("error",i,e,t)},t.url=this.url()+"/retry",this.sync("create",this,t)}},pageflow.stageProvider={initialize:function(){var n=[this.readyState],e=_.result(this,"stages")||[];this.stages=new Backbone.Collection(_.chain(e).slice().reverse().map(function(e){var t=e.name;e.file=this,e.finishedStates=n;var i=new pageflow.FileStage({name:t},e);return n=n.concat(i.nonFinishedStates),i},this).reverse().value())},currentStage:function(){return this.stages.find(function(e){return e.get("active")||e.get("action_required")||e.get("failed")})}},pageflow.transientReferences={initialize:function(){this.transientReferences={},this.pendingReferences={}},getReference:function(e,t){if("string"==typeof t){var i=pageflow.editor.fileTypes.findByCollectionName(t);t=pageflow.entry.getFileCollection(i)}return this.transientReferences[e]||t.get(this.get(e))},setReference:function(e,t){this._cleanUpReference(e),this._setReference(e,t),this._listenForReady(e,t)},unsetReference:function(e){this._cleanUpReference(e),this.set(e,null)},_setReference:function(e,t){t.isNew()?(this.transientReferences[e]=t,this.set(e,null),this._setIdOnceSynced(e,t)):this.set(e,t.id)},_setIdOnceSynced:function(e,t){t.once("change:id",function(){delete this.transientReferences[e],this.set(e,t.id)},this)},_listenForReady:function(e,t){t.isReady()||(this.pendingReferences[e]=t,this.listenTo(t,"change:state",function(){t.isReady()&&(this._cleanUpReadyListener(e),this.trigger("change"))}))},_cleanUpReference:function(e){this._cleanUpSaveListener(e),this._cleanUpReadyListener(e)},_cleanUpSaveListener:function(e){this.transientReferences[e]&&(this.stopListening(this.transientReferences[e],"change:id"),delete this.transientReferences[e])},_cleanUpReadyListener:function(e){this.pendingReferences[e]&&(this.stopListening(this.pendingReferences[e],"change:state"),delete this.pendingReferences[e])}},pageflow.UploadedFile=Backbone.Model.extend({mixins:[pageflow.stageProvider,pageflow.retryable],initialize:function(e,t){this.options=t||{},this.configuration=new pageflow.FileConfiguration(this.get("configuration")||{}),this.configuration.i18nKey=this.i18nKey,(this.configuration.parent=this).listenTo(this.configuration,"change",function(){this.trigger("change:configuration",this),_.chain(this.configuration.changed).keys().each(function(e){this.trigger("change:configuration:"+e,this,this.configuration.get(e))},this),this.isNew()||this.save()}),this.listenTo(this,"change:rights",function(){this.isNew()||this.save()}),this.listenTo(this,"change",function(e,t){t.applyConfigurationUpdaters&&this.configuration.applyUpdaters(this.fileType().configurationUpdaters,this.attributes.configuration)})},urlRoot:function(){return this.collection.url()},fileType:function(){return this.options.fileType},title:function(){return this.get("file_name")},thumbnailFile:function(){return this},nestedFiles:function(e){"function"==typeof e&&(e=e());var t=e.fileType.collectionName;return this.nestedFilesCollections=this.nestedFilesCollections||{},this.nestedFilesCollections[t]=this.nestedFilesCollections[t]||new pageflow.NestedFilesCollection({parent:e,parentFile:this}),this.nestedFilesCollections[t]},isUploading:function(){return"uploading"===this.get("state")},isUploaded:function(){return"uploading"!==this.get("state")&&"upload_failed"!==this.get("state")},isPending:function(){return!this.isReady()&&!this.isFailed()},isReady:function(){return this.get("state")===this.readyState},isFailed:function(){return this.get("state")&&!!this.get("state").match(/_failed$/)},isRetryable:function(){return!!this.get("retryable")},isConfirmable:function(){return!1},isPositionable:function(){return!1},toJSON:function(){return _.extend(_.pick(this.attributes,"rights","parent_file_id","parent_file_model_type"),{configuration:this.configuration.toJSON()})},cancelUpload:function(){"uploading"===this.get("state")&&(this.trigger("uploadCancelled"),this.destroy())},uploadFailed:function(){this.set("state","upload_failed"),this.unset("uploading_progress"),this.trigger("uploadFailed")}}),pageflow.HostedFile=pageflow.UploadedFile.extend({stages:function(){return[{name:"uploading",activeStates:["uploading"],failedStates:["upload_failed"]},{name:"uploading_to_s3",activeStates:["uploading_to_s3"],failedStates:["uploading_to_s3_failed"]}].concat(_.result(this,"processingStages"))},processingStages:[],readyState:"uploaded_to_s3"}),pageflow.EncodedFile=pageflow.HostedFile.extend({processingStages:function(){var e=[];return pageflow.config.confirmEncodingJobs&&e.push({name:"fetching_meta_data",activeStates:["waiting_for_meta_data","fetching_meta_data"],failedStates:["fetching_meta_data_failed"]}),e.push({name:"encoding",actionRequiredStates:["waiting_for_confirmation"],activeStates:["waiting_for_encoding","encoding"],failedStates:["fetching_meta_data_failed","encoding_failed"]}),e},readyState:"encoded",isConfirmable:function(){return"waiting_for_confirmation"===this.get("state")},isPositionable:function(){return!1}}),pageflow.Configuration=Backbone.Model.extend({modelName:"page",i18nKey:"pageflow/page",mixins:[pageflow.transientReferences],defaults:{gradient_opacity:100,display_in_navigation:!0,transition:"fade",text_position:"left",invert:!1,hide_title:!1,autoplay:!0},getRoutableId:function(){return this.parent.id},getImageFileUrl:function(e,t){t=t||{};var i=this.getImageFile(e);return i&&i.isReady()?i.get(t.styleGroup?t.styleGroup+"_url":"url"):""},getImageFile:function(e){return this.getReference(e,pageflow.imageFiles)},getFilePosition:function(e,t){var i=this._filePositionProperty(e,t);return this.has(i)?this.get(i):50},setFilePosition:function(e,t,i){var n=this._filePositionProperty(e,t);this.set(n,i)},setFilePositions:function(e,t,i){var n={};n[this._filePositionProperty(e,"x")]=t,n[this._filePositionProperty(e,"y")]=i,this.set(n)},_filePositionProperty:function(e,t){return e.replace(/_id$/,"_"+t)},getVideoFileSources:function(e){var t=this.getVideoFile(e);return t&&t.isReady()&&t.get("sources")?this._appendSuffix(t.get("sources")):""},getVideoFile:function(e){return this.getReference(e,pageflow.videoFiles)},getAudioFileSources:function(e){var t=this.getAudioFile(e);return t&&t.isReady()&&t.get("sources")?this._appendSuffix(t.get("sources")):""},getAudioFile:function(e){return this.getReference(e,pageflow.audioFiles)},getVideoPosterUrl:function(){var e=this.getReference("poster_image_id",pageflow.imageFiles),t=this.getReference("video_file_id",pageflow.videoFiles);return e?e.get("url"):t?t.get("poster_url"):null},_appendSuffix:function(e){var i=this.parent;return i&&i.id?_.map(e,function(e){var t=_.clone(e);return t.src=t.src+"?e="+i.id+"&t="+(new Date).getTime(),t}):e}}),pageflow.Scaffold=pageflow.Object.extend({initialize:function(e,t){this.parent=e,this.options=t||{}},create:function(){var t=this,e=this.options.depth?"?depth="+this.options.depth:"";this.model=this.build(),Backbone.sync("create",this.model,{url:this.model.url()+"/scaffold"+e,success:function(e){t.load(e),t.model.trigger("sync",t.model,e,{})}})},build:function(){},load:function(){}}),pageflow.AudioFile=pageflow.EncodedFile.extend({thumbnailPictogram:"audio",getSources:function(){return this.isReady()&&this.get("sources")?this.get("sources"):""}}),pageflow.Chapter=Backbone.Model.extend({modelName:"chapter",paramRoot:"chapter",i18nKey:"pageflow/chapter",mixins:[pageflow.failureTracking,pageflow.delayedDestroying],initialize:function(e,t){return this.pages=new pageflow.ChapterPagesCollection({pages:t.pages||pageflow.pages,chapter:this}),this.listenTo(this,"change:title",function(){this.save()}),this.configuration=new pageflow.ChapterConfiguration(this.get("configuration")||{}),this.listenTo(this.configuration,"change",function(){this.save(),this.trigger("change:configuration",this)}),e},urlRoot:function(){return this.isNew()?this.collection.url():"/chapters"},storylinePosition:function(){return this.storyline&&this.storyline.get("position")||-1},addPage:function(e){var t=this.buildPage(e);return t.save(),t},buildPage:function(e){var t={chapter_id:this.id,position:this.pages.length};return this.pages.addAndReturnModel(_.extend(t,e))},toJSON:function(){return _.extend(_.clone(this.attributes),{configuration:this.configuration.toJSON()})},destroy:function(){this.destroyWithDelay()}}),pageflow.ChapterConfiguration=pageflow.Configuration.extend({modelName:"chapter",i18nKey:"pageflow/chapter",defaults:{}}),pageflow.ChapterScaffold=pageflow.Scaffold.extend({build:function(){return this.chapter=this.parent.buildChapter(this.options.chapterAttributes),this.page=this.chapter.buildPage(),this.chapter},load:function(e){this.chapter.set(e.chapter),this.page.set(e.page)}}),pageflow.EditLock=Backbone.Model.extend({paramRoot:"edit_lock",url:function(){return pageflow.entry.url()+"/edit_lock?timestamp="+(new Date).getTime()},toJSON:function(){return{id:this.id,force:this.get("force")}}}),pageflow.EditLockContainer=Backbone.Model.extend({initialize:function(){this.storageKey="pageflow.edit_lock."+pageflow.entry.id},acquire:function(e){e=e||{};var t=this;new pageflow.EditLock({id:e.force?null:sessionStorage[this.storageKey],force:e.force}).save(null,{polling:!!e.polling,success:function(e){sessionStorage[t.storageKey]=e.id,t.lock=e,t.trigger("acquired"),t.startPolling()}})},startPolling:function(){this.pollingInteval||(this.pollingInteval=setInterval(_.bind(function(){this.acquire({polling:!0})},this),1e3*pageflow.config.editLockPollingIntervalInSeconds))},stopPolling:function(){this.pollingInteval&&(clearInterval(this.pollingInteval),this.pollingInteval=null)},watchForErrors:function(){var n=this;$(document).ajaxSend(function(e,t){n.lock&&t.setRequestHeader("X-Edit-Lock",n.lock.id)}),$(document).ajaxError(function(e,t,i){switch(t.status){case 409:n.handleConflict(t,i);break;case 401:case 422:n.handleUnauthenticated();break;default:n.handleError()}})},release:function(){if(this.lock){var e=this.lock.destroy();return delete sessionStorage[this.storageKey],this.lock=null,e}},handleConflict:function(e,t){this.lock=null,this.trigger("locked",e.responseJSON||{},{context:t.url.match(/\/edit_lock/)&&!t.polling?"acquire":"other"}),this.stopPolling()},handleUnauthenticated:function(){this.stopPolling(),this.trigger("unauthenticated")},handleError:function(){}}),pageflow.EncodingConfirmation=Backbone.Model.extend({paramRoot:"encoding_confirmation",initialize:function(){this.videoFiles=new Backbone.Collection,this.audioFiles=new Backbone.Collection,this.updateEmpty(),this.watchCollections()},watchCollections:function(){this.listenTo(this.videoFiles,"add remove",this.check),this.listenTo(this.audioFiles,"add remove",this.check),this.listenTo(this.videoFiles,"reset",this.updateEmpty),this.listenTo(this.audioFiles,"reset",this.updateEmpty)},check:function(){var e=this;e.updateEmpty(),e.set("checking",!0),e.save({},{url:e.url()+"/check",success:function(){e.set("checking",!1)},error:function(){e.set("checking",!1)}})},saveAndReset:function(){var e=this;e.save({},{success:function(){e.set("summary_html",""),e.videoFiles.reset(),e.audioFiles.reset()}})},updateEmpty:function(){this.set("empty",0===this.videoFiles.length&&0===this.audioFiles.length)},url:function(){return"/editor/entries/"+pageflow.entry.get("id")+"/encoding_confirmations"},toJSON:function(){return{video_file_ids:this.videoFiles.pluck("id"),audio_file_ids:this.audioFiles.pluck("id")}}}),pageflow.EncodingConfirmation.createWithPreselection=function(e){var t=new pageflow.EncodingConfirmation;return e.fileId&&("video_file"===e.fileType?t.videoFiles.add(pageflow.videoFiles.get(e.fileId)):t.audioFiles.add(pageflow.audioFiles.get(e.fileId))),t},pageflow.Entry=Backbone.Model.extend({paramRoot:"entry",urlRoot:"/entries",modelName:"entry",i18nKey:"pageflow/entry",collectionName:"entries",mixins:[pageflow.filesCountWatcher,pageflow.polling,pageflow.failureTracking],initialize:function(e,t){t=t||{},this.configuration=new pageflow.EntryConfiguration(this.get("configuration")||{}),(this.configuration.parent=this).themes=t.themes||pageflow.themes,this.files=t.files||pageflow.files,this.fileTypes=t.fileTypes||pageflow.editor.fileTypes,this.storylines=t.storylines||pageflow.storylines,(this.storylines.parentModel=this).chapters=t.chapters||pageflow.chapters,(this.chapters.parentModel=this).pages=pageflow.pages,this.widgets=t.widgets,this.imageFiles=pageflow.imageFiles,this.videoFiles=pageflow.videoFiles,this.audioFiles=pageflow.audioFiles,this.fileTypes.each(function(e){this.watchFileCollection(e.collectionName,this.getFileCollection(e))},this),this.listenTo(this.storylines,"sort",function(){this.pages.sort()}),this.listenTo(this.chapters,"sort",function(
){this.pages.sort()}),this.listenTo(this.configuration,"change",function(){this.trigger("change:configuration"),this.save()}),this.listenTo(this.configuration,"change:locale",function(){this.once("sync",function(){location.reload()})})},getTheme:function(){return this.themes.findByName(this.configuration.get("theme_name"))},addStoryline:function(e){var t=this.buildStoryline(e);return t.save(),t},buildStoryline:function(e){var t={title:""};return this.storylines.addAndReturnModel(_.extend(t,e))},scaffoldStoryline:function(e){var t=new pageflow.StorylineScaffold(this,e);return t.create(),t},addChapterInNewStoryline:function(e){return this.scaffoldStoryline(_.extend({depth:"chapter"},e)).chapter},addPageInNewStoryline:function(e){return this.scaffoldStoryline(_.extend({depth:"page"},e)).page},reuseFile:function(e,t){var i=this;pageflow.FileReuse.submit(e,t,{entry:i,success:function(e,t){i._setFiles(t,{merge:!1,remove:!1}),i.trigger("use:files")}})},getFileCollection:function(e){return this.files[e.collectionName]},pollForPendingFiles:function(){this.listenTo(this,"change:pending_files_count",function(e,t){this.togglePolling(0<t)}),this.togglePolling(0<this.get("pending_files_count"))},parse:function(e){return e&&(this.set(_.pick(e,"published","published_until","password_protected")),this._setFiles(e,{add:!1,remove:!1,applyConfigurationUpdaters:!0})),e},_setFiles:function(i,n){this.fileTypes.each(function(e){var t=i[e.collectionName];!1!==n.merge&&(t=_.map(t,function(e){return _.omit(e,"rights")})),this.getFileCollection(e).set(t,_.extend({fileType:e},n)),delete i[e.collectionName]},this)},toJSON:function(){return this.configuration.toJSON()}}),pageflow.EntryConfiguration=pageflow.Configuration.extend({modelName:"entry",i18nKey:"pageflow/entry"}),pageflow.EntryConfigurationFileSelectionHandler=function(t){this.call=function(e){pageflow.entry.configuration.setReference(t.attributeName,e)},this.getReferer=function(){return"/meta_data/"+(t.returnToTab||"general")}},pageflow.editor.registerFileSelectionHandler("entryConfiguration",pageflow.EntryConfigurationFileSelectionHandler),pageflow.EntryPublication=Backbone.Model.extend({paramRoot:"entry_publication",quota:function(){return new Backbone.Model(this.get("quota")||{})},check:function(){var e=this;this.set("checking",!0),this.save({},{url:this.url()+"/check",success:function(){e.set("checking",!1)},error:function(){e.set("checking",!1)}})},publish:function(e){return this.save(e,{success:function(e){pageflow.entry.parse(e.get("entry"))},error:function(e,t){e.set(t.responseJSON)}})},url:function(){return"/editor/entries/"+pageflow.entry.get("id")+"/entry_publications"}}),pageflow.FileConfiguration=pageflow.Configuration.extend({defaults:{},applyUpdaters:function(e,t){_(e).each(function(e){e(this,t)},this)}}),pageflow.FileReuse=Backbone.Model.extend({modelName:"file_reuse",paramRoot:"file_reuse",initialize:function(e,t){this.entry=t.entry,this.collectionName=t.fileType.collectionName},url:function(){return"/editor/entries/"+this.entry.get("id")+"/files/"+this.collectionName+"/reuse"}}),pageflow.FileReuse.submit=function(e,t,i){new pageflow.FileReuse({other_entry_id:e.get("id"),file_id:t.get("id")},{entry:i.entry,fileType:t.fileType()}).save(null,i)},pageflow.FileStage=Backbone.Model.extend({initialize:function(e,t){this.file=t.file,this.activeStates=t.activeStates||[],this.finishedStates=t.finishedStates||[],this.failedStates=t.failedStates||[],this.actionRequiredStates=t.actionRequiredStates||[],this.nonFinishedStates=this.activeStates.concat(this.failedStates,this.actionRequiredStates),this.update(),this.listenTo(this.file,"change:state",this.update),this.listenTo(this.file,"change:"+this.get("name")+"_progress",this.update),this.listenTo(this.file,"change:"+this.get("name")+"_error_message",this.update)},update:function(){this.updateState(),this.updateProgress(),this.updateErrorMessage()},updateState:function(){var e=this.file.get("state");this.set("active",0<=this.activeStates.indexOf(e)),this.set("finished",0<=this.finishedStates.indexOf(e)),this.set("failed",0<=this.failedStates.indexOf(e)),this.set("action_required",0<=this.actionRequiredStates.indexOf(e)),this.get("active")?this.set("state","active"):this.get("finished")?this.set("state","finished"):this.get("failed")?this.set("state","failed"):this.get("action_required")?this.set("state","action_required"):this.set("state","pending")},updateProgress:function(){this.set("progress",this.file.get(this.get("name")+"_progress"))},updateErrorMessage:function(){var e=this.get("name")+"_error_message";this.set("error_message",this.file.get(e))},localizedDescription:function(){return I18n.t("pageflow.editor.files.stages."+this.get("name")+"."+this.get("state"))}}),pageflow.FileUploader=pageflow.Object.extend({initialize:function(e){this.fileTypes=e.fileTypes,this.entry=e.entry,this.deferreds=[]},add:function(e,t){var i=(t=t||{}).editor||pageflow.editor,n=this.fileTypes.findByUpload(e),a=new n.model({state:"uploadable",file_name:e.name},{fileType:n}),o=i.nextUploadTargetFile;if(o){if(n.topLevelType||!o.fileType().nestedFileTypes.contains(n))throw new pageflow.InvalidNestedTypeError(e,{editor:i,fileType:n});a.set({parent_file_id:o.get("id"),parent_file_model_type:o.fileType().typeName})}else if(!n.topLevelType)throw new pageflow.NestedTypeError(e,{fileType:n,fileTypes:this.fileTypes});this.entry.getFileCollection(n).add(a);var s=new $.Deferred;return o?s.resolve():(this.deferreds.push(s),1==this.deferreds.length&&this.trigger("new:batch")),s.promise().then(function(){return a.set("state","uploading"),a},function(){a.destroy()})},submit:function(){_(this.deferreds).invoke("resolve"),this.deferreds=[]},abort:function(){_(this.deferreds).invoke("reject"),this.deferreds=[]}}),pageflow.ImageFile=pageflow.UploadedFile.extend({stages:[{name:"uploading",activeStates:["uploading"],failedStates:["upload_failed"]},{name:"processing",activeStates:["processing"],finishedStates:["processed"],failedStates:["processing_failed"]}],readyState:"processed",getBackgroundPositioningImageUrl:function(){return this.get("url")},isPositionable:function(){return this.isReady()}}),pageflow.OtherEntry=Backbone.Model.extend({paramRoot:"entry",urlRoot:"/entries",modelName:"entry",i18nKey:"pageflow/entry",initialize:function(){this.files={}},getFileCollection:function(e){return this.files[e.collectionName]||(this.files[e.collectionName]=pageflow.FilesCollection.createForFileType(e,[],{entry:this})),this.files[e.collectionName]},titleOrSlug:function(){return this.get("title")||this.get("slug")}}),pageflow.Page=Backbone.Model.extend({modelName:"page",paramRoot:"page",i18nKey:"pageflow/page",defaults:function(){return{template:"background_image",configuration:{},active:!1,perma_id:""}},mixins:[pageflow.failureTracking,pageflow.delayedDestroying],initialize:function(){this.configuration=new pageflow.Configuration(this.get("configuration")||{}),this.configuration.parent=this.configuration.page=this,this.listenTo(this.configuration,"change",function(){this.trigger("change:configuration",this)}),this.listenTo(this.configuration,"change:title",function(){this.trigger("change:title")}),this.listenTo(this.configuration,"change",function(){this.save()}),this.listenTo(this,"change:template",function(){this.save()})},urlRoot:function(){return this.isNew()?this.collection.url():"/pages"},storylinePosition:function(){return this.chapter&&this.chapter.storylinePosition()||-1},chapterPosition:function(){return this.chapter&&this.chapter.get("position")||-1},title:function(){return this.configuration.get("title")||this.configuration.get("additional_title")||""},thumbnailFile:function(){var i=this.configuration;return _.reduce(this.pageType().thumbnailCandidates(),function(e,t){return t.condition&&!conditionMet(t.condition,i)?e:e||i.getReference(t.attribute,t.file_collection)},null)},pageLinks:function(){return this.pageType().pageLinks(this.configuration)},pageType:function(){return pageflow.editor.pageTypes.findByName(this.get("template"))},toJSON:function(){return _.extend(_.clone(this.attributes),{configuration:this.configuration.toJSON()})},destroy:function(){this.destroyWithDelay()}}),pageflow.Page.linkedPagesLayouts=["default","hero_top_left","hero_top_right"],pageflow.Page.textPositions=["left","right"],pageflow.Page.scrollIndicatorModes=["all","only_back","only_next","non"],pageflow.Page.scrollIndicatorOrientations=["vertical","horizontal"],pageflow.Page.delayedTextFadeIn=["no_fade","short","medium","long"],pageflow.PageConfigurationFileSelectionHandler=function(t){var i=pageflow.pages.get(t.id);this.call=function(e){i.configuration.setReference(t.attributeName,e)},this.getReferer=function(){return"/pages/"+i.id+"/"+(t.returnToTab||"files")}},pageflow.editor.registerFileSelectionHandler("pageConfiguration",pageflow.PageConfigurationFileSelectionHandler),pageflow.PageLink=Backbone.Model.extend({mixins:[pageflow.transientReferences],i18nKey:"pageflow/page_link",targetPage:function(){return pageflow.pages.getByPermaId(this.get("target_page_id"))},label:function(){return this.get("label")},editPath:function(){return"/page_links/"+this.id},getPageId:function(){return this.collection.page.id},toSerializedJSON:function(){return _.omit(this.attributes,"highlighted","position")},highlight:function(){this.set("highlighted",!0)},resetHighlight:function(){this.unset("highlighted")},remove:function(){this.collection.remove(this)}}),pageflow.PageLinkFileSelectionHandler=function(t){var i=pageflow.pages.getByPermaId(t.id.split(":")[0]).pageLinks().get(t.id);this.call=function(e){i.setReference(t.attributeName,e)},this.getReferer=function(){return"/page_links/"+i.id}},pageflow.editor.registerFileSelectionHandler("pageLink",pageflow.PageLinkFileSelectionHandler),pageflow.PreviewEntryData=pageflow.EntryData.extend({initialize:function(e){this.entry=e.entry,this.storylines=e.storylines,this.chapters=e.chapters,this.pages=e.pages},getThemingOption:function(e){return this.entry.getTheme().get(e)},getStorylineConfiguration:function(e){var t=this.storylines.get(e);return t?t.configuration.attributes:{}},getChapterConfiguration:function(e){var t=this.chapters.get(e);return t?t.configuration.attributes:{}},getChapterPagePermaIds:function(e){var t=this.chapters.get(e);return t?t.pages.pluck("perma_id"):[]},getStorylineIdByChapterId:function(e){var t=this.chapters.get(e);return t&&t.get("storyline_id")},getChapterIdByPagePermaId:function(e){var t=this.pages.getByPermaId(e);return t&&t.get("chapter_id")},getPageConfiguration:function(e){var t=this.pages.getByPermaId(e);return t?t.configuration.attributes:{}},getPagePosition:function(e){return this.pages.indexOf(this.pages.getByPermaId(e))}}),pageflow.Storyline=Backbone.Model.extend({modelName:"storyline",paramRoot:"storyline",i18nKey:"pageflow/storyline",mixins:[pageflow.failureTracking,pageflow.delayedDestroying],initialize:function(e,t){this.chapters=new pageflow.StorylineChaptersCollection({chapters:t.chapters||pageflow.chapters,storyline:this}),this.configuration=new pageflow.StorylineConfiguration(this.get("configuration")||{}),this.listenTo(this.configuration,"change",function(){this.save(),this.trigger("change:configuration",this)}),this.listenTo(this.configuration,"change:main",function(e,t){this.trigger("change:main",this,t)})},urlRoot:function(){return this.isNew()?this.collection.url():"/storylines"},displayTitle:function(){return _([this.title()||!this.isMain()&&I18n.t("pageflow.storylines.untitled"),this.isMain()&&I18n.t("pageflow.storylines.main")]).compact().join(" - ")},title:function(){return this.configuration.get("title")},isMain:function(){return!!this.configuration.get("main")},lane:function(){return this.configuration.get("lane")},row:function(){return this.configuration.get("row")},parentPagePermaId:function(){return this.configuration.get("parent_page_perma_id")},parentPage:function(){return pageflow.pages.getByPermaId(this.parentPagePermaId())},transitiveChildPages:function(){return new pageflow.StorylineTransitiveChildPages(this,pageflow.storylines,pageflow.pages)},addChapter:function(e){var t=this.buildChapter(e);return t.save(),t},buildChapter:function(e){var t={storyline_id:this.id,title:"",position:this.chapters.length};return this.chapters.addAndReturnModel(_.extend(t,e))},scaffoldChapter:function(e){var t=new pageflow.ChapterScaffold(this,e);return t.create(),t},toJSON:function(){return{configuration:this.configuration.toJSON()}},destroy:function(){this.destroyWithDelay()}}),pageflow.StorylineConfiguration=pageflow.Configuration.extend({modelName:"storyline",i18nKey:"pageflow/storyline",defaults:{},initialize:function(){this.listenTo(this,"change:main",function(e,t){t&&this.unset("parent_page_perma_id")})}}),pageflow.StorylineOrdering=function(t,i){function n(e,t,i){return _(e).reduce(function(e,t){return t.set("position",e),t.set("level",i),n(o(t),e+1,i+1)},t)}function a(){return m[-1]}function o(e){return m[e.cid]||[]}function s(){m=_(e()).reduce(function(e,t,i){return e[i]=t.sort(r),e},{})}function e(){return t.groupBy(function(e){var t=f(e);return t&&t.chapter?t.chapter.storyline.cid:-1})}function r(e,t){return l(e,t)||d(e,t)||u(e,t)||c(e,t)||h(e,t)}function l(e,t){return p(e.isMain()?-1:1,t.isMain()?-1:1)}function d(e,t){return p(g(e),g(t))}function u(e,t){return p(e.lane(),t.lane())}function c(e,t){return p(e.row(),t.row())}function h(e,t){return p(e.title(),t.title())}function p(e,t){return t<e?1:e<t?-1:0}function g(e){var t=f(e);return t&&t.get("position")}function f(e){return i.getByPermaId(e.parentPagePermaId())}var m;this.watch=function(){t.on("add change:configuration",function(){this.sort()},this),i.on("change:position change:chapter_id",function(){this.sort()},this)},this.sort=function(e){s(),n(a(),1,0),t.sort(e)}},pageflow.StorylineScaffold=pageflow.Scaffold.extend({build:function(){return this.storyline=this.parent.buildStoryline(this.options.storylineAttributes),this.chapter=this.storyline.buildChapter(),"page"===this.options.depth&&(this.page=this.chapter.buildPage()),pageflow.editor.trigger("scaffold:storyline",this.storyline),this.storyline},load:function(e){this.storyline.set(e.storyline),this.chapter.set(e.chapter),this.page&&this.page.set(e.page)}}),pageflow.StorylineTransitiveChildPages=function(n,e,i){function t(){o=e.reduce(function(e,t){for(var i=t;i;){if(i===n||e[i.id])return e[t.id]=!0,e;i=a(i)}return e},{})}function a(e){var t=i.getByPermaId(e.parentPagePermaId());return t&&t.chapter&&t.chapter.storyline}var o;this.contain=function(e){return o||t(),!!o[e.chapter.storyline.id]}},pageflow.TextTrackFile=pageflow.HostedFile.extend({defaults:{configuration:{kind:"captions"}},processingStages:[{name:"processing",activeStates:["processing"],failedStates:["processing_failed"]}],readyState:"processed",initialize:function(e,t){pageflow.UploadedFile.prototype.initialize.apply(this,arguments),this.isNew()&&!this.configuration.get("srclang")&&this.configuration.set("srclang",this.extractLanguageCodeFromFilename())},displayLabel:function(){return this.configuration.get("label")||this.inferredLabel()||I18n.t("pageflow.editor.text_track_files.label_missing")},inferredLabel:function(){var e=this.configuration.get("srclang");if(e)return I18n.t("pageflow.languages."+e,{defaultValue:""})},extractLanguageCodeFromFilename:function(){var e=/\S+\.([a-z]{2})_[A-Z]{2}\.[a-z]+/.exec(this.get("file_name"));return e&&e[1]}}),pageflow.TextTrackFile.displayLabelBinding="srclang",pageflow.Theme=Backbone.Model.extend({title:function(){return I18n.t("pageflow."+this.get("name")+"_theme.name")},thumbnailUrl:function(){return this.get("preview_thumbnail_url")},hasHomeButton:function(){return this.get("home_button")},hasOverviewButton:function(){return this.get("overview_button")},supportsEmphasizedPages:function(){return this.get("emphasized_pages")},supportsScrollIndicatorModes:function(){return this.get("scroll_indicator_modes")}}),pageflow.Theming=Backbone.Model.extend({modelName:"theming",i18nKey:"pageflow/theming",collectionName:"themings"}),pageflow.VideoFile=pageflow.EncodedFile.extend({getBackgroundPositioningImageUrl:function(){return this.get("poster_url")},isPositionable:function(){return this.isReady()}}),pageflow.Widget=Backbone.Model.extend({paramRoot:"widget",i18nKey:"pageflow/widget",initialize:function(e,t){this.widgetTypes=t.widgetTypes,this.configuration=new pageflow.WidgetConfiguration(this.get("configuration")||{}),this.listenTo(this.configuration,"change",function(){this.trigger("change:configuration",this)})},widgetType:function(){return this.get("type_name")&&this.widgetTypes.findByName(this.get("type_name"))},hasConfiguration:function(){return!(!this.widgetType()||!this.widgetType().hasConfiguration())},role:function(){return this.id},urlRoot:function(){return this.collection.url()},toJSON:function(){return{role:this.role(),type_name:this.get("type_name"),configuration:this.configuration.toJSON()}}}),pageflow.WidgetConfiguration=pageflow.Configuration.extend({i18nKey:"pageflow/widget",defaults:{}}),pageflow.addAndReturnModel={addAndReturnModel:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e}},Cocktail.mixin(Backbone.Collection,pageflow.addAndReturnModel),pageflow.orderedCollection={initialize:function(){!1!==this.autoConsolidatePositions&&this.listenTo(this,"remove",function(){this.consolidatePositions(),this.saveOrder()})},consolidatePositions:function(){this.each(function(e,t){e.set("position",t)})},saveOrder:function(){var t=this.parentModel,e=this;return e.isEmpty()?$.Deferred().resolve().promise():Backbone.sync("update",t,{url:e.url()+"/order",attrs:{ids:e.pluck("id")},success:function(e){t.trigger("sync",t,e,{}),t.trigger("sync:order",t,e,{})},error:function(){pageflow.editor.failures.add(new pageflow.OrderingFailure(t,e))}})}},pageflow.MultiCollection=function(){this.records={},this.length=0},_.extend(pageflow.MultiCollection.prototype,{add:function(e){this.records[e.cid]||(this.records[e.cid]=e,this.length=_.keys(this.records).length,this.trigger("add",e))},remove:function(e){this.records[e.cid]&&(delete this.records[e.cid],this.length=_.keys(this.records).length,this.trigger("remove",e))},isEmpty:function(){return 0===this.length}}),_.extend(pageflow.MultiCollection.prototype,Backbone.Events),pageflow.MultiCollection.extend=Backbone.Collection.extend,pageflow.SubsetCollection=Backbone.Collection.extend({constructor:function(e){var n=!1,t=!1,i=!1;e=e||{},this.filter=e.filter||function(){return!0},this.parent=e.parent,this.parentModel=e.parentModel,delete e.filter,delete e.parent,this.model=this.parent.model,this.comparator=e.comparator||this.parent.comparator,this.listenTo(this.parent,"add",function(e,t,i){!n&&this.filter(e)&&this.add(e,i)}),this.listenTo(this.parent,"remove",function(e){this.remove(e)}),this.listenTo(this,"add",function(e){n=!0,this.parent.add(e),n=!1}),e.watchAttribute&&this.listenTo(this.parent,"change:"+e.watchAttribute,function(e){this.filter(e)?this.add(e):this.remove(e)}),e.sortOnParentSort&&this.listenTo(this.parent,"sort",function(){i=!0,t||this.sort(),i=!1}),this.listenTo(this,"sort",function(){t=!0,i||this.parent.sort(),t=!1}),Backbone.Collection.prototype.constructor.call(this,this.parent.filter(this.filter,this),e)},clear:function(){this.parent.remove(this.models),this.reset()},url:function(){return this.parentModel.url()+_.result(this.parent,"url")},dispose:function(){this.stopListening(),this.reset()}}),pageflow.ChapterPagesCollection=pageflow.SubsetCollection.extend({mixins:[pageflow.orderedCollection],constructor:function(e){var t=e.chapter;pageflow.SubsetCollection.prototype.constructor.call(this,{parent:e.pages,parentModel:t,filter:function(e){return!t.isNew()&&e.get("chapter_id")===t.id},comparator:function(e){return e.get("position")}}),this.each(function(e){e.chapter=t}),this.listenTo(this,"add",function(e){e.chapter=t,e.set("chapter_id",t.id),pageflow.editor.trigger("add:page",e)}),this.listenTo(this,"remove",function(e){e.chapter=null}),this.listenTo(t,"destroy",function(){this.clear()})}}),pageflow.ChaptersCollection=Backbone.Collection.extend({model:pageflow.Chapter,url:"/chapters",comparator:function(e){return e.get("position")}}),pageflow.FileTypesCollection=pageflow.Object.extend({initialize:function(e){this._fileTypes=e},findByUpload:function(t){var e=this.find(function(e){return e.matchUpload(t)});if(!e)throw new pageflow.UnmatchedUploadError(t);return e},findByCollectionName:function(t){var e=this.find(function(e){return e.collectionName===t});if(!e)throw'Could not find file type by collection name "'+t+'"';return e}}),_.each(["each","map","reduce","first","find","contains","filter"],function(t){pageflow.FileTypesCollection.prototype[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(this._fileTypes),_[t].apply(_,e)}}),pageflow.FilesCollection=Backbone.Collection.extend({initialize:function(e,t){t=t||{},this.entry=t.entry,this.fileType=t.fileType,this.name=t.fileType.collectionName},comparator:function(e){var t=e.get("file_name");return t&&t.toLowerCase?t.toLowerCase():t},url:function(){return"/editor/entries/"+this.getEntry().get("id")+"/files/"+this.name},fetch:function(e){return e=_.extend({fileType:this.fileType},e||{}),Backbone.Collection.prototype.fetch.call(this,e)},getEntry:function(){return this.entry||pageflow.entry},confirmable:function(){return new pageflow.SubsetCollection({parent:this,watchAttribute:"state",filter:function(e){return"waiting_for_confirmation"===e.get("state")}})},uploadable:function(){return this._uploadableSubsetCollection=this._uploadableSubsetCollection||new pageflow.SubsetCollection({parent:this,watchAttribute:"state",filter:function(e){return"uploadable"===e.get("state")}}),this._uploadableSubsetCollection},withFilter:function(e){return new pageflow.SubsetCollection({parent:this,watchAttribute:"configuration",filter:this.fileType.getFilter(e).matches})}}),pageflow.FilesCollection.createForFileTypes=function(e,i,n){return e.reduce(function(e,t){return e[t.collectionName]=pageflow.FilesCollection.createForFileType(t,i[t.collectionName],n),e},{})},pageflow.FilesCollection.createForFileType=function(e,t,i){return new pageflow.FilesCollection(t,_.extend({fileType:e,model:e.model},i||{}))},pageflow.NestedFilesCollection=pageflow.SubsetCollection.extend({constructor:function(e){var t=e.parent,i=e.parentFile,n=i.fileType().typeName,a=t.fileType.nestedFilesOrder;pageflow.SubsetCollection.prototype.constructor.call(this,{parent:t,parentModel:i,filter:function(e){return e.get("parent_file_id")===i.get("id")&&e.get("parent_file_model_type")===n},comparator:a&&a.comparator}),a&&this.listenTo(this,"change:configuration:"+a.binding,this.sort)}}),pageflow.PageLinksCollection=Backbone.Collection.extend({model:pageflow.PageLink,initialize:function(e,t){this.configuration=t.configuration,this.page=t.configuration.page,this.load(),this.listenTo(this,"add remove change",this.save),this.listenTo(this.configuration,"change:page_links",this.load)},addLink:function(e){this.addWithPosition(this.defaultPosition(),e)},canAddLink:function(){return!0},updateLink:function(e,t){e.set("target_page_id",t)},removeLink:function(e){this.remove(e)},addWithPosition:function(e,t){this.add(this.pageLinkAttributes(e,t))},removeByPosition:function(e){this.remove(this.findByPosition(e))},findByPosition:function(e){return this.findWhere({position:e})},load:function(){this.set(this.pageLinksAttributes())},save:function(){this.configuration.set("page_links",this.map(function(e){return e.toSerializedJSON()}))},defaultPosition:function(){return Math.max(0,_.max(this.map(function(e){return e.get("position")})))+1},pageLinksAttributes:function(){return this.configuration.get("page_links")||[]},pageLinkAttributes:function(e,t,i){return{id:i||this.getUniqueId(),target_page_id:t,position:e}},getUniqueId:function(){var e=Math.max(0,_.max(this.map(function(e){return parseInt(e.id.split(":").pop(),10)})));return this.configuration.page.get("perma_id")+":"+(e+1)}}),pageflow.OrderedPageLinksCollection=pageflow.PageLinksCollection.extend({comparator:"position",saveOrder:function(){this.save()}}),pageflow.OtherEntriesCollection=Backbone.Collection.extend({model:pageflow.OtherEntry,url:"/editor/entries",initialize:function(e,t){t=t||{},this.excludeEntry=t.excludeEntry},parse:function(e){var t=this.getExcludeEntry(),i=_.filter(e,function(e){return e.id!=t.id});return Backbone.Collection.prototype.parse.call(this,i)},getExcludeEntry:function(){return this.excludeEntry||pageflow.entry}}),pageflow.PagesCollection=Backbone.Collection.extend({model:pageflow.Page,url:"/pages",comparator:function(e,t){return e.storylinePosition()>t.storylinePosition()?1:e.storylinePosition()<t.storylinePosition()?-1:e.chapterPosition()>t.chapterPosition()?1:e.chapterPosition()<t.chapterPosition()?-1:e.get("position")>t.get("position")?1:e.get("position")<t.get("position")?-1:0},getByPermaId:function(e){return this.findWhere({perma_id:parseInt(e,10)})},persisted:function(){return this._persisted||(this._persisted=new pageflow.SubsetCollection({parent:this,sortOnParentSort:!0,filter:function(e){return!e.isNew()}}),this.listenTo(this,"change:id",function(e){setTimeout(_.bind(function(){this._persisted.add(e)},this),0)})),this._persisted}}),pageflow.SavingRecordsCollection=pageflow.MultiCollection.extend({watch:function(e){var i=this;this.listenTo(e,"request",function(e,t){i.add(e),t.always(function(){i.remove(e)})})}}),pageflow.StorylineChaptersCollection=pageflow.SubsetCollection.extend({mixins:[pageflow.orderedCollection],constructor:function(e){var t=e.storyline;pageflow.SubsetCollection.prototype.constructor.call(this,{parent:e.chapters,parentModel:t,filter:function(e){return!t.isNew()&&e.get("storyline_id")===t.id},comparator:function(e){return e.get("position")}}),this.each(function(e){e.storyline=t}),this.listenTo(this,"add",function(e){e.storyline=t,e.set("storyline_id",t.id),pageflow.editor.trigger("add:chapter",e)}),this.listenTo(this,"remove",function(e){e.storyline=null})}}),pageflow.StorylinesCollection=Backbone.Collection.extend({autoConsolidatePositions:!1,mixins:[pageflow.orderedCollection],model:pageflow.Storyline,url:function(){return"/entries/"+pageflow.entry.get("id")+"/storylines"},initialize:function(){this.listenTo(this,"change:main",function(t,e){e&&this.each(function(e){e.isMain()&&e!==t&&e.configuration.unset("main")})})},main:function(){return this.find(function(e){return e.configuration.get("main")})||this.first()},comparator:function(e){return e.get("position")}}),pageflow.ThemesCollection=Backbone.Collection.extend({model:pageflow.Theme,findByName:function(e){var t=this.findWhere({name:e});if(!t)throw new Error("Found no theme by name "+e);return t}}),pageflow.WidgetsCollection=Backbone.Collection.extend({model:pageflow.Widget,initialize:function(){this.listenTo(this,"change:type_name change:configuration",function(){this.batchSave()})},url:function(){return"/editor/subjects/entries/"+this.subject.id+"/widgets"},batchSave:function(e){var t=this.subject;return Backbone.sync("patch",t,_.extend(e||{},{url:this.url()+"/batch",attrs:{widgets:this.map(function(e){return e.toJSON()})},success:function(e){t.trigger("sync:widgets",t,e,{})}}))}}),pageflow.SidebarRouter=Backbone.Marionette.AppRouter.extend({appRoutes:{"page_links/:id":"pageLink","pages/:id":"page","pages/:id/:tab":"page","chapters/:id":"chapter","storylines/:id":"storyline","widgets/:id":"widget","files/:collectionName?handler=:handler&payload=:payload&filter=:filter":"files","files/:collectionName?handler=:handler&payload=:payload":"files","files/:collectionName":"files",files:"files","confirmable_files?type=:type&id=:id":"confirmableFiles",confirmable_files:"confirmableFiles",meta_data:"metaData","meta_data/:tab":"metaData",publish:"publish","?storyline=:id":"index",".*":"index"}}),pageflow.SidebarController=Backbone.Marionette.Controller.extend({initialize:function(e){this.region=e.region,this.entry=e.entry},index:function(e){this.region.show(new pageflow.EditEntryView({model:this.entry,storylineId:e}))},files:function(e,t,i,n){this.region.show(new pageflow.FilesView({model:this.entry,selectionHandler:t&&pageflow.editor.createFileSelectionHandler(t,i),tabName:e,filterName:n})),pageflow.editor.setDefaultHelpEntry("pageflow.help_entries.files")},confirmableFiles:function(e,t){this.region.show(pageflow.ConfirmEncodingView.create({model:pageflow.EncodingConfirmation.createWithPreselection({fileType:e,fileId:t})}))},metaData:function(e){this.region.show(new pageflow.EditMetaDataView({model:this.entry,tab:e}))},publish:function(){this.region.show(pageflow.PublishEntryView.create({model:this.entry,entryPublication:new pageflow.EntryPublication})),pageflow.editor.setDefaultHelpEntry("pageflow.help_entries.publish")},storyline:function(e){this.region.show(new pageflow.EditStorylineView({model:this.entry.storylines.get(e)}))},chapter:function(e){this.region.show(new pageflow.EditChapterView({model:this.entry.chapters.get(e)}))},page:function(e,t){var i=this.entry.pages.get(e);this.region.show(new pageflow.EditPageView({model:i,tab:t})),pageflow.editor.setDefaultHelpEntry(i.pageType().help_entry_translation_key)},pageLink:function(e){var t=e.split(":")[0],i=pageflow.pages.getByPermaId(t);this.region.show(new pageflow.EditPageLinkView({model:i.pageLinks().get(e),page:i}))},widget:function(e){this.region.show(new pageflow.EditWidgetView({model:this.entry.widgets.get(e)}))}}),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/back_button_decorator"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.editor.templates.back_button_decorator.outline"),'</a>\n<div class="outlet"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/background_positioning"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="box">\n  <h2>',I18n.t("pageflow.editor.templates.background_positioning.title"),"</h2>\n  <p>",I18n.t("pageflow.editor.templates.background_positioning.help"),'</p>\n\n  <div class="wrapper">\n  </div>\n\n  <h3>',I18n.t("pageflow.editor.templates.background_positioning.preview_title"),'</h3>\n  <div class="previews">\n    <div>\n    </div>\n  </div>\n\n  <div class="footer">\n    <a href="" class="save">',I18n.t("pageflow.editor.templates.background_positioning.save"),'</a>\n    <a href="" class="close">',I18n.t("pageflow.editor.templates.background_positioning.cancel"),"</a>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/background_positioning_preview"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="image"></div>\n<div class="label"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/background_positioning_sliders"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="container">\n  <div class="slider horizontal">\n  </div>\n  <div class="slider vertical">\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/blank_entry"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<h2>",I18n.t("pageflow.editor.blank_entry.header"),"</h2>\n<p>",I18n.t("pageflow.editor.blank_entry.intro"),"</p>\n<ol>\n  <li>",I18n.t("pageflow.editor.blank_entry.create_chapter"),"</li>\n  <li>",I18n.t("pageflow.editor.blank_entry.create_page"),"</li>\n  <li>",I18n.t("pageflow.editor.blank_entry.edit_page"),"</li>\n</ol>\n<p>",I18n.t("pageflow.editor.blank_entry.outro"),"</p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/change_theme_dialog"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="box">\n  <div class="content">\n    <div>\n      <h2 class="themes_header">',I18n.t("pageflow.editor.templates.change_theme_dialog.header"),'</h2>\n      <div class="themes_panel">\n      </div>\n      <div class="preview_panel">\n        <h2 class="preview_header">',I18n.t("pageflow.editor.templates.change_theme_dialog.preview_header_prefix"),'\n          <span class="preview_header_theme_name"></span>',I18n.t("pageflow.editor.templates.change_theme_dialog.preview_header_suffix"),
'\n        </h2>\n        <div class="preview_image_region">\n          <img class="preview_image" src="default_template.png">\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="footer">\n    <a href="" class="close">\n      ',I18n.t("pageflow.editor.templates.change_theme_dialog.close"),"\n    </a>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/chapter_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="edit_chapter" href="">\n  <span class="pictogram"></span>\n  <span class="number"></span>\n  <span class="title"></span>\n  <span class="failure_icon" title=',I18n.t("pageflow.editor.templates.chapter_item.save_error"),' />\n</a>\n\n<ul class="pages outline"></ul>\n\n<a href="" class="add_page">',I18n.t("pageflow.editor.templates.chapter_item.new_page"),"</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/confirm_encoding"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="blank_slate">\n  <p>\n      ',I18n.t("pageflow.editor.templates.confirm_encoding.all_released"),"\n  </p>\n  <p>\n      ",I18n.t("pageflow.editor.templates.confirm_encoding.link_to_progress",{link:'<a href="#/files/video_files">'+I18n.t("pageflow.editor.templates.confirm_encoding.manage_files")+"</a>"}),'\n  </p>\n</div>\n\n<div class="video_files_panel">\n  <h2>',I18n.t("pageflow.editor.templates.confirm_encoding.videos_tab"),'</h2>\n</div>\n\n<div class="audio_files_panel">\n  <h2>',I18n.t("pageflow.editor.templates.confirm_encoding.audios_tab"),'</h2>\n</div>\n\n<div class="summary">\n</div>\n<button class="confirm">',I18n.t("pageflow.editor.templates.confirm_encoding.confirm_button"),"</button>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/confirm_upload"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="box">\n  <h1 class="dialog-header">',I18n.t("pageflow.editor.templates.confirm_upload.header"),'</h1>\n  <p class="dialog-hint">',I18n.t("pageflow.editor.templates.confirm_upload.hint"),'</p>\n\n  <div class="files_panel">\n  </div>\n\n  <div class="selected_file_panel">\n    <h2>',I18n.t("pageflow.editor.templates.confirm_upload.edit_file_header"),'</h2>\n    <div class="selected_file_region">\n    </div>\n  </div>\n\n  <div class="footer">\n    <button class="upload">',I18n.t("pageflow.editor.templates.confirm_upload.upload"),'</button>\n    <button class="close">',I18n.t("pageflow.editor.templates.confirm_upload.close"),"</button>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/confirmable_file_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<input type="checkbox">\n<label class="file_name"></label>\n<span class="duration"></span>\n\n<div class="actions">\n  <a class="remove" title="',I18n.t("pageflow.editor.templates.confirmable_file_item.remove"),'"></a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/delete_row_table_cell"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="remove" title="',I18n.t("pageflow.editor.templates.row.destroy"),'"></a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/drop_down_button"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<button></button>\n\n<div class="drop_down_button_menu">\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/drop_down_button_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="label"></div>\n<a href="#"></a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_chapter"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.editor.templates.edit_chapter.outline"),'</a>\n<a class="destroy">',I18n.t("pageflow.editor.templates.edit_chapter.destroy"),'</a>\n\n<div class="failure">\n  <p>',I18n.t("pageflow.editor.templates.edit_chapter.save_error"),'</p>\n  <p class="message"></p>\n  <a class="retry" href="">',I18n.t("pageflow.editor.templates.edit_chapter.retry"),'</a>\n</div>\n\n<div class="form_container"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_entry"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="close" href="#">',I18n.t("pageflow.editor.templates.edit_entry.close"),'</a>\n<a class="publish" href="#" data-tooltip-align="bottom right">\n  ',I18n.t("pageflow.editor.templates.edit_entry.publish"),'\n</a>\n\n<ul class="menu">\n  <li>\n    <a class="edit_entry_meta_data" href="#" data-path="/meta_data">',I18n.t("pageflow.editor.templates.edit_entry.metadata"),'</a>\n    <span class="failure_icon" title="',I18n.t("pageflow.editor.templates.edit_entry.save_error"),'" />\n  </li>\n  <li>\n    <a class="manage_files" href="#" data-path="/files">',I18n.t("pageflow.editor.templates.edit_entry.manage_files"),'</a>\n  </li>\n</ul>\n\n<div class="edit_entry_storylines storyline_picker"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_file"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_meta_data"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.editor.templates.edit_meta_data.outline"),'</a>\n\n<div class="failure">\n  <p>',I18n.t("pageflow.editor.templates.edit_meta_data.save_error"),'</p>\n  <p class="message"></p>\n  <a class="retry" href="">',I18n.t("pageflow.editor.templates.edit_meta_data.retry"),'</a>\n</div>\n\n<div class="form_fields"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_page"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.editor.templates.edit_page.outline"),'</a>\n<a class="destroy">',I18n.t("pageflow.editor.templates.edit_page.destroy"),'</a>\n\n<div class="failure">\n  <p>',I18n.t("pageflow.editor.templates.edit_page.save_error"),'</p>\n  <p class="message"></p>\n  <a class="retry" href="">',I18n.t("pageflow.editor.templates.edit_page.retry"),'</a>\n</div>\n\n<div class="page_type"></div>\n\n<div class="configuration_container"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_page_link"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.editor.templates.edit_page_link.back"),'</a>\n<a class="destroy">',I18n.t("pageflow.editor.templates.edit_page_link.destroy"),'</a>\n<div class="form_container"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_storyline"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.editor.templates.edit_storyline.outline"),'</a>\n<a class="destroy" data-tooltip-align="bottom right">\n  ',I18n.t("pageflow.editor.templates.edit_storyline.destroy"),'\n</a>\n\n<div class="failure">\n  <p>',I18n.t("pageflow.editor.templates.edit_storyline.save_error"),'</p>\n  <p class="message"></p>\n  <a class="retry" href="">',I18n.t("pageflow.editor.templates.edit_storyline.retry"),'</a>\n</div>\n\n<div class="form_container"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_widget"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.editor.templates.edit_widget.back"),"</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/edit_widgets"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<ol class="widgets">\n</ol>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/entry_preview"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="header"></div>\n<div class="overview"></div>\n\n<div class="entry"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/entry_publication_quota_decorator"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="quota_state">\n</div>\n<div class="outlet">\n</div>\n<div class="exhausted_message">\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/explorer_file_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="file_thumbnail"></span>\n\n<span class="file_name"></span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/file_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="file_thumbnail"></span>\n\n<span class="file_name"></span>\n<a class="select">',I18n.t("pageflow.editor.templates.file_item.select"),'</a>\n\n<div class="actions">\n  <a class="settings" title="',I18n.t("pageflow.editor.templates.file_item.settings"),'"></a>\n  <a class="confirm" title="',I18n.t("pageflow.editor.templates.file_item.confirm"),'"></a>\n  <a class="retry" title="',I18n.t("pageflow.editor.templates.file_item.retry"),'"></a>\n  <a class="remove" title="',I18n.t("pageflow.editor.templates.file_item.destroy"),'"></a>\n  <a class="cancel" title="',I18n.t("pageflow.editor.templates.file_item.cancel"),'"></a>\n</div>\n\n<div class="details">\n  <ul class="file_stage_items"></ul>\n\n  <div class="file_meta_data">\n    <table cellpadding="0" cellspacing="0">\n      <tbody class="attributes">\n      </tbody>\n      <tbody class="downloads">\n        <tr>\n          <th>',I18n.t("pageflow.editor.templates.file_item.source"),'</th>\n          <td><a class="original" href="#" download target="_blank">',I18n.t("pageflow.editor.templates.file_item.download"),"</a></td>\n        </tr>\n      <tbody>\n    </table>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/file_meta_data_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<th></th>\n<td></td>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/file_meta_data_item_value_view"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="edit" href="" title="',I18n.t("pageflow.editor.templates.file_meta_data_item_value_view.edit"),'">\n</a>\n<span class="value"></span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/file_settings_dialog"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="box">\n  <div class="content">\n  </div>\n\n  <div class="footer">\n    <a href="" class="close">\n      ',I18n.t("pageflow.editor.templates.file_settings_dialog.close"),"\n    </a>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/file_stage_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<p class="percent"></p>\n<p class="description"></p>\n<p class="error_message"></p>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/file_thumbnail"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="pictogram"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/files"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.editor.templates.files.back"),"</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/files_blank_slate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li class="blank_slate">',text,"</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/files_explorer"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="box">\n  <h2>',I18n.t("pageflow.editor.templates.files_explorer.reuse_files"),'</h2>\n\n  <div class="panels">\n    <ul class="entries_panel">\n    </ul>\n\n    <div class="files_panel">\n    </div>\n  </div>\n\n  <div class="footer">\n    <button class="ok">',I18n.t("pageflow.editor.templates.files_explorer.ok"),'</button>\n    <button class="close">',I18n.t("pageflow.editor.templates.files_explorer.cancel"),"</button>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/files_explorer_blank_slate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li class="blank_slate">',I18n.t("pageflow.editor.templates.files_explorer_blank_slate.choose_hint"),"<li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/files_gallery_blank_slate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li class="blank_slate">',I18n.t("pageflow.editor.templates.files_gallery_blank_slate.no_files"),"<li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/filtered_files"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="filtered_files-banner">\n  <span class="filtered_files-banner_prefix">\n    ',I18n.t("pageflow.editor.views.filtered_files_view.banner_prefix"),'\n  </span>\n  <span class="filtered_files-filter_name"></span>\n  <a href=""\n     class="filtered_files-reset_filter"\n     title="',I18n.t("pageflow.editor.views.filtered_files_view.reset_filter"),'">\n  </a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/help"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="box">\n  <h2>',I18n.t("pageflow.editor.templates.help.title"),'</h2>\n\n  <div class="placeholder"></div>\n\n  <div class="footer">\n    <a class="close" href="">',I18n.t("pageflow.editor.templates.help.close"),"</a>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/help_button"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("",I18n.t("pageflow.editor.templates.help_button.open_help"),"\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/inputs/file_input"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<div class="file_thumbnail"></div>\n<div class="file_name"></div>\n\n<a href="" class="unset" title="',I18n.t("pageflow.ui.templates.inputs.file_input.reset"),'"></a>\n<a href="" class="choose" title="',I18n.t("pageflow.ui.templates.inputs.file_input.edit"),'"></a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/inputs/reference"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<div class="title"></div>\n<button class="unset"></button>\n<button class="choose"></button>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/list"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="list_label"></span>\n</label>\n\n<ul class="list_items"></ul>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/list_blank_slate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("",I18n.t("pageflow.editor.templates.list_blank_slate.text"),"\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/list_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="list_item_thumbnail"></span>\n<span class="list_item_missing_thumbnail"></span>\n<span class="list_item_type_pictogram type_pictogram"></span>\n\n<div class="list_item_title"></div>\n<div class="list_item_description"></div>\n\n<div class="list_item_buttons">\n  <a class="list_item_edit_button" title="',I18n.t("pageflow.editor.templates.list_item.edit"),'"></a>\n  <a class="list_item_remove_button" title="',I18n.t("pageflow.editor.templates.list_item.remove"),'"></a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/loading"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="spinner">\n  <div class="rect1"></div>\n  <div class="rect2"></div>\n  <div class="rect3"></div>\n  <div class="rect4"></div>\n  <div class="rect5"></div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/locked"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="checking notice">\n  <p>',I18n.t("pageflow.editor.templates.locked.loading"),'</p>\n\n  <a class="close" href="#">',I18n.t("pageflow.editor.templates.locked.close"),'</a>\n</div>\n\n<div class="error notice">\n  <div class="message"></div>\n\n  <a class="close" href="#">',I18n.t("pageflow.editor.templates.locked.close"),'</a>\n  <a class="break" href="#">',I18n.t("pageflow.editor.templates.locked.open_here"),"</a>\n</div>\n\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/nested_files"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<h2></h2>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/notifications"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li class="uploading"><span class="count">0</span>',I18n.t("pageflow.editor.templates.notification.upload_pending"),'</li>\n<li class="failed"><span class="count">0</span> <span class="description">',I18n.t("pageflow.editor.templates.notification.save_error"),'</span> <a class="retry">',I18n.t("pageflow.editor.templates.notification.retry"),'</a></li>\n<li class="saving">',I18n.t("pageflow.editor.templates.notification.saving"),'</li>\n<li class="saved">',I18n.t("pageflow.editor.templates.notification.saved"),'</li>\n\n<li class="confirmable_files">\n  ',I18n.t("pageflow.editor.templates.notification.approve_files",{num_files:'<span class="count">0</span>'}),'\n  <a href="#/confirmable_files" class="display_confirmable_files">',I18n.t("pageflow.editor.templates.notification.show"),"</a>\n</li>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/other_entries_blank_slate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("",I18n.t("pageflow.editor.templates.other_entries_blank_slate.none_available"),"\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/other_entry_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a href="">\n  <span class="title"></span>\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/page_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a href="">\n  <span class="type_pictogram"></span>\n  <span class="page_thumbnail"></span>\n  <span class="title"></span>\n  <span class="failure_icon" title="',I18n.t("pageflow.editor.templates.page_item.save_error"),'" />\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/page_link_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div>\n  <span class="missing_page_thumbnail"></span>\n  <span class="page_thumbnail"></span>\n  <div class="title"></div>\n  <div class="label"></div>\n  <a class="remove" title="',I18n.t("pageflow.editor.templates.page_link_item.remove"),'"></a>\n  <a class="edit" title="',I18n.t("pageflow.editor.templates.page_link_item.edit"),'"></a>\n<div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/page_links"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name">',I18n.t("pageflow.editor.templates.page_links.label"),'</span>\n</label>\n<ul class="links outline"></ul>\n\n<a href="" class="add_link">',I18n.t("pageflow.editor.templates.page_links.add"),"</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/page_selection"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="box">\n  <h2>',I18n.t("pageflow.editor.templates.page_selection.title"),'</h2>\n\n  <div class="wrapper editor">\n    <div class="storyline_picker">\n    </div>\n  </div>\n\n  <div class="footer">\n    <a href="" class="close">',I18n.t("pageflow.editor.templates.page_selection.cancel"),"</a>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/publish_entry"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="files_pending notice">\n  <p>',I18n.t("pageflow.editor.templates.publish_entry.files_pending_notice"),'</p>\n  <p><a href="#files">',I18n.t("pageflow.editor.templates.publish_entry.show_files"),'</a></p>\n</div>\n\n<div>\n  <div class="published notice">\n    <p>',I18n.t("pageflow.editor.templates.publish_entry.published_notice"),'</p>\n    <p><a href="" target="_blank">',I18n.t("pageflow.editor.templates.publish_entry.view_revisions"),'</a></p>\n  </div>\n\n  <div class="not_published notice">\n      ',I18n.t("pageflow.editor.templates.publish_entry.not_published_notice"),"\n  </div>\n\n  <h2>",I18n.t("pageflow.editor.templates.publish_entry.publish_current"),'</h2>\n\n  <div class="radio_input">\n    <input id="publish_entry_forever" type="radio" name="mode" value="publish_forever">\n    <label for="publish_entry_forever">',I18n.t("pageflow.editor.templates.publish_entry.unlimited"),'</label>\n  </div>\n\n  <div class="radio_input">\n    <input id="publish_entry_until" type="radio" name="mode" value="publish_until">\n    <label for="publish_entry_until">',I18n.t("pageflow.editor.templates.publish_entry.until_including"),'</label>\n  </div>\n\n  <div class="publish_until_fields disabled">\n    <label>\n      ',I18n.t("pageflow.editor.templates.publish_entry.date"),'\n      <input type="text" name="publish_until">\n    </label>\n\n    <label>\n      ',I18n.t("pageflow.editor.templates.publish_entry.time"),'\n      <input type="text" name="publish_until_time" value="00:00">\n    </label>\n  </div>\n\n  <div class="check_box_input">\n    <input id="publish_password_protected" type="checkbox" name="password_protected" value="1">\n    <label for="publish_password_protected">\n      <span class="name">\n        ',I18n.t("pageflow.editor.templates.publish_entry.password_protected"),'\n      </span>\n      <span class="inline_help">\n        ',I18n.t("pageflow.editor.templates.publish_entry.password_help"),'\n      </span>\n    </label>\n  </div>\n\n  <div class="password_fields disabled">\n    <label>\n      ',I18n.t("pageflow.editor.templates.publish_entry.user_name"),'\n      <input type="text" name="user_name" disabled>\n    </label>\n\n    <label>\n      ',I18n.t("pageflow.editor.templates.publish_entry.password"),'\n      <input type="text" name="password">\n    </label>\n\n    <p class="already_published_with_password">\n      ',I18n.t("pageflow.editor.templates.publish_entry.already_published_with_password_help"),'\n    </p>\n    <p class="previously_published_with_password">\n      ',I18n.t("pageflow.editor.templates.publish_entry.previously_published_with_password_help"),'\n    </p>\n    <p class="already_published_without_password">\n      ',I18n.t("pageflow.editor.templates.publish_entry.already_published_without_password_help"),'\n    </p>\n  </div>\n\n  <button class="save" disabled>',I18n.t("pageflow.editor.templates.publish_entry.publish"),'</a>\n</div>\n\n<div class="success notice">\n  <p>',I18n.t("pageflow.editor.templates.publish_entry.publish_success"),"</p>\n  <p>",I18n.t("pageflow.editor.templates.publish_entry.published_url_hint"),'</p>\n  <p><a href="" target="_blank"></a></p>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/select_button"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<button class="">\n  <span class="label">',I18n.t("pageflow.editor.templates.select_button.select"),'</span>\n</button>\n\n<div class="dropdown">\n  <ul class="dropdown-menu" role="menu">\n  </ul>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/static_thumbnail"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/storyline_outline"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<h2>",I18n.t("pageflow.editor.templates.storyline_outline.header"),'</h2>\n<ul class="storyline_outline_chapters chapters"></ul>\n\n<a class="add_chapter" href="">',I18n.t("pageflow.editor.templates.storyline_outline.new_chapter"),"</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/storyline_picker"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="storyline_picker_storylines">\n  <div class="storyline_picker_select_region"></div>\n  <a href="" class="add_storyline" title="',I18n.t("pageflow.editor.templates.storyline_picker.add"),'"></a>\n  <a href="" class="edit_storyline" title="',I18n.t("pageflow.editor.templates.storyline_picker.edit"),'"></a>\n</div>\n\n<div class="storyline_picker_main_region"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/table_cell"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/text_tracks"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="text_tracks_container">\n  <div class="files_upload_panel">\n    <div class="files_panel">\n    </div>\n    <a class="upload" href="">',I18n.t("pageflow.editor.templates.text_tracks.upload"),'</a>\n  </div>\n\n  <div class="selected_file_panel">\n    <h2 class="selected_file_header">',I18n.t("pageflow.editor.templates.text_tracks.edit_file_header"),'</h2>\n    <div class="selected_file_region">\n    </div>\n  </div>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/theme_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<span class="theme_name"></span>\n<span class="button_or_checkmark">\n  <p class="theme_in_use"></p>\n  <a class="use_theme">',I18n.t("pageflow.editor.templates.theme.use"),"</a>\n</span>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/uploadable_files"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<h2></h2>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/editor/templates/widget_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="widget_type">\n</div>\n<a class="settings" title="',I18n.t("pageflow.editor.templates.widget_item.settings"),'"></a>\n');return __p.join("")}}.call(this),pageflow.dialogView={events:{"click .close":function(){this.close()},"click .box":function(){return!1},click:function(){this.close()}}},pageflow.failureIndicatingView={modelEvents:{"change:failed":"updateFailIndicator"},events:{"click .retry":function(){return pageflow.editor.failures.retry(),!1}},onRender:function(){this.updateFailIndicator()},updateFailIndicator:function(){this.$el.toggleClass("failed",this.model.isFailed()),this.$el.find(".failure .message").text(this.model.getFailureMessage())}},pageflow.loadable={modelEvents:{"change:id":function(){this.$el.removeClass("creating")},destroying:function(){this.$el.addClass("destroying")},error:function(){this.$el.removeClass("destroying")}},render:function(){this.model.isNew()&&this.$el.addClass("creating"),this.model.isDestroying&&this.model.isDestroying()&&this.$el.addClass("destroying")}},pageflow.selectableView={initialize:function(){this.selectionAttribute=this.selectionAttribute||this.model.modelName,this.listenTo(this.options.selection,"change:"+this.selectionAttribute,function(e,t){this.$el.toggleClass("active",t===this.model)}),this.$el.toggleClass("active",this.options.selection.get(this.selectionAttribute)===this.model)},select:function(){this.options.selection.set(this.selectionAttribute,this.model)},onClose:function(){this.options.selection.get(this.selectionAttribute)===this.model&&this.options.selection.set(this.selectionAttribute,null)}},pageflow.ModelThumbnailView=Backbone.Marionette.View.extend({className:"model_thumbnail",modelEvents:{"change:configuration":"update"},render:function(){return this.update(),this},update:function(){if(this.model)if(_.isFunction(this.model.thumbnailFile)){var e=this.model&&this.model.thumbnailFile();if(this.thumbnailView&&this.currentFileThumbnail==e)return;this.currentFileThumbnail=e,this.newThumbnailView=new pageflow.FileThumbnailView({model:e,className:"thumbnail file_thumbnail",imageUrlPropertyName:this.options.imageUrlPropertyName})}else this.newThumbnailView=this.newThumbnailView||new pageflow.StaticThumbnailView({model:this.model});this.thumbnailView&&this.thumbnailView.close(),this.model&&(this.thumbnailView=this.subview(this.newThumbnailView),this.$el.append(this.thumbnailView.el))}}),pageflow.FileItemView=Backbone.Marionette.ItemView.extend({tagName:"li",template:"templates/file_item",mixins:[pageflow.loadable],ui:{fileName:".file_name",selectButton:".select",settingsButton:".settings",removeButton:".remove",confirmButton:".confirm",cancelButton:".cancel",retryButton:".retry",thumbnail:".file_thumbnail",stageItems:".file_stage_items",metaData:"tbody.attributes",downloads:"tbody.downloads",
downloadLink:"a.original"},events:{"click .select":function(){return!1!==this.options.selectionHandler.call(this.model)&&pageflow.editor.navigate(this.options.selectionHandler.getReferer(),{trigger:!0}),!1},"click .settings":function(){pageflow.FileSettingsDialogView.open({model:this.model})},"click .cancel":"cancel","click .confirm":"confirm","click .remove":"destroy","click .retry":"retry","click .file_thumbnail":"toggleExpanded"},modelEvents:{change:"update"},onRender:function(){this.update(),this.subview(new pageflow.FileThumbnailView({el:this.ui.thumbnail,model:this.model})),this.subview(new pageflow.CollectionView({el:this.ui.stageItems,collection:this.model.stages,itemViewConstructor:pageflow.FileStageItemView})),_.each(this.metaDataViews(),function(e){this.ui.metaData.append(this.subview(e).el)},this)},update:function(){this.isClosed||(this.$el.attr("data-id",this.model.id),this.ui.fileName.text(this.model.get("file_name")||"(Unbekannt)"),this.ui.downloadLink.attr("href",this.model.get("original_url")),this.ui.downloads.toggle(this.model.isUploaded()&&!_.isEmpty(this.model.get("original_url"))),this.ui.selectButton.toggle(!!this.options.selectionHandler),this.ui.settingsButton.toggle(!this.model.isNew()),this.ui.cancelButton.toggle(this.model.isUploading()),this.ui.confirmButton.toggle(this.model.isConfirmable()),this.ui.removeButton.toggle(!this.model.isUploading()),this.ui.retryButton.toggle(this.model.isRetryable()),this.updateToggleTitle())},metaDataViews:function(){var t=this.model;return _.map(this.options.metaDataAttributes,function(e){return"string"==typeof e&&(e={name:e,valueView:pageflow.TextFileMetaDataItemValueView}),new pageflow.FileMetaDataItemView(_.extend({model:t},e))})},toggleExpanded:function(){this.$el.toggleClass("expanded"),this.updateToggleTitle()},updateToggleTitle:function(){this.ui.thumbnail.attr("title",this.$el.hasClass("expanded")?"Details ausblenden":"Details einblenden")},destroy:function(){confirm("Datei wirklich wirklich l\xf6schen?")&&this.model.destroy()},cancel:function(){this.model.cancelUpload()},confirm:function(){pageflow.editor.navigate("/confirmable_files?type="+this.model.modelName+"&id="+this.model.id,{trigger:!0})},retry:function(){this.model.retry()}}),pageflow.FileMetaDataItemValueView=Backbone.Marionette.ItemView.extend({template:"templates/file_meta_data_item_value_view",ui:{value:".value",editLink:".edit"},events:{"click .edit":function(){pageflow.FileSettingsDialogView.open({model:this.model,tabName:this.options.settingsDialogTabLink})}},modelEvents:{change:"toggleEditLink"},onRender:function(){this.listenTo(this.model,"change:"+this.options.name,this.update),this.toggleEditLink(),this.update()},update:function(){this.ui.value.text(this.getText()||I18n.t("pageflow.editor.views.file_meta_data_item_value_view.blank"))},getText:function(){throw new Error("Not implemented")},toggleEditLink:function(){this.ui.editLink.toggle(!!this.options.settingsDialogTabLink&&!this.model.isNew())}}),pageflow.ChapterItemView=Backbone.Marionette.ItemView.extend({tagName:"li",template:"templates/chapter_item",ui:{title:"> a > .title",number:"> a > .number",pages:"ul.pages"},modelEvents:{change:"update"},onRender:function(){var e=this.options.sortable?pageflow.SortableCollectionView:pageflow.CollectionView;this.subview(new e({el:this.ui.pages,collection:this.model.pages,itemViewConstructor:this.options.pageItemView||pageflow.NavigatablePageItemView,itemViewOptions:this.options.pageItemViewOptions,connectWith:"ul.pages"})),this.update()},update:function(){this.ui.title.text(this.model.get("title")||I18n.t("pageflow.editor.views.chapter_item_view.unnamed")),this.ui.number.text(I18n.t("pageflow.editor.views.chapter_item_view.chapter")+" "+(this.model.get("position")+1))}}),pageflow.PageItemView=Backbone.Marionette.ItemView.extend({tagName:"li",template:"templates/page_item",ui:{title:".title",pictogram:".type_pictogram",pageThumbnail:".page_thumbnail"},modelEvents:{"change:title":"update","change:active":"update"},onRender:function(){this.subview(new pageflow.PageThumbnailView({el:this.ui.pageThumbnail,model:this.model})),this.update()},update:function(){this.$el.attr("data-id",this.model.id),this.$el.attr("data-perma-id",this.model.get("perma_id")),this.$el.toggleClass("active",this.model.get("active")),this.$el.toggleClass("disabled",!(!this.options.isDisabled||!this.options.isDisabled(this.model))),this.$el.toggleClass("display_in_navigation",!!this.model.configuration.get("display_in_navigation")),this.$el.removeClass(pageflow.editor.pageTypes.pluck("name").join(" ")).addClass(this.model.get("template")),this.ui.pictogram.attr("title",this._getPictogramTitle()),this.ui.title.text(this.model.title()||I18n.t("pageflow.editor.views.page_item_view.unnamed"))},_getPictogramTitle:function(){var e=I18n.t(this.model.pageType().translationKey());return e+=" Seite",this.options.displayInNavigationHint&&!this.model.configuration.get("display_in_navigation")&&(e+=" (nicht in Navigationsleiste)"),e}}),pageflow.ReferenceInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView],template:"pageflow/editor/templates/inputs/reference",className:"reference_input",ui:{title:".title",chooseButton:".choose",unsetButton:".unset",buttons:"button"},events:{"click .choose":function(){var t=this;return this.chooseValue().then(function(e){t.model.set(t.options.propertyName,e)}),!1},"click .unset":function(){return this.model.unset(this.options.propertyName),!1}},initialize:function(){this.listenTo(this.model,"change:"+this.options.propertyName,this.update)},onRender:function(){this.update(),this.listenTo(this.model,"change:"+this.options.propertyName,this.update)},chooseValue:function(){return this.choose().then(function(e){return e.get("perma_id")})},choose:function(){throw"Not implemented: Override ReferenceInputView#choose to return a promise"},getTarget:function(){throw"Not implemented: Override ReferenceInputView#getTarget"},createThumbnailView:function(e){return new pageflow.ModelThumbnailView({model:e})},update:function(){if(!this.isClosed){var e=this.getTarget(this.model.get(this.options.propertyName));this.ui.title.text(e?e.title():I18n.t("pageflow.editor.views.inputs.reference_input_view.none")),this.ui.unsetButton.toggle(!!e&&!this.options.hideUnsetButton),this.ui.unsetButton.attr("title",this.options.unsetButtonTitle||I18n.t("pageflow.editor.views.inputs.reference_input_view.unset")),this.ui.chooseButton.attr("title",this.options.chooseButtonTitle||I18n.t("pageflow.editor.views.inputs.reference_input_view.choose")),this.updateDisabledAttribute(this.ui.buttons),this.thumbnailView&&this.thumbnailView.close(),this.thumbnailView=this.subview(this.createThumbnailView(e)),this.ui.title.before(this.thumbnailView.el)}}}),pageflow.ConfigurationEditorView.register("audio",{configure:function(){this.tab("general",function(){this.group("general"),this.input("additional_title",pageflow.TextInputView),this.input("additional_description",pageflow.TextAreaInputView,{size:"short"})}),this.tab("files",function(){this.input("audio_file_id",pageflow.FileInputView,{collection:pageflow.audioFiles,defaultTextTrackFilePropertyName:"default_text_track_file_id"}),this.group("background"),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1})}),this.tab("options",function(){this.input("autoplay",pageflow.CheckBoxInputView),this.group("options",{canPauseAtmo:!0})})}}),pageflow.ConfigurationEditorView.register("background_image",{configure:function(){this.tab("general",function(){this.group("general")}),this.tab("files",function(){this.group("background"),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1})}),this.tab("options",function(){this.group("options")})}}),pageflow.ConfigurationEditorTabView.groups.define("background",function(e){var t=(e=e||{}).propertyNamePrefix?e.propertyNamePrefix+"_":"",i=t+"background_type";this.input(i,pageflow.SelectInputView,{values:["image","video"],ensureValueDefined:!0}),this.input(t+"background_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,visibleBinding:i,visibleBindingValue:"image",fileSelectionHandlerOptions:e}),this.input(t+"video_file_id",pageflow.FileInputView,{collection:pageflow.videoFiles,visibleBinding:i,visibleBindingValue:"video",fileSelectionHandlerOptions:e}),this.input(t+"poster_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,visibleBinding:i,visibleBindingValue:"video",fileSelectionHandlerOptions:e}),this.input(t+"mobile_poster_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,visibleBinding:i,visibleBindingValue:"video",fileSelectionHandlerOptions:e})}),pageflow.ConfigurationEditorTabView.groups.define("general",function(){this.input("title",pageflow.TextInputView,{required:!0}),this.input("hide_title",pageflow.CheckBoxInputView),this.input("tagline",pageflow.TextInputView),this.input("subtitle",pageflow.TextInputView),this.input("text",pageflow.TextAreaInputView),this.input("text_position",pageflow.SelectInputView,{values:pageflow.Page.textPositions}),this.input("gradient_opacity",pageflow.SliderInputView),this.input("invert",pageflow.CheckBoxInputView)}),pageflow.ConfigurationEditorTabView.groups.define("options",function(e){var t=pageflow.entry.getTheme();this.input("display_in_navigation",pageflow.CheckBoxInputView),t.supportsEmphasizedPages()&&this.input("emphasize_in_navigation",pageflow.CheckBoxInputView),this.group("page_transitions"),pageflow.features.isEnabled("delayed_text_fade_in")&&this.input("delayed_text_fade_in",pageflow.SelectInputView,{values:pageflow.Page.delayedTextFadeIn}),this.input("description",pageflow.TextAreaInputView,{size:"short",disableLinks:!0}),this.input("atmo_audio_file_id",pageflow.FileInputView,{collection:pageflow.audioFiles}),e.canPauseAtmo&&this.input("atmo_during_playback",pageflow.SelectInputView,{values:pageflow.Atmo.duringPlaybackModes}),t.supportsScrollIndicatorModes()&&(this.input("scroll_indicator_mode",pageflow.SelectInputView,{values:pageflow.Page.scrollIndicatorModes}),this.input("scroll_indicator_orientation",pageflow.SelectInputView,{values:pageflow.Page.scrollIndicatorOrientations}))}),pageflow.ConfigurationEditorTabView.groups.define("page_link",function(){this.input("label",pageflow.TextInputView),this.input("target_page_id",pageflow.PageLinkInputView),this.input("page_transition",pageflow.SelectInputView,{translationKeyPrefix:"pageflow.page_transitions",includeBlank:!0,blankTranslationKey:"pageflow.editor.views.edit_page_link_view.default_page_transition",values:pageflow.pageTransitions.names()})}),pageflow.ConfigurationEditorTabView.groups.define("page_transitions",function(){this.input("transition",pageflow.SelectInputView,{translationKeyPrefix:"pageflow.page_transitions",values:pageflow.pageTransitions.names()})}),pageflow.ConfigurationEditorView.register("video",{configure:function(){this.tab("general",function(){this.group("general"),this.input("additional_title",pageflow.TextInputView),this.input("additional_description",pageflow.TextAreaInputView,{size:"short"})}),this.tab("files",function(){this.input("video_file_id",pageflow.FileInputView,{collection:pageflow.videoFiles,positioning:!1,defaultTextTrackFilePropertyName:"default_text_track_file_id"}),this.input("poster_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1}),this.input("mobile_poster_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1}),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1})}),this.tab("options",function(){this.input("autoplay",pageflow.CheckBoxInputView),pageflow.features.isEnabled("auto_change_page")&&this.input("auto_change_page_on_ended",pageflow.CheckBoxInputView),this.group("options",{canPauseAtmo:!0})})}}),pageflow.BackButtonDecoratorView=Backbone.Marionette.Layout.extend({template:"templates/back_button_decorator",className:"back_button_decorator",events:{"click a.back":"goBack"},regions:{outlet:".outlet"},onRender:function(){this.outlet.show(this.options.view)},goBack:function(){editor.navigate("/",{trigger:!0})}}),pageflow.BackgroundPositioningPreviewView=Backbone.Marionette.ItemView.extend({template:"templates/background_positioning_preview",className:"preview",modelEvents:{change:"update"},ui:{image:".image",label:".label"},onRender:function(){this.update()},update:function(){var e=this.options.ratio,t=this.options.maxSize,i=1<e?t:t*e,n=1<e?t/e:t;this.ui.image.css({width:i+"px",height:n+"px",backgroundImage:this.imageValue(),backgroundPosition:this.model.getFilePosition(this.options.propertyName,"x")+"% "+this.model.getFilePosition(this.options.propertyName,"y")+"%"}),this.ui.label.text(this.options.label)},imageValue:function(){var e=this.model.getReference(this.options.propertyName,this.options.filesCollection);return e?'url("'+e.getBackgroundPositioningImageUrl()+'")':"none"}}),pageflow.BackgroundPositioningSlidersView=Backbone.Marionette.ItemView.extend({template:"templates/background_positioning_sliders",className:"",ui:{container:".container",sliderHorizontal:".horizontal.slider",sliderVertical:".vertical.slider"},events:{"mousedown img":function(e){function t(e){n.saveFromEvent(e)}function i(){$(".background_positioning.dialog").off("mousemove",t).off("mouseup",i)}var n=this;n.saveFromEvent(e),$(".background_positioning.dialog").on("mousemove",t).on("mouseup",i)},"dragstart img":function(e){e.preventDefault()}},onRender:function(){var i=this,e=this.model.getReference(this.options.propertyName,this.options.filesCollection),t=$("<img />").attr("src",e.getBackgroundPositioningImageUrl());this.ui.container.append(t),this.ui.sliderVertical.slider({orientation:"vertical",step:.01,value:100-this.model.getFilePosition(this.options.propertyName,"y"),change:function(){i.save()},slide:function(e,t){i.save({y:t.value})}}),this.ui.sliderHorizontal.slider({orientation:"horizontal",step:.01,value:this.model.getFilePosition(this.options.propertyName,"x"),change:function(){i.save()},slide:function(e,t){i.save({y:t.value})}})},onShow:function(){},saveFromEvent:function(e){var t=e.pageX-this.ui.container.offset().left,i=e.pageY-this.ui.container.offset().top;this.ui.sliderHorizontal.slider("value",t/this.ui.container.width()*100),this.ui.sliderVertical.slider("value",100*(1-i/this.ui.container.height())),this.save()},save:function(e){var t=t in(e=e||{})?e.x:this.ui.sliderHorizontal.slider("value"),i=i in e?e.y:100-this.ui.sliderVertical.slider("value");this.model.setFilePosition(this.options.propertyName,"x",t),this.model.setFilePosition(this.options.propertyName,"y",i)}}),pageflow.BackgroundPositioningView=Backbone.Marionette.ItemView.extend({template:"templates/background_positioning",className:"background_positioning dialog",mixins:[pageflow.dialogView],ui:{previews:".previews > div",wrapper:".wrapper"},previews:{ratio16to9:16/9,ratio16to9Portrait:9/16,ratio4to3:4/3,ratio4to3Portrait:.75,banner:5},events:{"click .save":function(){this.save(),this.close()}},initialize:function(){this.transientModel=this.model.clone()},onRender:function(){this.ui.wrapper.append(this.subview(new pageflow.BackgroundPositioningSlidersView({model:this.transientModel,propertyName:this.options.propertyName,filesCollection:this.options.filesCollection})).el),this.createPreviews()},save:function(){this.model.setFilePositions(this.options.propertyName,this.transientModel.getFilePosition(this.options.propertyName,"x"),this.transientModel.getFilePosition(this.options.propertyName,"y"))},createPreviews:function(){var i=this;_.each(i.previews,function(e,t){i.ui.previews.append(i.subview(new pageflow.BackgroundPositioningPreviewView({model:i.transientModel,propertyName:i.options.propertyName,filesCollection:i.options.filesCollection,ratio:e,maxSize:200,label:I18n.t("pageflow.editor.templates.background_positioning.previews."+t)})).el)})}}),pageflow.BackgroundPositioningView.open=function(e){pageflow.app.dialogRegion.show(new pageflow.BackgroundPositioningView(e).render())},pageflow.BlankEntryView=Backbone.Marionette.ItemView.extend({template:"templates/blank_entry",className:"blank_entry"}),pageflow.ChangeThemeDialogView=Backbone.Marionette.ItemView.extend({template:"templates/change_theme_dialog",className:"change_theme dialog editor",mixins:[pageflow.dialogView],ui:{content:".content",themesPanel:".themes_panel",previewPanel:".preview_panel",previewImageRegion:".preview_image_region",previewImage:".preview_image",previewHeaderThemeName:".preview_header_theme_name"},initialize:function(){this.selection=new Backbone.Model;var e=this.options.themes.findByName(this.options.themeInUse);this.selection.set("theme",e),this.listenTo(this.selection,"change:theme",function(){this.selection.get("theme")||this.selection.set("theme",e),this.update()})},onRender:function(){var e=this.options.themes;this.themesView=new pageflow.CollectionView({collection:e,tagName:"ul",itemViewConstructor:pageflow.ThemeItemView,itemViewOptions:{selection:this.selection,onUse:this.options.onUse,themes:e,themeInUse:this.options.themeInUse}}),this.ui.themesPanel.append(this.subview(this.themesView).el),this.ui.previewPanel.append(this.subview(new pageflow.LoadingView({tagName:"div"})).el),this.update()},update:function(){var e=this,t=this.options.themes.findByName(e.selection.get("theme").get("name"));this.ui.previewImage.hide(),this.ui.previewImage.one("load",function(){$(this).show()}),this.ui.previewImage.attr("src",t.get("preview_image_url")),this.ui.previewHeaderThemeName.text(t.title())}}),pageflow.ChangeThemeDialogView.changeTheme=function(e){return $.Deferred(function(t){e.onUse=function(e){t.resolve(e),i.close()};var i=new pageflow.ChangeThemeDialogView(e);i.on("close",function(){t.reject()}),pageflow.app.dialogRegion.show(i.render())}).promise()},pageflow.ConfirmEncodingView=Backbone.Marionette.ItemView.extend({template:"templates/confirm_encoding",className:"confirm_encoding",ui:{blankSlate:".blank_slate",videoFilesPanel:".video_files_panel",audioFilesPanel:".audio_files_panel",summary:".summary",confirmButton:"button"},events:{"click button":function(){this.model.saveAndReset()}},initialize:function(){this.confirmableVideoFiles=pageflow.videoFiles.confirmable(),this.confirmableAudioFiles=pageflow.audioFiles.confirmable()},onRender:function(){this.listenTo(this.model,"change",this.updateSummary),this.listenTo(this.confirmableAudioFiles,"add remove",this.updateBlankSlate),this.listenTo(this.confirmableVideoFiles,"add remove",this.updateBlankSlate),this.ui.videoFilesPanel.append(this.subview(new pageflow.CollectionView({tagName:"ul",className:"confirmable_files",collection:this.confirmableVideoFiles,itemViewConstructor:pageflow.ConfirmableFileItemView,itemViewOptions:{selectedFiles:this.model.videoFiles}})).el),this.ui.audioFilesPanel.append(this.subview(new pageflow.CollectionView({tagName:"ul",className:"confirmable_files",collection:this.confirmableAudioFiles,itemViewConstructor:pageflow.ConfirmableFileItemView,itemViewOptions:{selectedFiles:this.model.audioFiles}})).el),this.update()},update:function(){this.updateBlankSlate(),this.updateSummary()},updateBlankSlate:function(){this.ui.blankSlate.toggle(!this.confirmableVideoFiles.length&&!this.confirmableAudioFiles.length),this.ui.videoFilesPanel.toggle(!!this.confirmableVideoFiles.length),this.ui.audioFilesPanel.toggle(!!this.confirmableAudioFiles.length)},updateSummary:function(){this.ui.summary.html(this.model.get("summary_html")),this.ui.confirmButton.toggleClass("checking",!!this.model.get("checking")),this.model.get("empty")||this.model.get("exceeding")||this.model.get("checking")?this.ui.confirmButton.attr("disabled",!0):this.ui.confirmButton.removeAttr("disabled")}}),pageflow.ConfirmEncodingView.create=function(e){return new pageflow.BackButtonDecoratorView({view:new pageflow.ConfirmEncodingView(e)})},pageflow.ConfirmUploadView=Backbone.Marionette.Layout.extend({template:"templates/confirm_upload",className:"confirm_upload editor dialog",mixins:[pageflow.dialogView],regions:{selectedFileRegion:".selected_file_region"},ui:{filesPanel:".files_panel"},events:{"click .upload":function(){this.options.fileUploader.submit(),this.close()}},initialize:function(){this.selection=new Backbone.Model,this.listenTo(this.selection,"change",this.update)},onRender:function(){this.options.fileTypes.each(function(e){this.ui.filesPanel.append(this.subview(new pageflow.UploadableFilesView({collection:this.options.files[e.collectionName],fileType:e,selection:this.selection})).el)},this),this.update()},onClose:function(){this.options.fileUploader.abort()},update:function(){var e=this.selection.get("file");e?this.selectedFileRegion.show(new pageflow.EditFileView({model:e})):this.selectedFileRegion.close()}}),pageflow.ConfirmUploadView.watch=function(e,t,i){e.on("new:batch",function(){pageflow.ConfirmUploadView.open({fileUploader:e,fileTypes:t,files:i})})},pageflow.ConfirmUploadView.open=function(e){pageflow.app.dialogRegion.show(new pageflow.ConfirmUploadView(e))},pageflow.ConfirmableFileItemView=Backbone.Marionette.ItemView.extend({tagName:"li",template:"templates/confirmable_file_item",ui:{fileName:".file_name",duration:".duration",label:"label",checkBox:"input",removeButton:".remove"},events:{"click .remove":"destroy","change input":"updateSelection"},onRender:function(){this.ui.label.attr("for",this.cid),this.ui.checkBox.attr("id",this.cid),this.ui.checkBox.prop("checked",this.options.selectedFiles.contains(this.model)),this.ui.fileName.text(this.model.get("file_name")||"(Unbekannt)"),this.ui.duration.text(this.model.get("duration")||"-")},destroy:function(){confirm("Datei wirklich wirklich l\xf6schen?")&&this.model.destroy()},updateSelection:function(){this.ui.checkBox.is(":checked")?this.options.selectedFiles.add(this.model):this.options.selectedFiles.remove(this.model)}}),pageflow.DisabledAtmoIndicatorView=Backbone.Marionette.View.extend({className:"disabled_atmo_indicator",events:{click:function(){pageflow.atmo.enable()}},initialize:function(){this.listenTo(pageflow.events,"atmo:disabled",function(){this.$el.show()}),this.listenTo(pageflow.events,"atmo:enabled",function(){this.$el.hide()}),this.$el.toggle(pageflow.atmo.disabled)},render:function(){return this.$el.attr("title",I18n.t("pageflow.editor.atmo.disabled")),this}}),pageflow.DropDownButtonItemListView=function(e){return new pageflow.CollectionView({tagName:"ul",className:"drop_down_button_items",collection:e.items,itemViewConstructor:pageflow.DropDownButtonItemView})},pageflow.DropDownButtonItemView=Backbone.Marionette.ItemView.extend({template:"pageflow/editor/templates/drop_down_button_item",tagName:"li",className:"drop_down_button_item",ui:{link:"> a",label:"> .label"},events:{"click > a":function(){return this.model.get("disabled")||this.model.selected(),!1}},modelEvents:{change:"update"},onRender:function(){this.update(),this.model.get("items")&&this.appendSubview(new pageflow.DropDownButtonItemListView({items:this.model.get("items")}))},update:function(){this.ui.link.text(this.model.get("label")),this.ui.label.text(this.model.get("label")),this.$el.toggleClass("is_selectable",!!this.model.selected),this.$el.toggleClass("is_disabled",!!this.model.get("disabled")),this.$el.toggleClass("is_checked",!!this.model.get("checked")),this.$el.data("name",this.model.get("name"))}}),pageflow.DropDownButtonView=Backbone.Marionette.ItemView.extend({template:"pageflow/editor/templates/drop_down_button",className:"drop_down_button",ui:{button:"> button",menu:".drop_down_button_menu"},events:{mouseenter:function(){this.positionMenu(),this.showMenu()},mouseleave:function(){this.scheduleHideMenu()}},onRender:function(){var e=this;this.ui.button.toggleClass("has_icon_and_text",!!this.options.label),this.ui.button.toggleClass("has_icon_only",!this.options.label),this.ui.button.text(this.options.label),this.ui.menu.append(this.subview(new pageflow.DropDownButtonItemListView({items:this.options.items})).el),this.ui.menu.on({mouseenter:function(){e.showMenu()},mouseleave:function(){e.scheduleHideMenu()}}),this.ui.menu.appendTo("#editor_menu_container")},onClose:function(){this.ui.menu.remove()},positionMenu:function(){var e=this.$el.offset();this.ui.menu.css({top:e.top+this.$el.height(),left:e.left})},showMenu:function(){this.ensureOnlyOneDropDownButtonShowsMenu(),clearTimeout(this.hideMenuTimeout),this.ui.menu.addClass("is_visible")},ensureOnlyOneDropDownButtonShowsMenu:function(){pageflow.DropDownButtonView.currentlyShowingMenu&&pageflow.DropDownButtonView.currentlyShowingMenu.hideMenu(),pageflow.DropDownButtonView.currentlyShowingMenu=this},hideMenu:function(){clearTimeout(this.hideMenuTimeout),this.isClosed||this.ui.menu.removeClass("is_visible")},scheduleHideMenu:function(){this.hideMenuTimeout=setTimeout(_.bind(this.hideMenu,this),300)}}),pageflow.EditChapterView=Backbone.Marionette.Layout.extend({template:"templates/edit_chapter",className:"edit_chapter",mixins:[pageflow.failureIndicatingView],regions:{formContainer:".form_container"},events:{"click a.back":"goBack","click a.destroy":"destroy"},onRender:function(){var e=new pageflow.ConfigurationEditorView({model:this.model.configuration});this.configure(e),this.formContainer.show(e)},configure:function(e){var t=this;e.tab("general",function(){this.input("title",pageflow.TextInputView,{model:t.model}),pageflow.features.isEnabled("chapter_hierachy")&&this.input("display_parent_page_button",pageflow.CheckBoxInputView)})},destroy:function(){confirm(I18n.t("pageflow.editor.views.edit_chapter_view.confirm_destroy"))&&(this.model.destroy(),this.goBack())},goBack:function(){editor.navigate("/",{trigger:!0})}}),pageflow.EditEntryView=Backbone.Marionette.ItemView.extend({template:"templates/edit_entry",mixins:[pageflow.failureIndicatingView,pageflow.tooltipContainer],ui:{publishButton:"a.publish",publicationStateButton:"a.publication_state",menu:".menu",storylines:".edit_entry_storylines"},events:{"click a.close":function(){$.when(pageflow.editLock.release()).then(function(){window.location="/admin/entries/"+pageflow.entry.id})},"click a.publish":function(){return this.ui.publishButton.hasClass("disabled")||editor.navigate("/publish",{trigger:!0}),!1},"click .menu a":function(e){return editor.navigate($(e.target).data("path"),{trigger:!0}),!1}},onRender:function(){this._addMenuItems(),this._updatePublishButton(),this.subview(new pageflow.StorylinePickerView({el:this.ui.storylines,navigatable:!0,editable:!0,displayInNavigationHint:!0,rememberLastSelection:!0,storylineId:this.options.storylineId}))},_updatePublishButton:function(){var e=!pageflow.entry.get("publishable");this.ui.publishButton.toggleClass("disabled",e),e?this.ui.publishButton.attr("data-tooltip","pageflow.editor.views.edit_entry_view.cannot_publish"):this.ui.publishButton.removeAttr("data-tooltip")},_addMenuItems:function(){var n=this;_.each(pageflow.editor.mainMenuItems,function(e){var t=$('<li><a href="#"></a></li>'),i=t.find("a");e.path&&i.data("path",e.path),i.text(I18n.t(e.translationKey)),e.click&&$(i).click(e.click),n.ui.menu.append(t)})}}),pageflow.EditFileView=Backbone.Marionette.ItemView.extend({template:"templates/edit_file",className:"edit_file",onRender:function(){var e=this.model.fileType(),t=this.options.entry||pageflow.entry,i=new pageflow.ConfigurationEditorTabView({model:this.model.configuration,attributeTranslationKeyPrefixes:["pageflow.editor.files.attributes."+e.collectionName,"pageflow.editor.files.common_attributes","pageflow.editor.nested_files."+e.collectionName,"pageflow.editor.nested_files.common_attributes"]});i.input("file_name",pageflow.TextInputView,{model:this.model,disabled:!0}),i.input("rights",pageflow.TextInputView,{model:this.model,placeholder:t.get("default_file_rights")}),_(this.fileTypeInputs()).each(function(e){i.input(e.name,e.inputView,e.inputViewOptions)}),i.input("original_url",pageflow.UrlDisplayView,{model:this.model}),this.appendSubview(i)},fileTypeInputs:function(){var e=this.model.fileType();return _.chain(e.configurationEditorInputs).map(function(e){return _.isFunction(e)?e(this.model):e},this).flatten().value()}}),pageflow.EditMetaDataView=Backbone.Marionette.Layout.extend({template:"templates/edit_meta_data",className:"edit_meta_data",mixins:[pageflow.failureIndicatingView],regions:{formContainer:".form_fields"},events:{"click a.back":"goBack"},onRender:function(){var t=this.model,e=new pageflow.ConfigurationEditorView({model:t.configuration,tab:this.options.tab});e.tab("general",function(){this.input("title",pageflow.TextInputView,{placeholder:t.get("entry_title")}),this.input("locale",pageflow.SelectInputView,{values:pageflow.config.availablePublicLocales,texts:_.map(pageflow.config.availablePublicLocales,function(e){return I18n.t("pageflow.public._language",{locale:e})})}),this.input("credits",pageflow.TextAreaInputView),this.input("author",pageflow.TextInputView,{placeholder:pageflow.config.defaultAuthorMetaTag}),this.input("publisher",pageflow.TextInputView,{placeholder:pageflow.config.defaultPublisherMetaTag}),this.input("keywords",pageflow.TextInputView,{placeholder:pageflow.config.defaultKeywordsMetaTag})}),e.tab("widgets",function(){var e=t.getTheme();this.input("manual_start",pageflow.CheckBoxInputView),this.input("emphasize_chapter_beginning",pageflow.CheckBoxInputView),this.input("emphasize_new_pages",pageflow.CheckBoxInputView),this.input("home_button_enabled",pageflow.CheckBoxInputView,{disabled:!e.hasHomeButton(),displayUncheckedIfDisabled:!0}),this.input("overview_button_enabled",pageflow.CheckBoxInputView,{disabled:!e.hasOverviewButton(),displayUncheckedIfDisabled:!0}),e.hasHomeButton()&&this.input("home_url",pageflow.TextInputView,{placeholder:pageflow.theming.get("pretty_url"),visibleBinding:"home_button_enabled"}),this.view(pageflow.EditWidgetsView,{model:t,widgetTypes:pageflow.editor.widgetTypes}),pageflow.features.isEnabled("selectable_themes")&&1<pageflow.themes.length&&this.view(pageflow.ThemeInputView,{themes:pageflow.themes,propertyName:"theme_name"})}),e.tab("social",function(){this.input("share_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,fileSelectionHandler:"entryConfiguration"}),this.input("summary",pageflow.TextAreaInputView,{disableRichtext:!0,disableLinks:!0}),this.input("share_url",pageflow.TextInputView,{placeholder:pageflow.entry.get("pretty_url")})}),this.listenTo(t.configuration,"change:theme_name",function(){e.refresh()}),this.formContainer.show(e)},goBack:function(){editor.navigate("/",{trigger:!0})}}),pageflow.EditPageLinkView=Backbone.Marionette.Layout.extend({template:"pageflow/editor/templates/edit_page_link",regions:{formContainer:".form_container"},ui:{backButton:"a.back"},events:{"click a.back":"goBack","click a.destroy":"destroy"},onRender:function(){var e=this.options.page.pageType().createPageLinkConfigurationEditorView({model:this.model,page:this.options.page});this.formContainer.show(e),this.highlight()},highlight:function(){this.model.highlight(),this.listenTo(this,"close",function(){this.model.resetHighlight()})},destroy:function(){confirm(I18n.t("pageflow.internal_links.editor.views.edit_page_link_view.confirm_destroy"))&&(this.model.remove(),this.goBack())},goBack:function(){pageflow.editor.navigate("/pages/"+this.options.page.id+"/links",{trigger:!0})}}),pageflow.EditPageView=Backbone.Marionette.Layout.extend({template:"templates/edit_page",className:"edit_page",mixins:[pageflow.failureIndicatingView],regions:{pageTypeContainer:".page_type",configurationContainer:".configuration_container"},events:{"click a.back":"goBack","click a.destroy":"destroy"},modelEvents:{"change:template":"load"},onRender:function(){this.pageTypeContainer.show(new pageflow.ExtendedSelectInputView({model:this.model,propertyName:"template",collection:pageflow.editor.pageTypes.pluck("seed"),valueProperty:"name",translationKeyProperty:"translation_key",groupTranslationKeyProperty:"category_translation_key",descriptionTranslationKeyProperty:"description_translation_key",pictogramClass:"type_pictogram",helpLinkClicked:function(e){var t=pageflow.editor.pageTypes.findByName(e);pageflow.app.trigger("toggle-help",t.seed.help_entry_translation_key)}})),this.load(),this.model.trigger("edit",this.model)},load:function(){var e=this.model.pageType().createConfigurationEditorView({model:this.model.configuration,tab:this.options.tab});this.configurationContainer.show(e)},destroy:function(){confirm(I18n.t("pageflow.editor.views.edit_page_view.confirm_destroy"))&&(this.model.destroy(),this.goBack())},goBack:function(){editor.navigate("/",{trigger:!0})}}),pageflow.EditStorylineView=Backbone.Marionette.Layout.extend({template:"templates/edit_storyline",
className:"edit_storyline",mixins:[pageflow.failureIndicatingView,pageflow.tooltipContainer],regions:{formContainer:".form_container"},ui:{destroyButton:"a.destroy"},events:{"click a.back":"goBack","click a.destroy":"destroy"},onRender:function(){var e=new pageflow.ConfigurationEditorView({model:this.model.configuration,attributeTranslationKeyPrefixes:["pageflow.storyline_attributes"]});this.configure(e,this.model.transitiveChildPages()),this.formContainer.show(e),this.updateDestroyButton()},updateDestroyButton:function(){var e=0<this.model.chapters.length;this.ui.destroyButton.toggleClass("disabled",e),e?this.ui.destroyButton.attr("data-tooltip","pageflow.editor.views.edit_storyline_view.cannot_destroy"):this.ui.destroyButton.removeAttr("data-tooltip")},configure:function(e,t){e.tab("general",function(){this.input("title",pageflow.TextInputView),this.input("main",pageflow.CheckBoxInputView,{disabled:!0,visibleBinding:"main"}),this.input("page_transition",pageflow.SelectInputView,{translationKeyPrefix:"pageflow.page_transitions",includeBlank:!0,blankTranslationKey:"pageflow.editor.views.edit_storyline_view.default_parent_page_transition",values:pageflow.pageTransitions.names()}),this.input("main",pageflow.CheckBoxInputView,{visibleBinding:"main",visible:function(e){return!e}}),this.input("parent_page_perma_id",pageflow.PageLinkInputView,{visibleBinding:"main",visible:function(e){return!e&&1<pageflow.storylines.length},isAllowed:function(e){return!t.contain(e)}}),this.input("scroll_successor_id",pageflow.PageLinkInputView),pageflow.features.isEnabled("chapter_hierachy")&&this.input("navigation_bar_mode",pageflow.SelectInputView,{values:pageflow.ChapterFilter.strategies})})},destroy:function(){this.model.chapters.length||confirm(I18n.t("pageflow.editor.views.edit_storyline_view.confirm_destroy"))&&(this.model.destroy(),this.goBack())},goBack:function(){editor.navigate("/?storyline="+this.model.id,{trigger:!0})}}),pageflow.EditWidgetView=Backbone.Marionette.ItemView.extend({template:"templates/edit_widget",className:"edit_widget",events:{"click a.back":function(){editor.navigate("/meta_data/widgets",{trigger:!0})}},onRender:function(){var e=this.model.widgetType().createConfigurationEditorView({model:this.model.configuration,tab:this.options.tab});this.appendSubview(e)}}),pageflow.EditWidgetsView=Backbone.Marionette.Layout.extend({template:"templates/edit_widgets",ui:{widgets:".widgets"},onRender:function(){this.subview(new pageflow.CollectionView({el:this.ui.widgets,collection:this.model.widgets,itemViewConstructor:pageflow.WidgetItemView,itemViewOptions:{widgetTypes:this.options.widgetTypes}}).render())}}),pageflow.EditorView=Backbone.View.extend({scrollNavigationKeys:_.values({pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40}),events:{"click a":function(e){if(!$(e.currentTarget).attr("target")&&!$(e.currentTarget).attr("download")&&!$(e.currentTarget).attr("href"))return!1},"keydown sidebar":function(e){this.preventScrollingPreviewWhileFocusInSidebar(e)}},initialize:function(){$(window).on("beforeunload",function(){if(0<pageflow.entry.get("uploading_files_count"))return I18n.t("pageflow.editor.views.editor_views.files_pending_warning")})},render:function(){this.$el.layout({minSize:300,togglerTip_closed:I18n.t("pageflow.editor.views.editor_views.show_editor"),togglerTip_open:I18n.t("pageflow.editor.views.editor_views.hide_editor"),resizerTip:I18n.t("pageflow.editor.views.editor_views.resize_editor"),enableCursorHotkey:!1,fxName:"none",onresize:function(){pageflow.app.trigger("resize")}}),(new pageflow.UploaderView).render(),this.$el.append(new pageflow.LockedView({model:pageflow.editLock}).render().el),this.$el.append((new pageflow.HelpView).render().el)},preventScrollingPreviewWhileFocusInSidebar:function(e){0<=this.scrollNavigationKeys.indexOf(e.which)&&e.stopPropagation()}}),pageflow.BackgroundImageEmbeddedView=Backbone.Marionette.View.extend({modelEvents:{change:"update"},render:function(){return this.update(),this},update:function(){if(this.$el.css({backgroundImage:this.imageValue(),backgroundPosition:this.model.getFilePosition(this.options.propertyName,"x")+"% "+this.model.getFilePosition(this.options.propertyName,"y")+"%"}),this.options.dataSizeAttributes){var e=this.model.getImageFile(this.options.propertyName);e&&e.isReady()?(this.$el.attr("data-width",e.get("width")),this.$el.attr("data-height",e.get("height"))):(this.$el.attr("data-width","16"),this.$el.attr("data-height","9")),this.$el.css({backgroundPosition:"0 0"})}},imageValue:function(){var e=this.model.getImageFileUrl(this.options.propertyName,{styleGroup:this.$el.data("styleGroup")});return e?'url("'+e+'")':"none"}}),pageflow.LazyVideoEmbeddedView=Backbone.Marionette.View.extend({modelEvents:{change:"update"},render:function(){return this.videoPlayer=this.$el.data("videoPlayer"),this.videoPlayer.ready(_.bind(function(){this.videoPlayer.src(this.model.getVideoFileSources(this.options.propertyName))},this)),this.update(),this},update:function(){if(this.videoPlayer.isPresent()&&this.model.hasChanged(this.options.propertyName)){var e=this.videoPlayer.paused();this.videoPlayer.src(this.model.getVideoFileSources(this.options.propertyName)),e||this.videoPlayer.play()}if(this.options.dataSizeAttributes){var t=this.model.getVideoFile(this.options.propertyName);t&&t.isReady()?(this.$el.attr("data-width",t.get("width")),this.$el.attr("data-height",t.get("height"))):(this.$el.attr("data-width","16"),this.$el.attr("data-height","9"))}}}),pageflow.EntryPreviewView=Backbone.Marionette.ItemView.extend({template:"templates/entry_preview",className:"container",ui:{header:"> .header",entry:"> .entry",overview:"> .overview"},initialize:function(){this.pages=this.model.pages.persisted(),this.widgets=$(),this.debouncedFetchWidgets=_.debounce(this.fetchWidgets,200)},onRender:function(){this.pageViews=this.subview(new pageflow.CollectionView({el:this.ui.entry,collection:this.pages,itemViewConstructor:pageflow.PagePreviewView,blankSlateViewConstructor:pageflow.BlankEntryView})),this.ui.entry.append($("#indicators_seed > *")),this.update(),this.listenTo(pageflow.entry,"sync:order sync:widgets",this.update),this.listenTo(pageflow.entry,"change:configuration",function(){pageflow.entry.once("sync",this.update,this)}),this.listenTo(pageflow.storylines,"sync",this.update),this.listenTo(pageflow.chapters,"sync",this.update),this.listenTo(pageflow.pages,"sync",this.update),this.listenTo(pageflow.audioFiles,"sync",this.update),this.listenTo(pageflow.imageFiles,"sync",this.update),this.listenTo(pageflow.videoFiles,"sync",this.update)},onShow:function(){var t=pageflow.Slideshow.setup({element:this.ui.entry,enabledFeatureNames:pageflow.entry.get("enabled_feature_names"),simulateHistory:!0});this.listenTo(this.pages,"add",function(){t.update()}),this.listenTo(this.pages,"remove",function(){t.update()}),this.listenTo(this.pages,"edit",function(e){t.goTo(this.pageViews.itemViews.findByModel(e).$el)}),this.listenTo(pageflow.app,"resize",function(){t.triggerResizeHooks(),this.updateSimulatedMediaQueryClasses()}),this.updateSimulatedMediaQueryClasses()},updateSimulatedMediaQueryClasses:function(){var e=this.$el.width(),t=this.$el.width()<this.$el.height();$("html").toggleClass("simulate_mobile",e<=900).toggleClass("simulate_phone",e<=700).toggleClass("simulate_desktop",700<e).toggleClass("simulate_narrow_desktop",e<=1200).toggleClass("simulate_wide_desktop",1600<e).toggleClass("simulate_pad_portrait",e<=768&&t).toggleClass("simulate_phone_portrait",e<=500&&t)},update:function(){this.debouncedFetchWidgets(),this.$el.toggleClass("emphasize_chapter_beginning",!!this.model.configuration.get("emphasize_chapter_beginning"))},fetchWidgets:function(){var i=this;$.ajax(this.model.url()+"/partials").success(function(e){var t=$("<div />").html(e);i.ui.header.replaceWith(t.find("> .header")),i.ui.overview.replaceWith(t.find("> .overview")),i.bindUIElements(),i.updateWidgets(t),i.ui.header.header({slideshow:pageflow.slides}),i.ui.overview.overview()})},updateWidgets:function(e){var t=e.find("[data-widget]");this.updatePresentWidgetsCssClasses(t),this.widgets.remove(),this.widgets=t,this.ui.entry.before(this.widgets),pageflow.widgetTypes.enhance(this.$el)},updatePresentWidgetsCssClasses:function(e){var t=this.widgetNames(this.widgets),i=this.widgetNames(e),n=_.difference(t,i),a=_.difference(i,t);this.$el.addClass("widgets_present"),this.$el.removeClass(n.join(" ")),this.$el.addClass(a.join(" ")),(n.length||a.length)&&pageflow.events.trigger("widgets:update")},widgetNames:function(e){return e.map(function(){return"widget_"+$(this).data("widget")+"_present"}).get()}}),pageflow.EntryPublicationQuotaDecoratorView=Backbone.Marionette.Layout.extend({template:"templates/entry_publication_quota_decorator",className:"quota_decorator",regions:{outlet:".outlet"},ui:{state:".quota_state",exhaustedMessage:".exhausted_message"},modelEvents:{"change:exceeding change:checking change:quota":"update"},onRender:function(){this.model.check()},update:function(){var e=this;this.model.get("checking")?(e.ui.state.text(I18n.t("pageflow.editor.quotas.loading")),e.ui.exhaustedMessage.hide().html(""),e.outlet.close()):e.model.get("exceeding")?(e.ui.state.hide(),e.ui.exhaustedMessage.show().html(e.model.get("exhausted_html")),e.outlet.close()):(e.model.quota().get("state_description")?(e.ui.state.text(e.model.quota().get("state_description")),e.ui.state.show()):e.ui.state.hide(),e.outlet.show(e.options.view))}}),pageflow.ExplorerFileItemView=Backbone.Marionette.ItemView.extend({tagName:"li",template:"templates/explorer_file_item",mixins:[pageflow.loadable,pageflow.selectableView],selectionAttribute:"file",ui:{fileName:".file_name",thumbnail:".file_thumbnail"},events:{click:function(){this.$el.hasClass("disabled")||this.select()}},modelEvents:{change:"update"},onRender:function(){this.update(),this.subview(new pageflow.FileThumbnailView({el:this.ui.thumbnail,model:this.model}))},update:function(){this.isDisabled()&&this.$el.addClass("disabled"),this.$el.attr("data-id",this.model.id),this.ui.fileName.text(this.model.get("file_name")||"(Unbekannt)")},isDisabled:function(){return this.options.disabledIds&&_.contains(this.options.disabledIds,this.model.get("id"))}}),pageflow.FileMetaDataItemView=Backbone.Marionette.ItemView.extend({tagName:"tr",template:"templates/file_meta_data_item",ui:{label:"th",value:"td"},onRender:function(){this.subview(new this.options.valueView(_.extend({el:this.ui.value,model:this.model,name:this.options.name},this.options.valueViewOptions||{}))),this.ui.label.text(this.labelText())},labelText:function(){return pageflow.i18nUtils.attributeTranslation(this.options.name,"label",{prefixes:["pageflow.editor.files.attributes."+this.model.fileType().collectionName,"pageflow.editor.files.common_attributes"],fallbackPrefix:"activerecord.attributes",fallbackModelI18nKey:this.model.i18nKey})}}),pageflow.FileSettingsDialogView=Backbone.Marionette.ItemView.extend({template:"templates/file_settings_dialog",className:"file_settings_dialog editor dialog",mixins:[pageflow.dialogView],ui:{content:".content"},onRender:function(){this.tabsView=new pageflow.TabsView({model:this.model,i18n:"pageflow.editor.files.settings_dialog_tabs",defaultTab:this.options.tabName}),_.each(this.model.fileType().settingsDialogTabs,function(e){this.tabsView.tab(e.name,_.bind(function(){return this.subview(new e.view(_.extend({model:this.model},e.viewOptions)))},this))},this),this.ui.content.append(this.subview(this.tabsView).el)}}),pageflow.FileSettingsDialogView.open=function(e){pageflow.app.dialogRegion.show(new pageflow.FileSettingsDialogView(e))},pageflow.FileStageItemView=Backbone.Marionette.ItemView.extend({tagName:"li",className:"file_stage_item",template:"templates/file_stage_item",ui:{description:".description",percent:".percent",errorMessage:".error_message"},modelEvents:{change:"update"},onRender:function(){this.update(),this.$el.addClass(this.model.get("name"))},update:function(){this.ui.description.text(this.model.localizedDescription()),"number"==typeof this.model.get("progress")&&this.model.get("active")?this.ui.percent.text(this.model.get("progress")+"%"):this.ui.percent.text(""),this.ui.errorMessage.toggle(!!this.model.get("error_message")).text(this._translatedErrorMessage()),this.$el.toggleClass("active",this.model.get("active")),this.$el.toggleClass("finished",this.model.get("finished")),this.$el.toggleClass("failed",this.model.get("failed")),this.$el.toggleClass("action_required",this.model.get("action_required"))},_translatedErrorMessage:function(){return this.model.get("error_message")&&I18n.t(this.model.get("error_message"),{defaultValue:this.model.get("error_message")})}}),pageflow.FileThumbnailView=Backbone.Marionette.ItemView.extend({className:"file_thumbnail",template:"templates/file_thumbnail",modelEvents:{"change:state":"update"},ui:{pictogram:".pictogram"},onRender:function(){this.update()},update:function(){if(this.model){var e=this.model.currentStage();e?(this.setStageClassName(e.get("name")),this.ui.pictogram.toggleClass("action_required",e.get("action_required")),this.ui.pictogram.toggleClass("failed",e.get("failed"))):this.ui.pictogram.removeClass(this.model.stages.pluck("name").join(" ")),this.ui.pictogram.addClass(this.model.thumbnailPictogram),this.$el.css("background-image",this._imageUrl()?"url("+this._imageUrl()+")":""),this.$el.removeClass("empty").toggleClass("always_picogram",!!this.model.thumbnailPictogram).toggleClass("ready",this.model.isReady())}else this.$el.css("background-image",""),this.$el.removeClass("ready"),this.ui.pictogram.addClass("empty")},setStageClassName:function(e){this.$el.hasClass(e)||(this.ui.pictogram.removeClass("empty"),this.ui.pictogram.removeClass(this.model.stages.pluck("name").join(" ")),this.ui.pictogram.addClass(e))},_imageUrl:function(){return this.model.get(this.options.imageUrlPropertyName||"thumbnail_url")}}),pageflow.FilesExplorerView=Backbone.Marionette.ItemView.extend({template:"templates/files_explorer",className:"files_explorer editor dialog",mixins:[pageflow.dialogView],ui:{entriesPanel:".entries_panel",filesPanel:".files_panel",okButton:".ok"},events:{"click .ok":function(){this.options.callback&&this.options.callback(this.selection.get("entry"),this.selection.get("file")),this.close()}},initialize:function(){this.selection=new Backbone.Model,this.listenTo(this.selection,"change:entry",function(){this.tabsView.refresh()}),this.listenTo(this.selection,"change",function(){this.ui.okButton.prop("disabled",!this.selection.get("file"))})},onRender:function(){this.subview(new pageflow.OtherEntriesCollectionView({el:this.ui.entriesPanel,selection:this.selection})),this.tabsView=new pageflow.TabsView({model:this.model,i18n:"pageflow.editor.files.tabs",defaultTab:this.options.tabName}),pageflow.editor.fileTypes.each(function(e){e.topLevelType&&this.tab(e)},this),this.ui.filesPanel.append(this.subview(this.tabsView).el),this.ui.okButton.prop("disabled",!0)},tab:function(i){this.tabsView.tab(i.collectionName,_.bind(function(){var e=this._collection(i),t=pageflow.entry.getFileCollection(i).pluck("id");return new pageflow.CollectionView({tagName:"ul",className:"files_gallery",collection:e,itemViewConstructor:pageflow.ExplorerFileItemView,itemViewOptions:{selection:this.selection,disabledIds:t},blankSlateViewConstructor:this._blankSlateConstructor()})},this))},_collection:function(e){var t,i=this.selection.get("entry");return i?(t=i.getFileCollection(e)).fetch():t=new Backbone.Collection,t},_blankSlateConstructor:function(){return Backbone.Marionette.ItemView.extend({template:this.selection.get("entry")?"templates/files_gallery_blank_slate":"templates/files_explorer_blank_slate"})}}),pageflow.FilesExplorerView.open=function(e){pageflow.app.dialogRegion.show(new pageflow.FilesExplorerView(e))},pageflow.FilesView=Backbone.Marionette.ItemView.extend({template:"templates/files",className:"manage_files",events:{"click a.back":"goBack","file-selected":"updatePage"},onRender:function(){this.addFileModel=new Backbone.Model({label:I18n.t("pageflow.editor.views.files_view.add"),options:[{label:I18n.t("pageflow.editor.views.files_view.upload"),handler:this.upload.bind(this)},{label:I18n.t("pageflow.editor.views.files_view.reuse"),handler:function(){pageflow.FilesExplorerView.open({callback:function(e,t){pageflow.entry.reuseFile(e,t)}})}}]}),this.$el.append(this.subview(new pageflow.SelectButtonView({model:this.addFileModel})).el),this.tabsView=new pageflow.TabsView({model:this.model,i18n:"pageflow.editor.files.tabs",defaultTab:this.options.tabName}),pageflow.editor.fileTypes.each(function(e){e.topLevelType&&this.tab(e)},this),this.$el.append(this.subview(this.tabsView).el)},tab:function(i){var e=this.options.tabName===i.collectionName;this.tabsView.tab(i.collectionName,_.bind(function(){return this.subview(new pageflow.FilteredFilesView({entry:pageflow.entry,fileType:i,selectionHandler:e&&this.options.selectionHandler,filterName:e&&this.options.filterName}))},this)),this.listenTo(this.model,"change:uploading_"+i.collectionName+"_count",function(e,t){this.tabsView.toggleSpinnerOnTab(i.collectionName,0<t)})},goBack:function(){this.options.selectionHandler?editor.navigate(this.options.selectionHandler.getReferer(),{trigger:!0}):editor.navigate("/",{trigger:!0})},upload:function(){pageflow.app.trigger("request-upload")}}),pageflow.FilteredFilesView=Backbone.Marionette.ItemView.extend({template:"templates/filtered_files",className:"filtered_files",ui:{banner:".filtered_files-banner",filterName:".filtered_files-filter_name"},events:{"click .filtered_files-reset_filter":function(){return pageflow.editor.navigate("/files/"+this.options.fileType.collectionName,{trigger:!0}),!1}},onRender:function(){var e=this.options.entry,t=this.options.fileType,i=e.getFileCollection(t),n=I18n.t("pageflow.editor.templates.files_blank_slate.no_files");this.options.filterName&&(this.filteredCollection&&this.filteredCollection.dispose(),i=this.filteredCollection=i.withFilter(this.options.filterName),n=this.filterTranslation("blank_slate")),this.appendSubview(new pageflow.CollectionView({tagName:"ul",className:"files expandable",collection:i,itemViewConstructor:pageflow.FileItemView,itemViewOptions:{metaDataAttributes:t.metaDataAttributes,selectionHandler:this.options.selectionHandler},blankSlateViewConstructor:Backbone.Marionette.ItemView.extend({template:"templates/files_blank_slate",serializeData:function(){return{text:n}}})})),this.ui.banner.toggle(!!this.options.filterName),this.options.filterName&&this.ui.filterName.text(this.filterTranslation("name"))},filterTranslation:function(e,t){var i=this.options.filterName;return pageflow.i18nUtils.findTranslation(["pageflow.editor.files.filters."+this.options.fileType.collectionName+"."+i+"."+e,"pageflow.editor.files.common_filters."+e],t)},onClose:function(){this.filteredCollection&&this.filteredCollection.dispose()}}),pageflow.HelpButtonView=Backbone.Marionette.ItemView.extend({template:"templates/help_button",className:"help_button",events:{click:function(){pageflow.app.trigger("toggle-help")}}}),pageflow.HelpView=Backbone.Marionette.ItemView.extend({template:"templates/help",className:"help",ui:{placeholder:".placeholder",sections:"section",menuItems:"li"},events:{"click .close":function(){this.toggle()},"click .expandable > a":function(e){$(e.currentTarget).parents(".expandable").toggleClass("expanded")},"click a":function(e){var t=$(e.currentTarget);return 0===t.attr("href").indexOf("#")?this.showSection(t.attr("href").substring(1),{scrollIntoView:!t.parents("nav").length}):t.attr("href").match(/^http/)&&window.open(t.attr("href"),"_blank"),!1},"click .box":function(){return!1},click:function(){this.toggle()}},initialize:function(){this.listenTo(pageflow.app,"toggle-help",function(e){this.toggle(),this.showSection(e||pageflow.editor.defaultHelpEntry||this.defaultHelpEntry(),{scrollIntoView:!0})})},onRender:function(){this.ui.placeholder.replaceWith($("#help_entries_seed").html()),this.bindUIElements()},toggle:function(){this.$el.toggle()},defaultHelpEntry:function(){return this.ui.sections.first().data("name")},showSection:function(i,n){this.ui.menuItems.each(function(){var e=$(this),t=e.find("a").attr("href")==="#"+i;e.toggleClass("active",t),t&&(e.parents(".expandable").addClass("expanded"),n.scrollIntoView&&e[0].scrollIntoView())}),this.ui.sections.each(function(){var e=$(this);e.toggle(e.data("name")===i)})}}),pageflow.FileInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView],template:"pageflow/editor/templates/inputs/file_input",className:"file_input",ui:{fileName:".file_name",thumbnail:".file_thumbnail"},events:{"click .choose":function(){return pageflow.editor.selectFile({name:this.options.collection.name,filter:this.options.filter},this.options.fileSelectionHandler||"pageConfiguration",_.extend({id:this.model.getRoutableId?this.model.getRoutableId():this.model.id,attributeName:this.options.propertyName,returnToTab:this.options.parentTab},this.options.fileSelectionHandlerOptions||{})),!1},"click .unset":function(){return this.model.unsetReference(this.options.propertyName),!1}},initialize:function(){this.options=_.extend({positioning:!0,textTrackFiles:pageflow.textTrackFiles},this.options),"string"==typeof this.options.collection&&(this.options.collection=pageflow.entry.getFileCollection(pageflow.editor.fileTypes.findByCollectionName(this.options.collection))),this.textTrackMenuItems=new Backbone.Collection},onRender:function(){this.update(),this.listenTo(this.model,"change:"+this.options.propertyName,this.update);var e=this._dropDownMenuItems();e.length&&this.appendSubview(new pageflow.DropDownButtonView({items:e}))},update:function(){var e=this._getFile();this._listenToNestedTextTrackFiles(e),this.$el.toggleClass("is_unset",!e),this.ui.fileName.text(e?e.get("file_name"):I18n.t("pageflow.ui.views.inputs.file_input_view.none")),this.subview(new pageflow.FileThumbnailView({el:this.ui.thumbnail,model:e}))},_dropDownMenuItems:function(){var e=this._getFile(e),t=new Backbone.Collection;return this.options.defaultTextTrackFilePropertyName&&e&&t.add({name:"default_text_track",label:I18n.t("pageflow.editor.views.inputs.file_input.default_text_track"),items:this.textTrackMenuItems}),this.options.positioning&&e&&e.isPositionable()&&t.add(new pageflow.FileInputView.EditBackgroundPositioningMenuItem({name:"edit_background_positioning",label:I18n.t("pageflow.editor.views.inputs.file_input.edit_background_positioning")},{inputModel:this.model,propertyName:this.options.propertyName,filesCollection:this.options.collection})),e&&t.add(new pageflow.FileInputView.EditFileSettingsMenuItem({name:"edit_file_settings",label:I18n.t("pageflow.editor.views.inputs.file_input.edit_file_settings")},{file:e})),t},_listenToNestedTextTrackFiles:function(e){this.textTrackFiles&&(this.stopListening(this.textTrackFiles),this.textTrackFiles=null),e&&this.options.defaultTextTrackFilePropertyName&&(this.textTrackFiles=e.nestedFiles(this.options.textTrackFiles),this.listenTo(this.textTrackFiles,"add remove",this._updateTextTrackMenuItems),this._updateTextTrackMenuItems())},_updateTextTrackMenuItems:function update(){var e=[null].concat(this.textTrackFiles.toArray());this.textTrackMenuItems.set(e.map(function(e){return new pageflow.FileInputView.DefaultTextTrackFileMenuItem({},{textTrackFiles:this.textTrackFiles,textTrackFile:e,inputModel:this.model,propertyName:this.options.defaultTextTrackFilePropertyName})},this))},_getFile:function(){return this.model.getReference(this.options.propertyName,this.options.collection)}}),pageflow.FileInputView.EditBackgroundPositioningMenuItem=Backbone.Model.extend({initialize:function(e,t){this.options=t},selected:function(){pageflow.BackgroundPositioningView.open({model:this.options.inputModel,propertyName:this.options.propertyName,filesCollection:this.options.filesCollection})}}),pageflow.FileInputView.EditFileSettingsMenuItem=Backbone.Model.extend({initialize:function(e,t){this.options=t},selected:function(){pageflow.FileSettingsDialogView.open({model:this.options.file})}}),pageflow.FileInputView.DefaultTextTrackFileMenuItem=Backbone.Model.extend({initialize:function(e,t){this.options=t,this.listenTo(this.options.inputModel,"change:"+this.options.propertyName,this.update),this.options.textTrackFile&&this.listenTo(this.options.textTrackFile,"change:configuration",this.update),this.update()},update:function(){this.set("checked",this.options.textTrackFile==this.getDefaultTextTrackFile()),this.set("name",this.options.textTrackFile?null:"no_default_text_track"),this.set("label",this.options.textTrackFile?this.options.textTrackFile.displayLabel():this.options.textTrackFiles.length?I18n.t("pageflow.editor.views.inputs.file_input.auto_default_text_track"):I18n.t("pageflow.editor.views.inputs.file_input.no_default_text_track"))},selected:function(){this.options.textTrackFile?this.options.inputModel.setReference(this.options.propertyName,this.options.textTrackFile):this.options.inputModel.unsetReference(this.options.propertyName)},getDefaultTextTrackFile:function(){return this.options.inputModel.getReference(this.options.propertyName,this.options.textTrackFiles)}}),pageflow.PageLinkInputView=pageflow.ReferenceInputView.extend({choose:function(){return pageflow.editor.selectPage({isAllowed:this.options.isAllowed})},getTarget:function(e){return pageflow.pages.getByPermaId(e)}}),pageflow.ThemeInputView=pageflow.ReferenceInputView.extend({options:function(){return{chooseButtonTitle:I18n.t("pageflow.editor.views.inputs.theme_input_view.choose"),hideUnsetButton:!0}},choose:function(){return pageflow.ChangeThemeDialogView.changeTheme({model:this.model,themes:this.options.themes,themeInUse:this.model.get(this.options.propertyName)})},chooseValue:function(){return this.choose().then(function(e){return e.get("name")})},getTarget:function(e){return this.options.themes.findByName(e)}}),pageflow.ListItemView=Backbone.Marionette.ItemView.extend({template:"pageflow/editor/templates/list_item",tagName:"li",className:"list_item",ui:{thumbnail:".list_item_thumbnail",typePictogram:".list_item_type_pictogram",title:".list_item_title",description:".list_item_description",editButton:".list_item_edit_button",removeButton:".list_item_remove_button"},events:{"click .list_item_edit_button":function(){return this.options.onEdit(this.model),!1},"click .list_item_remove_button":function(){return this.options.onRemove(this.model),!1},mouseenter:function(){this.options.highlight&&this.model.highlight()},mouseleave:function(){this.options.highlight&&this.model.resetHighlight()}},modelEvents:{change:"update"},onRender:function(){this.subview(new pageflow.ModelThumbnailView({el:this.ui.thumbnail,model:this.model})),this.options.typeName&&this.$el.addClass(this.typeName()),this.ui.editButton.toggleClass("is_available",!!this.options.onEdit),this.ui.removeButton.toggleClass("is_available",!!this.options.onRemove),this.update()},update:function(){this.ui.typePictogram.attr("title",this.typeDescription()),this.ui.title.text(this.model.title()||I18n.t("pageflow.editor.views.page_link_item_view.unnamed")),this.ui.description.text(this.description()),this.ui.description.toggle(!!this.description()),this.$el.toggleClass("is_invalid",!!this.getOptionResult("isInvalid"))},onClose:function(){this.options.highlight&&this.model.resetHighlight()},description:function(){return this.getOptionResult("description")},typeName:function(){return this.getOptionResult("typeName")},typeDescription:function(){return this.getOptionResult("typeDescription")},getOptionResult:function(e){return"function"==typeof this.options[e]?this.options[e](this.model):this.options[e]}}),pageflow.ListView=Backbone.Marionette.ItemView.extend({template:"pageflow/editor/templates/list",className:"list",ui:{label:".list_label",items:".list_items"},onRender:function(){var e=this.options.sortable?pageflow.SortableCollectionView:pageflow.CollectionView;this.subview(new e({el:this.ui.items,collection:this.collection,itemViewConstructor:pageflow.ListItemView,itemViewOptions:_.extend({description:this.options.itemDescription,typeName:this.options.itemTypeName,typeDescription:this.options.itemTypeDescription,isInvalid:this.options.itemIsInvalid},_(this.options).pick("onEdit","onDelete","highlight")),blankSlateViewConstructor:Backbone.Marionette.ItemView.extend({tagName:"li",className:"list_blank_slate",template:"pageflow/editor/templates/list_blank_slate"})})),this.ui.label.text(this.options.label),this.$el.toggleClass("with_type_pictogram",!!this.options.itemTypeName)}}),pageflow.LoadingView=Backbone.Marionette.ItemView.extend({template:"pageflow/editor/templates/loading",className:"loading",tagName:"li"}),pageflow.LockedView=Backbone.Marionette.ItemView.extend({template:"templates/locked",className:"locked checking",ui:{breakButton:".break",message:".error .message"},events:{"click .close":"goBack","click .break":"breakLock"},modelEvents:{acquired:"hide",locked:"show",unauthenticated:"goBack"},breakLock:function(){this.model.acquire({force:!0})},goBack:function(){window.location="/admin/entries/"+pageflow.entry.id},show:function(e,t){var i=e.error+"."+t.context;this.ui.message.html(I18n.t("pageflow.edit_locks.errors."+i+"_html",{user_name:e.held_by})),this.ui.message.attr("data-error",i),this.ui.breakButton.text(I18n.t("pageflow.edit_locks.break_action.acquire")),this.$el.removeClass("checking"),this.$el.show()},hide:function(){this.ui.message.attr("data-error",null),this.$el.removeClass("checking"),this.$el.hide()}}),pageflow.NavigatableChapterItemView=pageflow.ChapterItemView.extend({mixins:[pageflow.loadable,pageflow.failureIndicatingView],events:{"click a.add_page":function(){this.model.addPage()},"click a.edit_chapter":function(){return this.model.isNew()||this.model.isDestroying()||editor.navigate("/chapters/"+this.model.get("id"),{trigger:!0}),!1}}}),pageflow.NavigatablePageItemView=pageflow.PageItemView.extend({mixins:[pageflow.loadable,pageflow.failureIndicatingView],className:"draggable",events:{click:function(){return this.model.isNew()||this.model.isDestroying()||editor.navigate("/pages/"+this.model.get("id"),{trigger:!0}),!1}}}),pageflow.NestedFilesView=Backbone.Marionette.ItemView.extend({template:"templates/nested_files",className:"nested_files",ui:{header:"h2"},initialize:function(){this.options.selection.has("file")||(this.options.selection.set("file",this.collection.first()),this.options.selection.set("nextFile",this.collection.at(1))),this.listenTo(this.collection,"add",this.selectNewFile),this.listenTo(this.collection,"remove",this.selectNextFileIfSelectionDeleted),this.listenTo(this.options.selection,"change",this.setNextFile),this.listenTo(this.collection,"add",this.update),this.listenTo(this.collection,"remove",this.update),this.listenTo(this.collection,"request",this.update),this.listenTo(this.collection,"sync",this.update)},onRender:function(){this.ui.header.text(this.collection.parentModel.get("file_name")),this.appendSubview(new pageflow.TableView({collection:this.collection,attributeTranslationKeyPrefixes:["pageflow.editor.nested_files."+this.options.fileType.collectionName],columns:this.columns(this.options.fileType),selection:this.options.selection,selectionAttribute:"file",blankSlateText:this.options.tableBlankSlateText})),this.update()},update:function(){this.$el.toggleClass("is_empty",0===this.collection.length)},columns:function(e){var t=_(e.nestedFileTableColumns).map(function(e){return _.extend({},e,{configurationAttribute:!0})});return t.push({name:"delete",cellView:pageflow.DeleteRowTableCellView,cellViewOptions:{toggleDeleteButton:"isUploading",invertToggleDeleteButton:!0}}),t},selectNewFile:function(e){this.options.selection.set("file",e),this.setNextFile()},selectNextFileIfSelectionDeleted:function(){if(-1===this.collection.indexOf(this.options.selection.get("file"))){var e=this.options.selection.get("nextFile");this.options.selection.set("file",e)}},setNextFile:_.debounce(function(){var e=this.collection.indexOf(this.options.selection.get("file"));void 0!==this.collection.at(e+1)?this.options.selection.set("nextFile",this.collection.at(e+1)):void 0!==this.collection.at(e-1)?this.options.selection.set("nextFile",this.collection.at(e-1)):this.options.selection.set("nextFile",undefined)},200)}),pageflow.NotificationsView=Backbone.Marionette.ItemView.extend({className:"notifications",tagName:"ul",template:"templates/notifications",ui:{failedCount:".failed .count",uploadingCount:".uploading .count",confirmableFilesCount:".confirmable_files .count"},events:{"click .retry":function(){pageflow.editor.failures.retry()}},onRender:function(){this.listenTo(pageflow.entry,
"change:uploading_files_count",this.notifyUploadCount),this.listenTo(pageflow.entry,"change:confirmable_files_count",this.notifyConfirmableFilesCount),this.listenTo(pageflow.savingRecords,"add",this.update),this.listenTo(pageflow.savingRecords,"remove",this.update),this.listenTo(pageflow.editor.failures,"add",this.update),this.listenTo(pageflow.editor.failures,"remove",this.update),this.update(),this.notifyConfirmableFilesCount()},update:function(){this.$el.toggleClass("failed",!pageflow.editor.failures.isEmpty()),this.$el.toggleClass("saving",!pageflow.savingRecords.isEmpty()),this.ui.failedCount.text(pageflow.editor.failures.count())},notifyUploadCount:function(e,t){this.$el.toggleClass("uploading",0<t),this.ui.uploadingCount.text(t)},notifyConfirmableFilesCount:function(){var e=pageflow.entry.get("confirmable_files_count");this.$el.toggleClass("has_confirmable_files",0<e),this.ui.confirmableFilesCount.text(e)}}),pageflow.OtherEntriesCollectionView=Backbone.Marionette.View.extend({initialize:function(){this.otherEntries=new pageflow.OtherEntriesCollection,this.listenTo(this.otherEntries,"sync",function(){1===this.otherEntries.length&&this.options.selection.set("entry",this.otherEntries.first())})},render:function(){return this.subview(new pageflow.CollectionView({el:this.el,collection:this.otherEntries,itemViewConstructor:pageflow.OtherEntryItemView,itemViewOptions:{selection:this.options.selection},blankSlateViewConstructor:Backbone.Marionette.ItemView.extend({template:"templates/other_entries_blank_slate",tagName:"li",className:"blank_slate"}),loadingViewConstructor:pageflow.LoadingView})),this.otherEntries.fetch(),this}}),pageflow.OtherEntryItemView=Backbone.Marionette.ItemView.extend({template:"templates/other_entry_item",className:"other_entry_item",tagName:"li",mixins:[pageflow.selectableView],ui:{title:".title"},events:{click:"select"},onRender:function(){this.ui.title.text(this.model.titleOrSlug())}}),pageflow.PageLinkConfigurationEditorView=pageflow.ConfigurationEditorView.extend({configure:function(){this.tab("general",function(){this.group("page_link")})}}),pageflow.PageLinkItemView=Backbone.Marionette.ItemView.extend({template:"pageflow/editor/templates/page_link_item",tagName:"li",className:"page_link",ui:{thumbnail:".page_thumbnail",title:".title",label:".label",editButton:".edit",removeButton:".remove"},events:{"click .edit":function(){return pageflow.editor.navigate(this.model.editPath(),{trigger:!0}),!1},mouseenter:function(){this.model.highlight(!0)},mouseleave:function(){this.model.resetHighlight(!1)},"click .remove":function(){confirm(I18n.t("pageflow.internal_links.editor.views.edit_page_link_view.confirm_destroy"))&&this.model.remove()}},onRender:function(){var e=this.model.targetPage();e?(this.subview(new pageflow.PageThumbnailView({el:this.ui.thumbnail,model:e})),this.$el.addClass(e.get("template")),this.ui.title.text(e.title()||I18n.t("pageflow.editor.views.page_link_item_view.unnamed"))):this.ui.title.text(I18n.t("pageflow.editor.views.page_link_item_view.no_page")),this.ui.label.text(this.model.label()),this.ui.label.toggle(!!this.model.label()),this.ui.editButton.toggle(!!this.model.editPath()),this.$el.toggleClass("dangling",!e)}}),pageflow.PageLinksView=Backbone.Marionette.ItemView.extend({template:"pageflow/editor/templates/page_links",className:"page_links",ui:{links:"ul.links",addButton:".add_link"},events:{"click .add_link":function(){var t=this;return pageflow.editor.selectPage().then(function(e){t.model.pageLinks().addLink(e.get("perma_id"))}),!1}},onRender:function(){var e=this.model.pageLinks(),t=e.saveOrder?pageflow.SortableCollectionView:pageflow.CollectionView;this.subview(new t({el:this.ui.links,collection:e,itemViewConstructor:pageflow.PageLinkItemView,itemViewOptions:{pageLinks:e}})),this.listenTo(e,"add remove",function(){this.updateAddButton(e)}),this.updateAddButton(e)},updateAddButton:function(e){this.ui.addButton.css("display",e.canAddLink()?"inline-block":"none")}}),pageflow.PagePreviewView=Backbone.Marionette.View.extend({tagName:"section",className:"page",modelEvents:{"change:template":"updateTemplate","change:configuration":"update","change:position":"updateChapterBeginningClass","change:id":function(){this.$el.attr("data-id",this.model.id),this.$el.attr("data-perma-id",this.model.get("perma_id")),this.$el.attr("id",this.model.get("perma_id"))}},events:{pageactivate:function(){this.model.set("active",!0)},pagedeactivate:function(){this.model.set("active",!1)}},render:function(){return this.$el.html(this.pageTemplate()),this.$el.attr("data-id",this.model.id),this.$el.attr("data-perma-id",this.model.get("perma_id")),this.$el.attr("id",this.model.get("perma_id")),this.$el.attr("data-chapter-id",this.model.get("chapter_id")),this.$el.data("template",this.model.get("template")),this.$el.data("configuration",this.model.get("configuration")),this.$el.on("pageenhanced",_.bind(function(){this.update(),this.initEmbeddedViews(),this.$el.page("reactivate")},this)),this},onClose:function(){this.$el.page("cleanup")},updateTemplate:function(){this.$el.page("cleanup"),this.$el.html(this.pageTemplate()),this.$el.data("template",this.model.get("template")),setTimeout(_.bind(function(){this.$el.page("reinit")},this),0)},update:function(){this.$el.page("update",this.model.configuration),pageflow.events.trigger("page:update",this.model),this.refreshScroller(),this.updateChapterBeginningClass()},updateChapterBeginningClass:function(){var e=0===this.model.get("position");this.$el.toggleClass("chapter_beginning",e)},pageTypeHooks:function(){return pageflow.pageType.get(this.model.get("template"))},pageTemplate:function(){return this._unescape($('script[data-template="'+this.model.get("template")+'_page"]').html())},refreshScroller:function(){this.$el.page("refreshScroller")},initEmbeddedViews:function(){var i=this;i.embeddedViews&&i.embeddedViews.call("close"),i.embeddedViews=new Backbone.ChildViewContainer,_.each(i.embeddedViewDefinitions(),function(e,t){i.$(t).each(function(){i.embeddedViews.add(new e.view(_.extend(e.options||{},{el:this,model:i.model.configuration,container:i})).render())})})},embeddedViewDefinitions:function(){return _.extend({},this.pageTypeHooks().embeddedEditorViews()||{},this.model.pageType().embeddedViews())},_unescape:function(e){return $("<div/>").html(e).text()}}),pageflow.PageSelectionView=Backbone.Marionette.ItemView.extend({template:"templates/page_selection",className:"page_selection dialog",mixins:[pageflow.dialogView],ui:{storylines:".storyline_picker",chapters:".chapters"},events:{"click ul.pages li":function(e){this.options.onSelect(pageflow.pages.get($(e.currentTarget).data("id"))),this.close()}},onRender:function(){var t=this.options;this.subview(new pageflow.StorylinePickerView({el:this.ui.storylines,pageItemViewOptions:{isDisabled:function(e){return t.isAllowed&&!t.isAllowed(e)}}}))}}),pageflow.PageSelectionView.selectPage=function(i){return $.Deferred(function(e){var t=new pageflow.PageSelectionView({model:pageflow.entry,onSelect:e.resolve,isAllowed:i&&i.isAllowed});t.on("close",function(){e.reject()}),pageflow.app.dialogRegion.show(t.render())}).promise()},pageflow.PageThumbnailView=pageflow.ModelThumbnailView.extend({className:"model_thumbnail page_thumbnail"}),pageflow.PublishEntryView=Backbone.Marionette.ItemView.extend({template:"templates/publish_entry",className:"publish_entry",ui:{publishUntilFields:".publish_until_fields",publishUntilField:"input[name=publish_until]",publishUntilTimeField:"input[name=publish_until_time]",publishUntilRadioBox:"#publish_entry_until",publishForeverRadioBox:"input[value=publish_forever]",passwordProtectedCheckBox:"input[name=password_protected]",passwordFields:".password_fields",userNameField:"input[name=user_name]",passwordField:"input[name=password]",alreadyPublishedWithPassword:".already_published_with_password",previouslyPublishedWithPassword:".previously_published_with_password",alreadyPublishedWithoutPassword:".already_published_without_password",revisionsLink:".published.notice a",publishedNotice:".published.notice",saveButton:"button.save",successNotice:".success",successLink:".success a"},events:{"click button.save":"save","click input#publish_entry_forever":"enablePublishForever","click input#publish_entry_until":"enablePublishUntilFields","focus .publish_until_fields input":"enablePublishUntilFields","change .publish_until_fields input":"checkForm","click input#publish_password_protected":"togglePasswordFields","keyup input[name=password]":"checkForm","change input[name=password]":"checkForm"},modelEvents:{change:"update","change:published":function(e,t){t&&this.ui.publishedNotice.effect("highlight",{duration:"slow"})}},onRender:function(){this.ui.publishUntilField.datepicker({dateFormat:"dd.mm.yy",constrainInput:!0,defaultDate:new Date,minDate:new Date}),this.update()},update:function(){function e(e){function t(e){return("0"+e).slice(-2)}return t(e.getHours())+":"+t(e.getMinutes())}function t(){var e=new Date;return e.setFullYear(e.getFullYear()+1),e}this.$el.toggleClass("files_pending",0<this.model.get("uploading_files_count")||0<this.model.get("pending_files_count")),this.$el.toggleClass("published",this.model.get("published")),this.ui.revisionsLink.attr("href","/admin/entries/"+this.model.id),this.ui.successLink.attr("href",this.model.get("pretty_url")),this.ui.successLink.text(this.model.get("pretty_url"));var i=new Date(this.model.get("published_until"));i>new Date?(this.ui.publishUntilField.datepicker("setDate",i),this.ui.publishUntilTimeField.val(e(i))):this.ui.publishUntilField.datepicker("setDate",t()),this.ui.userNameField.val(pageflow.account.get("name")),this.model.get("password_protected")?(this.ui.passwordProtectedCheckBox.prop("checked",!0),this.togglePasswordFields()):this.ui.passwordField.val(this.randomPassword()),this.ui.alreadyPublishedWithPassword.toggle(this.model.get("published")&&this.model.get("password_protected")),this.ui.previouslyPublishedWithPassword.toggle(!this.model.get("published")&&this.model.get("password_protected")),this.ui.alreadyPublishedWithoutPassword.toggle(this.model.get("published")&&!this.model.get("password_protected"))},save:function(){function e(e,t){e.setHours.apply(e,i(t))}function i(e){return e.split(":").map(function(e){return parseInt(e,10)})}function t(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}var n=null;if(!this.$el.hasClass("publishing")){if(this.ui.publishUntilRadioBox.is(":checked")){if(e(n=this.ui.publishUntilField.datepicker("getDate"),this.ui.publishUntilTimeField.val()),!this.checkPublishUntilTime())return alert("Bitte legen Sie einen g\xfcltigen Depublikationszeitpunkt fest."),void this.ui.publishUntilTimeField.focus();if(!n||!t(n))return alert("Bitte legen Sie ein Depublikationsdatum fest."),void this.ui.publishUntilField.focus()}var a=this;this.options.entryPublication.publish({published_until:n,password_protected:this.ui.passwordProtectedCheckBox.is(":checked"),password:this.ui.passwordField.val()}).fail(function(){alert("Beim Ver\xf6ffentlichen ist ein Fehler aufgetreten")}).always(function(){if(!a.isClosed){a.$el.removeClass("publishing"),a.$el.addClass("succeeded"),a.$("input").removeAttr("disabled");var e=a.options.entryPublication.get("published_message_html");e&&a.ui.successNotice.append(e),a.enableSave()}}),this.$el.addClass("publishing"),this.$("input").attr("disabled","1"),this.disableSave()}},enableSave:function(){this.ui.saveButton.removeAttr("disabled")},disableSave:function(){this.ui.saveButton.attr("disabled",!0)},enablePublishUntilFields:function(){this.ui.publishForeverRadioBox[0].checked=!1,this.ui.publishUntilRadioBox[0].checked=!0,this.ui.publishUntilFields.removeClass("disabled"),this.checkForm()},disablePublishUntilFields:function(){this.ui.publishUntilRadioBox[0].checked=!1,this.ui.publishUntilFields.addClass("disabled"),this.checkForm(),this.checkPublishUntilTime()||this.ui.publishUntilTimeField.val("00:00"),this.ui.publishUntilTimeField.removeClass("invalid"),this.ui.publishUntilField.removeClass("invalid")},enablePublishForever:function(){this.disablePublishUntilFields(),this.ui.publishForeverRadioBox[0].checked=!0,this.enableSave()},checkForm:function(){_.all([this.checkPublishUntil(),this.checkPassword()])?this.enableSave():this.disableSave()},checkPublishUntil:function(){return this.ui.publishForeverRadioBox.is(":checked")||this.ui.publishUntilRadioBox.is(":checked")&&_.all([this.checkPublishUntilDate(),this.checkPublishUntilTime()])},checkPublishUntilDate:function(){return this.ui.publishUntilField.datepicker("getDate")?(this.ui.publishUntilField.removeClass("invalid"),!0):(this.ui.publishUntilField.addClass("invalid"),!1)},checkPublishUntilTime:function(){return this.ui.publishUntilTimeField.val().match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)?(this.ui.publishUntilTimeField.removeClass("invalid"),!0):(this.ui.publishUntilTimeField.addClass("invalid"),!1)},togglePasswordFields:function(){this.ui.passwordFields.toggleClass("disabled",!this.ui.passwordProtectedCheckBox.is(":checked")),this.checkForm()},checkPassword:function(){return 0===this.ui.passwordField.val().length&&!this.model.get("password_protected")&&this.ui.passwordProtectedCheckBox.is(":checked")?(this.ui.passwordField.addClass("invalid"),!1):(this.ui.passwordField.removeClass("invalid"),!0)},randomPassword:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return _(10).times(function(){return e.charAt(Math.floor(Math.random()*e.length))}).join("")}}),pageflow.PublishEntryView.create=function(e){return new pageflow.BackButtonDecoratorView({view:new pageflow.EntryPublicationQuotaDecoratorView({model:e.entryPublication,view:new pageflow.PublishEntryView(e)})})},pageflow.ScrollingView=Backbone.Marionette.View.extend({events:{scroll:function(){this._isChapterView()&&(this.scrollpos=this.$el.scrollTop())}},initialize:function(){this.scrollpos=0,this.listenTo(this.options.region,"show",function(){this._isChapterView()&&this.$el.scrollTop(this.scrollpos)})},_isChapterView:function(){return!Backbone.history.getFragment()}}),pageflow.SelectButtonView=Backbone.Marionette.ItemView.extend({template:"templates/select_button",className:"select_button",ui:{button:"button",label:"button .label",menu:".dropdown-menu",dropdown:".dropdown"},events:{"click .dropdown-menu li":function(e){function t(e){var t=$(e),i=parseInt(t.data("index"),10);return isNaN(i)&&(i=parseInt(t.find("a").data("index"),10)),i}e.preventDefault();var i=t(e.target);this.model.get("options")[i].handler()}},onRender:function(){this.ui.label.text(this.model.get("label")),this.model.get("options").forEach(this.addOption.bind(this))},addOption:function(e,t){this.ui.menu.append('<li><a href="#" data-index="'+t+'">'+e.label+"</a></li>")}}),pageflow.StaticThumbnailView=Backbone.Marionette.ItemView.extend({template:"templates/static_thumbnail",className:"static_thumbnail",modelEvents:{"change:configuration":"update"},onRender:function(){this.update()},update:function(){this.$el.css("background-image","url("+this._imageUrl()+")")},_imageUrl:function(){return this.model.thumbnailUrl()}}),pageflow.StorylineOutlineView=Backbone.Marionette.Layout.extend({template:"templates/storyline_outline",className:"storyline_outline",ui:{chapters:"ul.storyline_outline_chapters"},events:{"click a.add_chapter":function(){this.model.scaffoldChapter()}},onRender:function(){this.ui.chapters.toggleClass("outline navigatable",!!this.options.navigatable),new(this.options.sortable?pageflow.SortableCollectionView:pageflow.CollectionView)({el:this.ui.chapters,collection:this.model.chapters,itemViewConstructor:this.options.navigatable?pageflow.NavigatableChapterItemView:pageflow.ChapterItemView,itemViewOptions:{sortable:this.options.sortable,pageItemView:this.options.navigatable?pageflow.NavigatablePageItemView:pageflow.PageItemView,pageItemViewOptions:_.extend({displayInNavigationHint:this.options.displayInNavigationHint},this.options.pageItemViewOptions||{})}}).render()}}),pageflow.StorylinePickerView=Backbone.Marionette.Layout.extend({template:"templates/storyline_picker",className:"storyline_picker",regions:{selectRegion:".storyline_picker_select_region",mainRegion:".storyline_picker_main_region"},ui:{storylines:".storyline_picker_storylines"},events:{"click .add_storyline":function(){var e=pageflow.entry.scaffoldStoryline({depth:"page"}).storyline;return this.listenToOnce(e,"sync",function(){this.updateSelect(),this.model.set("storyline_id",e.id)}),!1},"click .edit_storyline":function(){return pageflow.editor.navigate("storylines/"+this.model.get("storyline_id"),{trigger:!0}),!1}},initialize:function(){this.model=new Backbone.Model({storyline_id:this.defaultStorylineId()}),this.listenTo(pageflow.storylines,"add sort remove",this.updateSelect),this.listenTo(this.model,"change",this.load)},onRender:function(){this.$el.toggleClass("editable",!!this.options.editable),this.ui.storylines.toggle(!!pageflow.features.isEnabled("storylines")),this.updateSelect(),this.load()},updateSelect:function(){this.selectRegion.show(new pageflow.SelectInputView({model:this.model,label:I18n.t("pageflow.editor.views.storylines_picker_view.label"),propertyName:"storyline_id",values:pageflow.storylines.pluck("id"),texts:pageflow.storylines.map(function(e){return this.indentation(e)+e.displayTitle()},this),groups:pageflow.storylines.reduce(function(e,t){return t.isMain()||t.parentPage()?e.push(_.last(e)):e.push(I18n.t("pageflow.editor.views.storylines_picker_view.without_parent_page")),e},[])}))},load:function(){var e=pageflow.storylines.get(this.model.get("storyline_id"));this.saveRememberedStorylineId(e.id),this.mainRegion.show(new pageflow.StorylineOutlineView({model:e,navigatable:this.options.navigatable,sortable:this.options.editable,chapterItemView:this.options.chapterItemView,pageItemView:this.options.pageItemView,pageItemViewOptions:this.options.pageItemViewOptions,displayInNavigationHint:this.options.displayInNavigationHint}))},defaultStorylineId:function(){return(pageflow.storylines.get(this.options.storylineId)||pageflow.storylines.get(this.rememberedStorylineId())||pageflow.storylines.first()).id},rememberedStorylineId:function(){if(this.options.rememberLastSelection)return pageflow.StorylinePickerView._rememberedStorylineId},saveRememberedStorylineId:function(e){this.options.rememberLastSelection&&(pageflow.StorylinePickerView._rememberedStorylineId=e)},indentation:function(e){return _(e.get("level")||0).times(function(){return"\xa0\xa0\xa0"}).join("")}}),pageflow.TextFileMetaDataItemValueView=pageflow.FileMetaDataItemValueView.extend({getText:function(){return(this.options.fromConfiguration?this.model.configuration:this.model).get(this.options.name)}}),pageflow.TextTracksFileMetaDataItemValueView=pageflow.FileMetaDataItemValueView.extend({initialize:function(){this.textTrackFiles=this.model.nestedFiles(pageflow.textTrackFiles),this.listenTo(this.textTrackFiles,"add remove change:configuration",this.update)},getText:function(){return this.textTrackFiles.map(function(e){return e.displayLabel()}).join(", ")}}),pageflow.TextTracksView=Backbone.Marionette.Layout.extend({template:"templates/text_tracks",className:"text_tracks",regions:{selectedFileRegion:".selected_file_region"},ui:{filesPanel:".files_panel",selectedFileHeader:".selected_file_header"},events:{"click a.upload":"upload"},initialize:function(e){this.options=e||{},this.selection=new Backbone.Model,this.listenTo(this.selection,"change",this.update)},onRender:function(){this.nestedFilesView=new pageflow.NestedFilesView({collection:this.model.nestedFiles(this.options.supersetCollection),fileType:pageflow.editor.fileTypes.findByCollectionName("text_track_files"),selection:this.selection,model:this.model,tableBlankSlateText:I18n.t("pageflow.editor.nested_files.text_track_files.no_files_blank_slate")}),this.ui.filesPanel.append(this.subview(this.nestedFilesView).el),this.update(),pageflow.editor.setUploadTargetFile(this.model)},onClose:function(){pageflow.editor.setUploadTargetFile(undefined)},update:function(){var e=this.selection.get("file");e?(this.selectedFileRegion.show(new pageflow.EditFileView({model:e,attributeTranslationKeyPrefixes:["pageflow.editor.nested_files.text_track_files"]})),this.ui.selectedFileHeader.toggle(!0)):(this.selectedFileRegion.close(),this.ui.selectedFileHeader.toggle(!1))},upload:function(){pageflow.app.trigger("request-upload")}}),pageflow.ThemeItemView=Backbone.Marionette.ItemView.extend({tagName:"li",template:"pageflow/editor/templates/theme_item",className:"theme_item",mixins:[pageflow.selectableView],selectionAttribute:"theme",ui:{themeName:".theme_name",useButton:".use_theme",inUseRegion:".theme_in_use"},events:{"click .use_theme":function(){this.options.onUse(this.model)},mouseenter:"select",click:"select"},onRender:function(){this.$el.data("themeName",this.model.get("name")),this.ui.themeName.text(this.model.title()),this.inUse()&&this.ui.inUseRegion.text("\u2713"),this.ui.useButton.toggle(!this.inUse())},inUse:function(){return this.model.get("name")===this.options.themeInUse}}),pageflow.UploadableFilesView=Backbone.Marionette.ItemView.extend({template:"templates/uploadable_files",className:"uploadable_files",ui:{header:"h2"},initialize:function(){this.uploadableFiles=this.collection.uploadable(),this.options.selection.has("file")||this.options.selection.set("file",this.uploadableFiles.first())},onRender:function(){this.ui.header.text(I18n.t("pageflow.editor.files.tabs."+this.options.fileType.collectionName)),this.appendSubview(new pageflow.TableView({collection:this.uploadableFiles,attributeTranslationKeyPrefixes:["pageflow.editor.files.attributes."+this.options.fileType.collectionName,"pageflow.editor.files.common_attributes"],columns:this.commonColumns().concat(this.fileTypeColumns()),selection:this.options.selection,selectionAttribute:"file"})),this.listenTo(this.uploadableFiles,"add remove",this.update),this.update()},update:function(){this.$el.toggleClass("is_empty",0===this.uploadableFiles.length)},commonColumns:function(){return[{name:"file_name",cellView:pageflow.TextTableCellView},{name:"rights",cellView:pageflow.PresenceTableCellView}]},fileTypeColumns:function(){return _(this.options.fileType.confirmUploadTableColumns).map(function(e){return _.extend({},e,{configurationAttribute:!0})})}}),pageflow.UploaderView=Backbone.Marionette.View.extend({el:"form#upload",ui:{authToken:'input[name="authenticity_token"]'},initialize:function(){this.listenTo(pageflow.app,"request-upload",this.openFileDialog)},render:function(){var n=this;return this.bindUIElements(),this.$el.fileupload({acceptFileTypes:new RegExp("(\\.|\\/)(bmp|gif|jpe?g|png|ti?f|wmv|mp4|mpg|mov|asf|asx|avi|m?v|mpeg|qt|3g2|3gp|3ivx|divx|3vx|vob|flv|dvx|xvid|mkv|vtt)$","i"),dataType:"json",add:function(e,i){try{pageflow.fileUploader.add(i.files[0]).then(function(e){i.record=e;var t=i.submit();n.listenTo(i.record,"uploadCancelled",function(){t.abort()})})}catch(t){if(!(t instanceof pageflow.UploadError))throw t;pageflow.app.trigger("error",t)}},progress:function(e,t){t.record.set("uploading_progress",parseInt(t.loaded/t.total*100,10))},submit:function(e,t){var i=t.record;this.action=i.url(),t.paramName=i.modelName+"[attachment]",t.formData=_.extend({authenticity_token:n.ui.authToken.attr("value")},pageflow.formDataUtils.fromModel(i))},done:function(e,t){t.record.unset("uploading_progress"),t.record.set(t.result)},fail:function(e,t){"abort"!==t.errorThrown&&t.record.uploadFailed()},always:function(e,t){n.stopListening(t.record)}}),this},openFileDialog:function(){this.$("input:file").click()}}),pageflow.WidgetItemView=Backbone.Marionette.Layout.extend({template:"templates/widget_item",tagName:"li",className:"widget_item",regions:{widgetTypeContainer:".widget_type"},ui:{role:"h2"},modelEvents:{"change:type_name":"update"},events:{"click .settings":function(){return pageflow.editor.navigate("/widgets/"+this.model.role(),{trigger:!0}),!1}},onRender:function(){var e=this.options.widgetTypes.findAllByRole(this.model.role())||[],t=this.options.widgetTypes.isOptional(this.model.role());this.widgetTypeContainer.show(new pageflow.SelectInputView({model:this.model,propertyName:"type_name",label:I18n.t("pageflow.widgets.roles."+this.model.role()),collection:e,valueProperty:"name",translationKeyProperty:"translationKey",includeBlank:t||!this.model.get("type_name")})),this.$el.toggleClass("is_hidden",e.length<=1&&!this.model.hasConfiguration()&&!t),this.update()},update:function(){this.$el.toggleClass("has_settings",this.model.hasConfiguration())}}),pageflow.app.addInitializer(function(e){pageflow.config=e.config}),pageflow.app.addInitializer(function(e){pageflow.seed=e.common}),pageflow.app.addInitializer(function(e){pageflow.features.enable("editor",e.entry.enabled_feature_names)}),pageflow.app.addInitializer(function(){pageflow.Audio.setup({getSources:function(e){var t=pageflow.audioFiles.get(e);return t?t.getSources():""}})}),pageflow.app.addInitializer(function(){Backbone.history.on("route",function(){pageflow.editor.applyDefaultHelpEntry()})}),pageflow.app.addInitializer(function(e){var t={name:"text_tracks",valueView:pageflow.TextTracksFileMetaDataItemValueView,valueViewOptions:{settingsDialogTabLink:"text_tracks"}},i={name:"text_tracks",view:pageflow.TextTracksView,viewOptions:{supersetCollection:function(){return pageflow.textTrackFiles}}},n={name:"alt",valueView:pageflow.TextFileMetaDataItemValueView,valueViewOptions:{fromConfiguration:!0,settingsDialogTabLink:"general"}};pageflow.editor.fileTypes.register("image_files",{model:pageflow.ImageFile,metaDataAttributes:["dimensions",n],matchUpload:/^image/,configurationEditorInputs:[{name:"alt",inputView:pageflow.TextInputView}]}),pageflow.editor.fileTypes.register("video_files",{model:pageflow.VideoFile,metaDataAttributes:["format","dimensions","duration",t,n],matchUpload:/^video/,configurationEditorInputs:[{name:"alt",inputView:pageflow.TextInputView}],settingsDialogTabs:[i]}),pageflow.editor.fileTypes.register("audio_files",{model:pageflow.AudioFile,metaDataAttributes:["format","duration",t,n],matchUpload:/^audio/,configurationEditorInputs:[{name:"alt",inputView:pageflow.TextInputView}],settingsDialogTabs:[i]}),pageflow.editor.fileTypes.register("text_track_files",{model:pageflow.TextTrackFile,matchUpload:function(e){return e.name.match(/\.vtt$/)||e.name.match(/\.srt$/)},skipUploadConfirmation:!0,configurationEditorInputs:[{name:"label",inputView:pageflow.TextInputView,inputViewOptions:{placeholder:function(e){return e.parent.inferredLabel()},placeholderBinding:pageflow.TextTrackFile.displayLabelBinding}},{name:"kind",inputView:pageflow.SelectInputView,inputViewOptions:{values:pageflow.config.availableTextTrackKinds,translationKeyPrefix:"pageflow.config.text_track_kind"}},{name:"srclang",inputView:pageflow.TextInputView,inputViewOptions:{required:!0}}],nestedFileTableColumns:[{name:"label",cellView:pageflow.TextTableCellView,value:function(e){return e.displayLabel()},contentBinding:pageflow.TextTrackFile.displayLabelBinding},{name:"srclang",cellView:pageflow.TextTableCellView,"default":I18n.t("pageflow.editor.text_track_files.srclang_missing")},{name:"kind",cellView:pageflow.IconTableCellView,cellViewOptions:{icons:pageflow.config.availableTextTrackKinds}}],nestedFilesOrder:{comparator:function(e){return e.displayLabel().toLowerCase()},binding:"label"}}),pageflow.editor.fileTypes.setup(e.config.fileTypes)}),pageflow.app.addInitializer(function(e){pageflow.editor.widgetTypes.registerRole("navigation",{isOptional:!0}),pageflow.editor.widgetTypes.setup(e.widget_types)}),pageflow.app.addInitializer(function(e){pageflow.files=pageflow.FilesCollection.createForFileTypes(pageflow.editor.fileTypes,e.files),pageflow.imageFiles=pageflow.files.image_files,pageflow.videoFiles=pageflow.files.video_files,pageflow.audioFiles=pageflow.files.audio_files,pageflow.textTrackFiles=pageflow.files.text_track_files;var t=new pageflow.WidgetsCollection(e.widgets,{widgetTypes:pageflow.editor.widgetTypes});pageflow.themes=new pageflow.ThemesCollection(e.themes),pageflow.pages=new pageflow.PagesCollection(e.pages),pageflow.chapters=new pageflow.ChaptersCollection(e.chapters),pageflow.storylines=new pageflow.StorylinesCollection(e.storylines),pageflow.entry=new pageflow.Entry(e.entry,{widgets:t}),pageflow.theming=new pageflow.Theming(e.theming),pageflow.account=new Backbone.Model(e.account),t.subject=pageflow.entry,pageflow.entryData=new pageflow.PreviewEntryData({entry:pageflow.entry,storylines:pageflow.storylines,chapters:pageflow.chapters,pages:pageflow.pages}),pageflow.storylineOrdering=new pageflow.StorylineOrdering(pageflow.storylines,pageflow.pages),pageflow.storylineOrdering.sort({silent:!0}),pageflow.storylineOrdering.watch(),pageflow.pages.sort(),pageflow.storylines.on("sort",_.debounce(function(){pageflow.storylines.saveOrder()},100)),pageflow.editor.failures.watch(pageflow.entry),pageflow.editor.failures.watch(pageflow.pages),pageflow.editor.failures.watch(pageflow.chapters),pageflow.savingRecords=new pageflow.SavingRecordsCollection,pageflow.savingRecords.watch(pageflow.pages),pageflow.savingRecords.watch(pageflow.chapters),pageflow.events.trigger("seed:loaded")}),pageflow.app.addInitializer(function(){pageflow.fileUploader=new pageflow.FileUploader({entry:pageflow.entry,fileTypes:pageflow.editor.fileTypes}),pageflow.ConfirmUploadView.watch(pageflow.fileUploader,pageflow.editor.fileTypes,pageflow.files)}),pageflow.app.addInitializer(function(e){pageflow.editor.pageTypes.setup(e.page_types)}),pageflow.app.addInitializer(function(){var t=65,i=88;$(document).on("keydown",function(e){e.altKey&&e.which===t?pageflow.atmo.disabled?pageflow.atmo.enable():pageflow.atmo.disable():e.altKey&&e.which===i&&pageflow.editor.navigate("pages/"+pageflow.slides.currentPage().data("id"),{trigger:!0})})}),pageflow.app.addInitializer(function(){pageflow.editLock=new pageflow.EditLockContainer,pageflow.editLock.watchForErrors(),pageflow.editLock.acquire()}),pageflow.app.addInitializer(function(){pageflow.entry.pollForPendingFiles()}),pageflow.app.addInitializer(function(){pageflow.entry.on("change:pending_files_count",function(e,t){t<pageflow.entry.previous("pending_files_count")&&pageflow.stylesheet.reload("entry")}),pageflow.entry.on("use:files",function(){pageflow.stylesheet.reload("entry")}),pageflow.entry.configuration.on("change:theme_name",function(){var e=pageflow.entry.getTheme();pageflow.stylesheet.update("theme",e.get("stylesheet_path"))})}),pageflow.app.addInitializer(function(){_.each(pageflow.editor.sideBarRoutings,function(e){new e.router({controller:new e.controller({region:pageflow.app.sidebarRegion,entry:pageflow.entry})})}),pageflow.editor.router=new pageflow.SidebarRouter({controller:new pageflow.SidebarController({region:pageflow.app.sidebarRegion,entry:pageflow.entry})}),window.editor=pageflow.editor.router}),pageflow.app.addInitializer(function(){pageflow.app.on("error",function(e){e.message?alert(e.message):alert(I18n.t(e.name,{scope:"pageflow.editor.errors",defaultValue:I18n.t("pageflow.editor.errors.unknown")}))})}),pageflow.app.addInitializer(function(){var t=this,i=arguments;_.each(pageflow.editor.initializers,function(e){e.call(t,i)})}),pageflow.app.addInitializer(function(e){new pageflow.EditorView({el:$("body")}).render(),new pageflow.ScrollingView({el:$("sidebar .scrolling"),region:pageflow.app.sidebarRegion}).render(),pageflow.app.previewRegion.show(new pageflow.EntryPreviewView({model:pageflow.entry})),pageflow.app.indicatorsRegion.show((new pageflow.DisabledAtmoIndicatorView).render()),pageflow.app.notificationsRegion.show((new pageflow.NotificationsView).render()),pageflow.app.helpButtonRegion.show((new pageflow.HelpButtonView).render()),Backbone.history.start({root:e.root})}),pageflow.app.addRegions({previewRegion:"#entry_preview",mainRegion:"#main_content",indicatorsRegion:"#editor_indicators",sidebarRegion:"sidebar .container",dialogRegion:".dialog_container",notificationsRegion:"sidebar .notifications_container",helpButtonRegion:"sidebar .help_button_container"}),pageflow.internalLinks=pageflow.internalLinks||{},pageflow.internalLinks.pageConfigurationMixin={internalLinksList:function(){return this._internalLinksList=this._internalLinksList||new pageflow.internalLinks.ListPageLinksCollection(null,{configuration:this}),this._internalLinksList},internalLinksGrid:function(){return this._internalLinksGrid=this._internalLinksGrid||new pageflow.internalLinks.GridPageLinksCollection(null,{configuration:this}),this._internalLinksGrid}},pageflow.internalLinks.PageLink=Backbone.Model.extend({i18nKey:"pageflow/internal_links/page_link",mixins:[pageflow.transientReferences],targetPage:function(){
return pageflow.pages.getByPermaId(this.get("target_page_id"))},label:function(){return this.get("label")},thumbnailFile:function(){var e=this.getReference("thumbnail_image_id",pageflow.imageFiles);return e||(this.targetPage()?this.targetPage().thumbnailFile():null)},editPath:function(){return"/internal_links_pages/"+this.getRoutableId()+"/page_links/"+this.id},getRoutableId:function(){return this.collection.page.id},toSerializedJSON:function(){return _.omit(this.attributes,"highlighted")},highlight:function(){this.set("highlighted",!0)},resetHighlight:function(){this.unset("highlighted")},remove:function(){this.collection.remove(this)}}),pageflow.internalLinks.PageLinkFileSelectionHandler=function(t){var i=pageflow.pages.get(t.id).pageLinks().get(t.pageLinkId);this.call=function(e){i.setReference(t.attributeName,e)},this.getReferer=function(){return"/internal_links_pages/"+t.id+"/page_links/"+t.pageLinkId}},pageflow.editor.registerFileSelectionHandler("internalLinks.pageLink",pageflow.internalLinks.PageLinkFileSelectionHandler),pageflow.internalLinks.PageLinksCollection=Backbone.Collection.extend({model:pageflow.internalLinks.PageLink,comparator:"position",initialize:function(e,t){this.configuration=t.configuration,this.page=t.configuration.page,this.load(),this.listenTo(this,"add remove change",this.save),this.listenTo(this.configuration,"change:internal_links",this.load)},addLink:function(e){this.addWithPosition(this.defaultPosition(),e)},canAddLink:function(){return!0},updateLink:function(e,t){e.set("target_page_id",t)},removeLink:function(e){this.remove(e)},addWithPosition:function(e,t){this.add(this.pageLinkAttributes(e,t))},removeByPosition:function(e){this.remove(this.findByPosition(e))},findByPosition:function(e){return this.findWhere({position:e})},load:function(){this.set(this.pageLinksAttributes()||this.legacyPageLinksAttributes())},save:function(){this.configuration.set("internal_links",this.map(function(e){return e.toSerializedJSON()}))},pageLinksAttributes:function(){if(this.configuration.has("internal_links"))return this.configuration.get("internal_links")||[]},legacyPageLinksAttributes:function(){return _(this.configuration.get("linked_page_ids")||{}).reduce(function(e,t,i){return pageflow.pages.getByPermaId(t)&&e.push(this.pageLinkAttributes(parseInt(i,10)-1,t,this.configuration.page.id+":"+i)),e},[],this)},pageLinkAttributes:function(e,t,i){return{id:i||this.getUniqueId(),target_page_id:t,position:e}},getUniqueId:function(){var e=Math.max(0,_.max(this.map(function(e){return parseInt(e.id.split(":").pop(),10)})));return this.configuration.page.id+":"+(e+1)}}),pageflow.internalLinks.GridPageLinksCollection=pageflow.internalLinks.PageLinksCollection.extend({canAddLink:function(){return this.defaultPosition()!==undefined},defaultPosition:function(){var t=this;return _.chain(25).times(function(e){return e}).find(function(e){return!t.findWhere({position:e})}).value()}}),pageflow.internalLinks.ListPageLinksCollection=pageflow.internalLinks.PageLinksCollection.extend({defaultPosition:function(){return Math.max(0,_.max(this.map(function(e){return e.get("position")})))+1},saveOrder:function(){}}),function(){this.JST||(this.JST={}),this.JST["pageflow/internal_links/editor/templates/edit_page_link"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.internal_links.editor.templates.edit_page_link.back"),'</a>\n<a class="destroy">',I18n.t("pageflow.internal_links.editor.templates.edit_page_link.destroy"),'</a>\n<div class="form_container"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/internal_links/editor/templates/grid_item_embedded"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="edit" href="" title="',I18n.t("pageflow.internal_links.editor.templates.embedded.grid_page_link.edit"),'"></a>\n<a class="set" href="" title="',I18n.t("pageflow.internal_links.editor.templates.embedded.grid_page_link.set"),'"></a>\n<div class="placeholder"></div>\n<span class="title"></span>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/internal_links/editor/templates/list_item_embedded"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="edit" href="" title="',I18n.t("pageflow.internal_links.editor.templates.list_item_embedded.edit"),'"></a>\n\n<a class="page_link" href="#">\n  <div class="details">\n    <p class="page_description"></p>\n  </div>\n</a>\n');return __p.join("")}}.call(this),pageflow.internalLinks.EditPageLinkView=Backbone.Marionette.Layout.extend({template:"pageflow/internal_links/editor/templates/edit_page_link",regions:{formContainer:".form_container"},ui:{backButton:"a.back"},events:{"click a.back":"goBack","click a.destroy":"destroy"},onRender:function(){var e=new pageflow.ConfigurationEditorView({model:this.model,attributeTranslationKeyPrefixes:["pageflow.internal_links.page_link_attributes","pageflow.common_page_link_attributes"]});this.configure(e),this.formContainer.show(e),this.highlight()},highlight:function(){var e=this.model.collection.page;this.model.highlight(),e.set("internal_links_editable",!0),this.listenTo(this,"close",function(){this.model.resetHighlight(),e.unset("internal_links_editable")})},configure:function(e){var t=this.model,i=t.collection.page;e.tab("general",function(){this.input("label",pageflow.TextInputView),this.input("target_page_id",pageflow.PageLinkInputView),this.input("page_transition",pageflow.SelectInputView,{translationKeyPrefix:"pageflow.page_transitions",includeBlank:!0,blankTranslationKey:"pageflow.internal_links.editor.views.edit_page_link_view.default_page_transition",values:pageflow.pageTransitions.names()}),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1,fileSelectionHandler:"internalLinks.pageLink",fileSelectionHandlerOptions:{pageLinkId:t.id},visibleBinding:"id",visible:function(){return"internal_links_list"===i.get("template")}}),this.input("description",pageflow.TextAreaInputView,{size:"short"})})},destroy:function(){confirm(I18n.t("pageflow.internal_links.editor.views.edit_page_link_view.confirm_destroy"))&&(this.model.remove(),this.goBack())},goBack:function(){pageflow.editor.navigate("/pages/"+this.options.page.id+"/links",{trigger:!0})}}),pageflow.internalLinks.EditableLinksModeView=Backbone.Marionette.View.extend({render:function(){return this.model.set("internal_links_editable",!0),this},onClose:function(){this.model.unset("internal_links_editable")}}),pageflow.internalLinks.GridConfigurationEditorView=pageflow.ConfigurationEditorView.extend({configure:function(){this.tab("general",function(){this.group("general")}),this.tab("files",function(){this.group("background"),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1})}),this.tab("links",function(){this.view(pageflow.internalLinks.EditableLinksModeView,{model:this.model.page}),this.input("linked_pages_layout",pageflow.SelectInputView,{values:pageflow.Page.linkedPagesLayouts}),this.view(pageflow.PageLinksView,{model:this.model.page})}),this.tab("options",function(){this.group("options")})}}),pageflow.internalLinks.GridItemEmbeddedView=Backbone.Marionette.ItemView.extend({template:"pageflow/internal_links/editor/templates/grid_item_embedded",modelEvents:{change:"update"},ui:{title:".title"},events:{"click .edit":function(){return pageflow.editor.navigate(this.pageLink().editPath(),{trigger:!0}),!1},"click .set":function(){var t=this;pageflow.editor.selectPage().then(function(e){t.setTargetPage(e.get("perma_id"))})},"click .thumbnail":function(){if(!this.$el.hasClass("editable")){var e=this.pageLink();pageflow.slides.goToByPermaId(e.get("target_page_id"),{transition:e.get("page_transition")})}return!1},mousedown:function(){if(this.$el.hasClass("editable")&&!this.$el.hasClass("unassigned"))return!1}},initialize:function(){this.pageLinks=this.model.page.pageLinks()},onRender:function(){var i=this;this.$el.droppable({tolerance:"pointer",accept:function(){return i.$el.hasClass("editable")&&i.$el.hasClass("unassigned")},activate:function(){i.$el.addClass("droppable")},deactivate:function(){i.$el.removeClass("droppable over")},over:function(){i.$el.addClass("over")},out:function(){i.$el.removeClass("over")},drop:function(e,t){i.$el.removeClass("droppable over"),i.movePageLinkFrom(t.draggable.data("referenceKey"))}}),this.$el.draggable({disabled:!0,helper:"clone",revert:function(e){return e&&i.resetPageLink(),!e},start:function(){i.$el.addClass("dragged")},stop:function(){i.$el.removeClass("dragged")},revertDuration:200}),this.listenTo(this.model.page,"change:internal_links_editable",function(){i.updateClassNames(),i.updateDraggable(),i.options.container.refreshScroller()}),this.update()},update:function(){this.targetPage();var e=this.pageLink();this.$el.attr("data-page-transition",e?e.get("page_transition"):null),this.updateTexts(),this.updateCurrentPageLink(),this.updateThumbnailView(),this.updateClassNames(),this.updateDraggable()},updateCurrentPageLink:function(){var e=this.pageLink();this.currentPageLink!==e&&(this.currentPageLink&&this.stopListening(this.currentPageLink,"change"),(this.currentPageLink=e)&&this.listenTo(e,"change",function(){this.updateClassNames(),this.updateThumbnailView()}))},updateTexts:function(){var e=this.targetPage(),t=this.pageLink();t&&t.get("description")?this.ui.title.html(t.get("description")):this.ui.title.html(e?e.configuration.get("description"):"")},updateThumbnailView:function(){var e=this.targetPage();this.currentLinkedPage!==e&&(this.currentLinkedPage&&(this.stopListening(this.currentLinkedPage,"change:highlighted"),this.stopListening(this.currentLinkedPage.configuration,"change:description")),this.currentLinkedPage=e,this.thumbnailView&&this.thumbnailView.close(),e&&(this.thumbnailView=this.subview(new pageflow.PageThumbnailView({model:e,imageUrlPropertyName:"link_thumbnail_url"})),this.$el.append(this.thumbnailView.el),this.listenTo(e,"change:highlighted",this.updateClassNames),this.listenTo(e.configuration,"change:description",this.updateTitle)))},updateClassNames:function(){var e=this.model.page.get("internal_links_editable"),t=this.targetPage();this.$el.toggleClass("title_hover",!e),this.$el.toggleClass("editable",!!e),this.$el.toggleClass("empty",!t&&!e),this.$el.toggleClass("no_page",!t),this.$el.toggleClass("unassigned",!this.currentPageLink),this.$el.toggleClass("highlighted",!(!this.currentPageLink||!this.currentPageLink.get("highlighted")))},updateDraggable:function(){this.$el.draggable("option","disabled",!this.$el.hasClass("editable")||this.$el.hasClass("unassigned"))},setTargetPage:function(e){this.pageLinks.addWithPosition(this.position(),e)},movePageLinkFrom:function(e){this.pageLinks.findByPosition(e).set("position",this.position())},resetPageLink:function(){this.pageLinks.removeByPosition(this.position())},targetPage:function(){var e=this.pageLink();return e&&e.targetPage()},pageLink:function(){return this.pageLinks.findByPosition(this.position())},position:function(){return this.$el.data("referenceKey")}}),pageflow.internalLinks.ListConfigurationEditorView=pageflow.ConfigurationEditorView.extend({configure:function(){this.tab("general",function(){this.group("general")}),this.tab("files",function(){this.group("background"),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1})}),this.tab("links",function(){this.view(pageflow.internalLinks.EditableLinksModeView,{model:this.model.page}),this.view(pageflow.PageLinksView,{model:this.model.page})}),this.tab("options",function(){this.group("options")})}}),pageflow.internalLinks.ListEmbeddedView=Backbone.Marionette.View.extend({render:function(){return this.subview(new pageflow.CollectionView({el:this.$el.find("ul"),collection:this.model.internalLinksList(),itemViewConstructor:pageflow.internalLinks.ListItemEmbeddedView,itemViewOptions:{page:this.model.page}})),this.listenTo(this.model.page.pageLinks(),"add remove",function(){this.refreshScroller()}),this.refreshScroller(),this},refreshScroller:function(){}}),pageflow.internalLinks.ListItemEmbeddedView=Backbone.Marionette.ItemView.extend({template:"pageflow/internal_links/editor/templates/list_item_embedded",tagName:"li",modelEvents:{change:"update"},ui:{description:".page_description",link:".page_link"},events:{"click .edit":function(){return pageflow.editor.navigate(this.model.editPath(),{trigger:!0}),!1},click:function(){if(this.$el.hasClass("editable"))return!1}},onRender:function(){this.listenTo(this.options.page,"change:internal_links_editable",function(){this.updateClassNames()}),this.update()},update:function(){var e=this.targetPage();"currentTargetPage"in this&&this.currentTargetPage===e&&"currentThumbnailImageId"in this&&this.currentThumbnailImageId==this.model.get("thumbnail_image_id")||(this.currentTargetPage&&this.stopListening(this.currentTargetPage.configuration,"change:description"),this.currentTargetPage=e,this.currentThumbnailImageId=this.model.get("thumbnail_image_id"),this.ui.link.attr("data-page",e?e.get("perma_id"):null),this.updateThumbnail(),e&&this.listenTo(e.configuration,"change:description",this.updateTexts)),this.updatePageTransition(),this.updateClassNames(),this.updateTexts()},updatePageTransition:function(){this.ui.link.attr("data-page-transition",this.model.get("page_transition"))},updateTexts:function(){var e=this.targetPage();this.model.get("description")?this.ui.description.html(this.model.get("description")):this.ui.description.html(e&&e.configuration.get("description")||"")},updateThumbnail:function(){this.targetPage();this.thumbnailView&&this.thumbnailView.close(),this.thumbnailView=this.subview(new pageflow.PageThumbnailView({model:this.model,imageUrlPropertyName:"link_thumbnail_url"})),this.ui.link.prepend(this.thumbnailView.el)},updateClassNames:function(){var e=this.options.page.get("internal_links_editable"),t=this.targetPage();this.$el.toggleClass("editable",!!e),this.$el.toggleClass("empty",!t&&!e),this.$el.toggleClass("unassigned",!t),this.$el.toggleClass("highlighted",!!this.model.get("highlighted")),this.ui.link.toggleClass("custom_thumbnail",!!this.model.getReference("thumbnail_image_id",pageflow.imageFiles)),this.ui.link.toggleClass("no_custom_thumbnail",!this.model.getReference("thumbnail_image_id",pageflow.imageFiles)),this.ui.link.toggleClass("own_description",!!this.model.get("description")),this.ui.link.toggleClass("no_own_description",!this.model.get("description"))},targetPage:function(){return this.model.targetPage()}}),pageflow.internalLinks.PageLinkEmbeddedView=Backbone.Marionette.ItemView.extend({modelEvents:{change:"update"},ui:{title:".title",description:".description"},events:{"click .reset":function(){this.setTargetPage(null)},"click .set":function(){var t=this;pageflow.editor.selectPage().then(function(e){t.setTargetPage(e.get("perma_id"))})},"click .thumbnail":function(){return this.$el.hasClass("editable")||pageflow.slides.goToById(this.targetPage().id),!1},mousedown:function(){if(this.$el.hasClass("editable")&&!this.$el.hasClass("unassigned"))return!1}},onRender:function(){var e=this;this.listenTo(this.model.page,"change:"+this.options.propertyName+"_editable",function(){e.updateClassName(),e.updateDraggable(),e.options.container.refreshScroller()}),this.update()},update:function(){var e=this.targetPage();this.$el.data("permaId",e?e.get("perma_id"):null),this.updateTexts(),this.updateThumbnailView(),this.updateClassNames()},updateTexts:function(){var e=this.targetPage();this.ui.title.html(e?e.configuration.get("description"):"")},updateThumbnailView:function(){var e=this.targetPage();this.currentLinkedPage!==e&&(this.currentLinkedPage&&(this.stopListening(this.currentLinkedPage,"change:highlighted"),this.stopListening(this.currentLinkedPage.configuration,"change:description")),this.currentLinkedPage=e,this.thumbnailView&&this.thumbnailView.close(),e&&(this.thumbnailView=this.subview(new pageflow.PageThumbnailView({model:e,imageUrlPropertyName:"link_thumbnail_url"})),this.$el.append(this.thumbnailView.el),this.listenTo(e,"change:highlighted",this.updateClassName),this.listenTo(e.configuration,"change:description",this.updateTitle)))},updateClassNames:function(){var e=this.model.page.get(this.options.propertyName+"_editable"),t=this.targetPage();this.$el.toggleClass("title_hover",!e),this.$el.toggleClass("editable",!!e),this.$el.toggleClass("empty",!t&&!e),this.$el.toggleClass("unassigned",!t),this.$el.toggleClass("highlighted",!!t&&!!t.get("highlighted"))}}),pageflow.internalLinks.SideBarRouter=Backbone.Marionette.AppRouter.extend({appRoutes:{"internal_links_pages/:pageId/page_links/:id":"pageLink"}}),pageflow.internalLinks.SideBarController=Backbone.Marionette.Controller.extend({initialize:function(e){this.region=e.region},pageLink:function(e,t){var i=pageflow.pages.get(e);this.region.show(new pageflow.internalLinks.EditPageLinkView({model:i.pageLinks().get(t),page:i}))}}),pageflow.editor.pageTypes.register("internal_links_grid",{configurationEditorView:pageflow.internalLinks.GridConfigurationEditorView,embeddedViews:{"nav li":{view:pageflow.internalLinks.GridItemEmbeddedView,options:{propertyName:"linked_page_ids"}}},pageLinks:function(e){return e.internalLinksGrid()}}),pageflow.editor.pageTypes.register("internal_links_list",{configurationEditorView:pageflow.internalLinks.ListConfigurationEditorView,embeddedViews:{nav:{view:pageflow.internalLinks.ListEmbeddedView}},pageLinks:function(e){return e.internalLinksList()}}),pageflow.editor.registerPageConfigurationMixin(pageflow.internalLinks.pageConfigurationMixin),pageflow.editor.registerSideBarRouting({router:pageflow.internalLinks.SideBarRouter,controller:pageflow.internalLinks.SideBarController}),pageflow.externalLinks=pageflow.externalLinks||{},pageflow.externalLinks.selectSite=function(){return pageflow.externalLinks.SiteSelectionView.selectSite()},pageflow.externalLinks.pageConfigurationMixin={externalSiteReferences:function(){function e(){var e=new pageflow.externalLinks.SiteReferencesCollection;return pageflow.externalLinks.sites.ensureFetched().then(function(){e.add(t()),n.listenTo(e,"add remove sort",function(){n.set("linked_external_site_perma_ids",_.map(e.pluck("site"),function(e){return e.get("perma_id")}))})}),e}function t(){return _.compact(_.map(i(),function(e){var t=pageflow.externalLinks.sites.getByPermaId(e);return t&&{site:t}}))}function i(){return n.get("linked_external_site_perma_ids")||[]}var n=this;return this._externalSiteReferences=this._externalSiteReferences||e(),this._externalSiteReferences}},pageflow.externalLinks.Site=Backbone.Model.extend({modelName:"site",paramRoot:"site",i18nKey:"pageflow/external_links/site",mixins:[pageflow.failureTracking,pageflow.transientReferences],defaults:{open_in_new_tab:!0},initialize:function(){this.listenTo(this,"change",function(){this.save()})},urlRoot:function(){return this.isNew()?this.collection.url():"/external_links/sites"},thumbnailFile:function(){return this.getReference("thumbnail",pageflow.imageFiles)},title:function(){return this.get("title")}}),pageflow.externalLinks.SiteFileSelectionHandler=function(t){this.call=function(e){pageflow.externalLinks.sites.ensureFetched().then(function(){pageflow.externalLinks.sites.get(t.id).setReference(t.attributeName,e)})},this.getReferer=function(){var e=t.pageId&&t.returnTo?"/?page="+t.pageId+"&return_to="+t.returnTo:"";return"/external_links/sites/"+t.id+e}},pageflow.externalLinks.SiteReference=Backbone.Model.extend({modelName:"siteReference",initialize:function(){this.listenTo(this.get("site"),"destroy",this.destroy)}}),pageflow.externalLinks.SiteSelectionHandler=function(t){this.call=function(e){t.page.configuration.externalSiteReferences().add({site:e})}},pageflow.externalLinks.SiteReferencesCollection=Backbone.Collection.extend({model:pageflow.externalLinks.SiteReference,comparator:function(e){return e.get("position")},saveOrder:function(){}}),pageflow.externalLinks.SitesCollection=Backbone.Collection.extend({model:pageflow.externalLinks.Site,url:function(){return"/external_links/entries/"+pageflow.entry.get("id")+"/sites"},getByPermaId:function(e){return this.findWhere({perma_id:e})},ensureFetched:function(){var t=this;return this.fetchedPromise=this.fetchedPromise||new $.Deferred(function(e){t.once("sync",e.resolve),t.fetch()}).promise(),this.fetchedPromise}}),pageflow.externalLinks.SidebarRouter=Backbone.Marionette.AppRouter.extend({appRoutes:{"external_links/sites":"sites","external_links/sites?page=:page_id":"sites","external_links/sites/:id":"site","external_links/sites/:id/?page=:page_id&return_to=:return_to":"site"}}),pageflow.externalLinks.SidebarController=Backbone.Marionette.Controller.extend({initialize:function(e){this.region=e.region},sites:function(e){var t=pageflow.pages.get(e),i=t?"/pages/"+t.id+"/links ":"/";this.region.show(new pageflow.BackButtonDecoratorView({referer:i,view:new pageflow.externalLinks.SitesView({selectionHandler:t&&new pageflow.externalLinks.SiteSelectionHandler({page:t}),page:t,referer:i})}))},site:function(e,t,i){var n=pageflow.pages.get(t),a=this.region;pageflow.externalLinks.sites.ensureFetched().then(function(){a.show(new pageflow.externalLinks.EditSiteView({model:pageflow.externalLinks.sites.get(e),page:n,returnTo:i}))})}}),function(){this.JST||(this.JST={}),this.JST["pageflow/external_links/editor/templates/edit_site"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.external_links.editor.templates.edit_site.back"),'</a>\n<a class="destroy">',I18n.t("pageflow.external_links.editor.templates.edit_site.destroy"),'</a>\n\n<div class="failure">\n  <p>',I18n.t("pageflow.external_links.editor.templates.edit_site.failure"),'</p>\n  <p class="message"></p>\n  <a class="retry" href="">',I18n.t("pageflow.external_links.editor.templates.edit_site.retry"),'</a>\n</div>\n\n<div class="form_container"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/external_links/editor/templates/embedded/list_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="link-thumbnail"></div>\n<div class="link-details">\n  <p class="link-title"></p>\n  <p class="link-description"></p>\n</div>\n<div class="tooltip">\n  ',I18n.t("pageflow.external_links.editor.templates.embedded.list_item.open_in_new_tab_message"),'\n  <span target="_blank">',I18n.t("pageflow.external_links.editor.templates.embedded.list_item.open_in_new_tab"),"</span>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/external_links/editor/templates/inputs/site_reference"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<ul class="sites outline"></ul>\n\n<a href="" class="add_reference">',I18n.t("pageflow.external_links.editor.templates.inputs.site_reference.add"),"</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/external_links/editor/templates/site_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a href="">\n  <span class="thumbnail"></span>\n  <span class="title"></span>\n  <span class="failure_icon" title="',I18n.t("pageflow.external_links.editor.templates.site_item.failure"),'" />\n</a>\n<a class="select">',I18n.t("pageflow.external_links.editor.templates.site_item.select"),"</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/external_links/editor/templates/site_reference_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a href="">\n  <span class="thumbnail"></span>\n  <span class="title"></span>\n  <a class="edit" title="',I18n.t("pageflow.external_links.editor.templates.site_reference_item.edit"),'"></a>\n  <a class="remove" title="',I18n.t("pageflow.external_links.editor.templates.site_reference_item.remove"),'"></a>\n</a>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/external_links/editor/templates/site_selection"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<div class="box">\n  <h2>',I18n.t("pageflow.external_links.editor.templates.site_selection.title"),'</h2>\n\n  <div class="wrapper editor">\n    <ul class="external_sites">\n    </ul>\n  </div>\n\n  <div class="footer">\n    <a href="" class="close">',I18n.t("pageflow.external_links.editor.templates.site_selection.cancel"),"</a>\n  </div>\n</div>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/external_links/editor/templates/sites"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="add" href="">',I18n.t("pageflow.external_links.editor.templates.sites.add"),"</a>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/external_links/editor/templates/sites_blank_slate"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<li class="blank_slate">',I18n.t("pageflow.external_links.editor.templates.sites_blank_slate.text"),"<li>\n");return __p.join("")}}.call(this),pageflow.ConfigurationEditorView.register("external_links",{configure:function(){this.tab("general",function(){this.group("general")}),this.tab("files",function(){this.group("background"),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1})}),this.tab("links",function(){this.input("linked_external_site_perma_ids",pageflow.externalLinks.SiteReferencesInputView)}),this.tab("options",function(){this.group("options")})}}),pageflow.externalLinks.EditSiteView=Backbone.Marionette.Layout.extend({template:"pageflow/external_links/editor/templates/edit_site",className:"edit_external_site",mixins:[pageflow.failureIndicatingView],regions:{formContainer:".form_container"},ui:{backButton:"a.back"},events:{"click a.back":"goBack","click a.destroy":"destroy"},onRender:function(){var e=this.options,t=new pageflow.ConfigurationEditorView({model:this.model});t.tab("general",function(){this.input("url",pageflow.TextInputView,{required:!0}),this.input("open_in_new_tab",pageflow.CheckBoxInputView),this.input("thumbnail",pageflow.FileInputView,{collection:pageflow.imageFiles,fileSelectionHandler:"externalLinks.site",fileSelectionHandlerOptions:{pageId:e.page&&e.page.id,returnTo:e.returnTo},positioning:!1}),this.input("title",pageflow.TextInputView,{required:!0}),this.input("description",pageflow.TextAreaInputView,{size:"short",disableLinks:!0})}),"page"===this.options.returnTo&&this.options.page&&this.ui.backButton.text(I18n.t("pageflow.external_links.editor.views.edit_site.back")),this.formContainer.show(t)},destroy:function(){confirm(I18n.t("pageflow.external_links.editor.views.edit_site.confirm_destroy"))&&(this.model.destroy(),this.goBack())},goBack:function(){if("page"===this.options.returnTo&&this.options.page)pageflow.editor.navigate("/pages/"+this.options.page.id+"/links",{trigger:!0});else{var e=this.options.page?"?page="+this.options.page.id:"";pageflow.editor.navigate("/external_links/sites"+e,{trigger:!0})}}}),pageflow.externalLinks.ListEmbeddedView=Backbone.Marionette.View.extend({render:function(){return this.subview(new pageflow.CollectionView({el:this.$el.find("div"),collection:this.model.externalSiteReferences(),itemViewConstructor:pageflow.externalLinks.ListItemEmbeddedView})),this.listenTo(this.model.externalSiteReferences(),"add remove",function(){this.refreshScroller()}),this.listenTo(pageflow.externalLinks.sites,"change",function(){this.$el.data("scroller").updateHeight()}),this.refreshScroller(),this},refreshScroller:function(){this.$el.data("scroller").refresh(),this.$el.data("scroller").checkDisable(),this.$el.data("scroller").updateHeight()}}),pageflow.externalLinks.ListItemEmbeddedView=Backbone.Marionette.ItemView.extend({template:"pageflow/external_links/editor/templates/embedded/list_item",tagName:"a",className:"link-item",ui:{title:".link-title",description:".link-description",thumbnail:".link-thumbnail",tooltip:".tooltip"},events:{click:function(e){if(!e.currentTarget.target)return this.ui.tooltip.show(),!1;e.stopPropagation()},mouseleave:function(){this.ui.tooltip.hide()},"click .tooltip":function(){return window.open(this.$el.attr("href"),"_blank"),this.ui.tooltip.hide(),!1}},onRender:function(){this.listenTo(this.model.get("site"),"change",this.update),this.update()},update:function(){function e(e){return!e||""===e.replace(/\s+/g,"").replace(/&nbsp;/g,"")}var t=this.model.get("site");this.ui.title.text(t.get("title")),this.ui.description.html(t.get("description")),this.ui.tooltip.hide(),this.$el.toggleClass("no_text",e(t.get("title"))&&e(t.get("description"))),this.$el.attr("href",t.get("url")),this.$el.attr("target",t.get("open_in_new_tab")?"_blank":null),this.updateThumbnailView(t)},updateThumbnailView:function(e){var t=e.thumbnailFile();this.currentThumbnail!==t&&(this.currentThumbnail=t,this.thumbnailView&&this.thumbnailView.close(),t&&(this.thumbnailView=this.subview(new pageflow.FileThumbnailView({model:t,imageUrlPropertyName:"link_thumbnail_url"})),this.ui.thumbnail.append(this.thumbnailView.el)))}}),pageflow.externalLinks.SiteReferenceInputView=pageflow.ReferenceInputView.extend({choose:function(){return pageflow.externalLinks.selectSite()},getTarget:function(e){return pageflow.externalLinks.sites.getByPermaId(e)}}),pageflow.externalLinks.SiteReferencesInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView],template:"pageflow/external_links/editor/templates/inputs/site_reference",className:"external_links_site_references_input",ui:{sites:"ul.sites"},events:{"click .add_reference":function(){return pageflow.editor.navigate("/external_links/sites?page="+this.model.page.id,{trigger:!0}),!1}},onRender:function(){this.subview(new pageflow.SortableCollectionView({el:this.ui.sites,collection:this.model.externalSiteReferences(),itemViewConstructor:pageflow.externalLinks.SiteReferenceItemView,itemViewOptions:{page:this.model.page}}))}}),pageflow.externalLinks.SiteItemView=Backbone.Marionette.ItemView.extend({tagName:"li",template:"pageflow/external_links/editor/templates/site_item",mixins:[pageflow.loadable],ui:{title:".title",selectButton:".select",thumbnail:".thumbnail"},events:{click:function(){if(!this.model.isNew()&&this.options.navigatable){var e=this.options.page?"/?page="+this.options.page.id+"&return_to=sites":"";pageflow.editor.navigate("/external_links/sites/"+this.model.get("id")+e,{trigger:!0})}return!1},"click .select":function(){return this.options.selectionHandler&&(this.options.selectionHandler.call(this.model),this.options.referer&&pageflow.editor.navigate(this.options.referer,{trigger:!0})),!1}},onRender:function(){this.update(),this.subview(new pageflow.FileThumbnailView({el:this.ui.thumbnail,model:this.model.getReference("thumbnail",pageflow.imageFiles)}))},update:function(){this.$el.toggleClass("navigatable",!!this.options.navigatable),this.ui.title.text(this.model.get("title")||I18n.t("pageflow.external_links.editor.views.site_item_view.unknown")),this.ui.selectButton.toggle(!!this.options.selectionHandler)}}),pageflow.externalLinks.SiteReferenceItemView=Backbone.Marionette.ItemView.extend({template:"pageflow/external_links/editor/templates/site_reference_item",tagName:"li",className:"external_links_site_reference",ui:{thumbnail:".thumbnail",title:".title"},events:{"click .remove":function(){return this.model.destroy(),!1},"click .edit":function(){return pageflow.editor.navigate("/external_links/sites/"+this.model.get("site").id+"/?page="+this.options.page.id+"&return_to=page",{trigger:!0}),!1}},onRender:function(){this.subview(new pageflow.FileThumbnailView({el:this.ui.thumbnail,model:this.model.get("site").thumbnailFile()})),this.ui.title.text(this.model.get("site").get("title")||I18n.t("pageflow.external_links.editor.views.site_item_reference_view.unknown"))}}),pageflow.externalLinks.SiteSelectionView=Backbone.Marionette.ItemView.extend({className:"external_site_selection dialog",template:"pageflow/external_links/editor/templates/site_selection",mixins:[pageflow.dialogView],ui:{items:"ul"},onRender:function(){var e=this;pageflow.externalLinks.sites.ensureFetched(),this.subview(
new pageflow.CollectionView({el:this.ui.items,collection:pageflow.externalLinks.sites,itemViewConstructor:pageflow.externalLinks.SiteItemView,itemViewOptions:{selectionHandler:function(){e.options.onSelect(this),e.close()}},blankSlateViewConstructor:Backbone.Marionette.ItemView.extend({template:"pageflow/external_links/editor/templates/sites_blank_slate"})}))}}),pageflow.externalLinks.SiteSelectionView.selectSite=function(){return $.Deferred(function(e){var t=new pageflow.externalLinks.SiteSelectionView({onSelect:e.resolve});t.on("close",function(){e.reject()}),pageflow.app.dialogRegion.show(t.render())}).promise()},pageflow.externalLinks.SitesView=Backbone.Marionette.ItemView.extend({className:"manage_external_sites",template:"pageflow/external_links/editor/templates/sites",events:{"click .add":function(){var t=pageflow.externalLinks.sites.create({title:""}),i=this.options;t.once("sync",function(){var e=i.page?"/?page="+i.page.id+"&return_to=sites":"";pageflow.editor.navigate("external_links/sites/"+t.id+e,{trigger:!0})})}},onRender:function(){pageflow.externalLinks.sites.ensureFetched(),this.$el.append(this.subview(new pageflow.CollectionView({tagName:"ul",className:"external_sites",collection:pageflow.externalLinks.sites,itemViewConstructor:pageflow.externalLinks.SiteItemView,itemViewOptions:{navigatable:!0,selectionHandler:this.options.selectionHandler,referer:this.options.referer,page:this.options.page},blankSlateViewConstructor:Backbone.Marionette.ItemView.extend({template:"pageflow/external_links/editor/templates/sites_blank_slate"})})).el)}}),pageflow.editor.registerPageConfigurationMixin(pageflow.externalLinks.pageConfigurationMixin),pageflow.editor.registerSideBarRouting({router:pageflow.externalLinks.SidebarRouter,controller:pageflow.externalLinks.SidebarController}),pageflow.editor.registerFileSelectionHandler("externalLinks.site",pageflow.externalLinks.SiteFileSelectionHandler),pageflow.editor.registerMainMenuItem({translationKey:"pageflow.external_links.manage_sites",path:"/external_links/sites"}),pageflow.editor.addInitializer(function(){pageflow.externalLinks.sites=new pageflow.externalLinks.SitesCollection,pageflow.externalLinks.sites.ensureFetched()}),pageflow.linkmapPage=pageflow.linkmapPage||{},pageflow.linkmapPage.areaTypesFor=function(t){return new Backbone.Collection(_([pageflow.linkmapPage.PageLinkAreaType,pageflow.linkmapPage.AudioFileAreaType,pageflow.linkmapPage.ExternalLinkAreaType,pageflow.linkmapPage.TextOnlyAreaType]).map(function(e){return new e({},{pageConfiguration:t})}))},pageflow.linkmapPage.selectArea=function(i,n){return $.Deferred(function(e){pageflow.linkmapPage.currentAreaSelection=_.extend(n||{},{deferred:e});var t="linkmap_pages/"+i.id+"/select_area_position";pageflow.editor.navigate(t,{trigger:!0})}).promise()},pageflow.linkmapPage.Area=Backbone.Model.extend({modelName:"area",i18nKey:"pageflow/linkmap_page/area",mixins:[pageflow.transientReferences],target:function(){return"audio_file"===this.get("target_type")?pageflow.audioFiles.get(this.get("target_id")):"page"===this.get("target_type")?pageflow.pages.getByPermaId(this.get("target_id")):"external_site"===this.get("target_type")?pageflow.externalLinks.sites.getByPermaId(this.get("target_id")):void 0},targetPage:function(){return"page"===this.get("target_type")?this.target():null},title:function(){if("text_only"===this.get("target_type"))return this.get("link_title");var e=this.target();return e?e.title():null},thumbnailFile:function(){if("text_only"===this.get("target_type"))return this.textOnlyAreaPlaceholderFile();var e=this.target();return e?e.thumbnailFile():null},textOnlyAreaPlaceholderFile:function(){if(!pageflow.linkmapPage.Area.textOnlyAreaPlaceholderFile){var e=new pageflow.AudioFile({state:"encoded"});e.thumbnailPictogram="text_only",pageflow.linkmapPage.Area.textOnlyAreaPlaceholderFile=e}return pageflow.linkmapPage.Area.textOnlyAreaPlaceholderFile},label:function(){return this.get("name")},select:function(){this.trigger("select",this)},selectMask:function(){var t=this;return pageflow.linkmapPage.selectArea(this.collection.page,{type:"mask"}).then(function(e){t.set(_.extend(e,{marker:"no_marker"})),t.trigger("change:dimensions")})},unsetMask:function(){this.set({marker:"no_marker",mask_perma_id:undefined}),this.trigger("change:dimensions")},setDimensions:function(e,t,i,n){this.set({left:e,top:t,width:i,height:n}),this.trigger("change:dimensions")},highlight:function(){this.set("highlighted",!0)},resetHighlight:function(){this.unset("highlighted")},editPath:function(){var e=this.collection.indexOf(this);return"/linkmap_pages/"+this.getRoutableId()+"/areas/"+e},getRoutableId:function(){return this.collection.page.id},remove:function(){this.collection.remove(this)}}),pageflow.linkmapPage.AreaFileSelectionHandler=function(t){var i=pageflow.pages.get(t.id).configuration.linkmapAreas(t.areasPropertyName).at(parseInt(t.areaIndex,10));this.call=function(e){i.setReference(t.attributeName,e)},this.getReferer=function(){return"/linkmap_pages/"+t.id+"/areas/"+t.areaIndex}},pageflow.linkmapPage.AudioFileAreaType=Backbone.Model.extend({defaults:function(){return{label:I18n.t("pageflow.linkmap_page.editor.area_types.audio_file")}},initialize:function(e,t){this.pageId=t.pageConfiguration.getRoutableId()},selected:function(){pageflow.editor.selectFile("audio_files","linkmapPage.newArea",{id:this.pageId})}}),pageflow.linkmapPage.ExternalLinkAreaType=Backbone.Model.extend({defaults:function(){return{label:I18n.t("pageflow.linkmap_page.editor.area_types.external_site")}},initialize:function(e,t){this.areas=t.pageConfiguration.linkmapAreas()},selected:function(){var t=this.areas;pageflow.externalLinks.selectSite().then(function(e){t.addExternalSite(e.get("perma_id"))})}}),pageflow.linkmapPage.MasksDelegator=pageflow.Object.extend({initialize:function(){this._masks=pageflow.linkmapPage.Masks.empty},updateDelegate:function(e){this._masks=e,this.trigger("update")}}),_(["findByPermaId","atPoint","each","draw","isEmpty"]).each(function(e){pageflow.linkmapPage.MasksDelegator.prototype[e]=function(){return this._masks[e].apply(this._masks,arguments)}}),pageflow.linkmapPage.NewAreaFileSelectionHandler=function(e){var t=pageflow.pages.get(e.id);this.call=function(e){return t.configuration.linkmapAreas().addAudioFile(e.id),!1},this.getReferer=function(){return"/pages/"+e.id+"/areas"}},function(){function i(e,t){t.isReady()?n(e,t):t.once("change:state",function(){i(e,t)})}function n(t,e){pageflow.linkmapPage.StoredMaskSprite.findOrCreateForImageFileId(e.id,e.get("panorama_mask_url")||e.get("panorama_url")).then(function(e){t.set("linkmap_masks",e)},function(e){if(t.unset("linkmap_masks"),t.unset("linkmap_color_map_image_id"),!e.i18nKey)throw alert(I18n.t("pageflow.linkmap_page.errors.mask_image_failed")),e;alert(I18n.t(e.i18nKey))})}function a(e){e.unset("linkmap_masks")}pageflow.linkmapPage.pageConfigurationMixin={initialize:function(){this.listenTo(this,"change:linkmap_color_map_image_id",function(e,t){t?i(this,this.getImageFile("linkmap_color_map_image_id")):a(this)})},linkmapPageLinks:function(){return this._linkmapPageLinks=this._linkmapPageLinks||new pageflow.linkmapPage.PageLinksCollection({areas:this.linkmapAreas()}),this._linkmapPageLinks},linkmapAreas:function(){function e(){var e=new pageflow.linkmapPage.AreasCollection(t.get("linkmap_areas"),{page:t.page});return t.listenTo(e,"add remove change",function(){t.set("linkmap_areas",e.map(function(e){return _.omit(e.attributes,"highlighted","editing","selected")}))}),e}var t=this;return this._linkmapAreas=this._linkmapAreas||e(),this._linkmapAreas},getLinkmapAreaMask:function(e,t){if("hover_video"!==this.get("background_type"))return e.findByPermaId(t)}}}(),pageflow.linkmapPage.PageLinkAreaType=Backbone.Model.extend({defaults:function(){return{label:I18n.t("pageflow.linkmap_page.editor.area_types.page")}},initialize:function(e,t){this.areas=t.pageConfiguration.linkmapAreas(),this.listenTo(this.areas,"add remove",function(){this.updateDisabled()}),this.updateDisabled()},updateDisabled:function(){this.set("disabled",!this.areas.canAddLink())},selected:function(){var t=this.areas;pageflow.editor.selectPage().then(function(e){t.addLink(e.get("perma_id"))})}}),pageflow.linkmapPage.StoredMaskSprite=Backbone.Model.extend({modelName:"mask_sprite",paramRoot:"mask_sprite",url:function(){return"/linkmap_page/image_files/"+this.get("image_file_id")+"/mask_sprite"}}),pageflow.linkmapPage.StoredMaskSprite.findOrCreateForImageFileId=function(a,e){return new $.Deferred(function(n){pageflow.linkmapPage.Masks.loadColorMapImage(e).then(function(e){try{var t=new pageflow.linkmapPage.StoredMaskSprite({image_file_id:a,attachment:e.getSpriteDataUrl()});t.save(null,{success:function(){n.resolve(e.serialize(t.id))},error:function(){n.reject({message:"Error saving mask sprite to the server.",i18nKey:"pageflow.linkmap_page.errors.saving_mask_image_failed"})}})}catch(i){n.reject(i)}},n.reject)}).promise()},pageflow.linkmapPage.TextOnlyAreaType=Backbone.Model.extend({defaults:function(){return{label:I18n.t("pageflow.linkmap_page.editor.area_types.text_only")}},initialize:function(e,t){this.pageConfiguration=t.pageConfiguration},selected:function(){this.pageConfiguration.linkmapAreas().addTextOnly()}}),pageflow.linkmapPage.AreasCollection=Backbone.Collection.extend({model:pageflow.linkmapPage.Area,initialize:function(e,t){this.page=t.page,this.defaultPosition={left:10,top:10},this.listenTo(this,"select",this.updateSelectedAttributes),this.listenTo(this,"add",this.updateSelectedAttributes)},canAddLink:function(){return!0},addLink:function(e){this.addWithPosition({target_type:"page",target_id:e})},addAudioFile:function(e){this.addWithPosition({target_type:"audio_file",target_id:e})},addExternalSite:function(e){this.addWithPosition({target_type:"external_site",target_id:e})},addTextOnly:function(){this.addWithPosition({target_type:"text_only"})},addWithPosition:function(t){var i=this;pageflow.linkmapPage.selectArea(this.page).then(function(e){i.add(_.extend(e,t))})},resetSelection:function(){this.updateSelectedAttributes(null)},updateSelectedAttributes:function(t){this.each(function(e){e.set("selected",e===t)})}}),pageflow.linkmapPage.PageLinksCollection=pageflow.SubsetCollection.extend({constructor:function(e){this.areas=e.areas,pageflow.SubsetCollection.prototype.constructor.call(this,{parent:e.areas,filter:function(e){return"page"===e.get("target_type")}})},canAddLink:function(){return this.areas.canAddLink()},addLink:function(e){this.areas.addLink(e)},updateLink:function(e,t){e.set({target_id:t})},removeLink:function(e){this.remove(e)}}),pageflow.linkmapPage.SideBarRouter=Backbone.Marionette.AppRouter.extend({appRoutes:{"linkmap_pages/:pageId/areas/:index":"area","linkmap_pages/:pageId/select_area_position":"selectAreaPosition"}}),pageflow.linkmapPage.SideBarController=Backbone.Marionette.Controller.extend({initialize:function(e){this.region=e.region},area:function(e,t){var i=pageflow.pages.get(e);this.region.show(new pageflow.linkmapPage.EditAreaView({model:i.configuration.linkmapAreas().at(parseInt(t,10)),page:i,areaIndex:t}))},selectAreaPosition:function(e){var t="pages/"+e+"/areas";if(pageflow.linkmapPage.currentAreaSelection){var i=pageflow.pages.get(e);i.configuration.trigger("linkmap:select_area_position",{selection:pageflow.linkmapPage.currentAreaSelection}),this.region.show(new pageflow.linkmapPage.SelectAreaPostionHintView({model:i,selection:pageflow.linkmapPage.currentAreaSelection})),pageflow.linkmapPage.currentAreaSelection.deferred.always(function(){pageflow.editor.navigate(t,{trigger:!0})})}else pageflow.editor.navigate(t,{trigger:!0})}}),function(){this.JST||(this.JST={}),this.JST["pageflow/linkmap_page/editor/templates/edit_area"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<a class="back">',I18n.t("pageflow.linkmap_page.editor.templates.edit_area.back"),'</a>\n<a class="destroy">',I18n.t("pageflow.linkmap_page.editor.templates.edit_area.destroy"),'</a>\n<div class="form_container"></div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/linkmap_page/editor/templates/embedded/area_item"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<canvas class="visited_image" />\n<canvas class="hover_image" />\n<div class="linkmap_marker"></div>\n<span class="area_type_pictogram"></span>\n<div class="linkmap_description">\n  <div class="link_title"></div>\n  <div class="link_description"></div>\n</div>\n\n<div class="click_trap"></div>\n<div class="action_buttons">\n  <a class="action_button show_marker toggle_marker" href="" title="',I18n.t("pageflow.linkmap_page.editor.templates.embedded.area_item.show_marker"),'">\n  </a>\n  <a class="action_button hide_marker toggle_marker" href="" title="',I18n.t("pageflow.linkmap_page.editor.templates.embedded.area_item.hide_marker"),'">\n  </a>\n  <a class="action_button set_mask" href="" title="',I18n.t("pageflow.linkmap_page.editor.templates.embedded.area_item.set_mask"),'">\n  </a>\n  <a class="action_button unset_mask" href="" title="',I18n.t("pageflow.linkmap_page.editor.templates.embedded.area_item.unset_mask"),'">\n  </a>\n</div>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/linkmap_page/editor/templates/embedded/area_masks_preview"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<canvas class="all" />\n<canvas class="current" />\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/linkmap_page/editor/templates/embedded/area_outlines"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<canvas class="all" />\n<canvas class="highlighted" />\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/linkmap_page/editor/templates/scaled_on_phone_hint"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push("<p></p>\n");return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/linkmap_page/editor/templates/select_area_position_hint"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<p></p>\n<button class="cancel">\n  ',I18n.t("pageflow.linkmap_page.editor.templates.select_area_position_hint.cancel"),"\n</button>\n");return __p.join("")}}.call(this),pageflow.linkmapPage.AreasListView=Backbone.Marionette.View.extend({className:"linkmap_page_areas_list",render:function(){return this.model.linkmapAreas().resetSelection(),this.subview(new pageflow.linkmapPage.EditableAreasModeView({model:this.model.page})),this.appendSubview(new pageflow.ListView({label:I18n.t("pageflow.linkmap_page.editor.views.areas_list.label"),collection:this.model.linkmapAreas(),highlight:!0,onEdit:function(e){pageflow.editor.navigate(e.editPath(),{trigger:!0})},itemDescription:function(e){return e.label()},itemTypeName:function(e){return{audio_file:"audio",page:"internal_links_list",external_site:"external_links",text_only:"text_only"}[e.get("target_type")]},itemTypeDescription:function(e){return I18n.t("pageflow.linkmap_page.editor.area_types."+e.get("target_type"))},itemIsInvalid:function(e){return!e.target()&&"text_only"!==e.get("target_type")}})),this.appendSubview(new pageflow.DropDownButtonView({sortable:!0,label:I18n.t("pageflow.linkmap_page.editor.views.areas_list.add"),items:pageflow.linkmapPage.areaTypesFor(this.model)})),this}}),pageflow.linkmapPage.ConfigurationEditorView=pageflow.ConfigurationEditorView.extend({configure:function(){this.tab("general",function(){this.input("title",pageflow.TextInputView,{required:!0})}),this.tab("files",function(){this.input("background_type",pageflow.SelectInputView,{values:["image","video","hover_video"],ensureValueDefined:!0}),this.input("panorama_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!0,visibleBinding:"background_type",visible:function(e){return _(["image","hover_video"]).contains(e)}}),this.input("panorama_video_id",pageflow.FileInputView,{collection:pageflow.videoFiles,positioning:!0,visibleBinding:"background_type",visibleBindingValue:"video"}),this.input("panorama_image_id",pageflow.FileInputView,{attributeTranslationKeyPrefixes:["pageflow.linkmap_page.page_attributes.video_type"],collection:pageflow.imageFiles,positioning:!1,visibleBinding:"background_type",visibleBindingValue:"video"}),this.input("hover_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1,visibleBinding:"background_type",visible:function(e){return _(["image","video"]).contains(e)}}),this.input("panorama_video_id",pageflow.FileInputView,{attributeTranslationKeyPrefixes:["pageflow.linkmap_page.page_attributes.hover_video_type"],collection:pageflow.videoFiles,positioning:!1,visibleBinding:"background_type",visibleBindingValue:"hover_video"}),this.input("hover_image_id",pageflow.FileInputView,{attributeTranslationKeyPrefixes:["pageflow.linkmap_page.page_attributes.hover_video_type"],collection:pageflow.imageFiles,positioning:!1,visibleBinding:"background_type",visibleBindingValue:"hover_video"}),this.input("linkmap_color_map_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1,visibleBinding:"background_type",visible:function(e){return _(["image","video"]).contains(e)}}),this.input("visited_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1}),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1})}),this.tab("areas",function(){this.view(pageflow.linkmapPage.ScaledOnPhoneHintView,{model:this.model.page}),this.view(pageflow.linkmapPage.AreasListView,{model:this.model})}),this.tab("options",function(){this.group("options",{canPauseAtmo:!0}),this.input("limit_scrolling",pageflow.CheckBoxInputView),this.input("add_environment",pageflow.CheckBoxInputView),this.input("margin_scrolling_disabled",pageflow.CheckBoxInputView)})}}),pageflow.linkmapPage.EditAreaView=Backbone.Marionette.Layout.extend({template:"pageflow/linkmap_page/editor/templates/edit_area",regions:{formContainer:".form_container"},ui:{backButton:"a.back"},events:{"click a.back":"goBack","click a.destroy":"destroy"},onRender:function(){var e=new pageflow.ConfigurationEditorView({model:this.model});this.configure(e),this.formContainer.show(e),this.subview(new pageflow.linkmapPage.EditableAreasModeView({model:this.model.collection.page})),this.model.select()},configure:function(e){var t=this,i=this.options.page;e.tab("general",function(){this.input("name",pageflow.TextInputView),this.input("target_type",pageflow.SelectInputView,{values:["page","external_site","audio_file","text_only"],ensureValueDefined:!0}),this.input("target_id",pageflow.PageLinkInputView,{visibleBinding:"target_type",visibleBindingValue:"page"}),this.input("page_transition",pageflow.SelectInputView,{translationKeyPrefix:"pageflow.page_transitions",includeBlank:!0,blankTranslationKey:"pageflow.linkmap_page.default_page_transition",values:pageflow.pageTransitions.names(),visibleBinding:"target_type",visibleBindingValue:"page"}),this.input("target_id",pageflow.externalLinks.SiteReferenceInputView,{visibleBinding:"target_type",visibleBindingValue:"external_site"}),this.input("target_id",pageflow.FileInputView,{collection:"audio_files",fileSelectionHandler:"linkmapPage.area",fileSelectionHandlerOptions:{areaIndex:t.options.areaIndex},visibleBinding:"target_type",visibleBindingValue:"audio_file"}),this.input("link_title",pageflow.TextInputView),this.input("link_description",pageflow.TextAreaInputView,{size:"short",disableLinks:!0})}),e.tab("appearance",function(){this.input("marker",pageflow.SelectInputView,{values:pageflow.linkmapPage.markerOptions}),this.input("mask_perma_id",pageflow.linkmapPage.AreaMaskInputView,{visibleBinding:"marker",visible:function(e){return"dynamic_marker"!==e},disabled:!i.configuration.has("linkmap_masks")||"hover_video"===i.configuration.get("background_type")}),this.input("inverted",pageflow.CheckBoxInputView,{visibleBinding:"target_type",visible:function(e){return"text_only"!==e}})})},destroy:function(){confirm(I18n.t("pageflow.linkmap_page.editor.views.edit_area_view.confirm_destroy"))&&(this.model.remove(),this.goBack())},goBack:function(){pageflow.editor.navigate("/pages/"+this.options.page.id+"/areas",{trigger:!0})}}),pageflow.linkmapPage.EditableAreasModeView=Backbone.Marionette.View.extend({render:function(){return this.model.set({areas_editable:!0,areas_outlined:!0}),this},onClose:function(){this.model.unset("areas_editable"),this.model.unset("areas_outlined")}}),pageflow.linkmapPage.AreaItemEmbeddedView=Backbone.Marionette.ItemView.extend({template:"pageflow/linkmap_page/editor/templates/embedded/area_item",className:"hover_area",events:{linkmapareaclick:function(){return this.$el.is(".editable .hover_area")?(this.model.select(),pageflow.editor.navigate(this.model.editPath(),{trigger:!0}),!1):"external_site"===this.model.get("target_type")?(alert(I18n.t("pageflow.linkmap_page.editor.views.embedded.area_item.external_link_disabled")),!1):void 0},"click .toggle_marker":function(){"dynamic_marker"===this.model.get("marker")?this.model.set("marker","no_marker"):this.model.set("marker","dynamic_marker")},"click .action_buttons":function(){return!1},"click .set_mask":function(){this.model.selectMask()},"click .unset_mask":function(){this.model.unsetMask()},linkmapareaenter:function(){this.model.set("highlighted",!0)},linkmaparealeave:function(){this.model.set("highlighted",!1)},resize:function(e){e.stopPropagation()}},modelEvents:{change:"update","change:selected":"updateDraggableAndResizable"},onRender:function(){this.setupDraggableAndResizable(),this.setupAudioPlayer(),this.listenTo(this.options.masks,"update",this.update),this.listenTo(this.options.pageConfiguration,"change:background_type",this.update),this.update()},setupDraggableAndResizable:function(){function e(){var e=i.$el;i.model.setDimensions(parseInt(e.css("left"),10)/(e.parent().width()/100),parseInt(e.css("top"),10)/(e.parent().height()/100),parseInt(e.css("width"),10)/(e.parent().width()/100),parseInt(e.css("height"),10)/(e.parent().height()/100))}var i=this,t=this.options.container.$(".scroller");this.$el.resizable({handles:"n, e, s, w, ne, se, sw, nw",start:function(){i.model.set("editing",!0),t.scroller("disable")},resize:function(e,t){i.$el.linkmapAreaClip(t.position)},stop:function(){e(),t.scroller("enable"),i.model.unset("editing")}}),this.$el.draggable({iframeFix:!0,start:function(){i.model.set("editing",!0),t.scroller("disable")},drag:function(e,t){i.$el.linkmapAreaClip(t.position)},stop:function(){t.scroller("enable"),e(),i.model.unset("editing")}}).css("position","absolute"),this.updateDraggableAndResizable()},updateDraggableAndResizable:function(){this.model.get("selected")&&!this.getMask()?(this.$el.resizable("enable"),this.$el.draggable("enable")):(this.$el.resizable("disable"),this.$el.draggable("disable"))},setupAudioPlayer:function(){this.$el.linkmapAudioPlayerControls()},update:function(){var e=this.model.get("target_id"),t=this.getMask();this.$el.attr("data-mask-id",t?this.model.get("mask_perma_id"):""),this.$el.attr("data-audio-file",e?e+"."+this.cid:""),this.$el.attr("data-target-type",this.model.get("target_type")),this.$el.attr("data-target-id",this.model.get("target_id")),this.$el.attr("data-page-transition",this.model.get("page_transition")),this.$el.toggleClass("selected",!!this.model.get("selected")),this.$el.toggleClass("highlighted",!!this.model.get("highlighted")),this.$el.toggleClass("editing",!!this.model.get("editing")),this.$el.toggleClass("without_mask",!t),this.$el.toggleClass("with_mask",!!t),this.$el.attr("data-width",this.model.get("width")),this.$el.attr("data-height",this.model.get("height")),this.$el.css("left",this.model.get("left")+"%"),this.$el.css("top",this.model.get("top")+"%"),this.$el.css("width",this.model.get("width")+"%"),this.$el.css("height",this.model.get("height")+"%"),this.$el.toggleClass("portrait",this.$el.width()<=this.$el.height()),this.$el.toggleClass("landscape",this.$el.width()>this.$el.height()),_(["page","audio_file","external_site","text_only"]).each(function(e){this.$el.toggleClass(e+"_area",this.model.get("target_type")===e)},this);var i=this.$el.find(".linkmap_marker"),n=32;this.$el.width()<=this.$el.height()?i.css({width:this.$el.width()-n,height:this.$el.width()-n}):i.css({width:this.$el.height()-n,height:this.$el.height()-n});this.model.get("marker");var a=this.$el,o=this,s=this.$el.find(".link_title"),r=this.$el.find(".link_description");s.html(this.model.get("link_title")),r.html(this.model.get("link_description")),_.forEach(pageflow.linkmapPage.markerOptions,function(e){a.toggleClass(e,o.model.get("marker")===e)}),a.toggleClass("inverted",!!this.model.get("inverted"))},getMask:function(){return this.options.pageConfiguration.getLinkmapAreaMask(this.options.masks,this.model.get("mask_perma_id"))}}),pageflow.linkmapPage.AreaMasksPreviewEmbeddedView=Backbone.Marionette.ItemView.extend({template:"pageflow/linkmap_page/editor/templates/embedded/area_masks_preview",className:"linkmap_area_masks_preview",ui:{allAreasCanvas:"canvas.all",currentAreaCanvas:"canvas.current"},modelEvents:{"linkmap:select_area_position":"enterSelectionMode"},events:{mousemove:function(e){return this.update(e),!1},click:"handleClick",mousedown:"handleMouseDown"},onRender:function(){this.$el.hide()},enterSelectionMode:function(e){var t=this;this.selection&&this.selection.deferred.reject(),this.selection=e.selection,this.selection.deferred.always(function(){t.$el.hide()}),this.$el.show(),this.update(),this.updateCursor(),this.redrawAllAreas(),this.redraw()},handleMouseDown:function(e){var o=this;if(!this.currentMask&&"mask"!==this.selection.type){var s=this.dragStartOffset={x:e.offsetX,y:e.offsetY};this.$el.one("mouseup",function(e){var t=Math.min(e.offsetX,s.x),i=Math.min(e.offsetY,s.y),n=Math.abs(e.offsetX-s.x),a=Math.abs(e.offsetY-s.y);o.selection.deferred.resolve({left:t/o.$el.width()*100,top:i/o.$el.height()*100,width:n/o.$el.width()*100,height:a/o.$el.height()*100}),o.dragStartOffset=null,o.update(e)})}},isDragging:function(){return!!this.dragStartOffset},handleClick:function(e){var t=this.maskFromPoint(e);t?this.selection.deferred.resolve(t.areaAttributes()):this.selection.deferred.reject()},update:function(e){if(this.dragStartOffset)this.drawSelection(this.dragStartOffset.x,this.dragStartOffset.y,e.offsetX-this.dragStartOffset.x,e.offsetY-this.dragStartOffset.y);else{var t=e&&this.maskFromPoint(e);this.maskIsUsed(t)&&(t=null),this.currentMask!==t&&(this.currentMask=t,this.updateCursor(),this.redraw())}},maskFromPoint:function(e){return this.options.masks.atPoint(e.offsetX/this.$el.width(),e.offsetY/this.$el.height())},updateCursor:function(){this.currentMask?this.$el.css("cursor","pointer"):"mask"!==this.selection.type?this.$el.css("cursor","crosshair"):this.$el.css("cursor","default")},redrawAllAreas:function(){var t=this.ui.allAreasCanvas[0];t.width=this.$el.width(),t.height=this.$el.height();var i=t.getContext("2d");i.clearRect(0,0,t.width,t.height),i.globalAlpha=.5,this.options.masks.each(function(e){this.maskIsUsed(e)||e.draw(i,t.width)},this)},maskIsUsed:function(t){return this.options.areas.any(function(e){return t===this.options.masks.findByPermaId(e.get("mask_perma_id"))},this)},redraw:function(){var e=this.ui.currentAreaCanvas[0];e.width=this.$el.width(),e.height=this.$el.height();var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),this.currentMask&&(this.currentMask.draw(t,e.width),t.globalCompositeOperation="source-in",this.usePattern(t),t.globalAlpha=.2,t.fillRect(0,0,e.width,e.height))},drawSelection:function(e,t,i,n){var a=this.ui.currentAreaCanvas[0];a.width=this.$el.width(),a.height=this.$el.height();var o=a.getContext("2d");o.clearRect(0,0,a.width,a.height),this.usePattern(o),o.globalAlpha=.6,o.fillRect(e,t,i,n)},usePattern:function(e){if(!this.patternSource){var t=7,i=document.createElement("canvas");(this.patternSource=i).width=2*t,i.height=2*t;var n=i.getContext("2d");n.fillStyle="#000",n.fillRect(0,0,t,t),n.fillRect(t,t,t,t),n.fillStyle="#fff",n.fillRect(t,0,t,t),n.fillRect(0,t,t,t)}e.fillStyle=e.createPattern(this.patternSource,"repeat")}}),pageflow.linkmapPage.AreaOutlinesEmbeddedView=Backbone.Marionette.ItemView.extend({template:"pageflow/linkmap_page/editor/templates/embedded/area_outlines",className:"linkmap_area_outlines",ui:{allAreasCanvas:"canvas.all",highlightedAreaCanvas:"canvas.highlighted"},onRender:function(){this.listenTo(this.model,"change:background_type",this.redraw),this.listenTo(this.options.masks,"update",this.redrawAll),this.listenTo(this.options.areas,"change:highlighted",this.redrawHighlighted),this.listenTo(this.options.areas,"change:dimensions change:editing add remove",this.redraw),this.listenTo(pageflow.app,"resize",this.redraw),this.listenTo(this.model.page,"change:areas_outlined",this.update),this.update()},maskFromPoint:function(e){return this.options.masks.atPoint(e.offsetX/this.$el.width(),e.offsetY/this.$el.height())},update:function(){this.$el.toggle(!!this.model.page.get("areas_outlined")),this.redrawAll()},redraw:function(){this.redrawAll(),this.redrawHighlighted()},redrawAll:function(){var e=this.ui.allAreasCanvas[0];e.width=this.$el.width(),e.height=this.$el.height();var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),this.options.areas.each(function(e){e.get("editing")||this.drawArea(t,e)},this),this.options.areas.length&&(t.globalCompositeOperation="source-in",this.usePattern(t),t.globalAlpha=.2,t.fillRect(0,0,e.width,e.height))},redrawHighlighted:function(){var e=this.ui.highlightedAreaCanvas[0];e.width=this.$el.width(),e.height=this.$el.height();var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);var i=this.options.areas.detect(function(e){return e.get("highlighted")});i&&!i.get("editing")&&(this.drawArea(t,i),t.globalCompositeOperation="source-in",this.usePattern(t),t.globalAlpha=.4,t.fillRect(0,0,e.width,e.height))},drawArea:function(e,t){var i=e.canvas,n=this.model.getLinkmapAreaMask(this.options.masks,t.get("mask_perma_id"));n?n.draw(e,i.width):e.fillRect(t.get("left")*i.width/100,t.get("top")*i.height/100,t.get("width")*i.width/100,t.get("height")*i.height/100)},usePattern:function(e){if(!this.patternSource){var t=7,i=document.createElement("canvas");(this.patternSource=i).width=2*t,i.height=2*t;var n=i.getContext("2d");n.fillStyle="#000",n.fillRect(0,0,t,t),n.fillRect(t,t,t,t),n.fillStyle="#fff",n.fillRect(t,0,t,t),n.fillRect(0,t,t,t)}e.fillStyle=e.createPattern(this.patternSource,"repeat")}}),pageflow.linkmapPage.AreasEmbeddedView=Backbone.Marionette.View.extend({events:{linkmapbackgroundclick:function(){this.model.linkmapAreas(this.options.propertyName).resetSelection(),pageflow.editor.navigate("/pages/"+this.model.page.id+"/areas",{trigger:!0})}},render:function(){var i=this,n=this.masks=new pageflow.linkmapPage.MasksDelegator;return this.$el.on("linkmapupdatemasks",function(e,t){n.updateDelegate(t.masks),i.updateClassNames()}),this.subview(new pageflow.CollectionView({el:this.$el,collection:this.model.linkmapAreas(this.options.propertyName),itemViewConstructor:pageflow.linkmapPage.AreaItemEmbeddedView,itemViewOptions:{pageConfiguration:this.model,page:this.model.page,container:this.options.container,masks:n}})),i.appendSubview(new pageflow.linkmapPage.AreaOutlinesEmbeddedView({model:this.model,areas:this.model.linkmapAreas(this.options.propertyName),masks:n})),i.appendSubview(new pageflow.linkmapPage.AreaMasksPreviewEmbeddedView({model:this.model,areas:this.model.linkmapAreas(this.options.propertyName),masks:n})),this.listenTo(this.model.page,"change:areas_editable",function(){this.updateClassNames()}),this},updateClassNames:function(){var e=this.model.page.get("areas_editable");this.$el.toggleClass("editable",!!e),this.$el.toggleClass("masks_available",!this.masks.isEmpty()&&"hover_video"!==this.model.get("background_type"))}}),pageflow.linkmapPage.PanoramaEmbeddedView=Backbone.Marionette.View.extend({render:function(){return this.listenTo(this.model.page,"change:"+this.options.disableMarginScrollingPropertyName,function(e,t){t?this.$el.linkmapLookaround("disable"):this.$el.linkmapLookaround("enable")}),this}}),pageflow.linkmapPage.AreaMaskInputView=pageflow.ReferenceInputView.extend({choose:function(){return this.model.selectMask().then(function(){return(new $.Deferred).reject().promise()})},getTarget:function(e){return!this.options.disabled&&e!==undefined&&new pageflow.linkmapPage.AreaMaskInputView.Mask({
perma_id:e})}}),pageflow.linkmapPage.AreaMaskInputView.Mask=Backbone.Model.extend({title:function(){return I18n.t("pageflow.linkmap_page.editor.views.area_mask_input_view.present")},thumbnailFile:function(){return new pageflow.linkmapPage.AreaMaskInputView.MaskThumbnail}}),pageflow.linkmapPage.AreaMaskInputView.MaskThumbnail=Backbone.Model.extend({mixins:[pageflow.stageProvider],thumbnailPictogram:"linkmap_page_area_mask_input_pictogram",isReady:function(){return!0}}),pageflow.linkmapPage.ScaledOnPhoneHintView=Backbone.Marionette.ItemView.extend({template:"pageflow/linkmap_page/editor/templates/scaled_on_phone_hint",className:"scaled_on_phone_hint",modelEvents:{"change:scaled_on_portrait_phone change:scaled_on_landscape_phone":"update"},ui:{hint:"p"},onRender:function(){this.update()},update:function(){this.$el.toggle(this.model.get("scaled_on_portrait_phone")||this.model.get("scaled_on_landscape_phone")),this.model.get("scaled_on_portrait_phone")&&this.model.get("scaled_on_landscape_phone")?this.ui.hint.text(this.hintText("both")):this.model.get("scaled_on_portrait_phone")?this.ui.hint.text(this.hintText("portrait")):this.model.get("scaled_on_landscape_phone")&&this.ui.hint.text(this.hintText("landscape"))},hintText:function(e){var t="pageflow.linkmap_page.editor.views.scaled_on_phone_hint";return I18n.t(t+".text",{orientation:I18n.t(t+".orientations."+e)})}}),pageflow.linkmapPage.SelectAreaPostionHintView=Backbone.Marionette.ItemView.extend({template:"pageflow/linkmap_page/editor/templates/select_area_position_hint",className:"select_area_position_hint",ui:{hint:"p"},events:{"click .cancel":function(){return this.options.selection.deferred.reject(),!1}},onRender:function(){this.model.configuration.has("linkmap_masks")?"mask"===this.options.selection.type?this.ui.hint.text(this.t("select_mask_hint")):this.ui.hint.text(this.t("select_mask_or_drag_hint")):this.ui.hint.text(this.t("drag_hint")),this.model.set("areas_outlined",!0)},onClose:function(){this.model.unset("areas_outlined")},t:function(e){return I18n.t("pageflow.linkmap_page.editor.views.select_area_position_hint."+e)}}),pageflow.editor.pageTypes.register("linkmap_page",{configurationEditorView:pageflow.linkmapPage.ConfigurationEditorView,embeddedViews:{".scroller":{view:pageflow.linkmapPage.PanoramaEmbeddedView,options:{disableMarginScrollingPropertyName:"areas_editable"}},".panorama_image":{view:pageflow.BackgroundImageEmbeddedView,options:{propertyName:"panorama_image_id",dataSizeAttributes:!0}},".panorama_video":{view:pageflow.LazyVideoEmbeddedView,options:{propertyName:"panorama_video_id",dataSizeAttributes:!0}},".linkmap_areas":{view:pageflow.linkmapPage.AreasEmbeddedView},".fixed_background":{view:pageflow.BackgroundImageEmbeddedView,options:{propertyName:"fixed_background_image_id"}}},pageLinks:function(e){return e.linkmapPageLinks()}}),pageflow.editor.registerPageConfigurationMixin(pageflow.linkmapPage.pageConfigurationMixin),pageflow.editor.registerFileSelectionHandler("linkmapPage.area",pageflow.linkmapPage.AreaFileSelectionHandler),pageflow.editor.registerFileSelectionHandler("linkmapPage.newArea",pageflow.linkmapPage.NewAreaFileSelectionHandler),pageflow.editor.registerSideBarRouting({router:pageflow.linkmapPage.SideBarRouter,controller:pageflow.linkmapPage.SideBarController}),pageflow.textPage=pageflow.textPage||{},pageflow.ConfigurationEditorView.register("text_page",{configure:function(){this.tab("header",function(){this.input("text_coverage",pageflow.SelectInputView,{values:pageflow.textPage.textCoverageOptions}),this.input("title",pageflow.TextInputView,{required:!0}),this.input("hide_title",pageflow.CheckBoxInputView),this.input("tagline",pageflow.TextInputView),this.input("subtitle",pageflow.TextInputView),this.input("text_position",pageflow.SelectInputView,{values:pageflow.textPage.titlePositions}),this.group("background"),this.input("gradient_opacity",pageflow.SliderInputView),this.input("invert",pageflow.CheckBoxInputView)}),this.tab("content",function(){this.input("text_title",pageflow.TextInputView),this.input("text",pageflow.TextAreaInputView),this.input("invert_text",pageflow.CheckBoxInputView),this.input("text_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,positioning:!1,fileSelectionHandlerOptions:{returnToTab:"content"}}),this.input("image_description",pageflow.TextInputView),this.input("sticky_inline_image",pageflow.CheckBoxInputView),this.input("prevent_fullscreen",pageflow.CheckBoxInputView),this.input("inline_text_position",pageflow.SelectInputView,{values:pageflow.textPage.inlineTextPositions})}),this.tab("options",function(){this.input("topasset_parallax",pageflow.CheckBoxInputView),this.input("topasset_dim",pageflow.CheckBoxInputView),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,imagePositioning:!1,fileSelectionHandlerOptions:{returnToTab:"options"}}),this.group("options")})}}),pageflow.textPage.ContentImageEmbeddedView=Backbone.Marionette.View.extend({modelEvents:{change:"update"},render:function(){return this.img=this.$el.find("img"),this.text=this.$el.find(".inline-image-text"),this.update(),this},update:function(){var e=this.model.getImageFileUrl(this.options.imagePropertyName),t=this.model.get(this.options.descriptionPropertyName);this.$el.toggleClass("no_image_assigned",!e),this.img?(this.img&&0!==this.img.length||(this.img=$("<img/>"),this.$el.prepend(this.img)),this.text&&(this.text.remove(),this.text=null),this.img.attr("src",e),this.img.attr("title",t)):(t&&!this.defaultImage?(this.defaultImage=$("<div/>").addClass("default-image"),this.$el.prepend(this.defaultImage)):this.defaultImage&&(this.defaultImage.remove(),this.defaultImage=null),this.img&&(this.img.remove(),this.img=null)),t?(this.text||(this.text=$("<div/>").addClass("inline_image_text").append($("<span/>")),this.$el.append(this.text)),this.text.find("span").html(t)):this.text&&(this.text.remove(),this.text=null)}}),pageflow.embeddedVideo=pageflow.embeddedVideo||{},pageflow.embeddedVideo.EmbeddedVideo=Backbone.Model.extend({modelName:"embedded_video",paramRoot:"embedded_video",initialize:function(){this.listenTo(this,"sync",function(){this.isProcessing()&&!this.pollingInterval&&this.pollUntilValidated()})},urlRoot:function(){return"/embedded_video/embedded_videos"},isProcessed:function(){return"processed"===this.get("state")},isProcessing:function(){return"processing"===this.get("state")},isFailed:function(){return"processing_failed"===this.get("state")},pollUntilValidated:function(){function e(){i.pollingInterval&&(clearInterval(i.pollingInterval),i.pollingInterval=null)}function t(){i.fetch({success:function(){i.isProcessing()||e()}})}var i=this;i.isProcessed()||(i.pollingInterval=setInterval(t,1e3))}}),pageflow.embeddedVideo.EmbeddedVideosCollection=Backbone.Collection.extend({model:pageflow.embeddedVideo.EmbeddedVideo,name:"embedded_videos",getOrFetch:function(e,t){t=t||{};var i=this.get(e);return i?t.success&&t.success(i):(i=new pageflow.embeddedVideo.EmbeddedVideo({id:e}),this.add(i),i.fetch(t)),i}}),pageflow.embeddedVideo.VideoUrlInputView=pageflow.UrlInputView.extend({template:"pageflow/embedded_video/editor/templates/url_input",regions:{statusContainer:".status_container"},onLoad:function(){this.listenTo(this.model,"change:"+this.options.propertyName,function(){this.updateValidationStatus()}),this.updateValidationStatus()},updateValidationStatus:function(){var e=this.getEmbeddedVideo();e?this.statusContainer.show(new pageflow.embeddedVideo.EmbeddedVideoStatusView({model:e})):this.statusContainer.close()},getEmbeddedVideo:function(){if(this.model.has(this.options.propertyName))return pageflow.embeddedVideo.embeddedVideos.getOrFetch(this.model.get(this.options.propertyName))}}),function(){this.JST||(this.JST={}),this.JST["pageflow/embedded_video/editor/templates/embedded_video_status"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<p class="processing state validation pending">URL wird validiert...</p>\n<p class="failed state validation failed">Die URL ist ung\xfcltig.</p>\n');return __p.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["pageflow/embedded_video/editor/templates/url_input"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<input type="text" />\n<div class="validation"></div>\n<div class="status_container"></div>\n');return __p.join("")}}.call(this),pageflow.ConfigurationEditorView.register("embedded_video",{configure:function(){var e=this.options.pageType.supportedHosts;this.tab("general",function(){this.group("general")}),this.tab("topic",function(){this.input("embedded_video_id",pageflow.UrlInputView,{supportedHosts:e,displayPropertyName:"display_embedded_video_url",required:!0,permitHttps:!0}),this.input("video_caption",pageflow.TextInputView),this.input("full_width",pageflow.CheckBoxInputView),this.group("background"),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,imagePositioning:!1})}),this.tab("options",function(){this.group("options")})}}),pageflow.embeddedVideo.embeddedVideos=new pageflow.embeddedVideo.EmbeddedVideosCollection,pageflow.beforeAfter={},pageflow.ConfigurationEditorView.register("before_after",{configure:function(){this.tab("general",function(){this.group("general"),this.input("control_bar_text",pageflow.TextInputView,{placeholder:I18n.t("pageflow.public.before_after.start",{locale:pageflow.seed.locale})}),this.input("additional_title",pageflow.TextInputView),this.input("additional_description",pageflow.TextAreaInputView,{size:"short"})}),this.tab("files",function(){this.input("before_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,imagePositioning:!1}),this.input("after_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,imagePositioning:!1}),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:pageflow.imageFiles,imagePositioning:!1})}),this.tab("options",function(){this.group("options")})}}),pageflow.beforeAfter.BeforeAfterEmbeddedView=Backbone.Marionette.View.extend({modelEvents:{change:"update"},render:function(){return this.beforeImageView=new pageflow.BackgroundImageEmbeddedView({el:this.$el.find(".before_image"),model:this.model,propertyName:"before_image_id",dataSizeAttributes:!0}),this.afterImageView=new pageflow.BackgroundImageEmbeddedView({el:this.$el.find(".after_image"),model:this.model,propertyName:"after_image_id",dataSizeAttributes:!0}),this.update(),this},update:function(){this.beforeImageView.update(),this.afterImageView.update(),this.$el.before_after(),this.$el.before_after("refresh")}}),function(){this.JST||(this.JST={}),this.JST["pageflow/localfocus/editor/templates/url_input"]=function(obj){var __p=[],print=function(){__p.push.apply(__p,arguments)};with(obj||{})__p.push('<label>\n  <span class="name"></span>\n  <span class="inline_help"></span>\n</label>\n<input\n  type="url"\n  required pattern="https://localfocus2.appspot.com/.*"\n  placeholder="https://localfocus2.appspot.com/551a9626918b3"\n/>\n');return __p.join("")}}.call(this),pageflow.localfocus.ConfigurationEditorView=pageflow.ConfigurationEditorView.extend({configure:function(){this.tab("general",function(){this.input("text",pageflow.TextAreaInputView),this.input("text_position",pageflow.SelectInputView,{values:pageflow.Page.textPositions})}),this.tab("widget",function(){this.input("chart",pageflow.localfocus.UrlInputView,{propertyName:"localfocus_url"})}),this.tab("files",function(){this.group("background"),this.input("thumbnail_image_id",pageflow.FileInputView,{collection:"image_files",positioning:!1})}),this.tab("options",function(){this.group("options")})}}),pageflow.localfocus.UrlInputView=Backbone.Marionette.ItemView.extend({mixins:[pageflow.inputView,pageflow.inputWithPlaceholderText],template:"pageflow/localfocus/editor/templates/url_input",ui:{input:"input"},events:{"blur input":"validate"},onRender:function(){this.ui.input.attr("title",I18n.t("pageflow.ui.views.inputs.text_input_view.required_field")),this.load()},save:function(){this.model.set(this.options.propertyName,this.ui.input.val())},load:function(){this.ui.input.val(this.model.get(this.options.propertyName))},validate:function(){input=this.ui.input[0],input.checkValidity()?(this.$el.removeClass("invalid"),this.save()):this.$el.addClass("invalid")}}),pageflow.localfocus=pageflow.localfocus||{},pageflow.editor.pageTypes.register("localfocus",{configurationEditorView:pageflow.localfocus.ConfigurationEditorView}),pageflow.editor.widgetTypes.registerRole("home",{isOptional:!0}),pageflow.ready.then(function(){_.extend(pageflow.Configuration.prototype.defaults,{gradient_opacity:0})});
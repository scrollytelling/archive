function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),i.prototype=new r,i}),$.fn.updateTitle=function(){this.data("title")||this.data("title",this.attr("title")),this.hasClass("active")?this.attr("title",this.data("activeTitle")):this.attr("title",this.data("title"))},window.VIDEOJS_NO_DYNAMIC_STYLE=!0,function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.videojs=t()}(this,function(){function e(e,t){return e(t={exports:{}},t.exports),t.exports}function t(e,t){zt(e).forEach(function(n){return t(e[n],n)})}function n(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return zt(e).reduce(function(n,r){return t(n,e[r],r)},n)}function r(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Object.assign?Object.assign.apply(Object,[e].concat(r)):(r.forEach(function(n){n&&t(n,function(t,n){e[n]=t})}),e)}function i(e){return!!e&&"object"===(void 0===e?"undefined":jt(e))}function o(e){return i(e)&&"[object Object]"===Vt.call(e)&&e.constructor===Object}function a(e){return e.replace(/\n\r?\s*/g,"")}function s(e,t){if(!e||!t)return"";if("function"==typeof it.getComputedStyle){var n=it.getComputedStyle(e);return n?n[t]:""}return e.currentStyle[t]||""}function u(e){return"string"==typeof e&&/\S/.test(e)}function l(e){if(/\s/.test(e))throw new Error("class has illegal whitespace characters")}function c(e){return new RegExp("(^|\\s)"+e+"($|\\s)")}function f(){return pt===it.document&&"undefined"!=typeof pt.createElement}function d(e){return i(e)&&1===e.nodeType}function p(e){return function(t,n){if(!u(t))return pt[e](null);u(n)&&(n=pt.querySelector(n));var r=d(n)?n:pt;return r[e]&&r[e](t)}}function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},r=arguments[3],i=pt.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){var n=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(Wt.warn(Qt(Xt,e,n)),i.setAttribute(e,n)):"textContent"===e?g(i,n):i[e]=n}),Object.getOwnPropertyNames(n).forEach(function(e){i.setAttribute(e,n[e])}),r&&D(i,r),i}function g(e,t){return"undefined"==typeof e.textContent?e.innerText=t:e.textContent=t,e}function v(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function m(e,t){return l(t),e.classList?e.classList.contains(t):c(t).test(e.className)}function y(e,t){return e.classList?e.classList.add(t):m(e,t)||(e.className=(e.className+" "+t).trim()),e}function _(e,t){return e.classList?e.classList.remove(t):(l(t),e.className=e.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),e}function b(e,t,n){var r=m(e,t);if("function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=!r),n!==r)return n?y(e,t):_(e,t),e}function T(e,t){Object.getOwnPropertyNames(t).forEach(function(n){var r=t[n];null==r||!1===r?e.removeAttribute(n):e.setAttribute(n,!0===r?"":r)})}function w(e){var t={},n=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(e&&e.attributes&&e.attributes.length>0)for(var r=e.attributes,i=r.length-1;i>=0;i--){var o=r[i].name,a=r[i].value;"boolean"!=typeof e[o]&&-1===n.indexOf(","+o+",")||(a=null!==a),t[o]=a}return t}function E(e,t){return e.getAttribute(t)}function S(e,t,n){e.setAttribute(t,n)}function P(e,t){e.removeAttribute(t)}function C(){pt.body.focus(),pt.onselectstart=function(){return!1}}function I(){pt.onselectstart=function(){return!0}}function x(e){if(e&&e.getBoundingClientRect&&e.parentNode){var t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(function(e){t[e]!==undefined&&(n[e]=t[e])}),n.height||(n.height=parseFloat(s(e,"height"))),n.width||(n.width=parseFloat(s(e,"width"))),n}}function A(e){var t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=pt.documentElement,r=pt.body,i=n.clientLeft||r.clientLeft||0,o=it.pageXOffset||r.scrollLeft,a=t.left+o-i,s=n.clientTop||r.clientTop||0,u=it.pageYOffset||r.scrollTop,l=t.top+u-s;return{left:Math.round(a),top:Math.round(l)}}function O(e,t){var n={},r=A(e),i=e.offsetWidth,o=e.offsetHeight,a=r.top,s=r.left,u=t.pageY,l=t.pageX;return t.changedTouches&&(l=t.changedTouches[0].pageX,u=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-u+o)/o)),n.x=Math.max(0,Math.min(1,(l-s)/i)),n}function k(e){return i(e)&&3===e.nodeType}function M(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function R(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),d(e)||k(e)?e:"string"==typeof e&&/\S/.test(e)?pt.createTextNode(e):void 0}).filter(function(e){return e})}function D(e,t){return R(t).forEach(function(t){return e.appendChild(t)}),e}function N(e,t){return D(M(e),t)}function L(){return en++}function j(e){var t=e[nn];return t||(t=e[nn]=L()),tn[t]||(tn[t]={}),tn[t]}function F(e){var t=e[nn];return!!t&&!!Object.getOwnPropertyNames(tn[t]).length}function B(e){var t=e[nn];if(t){delete tn[t];try{delete e[nn]}catch(n){e.removeAttribute?e.removeAttribute(nn):e[nn]=null}}}function U(e,t){var n=j(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&B(e)}function H(e,t,n,r){n.forEach(function(n){e(t,n,r)})}function V(e){function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped){var r=e||it.event;for(var i in e={},r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(e[i]=r[i]));if(e.target||(e.target=e.srcElement||pt),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&e.clientX!==undefined){var o=pt.documentElement,a=pt.body;e.pageX=e.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&e.button!==undefined&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e}function z(e,t,n){if(Array.isArray(t))return H(z,e,t,n);var r=j(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=L()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(t,n){if(!r.disabled){t=V(t);var i=r.handlers[t.type];if(i)for(var o=i.slice(0),a=0,s=o.length;a<s&&!t.isImmediatePropagationStopped();a++)try{o[a].call(e,t,n)}catch(u){Wt.error(u)}}}),1===r.handlers[t].length)if(e.addEventListener){var i=!1;rn&&on.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function q(e,t,n){if(F(e)){var r=j(e);if(r.handlers){if(Array.isArray(t))return H(q,e,t,n);var i=function(t){r.handlers[t]=[],U(e,t)};if(t){var o=r.handlers[t];if(o)if(n){if(n.guid)for(var a=0;a<o.length;a++)o[a].guid===n.guid&&o.splice(a--,1);U(e,t)}else i(t)}else for(var s in r.handlers)i(s)}}}function G(e,t,n){var r=F(e)?j(e):{},i=e.parentNode||e.ownerDocument;if("string"==typeof t&&(t={type:t,target:e}),t=V(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&!0===t.bubbles)G.call(null,i,t,n);else if(!i&&!t.defaultPrevented){var o=j(t.target);t.target[t.type]&&(o.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function K(e,t,n){if(Array.isArray(t))return H(K,e,t,n);var r=function i(){q(e,t,i),n.apply(this,arguments)};r.guid=n.guid=n.guid||L(),z(e,t,r)}function Y(e,t){t&&(un=t),it.setTimeout(ln,e)}function W(e){var t=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{}).eventBusKey;if(t){if(!e[t].nodeName)throw new Error('The eventBusKey "'+t+'" does not refer to an element.');e.eventBusEl_=e[t]}else e.eventBusEl_=h("span",{className:"vjs-event-bus"});return r(e,wn),e.on("dispose",function(){return e.off()}),e}function Q(e,t){return r(e,En),e.state=r({},e.state,t),"function"==typeof e.handleStateChanged&&gn(e)&&e.on("statechanged",e.handleStateChanged),e}function X(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)}function $(e,t){return X(e)===X(t)}function J(){for(var e={},n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach(function(n){n&&t(n,function(t,n){o(t)?(o(e[n])||(e[n]={}),e[n]=J(e[n],t)):e[n]=t})}),e}function Z(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error("Failed to execute '"+e+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+n+").")}function ee(e,t,n,r){return Z(e,r,n.length-1),n[r][t]}function te(e){return e===undefined||0===e.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:ee.bind(null,"start",0,e),end:ee.bind(null,"end",1,e)}}function ne(e,t){return Array.isArray(e)?te(e):e===undefined||t===undefined?te():te([[e,t]])}function re(e,t){var n=0,r=void 0,i=void 0;if(!t)return 0;e&&e.length||(e=ne(0,0));for(var o=0;o<e.length;o++)r=e.start(o),(i=e.end(o))>t&&(i=t),n+=i-r;return n/t}function ie(e){if(e instanceof ie)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:i(e)&&("number"==typeof e.code&&(this.code=e.code),r(this,e)),this.message||(this.message=ie.defaultMessages[this.code]||"")}function oe(e,t){var n,r=null;try{n=JSON.parse(e,t)}catch(i){r=i}return[r,n]}function ae(e){var t=ir.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}function se(e,t,n){if(!rr(t))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===sr.call(e)?ue(e,t,n):"string"==typeof e?le(e,t,n):ce(e,t,n)}function ue(e,t,n){for(var r=0,i=e.length;r<i;r++)ur.call(e,r)&&t.call(n,e[r],r,e)}function le(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e.charAt(r),r,e)}function ce(e,t,n){for(var r in e)ur.call(e,r)&&t.call(n,e[r],r,e)}function fe(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)dr.call(n,r)&&(e[r]=n[r])}return e}function de(e,t){for(var n=0;n<e.length;n++)t(e[n])}function pe(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function he(e,t,n){var r=e;return rr(t)?(n=t,"string"==typeof e&&(r={uri:e})):r=fr(t,{uri:e}),r.callback=n,r}function ge(e,t,n){return ve(t=he(e,t,n))}function ve(e){function t(){4===l.readyState&&setTimeout(i,0)}function n(){var e=undefined;if(e=l.response?l.response:l.responseText||me(l),v)try{e=JSON.parse(e)}catch(t){}return e}function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,u(e,m)}function i(){if(!a){var t;clearTimeout(c),t=e.useXDR&&l.status===undefined?200:1223===l.status?204:l.status;var r=m,i=null;return 0!==t?(r={body:n(),statusCode:t,method:d,headers:{},url:f,rawRequest:l},l.getAllResponseHeaders&&(r.headers=cr(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),u(i,r,r.body)}}if("undefined"==typeof e.callback)throw new Error("callback argument missing");var o,a,s=!1,u=function(t,n,r){s||(s=!0,e.callback(t,n,r))},l=e.xhr||null;l||(l=e.cors||e.useXDR?new ge.XDomainRequest:new ge.XMLHttpRequest);var c,f=l.url=e.uri||e.url,d=l.method=e.method||"GET",p=e.body||e.data,h=l.headers=e.headers||{},g=!!e.sync,v=!1,m={body:undefined,headers:{},statusCode:0,method:d,url:f,rawRequest:l};if("json"in e&&!1!==e.json&&(v=!0,h.accept||h.Accept||(h.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(h["content-type"]||h["Content-Type"]||(h["Content-Type"]="application/json"),p=JSON.stringify(!0===e.json?p:e.json))),l.onreadystatechange=t,l.onload=i,l.onerror=r,l.onprogress=function(){},l.onabort=function(){a=!0},l.ontimeout=r,l.open(d,f,!g,e.username,e.password),g||(l.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(c=setTimeout(function(){if(!a){a=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}},e.timeout)),l.setRequestHeader)for(o in h)h.hasOwnProperty(o)&&l.setRequestHeader(o,h[o]);else if(e.headers&&!pe(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(p||null),l}function me(e){if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;return""!==e.responseType||t?null:e.responseXML}function ye(){}function _e(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function be(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+(0|r)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function Te(){this.values=Ir(null)}function we(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length)t(a[0],a[1])}}function Ee(e,t,n){function r(){var t=be(e);if(null===t)throw new _e(_e.Errors.BadTimeStamp,"Malformed timestamp: "+a);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function i(e,t){var r=new Te;we(e,function(e,t){switch(e){case"region":for(var i=n.length-1;i>=0;i--)if(n[i].id===t){r.set(e,n[i].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":var o=t.split(","),a=o[0];r.integer(e,a),r.percent(e,a)&&r.set("snapToLines",!1),r.alt(e,a,["auto"]),2===o.length&&r.alt("lineAlign",o[1],["start","middle","end"]);break;case"position":o=t.split(","),r.percent(e,o[0]),2===o.length&&r.alt("positionAlign",o[1],["start","middle","end"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start","middle","end","left","right"])}},/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical",""),t.line=r.get("line","auto"),t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align","middle"),t.position=r.get("position",{start:0,left:0,middle:50,end:100,right:100},t.align),t.positionAlign=r.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},t.align)}function o(){e=e.replace(/^\s+/,"")}var a=e;if(o(),t.startTime=r(),o(),"-->"!==e.substr(0,3))throw new _e(_e.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+a);e=e.substr(3),o(),t.endTime=r(),o(),i(e,t)}function Se(e,t){function n(){function e(e){return t=t.substr(e.length),e}if(!t)return null;var n=t.match(/^([^<]*)(<[^>]+>?)?/);return e(n[1]?n[1]:n[2])}function r(e){return xr[e]}function i(e){for(;p=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(p[0],r);return e}function o(e,t){return!kr[t.localName]||kr[t.localName]===e.localName}function a(t,n){var r=Ar[t];if(!r)return null;var i=e.document.createElement(r);i.localName=r;var o=Or[t];return o&&n&&(i[o]=n.trim()),i}for(var s,u=e.document.createElement("div"),l=u,c=[];null!==(s=n());)if("<"!==s[0])l.appendChild(e.document.createTextNode(i(s)));else{if("/"===s[1]){c.length&&c[c.length-1]===s.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var f,d=be(s.substr(1,s.length-2));if(d){f=e.document.createProcessingInstruction("timestamp",d),l.appendChild(f);continue}var p=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(f=a(p[1],p[3])))continue;if(!o(l,f))continue;p[2]&&(f.className=p[2].substr(1).replace("."," ")),c.push(p[1]),l.appendChild(f),l=f}return u}function Pe(e){for(var t=0;t<Mr.length;t++){var n=Mr[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function Ce(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var r=e.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(e.length=0,o[0]):i}return"ruby"===r.tagName?n(e):r.childNodes?(t(e,r),n(e)):void 0}var r=[],i="";if(!e||!e.childNodes)return"ltr";for(t(r,e);i=n(r);)for(var o=0;o<i.length;o++)if(Pe(i.charCodeAt(o)))return"rtl";return"ltr"}function Ie(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)"showing"===n[i].mode&&r++;return-1*++r}function xe(){}function Ae(e,t,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),xe.call(this),this.cue=t,this.cueDiv=Se(e,t.text);var a={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",a.unicodeBidi="plaintext"),this.applyStyles(a,this.cueDiv),this.div=e.document.createElement("div"),a={textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(a.direction=Ce(this.cueDiv),a.writingMode=""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(a),this.div.appendChild(this.cueDiv);var s=0;switch(t.positionAlign){case"start":s=t.position;break;case"middle":s=t.position-t.size/2;break;case"end":s=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Oe(e){var t,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=t!==undefined?t:e.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function ke(e,t,n,r){function i(e,t){for(var i,o=new Oe(e),a=1,s=0;s<t.length;s++){for(;e.overlapsOppositeAxis(n,t[s])||e.within(n)&&e.overlapsAny(r);)e.move(t[s]);if(e.within(n))return e;var u=e.intersectPercentage(n);a>u&&(i=new Oe(e),a=u),e=new Oe(o)}return i||o}var o=new Oe(t),a=t.cue,s=Ie(a),u=[];if(a.snapToLines){var l;switch(a.vertical){case"":u=["+y","-y"],l="height";break;case"rl":u=["+x","-x"],l="width";break;case"lr":u=["-x","+x"],l="width"}var c=o.lineHeight,f=c*Math.round(s),d=n[l]+c,p=u[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/c)*c),s<0&&(f+=""===a.vertical?n.height:n.width,u=u.reverse()),o.move(p,f)}else{var h=o.lineHeight/n.height*100;switch(a.lineAlign){case"middle":s-=h/2;break;case"end":s-=h}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}u=["+y","-x","+x","-y"],o=new Oe(t)}var g=i(o,u);t.move(g.toCSSCompatValues(n))}function Me(){}function Re(e){return"string"==typeof e&&(!!Fr[e.toLowerCase()]&&e.toLowerCase())}function De(e){return"string"==typeof e&&(!!Br[e.toLowerCase()]&&e.toLowerCase())}function Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function Le(e,t,n){var r=this,i=/MSIE\s8\.0/.test(navigator.userAgent),o={};i?r=document.createElement("custom"):o.enumerable=!0,r.hasBeenReset=!1;var a="",s=!1,u=e,l=t,c=n,f=null,d="",p=!0,h="auto",g="start",v=50,m="middle",y=50,_="middle";if(Object.defineProperty(r,"id",Ne({},o,{get:function(){return a},set:function(e){a=""+e}})),Object.defineProperty(r,"pauseOnExit",Ne({},o,{get:function(){return s},set:function(e){s=!!e}})),Object.defineProperty(r,"startTime",Ne({},o,{get:function(){return u},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");u=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",Ne({},o,{get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",Ne({},o,{get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",Ne({},o,{get:function(){return f},set:function(e){f=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",Ne({},o,{get:function(){return d},set:function(e){var t=Re(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",Ne({},o,{get:function(){return p},set:function(e){p=!!e,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",Ne({},o,{get:function(){return h},set:function(e){if("number"!=typeof e&&e!==jr)throw new SyntaxError("An invalid number or illegal string was specified.");h=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",Ne({},o,{get:function(){return g},set:function(e){var t=De(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");g=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",Ne({},o,{get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");v=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",Ne({},o,{get:function(){return m},set:function(e){var t=De(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",Ne({},o,{get:function(){return y},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",Ne({},o,{get:function(){return _},set:function(e){var t=De(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),r.displayState=undefined,i)return r}function je(e){return"string"==typeof e&&(!!Hr[e.toLowerCase()]&&e.toLowerCase())}function Fe(e){return"number"==typeof e&&e>=0&&e<=100}function Be(){var e=100,t=3,n=0,r=100,i=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!Fe(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(e){if(!Fe(e))throw new Error("RegionAnchorX must be between 0 and 100.");r=e}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(e){if(!Fe(e))throw new Error("RegionAnchorY must be between 0 and 100.");n=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!Fe(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!Fe(e))throw new Error("ViewportAnchorX must be between 0 and 100.");i=e}},scroll:{enumerable:!0,get:function(){return a},set:function(e){var t=je(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");a=t}}})}function Ue(e,t,n,r){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;var a=new Cr.text.TrackClass(i);return o.addTrack(a),a}function He(e,t){Gr[e]=Gr[e]||[],Gr[e].push(t)}function Ve(e,t,n){e.setTimeout(function(){return Ye(t,Gr[t.type],n,e)},1)}function ze(e,t){e.forEach(function(e){return e.setTech&&e.setTech(t)})}function qe(e,t,n){return e.reduceRight(Ke(n),t[n]())}function Ge(e,t,n,r){return t[n](e.reduce(Ke(n),r))}function Ke(e){return function(t,n){return n[e]?n[e](t):t}}function Ye(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n=arguments[2],i=arguments[3],o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:[],a=arguments.length>5&&arguments[5]!==undefined&&arguments[5],s=t[0],u=t.slice(1);if("string"==typeof s)Ye(e,Gr[s],n,i,o,a);else if(s){var l=s(i);l.setSource(r({},e),function(t,r){if(t)return Ye(e,u,n,i,o,a);o.push(l),Ye(r,e.type===r.type?u:Gr[r.type],n,i,o,a)})}else u.length?Ye(e,u,n,i,o,a):a?n(e,o):Ye(e,Gr["*"],n,i,o,!0)}function We(e,t){return"rgba("+parseInt(e[1]+e[1],16)+","+parseInt(e[2]+e[2],16)+","+parseInt(e[3]+e[3],16)+","+t+")"}function Qe(e,t,n){try{e.style[t]=n}catch(r){return}}function Xe(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e;e=e<0?0:e;var n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600),o=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===Infinity)&&(i=r=n="-"),(i=i>0||a>0?i+":":"")+(r=((i||o>=10)&&r<10?"0"+r:r)+":")+(n=n<10?"0"+n:n)}function $e(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}function Je(e,t){return $e(e.options[e.options.selectedIndex].value,t)}function Ze(e,t,n){if(t)for(var r=0;r<e.options.length;r++)if($e(e.options[r].value,n)===t){e.selectedIndex=r;break}}function et(e,t,n){var r=void 0;if("string"==typeof e){var o=et.getPlayers();if(0===e.indexOf("#")&&(e=e.slice(1)),o[e])return t&&Wt.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&o[e].ready(n),o[e];r=$t("#"+e)}else r=e;if(!r||!r.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");if(r.player||_o.players[r.playerId])return r.player||_o.players[r.playerId];t=t||{},et.hooks("beforesetup").forEach(function(e){var n=e(r,J(t));i(n)&&!Array.isArray(n)?t=J(t,n):Wt.error("please return an object in beforesetup hooks")});var a=new(Sn.getComponent("Player"))(r,t,n);return et.hooks("setup").forEach(function(e){return e(a)}),a}var tt,nt="6.2.7",rt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},it="undefined"!=typeof window?window:void 0!==rt?rt:"undefined"!=typeof self?self:{},ot={},at=(Object.freeze||Object)({"default":ot}),st=at&&ot||at,ut=void 0!==rt?rt:"undefined"!=typeof window?window:{};"undefined"!=typeof document?tt=document:(tt=ut["__GLOBAL_DOCUMENT_CACHE@4"])||(tt=ut["__GLOBAL_DOCUMENT_CACHE@4"]=st);var lt,ct,ft,dt,pt=tt,ht=it.navigator&&it.navigator.userAgent||"",gt=/AppleWebKit\/([\d.]+)/i.exec(ht),vt=gt?parseFloat(gt.pop()):null,mt=/iPad/i.test(ht),yt=/iPhone/i.test(ht)&&!mt,_t=/iPod/i.test(ht),bt=yt||mt||_t,Tt=(lt=ht.match(/OS (\d+)_/i))&&lt[1]?lt[1]:null,wt=/Android/i.test(ht),Et=function(){var e=ht.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null}(),St=wt&&/webkit/i.test(ht)&&Et<2.3,Pt=wt&&Et<5&&vt<537,Ct=/Firefox/i.test(ht),It=/Edge/i.test(ht),xt=!It&&/Chrome/i.test(ht),At=(ct=ht.match(/Chrome\/(\d+)/))&&ct[1]?parseFloat(ct[1]):null,Ot=/MSIE\s8\.0/.test(ht),kt=(ft=/MSIE\s(\d+)\.\d/.exec(ht),!(dt=ft&&parseFloat(ft[1]))&&/Trident\/7.0/i.test(ht)&&/rv:11.0/.test(ht)&&(dt=11),dt),Mt=/Safari/i.test(ht)&&!xt&&!wt&&!It,Rt=Mt||bt,Dt=f()&&("ontouchstart"in it||it.DocumentTouch&&it.document instanceof it.DocumentTouch),Nt=f()&&"backgroundSize"in it.document.createElement("video").style,Lt=(Object.freeze||Object)({IS_IPAD:mt,IS_IPHONE:yt,IS_IPOD:_t,IS_IOS:bt,IOS_VERSION:Tt,IS_ANDROID:wt,ANDROID_VERSION:Et,IS_OLD_ANDROID:St,IS_NATIVE_ANDROID:Pt,IS_FIREFOX:Ct,IS_EDGE:It,IS_CHROME:xt,CHROME_VERSION:At,IS_IE8:Ot,IE_VERSION:kt,IS_SAFARI:Mt,IS_ANY_SAFARI:Rt,TOUCH_ENABLED:Dt,BACKGROUND_SIZE_SUPPORTED:Nt}),jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ft=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Bt=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Ut=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Ht=function(e,t){return e.raw=t,e},Vt=Object.prototype.toString,zt=function(e){return i(e)?Object.keys(e):[]},qt=void 0,Gt="all",Kt=[],Yt=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!kt&&kt<11,r=qt.levels[Gt],o=new RegExp("^("+r+")$");"log"!==e&&t.unshift(e.toUpperCase()+":"),Kt&&Kt.push([].concat(t)),t.unshift("VIDEOJS:");var a=it.console&&it.console[e];a&&r&&o.test(e)&&(n&&(t=t.map(function(e){if(i(e)||Array.isArray(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)}).join(" ")),a.apply?a[Array.isArray(t)?"apply":"call"](it.console,t):a(t))};(qt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];Yt("log",t)}).levels={all:"log|warn|error",error:"error",off:"",warn:"warn|error",DEFAULT:Gt},qt.level=function(e){if("string"==typeof e){if(!qt.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');Gt=e}return Gt},qt.history=function(){return Kt?[].concat(Kt):[]},qt.history.clear=function(){Kt&&(Kt.length=0)},qt.history.disable=function(){null!==Kt&&(Kt.length=0,Kt=null)},qt.history.enable=function(){null===Kt&&(Kt=[])},qt.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yt("error",t)},qt.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yt("warn",t)};var Wt=qt,Qt=function(e){for(var t="",n=0;n<arguments.length;n++)t+=a(e[n])+(arguments[n+1]||"");return t},Xt=Ht(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),$t=p("querySelector"),Jt=p("querySelectorAll"),Zt=(Object.freeze||Object)({isReal:f,isEl:d,createEl:h,textContent:g,prependTo:v,hasClass:m,addClass:y,removeClass:_,toggleClass:b,setAttributes:T,getAttributes:w,getAttribute:E,setAttribute:S,removeAttribute:P,
blockTextSelection:C,unblockTextSelection:I,getBoundingClientRect:x,findPosition:A,getPointerPosition:O,isTextNode:k,emptyEl:M,normalizeContent:R,appendContent:D,insertContent:N,$:$t,$$:Jt}),en=1,tn={},nn="vdata"+(new Date).getTime(),rn=!1;!function(){try{var e=Object.defineProperty({},"passive",{get:function(){rn=!0}});it.addEventListener("test",null,e)}catch(t){}}();var on=["touchstart","touchmove"],an=(Object.freeze||Object)({fixEvent:V,on:z,off:q,trigger:G,one:K}),sn=!1,un=void 0,ln=function(){if(f()){var e=pt.getElementsByTagName("video"),t=pt.getElementsByTagName("audio"),n=[];if(e&&e.length>0)for(var r=0,i=e.length;r<i;r++)n.push(e[r]);if(t&&t.length>0)for(var o=0,a=t.length;o<a;o++)n.push(t[o]);if(n&&n.length>0)for(var s=0,u=n.length;s<u;s++){var l=n[s];if(!l||!l.getAttribute){Y(1);break}l.player===undefined&&null!==l.getAttribute("data-setup")&&un(l)}else sn||Y(1)}};f()&&"complete"===pt.readyState?sn=!0:K(it,"load",function(){sn=!0});var cn=function(e){var t=pt.createElement("style");return t.className=e,t},fn=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},dn=function(e,t,n){t.guid||(t.guid=L());var r=function(){return t.apply(e,arguments)};return r.guid=n?n+"_"+t.guid:t.guid,r},pn=function(e,t){var n=Date.now();return function(){var r=Date.now();r-n>=t&&(e.apply(undefined,arguments),n=r)}},hn=function(){};hn.prototype.allowedEvents_={},hn.prototype.on=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},z(this,e,t),this.addEventListener=n},hn.prototype.addEventListener=hn.prototype.on,hn.prototype.off=function(e,t){q(this,e,t)},hn.prototype.removeEventListener=hn.prototype.off,hn.prototype.one=function(e,t){var n=this.addEventListener;this.addEventListener=function(){},K(this,e,t),this.addEventListener=n},hn.prototype.trigger=function(e){var t=e.type||e;"string"==typeof e&&(e={type:t}),e=V(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),G(this,e)},hn.prototype.dispatchEvent=hn.prototype.trigger;var gn=function(e){return e instanceof hn||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof e[t]})},vn=function(e){return"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length},mn=function(e){if(!e.nodeName&&!gn(e))throw new Error("Invalid target; must be a DOM node or evented object.")},yn=function(e){if(!vn(e))throw new Error("Invalid event type; must be a non-empty string or array.")},_n=function(e){if("function"!=typeof e)throw new Error("Invalid listener; must be a function.")},bn=function(e,t){var n=t.length<3||t[0]===e||t[0]===e.eventBusEl_,r=void 0,i=void 0,o=void 0;return n?(r=e.eventBusEl_,t.length>=3&&t.shift(),i=t[0],o=t[1]):(r=t[0],i=t[1],o=t[2]),mn(r),yn(i),_n(o),{isTargetingSelf:n,target:r,type:i,listener:o=dn(e,o)}},Tn=function(e,t,n,r){mn(e),e.nodeName?an[t](e,n,r):e[t](n,r)},wn={on:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bn(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(Tn(a,"on",s,u),!o){var l=function(){return e.off(a,s,u)};l.guid=u.guid;var c=function(){return e.off("dispose",l)};c.guid=u.guid,Tn(this,"on","dispose",l),Tn(a,"on","dispose",c)}},one:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=bn(this,n),o=i.isTargetingSelf,a=i.target,s=i.type,u=i.listener;if(o)Tn(a,"one",s,u);else{var l=function c(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.off(a,s,c),u.apply(null,n)};l.guid=u.guid,Tn(a,"one",s,l)}},off:function(e,t,n){if(!e||vn(e))q(this.eventBusEl_,e,t);else{var r=e,i=t;mn(r),yn(i),_n(n),n=dn(this,n),this.off("dispose",n),r.nodeName?(q(r,i,n),q(r,"dispose",n)):gn(r)&&(r.off(i,n),r.off("dispose",n))}},trigger:function(e,t){return G(this.eventBusEl_,e,t)}},En={state:{},setState:function(e){var n=this;"function"==typeof e&&(e=e());var r=void 0;return t(e,function(e,t){n.state[t]!==e&&((r=r||{})[t]={from:n.state[t],to:e}),n.state[t]=e}),r&&gn(this)&&this.trigger({changes:r,type:"statechanged"}),r}},Sn=function(){function e(t,n,r){if(Ft(this,e),!t&&this.play?this.player_=t=this:this.player_=t,this.options_=J({},this.options_),n=this.options_=J(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=t&&t.id&&t.id()||"no_player";this.id_=i+"_component_"+L()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),W(this,{eventBusKey:this.el_?"el_":null}),Q(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(r),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return e.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),B(this.el_),this.el_=null)},e.prototype.player=function(){return this.player_},e.prototype.options=function(e){return Wt.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),e?(this.options_=J(this.options_,e),this.options_):this.options_},e.prototype.el=function(){return this.el_},e.prototype.createEl=function(e,t,n){return h(e,t,n)},e.prototype.localize=function(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:e,r=this.player_.language&&this.player_.language(),i=this.player_.languages&&this.player_.languages(),o=i&&i[r],a=r&&r.split("-")[0],s=i&&i[a],u=n;return o&&o[e]?u=o[e]:s&&s[e]&&(u=s[e]),t&&(u=u.replace(/\{(\d+)\}/g,function(e,n){var r=t[n-1],i=r;return void 0===r&&(i=e),i})),u},e.prototype.contentEl=function(){return this.contentEl_||this.el_},e.prototype.id=function(){return this.id_},e.prototype.name=function(){return this.name_},e.prototype.children=function(){return this.children_},e.prototype.getChildById=function(e){return this.childIndex_[e]},e.prototype.getChild=function(e){if(e)return e=X(e),this.childNameIndex_[e]},e.prototype.addChild=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length,i=void 0,o=void 0;if("string"==typeof t){o=X(t);var a=n.componentClass||o;n.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;i=new s(this.player_||this,n)}else i=t;if(this.children_.splice(r,0,i),"function"==typeof i.id&&(this.childIndex_[i.id()]=i),(o=o||i.name&&X(i.name()))&&(this.childNameIndex_[o]=i),"function"==typeof i.el&&i.el()){var u=this.contentEl().children[r]||null;this.contentEl().insertBefore(i.el(),u)}return i},e.prototype.removeChild=function(e){if("string"==typeof e&&(e=this.getChild(e)),e&&this.children_){for(var t=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(t){this.childIndex_[e.id()]=null,this.childNameIndex_[e.name()]=null;var r=e.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}}},e.prototype.initChildren=function(){var t=this,n=this.options_.children;if(n){var r=this.options_,i=function(e){var n=e.name,i=e.opts;if(r[n]!==undefined&&(i=r[n]),!1!==i){!0===i&&(i={}),i.playerOptions=t.options_.playerOptions;var o=t.addChild(n,i);o&&(t[n]=o)}},o=void 0,a=e.getComponent("Tech");(o=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(e){return!o.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(function(e){var r=void 0,i=void 0;return"string"==typeof e?i=n[r=e]||t.options_[r]||{}:(r=e.name,i=e),{name:r,opts:i}}).filter(function(t){var n=e.getComponent(t.opts.componentClass||X(t.name));return n&&!a.isTech(n)}).forEach(i)}},e.prototype.buildCSSClass=function(){return""},e.prototype.ready=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];e&&(this.isReady_?t?e.call(this):this.setTimeout(e,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e)))},e.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},e.prototype.$=function(e,t){return $t(e,t||this.contentEl())},e.prototype.$$=function(e,t){return Jt(e,t||this.contentEl())},e.prototype.hasClass=function(e){return m(this.el_,e)},e.prototype.addClass=function(e){y(this.el_,e)},e.prototype.removeClass=function(e){_(this.el_,e)},e.prototype.toggleClass=function(e,t){b(this.el_,e,t)},e.prototype.show=function(){this.removeClass("vjs-hidden")},e.prototype.hide=function(){this.addClass("vjs-hidden")},e.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},e.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.prototype.getAttribute=function(e){return E(this.el_,e)},e.prototype.setAttribute=function(e,t){S(this.el_,e,t)},e.prototype.removeAttribute=function(e){P(this.el_,e)},e.prototype.width=function(e,t){return this.dimension("width",e,t)},e.prototype.height=function(e,t){return this.dimension("height",e,t)},e.prototype.dimensions=function(e,t){this.width(e,!0),this.height(t)},e.prototype.dimension=function(e,t,n){if(t!==undefined)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;var r=this.el_.style[e],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+X(e)],10)},e.prototype.currentDimension=function(e){var t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if("function"==typeof it.getComputedStyle){var n=it.getComputedStyle(this.el_);t=n.getPropertyValue(e)||n[e]}if(0===(t=parseFloat(t))){var r="offset"+X(e);t=this.el_[r]}return t},e.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.prototype.currentWidth=function(){return this.currentDimension("width")},e.prototype.currentHeight=function(){return this.currentDimension("height")},e.prototype.focus=function(){this.el_.focus()},e.prototype.blur=function(){this.el_.blur()},e.prototype.emitTapEvents=function(){var e=0,t=null,n=10,r=200,i=void 0;this.on("touchstart",function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),i=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)i=!1;else if(t){var r=e.touches[0].pageX-t.pageX,o=e.touches[0].pageY-t.pageY;Math.sqrt(r*r+o*o)>n&&(i=!1)}});var o=function(){i=!1};this.on("touchleave",o),this.on("touchcancel",o),this.on("touchend",function(n){(t=null,!0===i)&&((new Date).getTime()-e<r&&(n.preventDefault(),this.trigger("tap")))})},e.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e=dn(this.player(),this.player().reportUserActivity),t=void 0;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var n=function(){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}},e.prototype.setTimeout=function(e,t){e=dn(this,e);var n=it.setTimeout(e,t),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},e.prototype.clearTimeout=function(e){it.clearTimeout(e);var t=function(){};return t.guid="vjs-timeout-"+e,this.off("dispose",t),e},e.prototype.setInterval=function(e,t){e=dn(this,e);var n=it.setInterval(e,t),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},e.prototype.clearInterval=function(e){it.clearInterval(e);var t=function(){};return t.guid="vjs-interval-"+e,this.off("dispose",t),e},e.prototype.requestAnimationFrame=function(e){var t=this;if(this.supportsRaf_){e=dn(this,e);var n=it.requestAnimationFrame(e),r=function(){return t.cancelAnimationFrame(n)};return r.guid="vjs-raf-"+n,this.on("dispose",r),n}return this.setTimeout(e,1e3/60)},e.prototype.cancelAnimationFrame=function(e){if(this.supportsRaf_){it.cancelAnimationFrame(e);var t=function(){};return t.guid="vjs-raf-"+e,this.off("dispose",t),e}return this.clearTimeout(e)},e.registerComponent=function(t,n){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var r=e.getComponent("Tech"),i=r&&r.isTech(n),o=e===n||e.prototype.isPrototypeOf(n.prototype);if(i||!o){var a=void 0;throw a=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+a+".")}t=X(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map(function(e){return u[e]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=n,n},e.getComponent=function(t){if(t)return t=X(t),e.components_&&e.components_[t]?e.components_[t]:void 0},e}();Sn.prototype.supportsRaf_="function"==typeof it.requestAnimationFrame&&"function"==typeof it.cancelAnimationFrame,Sn.registerComponent("Component",Sn);for(var Pn={},Cn=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],In=Cn[0],xn=void 0,An=0;An<Cn.length;An++)if(Cn[An][1]in pt){xn=Cn[An];break}if(xn)for(var On=0;On<xn.length;On++)Pn[In[On]]=xn[On];ie.prototype.code=0,ie.prototype.message="",ie.prototype.status=null,ie.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ie.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var kn=0;kn<ie.errorTypes.length;kn++)ie[ie.errorTypes[kn]]=kn,ie.prototype[ie.errorTypes[kn]]=kn;var Mn=oe,Rn=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(t,n){return e[n]&&(t[n]=e[n]),t},{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},Dn={textTracksToJson:function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(e){return e.track});return Array.prototype.map.call(t,function(e){var t=Rn(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(Rn))},jsonToTextTracks:function(e,t){return e.forEach(function(e){var n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(function(e){return n.addCue(e)})}),t.textTracks()},trackToJson_:Rn},Nn="vjs-modal-dialog",Ln=27,jn=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.opened_=i.hasBeenOpened_=i.hasBeenFilled_=!1,i.closeable(!i.options_.uncloseable),i.content(i.options_.content),i.contentEl_=h("div",{className:Nn+"-content"},{role:"document"}),i.descEl_=h("p",{className:Nn+"-description vjs-control-text",id:i.el().getAttribute("aria-describedby")}),g(i.descEl_,i.description()),i.el_.appendChild(i.descEl_),i.el_.appendChild(i.contentEl_),i}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.prototype.buildCSSClass=function(){return Nn+" vjs-hidden "+e.prototype.buildCSSClass.call(this)},t.prototype.handleKeyPress=function(e){e.which===Ln&&this.closeable()&&this.close()},t.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},t.prototype.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.prototype.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",dn(this,this.handleKeyPress)),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.prototype.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.prototype.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",dn(this,this.handleKeyPress)),e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.prototype.closeable=function(e){if("boolean"==typeof e){var t=this.closeable_=!!e,n=this.getChild("closeButton");if(t&&!n){var r=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(n,"close",this.close)}!t&&n&&(this.off(n,"close",this.close),this.removeChild(n),n.dispose())}return this.closeable_},t.prototype.fill=function(){this.fillWith(this.content())},t.prototype.fillWith=function(e){var t=this.contentEl(),n=t.parentNode,r=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),N(t,e),this.trigger("modalfill"),r?n.insertBefore(t,r):n.appendChild(t);var i=this.getChild("closeButton");i&&n.appendChild(i.el_)},t.prototype.empty=function(){this.trigger("beforemodalempty"),M(this.contentEl()),this.trigger("modalempty")},t.prototype.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t.prototype.conditionalFocus_=function(){var e=pt.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(pt,"keydown",this.handleKeyDown))},t.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(pt,"keydown",this.handleKeyDown)},t.prototype.handleKeyDown=function(e){if(9===e.which){for(var t=this.focusableEls_(),n=this.el_.querySelector(":focus"),r=void 0,i=0;i<t.length;i++)if(n===t[i]){r=i;break}pt.activeElement===this.el_&&(r=0),e.shiftKey&&0===r?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||r!==t.length-1||(t[0].focus(),e.preventDefault())}},t.prototype.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(e){return(e instanceof it.HTMLAnchorElement||e instanceof it.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof it.HTMLInputElement||e instanceof it.HTMLSelectElement||e instanceof it.HTMLTextAreaElement||e instanceof it.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof it.HTMLIFrameElement||e instanceof it.HTMLObjectElement||e instanceof it.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")})},t}(Sn);jn.prototype.options_={pauseOnOpen:!0,temporary:!0},Sn.registerComponent("ModalDialog",jn);var Fn=function(e){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;Ft(this,t);var i=Ut(this,e.call(this));if(!r&&(r=i,Ot))for(var o in r=pt.createElement("custom"),t.prototype)"constructor"!==o&&(r[o]=t.prototype[o]);r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var a=0;a<n.length;a++)r.addTrack(n[a]);return Ut(i,r)}return Bt(t,e),t.prototype.addTrack=function(e){var t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack"}))},t.prototype.removeTrack=function(e){for(var t=void 0,n=0,r=this.length;n<r;n++)if(this[n]===e){(t=this[n]).off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack"})},t.prototype.getTrackById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},t}(hn);for(var Bn in Fn.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Fn.prototype.allowedEvents_)Fn.prototype["on"+Bn]=null;var Un=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)},Hn=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];Ft(this,t);for(var i=void 0,o=r.length-1;o>=0;o--)if(r[o].enabled){Un(r,r[o]);break}if(Ot){for(var a in i=pt.createElement("custom"),Fn.prototype)"constructor"!==a&&(i[a]=Fn.prototype[a]);for(var s in t.prototype)"constructor"!==s&&(i[s]=t.prototype[s])}return(i=n=Ut(this,e.call(this,r,i))).changing_=!1,Ut(n,i)}return Bt(t,e),t.prototype.addTrack=function(t){var n=this;t.enabled&&Un(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("enabledchange",function(){n.changing_||(n.changing_=!0,Un(n,t),n.changing_=!1,n.trigger("change"))})},t}(Fn),Vn=function(e,t){for(var n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)},zn=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];Ft(this,t);for(var i=void 0,o=r.length-1;o>=0;o--)if(r[o].selected){Vn(r,r[o]);break}if(Ot){for(var a in i=pt.createElement("custom"),Fn.prototype)"constructor"!==a&&(i[a]=Fn.prototype[a]);for(var s in t.prototype)"constructor"!==s&&(i[s]=t.prototype[s])}return(i=n=Ut(this,e.call(this,r,i))).changing_=!1,Object.defineProperty(i,"selectedIndex",{get:function(){for(var e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set:function(){}}),Ut(n,i)}return Bt(t,e),t.prototype.addTrack=function(t){var n=this;t.selected&&Vn(this,t),e.prototype.addTrack.call(this,t),t.addEventListener&&t.addEventListener("selectedchange",function(){n.changing_||(n.changing_=!0,Vn(n,t),n.changing_=!1,n.trigger("change"))})},t}(Fn),qn=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];Ft(this,t);var i=void 0;if(Ot){for(var o in i=pt.createElement("custom"),Fn.prototype)"constructor"!==o&&(i[o]=Fn.prototype[o]);for(var a in t.prototype)"constructor"!==a&&(i[a]=t.prototype[a])}return n=Ut(this,e.call(this,r,i)),Ut(n,i=n)}return Bt(t,e),t.prototype.addTrack=function(t){e.prototype.addTrack.call(this,t),t.addEventListener("modechange",dn(this,function(){this.trigger("change")})),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",dn(this,function(){this.trigger("selectedlanguagechange")}))},t}(Fn),Gn=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];Ft(this,e);var n=this;if(Ot)for(var r in n=pt.createElement("custom"),e.prototype)"constructor"!==r&&(n[r]=e.prototype[r]);n.trackElements_=[],Object.defineProperty(n,"length",{get:function(){return this.trackElements_.length}});for(var i=0,o=t.length;i<o;i++)n.addTrackElement_(t[i]);if(Ot)return n}return e.prototype.addTrackElement_=function(e){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)},e.prototype.getTrackElementByTrack_=function(e){for(var t=void 0,n=0,r=this.trackElements_.length;n<r;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t},e.prototype.removeTrackElement_=function(e){for(var t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_.splice(t,1);break}},e}(),Kn=function(){function e(t){Ft(this,e);var n=this;if(Ot)for(var r in n=pt.createElement("custom"),e.prototype)"constructor"!==r&&(n[r]=e.prototype[r]);if(e.prototype.setCues_.call(n,t),Object.defineProperty(n,"length",{get:function(){return this.length_}}),Ot)return n}return e.prototype.setCues_=function(e){var t=this.length||0,n=0,r=e.length;this.cues_=e,this.length_=e.length;var i=function(e){""+e in this||Object.defineProperty(this,""+e,{get:function(){return this.cues_[e]}})};if(t<r)for(n=t;n<r;n++)i.call(this,n)},e.prototype.getCueById=function(e){for(var t=null,n=0,r=this.length;n<r;n++){var i=this[n];if(i.id===e){t=i;break}}return t},e}(),Yn={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Wn={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Qn={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Xn={disabled:"disabled",hidden:"hidden",showing:"showing"},$n=function(e){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Ft(this,t);var r=Ut(this,e.call(this)),i=r;if(Ot)for(var o in i=pt.createElement("custom"),t.prototype)"constructor"!==o&&(i[o]=t.prototype[o]);var a={id:n.id||"vjs_track_"+L(),kind:n.kind||"",label:n.label||"",language:n.language||""},s=function(e){Object.defineProperty(i,e,{get:function(){return a[e]},set:function(){}})};for(var u in a)s(u);return Ut(r,i)}return Bt(t,e),t}(hn),Jn=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=pt.createElement("a");n.href=e;var r=""===n.host&&"file:"!==n.protocol,i=void 0;r&&((i=pt.createElement("div")).innerHTML='<a href="'+e+'"></a>',n=i.firstChild,i.setAttribute("style","display:none; position:absolute;"),pt.body.appendChild(i));for(var o={},a=0;a<t.length;a++)o[t[a]]=n[t[a]];return"http:"===o.protocol&&(o.host=o.host.replace(/:80$/,"")),"https:"===o.protocol&&(o.host=o.host.replace(/:443$/,"")),r&&pt.body.removeChild(i),o},Zn=function(e){if(!e.match(/^https?:\/\//)){var t=pt.createElement("div");t.innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href}return e},er=function(e){if("string"==typeof e){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(e);if(t)return t.pop().toLowerCase()}return""},tr=function(e){var t=it.location,n=Jn(e);return(":"===n.protocol?t.protocol:n.protocol)+n.host!==t.protocol+t.host},nr=(Object.freeze||Object)({parseUrl:Jn,getAbsoluteURL:Zn,getFileExtension:er,isCrossOrigin:tr}),rr=ae,ir=Object.prototype.toString,or=e(function(e,t){function n(e){return e.replace(/^\s*|\s*$/g,"")}(t=e.exports=n).left=function(e){return e.replace(/^\s*/,"")},t.right=function(e){return e.replace(/\s*$/,"")}}),ar=se,sr=Object.prototype.toString,ur=Object.prototype.hasOwnProperty,lr=function(e){return"[object Array]"===Object.prototype.toString.call(e)},cr=function(e){if(!e)return{};var t={};return ar(or(e).split("\n"),function(e){var n=e.indexOf(":"),r=or(e.slice(0,n)).toLowerCase(),i=or(e.slice(n+1));"undefined"==typeof t[r]?t[r]=i:lr(t[r])?t[r].push(i):t[r]=[t[r],i]}),t},fr=fe,dr=Object.prototype.hasOwnProperty,pr=ge;ge.XMLHttpRequest=it.XMLHttpRequest||ye,ge.XDomainRequest="withCredentials"in new ge.XMLHttpRequest?ge.XMLHttpRequest:it.XDomainRequest,de(["get","put","post","patch","head","delete"],function(e){ge["delete"===e?"del":e]=function(t,n,r){return(n=he(t,n,r)).method=e.toUpperCase(),ve(n)}});var hr=function(e,t){var n=new it.WebVTT.Parser(it,it.vttjs,it.WebVTT.StringDecoder()),r=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){r.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(it.console&&it.console.groupCollapsed&&it.console.groupCollapsed("Text Track parsing errors for "+t.src),r.forEach(function(e){return Wt.error(e)}),it.console&&it.console.groupEnd&&it.console.groupEnd()),n.flush()},gr=function(e,t){var n={uri:e},r=tr(e);r&&(n.cors=r),pr(n,dn(this,function(e,n,r){if(e)return Wt.error(e,n);if(t.loaded_=!0,"function"!=typeof it.WebVTT){if(t.tech_){var i=function(){return hr(r,t)};t.tech_.on("vttjsloaded",i),t.tech_.on("vttjserror",function(){Wt.error("vttjs failed to load, stopping trying to process "+t.src),t.tech_.off("vttjsloaded",i)})}}else hr(r,t)}))},vr=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(Ft(this,t),!r.tech)throw new Error("A tech was not provided.");var i=J(r,{kind:Qn[r.kind]||"subtitles",language:r.language||r.srclang||""}),o=Xn[i.mode]||"disabled",a=i["default"];"metadata"!==i.kind&&"chapters"!==i.kind||(o="hidden");var s=n=Ut(this,e.call(this,i));if(s.tech_=i.tech,Ot)for(var u in t.prototype)"constructor"!==u&&(s[u]=t.prototype[u]);s.cues_=[],s.activeCues_=[];var l=new Kn(s.cues_),c=new Kn(s.activeCues_),f=!1,d=dn(s,function(){this.activeCues,f&&(this.trigger("cuechange"),f=!1)});return"disabled"!==o&&s.tech_.ready(function(){s.tech_.on("timeupdate",d)},!0),Object.defineProperty(s,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(s,"mode",{get:function(){return o},set:function(e){var t=this;Xn[e]&&("showing"===(o=e)&&this.tech_.ready(function(){t.tech_.on("timeupdate",d)},!0),this.trigger("modechange"))}}),Object.defineProperty(s,"cues",{get:function(){return this.loaded_?l:null},set:function(){}}),Object.defineProperty(s,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return c;for(var e=this.tech_.currentTime(),t=[],n=0,r=this.cues.length;n<r;n++){var i=this.cues[n];i.startTime<=e&&i.endTime>=e?t.push(i):i.startTime===i.endTime&&i.startTime<=e&&i.startTime+.5>=e&&t.push(i)}if(f=!1,t.length!==this.activeCues_.length)f=!0;else for(var o=0;o<t.length;o++)-1===this.activeCues_.indexOf(t[o])&&(f=!0);return this.activeCues_=t,c.setCues_(this.activeCues_),c},set:function(){}}),i.src?(s.src=i.src,gr(i.src,s)):s.loaded_=!0,Ut(n,s)}return Bt(t,e),t.prototype.addCue=function(e){var t=e;if(it.vttjs&&!(e instanceof it.vttjs.VTTCue)){for(var n in t=new it.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}for(var r=this.tech_.textTracks(),i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},t.prototype.removeCue=function(e){for(var t=this.cues_.length;t--;){var n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}},t}($n);vr.prototype.allowedEvents_={cuechange:"cuechange"};var mr=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Ft(this,t);var i=J(r,{kind:Wn[r.kind]||""}),o=n=Ut(this,e.call(this,i)),a=!1;if(Ot)for(var s in t.prototype)"constructor"!==s&&(o[s]=t.prototype[s]);return Object.defineProperty(o,"enabled",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("enabledchange"))}}),i.enabled&&(o.enabled=i.enabled),o.loaded_=!0,Ut(n,o)}return Bt(t,e),t}($n),yr=function(e){function t(){var n,r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Ft(this,t);var i=J(r,{kind:Yn[r.kind]||""}),o=n=Ut(this,e.call(this,i)),a=!1;if(Ot)for(var s in t.prototype)"constructor"!==s&&(o[s]=t.prototype[s]);return Object.defineProperty(o,"selected",{get:function(){return a},set:function(e){"boolean"==typeof e&&e!==a&&(a=e,this.trigger("selectedchange"))}}),i.selected&&(o.selected=i.selected),Ut(n,o)}return Bt(t,e),t}($n),_r=0,br=1,Tr=2,wr=3,Er=function(e){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};Ft(this,t);var r=Ut(this,e.call(this)),i=void 0,o=r;if(Ot)for(var a in o=pt.createElement("custom"),t.prototype)"constructor"!==a&&(o[a]=t.prototype[a]);var s=new vr(n);return o.kind=s.kind,
o.src=s.src,o.srclang=s.language,o.label=s.label,o["default"]=s["default"],Object.defineProperty(o,"readyState",{get:function(){return i}}),Object.defineProperty(o,"track",{get:function(){return s}}),i=_r,s.addEventListener("loadeddata",function(){i=Tr,o.trigger({type:"load",target:o})}),Ot?Ut(r,o):r}return Bt(t,e),t}(hn);Er.prototype.allowedEvents_={load:"load"},Er.NONE=_r,Er.LOADING=br,Er.LOADED=Tr,Er.ERROR=wr;var Sr={audio:{ListClass:Hn,TrackClass:mr,capitalName:"Audio"},video:{ListClass:zn,TrackClass:yr,capitalName:"Video"},text:{ListClass:qn,TrackClass:vr,capitalName:"Text"}};Object.keys(Sr).forEach(function(e){Sr[e].getterName=e+"Tracks",Sr[e].privateName=e+"Tracks_"});var Pr={remoteText:{ListClass:qn,TrackClass:vr,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Gn,TrackClass:Er,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Cr=J(Sr,Pr);Pr.names=Object.keys(Pr),Sr.names=Object.keys(Sr),Cr.names=[].concat(Pr.names).concat(Sr.names);var Ir=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();_e.prototype=Ir(Error.prototype),_e.prototype.constructor=_e,_e.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Te.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var xr={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"\u200e","&rlm;":"\u200f","&nbsp;":"\xa0"},Ar={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Or={v:"title",lang:"lang"},kr={rt:"ruby"},Mr=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];xe.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},xe.prototype.formatStyle=function(e,t){return 0===e?0:e+t},Ae.prototype=Ir(xe.prototype),Ae.prototype.constructor=Ae,Oe.prototype.move=function(e,t){switch(t=t!==undefined?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Oe.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Oe.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Oe.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Oe.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Oe.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Oe.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Oe.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n}},Me.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Me.convertCueToDOMTree=function(e,t){return e&&t?Se(e,t):null};var Rr=.05,Dr="sans-serif",Nr="1.5%";Me.processCues=function(e,t,n){function r(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=Nr,n.appendChild(i),r(t)){var o=[],a=Oe.getSimpleBoxPosition(i),s={font:Math.round(a.height*Rr*100)/100+"px "+Dr};!function(){for(var n,r,u=0;u<t.length;u++)r=t[u],n=new Ae(e,r,s),i.appendChild(n.div),ke(e,n,a,o),r.displayState=n.div,o.push(Oe.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)i.appendChild(t[u].displayState)},Me.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},Me.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof _e))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){function t(){for(var e=o.buffer,t=0;t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var n=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,o.buffer=e.substr(t),n}function n(e){var t=new Te;if(we(e,function(e,n){switch(e){case"id":t.set(e,n);break;case"width":t.percent(e,n);break;case"lines":t.integer(e,n);break;case"regionanchor":case"viewportanchor":var r=n.split(",");if(2!==r.length)break;var i=new Te;if(i.percent("x",r[0]),i.percent("y",r[1]),!i.has("x")||!i.has("y"))break;t.set(e+"X",i.get("x")),t.set(e+"Y",i.get("y"));break;case"scroll":t.alt(e,n,["up"])}},/=/,/\s/),t.has("id")){var n=new(o.vttjs.VTTRegion||o.window.VTTRegion);n.width=t.get("width",100),n.lines=t.get("lines",3),n.regionAnchorX=t.get("regionanchorX",0),n.regionAnchorY=t.get("regionanchorY",100),n.viewportAnchorX=t.get("viewportanchorX",0),n.viewportAnchorY=t.get("viewportanchorY",100),n.scroll=t.get("scroll",""),o.onregion&&o.onregion(n),o.regionList.push({id:t.get("id"),region:n})}}function r(e){var t=new Te;we(e,function(e,n){switch(e){case"MPEGT":t.integer(e+"S",n);break;case"LOCA":t.set(e+"L",be(n))}},/[^\d]:/,/,/),o.ontimestampmap&&o.ontimestampmap({MPEGTS:t.get("MPEGTS"),LOCAL:t.get("LOCAL")})}function i(e){e.match(/X-TIMESTAMP-MAP/)?we(e,function(e,t){switch(e){case"X-TIMESTAMP-MAP":r(t)}},/=/):we(e,function(e,t){switch(e){case"Region":n(t)}},/:/)}var o=this;e&&(o.buffer+=o.decoder.decode(e,{stream:!0}));try{var a;if("INITIAL"===o.state){if(!/\r\n|\n/.test(o.buffer))return this;var s=(a=t()).match(/^WEBVTT([ \t].*)?$/);if(!s||!s[0])throw new _e(_e.Errors.BadSignature);o.state="HEADER"}for(var u=!1;o.buffer;){if(!/\r\n|\n/.test(o.buffer))return this;switch(u?u=!1:a=t(),o.state){case"HEADER":/:/.test(a)?i(a):a||(o.state="ID");continue;case"NOTE":a||(o.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){o.state="NOTE";break}if(!a)continue;if(o.cue=new(o.vttjs.VTTCue||o.window.VTTCue)(0,0,""),o.state="CUE",-1===a.indexOf("-->")){o.cue.id=a;continue}case"CUE":try{Ee(a,o.cue,o.regionList)}catch(c){o.reportOrThrowError(c),o.cue=null,o.state="BADCUE";continue}o.state="CUETEXT";continue;case"CUETEXT":var l=-1!==a.indexOf("-->");if(!a||l&&(u=!0)){o.oncue&&o.oncue(o.cue),o.cue=null,o.state="ID";continue}o.cue.text&&(o.cue.text+="\n"),o.cue.text+=a;continue;case"BADCUE":a||(o.state="ID");continue}}}catch(c){o.reportOrThrowError(c),"CUETEXT"===o.state&&o.cue&&o.oncue&&o.oncue(o.cue),o.cue=null,o.state="INITIAL"===o.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new _e(_e.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var Lr=Me,jr="auto",Fr={"":!0,lr:!0,rl:!0},Br={start:!0,middle:!0,end:!0,left:!0,right:!0};Le.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ur=Le,Hr={"":!0,up:!0},Vr=Be,zr=e(function(e){var t=e.exports={WebVTT:Lr,VTTCue:Ur,VTTRegion:Vr};it.vttjs=t,it.WebVTT=t.WebVTT;var n=t.VTTCue,r=t.VTTRegion,i=it.VTTCue,o=it.VTTRegion;t.shim=function(){it.VTTCue=n,it.VTTRegion=r},t.restore=function(){it.VTTCue=i,it.VTTRegion=o},it.VTTCue||t.shim()}),qr=function(e){function t(){var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};Ft(this,t),n.reportTouchActivity=!1;var i=Ut(this,e.call(this,null,n,r));return i.hasStarted_=!1,i.on("playing",function(){this.hasStarted_=!0}),i.on("loadstart",function(){this.hasStarted_=!1}),Cr.names.forEach(function(e){var t=Cr[e];n&&n[t.getterName]&&(i[t.privateName]=n[t.getterName])}),i.featuresProgressEvents||i.manualProgressOn(),i.featuresTimeupdateEvents||i.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===n["native"+e+"Tracks"]&&(i["featuresNative"+e+"Tracks"]=!1)}),!1===n.nativeCaptions||!1===n.nativeTextTracks?i.featuresNativeTextTracks=!1:!0!==n.nativeCaptions&&!0!==n.nativeTextTracks||(i.featuresNativeTextTracks=!0),i.featuresNativeTextTracks||i.emulateTextTracks(),i.autoRemoteTextTracks_=new Cr.text.ListClass,i.initTrackListeners(),n.nativeControlsForTouch||i.emitTapEvents(),i.constructor&&(i.name_=i.constructor.name||"Unknown Tech"),i}return Bt(t,e),t.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},t.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},t.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(dn(this,function(){var e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)},t.prototype.onDurationChange=function(){this.duration_=this.duration()},t.prototype.buffered=function(){return ne(0,0)},t.prototype.bufferedPercent=function(){return re(this.buffered(),this.duration_)},t.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},t.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},t.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.dispose=function(){this.clearTracks(Sr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},t.prototype.clearTracks=function(e){var t=this;(e=[].concat(e)).forEach(function(e){for(var n=t[e+"Tracks"]()||[],r=n.length;r--;){var i=n[r];"text"===e&&t.removeRemoteTextTrack(i),n.removeTrack(i)}})},t.prototype.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],t=e.length;t--;){var n=e[t];this.removeRemoteTextTrack(n)}},t.prototype.reset=function(){},t.prototype.error=function(e){return e!==undefined&&(this.error_=new ie(e),this.trigger("error")),this.error_},t.prototype.played=function(){return this.hasStarted_?ne(0,0):ne()},t.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.prototype.initTrackListeners=function(){var e=this;Sr.names.forEach(function(t){var n=Sr[t],r=function(){e.trigger(t+"trackchange")},i=e[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),e.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})},t.prototype.addWebVttScript_=function(){var e=this;if(!it.WebVTT)if(pt.body.contains(this.el())){if(!this.options_["vtt.js"]&&o(zr)&&Object.keys(zr).length>0)return void this.trigger("vttjsloaded");var t=pt.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",t.onload=function(){e.trigger("vttjsloaded")},t.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){t.onload=null,t.onerror=null}),it.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)},t.prototype.emulateTextTracks=function(){var e=this,t=this.textTracks(),n=this.remoteTextTracks(),r=function(e){return t.addTrack(e.track)},i=function(e){return t.removeTrack(e.track)};n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();var o=function(){return e.trigger("texttrackchange")},a=function(){o();for(var e=0;e<t.length;e++){var n=t[e];n.removeEventListener("cuechange",o),"showing"===n.mode&&n.addEventListener("cuechange",o)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(var e=0;e<t.length;e++){t[e].removeEventListener("cuechange",o)}})},t.prototype.addTextTrack=function(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return Ue(this,e,t,n)},t.prototype.createRemoteTextTrack=function(e){var t=J(e,{tech:this});return new Pr.remoteTextEl.TrackClass(t)},t.prototype.addRemoteTextTrack=function(){var e=this,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments[1],r=this.createRemoteTextTrack(t);return!0!==n&&!1!==n&&(Wt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),n=!0),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),!0!==n&&this.ready(function(){return e.autoRemoteTextTracks_.addTrack(r.track)}),r},t.prototype.removeRemoteTextTrack=function(e){var t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.prototype.getVideoPlaybackQuality=function(){return{}},t.prototype.setPoster=function(){},t.prototype.playsinline=function(){},t.prototype.setPlaysinline=function(){},t.prototype.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(e){return t.canPlayType(e.type)},t.isTech=function(e){return e.prototype instanceof t||e instanceof t||e===t},t.registerTech=function(e,n){if(t.techs_||(t.techs_={}),!t.isTech(n))throw new Error("Tech "+e+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=X(e),t.techs_[e]=n,"Tech"!==e&&t.defaultTechOrder_.push(e),n},t.getTech=function(e){if(e)return e=X(e),t.techs_&&t.techs_[e]?t.techs_[e]:it&&it.videojs&&it.videojs[e]?(Wt.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),it.videojs[e]):void 0},t}(Sn);Cr.names.forEach(function(e){var t=Cr[e];qr.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),qr.prototype.featuresVolumeControl=!0,qr.prototype.featuresFullscreenResize=!1,qr.prototype.featuresPlaybackRate=!1,qr.prototype.featuresProgressEvents=!1,qr.prototype.featuresTimeupdateEvents=!1,qr.prototype.featuresNativeTextTracks=!1,qr.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){var r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),n===undefined&&(n=r.length),r.splice(n,0,t)},e.canPlayType=function(t){for(var n=e.sourceHandlers||[],r=void 0,i=0;i<n.length;i++)if(r=n[i].canPlayType(t))return r;return""},e.selectSourceHandler=function(t,n){for(var r=e.sourceHandlers||[],i=0;i<r.length;i++)if(r[i].canHandleSource(t,n))return r[i];return null},e.canPlaySource=function(t,n){var r=e.selectSourceHandler(t,n);return r?r.canHandleSource(t,n):""},["seekable","duration"].forEach(function(e){var t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){var n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:Wt.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.on("dispose",this.disposeSourceHandler)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Sn.registerComponent("Tech",qr),qr.registerTech("Tech",qr),qr.defaultTechOrder_=[];var Gr={},Kr={buffered:1,currentTime:1,duration:1,seekable:1,played:1},Yr={setCurrentTime:1},Wr=function No(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){e=No(e),Array.isArray(e)?t=t.concat(e):i(e)&&t.push(e)}),e=t}else e="string"==typeof e&&e.trim()?[{src:e}]:i(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[e]:[];return e},Qr=function(e){function t(n,r,i){Ft(this,t);var o=J({createEl:!1},r),a=Ut(this,e.call(this,n,o,i));if(r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var s=0,u=r.playerOptions.techOrder;s<u.length;s++){var l=X(u[s]),c=qr.getTech(l);if(l||(c=Sn.getComponent(l)),c&&c.isSupported()){n.loadTech_(l);break}}return a}return Bt(t,e),t}(Sn);Sn.registerComponent("MediaLoader",Qr);var Xr=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.emitTapEvents(),i.enable(),i}return Bt(t,e),t.prototype.createEl=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"div",n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};n=r({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},n),"button"===t&&Wt.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),i=r({role:"button","aria-live":"polite"},i),this.tabIndex_=n.tabIndex;var o=e.prototype.createEl.call(this,t,n,i);return this.createControlTextEl(o),o},t.prototype.createControlTextEl=function(e){return this.controlTextEl_=h("span",{className:"vjs-control-text"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.prototype.controlText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(!e)return this.controlText_||"Need Text";var n=this.localize(e);this.controlText_=e,g(this.controlTextEl_,n),this.nonIconControl||t.setAttribute("title",n)},t.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},t.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!=typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},t.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!=typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},t.prototype.handleClick=function(){},t.prototype.handleFocus=function(){z(pt,"keydown",dn(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t.prototype.handleBlur=function(){q(pt,"keydown",dn(this,this.handleKeyPress))},t}(Sn);Sn.registerComponent("ClickableComponent",Xr);var $r=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.update(),n.on("posterchange",dn(i,i.update)),i}return Bt(t,e),t.prototype.dispose=function(){this.player().off("posterchange",this.update),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var e=h("div",{className:"vjs-poster",tabIndex:-1});return Nt||(this.fallbackImg_=h("img"),e.appendChild(this.fallbackImg_)),e},t.prototype.update=function(){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},t.prototype.setSrc=function(e){if(this.fallbackImg_)this.fallbackImg_.src=e;else{var t="";e&&(t='url("'+e+'")'),this.el_.style.backgroundImage=t}},t.prototype.handleClick=function(){this.player_.controls()&&(this.player_.paused()?this.player_.play():this.player_.pause())},t}(Xr);Sn.registerComponent("PosterImage",$r);var Jr="#222",Zr="#ccc",ei={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},ti=function(e){function t(n,r,i){Ft(this,t);var o=Ut(this,e.call(this,n,r,i));return n.on("loadstart",dn(o,o.toggleDisplay)),n.on("texttrackchange",dn(o,o.updateDisplay)),n.on("loadstart",dn(o,o.preselectTrack)),n.ready(dn(o,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",dn(this,this.updateDisplay));for(var e=this.options_.playerOptions.tracks||[],t=0;t<e.length;t++)this.player_.addRemoteTextTrack(e[t],!0);this.preselectTrack()}})),o}return Bt(t,e),t.prototype.preselectTrack=function(){for(var e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage,r=void 0,i=void 0,o=void 0,a=0;a<t.length;a++){var s=t[a];n&&n.enabled&&n.language===s.language?s.kind===n.kind?o=s:o||(o=s):n&&!n.enabled?(o=null,r=null,i=null):s["default"]&&("descriptions"!==s.kind||r?s.kind in e&&!i&&(i=s):r=s)}o?o.mode="showing":i?i.mode="showing":r&&(r.mode="showing")},t.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},t.prototype.clearDisplay=function(){"function"==typeof it.WebVTT&&it.WebVTT.processCues(it,[],this.el_)},t.prototype.updateDisplay=function(){var e=this.player_.textTracks();this.clearDisplay();for(var t=null,n=null,r=e.length;r--;){var i=e[r];"showing"===i.mode&&("descriptions"===i.kind?t=i:n=i)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):t&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(t))},t.prototype.updateForTrack=function(e){if("function"==typeof it.WebVTT&&e.activeCues){for(var t=this.player_.textTrackSettings.getValues(),n=[],r=0;r<e.activeCues.length;r++)n.push(e.activeCues[r]);it.WebVTT.processCues(it,n,this.el_);for(var i=n.length;i--;){var o=n[i];if(o){var a=o.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&Qe(a.firstChild,"color",We(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&Qe(a.firstChild,"backgroundColor",We(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?Qe(a,"backgroundColor",We(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+Jr+", 2px 2px 4px "+Jr+", 2px 2px 5px "+Jr:"raised"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+Jr+", 2px 2px "+Jr+", 3px 3px "+Jr:"depressed"===t.edgeStyle?a.firstChild.style.textShadow="1px 1px "+Zr+", 0 1px "+Zr+", -1px -1px "+Jr+", 0 -1px "+Jr:"uniform"===t.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+Jr+", 0 0 4px "+Jr+", 0 0 4px "+Jr+", 0 0 4px "+Jr)),t.fontPercent&&1!==t.fontPercent){var s=it.parseFloat(a.style.fontSize);a.style.fontSize=s*t.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=ei[t.fontFamily])}}}},t}(Sn);Sn.registerComponent("TextTrackDisplay",ti);var ni=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"})},t}(Sn);Sn.registerComponent("LoadingSpinner",ni);var ri=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};e="button",t=r({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},t),n=r({type:"button","aria-live":"polite"},n);var i=Sn.prototype.createEl.call(this,e,t,n);return this.createControlTextEl(i),i},t.prototype.addChild=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=this.constructor.name;return Wt.warn("Adding an actionable (user controllable) child to a Button ("+n+") is not supported; use a ClickableComponent instead."),Sn.prototype.addChild.call(this,e,t)},t.prototype.enable=function(){e.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.prototype.disable=function(){e.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.prototype.handleKeyPress=function(t){32!==t.which&&13!==t.which&&e.prototype.handleKeyPress.call(this,t)},t}(Xr);Sn.registerComponent("Button",ri);var ii=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.mouseused_=!1,i.on("mousedown",i.handleMouseDown),i}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-big-play-button"},t.prototype.handleClick=function(e){var t=this.player_.play();if(!(this.mouseused_&&e.clientX&&e.clientY)){var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var i=function(){return r.focus()};if(t&&t.then){var o=function(){};t.then(i,o)}else this.setTimeout(i,1)}else this.player_.focus()}},t.prototype.handleKeyPress=function(t){this.mouseused_=!1,e.prototype.handleKeyPress.call(this,t)},t.prototype.handleMouseDown=function(){this.mouseused_=!0},t}(ri);ii.prototype.controlText_="Play Video",Sn.registerComponent("BigPlayButton",ii);var oi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.controlText(r&&r.controlText||i.localize("Close")),i}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-close-button "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.trigger({type:"close",bubbles:!1})},t}(ri);Sn.registerComponent("CloseButton",oi);var ai=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.on(n,"play",i.handlePlay),i.on(n,"pause",i.handlePause),i.on(n,"ended",i.handleEnded),i}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-play-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handlePlay=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.prototype.handleEnded=function(){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay")},t}(ri);ai.prototype.controlText_="Play",Sn.registerComponent("PlayToggle",ai);var si=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.throttledUpdateContent=pn(dn(i,i.updateContent),25),i.on(n,"timeupdate",i.throttledUpdateContent),i}return Bt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-current-time-display"},{"aria-live":"off"},h("span",{className:"vjs-control-text",textContent:this.localize("Current Time")})),this.updateTextNode_(),t.appendChild(this.contentEl_),t},t.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=pt.createTextNode(" "+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},t.prototype.updateContent=function(){var e=Xe(this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.player_.duration());e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},t}(Sn);Sn.registerComponent("CurrentTimeDisplay",si);var ui=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.throttledUpdateContent=pn(dn(i,i.updateContent),25),i.on(n,["durationchange","loadedmetadata","timeupdate"],i.throttledUpdateContent),i}return Bt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-duration-display"},{"aria-live":"off"},h("span",{className:"vjs-control-text",textContent:this.localize("Duration Time")})),this.updateTextNode_(),t.appendChild(this.contentEl_),t},t.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=pt.createTextNode(" "+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},t.prototype.updateContent=function(){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.formattedTime_=Xe(e),this.requestAnimationFrame(this.updateTextNode_))},t}(Sn);Sn.registerComponent("DurationDisplay",ui);var li=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},t}(Sn);Sn.registerComponent("TimeDivider",li)
;var ci=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.throttledUpdateContent=pn(dn(i,i.updateContent),25),i.on(n,["timeupdate","durationchange"],i.throttledUpdateContent),i}return Bt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-remaining-time-display"},{"aria-live":"off"},h("span",{className:"vjs-control-text",textContent:this.localize("Remaining Time")})),this.updateTextNode_(),t.appendChild(this.contentEl_),t},t.prototype.updateTextNode_=function(){this.textNode_&&this.contentEl_.removeChild(this.textNode_),this.textNode_=pt.createTextNode(" -"+(this.formattedTime_||"0:00")),this.contentEl_.appendChild(this.textNode_)},t.prototype.updateContent=function(){if(this.player_.duration()){var e=Xe(this.player_.remainingTime());e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))}},t}(Sn);Sn.registerComponent("RemainingTimeDisplay",ci);var fi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.updateShowing(),i.on(i.player(),"durationchange",i.updateShowing),i}return Bt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=h("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),t.appendChild(this.contentEl_),t},t.prototype.updateShowing=function(){this.player().duration()===Infinity?this.show():this.hide()},t}(Sn);Sn.registerComponent("LiveDisplay",fi);var di=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.bar=i.getChild(i.options_.barName),i.vertical(!!i.options_.vertical),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on("focus",i.handleFocus),i.on("blur",i.handleBlur),i.on("click",i.handleClick),i.on(n,"controlsvisible",i.update),i.playerEvent&&i.on(n,i.playerEvent,i.update),i}return Bt(t,e),t.prototype.createEl=function(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return n.className=n.className+" vjs-slider",n=r({tabIndex:0},n),i=r({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},i),e.prototype.createEl.call(this,t,n,i)},t.prototype.handleMouseDown=function(e){var t=this.bar.el_.ownerDocument;e.preventDefault(),C(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove),this.on(t,"mouseup",this.handleMouseUp),this.on(t,"touchmove",this.handleMouseMove),this.on(t,"touchend",this.handleMouseUp),this.handleMouseMove(e)},t.prototype.handleMouseMove=function(){},t.prototype.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;I(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchmove",this.handleMouseMove),this.off(e,"touchend",this.handleMouseUp),this.update()},t.prototype.update=function(){if(this.el_){var e=this.getPercent(),t=this.bar;if(t){("number"!=typeof e||e!=e||e<0||e===Infinity)&&(e=0);var n=(100*e).toFixed(2)+"%",r=t.el().style;return this.vertical()?r.height=n:r.width=n,e}}},t.prototype.calculateDistance=function(e){var t=O(this.el_,e);return this.vertical()?t.y:t.x},t.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepBack()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepForward())},t.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},t.prototype.handleClick=function(e){e.stopImmediatePropagation(),e.preventDefault()},t.prototype.vertical=function(e){if(e===undefined)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},t}(Sn);Sn.registerComponent("Slider",di);var pi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.partEls_=[],i.on(n,"progress",i.update),i}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},t.prototype.update=function(){var e=this.player_.buffered(),t=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,i=function(e,t){var n=e/t||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=i(n,t);for(var o=0;o<e.length;o++){var a=e.start(o),s=e.end(o),u=r[o];u||(u=this.el_.appendChild(h()),r[o]=u),u.style.left=i(a,n),u.style.width=i(s-a,n)}for(var l=r.length;l>e.length;l--)this.el_.removeChild(r[l-1]);r.length=e.length},t}(Sn);Sn.registerComponent("LoadProgressBar",pi);var hi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},t.prototype.update=function(e,t,n){var r=x(this.el_),i=x(this.player_.el()),o=e.width*t;if(i&&r){var a=e.left-i.left+o,s=e.width-o+(i.right-e.right),u=r.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right="-"+u+"px",g(this.el_,n)}},t}(Sn);Sn.registerComponent("TimeTooltip",hi);var gi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=Xe(n.player_.scrubbing()?n.player_.getCache().currentTime:n.player_.currentTime(),n.player_.duration()),i=n.getChild("timeTooltip");i&&i.update(e,t,r)})},t}(Sn);gi.prototype.options_={children:[]},kt&&!(kt>8)||bt||wt||gi.prototype.options_.children.push("timeTooltip"),Sn.registerComponent("PlayProgressBar",gi);var vi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.update=pn(dn(i,i.update),25),i}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.prototype.update=function(e,t){var n=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r=n.player_.duration(),i=Xe(t*r,r);n.el_.style.left=e.width*t+"px",n.getChild("timeTooltip").update(e,t,i)})},t}(Sn);vi.prototype.options_={children:["timeTooltip"]},Sn.registerComponent("MouseTimeDisplay",vi);var mi=5,yi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.update=pn(dn(i,i.update),50),i.on(n,["timeupdate","ended"],i.update),i}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.prototype.update=function(){var t=e.prototype.update.call(this),n=this.player_.duration(),r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();return this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Xe(r,n),Xe(n,n)],"{1} of {2}")),this.bar.update(x(this.el_),t),t},t.prototype.getPercent=function(){var e=(this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime())/this.player_.duration();return e>=1?1:e},t.prototype.handleMouseDown=function(t){this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),e.prototype.handleMouseDown.call(this,t)},t.prototype.handleMouseMove=function(e){var t=this.calculateDistance(e)*this.player_.duration();t===this.player_.duration()&&(t-=.1),this.player_.currentTime(t)},t.prototype.handleMouseUp=function(t){e.prototype.handleMouseUp.call(this,t),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},t.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+mi)},t.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-mi)},t.prototype.handleAction=function(){this.player_.paused()?this.player_.play():this.player_.pause()},t.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.handleAction(t)):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},t}(di);yi.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},kt&&!(kt>8)||bt||wt||yi.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),yi.prototype.playerEvent="timeupdate",Sn.registerComponent("SeekBar",yi);var _i=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.handleMouseMove=pn(dn(i,i.handleMouseMove),25),i.on(i.el_,"mousemove",i.handleMouseMove),i.throttledHandleMouseSeek=pn(dn(i,i.handleMouseSeek),25),i.on(["mousedown","touchstart"],i.handleMouseDown),i}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.prototype.handleMouseMove=function(e){var t=this.getChild("seekBar"),n=t.getChild("mouseTimeDisplay"),r=t.el(),i=x(r),o=O(r,e).x;o>1?o=1:o<0&&(o=0),n&&n.update(i,o)},t.prototype.handleMouseSeek=function(e){this.getChild("seekBar").handleMouseMove(e)},t.prototype.handleMouseDown=function(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},t}(Sn);_i.prototype.options_={children:["seekBar"]},Sn.registerComponent("ProgressControl",_i);var bi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.on(n,"fullscreenchange",i.handleFullscreenChange),i}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleFullscreenChange=function(){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.prototype.handleClick=function(){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(ri);bi.prototype.controlText_="Fullscreen",Sn.registerComponent("FullscreenToggle",bi);var Ti=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},wi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},t}(Sn);Sn.registerComponent("VolumeLevel",wi);var Ei=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.on("slideractive",i.updateLastVolume_),i.on(n,"volumechange",i.updateARIAAttributes),n.ready(function(){return i.updateARIAAttributes()}),i}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.prototype.handleMouseMove=function(e){this.checkMuted(),this.player_.volume(this.calculateDistance(e))},t.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.prototype.updateARIAAttributes=function(){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},t.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.prototype.updateLastVolume_=function(){var e=this,t=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(t)})},t}(di);Ei.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ei.prototype.playerEvent="volumechange",Sn.registerComponent("VolumeBar",Ei);var Si=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Ft(this,t),r.vertical=r.vertical||!1,("undefined"==typeof r.volumeBar||o(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical);var i=Ut(this,e.call(this,n,r));return Ti(i,n),i.throttledHandleMouseMove=pn(dn(i,i.handleMouseMove),25),i.on("mousedown",i.handleMouseDown),i.on("touchstart",i.handleMouseDown),i.on(i.volumeBar,["focus","slideractive"],function(){i.volumeBar.addClass("vjs-slider-active"),i.addClass("vjs-slider-active"),i.trigger("slideractive")}),i.on(i.volumeBar,["blur","sliderinactive"],function(){i.volumeBar.removeClass("vjs-slider-active"),i.removeClass("vjs-slider-active"),i.trigger("sliderinactive")}),i}return Bt(t,e),t.prototype.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},t.prototype.handleMouseDown=function(){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},t.prototype.handleMouseUp=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},t.prototype.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},t}(Sn);Si.prototype.options_={children:["volumeBar"]},Sn.registerComponent("VolumeControl",Si);var Pi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return Ti(i,n),i.on(n,["loadstart","volumechange"],i.update),i}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-mute-control "+e.prototype.buildCSSClass.call(this)},t.prototype.handleClick=function(){var e=this.player_.volume(),t=this.player_.lastVolume_();if(0===e){var n=t<.1?.1:t;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.prototype.update=function(){this.updateIcon_(),this.updateControlText_()},t.prototype.updateIcon_=function(){var e=this.player_.volume(),t=3;0===e||this.player_.muted()?t=0:e<.33?t=1:e<.67&&(t=2);for(var n=0;n<4;n++)_(this.el_,"vjs-vol-"+n);y(this.el_,"vjs-vol-"+t)},t.prototype.updateControlText_=function(){var e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},t}(ri);Pi.prototype.controlText_="Mute",Sn.registerComponent("MuteToggle",Pi);var Ci=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Ft(this,t),"undefined"!=typeof r.inline?r.inline=r.inline:r.inline=!0,("undefined"==typeof r.volumeControl||o(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline);var i=Ut(this,e.call(this,n,r));return Ti(i,n),i.on(i.volumeControl,["slideractive"],i.sliderActive_),i.on(i.muteToggle,"focus",i.sliderActive_),i.on(i.volumeControl,["sliderinactive"],i.sliderInactive_),i.on(i.muteToggle,"blur",i.sliderInactive_),i}return Bt(t,e),t.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},t.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.prototype.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),e.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},t}(Sn);Ci.prototype.options_={children:["muteToggle","volumeControl"]},Sn.registerComponent("VolumePanel",Ci);var Ii=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return r&&(i.menuButton_=r.menuButton),i.focusedChild_=-1,i.on("keydown",i.handleKeyPress),i}return Bt(t,e),t.prototype.addItem=function(e){this.addChild(e),e.on("click",dn(this,function(){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==e.name()&&this.menuButton_.focus())}))},t.prototype.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=h(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var n=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),z(n,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),n},t.prototype.handleKeyPress=function(e){37===e.which||40===e.which?(e.preventDefault(),this.stepForward()):38!==e.which&&39!==e.which||(e.preventDefault(),this.stepBack())},t.prototype.stepForward=function(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_+1),this.focus(e)},t.prototype.stepBack=function(){var e=0;this.focusedChild_!==undefined&&(e=this.focusedChild_-1),this.focus(e)},t.prototype.focus=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0,t=this.children().slice();t.length&&t[0].className&&/vjs-menu-title/.test(t[0].className)&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())},t}(Sn);Sn.registerComponent("Menu",Ii);var xi=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Ft(this,t);var i=Ut(this,e.call(this,n,r));i.menuButton_=new ri(n,r),i.menuButton_.controlText(i.controlText_),i.menuButton_.el_.setAttribute("aria-haspopup","true");var o=ri.prototype.buildCSSClass();return i.menuButton_.el_.className=i.buildCSSClass()+" "+o,i.menuButton_.removeClass("vjs-control"),i.addChild(i.menuButton_),i.update(),i.enabled_=!0,i.on(i.menuButton_,"tap",i.handleClick),i.on(i.menuButton_,"click",i.handleClick),i.on(i.menuButton_,"focus",i.handleFocus),i.on(i.menuButton_,"blur",i.handleBlur),i.on("keydown",i.handleSubmenuKeyPress),i}return Bt(t,e),t.prototype.update=function(){var e=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.prototype.createMenu=function(){var e=new Ii(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var t=h("li",{className:"vjs-menu-title",innerHTML:X(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,e.children_.unshift(t),v(t,e.contentEl())}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e},t.prototype.createItems=function(){},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.prototype.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+ri.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},t.prototype.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},t.prototype.controlText=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(e,t)},t.prototype.handleClick=function(){this.one(this.menu.contentEl(),"mouseleave",dn(this,function(){this.unpressButton(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},t.prototype.focus=function(){this.menuButton_.focus()},t.prototype.blur=function(){this.menuButton_.blur()},t.prototype.handleFocus=function(){z(pt,"keydown",dn(this,this.handleKeyPress))},t.prototype.handleBlur=function(){q(pt,"keydown",dn(this,this.handleKeyPress))},t.prototype.handleKeyPress=function(e){27===e.which||9===e.which?(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus())):38!==e.which&&40!==e.which||this.buttonPressed_||(this.pressButton(),e.preventDefault())},t.prototype.handleSubmenuKeyPress=function(e){27!==e.which&&9!==e.which||(this.buttonPressed_&&this.unpressButton(),9!==e.which&&(e.preventDefault(),this.menuButton_.el_.focus()))},t.prototype.pressButton=function(){this.enabled_&&(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),this.menu.focus())},t.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(Sn);Sn.registerComponent("MenuButton",xi);var Ai=function(e){function t(n,r){Ft(this,t);var i=r.tracks,o=Ut(this,e.call(this,n,r));if(o.items.length<=1&&o.hide(),!i)return Ut(o);var a=dn(o,o.update);return i.addEventListener("removetrack",a),i.addEventListener("addtrack",a),o.player_.on("ready",a),o.player_.on("dispose",function(){i.removeEventListener("removetrack",a),i.removeEventListener("addtrack",a)}),o}return Bt(t,e),t}(xi);Sn.registerComponent("TrackButton",Ai);var Oi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.selectable=r.selectable,i.selected(r.selected),i.selectable?i.el_.setAttribute("role","menuitemcheckbox"):i.el_.setAttribute("role","menuitem"),i}return Bt(t,e),t.prototype.createEl=function(t,n,i){return this.nonIconControl=!0,e.prototype.createEl.call(this,"li",r({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},n),i)},t.prototype.handleClick=function(){this.selected(!0)},t.prototype.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected")):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(" ")))},t}(Xr);Sn.registerComponent("MenuItem",Oi);var ki=function(e){function t(n,r){Ft(this,t);var i=r.track,o=n.textTracks();r.label=i.label||i.language||"Unknown",r.selected="showing"===i.mode;var a=Ut(this,e.call(this,n,r));a.track=i;var s=dn(a,a.handleTracksChange),u=dn(a,a.handleSelectedLanguageChange);if(n.on(["loadstart","texttrackchange"],s),o.addEventListener("change",s),o.addEventListener("selectedlanguagechange",u),a.on("dispose",function(){o.removeEventListener("change",s),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===undefined){var l=void 0;a.on(["tap","click"],function(){if("object"!==jt(it.Event))try{l=new it.Event("change")}catch(e){}l||(l=pt.createEvent("Event")).initEvent("change",!0,!0),o.dispatchEvent(l)})}return a}return Bt(t,e),t.prototype.handleClick=function(t){var n=this.track.kind,r=this.track.kinds,i=this.player_.textTracks();if(r||(r=[n]),e.prototype.handleClick.call(this,t),i)for(var o=0;o<i.length;o++){var a=i[o];a===this.track&&r.indexOf(a.kind)>-1?"showing"!==a.mode&&(a.mode="showing"):"disabled"!==a.mode&&(a.mode="disabled")}},t.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},t.prototype.handleSelectedLanguageChange=function(){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t}(Oi);Sn.registerComponent("TextTrackMenuItem",ki);var Mi=function(e){function t(n,r){Ft(this,t),r.track={player:n,kind:r.kind,kinds:r.kinds,"default":!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0;var i=Ut(this,e.call(this,n,r));return i.selected(!0),i}return Bt(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;n<r;n++){var i=e[n];if(this.options_.kinds.indexOf(i.kind)>-1&&"showing"===i.mode){t=!1;break}}this.selected(t)},t.prototype.handleSelectedLanguageChange=function(){for(var e=this.player().textTracks(),t=!0,n=0,r=e.length;n<r;n++){var i=e[n];if(["captions","descriptions","subtitles"].indexOf(i.kind)>-1&&"showing"===i.mode){t=!1;break}}t&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(ki);Sn.registerComponent("OffTextTrackMenuItem",Mi);var Ri=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Ft(this,t),r.tracks=n.textTracks(),Ut(this,e.call(this,n,r))}return Bt(t,e),t.prototype.createItems=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[],t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ki,n=void 0;this.label_&&(n=this.label_+" off"),e.push(new Mi(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;var r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var i=0;i<r.length;i++){var o=r[i];if(this.kinds_.indexOf(o.kind)>-1){var a=new t(this.player_,{track:o,selectable:!0});a.addClass("vjs-"+o.kind+"-menu-item"),e.push(a)}}return e},t}(Ai);Sn.registerComponent("TextTrackButton",Ri);var Di=function(e){function t(n,r){Ft(this,t);var i=r.track,o=r.cue,a=n.currentTime();r.selectable=!0,r.label=o.text,r.selected=o.startTime<=a&&a<o.endTime;var s=Ut(this,e.call(this,n,r));return s.track=i,s.cue=o,i.addEventListener("cuechange",dn(s,s.update)),s}return Bt(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.prototype.update=function(){var e=this.cue,t=this.player_.currentTime();this.selected(e.startTime<=t&&t<e.endTime)},t}(Oi);Sn.registerComponent("ChaptersTrackMenuItem",Di);var Ni=function(e){function t(n,r,i){return Ft(this,t),Ut(this,e.call(this,n,r,i))}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.update=function(t){this.track_&&(!t||"addtrack"!==t.type&&"removetrack"!==t.type)||this.setTrack(this.findChaptersTrack()),e.prototype.update.call(this)},t.prototype.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_)}}},t.prototype.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],t=e.length-1;t>=0;t--){var n=e[t];if(n.kind===this.kind_)return n}},t.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(X(this.kind_))},t.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),e.prototype.createMenu.call(this)},t.prototype.createItems=function(){var e=[];if(!this.track_)return e;var t=this.track_.cues;if(!t)return e;for(var n=0,r=t.length;n<r;n++){var i=t[n],o=new Di(this.player_,{track:this.track_,cue:i});e.push(o)}return e},t}(Ri);Ni.prototype.kind_="chapters",Ni.prototype.controlText_="Chapters",Sn.registerComponent("ChaptersButton",Ni);var Li=function(e){function t(n,r,i){Ft(this,t);var o=Ut(this,e.call(this,n,r,i)),a=n.textTracks(),s=dn(o,o.handleTracksChange);return a.addEventListener("change",s),o.on("dispose",function(){a.removeEventListener("change",s)}),o}return Bt(t,e),t.prototype.handleTracksChange=function(){for(var e=this.player().textTracks(),t=!1,n=0,r=e.length;n<r;n++){var i=e[n];if(i.kind!==this.kind_&&"showing"===i.mode){t=!0;break}}t?this.disable():this.enable()},t.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ri);Li.prototype.kind_="descriptions",Li.prototype.controlText_="Descriptions",Sn.registerComponent("DescriptionsButton",Li);var ji=function(e){function t(n,r,i){return Ft(this,t),Ut(this,e.call(this,n,r,i))}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+e.prototype.buildWrapperCSSClass.call(this)},t}(Ri);ji.prototype.kind_="subtitles",ji.prototype.controlText_="Subtitles",Sn.registerComponent("SubtitlesButton",ji);var Fi=function(e){function t(n,r){Ft(this,t),r.track={player:n,kind:r.kind,label:r.kind+" settings",selectable:!1,"default":!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem";var i=Ut(this,e.call(this,n,r));return i.addClass("vjs-texttrack-settings"),i.controlText(", opens "+r.kind+" settings dialog"),i}return Bt(t,e),t.prototype.handleClick=function(){this.player().getChild("textTrackSettings").open()},t}(ki);Sn.registerComponent("CaptionSettingsMenuItem",Fi);var Bi=function(e){function t(n,r,i){return Ft(this,t),Ut(this,e.call(this,n,r,i))}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-captions-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new Fi(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),e.prototype.createItems.call(this,t)},t}(Ri);Bi.prototype.kind_="captions",Bi.prototype.controlText_="Captions",Sn.registerComponent("CaptionsButton",Bi);var Ui=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function(t,n,i){var o='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(o+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),o+="</span>",e.prototype.createEl.call(this,t,r({innerHTML:o},n),i)},t}(ki);Sn.registerComponent("SubsCapsMenuItem",Ui);var Hi=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(i.player_.language_)>-1&&(i.label_="captions"),i.menuButton_.controlText(X(i.label_)),i}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var t=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||(t.push(new Fi(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=e.prototype.createItems.call(this,t,Ui)},t}(Ri);Hi.prototype.kinds_=["captions","subtitles"],Hi.prototype.controlText_="Subtitles",Sn.registerComponent("SubsCapsButton",Hi);var Vi=function(e){function t(n,r){Ft(this,t);var i=r.track,o=n.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled;var a=Ut(this,e.call(this,n,r));a.track=i;var s=dn(a,a.handleTracksChange);return o.addEventListener("change",s),a.on("dispose",function(){o.removeEventListener("change",s)}),a}return Bt(t,e),t.prototype.handleClick=function(t){var n=this.player_.audioTracks();e.prototype.handleClick.call(this,t)
;for(var r=0;r<n.length;r++){var i=n[r];i.enabled=i===this.track}},t.prototype.handleTracksChange=function(){this.selected(this.track.enabled)},t}(Oi);Sn.registerComponent("AudioTrackMenuItem",Vi);var zi=function(e){function t(n){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return Ft(this,t),r.tracks=n.audioTracks(),Ut(this,e.call(this,n,r))}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-audio-button "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createItems=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.hideThreshold_=1;for(var t=this.player_.audioTracks(),n=0;n<t.length;n++){var r=t[n];e.push(new Vi(this.player_,{track:r,selectable:!0}))}return e},t}(Ai);zi.prototype.controlText_="Audio Track",Sn.registerComponent("AudioTrackButton",zi);var qi=function(e){function t(n,r){Ft(this,t);var i=r.rate,o=parseFloat(i,10);r.label=i,r.selected=1===o,r.selectable=!0;var a=Ut(this,e.call(this,n,r));return a.label=i,a.rate=o,a.on(n,"ratechange",a.update),a}return Bt(t,e),t.prototype.handleClick=function(){e.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},t}(Oi);qi.prototype.contentElType="button",Sn.registerComponent("PlaybackRateMenuItem",qi);var Gi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.updateVisibility(),i.updateLabel(),i.on(n,"loadstart",i.updateVisibility),i.on(n,"ratechange",i.updateLabel),i}return Bt(t,e),t.prototype.createEl=function(){var t=e.prototype.createEl.call(this);return this.labelEl_=h("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),t.appendChild(this.labelEl_),t},t.prototype.buildCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildCSSClass.call(this)},t.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+e.prototype.buildWrapperCSSClass.call(this)},t.prototype.createMenu=function(){var e=new Ii(this.player()),t=this.playbackRates();if(t)for(var n=t.length-1;n>=0;n--)e.addChild(new qi(this.player(),{rate:t[n]+"x"}));return e},t.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.prototype.handleClick=function(){for(var e=this.player().playbackRate(),t=this.playbackRates(),n=t[0],r=0;r<t.length;r++)if(t[r]>e){n=t[r];break}this.player().playbackRate(n)},t.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},t.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},t}(xi);Gi.prototype.controlText_="Playback Rate",Sn.registerComponent("PlaybackRateMenuButton",Gi);var Ki=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},t}(Sn);Sn.registerComponent("Spacer",Ki);var Yi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+e.prototype.buildCSSClass.call(this)},t.prototype.createEl=function(){var t=e.prototype.createEl.call(this,{className:this.buildCSSClass()});return t.innerHTML="&nbsp;",t},t}(Ki);Sn.registerComponent("CustomControlSpacer",Yi);var Wi=function(e){function t(){return Ft(this,t),Ut(this,e.apply(this,arguments))}return Bt(t,e),t.prototype.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"},{role:"group"})},t}(Sn);Wi.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},Sn.registerComponent("ControlBar",Wi);var Qi=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r));return i.on(n,"error",i.open),i}return Bt(t,e),t.prototype.buildCSSClass=function(){return"vjs-error-display "+e.prototype.buildCSSClass.call(this)},t.prototype.content=function(){var e=this.player().error();return e?this.localize(e.message):""},t}(jn);Qi.prototype.options_=J(jn.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Sn.registerComponent("ErrorDisplay",Qi);var Xi="vjs-text-track-settings",$i=["#000","Black"],Ji=["#00F","Blue"],Zi=["#0FF","Cyan"],eo=["#0F0","Green"],to=["#F0F","Magenta"],no=["#F00","Red"],ro=["#FFF","White"],io=["#FF0","Yellow"],oo=["1","Opaque"],ao=["0.5","Semi-Transparent"],so=["0","Transparent"],uo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[$i,ro,no,eo,Ji,io,to,Zi]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[oo,ao,so]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ro,$i,no,eo,Ji,io,to,Zi]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],"default":2,parser:function(e){return"1.00"===e?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[oo,ao]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[so,ao,oo]}};uo.windowColor.options=uo.backgroundColor.options;var lo=function(e){function r(n,i){Ft(this,r),i.temporary=!1;var o=Ut(this,e.call(this,n,i));return o.updateDisplay=dn(o,o.updateDisplay),o.fill(),o.hasBeenOpened_=o.hasBeenFilled_=!0,o.endDialog=h("p",{className:"vjs-control-text",textContent:o.localize("End of dialog window.")}),o.el().appendChild(o.endDialog),o.setDefaults(),i.persistTextTrackSettings===undefined&&(o.options_.persistTextTrackSettings=o.options_.playerOptions.persistTextTrackSettings),o.on(o.$(".vjs-done-button"),"click",function(){o.saveSettings(),o.close()}),o.on(o.$(".vjs-default-button"),"click",function(){o.setDefaults(),o.updateDisplay()}),t(uo,function(e){o.on(o.$(e.selector),"change",o.updateDisplay)}),o.options_.persistTextTrackSettings&&o.restoreSettings(),o}return Bt(r,e),r.prototype.createElSelect_=function(e){var t=this,n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"",r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"label",i=uo[e],o=i.id.replace("%s",this.id_);return["<"+r+' id="'+o+'" class="'+("label"===r?"vjs-label":"")+'">',this.localize(i.label),"</"+r+">",'<select aria-labelledby="'+n+" "+o+'">'].concat(i.options.map(function(e){var r=o+"-"+e[1];return['<option id="'+r+'" value="'+e[0]+'" ','aria-labelledby="'+n+" "+o+" "+r+'">',t.localize(e[1]),"</option>"].join("")})).concat("</select>").join("")},r.prototype.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},r.prototype.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},r.prototype.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},r.prototype.createElColors_=function(){return h("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.prototype.createElFont_=function(){return h("div",{className:'vjs-track-settings-font">',innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.prototype.createElControls_=function(){var e=this.localize("restore all settings to the default values");return h("div",{className:"vjs-track-settings-controls",innerHTML:['<button class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.prototype.label=function(){return this.localize("Caption Settings Dialog")},r.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.prototype.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.prototype.getValues=function(){var e=this;return n(uo,function(t,n,r){var i=Je(e.$(n.selector),n.parser);return i!==undefined&&(t[r]=i),t},{})},r.prototype.setValues=function(e){var n=this;t(uo,function(t,r){Ze(n.$(t.selector),e[r],t.parser)})},r.prototype.setDefaults=function(){var e=this;t(uo,function(t){var n=t.hasOwnProperty("default")?t["default"]:0;e.$(t.selector).selectedIndex=n})},r.prototype.restoreSettings=function(){var e=void 0;try{e=JSON.parse(it.localStorage.getItem(Xi))}catch(t){Wt.warn(t)}e&&this.setValues(e)},r.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?it.localStorage.setItem(Xi,JSON.stringify(e)):it.localStorage.removeItem(Xi)}catch(t){Wt.warn(t)}}},r.prototype.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},r.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(pt,"keydown",this.handleKeyDown);var e=this.player_.controlBar,t=e&&e.subsCapsButton,n=e&&e.captionsButton;t?t.focus():n&&n.focus()},r}(jn);Sn.registerComponent("TextTrackSettings",lo);var co=Ht(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),fo=function(e){function t(n,r){Ft(this,t);var i=Ut(this,e.call(this,n,r)),o=n.source,a=!1;if(o&&(i.el_.currentSrc!==o.src||n.tag&&3===n.tag.initNetworkState_)?i.setSource(o):i.handleLateInit_(i.el_),i.el_.hasChildNodes()){for(var s=i.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(i.featuresNativeTextTracks?(i.remoteTextTrackEls().addTrackElement_(c),i.remoteTextTracks().addTrack(c.track),i.textTracks().addTrack(c.track),a||i.el_.hasAttribute("crossorigin")||!tr(c.src)||(a=!0)):l.push(c))}for(var f=0;f<l.length;f++)i.el_.removeChild(l[f])}return i.proxyNativeTracks_(),i.featuresNativeTextTracks&&a&&Wt.warn(Qt(co)),i.restoreMetadataTracksInIOSNativePlayer_(),(Dt||yt||Pt)&&!0===n.nativeControlsForTouch&&i.setControls(!0),i.proxyWebkitFullscreen_(),i.triggerReady(),i}return Bt(t,e),t.prototype.dispose=function(){t.disposeMediaElement(this.el_),e.prototype.dispose.call(this)},t.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var e=this.textTracks(),t=void 0,n=function(){t=[];for(var n=0;n<e.length;n++){var r=e[n];"metadata"===r.kind&&t.push({track:r,storedMode:r.mode})}};n(),e.addEventListener("change",n);var r=function i(){for(var n=0;n<t.length;n++){var r=t[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",n),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",r)})},t.prototype.proxyNativeTracks_=function(){var e=this;Sr.names.forEach(function(t){var n=Sr[t],r=e.el()[n.getterName],i=e[n.getterName]();if(e["featuresNative"+n.capitalName+"Tracks"]&&r&&r.addEventListener){var o={change:function(){i.trigger({type:"change",target:i,currentTarget:i,srcElement:i})},addtrack:function(e){i.addTrack(e.track)},removetrack:function(e){i.removeTrack(e.track)}},a=function(){for(var e=[],t=0;t<i.length;t++){for(var n=!1,o=0;o<r.length;o++)if(r[o]===i[t]){n=!0;break}n||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};Object.keys(o).forEach(function(t){var n=o[t];r.addEventListener(t,n),e.on("dispose",function(){return r.removeEventListener(t,n)})}),e.on("loadstart",a),e.on("dispose",function(){return e.off("loadstart",a)})}})},t.prototype.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),t.disposeMediaElement(e),e=n}else{e=pt.createElement("video");var i=J({},this.options_.tag&&w(this.options_.tag));Dt&&!0===this.options_.nativeControlsForTouch||delete i.controls,T(e,r(i,{id:this.options_.techId,"class":"vjs-tech"}))}e.playerId=this.options_.playerId}"undefined"!=typeof this.options_.preload&&S(e,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],a=o.length-1;a>=0;a--){var s=o[a],u=this.options_[s];void 0!==u&&(u?S(e,s,s):P(e,s),e[s]=u)}return e},t.prototype.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var t=!1,n=function(){t=!0};this.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return this.on("loadedmetadata",r),void this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")})}var i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(e){this.trigger(e)},this)})}},t.prototype.setCurrentTime=function(e){try{this.el_.currentTime=e}catch(t){Wt(t,"Video is not ready. (Video.js)")}},t.prototype.duration=function(){var e=this;if(this.el_.duration===Infinity&&wt&&xt&&0===this.el_.currentTime){var t=function n(){e.el_.currentTime>0&&(e.el_.duration===Infinity&&e.trigger("durationchange"),e.off("timeupdate",n))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN},t.prototype.width=function(){return this.el_.offsetWidth},t.prototype.height=function(){return this.el_.offsetHeight},t.prototype.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var t=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},n=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",function(){e.off("webkitbeginfullscreen",n),e.off("webkitendfullscreen",t)})}},t.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=it.navigator&&it.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.prototype.enterFullScreen=function(){var e=this.el_;e.paused&&e.networkState<=e.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){e.pause(),e.webkitEnterFullScreen()},0)):e.webkitEnterFullScreen()},t.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},t.prototype.src=function(e){if(e===undefined)return this.el_.src;this.setSrc(e)},t.prototype.reset=function(){t.resetMediaElement(this.el_)},t.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.prototype.setControls=function(e){this.el_.controls=!!e},t.prototype.addTextTrack=function(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):e.prototype.addTextTrack.call(this,t,n,r)},t.prototype.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=pt.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t["default"]&&(n["default"]=t["default"]),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},t.prototype.addRemoteTextTrack=function(t,n){var r=e.prototype.addRemoteTextTrack.call(this,t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r},t.prototype.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var n=this.$$("track"),r=n.length;r--;)t!==n[r]&&t!==n[r].track||this.el().removeChild(n[r])},t.prototype.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return"undefined"!=typeof this.el().webkitDroppedFrameCount&&"undefined"!=typeof this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),it.performance&&"function"==typeof it.performance.now?e.creationTime=it.performance.now():it.performance&&it.performance.timing&&"number"==typeof it.performance.timing.navigationStart&&(e.creationTime=it.Date.now()-it.performance.timing.navigationStart),e},t}(qr);if(f()){fo.TEST_VID=pt.createElement("video");var po=pt.createElement("track");po.kind="captions",po.srclang="en",po.label="English",fo.TEST_VID.appendChild(po)}fo.isSupported=function(){try{fo.TEST_VID.volume=.5}catch(e){return!1}return!(!fo.TEST_VID||!fo.TEST_VID.canPlayType)},fo.canPlayType=function(e){return fo.TEST_VID.canPlayType(e)},fo.canPlaySource=function(e){return fo.canPlayType(e.type)},fo.canControlVolume=function(){try{var e=fo.TEST_VID.volume;return fo.TEST_VID.volume=e/2+.1,e!==fo.TEST_VID.volume}catch(t){return!1}},fo.canControlPlaybackRate=function(){if(wt&&xt&&At<58)return!1;try{var e=fo.TEST_VID.playbackRate;return fo.TEST_VID.playbackRate=e/2+.1,e!==fo.TEST_VID.playbackRate}catch(t){return!1}},fo.supportsNativeTextTracks=function(){return Rt},fo.supportsNativeVideoTracks=function(){return!(!fo.TEST_VID||!fo.TEST_VID.videoTracks)},fo.supportsNativeAudioTracks=function(){return!(!fo.TEST_VID||!fo.TEST_VID.audioTracks)},fo.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],fo.prototype.featuresVolumeControl=fo.canControlVolume(),fo.prototype.featuresPlaybackRate=fo.canControlPlaybackRate(),fo.prototype.movingMediaElementInDOM=!bt,fo.prototype.featuresFullscreenResize=!0,fo.prototype.featuresProgressEvents=!0,fo.prototype.featuresTimeupdateEvents=!0,fo.prototype.featuresNativeTextTracks=fo.supportsNativeTextTracks(),fo.prototype.featuresNativeVideoTracks=fo.supportsNativeVideoTracks(),fo.prototype.featuresNativeAudioTracks=fo.supportsNativeAudioTracks();var ho=fo.TEST_VID&&fo.TEST_VID.constructor.prototype.canPlayType,go=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,vo=/^video\/mp4/i;fo.patchCanPlayType=function(){Et>=4&&!Ct?fo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&go.test(e)?"maybe":ho.call(this,e)}:St&&(fo.TEST_VID.constructor.prototype.canPlayType=function(e){return e&&vo.test(e)?"maybe":ho.call(this,e)})},fo.unpatchCanPlayType=function(){var e=fo.TEST_VID.constructor.prototype.canPlayType;return fo.TEST_VID.constructor.prototype.canPlayType=ho,e},fo.patchCanPlayType(),fo.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},fo.resetMediaElement=function(e){if(e){for(var t=e.querySelectorAll("source"),n=t.length;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){fo.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){fo.prototype["set"+X(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(e){fo.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(e){fo.prototype["set"+X(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){fo.prototype[e]=function(){return this.el_[e]()}}),qr.withSourceHandlers(fo),fo.nativeSourceHandler={},fo.nativeSourceHandler.canPlayType=function(e){try{return fo.TEST_VID.canPlayType(e)}catch(t){return""}},fo.nativeSourceHandler.canHandleSource=function(e){if(e.type)return fo.nativeSourceHandler.canPlayType(e.type);if(e.src){var t=er(e.src);return fo.nativeSourceHandler.canPlayType("video/"+t)}return""},fo.nativeSourceHandler.handleSource=function(e,t){t.setSrc(e.src)},fo.nativeSourceHandler.dispose=function(){},fo.registerSourceHandler(fo.nativeSourceHandler),qr.registerTech("Html5",fo);var mo=Ht(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),yo=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","ratechange","resize","volumechange","texttrackchange"],_o=function(e){function t(n,i,o){if(Ft(this,t),n.id=n.id||"vjs_video_"+L(),(i=r(t.getTagSettings(n),i)).initChildren=!1,i.createEl=!1,i.reportTouchActivity=!1,!i.language)if("function"==typeof n.closest){var a=n.closest("[lang]");a&&(i.language=a.getAttribute("lang"))}else for(var s=n;s&&1===s.nodeType;){if(w(s).hasOwnProperty("lang")){i.language=s.getAttribute("lang");break}s=s.parentNode}var u=Ut(this,e.call(this,null,i,o));if(u.isReady_=!1,!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=n,u.tagAttributes=n&&w(n),u.language(u.options_.language),i.languages){var l={};Object.getOwnPropertyNames(i.languages).forEach(function(e){l[e.toLowerCase()]=i.languages[e]}),u.languages_=l}else u.languages_=t.prototype.options_.languages;u.cache_={},u.poster_=i.poster||"",u.controls_=!!i.controls,u.cache_.lastVolume=1,n.controls=!1,u.scrubbing_=!1,u.el_=u.createEl(),W(u,{eventBusKey:"el_"});var c=J(u.options_);if(i.plugins){var f=i.plugins;Object.keys(f).forEach(function(e){if("function"!=typeof this[e])throw new Error('plugin "'+e+'" does not exist');this[e](f[e])},u)}u.options_.playerOptions=c,u.middleware_=[],u.initChildren(),u.isAudio("audio"===n.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label",u.localize("Audio Player")):u.el_.setAttribute("aria-label",u.localize("Video Player")),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),bt||u.addClass("vjs-workinghover"),t.players[u.id_]=u;var d=nt.split(".")[0];return u.addClass("vjs-v"+d),u.userActive(!0),u.reportUserActivity(),u.listenForUserActivity_(),u.on("fullscreenchange",u.handleFullscreenChange_),u.on("stageclick",u.handleStageClick_),u.changingSrc_=!1,u}return Bt(t,e),t.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&this.styleEl_.parentNode.removeChild(this.styleEl_),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),e.prototype.dispose.call(this)},t.prototype.createEl=function(){var t=this.tag,n=void 0,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");n=this.el_=r?t.parentNode:e.prototype.createEl.call(this,"div"),t.setAttribute("tabindex","-1"),t.removeAttribute("width"),t.removeAttribute("height");var i=w(t);if(Object.getOwnPropertyNames(i).forEach(function(e){"class"===e?n.className+=" "+i[e]:n.setAttribute(e,i[e])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused"),!0!==it.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=cn("vjs-styles-dimensions");var o=$t(".vjs-styles-defaults"),a=$t("head");a.insertBefore(this.styleEl_,o?o.nextSibling:a.firstChild)}this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var s=t.getElementsByTagName("a"),u=0;u<s.length;u++){var l=s.item(u);y(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),v(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_=n,n},t.prototype.width=function(e){return this.dimension("width",e)},t.prototype.height=function(e){return this.dimension("height",e)},t.prototype.dimension=function(e,t){var n=e+"_";if(t===undefined)return this[n]||0;if(""===t)this[n]=undefined;else{var r=parseFloat(t);if(isNaN(r))return void Wt.error('Improper value "'+t+'" supplied for for '+e);this[n]=r}this.updateStyleEl_()},t.prototype.fluid=function(e){if(e===undefined)return!!this.fluid_;this.fluid_=!!e,e?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.prototype.aspectRatio=function(e){if(e===undefined)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.prototype.updateStyleEl_=function(){if(!0!==it.VIDEOJS_NO_DYNAMIC_STYLE){var e=void 0,t=void 0,n=void 0,r=(this.aspectRatio_!==undefined&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),i=r[1]/r[0];e=this.width_!==undefined?this.width_:this.height_!==undefined?this.height_/i:this.videoWidth()||300,t=this.height_!==undefined?this.height_:e*i,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),fn(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+t+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*i+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,s=this.tech_&&this.tech_.el();s&&(o>=0&&(s.width=o),a>=0&&(s.height=a))}},t.prototype.loadTech_=function(e,t){var n=this;this.tech_&&this.unloadTech_();var i=X(e),o=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(qr.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;var a={source:t,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+i+"_api",autoplay:this.options_.autoplay,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"]};Cr.names.forEach(function(e){var t=Cr[e];a[t.getterName]=n[t.privateName]}),r(a,this.options_[i]),r(a,this.options_[o]),r(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);var s=qr.getTech(e);if(!s)throw new Error("No Tech named '"+i+"' exists! '"+i+"' should be registered using videojs.registerTech()'");this.tech_=new s(a),this.tech_.ready(dn(this,this.handleTechReady_),!0),Dn.jsonToTextTracks(this.textTracksJson_||[],this.tech_),yo.forEach(function(e){n.on(n.tech_,e,n["handleTech"+X(e)+"_"])}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||v(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.prototype.unloadTech_=function(){var e=this;Cr.names.forEach(function(t){var n=Cr[t];e[n.privateName]=e[n.getterName]()}),this.textTracksJson_=Dn.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},t.prototype.tech=function(e){return e===undefined&&Wt.warn(Qt(mo)),this.tech_},t.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},t.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},t.prototype.handleTechReady_=function(){if(this.triggerReady(),
this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster}catch(e){Wt("deleting tag.poster throws in some browsers",e)}this.play()}},t.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},t.prototype.hasStarted=function(e){if(e===undefined)return!!this.hasStarted_;this.hasStarted_!==e&&(this.hasStarted_=e,e?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.prototype.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",function(){return e.removeClass("vjs-waiting")})},t.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},t.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&(Wt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.prototype.handleTechClick_=function(e){0===e.button&&this.controls()&&(this.paused()?this.play():this.pause())},t.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},t.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.prototype.handleTechTouchEnd_=function(e){e.preventDefault()},t.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.prototype.handleStageClick_=function(){this.reportUserActivity()},t.prototype.handleTechFullscreenChange_=function(e,t){t&&this.isFullscreen(t.isFullscreen),this.trigger("fullscreenchange")},t.prototype.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.prototype.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.prototype.getCache=function(){return this.cache_},t.prototype.techCall_=function(e,t){this.ready(function(){if(e in Yr)return Ge(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw Wt(n),n}},!0)},t.prototype.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in Kr)return qe(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw this.tech_[e]===undefined?Wt("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",t):"TypeError"===t.name?(Wt("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",t),this.tech_.isReady_=!1):Wt(t),t}}},t.prototype.play=function(){if(this.changingSrc_)this.ready(function(){var e=this.techGet_("play");e!==undefined&&"function"==typeof e.then&&e.then(null,function(){})});else{if(this.isReady_&&(this.src()||this.currentSrc()))return this.techGet_("play");this.ready(function(){this.tech_.one("loadstart",function(){var e=this.play();e!==undefined&&"function"==typeof e.then&&e.then(null,function(){})})})}},t.prototype.pause=function(){this.techCall_("pause")},t.prototype.paused=function(){return!1!==this.techGet_("paused")},t.prototype.played=function(){return this.techGet_("played")||ne(0,0)},t.prototype.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.prototype.currentTime=function(e){if(void 0===e)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;this.techCall_("setCurrentTime",e)},t.prototype.duration=function(e){if(e===undefined)return this.cache_.duration!==undefined?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=Infinity),e!==this.cache_.duration&&(this.cache_.duration=e,e===Infinity?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},t.prototype.remainingTime=function(){return this.duration()-this.currentTime()},t.prototype.buffered=function(){var e=this.techGet_("buffered");return e&&e.length||(e=ne(0,0)),e},t.prototype.bufferedPercent=function(){return re(this.buffered(),this.duration())},t.prototype.bufferedEnd=function(){var e=this.buffered(),t=this.duration(),n=e.end(e.length-1);return n>t&&(n=t),n},t.prototype.volume=function(e){var t=void 0;return e!==undefined?(t=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)},t.prototype.muted=function(e){if(e===undefined)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},t.prototype.defaultMuted=function(e){return e!==undefined?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.prototype.lastVolume_=function(e){if(e===undefined||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},t.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.prototype.isFullscreen=function(e){if(e===undefined)return!!this.isFullscreen_;this.isFullscreen_=!!e},t.prototype.requestFullscreen=function(){var e=Pn;this.isFullscreen(!0),e.requestFullscreen?(z(pt,e.fullscreenchange,dn(this,function t(){this.isFullscreen(pt[e.fullscreenElement]),!1===this.isFullscreen()&&q(pt,e.fullscreenchange,t),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},t.prototype.exitFullscreen=function(){var e=Pn;this.isFullscreen(!1),e.requestFullscreen?pt[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},t.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=pt.documentElement.style.overflow,z(pt,"keydown",dn(this,this.fullWindowOnEscKey)),pt.documentElement.style.overflow="hidden",y(pt.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.prototype.fullWindowOnEscKey=function(e){27===e.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},t.prototype.exitFullWindow=function(){this.isFullWindow=!1,q(pt,"keydown",this.fullWindowOnEscKey),pt.documentElement.style.overflow=this.docOrigOverflow,_(pt.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.prototype.canPlayType=function(e){for(var t=void 0,n=0,r=this.options_.techOrder;n<r.length;n++){var i=r[n],o=qr.getTech(i);if(o||(o=Sn.getComponent(i)),o){if(o.isSupported()&&(t=o.canPlayType(e)))return t}else Wt.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.prototype.selectSource=function(e){var t=this,n=this.options_.techOrder.map(function(e){return[e,qr.getTech(e)]}).filter(function(e){var t=e[0],n=e[1];return n?n.isSupported():(Wt.error('The "'+t+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),r=function(e,t,n){var r=void 0;return e.some(function(e){return t.some(function(t){if(r=n(e,t))return!0})}),r},i=function(e){return function(t,n){return e(n,t)}},o=function(e,n){var r=e[0];if(e[1].canPlaySource(n,t.options_[r.toLowerCase()]))return{source:n,tech:r}};return(this.options_.sourceOrder?r(e,n,i(o)):r(n,e,o))||!1},t.prototype.src=function(e){var t=this;if(void 0===e)return this.cache_.src;var n=Wr(e);n.length?(this.cache_.sources=n,this.changingSrc_=!0,this.cache_.source=n[0],Ve(this,n[0],function(e,r){if(t.middleware_=r,t.src_(e))return n.length>1?t.src(n.slice(1)):(t.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void t.triggerReady());t.changingSrc_=!1,t.cache_.src=e.src,ze(r,t.tech_)})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},t.prototype.src_=function(e){var t=this.selectSource([e]);return!t||($(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),!1))},t.prototype.load=function(){this.techCall_("load")},t.prototype.reset=function(){this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},t.prototype.currentSources=function(){var e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t},t.prototype.currentSource=function(){return this.cache_.source||{}},t.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.prototype.preload=function(e){return e!==undefined?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.prototype.autoplay=function(e){return e!==undefined?(this.techCall_("setAutoplay",e),void(this.options_.autoplay=e)):this.techGet_("autoplay",e)},t.prototype.playsinline=function(e){return e!==undefined?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.prototype.loop=function(e){return e!==undefined?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.prototype.poster=function(e){if(e===undefined)return this.poster_;e||(e=""),this.poster_=e,this.techCall_("setPoster",e),this.trigger("posterchange")},t.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},t.prototype.controls=function(e){return e!==undefined?(e=!!e,void(this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),e?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())))):!!this.controls_},t.prototype.usingNativeControls=function(e){return e!==undefined?(e=!!e,void(this.usingNativeControls_!==e&&(this.usingNativeControls_=e,e?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))))):!!this.usingNativeControls_},t.prototype.error=function(e){return e===undefined?this.error_||null:null===e?(this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ie(e),this.addClass("vjs-error"),Wt.error("(CODE:"+this.error_.code+" "+ie.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},t.prototype.reportUserActivity=function(){this.userActivity_=!0},t.prototype.userActive=function(e){if(e===undefined)return this.userActive_;(e=!!e)!==this.userActive_&&(this.userActive_=e,e?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")))},t.prototype.listenForUserActivity_=function(){var e=void 0,t=void 0,n=void 0,r=dn(this,this.reportUserActivity),i=function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,r())},o=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},a=function(){r(),this.clearInterval(e)};this.on("mousedown",o),this.on("mousemove",i),this.on("mouseup",a),this.on("keydown",r),this.on("keyup",r);var s=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);var e=this.options_.inactivityTimeout;e>0&&(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))}},250)},t.prototype.playbackRate=function(e){if(e===undefined)return this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},t.prototype.defaultPlaybackRate=function(e){return e!==undefined?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.prototype.isAudio=function(e){if(e===undefined)return!!this.isAudio_;this.isAudio_=!!e},t.prototype.addTextTrack=function(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)},t.prototype.addRemoteTextTrack=function(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)},t.prototype.removeRemoteTextTrack=function(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).track,t=e===undefined?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(t)},t.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.prototype.language=function(e){if(e===undefined)return this.language_;this.language_=String(e).toLowerCase()},t.prototype.languages=function(){return J(t.prototype.options_.languages,this.languages_)},t.prototype.toJSON=function(){var e=J(this.options_),t=e.tracks;e.tracks=[];for(var n=0;n<t.length;n++){var r=t[n];(r=J(r)).player=undefined,e.tracks[n]=r}return e},t.prototype.createModal=function(e,t){var n=this;(t=t||{}).content=e||"";var r=new jn(this,t);return this.addChild(r),r.on("dispose",function(){n.removeChild(r)}),r.open(),r},t.getTagSettings=function(e){var t={sources:[],tracks:[]},n=w(e),i=n["data-setup"];if(m(e,"vjs-fluid")&&(n.fluid=!0),null!==i){var o=Mn(i||"{}"),a=o[0],s=o[1];a&&Wt.error(a),r(n,s)}if(r(t,n),e.hasChildNodes())for(var u=e.childNodes,l=0,c=u.length;l<c;l++){var f=u[l],d=f.nodeName.toLowerCase();"source"===d?t.sources.push(w(f)):"track"===d&&t.tracks.push(w(f))}return t},t.prototype.flexNotSupported_=function(){var e=pt.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t}(Sn);Cr.names.forEach(function(e){var t=Cr[e];_o.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),_o.players={};var bo=it.navigator;_o.prototype.options_={techOrder:qr.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:bo&&(bo.languages&&bo.languages[0]||bo.userLanguage||bo.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media."},["ended","seeking","seekable","networkState","readyState"].forEach(function(e){_o.prototype[e]=function(){return this.techGet_(e)}}),yo.forEach(function(e){_o.prototype["handleTech"+X(e)+"_"]=function(){return this.trigger(e)}}),Sn.registerComponent("Player",_o);var To="plugin",wo="activePlugins_",Eo={},So=function(e){return Eo.hasOwnProperty(e)},Po=function(e){return So(e)?Eo[e]:undefined},Co=function(e,t){e[wo]=e[wo]||{},e[wo][t]=!0},Io=function(e,t,n){var r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},xo=function(e,t){var n=function(){Io(this,{name:e,plugin:t,instance:null},!0);var n=t.apply(this,arguments);return Co(this,e),Io(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n},Ao=function(e,t){return t.prototype.name=e,function(){Io(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=new(Function.prototype.bind.apply(t,[null].concat([this].concat(r))));return this[e]=function(){return o},Io(this,o.getEventHash()),o}},Oo=function(){function e(t){if(Ft(this,e),this.constructor===e)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,W(this),delete this.trigger,Q(this,this.constructor.defaultState),Co(t,this.name),this.dispose=dn(this,this.dispose),t.on("dispose",this.dispose)}return e.prototype.getEventHash=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return e.name=this.name,e.plugin=this.constructor,e.instance=this,e},e.prototype.trigger=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return G(this.eventBusEl_,e,this.getEventHash(t))},e.prototype.handleStateChanged=function(){},e.prototype.dispose=function(){var e=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[wo][e]=!1,this.player=this.state=null,t[e]=Ao(e,Eo[e])},e.isBasic=function(t){var n="string"==typeof t?Po(t):t;return"function"==typeof n&&!e.prototype.isPrototypeOf(n.prototype)},e.registerPlugin=function(t,n){if("string"!=typeof t)throw new Error('Illegal plugin name, "'+t+'", must be a string, was '+(void 0===t?"undefined":jt(t))+".");if(So(t))Wt.warn('A plugin named "'+t+'" already exists. You may want to avoid re-registering plugins!');else if(_o.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'+t+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+t+'", must be a function, was '+(void 0===n?"undefined":jt(n))+".");return Eo[t]=n,t!==To&&(e.isBasic(n)?_o.prototype[t]=xo(t,n):_o.prototype[t]=Ao(t,n)),n},e.deregisterPlugin=function(e){if(e===To)throw new Error("Cannot de-register base plugin.");So(e)&&(delete Eo[e],delete _o.prototype[e])},e.getPlugins=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.keys(Eo),t=void 0;return e.forEach(function(e){var n=Po(e);n&&((t=t||{})[e]=n)}),t},e.getPluginVersion=function(e){var t=Po(e);return t&&t.VERSION||""},e}();Oo.getPlugin=Po,Oo.BASE_PLUGIN_NAME=To,Oo.registerPlugin(To,Oo),_o.prototype.usingPlugin=function(e){return!!this[wo]&&!0===this[wo][e]},_o.prototype.hasPlugin=function(e){return!!So(e)};var ko=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":jt(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.super_=t)},Mo=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=function(){e.apply(this,arguments)},r={};for(var i in"object"===(void 0===t?"undefined":jt(t))?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),r=t):"function"==typeof t&&(n=t),ko(n,e),r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n};if("undefined"==typeof HTMLVideoElement&&f()&&(pt.createElement("video"),pt.createElement("audio"),pt.createElement("track")),et.hooks_={},et.hooks=function(e,t){return et.hooks_[e]=et.hooks_[e]||[],t&&(et.hooks_[e]=et.hooks_[e].concat(t)),et.hooks_[e]},et.hook=function(e,t){et.hooks(e,t)},et.removeHook=function(e,t){var n=et.hooks(e).indexOf(t);return!(n<=-1)&&(et.hooks_[e]=et.hooks_[e].slice(),et.hooks_[e].splice(n,1),!0)},!0!==it.VIDEOJS_NO_DYNAMIC_STYLE&&f()){var Ro=$t(".vjs-styles-defaults");if(!Ro){Ro=cn("vjs-styles-defaults");var Do=$t("head");Do&&Do.insertBefore(Ro,Do.firstChild),fn(Ro,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}return Y(1,et),et.VERSION=nt,et.options=_o.prototype.options_,et.getPlayers=function(){return _o.players},et.players=_o.players,et.getComponent=Sn.getComponent,et.registerComponent=function(e,t){qr.isTech(t)&&Wt.warn("The "+e+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Sn.registerComponent.call(Sn,e,t)},et.getTech=qr.getTech,et.registerTech=qr.registerTech,et.use=He,et.browser=Lt,et.TOUCH_ENABLED=Dt,et.extend=Mo,et.mergeOptions=J,et.bind=dn,et.registerPlugin=Oo.registerPlugin,et.plugin=function(e,t){return Wt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Oo.registerPlugin(e,t)},et.getPlugins=Oo.getPlugins,et.getPlugin=Oo.getPlugin,et.getPluginVersion=Oo.getPluginVersion,et.addLanguage=function(e,t){var n;return e=(""+e).toLowerCase(),et.options.languages=J(et.options.languages,((n={})[e]=t,n)),et.options.languages[e]},et.log=Wt,et.createTimeRange=et.createTimeRanges=ne,et.formatTime=Xe,et.parseUrl=Jn,et.isCrossOrigin=tr,et.EventTarget=hn,et.on=z,et.one=K,et.off=q,et.trigger=G,et.xhr=pr,et.TextTrack=vr,et.AudioTrack=mr,et.VideoTrack=yr,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(e){et[e]=function(){return Wt.warn("videojs."+e+"() is deprecated; use videojs.dom."+e+"() instead"),Zt[e].apply(null,arguments)}}),et.computedStyle=s,et.dom=Zt,et.url=nr,et}),function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r,i,o,u,l,c={encode:function(e){for(var t=[],n=0;n<e.length;++n){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?(t.push(192|r>>6),t.push(128|63&r)):r<65536?(t.push(224|r>>12),t.push(128|63&r>>6),t.push(128|63&r)):(t.push(240|r>>18),t.push(128|63&r>>12),t.push(128|63&r>>6),t.push(128|63&r))}return t},decode:function(e){for(var t=[],n=0;n<e.length;){var r=e[n++];r<128||(r<224?(r=(31&r)<<6,r|=63&e[n++]):r<240?(r=(15&r)<<12,r|=(63&e[n++])<<6,r|=63&e[n++]):(r=(7&r)<<18,r|=(63&e[n++])<<12,r|=(63&e[n++])<<6,r|=63&e[n++])),t.push(String.fromCharCode(r))}return t.join("")}},f={};r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(e){for(var t=0,n=[],i=0|e.length/3;0<i--;){var o=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push(r.charAt(63&o>>6)),n.push(r.charAt(63&o))}if(2==e.length-t){o=(e[t]<<16)+(e[t+1]<<8);n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push(r.charAt(63&o>>6)),n.push("=")}else if(1==e.length-t){o=e[t]<<16;n.push(r.charAt(63&o>>18)),n.push(r.charAt(63&o>>12)),n.push("==")}return n.join("")},o=function(){for(var e=[],t=0;t<r.length;++t)e[r.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),u=function(e){for(var t=0,n=[],r=0|e.length/4;0<r--;){var i=(o[e.charCodeAt(t)]<<18)+(o[e.charCodeAt(t+1)]<<12)+(o[e.charCodeAt(t+2)]<<6)+o[e.charCodeAt(t+3)];n.push(255&i>>16),n.push(255&i>>8),n.push(255&i),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n},l={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(){for(var e=0;e<s.length;++e)a[e]=String.fromCharCode(a[e]);return a.join("")}},f.decodeArray=function(e){var t=u(e);return new Uint8Array(t)},f.encodeASCII=function(e){var t=l.encode(e);return i(t)},f.decodeASCII=function(e){var t=u(e);return l.decode(t)},f.encode=function(e){var t=c.encode(e);return i(t)},f.decode=function(e){var t=u(e);return c.decode(t)},void 0!==n&&(n.decode=f.decode,n.decodeArray=f.decodeArray)},{}],2:[function(e,t,n){"use strict";!function(e){var t={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},n=function(e){var n=e;return t.hasOwnProperty(e)&&(n=t[e]),String.fromCharCode(n)},r=15,i=32,o={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},a={17:2,18:4,21:6,22:8,23:10,19:13,20:15},s={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},u={25:2,26:4,29:6,30:8,31:10,27:13,28:15},l=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],c={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},f=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},d=function(e,t,n,r,i){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1};d.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}};var p=function(e,t,n,r,i,o){this.uchar=e||" ",this.penState=new d(t,n,r,i,o)};p.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}};var h=function(){this.chars=[];for(var e=0;e<i;e++)this.chars.push(new p);this.pos=0,this.currPenState=new d};h.prototype={equals:function(e){for(var t=!0,n=0;n<i;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<i;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<i;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(c.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>i&&(c.log("ERROR","Too large cursor position "+this.pos),this.pos=i)},moveCursor:function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){e>=144&&this.backSpace();var t=n(e);return this.pos>=i?void c.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),void this.moveCursor(1))},clearFromPos:function(e){var t;for(t=e;t<i;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<i;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}};var g=function(){this.rows=[];for(var e=0;e<r;e++)this.rows.push(new h);this.currRow=r-1,this.nrRollUpRows=null,this.reset()};g.prototype={reset:function(){for(var e=0;e<r;e++)this.rows[e].clear();this.currRow=r-1},equals:function(e){for(var t=!0,n=0;n<r;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<r;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<r;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){c.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){c.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.currRow=t;var n=this.rows[this.currRow];if(null!==e.indent){var r=e.indent,i=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[i].penState.foreground}var o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)},setBkgData:function(e){c.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){if(null!==this.nrRollUpRows){c.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),c.log("INFO","Rolling up")}else c.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",i=-1,o=0;o<r;o++){var a=this.rows[o].getTextString();a&&(i=o+1,e?t.push("Row "+i+': "'+a+'"'):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},getTextAndFormat:function(){return this.rows}};var v=function(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null};v.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[r-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,c.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";c.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),
"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(c.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){c.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){c.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){c.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){c.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){c.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){c.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){c.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){c.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){c.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){c.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){c.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){if(c.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,c.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()},cc_TO:function(e){c.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=r[n]}c.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=c.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}};var m=function(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new v(1,t),new v(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,"char":0,cmd:0,other:0}};m.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,r,i,o=!1;this.lastTime=e,c.setTime(e);for(var a=0;a<t.length;a+=2)if(r=127&t[a],i=127&t[a+1],0!==r||0!==i){if(c.log("DATA","["+f([t[a],t[a+1]])+"] -> ("+f([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){this.channels[this.currChNr-1].insertChars(o)}else c.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters["char"]+=2:(this.dataCounters.other+=2,c.log("WARNING","Couldn't parse cleaned data "+f([r,i])+" orig: "+f([t[a],t[a+1]])))}else this.dataCounters.padding+=2},parseCmd:function(e,t){var n=null;if(!((20===e||28===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&33<=t&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,c.log("DEBUG","Repeated command ("+f([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var r=this.channels[n-1];return 20===e||28===e?32===t?r.cc_RCL():33===t?r.cc_BS():34===t?r.cc_AOF():35===t?r.cc_AON():36===t?r.cc_DER():37===t?r.cc_RU(2):38===t?r.cc_RU(3):39===t?r.cc_RU(4):40===t?r.cc_FON():41===t?r.cc_RDC():42===t?r.cc_TR():43===t?r.cc_RTD():44===t?r.cc_EDM():45===t?r.cc_CR():46===t?r.cc_ENM():47===t&&r.cc_EOC():r.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},parseMidrow:function(e,t){var n=null;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(c.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[n-1].cc_MIDROW(t),c.log("DEBUG","MIDROW ("+f([e,t])+")"),!0))},parsePAC:function(e,t){var n=null,r=null;if(!((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127)&&!((16===e||24===e)&&64<=t&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,r=64<=t&&t<=95?1===n?o[e]:s[e]:1===n?a[e]:u[e];var i=this.interpretPAC(r,t);return this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},interpretPAC:function(e,t){var n=t,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1==(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},parseChars:function(e,t){var r=null,i=null,o=null;if(e>=25?(r=2,o=e-8):(r=1,o=e),17<=o&&o<=19){var a=t;a=17===o?t+80:18===o?t+112:t+144,c.log("INFO","Special char '"+n(a)+"' in channel "+r),i=[a]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var s=f(i);c.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},parseBackgroundAttributes:function(e,t){var n,r,i,o;return!(!((16===e||24===e)&&32<=t&&t<=47)&&!((23===e||31===e)&&45<=t&&t<=47)||(n={},16===e||24===e?(r=Math.floor((t-32)/2),n.background=l[r],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),i=e<24?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,0))},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}};var y=function(e,t,n){for(var r=0,i=t,o=[],a=function(e,t,n,r){if(4!==e||t<8)return null;var i=n.getUint8(r),o=n.getUint16(r+1),a=n.getUint32(r+3),s=n.getUint8(r+7);return 181==i&&49==o&&1195456820==a&&3==s};i<t+n;){if(r=e.getUint32(i),6===(31&e.getUint8(i+4)))for(var s=i+5,u=-1;s<i+4+r-1;){u=0;for(var l=255;255===l;)u+=l=e.getUint8(s),s++;var c=0;for(l=255;255===l;)c+=l=e.getUint8(s),s++;a(u,c,e,s)&&o.push([s,c]),s+=c}i+=r+4}return o},_=function(e,t){var n=t[0],r=[[],[]];n+=8;var i=31&e.getUint8(n);n+=2;for(var o=0;o<i;o++){var a=e.getUint8(n),s=4&a,u=3&a;n++;var l=e.getUint8(n);n++;var c=e.getUint8(n);n++,s&&(127&l)+(127&c)!=0&&(0===u?(r[0].push(l),r[0].push(c)):1===u&&(r[1].push(l),r[1].push(c)))}return r};e.logger=c,e.PenState=d,e.CaptionScreen=g,e.Cea608Parser=m,e.findCea608Nalus=y,e.extractCea608DataFromRange=_}(void 0===n?(void 0).cea608parser={}:n)},{}],3:[function(e,t,n){"use strict";function r(e){var t,n,r;for(t=[],r=0,n=e.length;r<n;r+=1)e[r].isRoot?t.push("root"):t.push(e[r].name);var i=function(e,t){var n;if(null!==e&&null!==t)for(n in e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]))},o=function(e,t,n){var r,o,a,s,u;if(null!==e&&0!==e.length)for(r=0,o=e.length;r<o;r+=1)a=e[r],t.hasOwnProperty(a.name)&&(n.hasOwnProperty(a.name)?a.merge&&(s=t[a.name],u=n[a.name],"object"==typeof s&&"object"==typeof u?i(s,u):null!=a.mergeFunction?n[a.name]=a.mergeFunction(s,u):n[a.name]=s+u):n[a.name]=t[a.name])},a=function s(e,t){var n,r,i,a,u,l,c,f=e;if(null!==f.children&&0!==f.children.length)for(n=0,r=f.children.length;n<r;n+=1)if(l=f.children[n],t.hasOwnProperty(l.name))if(l.isArray)for(i=0,a=(u=t[l.name+"_asArray"]).length;i<a;i+=1)c=u[i],o(f.properties,t,c),s(l,c);else c=t[l.name],o(f.properties,t,c),s(l,c)};return{run:function u(n){var r,i,o,s,l,c,f;if(null===n)return n;if("object"!=typeof n)return n;for(r=0,i=t.length;r<i;r+=1)"root"===t[r]&&(l=e[r],a(l,c=n));for(s in n)if(n.hasOwnProperty(s)&&"__children"!=s){if(-1!==(o=t.indexOf(s)))if((l=e[o]).isArray)for(r=0,i=(f=n[s+"_asArray"]).length;r<i;r+=1)c=f[r],a(l,c);else c=n[s],a(l,c);u(n[s])}return n}}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],4:[function(e,t,n){"use strict";function r(e,t,n){function r(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function i(e){return e.prefix}function o(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function a(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")}function s(o){if(o.nodeType==b.DOCUMENT_NODE){var u,l,c=o.firstChild;for(u=0,l=o.childNodes.length;u<l;u+=1)if(o.childNodes[u].nodeType!==b.COMMENT_NODE){c=o.childNodes[u];break}if(n)f=s(c);else(f={})[g=r(c)]=s(c);return f}if(o.nodeType==b.ELEMENT_NODE){var f;(f=new Object).__cnt=0;for(var d=[],p=o.childNodes,h=0;h<p.length;h++){var g=r(c=p.item(h));if(f.__cnt++,null==f[g]){var v=s(c);if("#text"!=g||/[^\s]/.test(v))(T={})[g]=v,d.push(T);f[g]=v,f[g+"_asArray"]=new Array(1),f[g+"_asArray"][0]=f[g]}else{if(null!=f[g]&&!(f[g]instanceof Array)){var m=f[g];f[g]=new Array,f[g][0]=m,f[g+"_asArray"]=f[g]}for(var y=0;null!=f[g][y];)y++;var T;v=s(c);if("#text"!=g||/[^\s]/.test(v))(T={})[g]=v,d.push(T);f[g][y]=v}}f.__children=d;for(var w=0;w<o.attributes.length;w++){var E=o.attributes.item(w);f.__cnt++;for(var S=E.value,P=0,C=e.length;P<C;P++){var I=e[P];I.test(E)&&(S=I.converter(E.value))}f[t+E.name]=S}var x=i(o);return null!=x&&""!=x&&(f.__cnt++,f.__prefix=x),1==f.__cnt&&null!=f["#text"]&&(f=f["#text"]),null!=f["#text"]&&(f.__text=f["#text"],_&&(f.__text=a(f.__text)),delete f["#text"],delete f["#text_asArray"]),null!=f["#cdata-section"]&&(f.__cdata=f["#cdata-section"],delete f["#cdata-section"],delete f["#cdata-section_asArray"]),null==f.__text&&null==f.__cdata||(f.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),f}return o.nodeType==b.TEXT_NODE||o.nodeType==b.CDATA_SECTION_NODE?o.nodeValue:o.nodeType==b.COMMENT_NODE?null:void 0}function u(e,t,n,r){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];i+=" "+a.substr(1)+"='"+s+"'"}return i+(r?"/>":">")}function l(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function c(e,t){return-1!==e.indexOf(t,e.length-t.length)}function f(e,t){return!!(c(t.toString(),"_asArray")||0==t.toString().indexOf("_")||e[t]instanceof Function)}function d(e){var t=0;if(e instanceof Object)for(var n in e)f(e,n)||t++;return t}function p(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf("_")&&t.push(n);return t}function h(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=_?o(e.__text):e.__text),t}function g(e){var t="";return e instanceof Object?t+=h(e):null!=e&&(t+=_?o(e):e),t}function v(e,t,n){var r="";if(0==e.length)r+=u(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=u(e[i],t,p(e[i]),!1),r+=m(e[i]),r+=l(e[i],t);return r}function m(e){var t="";if(d(e)>0)for(var n in e)if(!f(e,n)){var r=e[n],i=p(r);if(null==r||null==r)t+=u(r,n,i,!0);else if(r instanceof Object)if(r instanceof Array)t+=v(r,n,i);else{d(r)>0||null!=r.__text||null!=r.__cdata?(t+=u(r,n,i,!1),t+=m(r),t+=l(r,n)):t+=u(r,n,i,!0)}else t+=u(r,n,i,!1),t+=g(r),t+=l(r,n)}return t+g(e)}null!=t||(t="_"),null!=n||(n=!1);var y="1.0.11",_=!1,b={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(e){var t,n,r;if(window.DOMParser){n=new window.DOMParser;try{r=n.parseFromString("<","text/xml").getElementsByTagName("parsererror")[0].namespaceURI}catch(i){}try{t=n.parseFromString(e,"text/xml"),r&&t.getElementsByTagNameNS(r,"parsererror").length&&(t=void 0)}catch(i){}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.xml2json=function(e){return s(e)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return t?this.xml2json(t):void 0},this.json2xml_str=function(e){return m(e)},this.json2xml=function(e){var t=this.json2xml_str(e);return this.parseXmlString(t)},this.getVersion=function(){return y},this.escapeMode=function(e){_=e}}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r,t.exports=n["default"]},{}],5:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(e(51)),o=r(e(106)),a=r(e(75)),s=r(e(53)),u=e(11),l=window||t,c=l.dashjs;c||(c=l.dashjs={}),c.MediaPlayer=i["default"],c.Protection=o["default"],c.MetricsReporting=a["default"],c.MediaPlayerFactory=s["default"],c.Version=(0,u.getVersionString)(),n["default"]=c,n.MediaPlayer=i["default"],n.Protection=o["default"],n.MetricsReporting=a["default"],n.MediaPlayerFactory=s["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{106:106,11:11,51:51,53:53,75:75}],6:[function(e,t,n){var r={parseBuffer:function(e){return new i(e).parse()},Utils:{}};r.Utils.dataViewToString=function(e,t){var n=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(n).decode(e);var r=[],i=0;if("utf-8"===n)for(;i<e.byteLength;){var o=e.getUint8(i++);o<128||(o<224?(o=(31&o)<<6,o|=63&e.getUint8(i++)):o<240?(o=(15&o)<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++)):(o=(7&o)<<18,o|=(63&e.getUint8(i++))<<12,o|=(63&e.getUint8(i++))<<6,o|=63&e.getUint8(i++))),r.push(String.fromCharCode(o))}else for(;i<e.byteLength;)r.push(String.fromCharCode(e.getUint8(i++)));return r.join("")},void 0!==n&&(n.parseBuffer=r.parseBuffer,n.Utils=r.Utils),r.Cursor=function(e){this.offset=void 0===e?0:e};var i=function(e){this._raw=new DataView(e),this._cursor=new r.Cursor,this.boxes=[]};i.prototype.fetch=function(e){var t=this.fetchAll(e,!0);return t.length?t[0]:null},i.prototype.fetchAll=function(e,t){var n=[];return i._sweep.call(this,e,n,t),n},i.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=o.parse(this);if("undefined"==typeof e.type)break;this.boxes.push(e)}return this},i._sweep=function(e,t,n){for(var r in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;i._sweep.call(this.boxes[r],e,t,n)}};var o=function(){this._cursor=new r.Cursor};o.parse=function(e){var t=new o;return t._offset=e._cursor.offset,t._root=e._root?e._root:e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},o.prototype._readInt=function(e){var t=null;switch(e){case 8:t=this._raw.getInt8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getInt16(this._cursor.offset-this._raw.byteOffset);break;case 32:t=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getInt32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readUint=function(e){var t=null;switch(e){case 8:t=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset);break;case 16:t=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset);break;case 24:t=((n=this._raw.getUint16(this._cursor.offset-this._raw.byteOffset))<<8)+(r=this._raw.getUint8(this._cursor.offset-this._raw.byteOffset+2));break;case 32:t=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset);break;case 64:var n=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset),r=this._raw.getUint32(this._cursor.offset-this._raw.byteOffset+4);t=n*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},o.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var r=this._readUint(8);t+=String.fromCharCode(r)}return t},o.prototype._readTerminatedString=function(){for(var e="";;){var t=this._readUint(8);if(0==t)break;e+=String.fromCharCode(t)}return e},o.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},o.prototype._parseBox=function(){if(this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this.size=this._readUint(32),this.type=this._readString(4),1==this.size&&(this.largesize=this._readUint(64)),"uuid"==this.type&&(this.usertype=this._readString(16)),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}!this._incomplete&&this._boxParsers[this.type]&&this._boxParsers[this.type].call(this)}},o.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},o.prototype._boxParsers={},["moov","trak","tref","mdia","minf","stbl","edts","dinf","mvex","moof","traf","mfra","udta","meco","strk","vttc"].forEach(function(e){o.prototype._boxParsers[e]=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(o.parse(this))}}),o.prototype._boxParsers.elst=function(){this._parseFullBox(),this.entry_count=this._readUint(32),this.entries=[];for(var e=1;e<=this.entry_count;e++){var t={};1==this.version?(t.segment_duration=this._readUint(64),t.media_time=this._readInt(64)):(t.segment_duration=this._readUint(32),t.media_time=this._readInt(32)),t.media_rate_integer=this._readInt(16),t.media_rate_fraction=this._readInt(16),this.entries.push(t)}},o.prototype._boxParsers.emsg=function(){this._parseFullBox(),this.scheme_id_uri=this._readTerminatedString(),this.value=this._readTerminatedString(),this.timescale=this._readUint(32),this.presentation_time_delta=this._readUint(32),this.event_duration=this._readUint(32),this.id=this._readUint(32),this.message_data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.free=o.prototype._boxParsers.skip=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.ftyp=o.prototype._boxParsers.styp=function(){for(this.major_brand=this._readString(4),this.minor_versions=this._readUint(32),this.compatible_brands=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.compatible_brands.push(this._readString(4))},o.prototype._boxParsers.hdlr=function(){this._parseFullBox(),this.pre_defined=this._readUint(32),this.handler_type=this._readString(4),this.reserved=[this._readUint(32),this._readUint(32),this._readUint(32)],this.name=this._readTerminatedString()},o.prototype._boxParsers.mdat=function(){this.data=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset))},o.prototype._boxParsers.mdhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32));var e=this._readUint(16);this.pad=e>>15,this.language=String.fromCharCode(96+(e>>10&31),96+(e>>5&31),96+(31&e)),this.pre_defined=this._readUint(16)},o.prototype._boxParsers.mfhd=function(){this._parseFullBox(),this.sequence_number=this._readUint(32)},o.prototype._boxParsers.mvhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.timescale=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.timescale=this._readUint(32),this.duration=this._readUint(32)),this.rate=this._readTemplate(32),this.volume=this._readTemplate(16),this.reserved1=this._readUint(16),this.reserved2=[this._readUint(32),this._readUint(32)],this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.pre_defined=[];for(e=0;e<6;e++)this.pre_defined.push(this._readUint(32));this.next_track_ID=this._readUint(32)},o.prototype._boxParsers.payl=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.cue_text=r.Utils.dataViewToString(e)},o.prototype._boxParsers.sidx=function(){this._parseFullBox(),this.reference_ID=this._readUint(32),this.timescale=this._readUint(32),0==this.version?(this.earliest_presentation_time=this._readUint(32),this.first_offset=this._readUint(32)):(this.earliest_presentation_time=this._readUint(64),this.first_offset=this._readUint(64)),this.reserved=this._readUint(16),this.reference_count=this._readUint(16),this.references=[];for(var e=0;e<this.reference_count;e++){var t={},n=this._readUint(32);t.reference_type=n>>31&1,t.referenced_size=2147483647&n,t.subsegment_duration=this._readUint(32);var r=this._readUint(32);t.starts_with_SAP=r>>31&1,t.SAP_type=r>>28&7,t.SAP_delta_time=268435455&r,this.references.push(t)}},o.prototype._boxParsers.ssix=function(){this._parseFullBox(),this.subsegment_count=this._readUint(32),this.subsegments=[];for(var e=0;e<this.subsegment_count;e++){var t={};t.ranges_count=this._readUint(32),t.ranges=[];for(var n=0;n<t.ranges_count;n++){var r={};r.level=this._readUint(8),r.range_size=this._readUint(24),t.ranges.push(r)}this.subsegments.push(t)}},o.prototype._boxParsers.tfdt=function(){this._parseFullBox(),1==this.version?this.baseMediaDecodeTime=this._readUint(64):this.baseMediaDecodeTime=this._readUint(32)},o.prototype._boxParsers.tfhd=function(){this._parseFullBox(),this.track_ID=this._readUint(32),1&this.flags&&(this.base_data_offset=this._readUint(64)),2&this.flags&&(this.sample_description_offset=this._readUint(32)),8&this.flags&&(this.default_sample_duration=this._readUint(32)),16&this.flags&&(this.default_sample_size=this._readUint(32)),32&this.flags&&(this.default_sample_flags=this._readUint(32))},o.prototype._boxParsers.tkhd=function(){this._parseFullBox(),1==this.version?(this.creation_time=this._readUint(64),this.modification_time=this._readUint(64),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(64)):(this.creation_time=this._readUint(32),this.modification_time=this._readUint(32),this.track_ID=this._readUint(32),this.reserved1=this._readUint(32),this.duration=this._readUint(32)),this.reserved2=[this._readUint(32),this._readUint(32)],this.layer=this._readUint(16),this.alternate_group=this._readUint(16),this.volume=this._readTemplate(16),this.reserved3=this._readUint(16),this.matrix=[];for(var e=0;e<9;e++)this.matrix.push(this._readTemplate(32));this.width=this._readUint(32),this.height=this._readUint(32)},o.prototype._boxParsers.trun=function(){this._parseFullBox(),this.sample_count=this._readUint(32),1&this.flags&&(this.data_offset=this._readInt(32)),4&this.flags&&(this.first_sample_flags=this._readUint(32)),this.samples=[];for(var e=0;e<this.sample_count;e++){var t={};256&this.flags&&(t.sample_duration=this._readUint(32)),512&this.flags&&(t.sample_size=this._readUint(32)),1024&this.flags&&(t.sample_flags=this._readUint(32)),2048&this.flags&&(0==this.version?t.sample_composition_time_offset=this._readUint(32):t.sample_composition_time_offset=this._readInt(32)),this.samples.push(t)}},o.prototype._boxParsers.vlab=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.source_label=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vttC=function(){var e=new DataView(this._raw.buffer,this._cursor.offset,this._raw.byteLength-(this._cursor.offset-this._offset));this.config=r.Utils.dataViewToString(e)},o.prototype._boxParsers.vtte=function(){}},{}],7:[function(e,t,n){var r=n.decimalAdjust=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))};t.exports={round10:function(e,t){return r("round",e,t)},floor10:function(e,t){return r("floor",e,t)},ceil10:function(e,t){return r("ceil",e,t)}},t.exports.polyfill=function(){Math.round10||(Math.round10=t.exports.round10),Math.floor10||(Math.floor10=t.exports.floor10),Math.ceil10||(Math.ceil10=t.exports.ceil10)}},{}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){c=!0,f=!0,d=(new Date).getTime()}function t(e){f=e}function n(e){c=e}function r(){return c}function i(){var e="",t=null;f&&(t=(new Date).getTime(),e+="["+(t-d)+"]"),e.length>0&&(e+=" "),Array.apply(null,arguments).forEach(function(t){e+=t+" "}),c&&console.log(e),u.trigger(a["default"].LOG,{message:e})}var s=this.context,u=(0,o["default"])(s).getInstance(),l=void 0,c=void 0,f=void 0,d=void 0;return l={log:i,setLogTimestampVisible:t,setLogToBrowserConsole:n,getLogToBrowserConsole:r},e(),l}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10));i.__dashjs_factory_name="Debug",n["default"]=s["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?a:arguments[3];if(!e)throw new Error("event type cannot be null or undefined");if(!t||"function"!=typeof t)throw new Error("listener must be a function: "+t);if(!(r(e,t,n)>=0)){o[e]=o[e]||[];var s={callback:t,scope:n,priority:i};o[e].some(function(t,n){if(i>t.priority)return o[e].splice(n,0,s),!0})||o[e].push(s)}}function t(e,t,n){if(e&&t&&o[e]){var i=r(e,t,n);i<0||o[e].splice(i,1)}}function n(e,t){if(e&&o[e]){if((t=t||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=e,o[e].forEach(function(e){return e.callback.call(e.scope,t)})}}function r(e,t,n){var r=-1;return o[e]?(o[e].some(function(e,i){if(e.callback===t&&(!n||n===e.scope))return r=i,!0}),r):r}function i(){o={}}var o={};return{on:e,off:t,trigger:n,reset:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=0,s=5e3;i.__dashjs_factory_name="EventBus";var u=o["default"].getSingletonFactory(i);u.EVENT_PRIORITY_LOW=a,u.EVENT_PRIORITY_HIGH=s,n["default"]=u,t.exports=n["default"]},{10:10}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t,n,r){var i=a(r);!i[e]&&t&&(i[e]={instance:t,override:n})}function t(e,t){for(var n in l){var r=l[n];if(r.context===e&&r.name===t)return r.instance}return null}function n(e,t,n){for(var r in l){var i=l[r];if(i.context===e&&i.name===t)return void(l[r].instance=n)}l.push({name:t,context:e,instance:n})}function r(e){return function(t){return void 0===t&&(t={}),{create:function(){return o(e.__dashjs_factory_name,e.apply({context:t},arguments),t,arguments)}}}}function i(e){return function(n){var r=void 0;return void 0===n&&(n={}),{getInstance:function(){return r||(r=t(n,e.__dashjs_factory_name)),r||(r=o(e.__dashjs_factory_name,e.apply({context:n},arguments),n,arguments),l.push({name:e.__dashjs_factory_name,context:n,instance:r})),r}}}}function o(e,t,n,r){var i=a(n)[e];if(i){var o=i.instance;if(!i.override)return o.apply({context:n,factory:s},r);for(var u in o=o.apply({context:n,factory:s,parent:t},r))t.hasOwnProperty(u)&&(t[u]=o[u])}return t}function a(e){var t=void 0;return u.forEach(function(n){n===e&&(t=n)}),t||(t=u.push(e)),t}var s=void 0,u=[],l=[];return s={extend:e,getSingletonInstance:t,setSingletonInstance:n,getSingletonFactory:i,getClassFactory:r}}();n["default"]=r,t.exports=n["default"]},{}],11:[function(e,t,n){"use strict";function r(){return i}Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionString=r;var i="2.3.0"},{}],12:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(14)),u=function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astinfuture",this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CHUNK_APPENDED="chunkAppended",this.CURRENT_TRACK_CHANGED="currenttrackchanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATED="representationUpdated",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_APPEND_COMPLETED="sourceBufferAppendCompleted",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.STREAM_INITIALIZED="streaminitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ALL_ELEMENTS_LOADED="xlinkAllElementsLoaded",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady"}return o(e,s["default"]),e}();n["default"]=u,t.exports=n["default"]},{14:14}],13:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(12)),u=new(function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return o(e,s["default"]),e}());n["default"]=u,
t.exports=n["default"]},{12:12}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){r(this,e)}return i(e,[{key:"extend",value:function(e,t){if(e){var n=!!t&&t.override,r=!!t&&t.publicOnly;for(var i in e)!e.hasOwnProperty(i)||this[i]&&!n||r&&-1===e[i].indexOf("public_")||(this[i]=e[i])}}}]),e}();n["default"]=o,t.exports=n["default"]},{}],15:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e){e&&e.dashManifestModel&&(R=e.dashManifestModel)}function t(){D=[],N={}}function n(e,t){return t.getRepresentationForQuality(e.quality)}function r(e){return N[e.streamInfo.id][e.index]}function i(e){for(var t=D.length,n=0;n<t;n++){var r=D[n];if(e.id===r.id)return r}return null}function o(e,t){var n=new a["default"],r=t.adaptation.period.mpd.manifest.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index],i=R.getRepresentationFor(t.index,r);return n.id=t.id,n.quality=t.index,n.bandwidth=R.getBandwidth(i),n.DVRWindow=t.segmentAvailabilityRange,n.fragmentDuration=t.segmentDuration||(t.segments&&t.segments.length>0?t.segments[0].duration:NaN),n.MSETimeOffset=t.MSETimeOffset,n.useCalculatedLiveEdgeTime=t.useCalculatedLiveEdgeTime,n.mediaInfo=f(e,t.adaptation),n}function f(e,t){var n,r=new s["default"],i=t.period.mpd.manifest.Period_asArray[t.period.index].AdaptationSet_asArray[t.index];return r.id=t.id,r.index=t.index,r.type=t.type,r.streamInfo=g(e,t.period),r.representationCount=R.getRepresentationCount(i),r.lang=R.getLanguageForAdaptation(i),n=R.getViewpointForAdaptation(i),r.viewpoint=n?n.value:void 0,r.accessibility=R.getAccessibilityForAdaptation(i).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&e.schemeIdUri.search("cea-608")>=0&&"undefined"!=typeof d["default"]&&(n=t?"cea-608:"+t:"cea-608",r.embeddedCaptions=!0),n}),r.audioChannelConfiguration=R.getAudioChannelConfigurationForAdaptation(i).map(function(e){return e.value}),r.roles=R.getRolesForAdaptation(i).map(function(e){return e.value}),r.codec=R.getCodec(i),r.mimeType=R.getMimeType(i),r.contentProtection=R.getContentProtectionData(i),r.bitrateList=R.getBitrateListForAdaptation(i),r.contentProtection&&r.contentProtection.forEach(function(e){e.KID=R.getKID(e)}),r.isText=R.getIsTextTrack(r.mimeType),r}function h(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type="embeddedText",e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=t+" "+n,e.roles=["caption"]}function g(e,t){var n=new u["default"],r=1;return n.id=t.id,n.index=t.index,n.start=t.start,n.duration=t.duration,n.manifestInfo=v(e,t.mpd),n.isLast=1===e.Period_asArray.length||Math.abs(n.start+n.duration-n.manifestInfo.duration)<r,n.isFirst=1===e.Period_asArray.length||R.getRegularPeriods(e,R.getMpd(e))[0].id===t.id,n}function v(e,t){var n=new l["default"];return n.DVRWindowSize=t.timeShiftBufferDepth,n.loadedTime=t.manifest.loadedTime,n.availableFrom=t.availabilityStartTime,n.minBufferTime=t.manifest.minBufferTime,n.maxFragmentDuration=t.maxSegmentDuration,n.duration=R.getDuration(e),n.isDynamic=R.getIsDynamic(e),n}function m(e,t,n){var r=R.getAdaptationForType(e,t.index,n,t);if(!r)return null;var o=i(t),a=o.id,s=R.getIndexForAdaptation(r,e,t.index);return N[a]=N[a]||R.getAdaptationsForPeriod(e,o),f(e,N[a][s])}function y(e,t,n){var r,o,a,s,u,l,c=i(t),d=c.id,p=R.getAdaptationsForType(e,t.index,"embeddedText"!==n?n:"video"),g=[];if(!p)return g;for(N[d]=N[d]||R.getAdaptationsForPeriod(e,c),s=0,l=p.length;s<l;s++){if(r=p[s],a=R.getIndexForAdaptation(r,e,t.index),o=f(e,N[d][a]),"embeddedText"===n){var v=o.accessibility.length;for(u=0;u<v;u++)if(o){var m=o.accessibility[u];if(0===m.indexOf("cea-608:")){var y=m.substring(8).split(";");if("CC"===y[0].substring(0,2))for(u=0;u<y.length;u++)o||(o=f.call(this,e,N[d][a])),h(o,y[u].substring(0,3),y[u].substring(4)),g.push(o),o=null;else for(u=0;u<y.length;u++)o||(o=f.call(this,e,N[d][a])),h(o,"CC"+(u+1),y[u]),g.push(o),o=null}else 0===m.indexOf("cea-608")&&(h(o,"CC1","eng"),g.push(o),o=null)}}o&&"embeddedText"!==n&&g.push(o)}return g}function _(e){var t,n,r,i=[];if(!e)return null;for(t=R.getMpd(e),D=R.getRegularPeriods(e,t),t.checkTime=R.getCheckTime(e,D[0]),N={},n=D.length,r=0;r<n;r++)i.push(g(e,D[r]));return i}function b(e){return v(e,R.getMpd(e))}function T(e,t){var n=e.getRepresentationController().getRepresentationForQuality(t);return e.getIndexHandler().getInitRequest(n)}function w(e,t){var r=n(t,e.getRepresentationController());return e.getIndexHandler().getNextSegmentRequest(r)}function E(e,t,r,i){var o=n(t,e.getRepresentationController());return e.getIndexHandler().getSegmentRequestForTime(o,r,i)}function S(e,t,r){var i=n(t,e.getRepresentationController());return e.getIndexHandler().generateSegmentRequestForTime(i,r)}function P(e){return e.getIndexHandler().getCurrentTime()}function C(e,t){return e.getIndexHandler().setCurrentTime(t)}function I(e,t){var n,o,a=i(t.getStreamInfo()),s=t.getMediaInfo(),u=r(s),l=t.getType();o=(n=s.id)?R.getAdaptationForId(n,e,a.index):R.getAdaptationForIndex(s.index,e,a.index),t.getRepresentationController().updateData(o,u,l)}function x(e,t,n){var r=t.getRepresentationForQuality(n);return r?o(e,r):null}function A(e,t){var n=t.getCurrentRepresentation();return n?o(e,n):null}function O(e,t,n){var r=new c["default"],i=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,u=e.event_duration,l=e.id,f=e.message_data,d=n*a+s;return t[i]?(r.eventStream=t[i],r.eventStream.value=o,r.eventStream.timescale=a,r.duration=u,r.id=l,r.presentationTime=d,r.messageData=f,r.presentationTimeDelta=s,r):null}function k(e,t,o){var l=[];return t instanceof u["default"]?l=R.getEventsForPeriod(e,i(t)):t instanceof s["default"]?l=R.getEventStreamForAdaptationSet(e,r(t)):t instanceof a["default"]&&(l=R.getEventStreamForRepresentation(e,n(t,o.getRepresentationController()))),l}function M(){D=[],N={}}var R=void 0,D=void 0,N=void 0;return{initialize:t,convertDataToTrack:o,convertDataToMedia:f,convertDataToStream:g,getDataForTrack:n,getDataForMedia:r,getDataForStream:i,getStreamsInfo:_,getManifestInfo:b,getMediaInfoForType:m,getAllMediaInfoForType:y,getCurrentRepresentationInfo:A,getRepresentationInfoForQuality:x,updateData:I,getInitRequest:T,getNextFragmentRequest:w,getFragmentRequestForTime:E,generateFragmentRequestForTime:S,getIndexHandlerTime:P,setIndexHandlerTime:C,getEventsFor:k,getEvent:O,setConfig:e,reset:M,metricsList:p}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(e(172)),s=i(e(167)),u=i(e(169)),l=i(e(166)),c=i(e(41)),f=i(e(10)),d=i(e(2)),p=r(e(20));o.__dashjs_factory_name="DashAdapter",n["default"]=f["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10,166:166,167:167,169:169,172:172,2:2,20:20,41:41}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){K=-1,X=0,$=NaN,F.on(u["default"].INITIALIZATION_LOADED,D,G),F.on(u["default"].SEGMENTS_LOADED,N,G)}function n(t){Q=(J=t).getType(),W=J.isDynamic(),Z=(0,h["default"])(L).create(e,W)}function r(){return J}function i(e){X=e}function c(){return X}function v(){return K}function m(){return $}function y(){Z=null,X=0,$=NaN,Y=NaN,K=-1,W=null,Q=null,J=null,F.off(u["default"].INITIALIZATION_LOADED,D,G),F.off(u["default"].SEGMENTS_LOADED,N,G)}function _(e){return e.split("$$").join("$")}function b(e,t){if(null===t||-1===e.indexOf("$RepresentationID$"))return e;var n=t.toString();return e.split("$RepresentationID$").join(n)}function T(e,t,n){var r,i,o=q.resolve(n.path);return o&&t!==o.url&&B.isRelative(t)?(r=o.url,i=o.serviceLocation,t&&(r+=t)):r=t,!B.isRelative(r)&&(e.url=r,e.serviceLocation=i,!0)}function w(e,t){var n,r,i=new o["default"];if(n=e.adaptation.period,i.mediaType=t,i.type=s.HTTPRequest.INIT_SEGMENT_TYPE,i.range=e.range,r=n.start,i.availabilityStartTime=H.calcAvailabilityStartTimeFromPresentationTime(r,e.adaptation.period.mpd,W),i.availabilityEndTime=H.calcAvailabilityEndTimeFromPresentationTime(r+n.duration,n.mpd,W),i.quality=e.index,i.mediaInfo=J.getMediaInfo(),T(i,e.initialization,e))return i}function E(e){return e?w(e,Q):null}function S(e){var t,n,r,i=e.adaptation.period,o=e.segmentInfoType,a=!1;return K<0?a=!1:W||K<e.availableSegmentsNumber?(n=(0,p.getSegmentByIndex)(K,e))&&(r=n.presentationStartTime-i.start,t=e.adaptation.period.duration,j(e.segmentInfoType+": "+r+" / "+t),a=("SegmentTimeline"!==o||!W)&&r>=t):a=!0,a}function P(e){return Z.getSegments(e,Y,K,C)}function C(e,t){if(e.segments=t,t&&t.length>0&&($=isNaN($)?t[0].presentationStartTime:Math.min(t[0].presentationStartTime,$)),W&&isNaN(H.getExpectedLiveEdge())){var n=t[t.length-1].presentationStartTime,r=z.getMetricsFor("stream");H.setExpectedLiveEdge(n),z.updateManifestUpdateInfo(V.getCurrentManifestUpdate(r),{presentationStartTime:n})}}function I(e){if(!e)throw new a["default"]("no representation");return e.segments=null,P(e),e}function x(e,t){var n,r=e.initialization,i="BaseURL"!==e.segmentInfoType&&"SegmentBase"!==e.segmentInfoType&&!e.indexRange;return e.segmentDuration||e.segments||I(e),e.segmentAvailabilityRange=null,e.segmentAvailabilityRange=H.calcSegmentAvailabilityRange(e,W),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?(n=new a["default"](g,"no segments are available yet",{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end}),void F.trigger(u["default"].REPRESENTATION_UPDATED,{sender:this,representation:e,error:n})):(t||(K=-1),e.segmentDuration&&I(e),r||U.loadInitialization(e),i||U.loadSegments(e,Q,e.indexRange),void(r&&i&&F.trigger(u["default"].REPRESENTATION_UPDATED,{sender:this,representation:e})))}function A(e,t,n){var r,i,o,a,s,u=t.segments,l=u?u.length:null,c=-1;if(u&&l>0)for(s=0;s<l;s++)if(o=(i=u[s]).presentationStartTime,a=i.duration,e+(r=null==n?a/2:n)>=o&&e-r<o+a){c=i.availabilityIdx;break}return c}function O(e){if(null==e)return null;var t=new o["default"],n=e.representation,r=n.adaptation.period.mpd.manifest.Period_asArray[n.adaptation.period.index].AdaptationSet_asArray[n.adaptation.index].Representation_asArray[n.index].bandwidth,i=e.media;return i=(0,p.replaceTokenForTemplate)(i,"Number",e.replacementNumber),i=(0,p.replaceTokenForTemplate)(i,"Time",e.replacementTime),i=_(i=b(i=(0,p.replaceTokenForTemplate)(i,"Bandwidth",r),n.id)),t.mediaType=Q,t.type=s.HTTPRequest.MEDIA_SEGMENT_TYPE,t.range=e.mediaRange,t.startTime=e.presentationStartTime,t.duration=e.duration,t.timescale=n.timescale,t.availabilityStartTime=e.availabilityStartTime,t.availabilityEndTime=e.availabilityEndTime,t.wallStartTime=e.wallStartTime,t.quality=n.index,t.index=e.availabilityIdx,t.mediaInfo=J.getMediaInfo(),t.adaptationIndex=n.adaptation.index,T(t,i,n)?t:void 0}function k(e,t,n){var r,i=K,a=!!n&&n.keepIdx,s=n?n.timeThreshold:null,u=!(!n||!n.ignoreIsFinished);return e?(Y!==t&&(Y=t,j("Getting the request for "+Q+" time : "+t)),K=A(t,e,s),P(e),K<0&&(K=A(t,e,s)),K>0&&j("Index for "+Q+" time "+t+" is "+K),!u&&S(e)?((r=new o["default"]).action=o["default"].ACTION_COMPLETE,r.index=K,r.mediaType=Q,r.mediaInfo=J.getMediaInfo(),j("Signal complete.",r)):r=O((0,p.getSegmentByIndex)(K,e)),a&&i>=0&&(K="SegmentTimeline"===e.segmentInfoType&&W?K:i),r):null}function M(e,t){var n=(e.segmentAvailabilityRange.end-e.segmentAvailabilityRange.start)/2;return e.segments=null,e.segmentAvailabilityRange={start:t-n,end:t+n},k(e,t,{keepIdx:!1,ignoreIsFinished:!0})}function R(e){var t,n;return e&&-1!==K?(Y=null,j("Getting the next request at index: "+ ++K),S(e)?((t=new o["default"]).action=o["default"].ACTION_COMPLETE,t.index=K,t.mediaType=Q,t.mediaInfo=J.getMediaInfo(),j("Signal complete.")):(P(e),t=O(n=(0,p.getSegmentByIndex)(K,e)),!n&&W&&K--),t):null}function D(e){var t=e.representation;t.segments&&F.trigger(u["default"].REPRESENTATION_UPDATED,{sender:this,representation:t})}function N(e){if(!e.error&&Q===e.mediaType){var t,n,r,i,o=e.segments,a=e.representation,s=[],l=0;for(t=0,n=o.length;t<n;t++)r=o[t],i=(0,p.getTimeBasedSegment)(H,W,a,r.startTime,r.duration,r.timescale,r.media,r.mediaRange,l),s.push(i),i=null,l++;a.segmentAvailabilityRange={start:s[0].presentationStartTime,end:s[n-1].presentationStartTime},a.availableSegmentsNumber=n,C(a,s),a.initialization&&F.trigger(u["default"].REPRESENTATION_UPDATED,{sender:this,representation:a})}}var L=this.context,j=(0,f["default"])(L).getInstance().log,F=(0,l["default"])(L).getInstance(),B=(0,d["default"])(L).getInstance(),U=e.segmentBaseLoader,H=e.timelineConverter,V=e.dashMetrics,z=e.metricsModel,q=e.baseURLController,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0;return G={initialize:n,getStreamProcessor:r,getInitRequest:E,getSegmentRequestForTime:k,getNextSegmentRequest:R,generateSegmentRequestForTime:M,updateRepresentation:x,setCurrentTime:i,getCurrentTime:c,getCurrentIndex:v,getEarliestTime:m,reset:y},t(),G}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(163)),a=r(e(162)),s=e(179),u=r(e(13)),l=r(e(9)),c=r(e(10)),f=r(e(8)),d=r(e(158)),p=e(35),h=r(e(34)),g=1;i.__dashjs_factory_name="DashHandler";var v=c["default"].getClassFactory(i);v.SEGMENTS_UNAVAILABLE_ERROR_CODE=g,n["default"]=v,t.exports=n["default"]},{10:10,13:13,158:158,162:162,163:163,179:179,34:34,35:35,8:8,9:9}],17:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}function o(){function e(e,t){var n;return null===(n=E(I.getValue().Period_asArray[t],e))?null:n.bandwidth}function t(e,t){return w(I.getValue().Period_asArray[t],e)}function n(e,t){return P(I.getValue().Period_asArray[t],e)}function r(e){return h(e,c.TRACK_SWITCH)}function i(e){return h(e,c.BUFFER_LEVEL)}function o(e){var t=i(e);return t?(0,f.round10)(t.level/1e3,-3):0}function l(e){return e.RequestsQueue}function d(e){if(null===e)return null;var t,n=e.HttpList,r=null;if(null===n||n.length<=0)return null;for(t=n.length-1;t>=0;){if(n[t].responsecode){r=n[t];break}t--}return r}function p(e){return null===e?[]:e.HttpList?e.HttpList:[]}function h(e,t){if(null===e)return null;var n=e[t];if(null===n)return null;var r=n.length;return r<=0?null:n[r-1]}function g(e){return h(e,c.DROPPED_FRAMES)}function v(e){return h(e,c.SCHEDULING_INFO)}function m(e){return h(e,c.MANIFEST_UPDATE)}function y(e){return h(e,c.DVR_INFO)}function _(e,t){var n,r,i,o={};if(null===e)return null;for(i=(n=p(e)).length-1;i>=0;i--)if((r=n[i]).type===a.HTTPRequest.MPD_TYPE){o=T(r._responseHeaders);break}return void 0===o[t]?null:o[t]}function b(e,t){if(null===e)return null;var n,r=d(e);return null===r||null===r._responseHeaders?null:void 0===(n=T(r._responseHeaders))[t]?null:n[t]}function T(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0,i=n.length;r<i;r++){var o=n[r],a=o.indexOf(": ");a>0&&(t[o.substring(0,a)]=o.substring(a+2))}return t}function w(e,t){var n=E(e,t,!0);return null!==n?n:-1}function E(e,t,n){var r,i,o,a,s;for(r=e.AdaptationSet_asArray,a=0;a<r.length;a+=1)for(o=r[a].Representation_asArray,s=0;s<o.length;s+=1)if(t===(i=o[s]).id)return n?s:i;return null}function S(e,t){return(0,u["default"])(C).getInstance().getIsTypeOf(e,t)}function P(e,t){var n,r,i,o;if(!e||!t)return-1;for(r=e.AdaptationSet_asArray,o=0;o<r.length;o+=1)if(i=(n=r[o]).Representation_asArray,S(n,t))return i.length;return-1}var C=this.context,I=(0,s["default"])(C).getInstance();return{getBandwidthForRepresentation:e,getIndexForRepresentation:t,getMaxIndexForBufferType:n,getCurrentRepresentationSwitch:r,getLatestBufferLevelVO:i,getCurrentBufferLevel:o,getCurrentHttpRequest:d,getHttpRequests:p,getCurrentDroppedFrames:g,getCurrentSchedulingInfo:v,getCurrentDVRInfo:y,getCurrentManifestUpdate:m,getLatestFragmentRequestHeaderValueByID:b,getLatestMPDRequestHeaderValueByID:_,getRequestsQueue:l}}Object.defineProperty(n,"__esModule",{value:!0});var a=e(179),s=i(e(100)),u=i(e(22)),l=i(e(10)),c=r(e(20)),f=e(7);o.__dashjs_factory_name="DashMetrics",n["default"]=l["default"].getSingletonFactory(o),t.exports=n["default"]},{10:10,100:100,179:179,20:20,22:22,7:7}],18:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){b=(0,u["default"])(m).getInstance(),T=(0,f["default"])(m).getInstance(),w=(0,o["default"])(m).getInstance()}function t(e){e.baseURLController&&(E=e.baseURLController)}function n(e,t){var r=!0,i=null,o=null,a=new XMLHttpRequest,s=E.resolve(e.path),u=t||{url:s?s.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,request:a};y("Start searching for initialization."),a.onload=function(){a.status<200||a.status>299||(r=!1,u.bytesLoaded=u.range.end,o=T.parse(a.response),(i=h(o))?(e.range=i,e.initialization=u.url,_.trigger(l["default"].INITIALIZATION_LOADED,{representation:e})):(u.range.end=u.bytesLoaded+u.bytesToLoad,n(e,u)))},a.onloadend=a.onerror=function(){r&&(r=!1,b.downloadError("initialization",u.url,a),_.trigger(l["default"].INITIALIZATION_LOADED,{representation:e}))},g(a,u),y("Perform init search: "+u.url)}function r(e,t,n,i,o){if(n&&(void 0===n.start||void 0===n.end)){var a=n?n.toString().split("-"):null;n=a?{start:parseFloat(a[0]),end:parseFloat(a[1])}:null}o=o||v;var s=!0,u=null,l=null,c=!!n,f=new XMLHttpRequest,p=E.resolve(e.path),h={url:p?p.url:void 0,range:c?n:{start:0,end:1500},searching:!c,bytesLoaded:i?i.bytesLoaded:0,bytesToLoad:1500,request:f};f.onload=function(){if(!(f.status<200||f.status>299)){var n=h.bytesToLoad,i=f.response.byteLength;if(s=!1,h.bytesLoaded=h.range.end-h.range.start,u=T.parse(f.response),(l=u.getBox("sidx"))&&l.isComplete){var a,c,p=l.references;if(null!=p&&p.length>0&&(a=1===p[0].reference_type),a){y("Initiate multiple SIDX load."),h.range.end=h.range.start+l.size;var g,v,m,_,b=[],w=0,E=(l.offset||h.range.start)+l.size,S=function(n){n?(b=b.concat(n),++w>=v&&o(b,e,t)):o(null,e,t)};for(g=0,v=p.length;g<v;g++)m=E,_=E+p[g].referenced_size-1,E+=p[g].referenced_size,r(e,null,{start:m,end:_},h,S)}else y("Parsing segments from SIDX."),c=d(l,h),o(c,e,t)}else{if(l)h.range.start=l.offset||h.range.start,h.range.end=h.range.start+(l.size||n);else{if(i<h.bytesLoaded)return void o(null,e,t);var P=u.getLastBox();P&&P.size?(h.range.start=P.offset+P.size,h.range.end=h.range.start+n):h.range.end+=n}r(e,t,h.range,h,o)}}},f.onloadend=f.onerror=function(){s&&(s=!1,b.downloadError("SIDX",h.url,f),o(null,e,t))},g(f,h),y("Perform SIDX load: "+h.url)}function i(){b=null,T=null,w=null,y=null}function d(e,t){for(var n,r,i,o,s=e.references,u=s.length,l=e.timescale,c=e.earliest_presentation_time,f=t.range.start+e.offset+e.first_offset+e.size,d=[],p=0;p<u;p++)i=s[p].subsegment_duration,o=s[p].referenced_size,(n=new a["default"]).duration=i,n.media=t.url,n.startTime=c,n.timescale=l,r=f+o-1,n.mediaRange=f+"-"+r,d.push(n),c+=i,f+=o;return d}function h(e){var t,n,r=e.getBox("ftyp"),i=e.getBox("moov"),o=null;return y("Searching for initialization."),i&&i.isComplete&&(t=r?r.offset:i.offset,n=i.offset+i.size-1,y("Found the initialization.  Range: "+(o=t+"-"+n))),o}function g(e,t){t.url&&(e.open("GET",w.modifyRequestURL(t.url)),e.responseType="arraybuffer",e.setRequestHeader("Range","bytes="+t.range.start+"-"+t.range.end),(e=w.modifyRequestHeader(e)).send(null))}function v(e,t,n){e?_.trigger(l["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):_.trigger(l["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new s["default"](null,"error loading segments",null)})}var m=this.context,y=(0,p["default"])(m).getInstance().log,_=(0,c["default"])(m).getInstance(),b=void 0,T=void 0,w=void 0,E=void 0;return{setConfig:t,initialize:e,loadInitialization:n,loadSegments:r,reset:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(156)),a=r(e(46)),s=r(e(162)),u=r(e(151)),l=r(e(13)),c=r(e(9)),f=r(e(146)),d=r(e(10)),p=r(e(8));i.__dashjs_factory_name="SegmentBaseLoader",n["default"]=d["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,146:146,151:151,156:156,162:162,46:46,8:8,9:9}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){P={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"},CueBlockNumber:{tag:21368}}}}},Void:{tag:236,required:!0}}}function t(){C=(0,c["default"])(T).getInstance(),I=(0,f["default"])(T).getInstance(),A=(0,g["default"])(T).create({errHandler:C,metricsModel:x,requestModifier:I})}function n(e){if(!e.baseURLController||!e.metricsModel)throw new Error("Missing config parameter(s)");O=e.baseURLController,x=e.metricsModel}function r(e){var t=[],n=void 0,r=void 0,i=void 0,o=(0,s["default"])(T).create({data:e}),a=void 0;for(o.consumeTag(P.Segment.Cues),r=o.getMatroskaCodedNum();o.moreData()&&o.consumeTagAndSize(P.Segment.Cues.CuePoint,!0);){for((n={}).CueTime=o.parseTag(P.Segment.Cues.CuePoint.CueTime),n.CueTracks=[];o.moreData()&&o.consumeTagAndSize(P.Segment.Cues.CuePoint.CueTrackPositions,!0);){if((i={}).Track=o.parseTag(P.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===i.Track)throw new Error("Cue track cannot be 0");i.ClusterPosition=o.parseTag(P.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),o.getPos()+4>r||!o.consumeTag(P.Segment.Cues.CuePoint.CueTrackPositions.CueBlockNumber,!0)?n.CueTracks.push(i):(a=o.getMatroskaCodedNum(),i.BlockNumber=o.getMatroskaUint(a),n.CueTracks.push(i))}if(0===n.CueTracks.length)throw new Error("Mandatory cuetrack not found");t.push(n)}if(0===t.length)throw new Error("mandatory cuepoint not found");return t}function i(e,t,n,i,o){var a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,p=void 0,h=void 0;for(u=[],c=0,f=(s=r(e)).length;c<f;c+=1)l=new d["default"],a=0,a=c<s.length-1?s[c+1].CueTime-s[c].CueTime:o-s[c].CueTime,l.duration=a,l.media=t,l.startTime=s[c].CueTime,l.timescale=1e3,p=s[c].CueTracks[0].ClusterPosition+n,h=c<s.length-1?s[c+1].CueTracks[0].ClusterPosition+n-1:i-1,l.mediaRange=p+"-"+h,u.push(l);return w("Parsed cues: "+u.length+" cues."),u}function u(e,t,n,r){var o=(0,s["default"])(T).create({data:e}),a=void 0,u=void 0,l=n.split("-"),c=null,f={url:t,range:{start:parseFloat(l[0]),end:parseFloat(l[1])},request:c},d=void 0,p=void 0;for(w("Parse EBML header: "+f.url),o.skipOverElement(P.EBML),o.consumeTag(P.Segment),d=o.getMatroskaCodedNum(),d+=o.getPos(),p=o.getPos();o.moreData()&&!o.consumeTagAndSize(P.Segment.Info,!0);)if(!(o.skipOverElement(P.Segment.SeekHead,!0)||o.skipOverElement(P.Segment.Tracks,!0)||o.skipOverElement(P.Segment.Cues,!0)||o.skipOverElement(P.Void,!0)))throw new Error("no valid top level element found");for(;void 0===a;){var h=o.getMatroskaCodedNum(!0),g=o.getMatroskaCodedNum();switch(h){case P.Segment.Info.Duration.tag:a=o[P.Segment.Info.Duration.parse](g);break;default:o.setPos(o.getPos()+g)}}c=_(f);var v=function(e){u=i(e,f.url,p,d,a),r(u)},m=function(){w("Download Error: Cues "+f.url),r(null)};A.load({request:c,success:v,error:m}),w("Perform cues load: "+f.url+" bytes="+f.range.start+"-"+f.range.end)}function v(e,t){var n=null,r=O.resolve(e.path),i=r?r.url:void 0,a=e.range.split("-"),s=t||{range:{start:parseFloat(a[0]),end:parseFloat(a[1])},request:n,url:i,init:!0};w("Start loading initialization."),n=_(s);var u=function(){e.initialization=s.url,E.trigger(o["default"].INITIALIZATION_LOADED,{representation:e})},l=function(){E.trigger(o["default"].INITIALIZATION_LOADED,{representation:e})};A.load({request:n,success:u,error:l}),w("Perform init load: "+s.url)}function m(e,t,n,r){var i=null,o=O.resolve(e.path),a=o?o.url:void 0,s=8192;r=r||y,i=_({bytesLoaded:0,bytesToLoad:s,range:{start:0,end:s},request:i,url:a,init:!1}),w("Parsing ebml header");var l=function(i){u(i,a,n,function(n){r(n,e,t)})},c=function(){r(null,e,t)};A.load({request:i,success:l,error:c})}function y(e,t,n){e?E.trigger(o["default"].SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):E.trigger(o["default"].SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new Error(null,"error loading segments",null)})}function _(e){var t=new h["default"];return t.type=e.init?p.HTTPRequest.INIT_SEGMENT_TYPE:p.HTTPRequest.MEDIA_SEGMENT_TYPE,t.url=e.url,t.range=e.range.start+"-"+e.range.end,t}function b(){C=null,I=null,w=null}var T=this.context,w=(0,l["default"])(T).getInstance().log,E=(0,a["default"])(T).getInstance(),S=void 0,P=void 0,C=void 0,I=void 0,x=void 0,A=void 0,O=void 0;return S={setConfig:n,initialize:t,loadInitialization:v,loadSegments:m,reset:b},e(),S}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(13)),a=r(e(9)),s=r(e(150)),u=r(e(10)),l=r(e(8)),c=r(e(151)),f=r(e(156)),d=r(e(46)),p=e(179),h=r(e(163)),g=r(e(58));i.__dashjs_factory_name="WebmSegmentBaseLoader",n["default"]=u["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,150:150,151:151,156:156,163:163,179:179,46:46,58:58,8:8,9:9}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="TcpList";n.TCP_CONNECTION=r;var i="HttpList";n.HTTP_REQUEST=i;var o="RepSwitchList";n.TRACK_SWITCH=o;var a="BufferLevel";n.BUFFER_LEVEL=a;var s="BufferState";n.BUFFER_STATE=s;var u="DVRInfo";n.DVR_INFO=u;var l="DroppedFrames";n.DROPPED_FRAMES=l;var c="SchedulingInfo";n.SCHEDULING_INFO=c;var f="RequestsQueue";n.REQUESTS_QUEUE=f;var d="ManifestUpdate";n.MANIFEST_UPDATE=d;var p="ManifestUpdatePeriodInfo";n.MANIFEST_UPDATE_STREAM_INFO=p;var h="ManifestUpdateRepresentationInfo";n.MANIFEST_UPDATE_TRACK_INFO=h;var g="PlayList";n.PLAY_LIST=g;var v="DVBErrors";n.DVB_ERRORS=v},{}],21:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){H=null,V=-1,z=!0,q=[],Y=(0,u["default"])(F).getInstance(),Q=(0,c["default"])(F).getInstance(),X=(0,l["default"])(F).getInstance(),$=(0,f["default"])(F).getInstance(),J=(0,d["default"])(F).getInstance(),Z=(0,h["default"])(F).getInstance(),ee=(0,s["default"])(F).getInstance(),te=(0,o["default"])(F).getInstance(),ne=(0,a["default"])(F).getInstance(),(0,p["default"])(F).getInstance(),B.on(m["default"].QUALITY_CHANGE_REQUESTED,L,U),B.on(m["default"].REPRESENTATION_UPDATED,M,U),B.on(m["default"].WALLCLOCK_TIME_UPDATED,R,U),B.on(m["default"].BUFFER_LEVEL_UPDATED,N,U),B.on(m["default"].LIVE_EDGE_SEARCH_COMPLETED,D,U)}function t(e){e.abrController&&(Y=e.abrController)}function n(e){W=(K=e).getIndexHandler()}function r(){return K}function i(){return H}function y(){return V}function _(){return z}function b(){return G}function T(){B.off(m["default"].QUALITY_CHANGE_REQUESTED,L,U),B.off(m["default"].REPRESENTATION_UPDATED,M,U),B.off(m["default"].WALLCLOCK_TIME_UPDATED,R,U),B.off(m["default"].BUFFER_LEVEL_UPDATED,N,U),B.off(m["default"].LIVE_EDGE_SEARCH_COMPLETED,D,U),H=null,V=-1,z=!0,q=[],Y=null,Q=null,X=null,$=null,J=null,Z=null,ee=null,te=null,ne=null,null}function w(e,t,n){var r,i=null,o=K.getStreamInfo(),a=Y.getTopQualityIndexFor(n,o.id);if(z=!0,B.trigger(m["default"].DATA_UPDATE_STARTED,{sender:this}),q=x(t),null===H&&"fragmentedText"!==n?(i=Y.getAverageThroughput(n)||Y.getInitialBitrateFor(n,o),r=Y.getQualityForBitrate(K.getMediaInfo(),i)):r=Y.getQualityFor(n,o),r>a&&(r=a),G=P(r),H=e,"video"!==n&&"audio"!==n&&"fragmentedText"!==n)return z=!1,void B.trigger(m["default"].DATA_UPDATE_COMPLETED,{sender:this,data:H,currentRepresentation:G});for(var s=0;s<q.length;s++)W.updateRepresentation(q[s],!0)}function E(){var e=new Date,t=b(),n=1e3*X.getTime();J.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function S(){var e=ee.calcSegmentAvailabilityRange(G,K.isDynamic());J.addDVRInfo(K.getType(),X.getTime(),K.getStreamInfo().manifestInfo,e)}function P(e){return q[e]}function C(e){return q.indexOf(e)}function I(){for(var e=0,t=q.length;e<t;e++){var n=q[e].segmentInfoType;if(null===q[e].segmentAvailabilityRange||null===q[e].initialization||("SegmentBase"===n||"BaseURL"===n)&&!q[e].segments)return!1}return!0}function x(e){var t=$.getValue();return V=te.getIndexForAdaptation(H,t,e.period.index),te.getRepresentationsForAdaptation(t,e)}function A(e){for(var t,n=0,r=q.length;n<r;n++)(t=q[n]).segmentAvailabilityRange=ee.calcSegmentAvailabilityRange(t,e)}function O(){q.forEach(function(e){e.segmentAvailabilityRange=null})}function k(e){var t=e,n=function(){if(!_()){z=!0,B.trigger(m["default"].DATA_UPDATE_STARTED,{sender:U}),O();for(var e=0;e<q.length;e++)W.updateRepresentation(q[e],!0)}};z=!1,B.trigger(m["default"].AST_IN_FUTURE,{delay:t}),setTimeout(n,t)}function M(e){if(e.sender.getStreamProcessor()===K&&_()){var t,n,r=e.representation,i=J.getMetricsFor("stream"),o=J.getMetricsFor(b().adaptation.type),a=ne.getCurrentManifestUpdate(i),s=!1,u=0;if("dynamic"===r.adaptation.period.mpd.manifest.type){var l=r.segmentAvailabilityRange.end-r.segmentAvailabilityRange.start;u=1e3*(X.computeLiveDelay(G.segmentDuration,K.getStreamInfo().manifestInfo.DVRWindowSize)-l)}if(u>0)return S(),k(u),n=new g["default"](j,"Segments update failed",null),void B.trigger(m["default"].DATA_UPDATE_COMPLETED,{sender:this,data:H,currentRepresentation:G,error:n});if(a){for(var c=0;c<a.trackInfo.length;c++)if((t=a.trackInfo[c]).index===r.index&&t.mediaType===K.getType()){s=!0;break}s||J.addManifestUpdateRepresentationInfo(a,r.id,r.index,r.adaptation.period.index,K.getType(),r.presentationTimeOffset,r.startNumber,r.segmentInfoType)}I()&&(z=!1,Y.setPlaybackQuality(K.getType(),K.getStreamInfo(),C(G)),J.updateManifestUpdateInfo(a,{latency:G.segmentAvailabilityRange.end-X.getTime()}),ne.getCurrentRepresentationSwitch(o)||E(),B.trigger(m["default"].DATA_UPDATE_COMPLETED,{sender:this,data:H,currentRepresentation:G}))}}function R(e){e.isDynamic&&A(e.isDynamic)}function D(e){if(!e.error){A(!0),W.updateRepresentation(G,!1);var t=$.getValue(),n=G.adaptation.period,r=Q.getActiveStreamInfo();r.isLast&&(n.mpd.checkTime=te.getCheckTime(t,n),n.duration=te.getEndTimeForLastPeriod($.getValue(),n)-n.start,r.duration=n.duration)}}function N(e){e.sender.getStreamProcessor()===K&&S()}function L(e){e.mediaType===K.getType()&&K.getStreamInfo().id===e.streamInfo.id&&e.oldQuality!==e.newQuality&&(G=P(e.newQuality),Z.setSavedBitrateSettings(e.mediaType,G.bandwidth),E())}var j=1,F=this.context,B=(0,v["default"])(F).getInstance(),U=void 0,H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0;return U={initialize:n,setConfig:t,getData:i,getDataIndex:y,isUpdating:_,updateData:w,getStreamProcessor:r,getCurrentRepresentation:b,getRepresentationForQuality:P,reset:T},e(),U}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(22)),a=r(e(17)),s=r(e(37)),u=r(e(60)),l=r(e(68)),c=r(e(71)),f=r(e(100)),d=r(e(102)),p=r(e(101)),h=r(e(149)),g=r(e(162)),v=r(e(9)),m=r(e(13)),y=r(e(10));i.__dashjs_factory_name="RepresentationController",n["default"]=y["default"].getClassFactory(i),t.exports=n["default"]},{10:10,100:100,101:101,102:102,13:13,149:149,162:162,17:17,22:22,37:37,60:60,68:68,71:71,9:9}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n,r,i,o=!1,a=!1,s=e.ContentComponent_asArray,u="text"!==t?new RegExp(t):new RegExp("(vtt|ttml)");if(e.Representation_asArray.length>0&&e.Representation_asArray[0].hasOwnProperty("codecs")){var l=e.Representation_asArray[0].codecs;if("stpp"===l||"wvtt"===l)return"fragmentedText"===t}if(s){if(s.length>1)return"muxed"===t;s[0]&&s[0].contentType===t&&(o=!0,a=!0)}if(e.hasOwnProperty("mimeType")&&(o=u.test(e.mimeType),a=!0),!a)for(n=0,r=e.Representation_asArray.length;!a&&n<r;)(i=e.Representation_asArray[n]).hasOwnProperty("mimeType")&&(o=u.test(i.mimeType),a=!0),n++;return o}function t(t){return e(t,"audio")}function n(t){return e(t,"video")}function r(t){
return e(t,"fragmentedText")}function i(t){return e(t,"text")}function m(t){return e(t,"muxed")}function y(e){return"text/vtt"===e||"application/ttml+xml"===e}function _(e){var t="";return e.hasOwnProperty("lang")&&(t=e.lang.replace(/[^A-Za-z0-9-]/g,"")),t}function b(e){return e.hasOwnProperty("Viewpoint")?e.Viewpoint:null}function T(e){return e.hasOwnProperty("Role_asArray")?e.Role_asArray:[]}function w(e){return e.hasOwnProperty("Accessibility_asArray")?e.Accessibility_asArray:[]}function E(e){return e.hasOwnProperty("AudioChannelConfiguration_asArray")?e.AudioChannelConfiguration_asArray:[]}function S(e){return T(e).filter(function(e){return"main"===e.value})[0]}function P(){return function(e,t){return e.bandwidth-t.bandwidth}}function C(e){return void 0!==e.Representation_asArray&&null!==e.Representation_asArray&&e.Representation_asArray.sort(P()),e}function I(e,t,n){var r,i,o=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=o.length;r<i;r++)if(o[r].hasOwnProperty("id")&&o[r].id===e)return o[r];return null}function x(e,t,n){return t.Period_asArray[n].AdaptationSet_asArray[e]}function A(e,t,n){var r,i,o=t.Period_asArray[n].AdaptationSet_asArray;for(r=0,i=o.length;r<i;r++)if(o[r]===e)return r;return-1}function O(t,n,r){var i,o,a=t.Period_asArray[n].AdaptationSet_asArray,s=[];for(i=0,o=a.length;i<o;i++)e(a[i],r)&&s.push(C(a[i]));return s}function k(e,t,n,r){var i=O(e,t,n);if(!i||0===i.length)return null;if(i.length>1&&r)for(var o=ce.getCurrentTrackFor(n,r),a=fe.getAllMediaInfoForType(e,r,n),s=0,u=i.length;s<u;s++){if(o&&ce.isTracksEqual(o,a[s]))return i[s];if(S(i[s]))return i[s]}return i[0]}function M(e){var t=e.Representation_asArray[0];return t.mimeType+';codecs="'+t.codecs+'"'}function R(e){return e.Representation_asArray[0].mimeType}function D(e){return e&&e.hasOwnProperty("cenc:default_KID")?e["cenc:default_KID"]:null}function N(e){return e&&e.hasOwnProperty("ContentProtection_asArray")&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null}function L(e){var t=!1;return e.hasOwnProperty("type")&&(t="dynamic"===e.type),t}function j(e){var t,n=L(e);return t=!isNaN(e.timeShiftBufferDepth),n&&t}function F(e,t){var n=!1;return e.profiles&&e.profiles.length>0&&(n=-1!==e.profiles.indexOf(t)),n}function B(e){return F(e,"urn:mpeg:dash:profile:isoff-on-demand:2011")}function U(e){return F(e,"urn:dvb:dash:profile:dvb-dash:2014")}function H(e){return e.hasOwnProperty("mediaPresentationDuration")?e.mediaPresentationDuration:Number.MAX_VALUE}function V(e){return e.bandwidth}function z(e){var t=NaN,n=2;return e.hasOwnProperty("minimumUpdatePeriod")&&(t=Math.max(parseFloat(e.minimumUpdatePeriod),n)),t}function q(e){return e.Representation_asArray.length}function G(e){if(!e||!e.Representation_asArray||!e.Representation_asArray.length)return null;for(var t=C(e).Representation_asArray,n=t.length,r=[],i=0;i<n;i++)r.push({bandwidth:t[i].bandwidth,width:t[i].width||0,height:t[i].height||0});return r}function K(e,t){return t.Representation_asArray[e]}function Y(e,t){for(var n,r,i,a,s,u=C(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index]),l=[],c=0;c<u.Representation_asArray.length;c++)a=u.Representation_asArray[c],(n=new o["default"]).index=c,n.adaptation=t,a.hasOwnProperty("id")&&(n.id=a.id),a.hasOwnProperty("bandwidth")&&(n.bandwidth=a.bandwidth),a.hasOwnProperty("maxPlayoutRate")&&(n.maxPlayoutRate=a.maxPlayoutRate),a.hasOwnProperty("SegmentBase")?(i=a.SegmentBase,n.segmentInfoType="SegmentBase"):a.hasOwnProperty("SegmentList")?(i=a.SegmentList).hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",(!(s=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1]).hasOwnProperty("r")||s.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):(n.segmentInfoType="SegmentList",n.useCalculatedLiveEdgeTime=!0):a.hasOwnProperty("SegmentTemplate")?((i=a.SegmentTemplate).hasOwnProperty("SegmentTimeline")?(n.segmentInfoType="SegmentTimeline",(!(s=i.SegmentTimeline.S_asArray[i.SegmentTimeline.S_asArray.length-1]).hasOwnProperty("r")||s.r>=0)&&(n.useCalculatedLiveEdgeTime=!0)):n.segmentInfoType="SegmentTemplate",i.hasOwnProperty("initialization")&&(n.initialization=i.initialization.split("$Bandwidth$").join(a.bandwidth).split("$RepresentationID$").join(a.id))):(i=a.BaseURL,n.segmentInfoType="BaseURL"),i.hasOwnProperty("Initialization")?(r=i.Initialization).hasOwnProperty("sourceURL")?n.initialization=r.sourceURL:r.hasOwnProperty("range")&&(n.range=r.range):a.hasOwnProperty("mimeType")&&y(a.mimeType)&&(n.range=0),i.hasOwnProperty("timescale")&&(n.timescale=i.timescale),i.hasOwnProperty("duration")&&(n.segmentDuration=i.duration/n.timescale),i.hasOwnProperty("startNumber")&&(n.startNumber=i.startNumber),i.hasOwnProperty("indexRange")&&(n.indexRange=i.indexRange),i.hasOwnProperty("presentationTimeOffset")&&(n.presentationTimeOffset=i.presentationTimeOffset/n.timescale),n.MSETimeOffset=le.calcMSETimeOffset(n),n.path=[t.period.index,t.index,c],l.push(n);return l}function W(e,i){for(var o,s,u=e.Period_asArray[i.index],l=[],c=0;c<u.AdaptationSet_asArray.length;c++)s=u.AdaptationSet_asArray[c],o=new a["default"],s.hasOwnProperty("id")&&(o.id=s.id),o.index=c,o.period=i,m(s)?o.type="muxed":t(s)?o.type="audio":n(s)?o.type="video":r(s)?o.type="fragmentedText":o.type="text",l.push(o);return l}function Q(e,t){var n,r,i=L(e),o=[],a=null,u=null,l=null,c=null;for(r=0,n=e.Period_asArray.length;r<n;r++)(u=e.Period_asArray[r]).hasOwnProperty("start")?(c=new s["default"]).start=u.start:null!==a&&u.hasOwnProperty("duration")&&null!==l?((c=new s["default"]).start=l.start+l.duration,c.duration=u.duration):0!==r||i||((c=new s["default"]).start=0),null!==l&&isNaN(l.duration)&&(l.duration=c.start-l.start),null!==c&&(c.id=X(u)),null!==c&&u.hasOwnProperty("duration")&&(c.duration=u.duration),null!==c&&(c.index=r,c.mpd=t,o.push(c),a=u,l=c),u=null,c=null;return 0===o.length?o:(null!==l&&isNaN(l.duration)&&(l.duration=ee(e,l)-l.start),o)}function X(e){if(!e)throw new Error("Period cannot be null or undefined");var t=s["default"].DEFAULT_ID;return e.hasOwnProperty("id")&&"__proto__"!==e.id&&(t=e.id),t}function $(e){var t=new u["default"];return t.manifest=e,e.hasOwnProperty("availabilityStartTime")?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):t.availabilityStartTime=new Date(e.loadedTime.getTime()),e.hasOwnProperty("availabilityEndTime")&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty("suggestedPresentationDelay")&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty("timeShiftBufferDepth")&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty("maxSegmentDuration")&&(t.maxSegmentDuration=e.maxSegmentDuration),t}function J(e,t){return le.calcPresentationTimeFromWallTime(e.loadedTime,t)}function Z(e,t){var n=NaN;return e.hasOwnProperty("minimumUpdatePeriod")&&(n=J(e,t)+e.minimumUpdatePeriod),n}function ee(e,t){var n,r=Z(e,t);if(e.mediaPresentationDuration)n=e.mediaPresentationDuration;else{if(isNaN(r))throw new Error("Must have @mediaPresentationDuration or @minimumUpdatePeriod on MPD or an explicit @duration on the last period.");n=r}return n}function te(e,t){var n=e.Period_asArray[t.index].EventStream_asArray,r=[];if(n)for(var i=0;i<n.length;i++){var o=new g["default"];if(o.period=t,o.timescale=1,!n[i].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");o.schemeIdUri=n[i].schemeIdUri,n[i].hasOwnProperty("timescale")&&(o.timescale=n[i].timescale),n[i].hasOwnProperty("value")&&(o.value=n[i].value);for(var a=0;a<n[i].Event_asArray.length;a++){var s=new p["default"];s.presentationTime=0,s.eventStream=o,n[i].Event_asArray[a].hasOwnProperty("presentationTime")&&(s.presentationTime=n[i].Event_asArray[a].presentationTime),n[i].Event_asArray[a].hasOwnProperty("duration")&&(s.duration=n[i].Event_asArray[a].duration),n[i].Event_asArray[a].hasOwnProperty("id")&&(s.id=n[i].Event_asArray[a].id),r.push(s)}}return r}function ne(e,t){var n=[];if(!e)return n;for(var r=0;r<e.length;r++){var i=new g["default"];if(i.timescale=1,i.representation=t,!e[r].hasOwnProperty("schemeIdUri"))throw new Error("Invalid EventStream. SchemeIdUri has to be set");i.schemeIdUri=e[r].schemeIdUri,e[r].hasOwnProperty("timescale")&&(i.timescale=e[r].timescale),e[r].hasOwnProperty("value")&&(i.value=e[r].value),n.push(i)}return n}function re(e,t){return ne(e.Period_asArray[t.period.index].AdaptationSet_asArray[t.index].InbandEventStream_asArray,null)}function ie(e,t){return ne(e.Period_asArray[t.adaptation.period.index].AdaptationSet_asArray[t.adaptation.index].Representation_asArray[t.index].InbandEventStream_asArray,t)}function oe(e){var t=L(e),n=e.hasOwnProperty("availabilityStartTime"),r=e.UTCTiming_asArray,i=[];return(t||n)&&r&&r.forEach(function(e){var t=new l["default"];e.hasOwnProperty("schemeIdUri")&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty("value")&&(t.value=e.value.toString(),i.push(t)))}),i}function ae(e){var t=[],n=e.BaseURL_asArray||[e.baseUri],r=!1;return n.some(function(n){if(n){var i=new h["default"],o=n.__text||n;return de.isRelative(o)&&(r=!0,e.baseUri&&(o=e.baseUri+o)),i.url=o,n.hasOwnProperty("serviceLocation")&&n.serviceLocation.length?i.serviceLocation=n.serviceLocation:i.serviceLocation=o,n.hasOwnProperty("dvb:priority")&&(i.dvb_priority=n["dvb:priority"]),n.hasOwnProperty("dvb:weight")&&(i.dvb_weight=n["dvb:weight"]),t.push(i),r}}),t}function se(e){return e.hasOwnProperty("Location")&&(e.Location=e.Location_asArray[0]),e.Location}var ue=this.context,le=(0,c["default"])(ue).getInstance(),ce=(0,f["default"])(ue).getInstance(),fe=(0,d["default"])(ue).getInstance(),de=(0,v["default"])(ue).getInstance();return{getIsTypeOf:e,getIsAudio:t,getIsVideo:n,getIsText:i,getIsMuxed:m,getIsTextTrack:y,getIsFragmentedText:r,getIsMain:S,getLanguageForAdaptation:_,getViewpointForAdaptation:b,getRolesForAdaptation:T,getAccessibilityForAdaptation:w,getAudioChannelConfigurationForAdaptation:E,processAdaptation:C,getAdaptationForIndex:x,getIndexForAdaptation:A,getAdaptationForId:I,getAdaptationsForType:O,getAdaptationForType:k,getCodec:M,getMimeType:R,getKID:D,getContentProtectionData:N,getIsDynamic:L,getIsDVR:j,getIsOnDemand:B,getIsDVB:U,getDuration:H,getBandwidth:V,getRefreshDelay:z,getRepresentationCount:q,getBitrateListForAdaptation:G,getRepresentationFor:K,getRepresentationsForAdaptation:Y,getAdaptationsForPeriod:W,getRegularPeriods:Q,getPeriodId:X,getMpd:$,getFetchTime:J,getCheckTime:Z,getEndTimeForLastPeriod:ee,getEventsForPeriod:te,getEventStreams:ne,getEventStreamForAdaptationSet:re,getEventStreamForRepresentation:ie,getUTCTimingSources:oe,getBaseURLsFromElement:ae,getRepresentationSortFunction:P,getLocation:se}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(45)),a=r(e(39)),s=r(e(44)),u=r(e(43)),l=r(e(47)),c=r(e(37)),f=r(e(66)),d=r(e(15)),p=r(e(41)),h=r(e(40)),g=r(e(42)),v=r(e(158)),m=r(e(10));i.__dashjs_factory_name="DashManifestModel",n["default"]=m["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,15:15,158:158,37:37,39:39,40:40,41:41,42:42,43:43,44:44,45:45,47:47,66:66}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){v=[new f["default"],new d["default"],new p["default"]],m=new c["default"](v,"",!0),y=new l["default"]([new h["default"],new g["default"]])}function t(e,t){var n;try{var o=window.performance.now();if(!(n=m.xml_str2json(e)))throw new Error("parser error");var a=window.performance.now();y.run(n);var s=window.performance.now();t.setMatchers(v),t.setIron(y),r("Parsing complete: ( xml2json: "+(a-o).toPrecision(3)+"ms, objectiron: "+(s-a).toPrecision(3)+"ms, total: "+((s-o)/1e3).toPrecision(3)+"s)")}catch(u){return i.manifestError("parsing the manifest failed","parse",e,u),null}return n}var n=this.context,r=(0,s["default"])(n).getInstance().log,i=(0,o["default"])(n).getInstance(),a=void 0,v=void 0,m=void 0,y=void 0;return a={parse:t},e(),a}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(151)),a=r(e(10)),s=r(e(8)),u=e(3),l=r(u),c=r(e(4)),f=r(e(30)),d=r(e(29)),p=r(e(31)),h=r(e(26)),g=r(e(27));i.__dashjs_factory_name="DashParser",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,151:151,26:26,27:27,29:29,3:3,30:30,31:31,4:4,8:8}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e);var i=function(e){return e&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()};this._name=t,this._merge=void 0!==n?n:i(t)}return i(e,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),e}();n["default"]=o,t.exports=n["default"]},{}],25:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=r(e(24)),s=function(){function e(t,n,r,o,s){var u=this;i(this,e),this._name=t||"",this._properties=[],this._children=r||[],this._isRoot=o||!1,this._isArray=s||!0,Array.isArray(n)&&n.forEach(function(e){u._properties.push(new a["default"](e))})}return o(e,[{key:"name",get:function(){return this._name}},{key:"isRoot",get:function(){return this._isRoot}},{key:"isArray",get:function(){return this._isArray}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}]),e}();n["default"]=s,t.exports=n["default"]},{24:24}],26:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(25)),u=function(){function e(){i(this,e);var t=["profiles","width","height","sar","frameRate","audioSamplingRate","mimeType","segmentProfiles","codecs","maximumSAPPeriod","startWithSAP","maxPlayoutRate","codingDependency","scanType","FramePacking","AudioChannelConfiguration","ContentProtection","EssentialProperty","SupplementalProperty","InbandEventStream"];return a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,"AdaptationSet",t,[new s["default"]("Representation",t,[new s["default"]("SubRepresentation",t)])])}return o(e,s["default"]),e}();n["default"]=u,t.exports=n["default"]},{25:25}],27:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(25)),u=function(){function e(){i(this,e);var t=["SegmentBase","SegmentTemplate","SegmentList"];return a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,"Period",t,[new s["default"]("AdaptationSet",t,[new s["default"]("Representation",t)])])}return o(e,s["default"]),e}();n["default"]=u,t.exports=n["default"]},{25:25}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this._test=t,this._converter=n}return i(e,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),e}();n["default"]=o,t.exports=n["default"]},{}],29:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(28)),u=60,l=60,c=1e3,f=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,d=function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,function(e){return f.test(e.value)},function(e){var t=f.exec(e),n=void 0;if(n=Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),t[6]&&parseInt(t[6],10)||0,t[7]&&parseFloat(t[7])*c||0),t[9]&&t[10]){var r=parseInt(t[9],10)*l+parseInt(t[10],10);n+=("+"===t[8]?-1:1)*r*u*c}return new Date(n)})}return o(e,s["default"]),e}();n["default"]=d,t.exports=n["default"]},{28:28}],30:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(28)),u=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,l=31536e3,c=2592e3,f=86400,d=3600,p=60,h=function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,function(e){for(var t=["minBufferTime","mediaPresentationDuration","minimumUpdatePeriod","timeShiftBufferDepth","maxSegmentDuration","maxSubsegmentDuration","suggestedPresentationDelay","start","starttime","duration"],n=t.length,r=0;r<n;r++)if(e.nodeName===t[r])return u.test(e.value);return!1},function(e){var t=u.exec(e),n=parseFloat(t[2]||0)*l+parseFloat(t[4]||0)*c+parseFloat(t[6]||0)*f+parseFloat(t[8]||0)*d+parseFloat(t[10]||0)*p+parseFloat(t[12]||0);return void 0!==t[1]&&(n=-n),n})}return o(e,s["default"]),e}();n["default"]=h,t.exports=n["default"]},{28:28}],31:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(28)),u=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,l=function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this,function(e){return u.test(e.value)},function(e){return parseFloat(e)})}return o(e,s["default"]),e}();n["default"]=l,t.exports=n["default"]},{28:28}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.boxParser&&(r=e.boxParser)}function t(e){var t,n,i,o,a,s,u,l,c,f,d=r.parse(e),p=d.getBox("tfhd"),h=d.getBox("tfdt"),g=d.getBox("trun"),v=d.getBox("moof");for(f=d.getBox("mfhd").sequence_number,i=g.sample_count,a=h.baseMediaDecodeTime,c=(p.base_data_offset||0)+(g.data_offset||0),s=[],l=0;l<i;l++)t=void 0!==(u=g.samples[l]).sample_duration?u.sample_duration:p.default_sample_duration,o=void 0!==u.sample_size?u.sample_size:p.default_sample_size,n=void 0!==u.sample_composition_time_offset?u.sample_composition_time_offset:0,s.push({dts:a,cts:a+n,duration:t,offset:v.offset+c,size:o}),c+=o,a+=t;return{sampleList:s,sequenceNumber:f,totalDuration:a-h.baseMediaDecodeTime}}function n(e){var t=r.parse(e).getBox("mdhd");return t?t.timescale:NaN}var r=void 0;return{getSamplesInfo:t,getMediaTimescaleFromMoov:n,setConfig:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="FragmentedTextBoxParser",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],33:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(e,n,i,o){var s,u,l,c,f,d,p,h=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,g=h.SegmentURL_asArray.length,v=[];for(p=e.startNumber,c=(0,a.decideSegmentListRangeForTemplate)(r,t,e,n,i,o),f=Math.max(c.start,0),d=Math.min(c.end,h.SegmentURL_asArray.length-1),s=f;s<=d;s++)l=h.SegmentURL_asArray[s],(u=(0,a.getIndexBasedSegment)(r,t,e,s)).replacementTime=(p+s-1)*e.segmentDuration,u.media=l.media?l.media:"",u.mediaRange=l.mediaRange,u.index=l.index,u.indexRange=l.indexRange,v.push(u),u=null;return e.availableSegmentsNumber=g,v}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=e(35);i.__dashjs_factory_name="ListSegmentsGetter";var s=o["default"].getClassFactory(i);n["default"]=s,t.exports=n["default"]},{10:10,35:35}],34:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(){c=(0,a["default"])(o).create(e,t),f=(0,s["default"])(o).create(e,t),d=(0,u["default"])(o).create(e,t)}function r(e,t,n,r,o){var a,s=e.segmentInfoType;return"SegmentBase"!==s&&"BaseURL"!==s&&i(e,n)?("SegmentTimeline"===s?a=c.getSegments(e,t,n,o):"SegmentTemplate"===s?a=f.getSegments(e,t,n,o):"SegmentList"===s&&(a=d.getSegments(e,t,n,o)),r&&r(e,a)):a=e.segments,a}function i(e,t){var n,r,i=e.segments,o=!1;return i&&0!==i.length?(r=i[0].availabilityIdx,n=i[i.length-1].availabilityIdx,o=t<r||t>n):o=!0,o}var o=this.context,l=void 0,c=void 0,f=void 0,d=void 0;return l={getSegments:r},n(),l}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(38)),s=r(e(36)),u=r(e(33));i.__dashjs_factory_name="SegmentsGetter";var l=o["default"].getClassFactory(i);n["default"]=l,t.exports=n["default"]},{10:10,33:33,36:36,38:38}],35:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){for(;e.length<t;)e="0"+e;return e}function o(e,t){return e.representation.startNumber+t}function a(e,t,n){for(var r,o,a,s,u,l,c="%0",f=t.length,d=c.length;;){if((r=e.indexOf("$"+t))<0)return e;if((o=e.indexOf("$",r+f))<0)return e;if((a=e.indexOf(c,r+f))>r&&a<o)switch(s=e.charAt(o-1),u=parseInt(e.substring(a+d,o-1),10),s){case"d":case"i":case"u":l=i(n.toString(),u);break;case"x":l=i(n.toString(16),u);break;case"X":l=i(n.toString(16),u).toUpperCase();break;case"o":l=i(n.toString(8),u);break;default:return e}else l=n;e=e.substring(0,r)+l+e.substring(o+1)}}function s(e,t,n,r){var i,a,s,u;return a=n.segmentDuration,isNaN(a)&&(a=n.adaptation.period.duration),u=(s=n.adaptation.period.start+r*a)+a,(i=new d["default"]).representation=n,i.duration=a,i.presentationStartTime=s,i.mediaStartTime=e.calcMediaTimeFromPresentationTime(i.presentationStartTime,n),i.availabilityStartTime=e.calcAvailabilityStartTimeFromPresentationTime(i.presentationStartTime,n.adaptation.period.mpd,t),i.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(u,n.adaptation.period.mpd,t),i.wallStartTime=e.calcWallTimeForSegment(i,t),i.replacementNumber=o(i,r),i.availabilityIdx=r,i}function u(e,t,n,r,i,s,u,l,c){var f,p,h,g=r/s,v=Math.min(i/s,n.adaptation.period.mpd.maxSegmentDuration);return p=(f=e.calcPresentationTimeFromMediaTime(g,n))+v,(h=new d["default"]).representation=n,h.duration=v,h.mediaStartTime=g,h.presentationStartTime=f,h.availabilityStartTime=n.adaptation.period.mpd.manifest.loadedTime,h.availabilityEndTime=e.calcAvailabilityEndTimeFromPresentationTime(p,n.adaptation.period.mpd,t),h.wallStartTime=e.calcWallTimeForSegment(h,t),h.replacementTime=r,h.replacementNumber=o(h,c),u=a(u=a(u,"Number",h.replacementNumber),"Time",h.replacementTime),h.media=u,h.mediaRange=l,h.availabilityIdx=c,h}function l(e,t){if(!t||!t.segments)return null;var n,r,i=t.segments.length;if(e<i&&((n=t.segments[e])&&n.availabilityIdx===e))return n;for(r=0;r<i;r++)if((n=t.segments[r])&&n.availabilityIdx===e)return n;return null}function c(e,t,n,r,i){var o=2,a=i||10,s=0,u=Number.POSITIVE_INFINITY;return t&&!e.isTimeSyncCompleted()?{start:s,end:u}:!t&&n||r<0?null:{start:Math.max(r-o,s),end:Math.min(r+a,u)}}function f(e,t,n,r,i,o){var a,s=n.segmentDuration,u=n.adaptation.period.mpd.manifest.minBufferTime,c=n.segmentAvailabilityRange,f={start:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,c.start),end:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,c.end)},d=n.segments,p=2*s,h=o||Math.max(2*u,10*s),g=NaN,v=null;return f.start=Math.max(f.start,0),t&&!e.isTimeSyncCompleted()?{start:a=Math.floor(f.start/s),end:Math.floor(f.end/s)}:(d&&d.length>0?g=(v=l(i,n))?e.calcPeriodRelativeTimeFromMpdRelativeTime(n,v.presentationStartTime):i>0?i*s:e.calcPeriodRelativeTimeFromMpdRelativeTime(n,r):g=i>0?i*s:t?f.end:f.start,{start:a=Math.floor(Math.max(g-p,f.start)/s),end:Math.floor(Math.min(a+h/s,f.end/s))})}Object.defineProperty(n,"__esModule",{value:!0}),n.replaceTokenForTemplate=a,n.getIndexBasedSegment=s,n.getTimeBasedSegment=u,n.getSegmentByIndex=l,n.decideSegmentListRangeForTimeline=c,n.decideSegmentListRangeForTemplate=f;var d=r(e(46))},{46:46}],36:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(e,n,i,o){var s,u,l,c,f,d=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,p=e.segmentDuration,h=e.segmentAvailabilityRange,g=[],v=null,m=null;for(f=e.startNumber,l=(s=isNaN(p)&&!t?{start:f,end:f}:(0,a.decideSegmentListRangeForTemplate)(r,t,e,n,i,o)).start,c=s.end,u=l;u<=c;u++)(m=(0,a.getIndexBasedSegment)(r,t,e,u)).replacementTime=(f+u-1)*e.segmentDuration,v=d.media,v=(0,a.replaceTokenForTemplate)(v,"Number",m.replacementNumber),v=(0,a.replaceTokenForTemplate)(v,"Time",m.replacementTime),m.media=v,g.push(m),m=null;return isNaN(p)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((h.end-h.start)/p),g}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=e(35);i.__dashjs_factory_name="TemplateSegmentsGetter";var s=o["default"].getClassFactory(i);n["default"]=s,t.exports=n["default"]},{10:10,35:35}],37:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){S=0,P=!1,C=NaN,E.on(a["default"].LIVE_EDGE_SEARCH_COMPLETED,y,this),E.on(a["default"].TIME_SYNCHRONIZATION_COMPLETED,_,this)}function t(){return P}function n(e){P=e}function r(){return S}function i(){return C}function s(e){C=e}function u(e,t,n,r){NaN;return r?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-S)):t.availabilityStartTime}function l(e,t,n){return u.call(this,e,t,n)}function c(e,t,n){return u.call(this,e,t,n,!0)}function f(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*S)/1e3}function d(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)}function p(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset}function h(e,t){var n,r,i;return t&&(n=e.representation.adaptation.period.mpd.suggestedPresentationDelay,r=e.presentationStartTime+n,i=new Date(e.availabilityStartTime.getTime()+1e3*r)),i}function g(e,t){var n,r,i=e.adaptation.period.start,o=i+e.adaptation.period.duration,a={start:i,end:o},s=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0);if(!t)return a;if(!P&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;n=e.adaptation.period.mpd.checkTime,r=f(new Date,e.adaptation.period),i=Math.max(r-e.adaptation.period.mpd.timeShiftBufferDepth,e.adaptation.period.start);var u=isNaN(n)?r:Math.min(n,r),l=e.adaptation.period.start+e.adaptation.period.duration;return{start:i,end:o=(u>=l&&u-s<l?l:u)-s}}function v(e,t){return t-e.adaptation.period.start}function m(e,t){return t+e.adaptation.period.start}function y(e){P||e.error||(S+=e.liveEdge-(C+e.searchTime),P=!0)}function _(e){P||e.error||(S=e.offset/1e3,P=!0)}function b(e){var t=e.presentationTimeOffset;return e.adaptation.period.start-t}function T(){E.off(a["default"].LIVE_EDGE_SEARCH_COMPLETED,y,this),E.off(a["default"].TIME_SYNCHRONIZATION_COMPLETED,_,this),S=0,P=!1,C=NaN}var w=this.context,E=(0,o["default"])(w).getInstance(),S=void 0,P=void 0,C=void 0;return{initialize:e,isTimeSyncCompleted:t,setTimeSyncCompleted:n,getClientTimeOffset:r,getExpectedLiveEdge:i,setExpectedLiveEdge:s,calcAvailabilityStartTimeFromPresentationTime:l,calcAvailabilityEndTimeFromPresentationTime:c,calcPresentationTimeFromWallTime:f,calcPresentationTimeFromMediaTime:d,calcPeriodRelativeTimeFromMpdRelativeTime:v,calcMpdRelativeTimeFromPeriodRelativeTime:m,calcMediaTimeFromPresentationTime:p,calcSegmentAvailabilityRange:g,calcWallTimeForSegment:h,calcMSETimeOffset:b,reset:T}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10));i.__dashjs_factory_name="TimelineConverter",n["default"]=s["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],38:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(e,n,i,o){var s,u,l,c,f,d,p,h,g,v,m,y,_,b,T=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,w=T.SegmentTimeline,E=T.SegmentURL_asArray,S=e.availableSegmentsNumber>0,P=10,C=0,I=0,x=-1,A=[],O=!1,k=function(n,i){
var o=T.media,s=n.mediaRange;return E&&(o=E[i].media||"",s=E[i].mediaRange),(0,a.getTimeBasedSegment)(r,t,e,C,n.d,b,o,s,x)};for(b=e.timescale,s=w.S_asArray,(g=(0,a.decideSegmentListRangeForTimeline)(r,t,n,i,o))?(y=g.start,_=g.end):m=r.calcMediaTimeFromPresentationTime(n||0,e),l=0,c=s.length;l<c;l++){if(d=0,(u=s[l]).hasOwnProperty("r")&&(d=u.r),u.hasOwnProperty("t")&&(I=(C=u.t)/b),d<0){if((h=s[l+1])&&h.hasOwnProperty("t"))p=h.t/b;else{var M=e.segmentAvailabilityRange?e.segmentAvailabilityRange.end:r.calcSegmentAvailabilityRange(e,t).end;p=r.calcMediaTimeFromPresentationTime(M,e),e.segmentDuration=u.d/b}d=Math.ceil((p-I)/(u.d/b))-1}if(v){if(S)break;x+=d+1}else for(f=0;f<=d;f++){if(x++,g){if(x>_){if(v=!0,S)break;continue}x>=y&&A.push(k(u,x))}else{if(A.length>P){if(v=!0,S)break;continue}O?A.push(k(u,x)):I>=m-u.d/b*1.5&&(O=!0,A.push(k(u,x)))}I=(C+=u.d)/b}}return S||(e.availableSegmentsNumber=x+1),A}var r=e.timelineConverter;return{getSegments:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=e(35);i.__dashjs_factory_name="TimelineSegmentsGetter";var s=o["default"].getClassFactory(i);n["default"]=s,t.exports=n["default"]},{10:10,35:35}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.period=null,this.index=-1,this.type=null};n["default"]=i,t.exports=n["default"]},{}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=1,o=1,a=function s(e,t,n,a){r(this,s),this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=n||i,this.dvb_weight=a||o};a.DEFAULT_DVB_PRIORITY=i,a.DEFAULT_DVB_WEIGHT=o,n["default"]=a,t.exports=n["default"]},{}],41:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN};n["default"]=i,t.exports=n["default"]},{}],42:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""};n["default"]=i,t.exports=n["default"]},{}],43:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.checkTime=NaN,this.clientServerTimeShift=0,this.isClientServerTimeSyncCompleted=!1};n["default"]=i,t.exports=n["default"]},{}],44:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null};i.DEFAULT_ID="defaultId",n["default"]=i,t.exports=n["default"]},{}],45:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.maxPlayoutRate=NaN};n["default"]=i,t.exports=n["default"]},{}],46:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null};n["default"]=i,t.exports=n["default"]},{}],47:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.schemeIdUri="",this.value=""};n["default"]=i,t.exports=n["default"]},{}],48:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){m=(0,o["default"])(h).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){var t=function(t){g.trigger(l["default"].CHECK_FOR_EXISTENCE_COMPLETED,{request:e,exists:t})};if(e){var n=new a["default"](e.url);m.load({request:n,success:function(){t(!0)},error:function(){t(!1)}})}else t(!1)}function r(e){var t=function(t,n){g.trigger(l["default"].LOADING_COMPLETED,{request:e,response:t||null,error:n||null,sender:v})};e?m.load({request:e,progress:function(){g.trigger(l["default"].LOADING_PROGRESS,{request:e})},success:function(e){t(e)},error:function(e,n,r){t(void 0,new s["default"](f,r,n))}}):t(void 0,new s["default"](d,p))}function i(){m&&m.abort()}function c(){m&&(m.abort(),m=null)}var h=this.context,g=(0,u["default"])(h).getInstance(),v=void 0,m=void 0;return v={checkForExistence:n,load:r,abort:i,reset:c},t(),v}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(58)),a=r(e(164)),s=r(e(162)),u=r(e(9)),l=r(e(13)),c=r(e(10)),f=1,d=2,p="request is null";i.__dashjs_factory_name="FragmentLoader";var h=c["default"].getClassFactory(i);h.FRAGMENT_LOADER_ERROR_LOADING_FAILURE=f,h.FRAGMENT_LOADER_ERROR_NULL_REQUEST=d,n["default"]=h,t.exports=n["default"]},{10:10,13:13,162:162,164:164,58:58,9:9}],49:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){m.on(d["default"].XLINK_READY,n,b),T=(0,a["default"])(p).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier}),w=(0,o["default"])(p).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){m.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}function r(e){var t=new u["default"](e,c.HTTPRequest.MPD_TYPE);T.load({request:t,success:function(t,n,r){var i,o;r.responseURL&&r.responseURL!==e?(o=y.parseBaseUrl(r.responseURL),i=r.responseURL):(y.isRelative(e)&&(e=y.parseBaseUrl(window.location.href)+e),o=y.parseBaseUrl(e));var a=_.parse(t,w);a?(a.url=i||e,a.originalUrl||(a.originalUrl=a.url),a.baseUri=o,a.loadedTime=new Date,w.resolveManifestOnLoad(a)):m.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l["default"](h,v)})},error:function(t,n,r){m.trigger(d["default"].INTERNAL_MANIFEST_LOADED,{manifest:null,error:new l["default"](g,"Failed loading manifest: "+e+", "+r)})}})}function i(){m.off(d["default"].XLINK_READY,n,b),w&&(w.reset(),w=null),T&&(T.abort(),T=null)}var p=this.context,m=(0,f["default"])(p).getInstance(),y=(0,s["default"])(p).getInstance(),_=e.parser,b=void 0,T=void 0,w=void 0;return b={load:r,reset:i},t(),b}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(74)),a=r(e(58)),s=r(e(158)),u=r(e(170)),l=r(e(162)),c=e(179),f=r(e(9)),d=r(e(13)),p=r(e(10)),h=1,g=2,v="parsing failed";i.__dashjs_factory_name="ManifestLoader";var m=p["default"].getClassFactory(i);m.MANIFEST_LOADER_ERROR_PARSING_FAILURE=h,m.MANIFEST_LOADER_ERROR_LOADING_FAILURE=g,n["default"]=m,t.exports=n["default"]},{10:10,13:13,158:158,162:162,170:170,179:179,58:58,74:74,9:9}],50:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&(e.manifestModel&&(S=e.manifestModel),e.dashManifestModel&&(P=e.dashManifestModel))}function t(e){E=e,_=NaN,b=null,w=!1,T=!0,y.on(a["default"].STREAMS_COMPOSED,g,this),y.on(a["default"].PLAYBACK_STARTED,p,this),y.on(a["default"].PLAYBACK_PAUSED,h,this),y.on(a["default"].INTERNAL_MANIFEST_LOADED,d,this)}function n(e){c(e)}function r(){return E}function i(){y.off(a["default"].PLAYBACK_STARTED,p,this),y.off(a["default"].PLAYBACK_PAUSED,h,this),y.off(a["default"].STREAMS_COMPOSED,g,this),y.off(a["default"].INTERNAL_MANIFEST_LOADED,d,this),T=!0,w=!1,s(),_=NaN}function s(){null!==b&&(clearInterval(b),b=null)}function l(){s(),isNaN(_)||(m("Refresh manifest in "+_+" seconds."),b=setTimeout(f,Math.min(1e3*_,Math.pow(2,31)-1),this))}function c(e){var t,n,r=new Date;S.setValue(e),m("Manifest has been refreshed at "+r+"["+r.getTime()/1e3+"] "),t=P.getRefreshDelay(e),n=((new Date).getTime()-e.loadedTime.getTime())/1e3,_=Math.max(t-n,0),y.trigger(a["default"].MANIFEST_UPDATED,{manifest:e}),T||l()}function f(){var e,t;if(!T&&!w){w=!0,t=(e=S.getValue()).url;var n=P.getLocation(e);n&&(t=n),E.load(t)}}function d(e){e.error||c(e.manifest)}function p(){T=!1,l()}function h(){T=!0,s()}function g(){w=!1}var v=this.context,m=(0,u["default"])(v).getInstance().log,y=(0,o["default"])(v).getInstance(),_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,S=void 0,P=void 0;return{initialize:t,setManifest:n,getManifestLoader:r,setConfig:e,reset:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10)),u=r(e(8));i.__dashjs_factory_name="ManifestUpdater",n["default"]=s["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,8:8,9:9}],51:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){Zt=!1,en=!1,tn=!0,on=null,Jt=null,sn=null,k["default"].extend(M["default"]),ln=(0,_["default"])(Kt).getInstance()}function t(e,t,n){return fn=(0,d["default"])(Kt).getInstance(),cn=(0,f["default"])(Kt).getInstance(),fn.supportsMediaSource()?void(Zt||(Zt=!0,nn=(0,T["default"])(Kt).getInstance(),hn=(0,a["default"])(Kt).getInstance(),rn=(0,u["default"])(Kt).getInstance(),rn.initialize(),vn=(0,j["default"])(Kt).getInstance(),gn=(0,F["default"])(Kt).getInstance(),un=(0,b["default"])(Kt).getInstance(),un.setConfig({adapter:Nt()}),rt(),me(void 0===n||n),e&&Pt(e),t&&At(t),Qt("[dash.js "+oe()+"] MediaPlayer has been initialized"))):void cn.capabilityError("mediasource")}function n(){return!!mn&&!!$t}function r(){if(!en)throw Vt;(!tn||U()&&en)&&hn.play()}function i(){if(!en)throw Vt;hn.pause()}function U(){if(!en)throw Vt;return hn.isPaused()}function H(){if(!en)throw Vt;return hn.isSeeking()}function V(e){if(!mn)throw zt;St().muted=e}function z(){if(!mn)throw zt;return St().muted}function q(e){if(!mn)throw zt;St().volume=e}function G(){if(!mn)throw zt;return St().volume}function K(e){var t=["video","audio","fragmentedText"];if(e){if(-1!==t.indexOf(e)){var n=Te().getCurrentBufferLevel(we(e));return n||NaN}return Qt("Warning  - getBufferLength requested for invalid type"),NaN}return t.map(function(e){return Le(e).length>0?Te().getCurrentBufferLevel(we(e)):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)})}function Y(){var e=Ft();return e?e.manifestInfo.DVRWindowSize:0}function W(e){var t=Ft();if(!t)return 0;var n=t.range.start+e;return n>t.range.end&&(n=t.range.end),n}function Q(e){if(!en)throw Vt;var t=hn.getIsDynamic()?W(e):e;hn.seek(t)}function X(e){if(!en)throw Vt;var t=St().currentTime;if(void 0!==e)t=dn.getTimeRelativeToStreamId(t,e);else if(hn.getIsDynamic()){var n=Ft();t=null===n?0:$()-(n.range.end-n.time)}return t}function $(){if(!en)throw Vt;var e=St().duration;if(hn.getIsDynamic()){var t,n=Ft();if(!n)return 0;e=(t=n.range.end-n.range.start)<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function J(){if(!en)throw Vt;return X()<0?NaN:Bt(X())}function Z(){if(!en)throw Vt;return Bt($())}function ee(e,t,n){var r=new Date(1e3*e),i=r.toLocaleDateString(t);return r.toLocaleTimeString(t,{hour12:n})+" "+i}function te(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(r<10?"0"+r.toString():r.toString())}function ne(e,t,n){R["default"].extend(e,t,n,Kt)}function re(e,t,n){Yt.on(e,t,n)}function ie(e,t,n){Yt.off(e,t,n)}function oe(){return(0,D.getVersionString)()}function ae(){return Wt}function se(){if(!mn)throw zt;return mn}function ue(e){ln.setLiveDelayFragmentCount(e)}function le(e){ln.setLiveDelay(e)}function ce(e){ln.setUseSuggestedPresentationDelay(e)}function fe(e,t){ln.setLastBitrateCachingInfo(e,t)}function de(e,t){ln.setLastMediaSettingsCachingInfo(e,t)}function pe(e,t){nn.setMaxAllowedBitrateFor(e,t)}function he(e){return nn.getMaxAllowedBitrateFor(e)}function ge(e,t){nn.setMaxAllowedRepresentationRatioFor(e,t)}function ve(e){return nn.getMaxAllowedRepresentationRatioFor(e)}function me(e){tn=e}function ye(){return tn}function _e(e){ln.setScheduleWhilePaused(e)}function be(){return ln.getScheduleWhilePaused()}function Te(){return gn}function we(e){return un.getReadOnlyMetricsFor(e)}function Ee(e){if(!en)throw Vt;return nn.getQualityFor(e,dn.getActiveStreamInfo())}function Se(e,t){if(!en)throw Vt;nn.setPlaybackQuality(e,dn.getActiveStreamInfo(),t)}function Pe(){return nn.getLimitBitrateByPortal()}function Ce(e){nn.setLimitBitrateByPortal(e)}function Ie(){return nn.getUsePixelRatioInLimitBitrateByPortal()}function xe(e){nn.setUsePixelRatioInLimitBitrateByPortal(e)}function Ae(e){if(!en)throw Vt;void 0===yn&&(yn=(0,v["default"])(Kt).getInstance());for(var t=St().textTracks,n=t.length,r=0;r<n;r++){var i=t[r],o=e===r?"showing":"hidden";i.mode!==o&&(i.mode=o)}yn.setTextTrack()}function Oe(e){if(!en)throw Vt;var t=Ut();return t?t.getBitrateListFor(e):[]}function ke(e,t){nn.setInitialBitrateFor(e,t)}function Me(e){if(!en)throw Vt;return nn.getInitialBitrateFor(e)}function Re(e,t){nn.setInitialRepresentationRatioFor(e,t)}function De(e){return nn.getInitialRepresentationRatioFor(e)}function Ne(e){if(!en)throw Vt;return sn.getStreamsInfo(e)}function Le(e){if(!en)throw Vt;var t=dn.getActiveStreamInfo();return t?rn.getTracksFor(e,t):[]}function je(e,t,n){if(!en)throw Vt;return(n=n||sn.getStreamsInfo(t)[0])?sn.getAllMediaInfoForType(t,n,e):[]}function Fe(e){if(!en)throw Vt;var t=dn.getActiveStreamInfo();return t?rn.getCurrentTrackFor(e,t):null}function Be(e,t){rn.setInitialSettings(e,t)}function Ue(e){return rn.getInitialSettings(e)}function He(e){if(!en)throw Vt;rn.setTrack(e)}function Ve(e){return rn.getSwitchMode(e)}function ze(e,t){rn.setSwitchMode(e,t)}function qe(e){rn.setSelectionModeForInitialTrack(e)}function Ge(){return rn.getSelectionModeForInitialTrack()}function Ke(){return nn.getAutoSwitchBitrateFor("video")||nn.getAutoSwitchBitrateFor("audio")}function Ye(e){nn.setAutoSwitchBitrateFor("video",e),nn.setAutoSwitchBitrateFor("audio",e)}function We(e){return nn.getAutoSwitchBitrateFor(e)}function Qe(e,t){nn.setAutoSwitchBitrateFor(e,t)}function Xe(e){ln.setFastSwitchEnabled(e)}function $e(){return ln.getFastSwitchEnabled()}function Je(e){ln.setBufferOccupancyABREnabled(e)}function Ze(e,t){var n=Rt(),r=this,i=function a(e){e.error?t(null,e.error):t(e.manifest),Yt.off(k["default"].INTERNAL_MANIFEST_LOADED,a,r),n.reset()};Yt.on(k["default"].INTERNAL_MANIFEST_LOADED,i,r);var o=(0,m["default"])(Kt).getInstance();o.initialize(),n.load(o.parseURI(e))}function et(e,t){tt(e,t);var n=new o["default"];n.schemeIdUri=e,n.value=t,ln.getUTCTimingSources().push(n)}function tt(e,t){var n=ln.getUTCTimingSources();n.forEach(function(r,i){r.schemeIdUri===e&&r.value===t&&n.splice(i,1)})}function nt(){ln.setUTCTimingSources([])}function rt(){et(_["default"].DEFAULT_UTC_TIMING_SOURCE.scheme,_["default"].DEFAULT_UTC_TIMING_SOURCE.value)}function it(e){ln.setUseManifestDateHeaderTimeSource(e)}function ot(e){ln.setBufferToKeep(e)}function at(e){ln.setBufferPruningInterval(e)}function st(e){ln.setStableBufferTime(e)}function ut(e){ln.setBufferTimeAtTopQuality(e)}function lt(e){ln.setBufferTimeAtTopQualityLongForm(e)}function ct(e){ln.setLongFormContentDurationThreshold(e)}function ft(e){ln.setRichBufferThreshold(e)}function dt(e){ln.setBandwidthSafetyFactor(e)}function pt(){return ln.getBandwidthSafetyFactor()}function ht(e){ln.setAbandonLoadTimeout(e)}function gt(e){ln.setFragmentRetryAttempts(e)}function vt(e){ln.setFragmentRetryInterval(e)}function mt(e){ln.setXHRWithCredentials(e)}function yt(){return Lt()}function _t(e){on=e}function bt(e){Jt=e}function Tt(e){var t=(0,p["default"])(Kt).getInstance();t.setConfig({videoModel:mn}),t.initialize(),t.displayCConTop(e)}function wt(){return mn?mn.getVideoContainer():null}function Et(e){if(!mn)throw zt;mn.setVideoContainer(e)}function St(){if(!mn)throw zt;return mn.getElement()}function Pt(e){if(!Zt)throw Gt;mn=null,e&&((mn=(0,S["default"])(Kt).getInstance()).initialize(),mn.setElement(e),Lt(),jt()),kt()}function Ct(){return mn?mn.getTTMLRenderingDiv():null}function It(e){if(!mn)throw zt;mn.setTTMLRenderingDiv(e)}function xt(){if(!$t)throw qt;return $t}function At(e){if(!Zt)throw Gt;if("string"==typeof e){var t=(0,m["default"])(Kt).getInstance();t.initialize(),$t=t.parseURI(e)}else $t=e;kt()}function Ot(){At(null),Pt(null),Jt=null,on=null}function kt(){en?(en=!1,sn.reset(),dn.reset(),hn.reset(),nn.reset(),pn.reset(),rn.reset(),dn=null,an=null,n()&&Ht()):n()&&Ht()}function Mt(){var e=(0,C["default"])(Kt).getInstance();e.initialize();var t=(0,E["default"])(Kt).getInstance();t.initialize(),(0,h["default"])(Kt).getInstance().setConfig({dashManifestModel:vn}),rn.initialize(),rn.setConfig({errHandler:cn}),(pn=(0,P["default"])(Kt).getInstance()).initialize(),pn.setConfig({abrRulesCollection:t,synchronizationRulesCollection:e}),(dn=(0,s["default"])(Kt).getInstance()).setConfig({capabilities:fn,manifestLoader:Rt(),manifestModel:(0,y["default"])(Kt).getInstance(),dashManifestModel:vn,protectionController:on,adapter:sn,metricsModel:un,dashMetrics:gn,liveEdgeFinder:(0,c["default"])(Kt).getInstance(),mediaSourceController:(0,I["default"])(Kt).getInstance(),timeSyncController:(0,w["default"])(Kt).getInstance(),baseURLController:(0,x["default"])(Kt).getInstance(),errHandler:cn,timelineConverter:(0,B["default"])(Kt).getInstance()}),dn.initialize(tn,Jt),nn.setConfig({abrRulesCollection:t,rulesController:pn,streamController:dn})}function Rt(){return(0,l["default"])(Kt).create({errHandler:cn,parser:Dt(),metricsModel:un,requestModifier:(0,g["default"])(Kt).getInstance()})}function Dt(){return(0,L["default"])(Kt).create()}function Nt(){return(sn=(0,N["default"])(Kt).getInstance()).initialize(),sn.setConfig({dashManifestModel:vn}),sn}function Lt(){if(on)return on;var e=dashjs.Protection;if("function"==typeof e){var t=e(Kt).create();return k["default"].extend(e.events),M["default"].extend(e.events,{publicOnly:!0}),on=t.createProtectionSystem({log:Qt,videoModel:mn,capabilities:fn,eventBus:Yt,adapter:sn})}return null}function jt(){if(an)return an;var e=dashjs.MetricsReporting;if("function"==typeof e){var t=e(Kt).create();return an=t.createMetricsReporting({log:Qt,eventBus:Yt,mediaElement:St(),dashManifestModel:vn,metricsModel:un})}return null}function Ft(){var e=un.getReadOnlyMetricsFor("video")||un.getReadOnlyMetricsFor("audio");return gn.getCurrentDVRInfo(e)}function Bt(e){var t=Ft();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function Ut(){if(!en)throw Vt;var e=dn.getActiveStreamInfo();return e?dn.getStreamById(e.id):null}function Ht(){en||(en=!0,Qt("Playback Initialized"),Mt(),"string"==typeof $t?dn.load($t):dn.loadWithManifest($t))}var Vt="You must first call play() to init playback before calling this method",zt="You must first call attachView() to set the video element before calling this method",qt="You must first call attachSource() with a valid source before calling this method",Gt="MediaPlayer not initialized!",Kt=this.context,Yt=(0,O["default"])(Kt).getInstance(),Wt=(0,A["default"])(Kt).getInstance(),Qt=Wt.log,Xt=void 0,$t=void 0,Jt=void 0,Zt=void 0,en=void 0,tn=void 0,nn=void 0,rn=void 0,on=void 0,an=void 0,sn=void 0,un=void 0,ln=void 0,cn=void 0,fn=void 0,dn=void 0,pn=void 0,hn=void 0,gn=void 0,vn=void 0,mn=void 0,yn=void 0;return Xt={initialize:t,on:re,off:ie,extend:ne,attachView:Pt,attachSource:At,isReady:n,play:r,isPaused:U,pause:i,isSeeking:H,seek:Q,setMute:V,isMuted:z,setVolume:q,getVolume:G,time:X,duration:$,timeAsUTC:J,durationAsUTC:Z,getActiveStream:Ut,getDVRWindowSize:Y,getDVRSeekOffset:W,convertToTimeCode:te,formatUTC:ee,getVersion:oe,getDebug:ae,getBufferLength:K,getVideoModel:se,getVideoContainer:wt,getTTMLRenderingDiv:Ct,getVideoElement:St,getSource:xt,setLiveDelayFragmentCount:ue,setLiveDelay:le,useSuggestedPresentationDelay:ce,enableLastBitrateCaching:fe,enableLastMediaSettingsCaching:de,setMaxAllowedBitrateFor:pe,getMaxAllowedBitrateFor:he,setMaxAllowedRepresentationRatioFor:ge,getMaxAllowedRepresentationRatioFor:ve,setAutoPlay:me,getAutoPlay:ye,setScheduleWhilePaused:_e,getScheduleWhilePaused:be,getDashMetrics:Te,getMetricsFor:we,getQualityFor:Ee,setQualityFor:Se,getLimitBitrateByPortal:Pe,setLimitBitrateByPortal:Ce,getUsePixelRatioInLimitBitrateByPortal:Ie,setUsePixelRatioInLimitBitrateByPortal:xe,setTextTrack:Ae,getBitrateInfoListFor:Oe,setInitialBitrateFor:ke,getInitialBitrateFor:Me,setInitialRepresentationRatioFor:Re,getInitialRepresentationRatioFor:De,getStreamsFromManifest:Ne,getTracksFor:Le,getTracksForTypeFromManifest:je,getCurrentTrackFor:Fe,setInitialMediaSettingsFor:Be,getInitialMediaSettingsFor:Ue,setCurrentTrack:He,getTrackSwitchModeFor:Ve,setTrackSwitchModeFor:ze,setSelectionModeForInitialTrack:qe,getSelectionModeForInitialTrack:Ge,getAutoSwitchQuality:Ke,setAutoSwitchQuality:Ye,setFastSwitchEnabled:Xe,getFastSwitchEnabled:$e,getAutoSwitchQualityFor:We,setAutoSwitchQualityFor:Qe,enableBufferOccupancyABR:Je,setBandwidthSafetyFactor:dt,getBandwidthSafetyFactor:pt,setAbandonLoadTimeout:ht,retrieveManifest:Ze,addUTCTimingSource:et,removeUTCTimingSource:tt,clearDefaultUTCTimingSources:nt,restoreDefaultUTCTimingSources:rt,setBufferToKeep:ot,setBufferPruningInterval:at,setStableBufferTime:st,setBufferTimeAtTopQuality:ut,setFragmentLoaderRetryAttempts:gt,setFragmentLoaderRetryInterval:vt,setXHRWithCredentials:mt,setBufferTimeAtTopQualityLongForm:lt,setLongFormContentDurationThreshold:ct,setRichBufferThreshold:ft,getProtectionController:yt,attachProtectionController:_t,setProtectionData:bt,enableManifestDateHeaderTimeSource:it,displayCaptionsOnTop:Tt,attachVideoContainer:Et,attachTTMLRenderingDiv:It,reset:Ot},e(),Xt}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(47)),a=r(e(68)),s=r(e(71)),u=r(e(66)),l=r(e(49)),c=r(e(154)),f=r(e(151)),d=r(e(147)),p=r(e(57)),h=r(e(70)),g=r(e(156)),v=r(e(56)),m=r(e(103)),y=r(e(100)),_=r(e(101)),b=r(e(102)),T=r(e(60)),w=r(e(73)),E=r(e(131)),S=r(e(104)),P=r(e(129)),C=r(e(144)),I=r(e(67)),x=r(e(61)),A=r(e(8)),O=r(e(9)),k=r(e(13)),M=r(e(52)),R=r(e(10)),D=e(11),N=r(e(15)),L=r(e(23)),j=r(e(22)),F=r(e(17)),B=r(e(37));i.__dashjs_factory_name="MediaPlayer";var U=R["default"].getClassFactory(i);U.events=M["default"],n["default"]=U,t.exports=n["default"]},{10:10,100:100,101:101,102:102,103:103,104:104,11:11,129:129,13:13,131:131,144:144,147:147,15:15,151:151,154:154,156:156,17:17,22:22,23:23,37:37,47:47,49:49,52:52,56:56,57:57,60:60,61:61,66:66,67:67,68:68,70:70,71:71,73:73,8:8,9:9}],52:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(14)),u=new(function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.BUFFER_EMPTY="bufferstalled",this.BUFFER_LOADED="bufferloaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.LOG="log",this.MANIFEST_LOADED="manifestloaded",this.METRICS_CHANGED="metricschanged",this.METRIC_CHANGED="metricchanged",this.METRIC_ADDED="metricadded",this.METRIC_UPDATED="metricupdated",this.PERIOD_SWITCH_COMPLETED="streamswitchcompleted",this.PERIOD_SWITCH_STARTED="streamswitchstarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.STREAM_INITIALIZED="streaminitialized",this.TEXT_TRACKS_ADDED="alltexttracksadded",this.TEXT_TRACK_ADDED="texttrackadded",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated"}return o(e,s["default"]),e}());n["default"]=u,t.exports=n["default"]},{14:14}],53:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t,n){if(!e||"VIDEO"!==e.nodeName)return null;if(e._dashjs_player)return e._dashjs_player;var i,o=e.id||e.name||"video element";if(!(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==r})[0])&&e.src)(t=document.createElement("source")).src=e.src;else if(!t&&!e.src)return null;return n=n||{},(i=(0,a["default"])(n).create()).initialize(e,t.src,e.autoplay),i.getDebug().log("Converted "+o+" to dash.js player and added content: "+t.src),e._dashjs_player=i,i}function t(t,i){var o=[];t=t||"[data-dashjs-player]";for(var a=(i=i||document).querySelectorAll(t),s=0;s<a.length;s++){var u=e(a[s],null);o.push(u)}var l=i.querySelectorAll('source[type="'+r+'"]');for(s=0;s<l.length;s++){u=e(n(l[s]),null);o.push(u)}return o}function n(e){for(var t=!0;t;){var n=e;if(t=!1,"video"===n.nodeName.toLowerCase())return n;e=n.parentNode,t=!0}}var r="application/dash+xml";return{create:e,createAll:t}}function o(){window.removeEventListener("load",o),s.createAll()}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(51)),s=i();!(window&&window.dashjs&&window.dashjs.skipAutoCreate)&&window&&window.addEventListener&&("complete"===window.document.readyState?s.createAll():window.addEventListener("load",o)),n["default"]=s,t.exports=n["default"]},{51:51}],54:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){le=[],ce=!1,fe=!1,de=null,pe={},he=!1,ge=!1,me=(0,o["default"])(J).getInstance(),ye=(0,p["default"])(J).getInstance(),we=(0,c["default"])(J).getInstance(),_e=(0,s["default"])(J).getInstance(),be=(0,l["default"])(J).create(),Ee=(0,w["default"])(J).getInstance(),ee.on(_["default"].BUFFERING_COMPLETED,K,ue),ee.on(_["default"].DATA_UPDATE_COMPLETED,Y,ue)}function n(e,t){de=e,(ve=t)&&(ee.on(_["default"].KEY_ERROR,D,ue),ee.on(_["default"].SERVER_CERTIFICATE_UPDATED,D,ue),ee.on(_["default"].LICENSE_REQUEST_COMPLETE,D,ue),ee.on(_["default"].KEY_SYSTEM_SELECTED,D,ue),ee.on(_["default"].KEY_SESSION_CREATED,D,ue))}function r(e){ce?G():(ee.on(_["default"].CURRENT_TRACK_CHANGED,j,ue),V(e))}function i(){for(var e=le.length,t=0;t<e;t++)le[t].reset();le=[],ce=!1,fe=!1,k(),ee.off(_["default"].CURRENT_TRACK_CHANGED,j,ue)}function T(){ye&&(ye.pause(),ye=null),be&&(be.reset(),be=null),me.abortSearch(),i(),_e=null,we=null,ne=null,te=null,re=null,ie=null,Z=null,oe=null,he=!1,ge=!1,pe={},ee.off(_["default"].DATA_UPDATE_COMPLETED,Y,ue),ee.off(_["default"].BUFFERING_COMPLETED,K,ue),ee.off(_["default"].KEY_ERROR,D,ue),ee.off(_["default"].SERVER_CERTIFICATE_UPDATED,D,ue),ee.off(_["default"].LICENSE_REQUEST_COMPLETE,D,ue),ee.off(_["default"].KEY_SYSTEM_SELECTED,D,ue),ee.off(_["default"].KEY_SESSION_CREATED,D,ue)}function E(){return de.duration}function S(){return de.start}function P(){return de.index}function C(){return de.id}function I(){return de}function x(e){return null!==q(e)}function A(e){var t=q(e);return we.getBitrateList(t)}function O(){Te&&Te.start()}function k(){Te&&Te.clear()}function M(){return ce}function R(){return ge}function D(e){e.error&&(oe.mediaKeySessionError(e.error),Z(e.error),T())}function N(e){return"text"===e.type?e.mimeType:e.type}function L(e,t,n){var r,i,o=e.type;if("muxed"===o&&e)return Z(i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),oe.manifestError(i,"multiplexedrep",te.getValue()),!1;if("text"===o||"fragmentedText"===o||"embeddedText"===o)return!0;if(r=e.codec,Z(o+" codec: "+r),e.contentProtection&&!ie.supportsEncryptedMedia())oe.capabilityError("encryptedmedia");else if(!ie.supportsCodec((0,f["default"])(J).getInstance().getElement(),r))return i=o+"Codec ("+r+") is not supported.",oe.manifestError(i,"codec",n),Z(i),!1;return!0}function j(e){if(e.newMediaInfo.streamInfo.id===de.id){var t=W(e.oldMediaInfo);if(t){var n=ye.getTime(),r=t.getBuffer(),i=e.newMediaInfo,o=te.getValue(),a=le.indexOf(t),s=t.getMediaSource();"fragmentedText"!==i.type?(t.reset(!0),U(i,o,s,{buffer:r,replaceIdx:a,currentTime:n}),ye.seek(ye.getTime())):t.updateMediaInfo(o,i)}}}function F(e){return"webm"===e.split("/")[1].toLowerCase()}function B(e){var t=F(e.mimeType)?(0,v["default"])(J).getInstance():(0,g["default"])(J).getInstance();return t.setConfig({baseURLController:se,metricsModel:(0,d["default"])(J).getInstance()}),t.initialize(),(0,h["default"])(J).create({segmentBaseLoader:t,timelineConverter:ae,dashMetrics:(0,m["default"])(J).getInstance(),metricsModel:(0,d["default"])(J).getInstance(),baseURLController:se})}function U(e,t,n,r){var i=(0,a["default"])(J).create({indexHandler:B(e),timelineConverter:ae,adapter:re,manifestModel:te}),o=re.getAllMediaInfoForType(t,de,e.type);if(i.initialize(N(e),be,n,ue,Te),we.updateTopQualityIndex(e),r?(i.setBuffer(r.buffer),i.getIndexHandler().setCurrentTime(r.currentTime),le[r.replaceIdx]=i):le.push(i),"text"===e.type||"fragmentedText"===e.type){for(var s,u=0;u<o.length;u++)o[u].index===e.index&&(s=u),i.updateMediaInfo(t,o[u]);"fragmentedText"===e.type&&i.updateMediaInfo(t,o[s])}else i.updateMediaInfo(t,e);return i}function H(e,t){var n=te.getValue(),r=re.getAllMediaInfoForType(n,de,e),i=null;if(r&&0!==r.length){for(var o=0,a=r.length;o<a;o++)if(i=r[o],"embeddedText"===e)Ee.addEmbeddedTrack(i);else{if(!L(i,t,n))continue;_e.isMultiTrackSupportedByType(i.type)&&_e.addTrack(i,de)}"embeddedText"!==e&&0!==_e.getTracksFor(e,de).length&&(_e.checkInitialMediaSettingsForType(e,de),U(_e.getCurrentTrackFor(e,de),n,t))}else Z("No "+e+" data.")}function V(e){var t,n=te.getValue();if((Te=(0,u["default"])(J).getInstance()).initialize(),Te.setConfig({manifestModel:te,manifestUpdater:ne}),t=re.getEventsFor(n,de),Te.addInlineEvents(t),he=!0,H("video",e),H("audio",e),H("text",e),H("fragmentedText",e),H("embeddedText",e),H("muxed",e),G(),fe=!0,he=!1,0===le.length){var r="No streams to play.";oe.manifestError(r,"nostreams",n),Z(r)}else me.initialize(ae,le[0]),z()}function z(){for(var e=le.length,t=!!pe.audio||!!pe.video?new Error($,"Data update failed",null):null,n=0;n<e;n++)if(le[n].isUpdating()||he)return;ge=!0,ce=!0,fe&&(ve&&ve.initialize(te.getValue(),q("audio"),q("video")),ee.trigger(_["default"].STREAM_INITIALIZED,{streamInfo:de,error:t}))}function q(e){for(var t=le.length,n=null,r=0;r<t;r++)if((n=le[r]).getType()===e)return n.getMediaInfo();return null}function G(){for(var e=0,t=le.length;e<t;e++)le[e].createBuffer()}function K(e){if(e.streamInfo===de){for(var t=Q(),n=t.length,r=0;r<n;r++)if(!t[r].isBufferingCompleted())return;ee.trigger(_["default"].STREAM_BUFFERING_COMPLETED,{streamInfo:de})}}function Y(e){
var t=e.sender.getStreamProcessor();t.getStreamInfo()===de&&(pe[t.getType()]=e.error,z())}function W(e){return!!e&&Q().filter(function(t){return t.getType()===e.type})[0]}function Q(){for(var e,t,n=le.length,r=[],i=0;i<n;i++)"audio"!==(e=(t=le[i]).getType())&&"video"!==e&&"fragmentedText"!==e||r.push(t);return r}function X(e){Z("Manifest updated... updating data system wide.");var t=te.getValue();if(ce=!1,he=!0,ge=!1,de=e,Te){var n=re.getEventsFor(t,de);Te.addInlineEvents(n)}for(var r=0,i=le.length;r<i;r++){var o=le[r],a=re.getMediaInfoForType(t,de,o.getType());we.updateTopQualityIndex(a),o.updateMediaInfo(t,a)}he=!1,z()}var $=1,J=this.context,Z=(0,b["default"])(J).getInstance().log,ee=(0,y["default"])(J).getInstance(),te=e.manifestModel,ne=e.manifestUpdater,re=e.adapter,ie=e.capabilities,oe=e.errHandler,ae=e.timelineConverter,se=e.baseURLController,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,we=void 0,Ee=void 0;return ue={initialize:n,activate:r,deactivate:i,getDuration:E,getStartTime:S,getStreamIndex:P,getId:C,getStreamInfo:I,hasMedia:x,getBitrateListFor:A,startEventController:O,isActivated:M,isInitialized:R,updateData:X,reset:T,getProcessors:Q},t(),ue}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(154)),a=r(e(55)),s=r(e(66)),u=r(e(64)),l=r(e(65)),c=r(e(60)),f=r(e(104)),d=r(e(102)),p=r(e(68)),h=r(e(16)),g=r(e(18)),v=r(e(19)),m=r(e(17)),y=r(e(9)),_=r(e(13)),b=r(e(8)),T=r(e(10)),w=r(e(56));i.__dashjs_factory_name="Stream",n["default"]=T["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,104:104,13:13,154:154,16:16,17:17,18:18,19:19,55:55,56:56,60:60,64:64,65:65,66:66,68:68,8:8,9:9}],55:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){ne=[]}function n(e,t,n,r,i){te=e,ie=i,le=t,Z=(re=r).getStreamInfo().manifestInfo.isDynamic,W.initialize(this),(oe=(0,o["default"])(Y).getInstance()).initialize(te,this),ae=K(e),se=(0,c["default"])(Y).create({metricsModel:(0,p["default"])(Y).getInstance(),manifestModel:$,adapter:X,dashMetrics:(0,_["default"])(Y).getInstance(),dashManifestModel:(0,y["default"])(Y).getInstance(),timelineConverter:Q,rulesController:(0,f["default"])(Y).getInstance(),mediaPlayerModel:(0,d["default"])(Y).getInstance()}),ae.initialize(te,n,this),se.initialize(te,this),ce=(0,h["default"])(Y).create({metricsModel:(0,p["default"])(Y).getInstance(),errHandler:(0,T["default"])(Y).getInstance(),requestModifier:(0,g["default"])(Y).getInstance()}),(fe=se.getFragmentModel()).setLoader(ce),(ue=(0,b["default"])(Y).create()).initialize(this)}function r(e){W.reset(),ae&&(ae.reset(e),ae=null),se&&(se.reset(),se=null),ue&&(ue.reset(),ue=null),le=null,ce=null,ie=null,re=null,Z=null,ee=null,ne=[],te=null}function i(){return ue.isUpdating()}function w(){return te}function E(){return oe}function S(){return ue}function P(){return ce}function C(){return W}function I(){return le}function x(){return ae.getBuffer()}function A(e){ae.setBuffer(e)}function O(){return ae}function k(){return fe}function M(){return re.getStreamInfo()}function R(e,t){t===ee||t&&ee&&t.type!==ee.type||(ee=t),-1===ne.indexOf(t)&&ne.push(t),X.updateData(e,this)}function D(){return ne}function N(){return ee}function L(){return ae.getMediaSource()}function j(){return se}function F(){return ie}function B(){se.start()}function U(){se.stop()}function H(){return X.getCurrentRepresentationInfo($.getValue(),ue)}function V(e){return X.getRepresentationInfoForQuality($.getValue(),ue,e)}function z(){return ae.getIsBufferingCompleted()}function q(){return ae.getBuffer()||ae.createBuffer(ee)}function G(){return Z}function K(e){return"video"===e||"audio"===e||"fragmentedText"===e?(0,a["default"])(Y).create({metricsModel:(0,p["default"])(Y).getInstance(),manifestModel:$,sourceBufferController:(0,v["default"])(Y).getInstance(),errHandler:(0,T["default"])(Y).getInstance(),streamController:(0,s["default"])(Y).getInstance(),mediaController:(0,u["default"])(Y).getInstance(),adapter:X,textSourceBuffer:(0,m["default"])(Y).getInstance()}):(0,l["default"])(Y).create({errHandler:(0,T["default"])(Y).getInstance(),sourceBufferController:(0,v["default"])(Y).getInstance()})}var Y=this.context,W=e.indexHandler,Q=e.timelineConverter,X=e.adapter,$=e.manifestModel,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0;return J={initialize:n,isUpdating:i,getType:w,getBufferController:O,getABRController:E,getFragmentLoader:P,getFragmentModel:k,getScheduleController:j,getEventController:F,getFragmentController:I,getRepresentationController:S,getIndexHandler:C,getCurrentRepresentationInfo:H,getRepresentationInfoForQuality:V,isBufferingCompleted:z,createBuffer:q,getStreamInfo:M,updateMediaInfo:R,getMediaInfoArr:D,getMediaInfo:N,getMediaSource:L,getBuffer:x,setBuffer:A,start:B,stop:U,isDynamic:G,reset:r},t(),J}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(60)),a=r(e(63)),s=r(e(71)),u=r(e(66)),l=r(e(72)),c=r(e(69)),f=r(e(129)),d=r(e(101)),p=r(e(102)),h=r(e(48)),g=r(e(156)),v=r(e(70)),m=r(e(56)),y=r(e(22)),_=r(e(17)),b=r(e(21)),T=r(e(151)),w=r(e(10));i.__dashjs_factory_name="StreamProcessor",n["default"]=w["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,102:102,129:129,151:151,156:156,17:17,21:21,22:22,48:48,56:56,60:60,63:63,66:66,69:69,70:70,71:71,72:72}],56:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,n){L=!1,j=null,q=null,G=!1,K=NaN,Y=[],X=null,O||t();var r=n.getStreamProcessor();if(H=r.getMediaInfoArr(),V.setConfig({videoModel:W}),V.initialize(),z=!D.getIsTextTrack(e),M=(0,s["default"])(x).getInstance(),(U=(0,a["default"])(x).getInstance()).setConfig({boxParser:M}),z){q=r.getFragmentModel(),this.buffered=(0,u["default"])(x).create(),Y=N.getTracksFor("fragmentedText",Q.getActiveStreamInfo());for(var i=N.getCurrentTrackFor("fragmentedText",Q.getActiveStreamInfo()),o=0;o<Y.length;o++)if(Y[o]===i){$=o;break}}}function t(){J=[],H=[],W=(0,f["default"])(x).getInstance(),(V=(0,d["default"])(x).getInstance()).setConfig({videoModel:W}),V.initialize(),M=(0,s["default"])(x).getInstance(),(U=(0,a["default"])(x).getInstance()).setConfig({boxParser:M}),z=!1,$=null,!1,Z=0,ne=[],te=[],ee=null,O=!0}function n(e,t){function n(e,t){var n=new o["default"],r={subtitle:"subtitles",caption:"captions"},i=function(){var e=t.roles.length>0?r[t.roles[0]]:r.caption;return e===r.caption||e===r.subtitle?e:r.caption},a=function(){var e=!1;return t.codec&&t.codec.search("stpp")>=0&&(e=!0),t.mimeType&&t.mimeType.search("ttml")>=0&&(e=!0),e};n.captionData=e,n.lang=t.lang,n.label=t.id,n.index=t.index,n.isTTML=a(),n.video=W.getElement(),n.defaultTrack=C(t),n.isFragmented=z,n.isEmbedded=!!t.isEmbedded,n.kind=i();var s=(H?H.length:0)+J.length;V.addTextTrack(n,s)}var i,a,s,u,l=t.mediaInfo,c=l.type,f=l.mimeType,d=l.codec||f;if(d){if("fragmentedText"===c)if(G)if(a=U.getSamplesInfo(e).sampleList,!X&&a.length>0&&(X=a[0].cts-t.start*K),d.search("stpp")>=0)for(j=null!==j?j:I(d),s=0;s<a.length;s++){var g=a[s],v=g.cts,m=v-X;this.buffered.add(m/K,(m+g.duration)/K);var y=new DataView(e,g.offset,g.size);u=p["default"].Utils.dataViewToString(y,"utf-8");try{i=j.parse(u,v/K,(v+g.duration)/K),V.addCaptions($,X/K,i)}catch(w){A("TTML parser error: "+w.message)}}else{var b=[];for(s=0;s<a.length;s++){var T=a[s];T.cts-=X,this.buffered.add(T.cts/K,(T.cts+T.duration)/K);for(var E=e.slice(T.offset,T.offset+T.size),S=p["default"].parseBuffer(E),P=0;P<S.boxes.length;P++){var x=S.boxes[P];if(A("VTT box1: "+x.type),"vtte"!==x.type&&"vttc"===x.type){A("VTT vttc boxes.length = "+x.boxes.length);for(var O=0;O<x.boxes.length;O++){var k=x.boxes[O];if(A("VTT box2: "+k.type),"payl"===k.type){var M=k.cue_text;A("VTT cue_text = "+M);var D=T.cts/K,N=(T.cts+T.duration)/K;b.push({start:D,end:N,data:M,styles:{}}),A("VTT "+D+"-"+N+" : "+M)}}}}}b.length>0&&V.addCaptions($,0,b)}else{for(G=!0,s=0;s<H.length;s++)n(null,H[s]);K=U.getMediaTimescaleFromMoov(e)}else if("text"===c){y=new DataView(e,0,e.byteLength);u=p["default"].Utils.dataViewToString(y,"utf-8");try{n(i=I(d).parse(u),l)}catch(w){R.timedTextError(w,"parse",u)}}else if("video"===c)if("InitializationSegment"===t.segmentType){if(0===Z)for(Z=U.getMediaTimescaleFromMoov(e),s=0;s<J.length;s++)n(null,J[s])}else{if(0===Z)return void A("CEA-608: No timescale for embeddedTextTrack yet");var L=function(e,t){function n(e,n,r){var i=null;W.getTTMLRenderingDiv()?i=_(W.getElement(),e,n,r):i=[{start:e,end:n,data:r.getDisplayText(),styles:{}}];i&&V.addCaptions(t,0,i)}return n},F=U.getSamplesInfo(e).sequenceNumber;if(!ne[0]&&!ne[1]){var B=void 0,q=void 0;for(s=0;s<J.length;s++){if("CC1"===J[s].id?(0,q=V.getTrackIdxForId("CC1")):"CC3"===J[s].id&&(1,q=V.getTrackIdxForId("CC3")),-1===q)return void A("CEA-608: data before track is ready.");B=L(this,q),ne[s]=new h["default"].Cea608Parser(s,{newCue:B},null)}}if(Z&&-1==te.indexOf(F)){if(null!==ee&&F!==ee+1)for(s=0;s<ne.length;s++)ne[s]&&ne[s].reset();for(var Y=r(e),Q=0;Q<ne.length;Q++){var re=Y.fields[Q],ie=ne[Q];if(ie){for(s=0;s<re.length;s++)ie.addData(re[s][0]/Z,re[s][1]);Y.endTime&&ie.cueSplitAtTime(Y.endTime/Z)}}ee=F,te.push(F)}}}else A("No text type defined")}function r(e){var t=function(e,t,n){var r=e.length;if(r>0){if(t>=e[r-1][0])e.push([t,n]);else for(var i=r-1;i>=0;i--)if(t<e[i][0]){e.splice(i,0,[t,n]);break}}else e.push([t,n])},n=M.parse(e),r=n.getBox("moof"),i=n.getBox("tfdt"),o=n.getBoxes("trun"),a=null;if(0===o.length)return null;a=o[0],o.length>1&&A("Warning: Too many truns");for(var s=r.offset+a.data_offset,u=a.sample_count,l=s,c=i.baseMediaDecodeTime,f=new DataView(e),d={startTime:null,endTime:null,fields:[[],[]]},p=0,g=0;g<u;g++){for(var v=a.samples[g],m=c+p+v.sample_composition_time_offset,y=h["default"].findCea608Nalus(f,l,v.sample_size),_=0;_<y.length;_++)for(var b=h["default"].extractCea608DataFromRange(f,y[_]),T=0;T<2;T++)b[T].length>0&&t(d.fields[T],m,b[T]);p+=v.sample_duration,l+=v.sample_size}var w=c+p;return d.startTime=c,d.endTime=w,d}function i(e){for(var t="",n=0;n<e.length;++n){t+=e[n].uchar}return t.length-t.replace(/^\s+/,"").length}function l(e){return"left: "+3.125*e.x+"%; top: "+6.66*e.y1+"%; width: "+(100-3.125*e.x)+"%; height: "+6.66*Math.max(e.y2-1-e.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"}function g(e){return"red"==e?"rgb(255, 0, 0)":"green"==e?"rgb(0, 255, 0)":"blue"==e?"rgb(0, 0, 255)":"cyan"==e?"rgb(0, 255, 255)":"magenta"==e?"rgb(255, 0, 255)":"yellow"==e?"rgb(255, 255, 0)":"white"==e?"rgb(255, 255, 255)":"black"==e?"rgb(0, 0, 0)":e}function v(e,t){var n=e.videoHeight/15;return t?"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?g(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?g(t.background):"transparent")+";":"font-size: "+n+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}function m(e){return e.replace(/^\s+/g,"")}function y(e){return e.replace(/\s+$/g,"")}function _(e,t,n,r){var o=null,a=!1,s=-1,u={start:t,end:n,spans:[]},c="style_cea608_white_black",f={},d={},p=[],h=void 0,g=void 0;for(h=0;h<15;++h){var _=r.rows[h],b="",T=null;if(!1===_.isEmpty()){var w=i(_.chars);null===o&&(o={x:w,y1:h,y2:h+1,p:[]}),w!==s&&a&&(o.p.push(u),u={start:t,end:n,spans:[]},o.y2=h,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===f.hasOwnProperty(o.name)?(p.push(o),f[o.name]=o):f[o.name].p.contat(o.p),o={x:w,y1:h,y2:h+1,p:[]});for(var E=0;E<_.chars.length;++E){var S=_.chars[E],P=S.penState;if(null===T||!P.equals(T)){b.trim().length>0&&(u.spans.push({name:c,line:b,row:h}),b="");var C="style_cea608_"+P.foreground+"_"+P.background;P.underline&&(C+="_underline"),P.italics&&(C+="_italics"),d.hasOwnProperty(C)||(d[C]=JSON.parse(JSON.stringify(P))),T=P,c=C}b+=S.uchar}b.trim().length>0&&u.spans.push({name:c,line:b,row:h}),a=!0,s=w}else a=!1,s=-1,o&&(o.p.push(u),u={start:t,end:n,spans:[]},o.y2=h,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===f.hasOwnProperty(o.name)?(p.push(o),f[o.name]=o):f[o.name].p.contat(o.p),o=null)}o&&(o.p.push(u),o.y2=h+1,o.name="region_"+o.x+"_"+o.y1+"_"+o.y2,!1===f.hasOwnProperty(o.name)?(p.push(o),f[o.name]=o):f[o.name].p.contat(o.p),o=null);var I=[];for(h=0;h<p.length;++h){var x=p[h],A="sub_cea608_"+k++,O=document.createElement("div");O.id=A;var M=l(x);O.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+M;var R=document.createElement("div");R.className="paragraph bodyStyle",R.style.cssText=v(e);var D=document.createElement("div");D.className="cueUniWrapper",D.style.cssText="unicode-bidi: normal; direction: ltr;";for(var N=0;N<x.p.length;++N){var L=x.p[N],j=0;for(g=0;g<L.spans.length;++g){var F=L.spans[g];if(F.line.length>0){if(0!==g&&j!=F.row){var B=document.createElement("br");B.className="lineBreak",D.appendChild(B)}var U=!1;j===F.row&&(U=!0),j=F.row;var H=d[F.name],V=document.createElement("span");V.className="spanPadding "+F.name+" customSpanColor",V.style.cssText=v(e,H),0!==g&&U?g===L.spans.length-1?V.textContent=y(F.line):V.textContent=F.line:0===g&&L.spans.length>1&&F.row===L.spans[1].row?V.textContent=m(F.line):V.textContent=F.line.trim(),D.appendChild(V)}}}R.appendChild(D),O.appendChild(R);var z={bodyStyle:90};for(g in d)d.hasOwnProperty(g)&&(z[g]=90);I.push({type:"html",start:t,end:n,cueHTMLElement:O,cueID:A,cellResolution:[32,15],isFromCEA608:!0,regions:p,regionID:x.name,videoHeight:e.videoHeight,videoWidth:e.videoWidth,fontSize:z||{defaultFontSize:"100"},lineHeight:{},linePadding:{}})}return I}function b(){V.deleteAllTextTracks(),L=!1,j=null,U=null,H=null,V=null,z=!1,q=null,G=!1,K=NaN,Y=[],W=null,Q=null,O=!1,J=null}function T(e){O||t(),"CC1"===e.id||"CC3"===e.id?J.push(e):A("Warning: Embedded track "+e.id+" not supported!")}function w(){O=!1,J=[],ne=[null,null],te=[],ee=null}function E(){return L}function S(e){e&&(e.errHandler&&(R=e.errHandler),e.adapter&&e.adapter,e.dashManifestModel&&(D=e.dashManifestModel),e.mediaController&&(N=e.mediaController),e.videoModel&&(W=e.videoModel),e.streamController&&(Q=e.streamController),e.textTracks&&(V=e.textTracks),e.VTTParser&&(F=e.VTTParser),e.TTMLParser&&(B=e.TTMLParser))}function P(){for(var e=W.getElement().textTracks,t=e.length,n=t-J.length,r=V.getCurrentTrackIdx(),i=0;i<t;i++){var o=e[i];if(L="showing"!==o.mode,"showing"===o.mode){if(r!==i&&(V.setCurrentTrackIdx(i),V.addCaptions(i,0,null),z&&i<n)){var a=N.getCurrentTrackFor("fragmentedText",Q.getActiveStreamInfo()),s=Y[i];s!==a&&(q.abortRequests(),V.deleteTrackCues(a),N.setTrack(s),$=i)}break}}L&&V.setCurrentTrackIdx(-1)}function C(e){var t=!1;return J.length>1?t=e.id&&"CC1"===e.id:1===J.length?e.id&&"CC"===e.id.substring(0,2)&&(t=!0):t=e.index===H[0].index,t}function I(e){var t;return e.search("vtt")>=0?t=F:(e.search("ttml")>=0||e.search("stpp")>=0)&&(t=B).setConfig({videoModel:W}),t}var x=this.context,A=(0,c["default"])(x).getInstance().log,O=!1,k=0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0;return{initialize:e,append:n,abort:b,getAllTracksAreDisabled:E,setTextTrack:P,setConfig:S,addEmbeddedTrack:T,resetEmbedded:w}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(171)),a=r(e(32)),s=r(e(146)),u=r(e(148)),l=r(e(10)),c=r(e(8)),f=r(e(104)),d=r(e(57)),p=r(e(6)),h=r(e(2));i.__dashjs_factory_name="TextSourceBuffer",n["default"]=l["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,104:104,146:146,148:148,171:171,2:2,32:32,57:57,6:6,8:8}],57:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){x=window.VTTCue||window.TextTrackCue,k=[],M=[],R=-1,D=0,N=0,L=0,j=0,F=null,B=null,V=!1,z=2147483647,U=!!navigator.userAgent.match(/Chrome/)&&!navigator.userAgent.match(/Edge/),void 0!==document.fullscreenElement?H="fullscreenElement":void 0!==document.webkitIsFullScreen?H="webkitIsFullScreen":document.msFullscreenElement?H="msFullscreenElement":document.mozFullScreen&&(H="mozFullScreen")}function t(e){var t=k[e].kind,n=void 0!==k[e].label?k[e].label:k[e].lang,r=k[e].lang,i=U?document.createElement("track"):O.addTextTrack(t,n,r);return U&&(i.kind=t,i.label=n,i.srclang=r),i}function n(e){V=e,F&&!document[H]&&(F.style.zIndex=e?z:null)}function r(e,n){if(k.length!==n){if(k.push(e),void 0===O&&(O=e.video),k.length===n){k.sort(function(e,t){return e.index-t.index}),F=A.getTTMLRenderingDiv();for(var r=-1,i=0;i<k.length;i++){var o=t.call(this,i);M.push(o),k[i].defaultTrack&&(o["default"]=!0,r=i),U&&O.appendChild(o);var s=O.textTracks[i];s.nonAddedCues=[],F&&(k[i].isTTML||k[i].isEmbedded)?s.renderingType="html":s.renderingType="default",this.addCaptions(i,0,k[i].captionData),C.trigger(a["default"].TEXT_TRACK_ADDED)}v.call(this,r),r>=0&&(O.textTracks[r].mode="showing",this.addCaptions(r,0,null)),C.trigger(a["default"].TEXT_TRACKS_ADDED,{index:R,tracks:k})}}else I("Trying to add too many tracks.")}function i(e,t,n,r,i,o){var a=0,s=0;e/t>n/r?a=(s=t)/r*n:s=(a=e)/n*r;var u=0,l=0,c=0,f=0;return a/s>i?(f=s,u=(e-(c=s/(1/i)))/2,l=0):(c=a,u=0,l=(t-(f=a/i))/2),o?{x:u+.1*c,y:l+.1*f,w:.8*c,h:.8*f}:{x:u,y:l,w:c,h:f}}function s(){var e=this.getCurrentTextTrack();if(e&&"html"===e.renderingType){var t=O.clientWidth/O.clientHeight,n=!1;e.isFromCEA608&&(t=3.5/3,n=!0);var r=i.call(this,O.clientWidth,O.clientHeight,O.videoWidth,O.videoHeight,t,n),o=r.w,a=r.h;if(o!=L||a!=j){D=r.x,N=r.y,L=o,j=a,F.style.left=D+"px",F.style.top=N+"px",F.style.width=L+"px",F.style.height=j+"px";for(var s=0;e.activeCues&&s<e.activeCues.length;++s){var u=e.activeCues[s];u.scaleCue(u)}H&&document[H]||V?F.style.zIndex=z:F.style.zIndex=null}}}function l(e,t){return Math.round(.01*e*t).toString()+"px"}function c(e){var t=L,n=j;if(t*n!=0&&e.layout){var r=e.layout,i=l(r.left,t),o=l(r.top,n),a=l(r.width,t),s=l(r.height,n);F.style.left=i,F.style.top=o,F.style.width=a,F.style.height=s;var u=F.firstChild;u&&u.style&&(u.style.left="0px",u.style.top="0px",u.style.width=a,u.style.height=s)}}function f(e){var t,n,r,i=j,o=[L/e.cellResolution[0],i/e.cellResolution[1]];if(e.linePadding)for(t in e.linePadding)if(e.linePadding.hasOwnProperty(t)){n=(e.linePadding[t]*o[0]).toString();for(var a=document.getElementsByClassName("spanPadding"),s=0;s<a.length;s++)a[s].style.cssText=a[s].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n),a[s].style.cssText=a[s].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.fontSize)for(t in e.fontSize)if(e.fontSize.hasOwnProperty(t)){n=(e.fontSize[t]/100*o[1]).toString(),r="defaultFontSize"!==t?document.getElementsByClassName(t):document.getElementsByClassName("paragraph");for(var u=0;u<r.length;u++)r[u].style.cssText=r[u].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}if(e.lineHeight)for(t in e.lineHeight)if(e.lineHeight.hasOwnProperty(t)){n=(e.lineHeight[t]/100*o[1]).toString(),r=document.getElementsByClassName(t);for(var l=0;l<r.length;l++)r[l].style.cssText=r[l].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+n)}}function d(e,t,n){var r=e>=0?O.textTracks[e]:null,i=this;if(r){if("showing"!==r.mode)return void(n&&n.length>0&&(r.nonAddedCues=r.nonAddedCues.concat(n)));if(n||(n=r.nonAddedCues,r.nonAddedCues=[]),n&&0!==n.length)for(var o in n){var a,u=n[o];r.cellResolution=u.cellResolution,r.isFromCEA608=u.isFromCEA608,B||"html"!==u.type&&"image"!==u.type||(B=setInterval(s.bind(this),500)),"image"===u.type?((a=new x(u.start-t,u.end-t,"")).image=u.data,a.id=u.id,a.size=0,a.type="image",a.layout=u.layout,a.scaleCue=c.bind(i),a.onenter=function(){if(F&&"showing"===r.mode){var e=new Image;e.id="ttmlImage_"+this.id,e.src=this.image,e.style.cssText="z-index: 2147483648; pointer-events: none; display: block; visibility: visible !important; position: relative !important;",F.appendChild(e),c.call(i,this)}},a.onexit=function(){if(F)for(var e=F.childNodes,t=0;t<e.length;t++)e[t].id==="ttmlImage_"+this.id&&F.removeChild(e[t])}):"html"===u.type?((a=new x(u.start-t,u.end-t,"")).cueHTMLElement=u.cueHTMLElement,a.regions=u.regions,a.regionID=u.regionID,a.cueID=u.cueID,a.videoWidth=u.videoWidth,a.videoHeight=u.videoHeight,a.cellResolution=u.cellResolution,a.fontSize=u.fontSize,a.lineHeight=u.lineHeight,a.linePadding=u.linePadding,a.scaleCue=f.bind(i),F.style.left=D+"px",F.style.top=N+"px",F.style.width=L+"px",F.style.height=j+"px",a.onenter=function(){"showing"===r.mode&&(I("Cue "+this.startTime+"-"+this.endTime+" : "+this.cueHTMLElement.id+" : "+this.cueHTMLElement.innerText),F.appendChild(this.cueHTMLElement),f.call(i,this))},a.onexit=function(){for(var e=F.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&F.removeChild(e[t])}):(a=new x(u.start-t,u.end-t,u.data),u.styles&&(void 0!==u.styles.align&&a.hasOwnProperty("align")&&(a.align=u.styles.align),void 0!==u.styles.line&&a.hasOwnProperty("line")&&(a.line=u.styles.line),void 0!==u.styles.position&&a.hasOwnProperty("position")&&(a.position=u.styles.position),void 0!==u.styles.size&&a.hasOwnProperty("size")&&(a.size=u.styles.size))),r.addCue(a)}}}function p(){return R>=0?O.textTracks[R]:null}function h(){return R}function g(e){for(var t=-1,n=0;n<O.textTracks.length;n++)if(O.textTracks[n].label===e){t=n;break}return t}function v(e){(R=e,E.call(this),e>=0)?"html"===O.textTracks[e].renderingType?T.call(this):w.call(this):w.call(this)}function m(e){return O.textTracks[e]}function y(e){if(e.cues){for(var t=e.cues,n=t.length-1;n>=0;n--)e.removeCue(t[n]);e.mode="disabled"}}function _(){for(var e=M.length,t=0;t<e;t++)if(U)O.removeChild(M[t]);else{var n=m.call(this,t);n.nonAddedCues=[],y.call(this,n)}M=[],k=[],B&&(clearInterval(B),B=null),E.call(this)}function b(e){O.removeChild(M[e]),M.splice(e,1)}function T(){if(U){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet;O.id?t.insertRule("#"+O.id+"::cue {background: transparent}",0):0!==O.classList.length?t.insertRule("."+O.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0)}}}function w(){if(U){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}}function E(){if(F)for(;F.firstChild;)F.removeChild(F.firstChild)}function S(e){e&&e.videoModel&&(A=e.videoModel)}var P=this.context,C=(0,o["default"])(P).getInstance(),I=(0,u["default"])(P).getInstance().log,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0;return{initialize:e,displayCConTop:n,addTextTrack:r,addCaptions:d,getTextTrack:m,getCurrentTextTrack:p,getCurrentTrackIdx:h,setCurrentTrackIdx:v,getTrackIdxForId:g,deleteTrackCues:y,deleteAllTextTracks:_,deleteTextTrack:b,setConfig:S}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10)),u=r(e(8));i.__dashjs_factory_name="TextTracks",n["default"]=s["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,8:8,9:9}],58:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){function t(){var e;g=[],v=[],m=[],i(e={},a.HTTPRequest.MPD_TYPE,l["default"].DOWNLOAD_ERROR_ID_MANIFEST),i(e,a.HTTPRequest.XLINK_EXPANSION_TYPE,l["default"].DOWNLOAD_ERROR_ID_XLINK),i(e,a.HTTPRequest.INIT_SEGMENT_TYPE,l["default"].DOWNLOAD_ERROR_ID_INITIALIZATION),i(e,a.HTTPRequest.MEDIA_SEGMENT_TYPE,l["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.INDEX_SEGMENT_TYPE,l["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,l["default"].DOWNLOAD_ERROR_ID_CONTENT),i(e,a.HTTPRequest.OTHER_TYPE,l["default"].DOWNLOAD_ERROR_ID_CONTENT),y=e}function n(e,t){var r,i=e.request,o=new XMLHttpRequest,a=[],s=!0,u=!0,l=new Date,h=l,_=0,b=function(e){u=!1,i.requestStartDate=l,i.requestEndDate=new Date,i.firstByteDate=i.firstByteDate||l,i.checkExistenceOnly||d.addHttpRequest(i.mediaType,null,i.type,i.url,o.responseURL||null,i.serviceLocation||null,i.range||null,i.requestStartDate,i.firstByteDate,i.requestEndDate,o.status,i.duration,o.getAllResponseHeaders(),e?a:null)},T=function(){-1!==g.indexOf(o)&&(g.splice(g.indexOf(o),1),u&&(b(!1),t>0?(t--,m.push(setTimeout(function(){n(e,t)},c.getRetryIntervalForType(i.type)))):(f.downloadError(y[i.type],i.url,i),e.error&&e.error(i,"error",o.statusText),e.complete&&e.complete(i,o.statusText))))},w=function(t){var n=new Date;s&&(s=!1,(!t.lengthComputable||t.lengthComputable&&t.total!==t.loaded)&&(i.firstByteDate=n)),t.lengthComputable&&(i.bytesLoaded=t.loaded,i.bytesTotal=t.total),a.push({s:h,d:n.getTime()-h.getTime(),b:[t.loaded?t.loaded-_:0]}),h=n,_=t.loaded,e.progress&&e.progress()},E=function(){o.status>=200&&o.status<=299&&(b(!0),e.success&&e.success(o.response,o.statusText,o),e.complete&&e.complete(i,o.statusText))};try{var S=p.modifyRequestURL(i.url),P=i.checkExistenceOnly?"HEAD":"GET";o.open(P,S,!0),i.responseType&&(o.responseType=i.responseType),i.range&&o.setRequestHeader("Range","bytes="+i.range),i.requestStartDate||(i.requestStartDate=l),(o=p.modifyRequestHeader(o)).withCredentials=c.getXHRWithCredentials(),o.onload=E,o.onloadend=T,o.onerror=T,o.onprogress=w;var C=(new Date).getTime();isNaN(i.delayLoadingTime)||C>=i.delayLoadingTime?(g.push(o),o.send()):(r={xhr:o},v.push(r),r.delayTimeout=setTimeout(function(){if(-1!==v.indexOf(r)){v.splice(v.indexOf(r),1);try{g.push(r.xhr),r.xhr.send()}catch(t){r.xhr.onerror()}}},i.delayLoadingTime-C))}catch(I){o.onerror()}}function r(e){e.request&&n(e,c.getRetryAttemptsForType(e.request.type))}function o(){m.forEach(function(e){return clearTimeout(e)}),m=[],v.forEach(function(e){return clearTimeout(e.delayTimeout)}),v=[],g.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.abort()}),g=[]}var s=this.context,c=(0,u["default"])(s).getInstance(),f=e.errHandler,d=e.metricsModel,p=e.requestModifier,h=void 0,g=void 0,v=void 0,m=void 0,y=void 0;return h={load:r,abort:o},t(),h}Object.defineProperty(n,"__esModule",{value:!0});var a=e(179),s=r(e(10)),u=r(e(101)),l=r(e(151));o.__dashjs_factory_name="XHRLoader";var c=s["default"].getClassFactory(o);n["default"]=c,t.exports=n["default"]},{10:10,101:101,151:151,179:179}],59:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t,n){var i=function(r,i){t.resolved=!0,t.resolvedContent=r||null,f.trigger(c["default"].XLINK_ELEMENT_LOADED,{element:t,resolveObject:n,error:r||i?null:new o["default"](d,"Failed loading Xlink element: "+e)})};if(e===r)i(null,!0);else{var a=new u["default"](e,s.HTTPRequest.XLINK_TYPE);p.load({request:a,success:function(e){i(e)},error:function(){i(null)}})}}function n(){p&&(p.abort(),p=null)}var r="urn:mpeg:dash:resolve-to-zero:2013",i=this.context,f=(0,l["default"])(i).getInstance(),p=(0,a["default"])(i).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier});return{load:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(162)),a=r(e(58)),s=e(179),u=r(e(170)),l=r(e(9)),c=r(e(13)),f=r(e(10)),d=1;i.__dashjs_factory_name="XlinkLoader";var p=f["default"].getClassFactory(i);p.XLINK_LOADER_ERROR_LOADING_FAILURE=d,n["default"]=p,t.exports=n["default"]},{10:10,13:13,162:162,170:170,179:179,58:58,9:9}],60:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){se={video:!0,audio:!0},ue={},le={},ce={},fe={},de={},pe={},ge={},he={},me=!1,ye=!1,Ee=(0,s["default"])(te).getInstance(),we=(0,l["default"])(te).getInstance(),_e=(0,h["default"])(te).getInstance(),be=(0,g["default"])(te).getInstance(),Te=(0,v["default"])(te).getInstance()}function t(e,t){he[e]=t,ge[e]=ge[e]||{},ge[e].state=y,ne.on(d["default"].LOADING_PROGRESS,ee,this)}function n(e){e&&(e.abrRulesCollection&&(ie=e.abrRulesCollection),e.rulesController&&(oe=e.rulesController),e.streamController&&(ae=e.streamController))}function r(e,t){return ue[t]=ue[t]||{},ue[t].hasOwnProperty(e)||(ue[t][e]=0),Z(J($(ue[t][e],e),e,ue[t][e]),e)}function i(e){var t=Ee.getSavedBitrateSettings(e);if(!fe.hasOwnProperty(e))if(de.hasOwnProperty(e)){var n=_e.getValue(),r=be.getAdaptationForType(n,0,e).Representation;if(Array.isArray(r)){var i=Math.max(Math.round(r.length*de[e])-1,0);fe[e]=r[i].bandwidth}else fe[e]=0}else isNaN(t)?fe[e]="video"===e?_:b:fe[e]=t;return fe[e]}function p(e,t){fe[e]=t}function w(e){return de.hasOwnProperty(e)?de[e]:null}function E(e,t){de[e]=t}function S(e){return fe.hasOwnProperty("max")&&fe.max.hasOwnProperty(e)?fe.max[e]:NaN}function P(e,t){fe.max=fe.max||{},fe.max[e]=t}function C(e){return de.hasOwnProperty("max")&&de.max.hasOwnProperty(e)?de.max[e]:1}function I(e,t){de.max=de.max||{},de.max[e]=t}function x(e){return se[e]}function A(e,t){se[e]=t}function O(){return me}function k(e){me=e}function M(){return ye}function R(e){ye=e}function D(e,t){var n=e.getType(),i=e.getStreamInfo(),a=i.id,s=function(e){var o=r(n,a),s=e.value;s<0&&(s=0),s>o&&(s=o);var u=K(n,i);s!==u&&(ge[n].state===y||s>u)&&(Q(n,a,e.confidence),L(n,i,u,s,e.reason)),t&&t()};if(x(n)){var l=ie.getRules(u["default"].QUALITY_SWITCH_RULES);oe.applyRules(l,e,s,K(n,i),function(e,t){return e=e===o["default"].NO_CHANGE?0:e,Math.max(e,t)})}else t&&t()}function N(e,t,n,i){var o=t.id,a=K(e,t);if(!(null!==n&&!isNaN(n)&&n%1==0))throw new Error("argument is not an integer");n!==a&&n>=0&&n<=r(e,o)&&L(e,t,a,n,i)}function L(e,t,n,r,i){Y(e,t.id,r),ne.trigger(d["default"].QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:t,oldQuality:n,newQuality:r,reason:i})}function j(e,t){ge[e].state=t}function F(e){return ge[e].state}function B(e,t){var n=U(e);if(!n||0===n.length)return T;for(var r=n.length-1;r>=0;r--){if(1e3*t>=n[r].bitrate)return r}return 0}function U(e){if(!e||!e.bitrateList)return null;for(var t,n=e.bitrateList,r=e.type,i=[],o=0,s=n.length;o<s;o++)(t=new a["default"]).mediaType=r,t.qualityIndex=o,t.bitrate=n[o].bandwidth,t.width=n[o].width,t.height=n[o].height,i.push(t);return i}function H(e,t){pe[e]=t}function V(e){return pe[e]}function z(e){var t=e.type,n=e.streamInfo.id,r=e.representationCount-1;return X(t,n,r),r}function q(e){var t=e.id,n=K("audio",e),i=K("video",e);return n===r("audio",t)&&i===r("video",t)}function G(){ne.off(d["default"].LOADING_PROGRESS,ee,this),clearTimeout(ve),ve=null,e()}function K(e,t){var n=t.id;return le[n]=le[n]||{},le[n].hasOwnProperty(e)||(le[n][e]=T),le[n][e]}function Y(e,t,n){le[t]=le[t]||{},le[t][e]=n}function W(e,t){return ce[t]=ce[t]||{},ce[t].hasOwnProperty(e)||(ce[t][e]=0),ce[t][e]}function Q(e,t,n){ce[t]=ce[t]||{},ce[t][e]=n}function X(e,t,n){ue[t]=ue[t]||{},ue[t][e]=n}function $(e,t){var n=S(t);if(isNaN(n)||!he[t])return e;var r=B(he[t].getMediaInfo(),n);return Math.min(e,r)}function J(e,t,n){var r=C(t);return isNaN(r)||r>=1||r<0?e:Math.min(e,Math.round(n*r))}function Z(e,t){if("video"!==t||!me||!he[t])return e;var n=ye&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,r=Te.getElement(),i=r.clientWidth*n,o=r.clientHeight*n,a=_e.getValue(),s=be.getAdaptationForType(a,0,t).Representation,u=e;if(i>0&&o>0){for(;u>0&&s[u]&&i<s[u].width&&i-s[u-1].width<s[u].width-i;)u-=1;s.length-2>=u&&s[u].width===s[u+1].width&&(u=Math.min(e,u+1))}return u}function ee(e){var t=e.request.mediaType;if(x(t)){var n=function(){var n=ie.getRules(u["default"].ABANDON_FRAGMENT_RULES),r=he[t].getScheduleController();if(!r)return{v:void 0};var i=function(n){if(n.confidence===o["default"].STRONG&&n.value<K(t,ae.getActiveStreamInfo())){var i=r.getFragmentModel(),a=i.getRequests({state:c["default"].FRAGMENT_MODEL_LOADING,index:e.request.index})[0];a&&(i.abortRequests(),j(t,m),N(t,ae.getActiveStreamInfo(),n.value,n.reason),ne.trigger(d["default"].FRAGMENT_LOADING_ABANDONED,{streamProcessor:he[t],request:a,mediaType:t}),clearTimeout(ve),ve=setTimeout(function(){j(t,y),ve=null},we.getAbandonLoadTimeout()))}};oe.applyRules(n,he[t],i,e,function(e,t){return t})}();if("object"==typeof n)return n.v}}var te=this.context,ne=(0,
f["default"])(te).getInstance(),re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,we=void 0,Ee=void 0;return re={isPlayingAtTopQuality:q,updateTopQualityIndex:z,getAverageThroughput:V,getBitrateList:U,getQualityForBitrate:B,getMaxAllowedBitrateFor:S,setMaxAllowedBitrateFor:P,getMaxAllowedRepresentationRatioFor:C,setMaxAllowedRepresentationRatioFor:I,getInitialBitrateFor:i,setInitialBitrateFor:p,getInitialRepresentationRatioFor:w,setInitialRepresentationRatioFor:E,setAutoSwitchBitrateFor:A,getAutoSwitchBitrateFor:x,setLimitBitrateByPortal:k,getLimitBitrateByPortal:O,getUsePixelRatioInLimitBitrateByPortal:M,setUsePixelRatioInLimitBitrateByPortal:R,getConfidenceFor:W,getQualityFor:K,getAbandonmentStateFor:F,setAbandonmentStateFor:j,setPlaybackQuality:N,getPlaybackQuality:D,setAverageThroughput:H,getTopQualityIndexFor:r,initialize:t,setConfig:n,reset:G},e(),re}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(160)),s=r(e(149)),u=r(e(131)),l=r(e(101)),c=r(e(99)),f=r(e(9)),d=r(e(13)),p=r(e(10)),h=r(e(100)),g=r(e(22)),v=r(e(104)),m="abandonload",y="allowload",_=1e3,b=100,T=0;i.__dashjs_factory_name="AbrController";var w=p["default"].getSingletonFactory(i);w.ABANDON_LOAD=m,w.QUALITY_DEFAULT=T,n["default"]=w,t.exports=n["default"]},{10:10,100:100,101:101,104:104,13:13,130:130,131:131,149:149,160:160,22:22,9:9,99:99}],61:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){v.invalidateSelectedIndexes(e.entry)}function t(){v=(0,o["default"])(p).create(),m=(0,a["default"])(p).create(),h.on(f["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,e,d)}function n(e){v.update(e),m.chooseSelectorFromManifest(e)}function r(e){var t=v.getForPath(e).reduce(function(e,t){var n=m.select(t);return n&&(g.isRelative(n.url)?e.url+=n.url:g.isPathAbsolute(n.url)?e.url=g.parseOrigin(e.url)+n.url:(e.url=n.url,e.serviceLocation=n.serviceLocation)),e},new u["default"]);if(!g.isRelative(t.url))return t}function i(){v.reset(),m.reset()}function l(e){n(e)}var d=void 0,p=this.context,h=(0,c["default"])(p).getInstance(),g=(0,s["default"])(p).getInstance(),v=void 0,m=void 0;return d={reset:i,initialize:l,resolve:r},t(),d}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(98)),a=r(e(145)),s=r(e(158)),u=r(e(40)),l=r(e(10)),c=r(e(9)),f=r(e(13));i.__dashjs_factory_name="BaseURLController",n["default"]=l["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,145:145,158:158,40:40,9:9,98:98}],62:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){return!!(s.length&&e&&e.length)&&-1!==s.indexOf(e)}function n(e){-1===s.indexOf(e)&&(s.push(e),u.trigger(l,{entry:e}))}function r(e){e.error&&n(e.request.serviceLocation)}function i(){c&&u.on(c,r,this)}function o(){s=[]}var s=[],u=(0,a["default"])(this.context).getInstance(),l=e.updateEventName,c=e.loadFailedEventName;return i(),{add:n,contains:t,reset:o}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(9));i.__dashjs_factory_name="BlackListController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,9:9}],63:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){he=u["default"].QUALITY_DEFAULT,ge=!1,ve=0,me=Number.POSITIVE_INFINITY,_e=0,be=0,we=null,Ee=y,Pe=0,!1,Ce=!1,Ie=!1,xe=!1}function n(e,t,n){Te=e,J(t),Oe=n,Re=(0,a["default"])(ne).getInstance(),Ae=(0,l["default"])(ne).getInstance(),ke=(0,u["default"])(ne).getInstance(),De=(0,v["default"])(ne).getInstance(),Me=Oe.getScheduleController(),he=ke.getQualityFor(Te,Oe.getStreamInfo()),ie.on(d["default"].DATA_UPDATE_COMPLETED,U,this),ie.on(d["default"].INIT_FRAGMENT_LOADED,h,this),ie.on(d["default"].MEDIA_FRAGMENT_LOADED,T,this),ie.on(d["default"].QUALITY_CHANGE_REQUESTED,S,this),ie.on(d["default"].STREAM_COMPLETED,H,this),ie.on(d["default"].PLAYBACK_PROGRESS,C,this),ie.on(d["default"].PLAYBACK_TIME_UPDATED,C,this),ie.on(d["default"].PLAYBACK_RATE_CHANGED,q,this),ie.on(d["default"].PLAYBACK_SEEKING,P,this),ie.on(d["default"].WALLCLOCK_TIME_UPDATED,z,this),ie.on(d["default"].CURRENT_TRACK_CHANGED,V,this,f["default"].EVENT_PRIORITY_HIGH),ie.on(d["default"].SOURCEBUFFER_APPEND_COMPLETED,E,this),ie.on(d["default"].SOURCEBUFFER_REMOVE_COMPLETED,F,this)}function r(e){if(!e||!ye||!Oe)return null;var t=null;try{(t=se.createSourceBuffer(ye,e))&&t.hasOwnProperty("initialize")&&t.initialize(Te,this)}catch(n){ue.mediaSourceError("Error creating "+Te+" source buffer.")}return Q(t),B(Oe.getRepresentationInfoForQuality(he).MSETimeOffset),t}function i(){return Oe.getStreamInfo().id===le.getActiveStreamInfo().id}function h(e){e.fragmentModel===Oe.getFragmentModel()&&(re("Init fragment finished loading saving to",Te+"'s init cache"),De.save(e.chunk),w(e.chunk))}function b(e,t){var n=De.extract(e,Te,t);n?w(n):ie.trigger(d["default"].INIT_REQUESTED,{sender:pe})}function T(e){if(e.fragmentModel===Oe.getFragmentModel()){var t=e.chunk,n=t.bytes,r=t.quality,i=Oe.getRepresentationInfoForQuality(r),a=ae.getValue(),s=fe.getEventsFor(a,i.mediaInfo,Oe),u=fe.getEventsFor(a,i,Oe);if(s.length>0||u.length>0){var l=M(n,Oe.getFragmentModel().getRequests({state:o["default"].FRAGMENT_MODEL_EXECUTED,quality:r,index:t.index})[0],s,u);Oe.getEventController().addInbandEvents(l)}t.bytes=R(n),w(t)}}function w(e){Ce=!0,Se=e,se.append(we,e),"video"===e.mediaInfo.type&&e.mediaInfo.embeddedCaptions&&de.append(e.bytes,e)}function E(e){if(we===e.buffer){if(e.error||!D())return e.error.code===s["default"].QUOTA_EXCEEDED_ERROR_CODE&&(me=.8*se.getTotalBufferedTime(we)),void(e.error.code!==s["default"].QUOTA_EXCEEDED_ERROR_CODE&&D()||(ie.trigger(d["default"].QUOTA_EXCEEDED,{sender:pe,criticalBufferLevel:me}),j(L())));isNaN(Se.index)||(_e=Math.max(Se.index,_e),A());var t=se.getAllRanges(we);if(t&&t.length>0)for(var n=0,r=t.length;n<r;n++)re("Buffered Range for type:",Te,":",t.start(n)," - ",t.end(n));C(),Ce=!1,ie.trigger(d["default"].BYTES_APPENDED,{sender:pe,quality:Se.quality,startTime:Se.start,index:Se.index,bufferedRanges:t})}}function S(e){he!==e.newQuality&&Te===e.mediaType&&Oe.getStreamInfo().id===e.streamInfo.id&&(B(Oe.getRepresentationInfoForQuality(e.newQuality).MSETimeOffset),he=e.newQuality)}function P(){be=0,ge=!1,C()}function C(){I(),x()}function I(){ve=se.getBufferLength(we,Ae.getTime()),ie.trigger(d["default"].BUFFER_LEVEL_UPDATED,{sender:pe,bufferLevel:ve}),O()}function x(){i()&&(oe.addBufferState(Te,Ee,Me.getBufferTarget()),oe.addBufferLevel(Te,new Date,1e3*ve))}function A(){_e===be-1&&!ge&&(ge=!0,ie.trigger(d["default"].BUFFERING_COMPLETED,{sender:pe,streamInfo:Oe.getStreamInfo()}))}function O(){k(ve<_&&!ge?y:m)}function k(e){Ee===e||"fragmentedText"===Te&&de.getAllTracksAreDisabled()||(Ee=e,x(),ie.trigger(d["default"].BUFFER_LEVEL_STATE_CHANGED,{sender:pe,state:e,mediaType:Te,streamInfo:Oe.getStreamInfo()}),ie.trigger(e===m?d["default"].BUFFER_LOADED:d["default"].BUFFER_EMPTY,{mediaType:Te}),re(e===m?"Got enough buffer to start.":"Waiting for more buffer before starting playback."))}function M(e,t,n,r){var i=Math.max(isNaN(t.startTime)?0:t.startTime,0),o=[],a=[];xe=!1;for(var s=n.concat(r),u=0,l=s.length;u<l;u++)o[s[u].schemeIdUri]=s[u];var c=(0,p["default"])(ne).getInstance().parse(e).getBoxes("emsg");for(u=0,l=c.length;u<l;u++){var f=fe.getEvent(c[u],o,i);f&&a.push(f)}return a}function R(e){if(!xe)return e;for(var t=e.length,n=Math.pow(256,2),r=Math.pow(256,3),i=new Uint8Array(e.length),o=0,a=0;o<t;){var s=String.fromCharCode(e[o+4],e[o+5],e[o+6],e[o+7]),u=e[o]*r+e[o+1]*n+256*e[o+2]+1*e[o+3];if("emsg"!=s)for(var l=o;l<o+u;l++)i[a]=e[l],a++;o+=u}return i.subarray(0,a)}function D(){return se.getTotalBufferedTime(we)<me}function N(){if("fragmentedText"!==Te){var e=we.buffered.length?we.buffered.start(0):0,t=Ae.getTime()-e-Re.getBufferToKeep();t>0&&(re("pruning buffer: "+t+" seconds."),Ie=!0,se.remove(we,0,Math.round(e+t),ye))}}function L(){if(!we)return null;var e=Ae.getTime(),t=Oe.getFragmentModel().getRequests({state:o["default"].FRAGMENT_MODEL_EXECUTED,time:e})[0],n=se.getBufferRange(we,e),r=t&&!isNaN(t.startTime)?t.startTime:Math.floor(e);return null===n&&we.buffered.length>0&&(r=we.buffered.end(we.buffered.length-1)),{start:we.buffered.start(0),end:r}}function j(e){e&&we&&se.remove(we,e.start,e.end,ye)}function F(e){we===e.buffer&&(Ie&&(Ie=!1),I(),ie.trigger(d["default"].BUFFER_CLEARED,{sender:pe,from:e.from,to:e.to,hasEnoughSpaceToAppend:D()}))}function B(e){we&&we.timestampOffset!==e&&!isNaN(e)&&(we.timestampOffset=e)}function U(e){e.sender.getStreamProcessor()!==Oe||e.error||B(e.currentRepresentation.MSETimeOffset)}function H(e){e.fragmentModel===Oe.getFragmentModel()&&(be=e.request.index,A())}function V(e){we&&e.newMediaInfo.type===Te&&e.newMediaInfo.streamInfo.id===Oe.getStreamInfo().id&&ce.getSwitchMode(Te)===c["default"].TRACK_SWITCH_MODE_ALWAYS_REPLACE&&j(L())}function z(){++Pe*(Re.getWallclockTimeUpdateInterval()/1e3)>=Re.getBufferPruningInterval()&&!Ce&&(Pe=0,N())}function q(){O()}function G(){return Te}function K(){return Oe}function Y(e){Oe=e}function W(){return we}function Q(e){we=e}function X(){return ve}function $(){return me}function J(e){ye=e}function Z(){return ye}function ee(){return ge}function te(e){ie.off(d["default"].DATA_UPDATE_COMPLETED,U,this),ie.off(d["default"].QUALITY_CHANGE_REQUESTED,S,this),ie.off(d["default"].INIT_FRAGMENT_LOADED,h,this),ie.off(d["default"].MEDIA_FRAGMENT_LOADED,T,this),ie.off(d["default"].STREAM_COMPLETED,H,this),ie.off(d["default"].CURRENT_TRACK_CHANGED,V,this),ie.off(d["default"].PLAYBACK_PROGRESS,C,this),ie.off(d["default"].PLAYBACK_TIME_UPDATED,C,this),ie.off(d["default"].PLAYBACK_RATE_CHANGED,q,this),ie.off(d["default"].PLAYBACK_SEEKING,P,this),ie.off(d["default"].WALLCLOCK_TIME_UPDATED,z,this),ie.off(d["default"].SOURCEBUFFER_APPEND_COMPLETED,E,this),ie.off(d["default"].SOURCEBUFFER_REMOVE_COMPLETED,F,this),me=Number.POSITIVE_INFINITY,Ee=y,he=u["default"].QUALITY_DEFAULT,be=0,_e=0,Se=null,!1,ge=!1,Ce=!1,Ie=!1,Ae=null,Oe=null,ke=null,Me=null,e||(se.abort(ye,we),se.removeSourceBuffer(ye,we)),we=null}var ne=this.context,re=(0,g["default"])(ne).getInstance().log,ie=(0,f["default"])(ne).getInstance(),oe=e.metricsModel,ae=e.manifestModel,se=e.sourceBufferController,ue=e.errHandler,le=e.streamController,ce=e.mediaController,fe=e.adapter,de=e.textSourceBuffer,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,we=void 0,Ee=void 0,Se=void 0,Pe=void 0,Ce=void 0,Ie=void 0,xe=void 0,Ae=void 0,Oe=void 0,ke=void 0,Me=void 0,Re=void 0,De=void 0;return pe={initialize:n,createBuffer:r,getType:G,getStreamProcessor:K,setStreamProcessor:Y,getBuffer:W,setBuffer:Q,getBufferLevel:X,getCriticalBufferLevel:$,setMediaSource:J,getMediaSource:Z,getIsBufferingCompleted:ee,switchInitData:b,reset:te},t(),pe}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(99)),a=r(e(101)),s=r(e(70)),u=r(e(60)),l=r(e(68)),c=r(e(66)),f=r(e(9)),d=r(e(13)),p=r(e(146)),h=r(e(10)),g=r(e(8)),v=r(e(152)),m="bufferLoaded",y="bufferStalled",_=.5;i.__dashjs_factory_name="BufferController";var b=h["default"].getClassFactory(i);b.BUFFER_LOADED=m,b.BUFFER_EMPTY=y,n["default"]=b,t.exports=n["default"]},{10:10,101:101,13:13,146:146,152:152,60:60,66:66,68:68,70:70,8:8,9:9,99:99}],64:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){x=!1,_={},b={},T={},w=null,S=(E=100)/1e3,I=(0,o["default"])(v).getInstance()}function t(){null!==w&&x&&(clearInterval(w),w=null,x=!1)}function n(){m("Start Event Controller"),x||isNaN(E)||(x=!0,w=setInterval(l,E))}function r(e){if(_={},e)for(var t=0;t<e.length;t++){var n=e[t];_[n.id]=n,m("Add inline event with id "+n.id)}m("Added "+e.length+" inline events")}function i(e){for(var t=0;t<e.length;t++){var n=e[t];n.id in b?m("Repeated event with id "+n.id):(b[n.id]=n,m("Add inband event with id "+n.id))}}function a(){if(T)for(var e=I.getTime(),t=Object.keys(T),n=0;n<t.length;n++){var r=t[n],i=T[r];null!==i&&(i.duration+i.presentationTime)/i.eventStream.timescale<e&&(m("Remove Event "+r+" at time "+e),i=null,delete T[r])}}function l(){f(b),f(_),a()}function c(){var e=P.getValue(),t=e.url;e.hasOwnProperty("Location")&&(t=e.Location),m("Refresh manifest @ "+t),C.getManifestLoader().load(t)}function f(e){var t,n=I.getTime();if(e)for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],a=e[o];void 0!==a&&((0===(t=a.presentationTime/a.eventStream.timescale)||t<=n&&t+S>n)&&(m("Start Event "+o+" at "+n),a.duration>0&&(T[o]=a),a.eventStream.schemeIdUri==h&&a.eventStream.value==g?c():y.trigger(a.eventStream.schemeIdUri,{event:a}),delete e[o]))}}function d(e){e&&(e.manifestModel&&(P=e.manifestModel),e.manifestUpdater&&(C=e.manifestUpdater))}function p(){t(),_=null,b=null,T=null,I=null}var h="urn:mpeg:dash:event:2012",g=1,v=this.context,m=(0,s["default"])(v).getInstance().log,y=(0,u["default"])(v).getInstance(),_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,S=void 0,P=void 0,C=void 0,I=void 0,x=void 0;return{initialize:e,addInlineEvents:r,addInbandEvents:i,clear:t,start:n,setConfig:d,reset:p}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(68)),a=r(e(10)),s=r(e(8)),u=r(e(9));i.__dashjs_factory_name="EventController",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,68:68,8:8,9:9}],65:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){y={},v.on(c["default"].FRAGMENT_LOADING_COMPLETED,p,m)}function t(e){var t=null;return null!=e&&e.byteLength>0&&(t=new Uint8Array(e)),t}function n(e){var t=y[e];return t||(t=(0,s["default"])(h).create({metricsModel:(0,u["default"])(h).getInstance()}),y[e]=t),t}function r(e){return e&&e.type&&e.type===o.HTTPRequest.INIT_SEGMENT_TYPE}function i(){for(var e in v.off(c["default"].FRAGMENT_LOADING_COMPLETED,p,this),y)y[e].reset();y={}}function f(e,t,n){var r=new a["default"];return r.streamId=n,r.mediaInfo=t.mediaInfo,r.segmentType=t.type,r.start=t.startTime,r.duration=t.duration,r.end=r.start+r.duration,r.bytes=e,r.index=t.index,r.quality=t.quality,r}function p(e){if(y[e.request.mediaType]===e.sender){var t=e.sender.getScheduleController(),n=e.request,i=e.response,o=r(n),a=t.getStreamProcessor().getStreamInfo().id;if(!i)return void g("No "+n.mediaType+" bytes to push.");var s=f(i,n,a);v.trigger(o?c["default"].INIT_FRAGMENT_LOADED:c["default"].MEDIA_FRAGMENT_LOADED,{chunk:s,fragmentModel:e.sender})}}var h=this.context,g=(0,d["default"])(h).getInstance().log,v=(0,l["default"])(h).getInstance(),m=void 0,y=void 0;return m={process:t,getModel:n,isInitializationRequest:r,reset:i},e(),m}Object.defineProperty(n,"__esModule",{value:!0});var o=e(179),a=r(e(161)),s=r(e(99)),u=r(e(102)),l=r(e(9)),c=r(e(13)),f=r(e(10)),d=r(e(8));i.__dashjs_factory_name="FragmentController",n["default"]=f["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,13:13,161:161,179:179,8:8,9:9,99:99}],66:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){F={},O(),A()}function t(e,t){var n=y(e),i=r(e,t),o=[];return"fragmentedText"===e?void v(i[0]):(n||m(e,n=j.getSavedMediaSettings(e)),void(i&&0!==i.length&&(n&&i.forEach(function(e){x(n,e)&&o.push(e)}),v(0===o.length?k(i):o.length>1?k(o):o[0]))))}function n(e){var t=e?e.type:null,n=e?e.streamInfo.id:null,r=y(t);return!(!e||!E(t)||(F[n]=F[n]||M(),F[n][t].list.indexOf(e)>=0||(F[n][t].list.push(e),r&&x(r,e)&&!i(t,e.streamInfo)&&v(e),0)))}function r(e,t){if(!e||!t)return[];var n=t.id;return F[n]&&F[n][e]?F[n][e].list:[]}function i(e,t){return!e||!t||t&&!F[t.id]?null:F[t.id][e].current}function s(e){var t=e.type,n=e.streamInfo.id;return F[n]&&F[n][t]&&S(F[n][t].current,e)}function v(e){if(e){var t=e.type,n=e.streamInfo,r=n.id,a=i(t,n);if(F[r]&&F[r][t]&&(!a||!S(e,a))){F[r][t].current=e,a&&N.trigger(o["default"].CURRENT_TRACK_CHANGED,{oldMediaInfo:a,newMediaInfo:e,switchMode:H[t]});var s=I(e);s&&F[r][t].storeLastSettings&&(s.roles&&(s.role=s.roles[0],delete s.roles),s.accessibility&&(s.accessibility=s.accessibility[0]),s.audioChannelConfiguration&&(s.audioChannelConfiguration=s.audioChannelConfiguration[0]),j.setSavedMediaSettings(t,s))}}}function m(e,t){e&&t&&(B[e]=t)}function y(e){return e?B[e]:null}function _(e,t){return-1!==V.indexOf(t)?void(H[e]=t):void D("track switch mode is not supported: "+t)}function b(e){return H[e]}function T(e){return-1!==z.indexOf(e)?void(U=e):void D("track selection mode is not supported: "+e)}function w(){return U||g}function E(e){return"audio"===e||"video"===e||"text"===e||"fragmentedText"===e}function S(e,t){var n=e.id===t.id,r=e.viewpoint===t.viewpoint,i=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),s=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString();return n&&r&&i&&o&&a&&s}function P(e){e&&e.errHandler&&e.errHandler}function C(){e(),L.resetEmbedded()}function I(e){var t={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration};return t.lang||t.viewpoint||t.role&&t.role.length>0||t.accessibility&&t.accessibility.length>0||t.audioChannelConfiguration&&t.audioChannelConfiguration.length>0?t:null}function x(e,t){var n=!e.lang||e.lang===t.lang,r=!e.viewpoint||e.viewpoint===t.viewpoint,i=!e.role||!!t.roles.filter(function(t){return t===e.role})[0],o=!e.accessibility||!!t.accessibility.filter(function(t){return t===e.accessibility})[0],a=!e.audioChannelConfiguration||!!t.audioChannelConfiguration.filter(function(t){return t===e.audioChannelConfiguration})[0];return n&&r&&i&&o&&a}function A(){H={audio:d,video:f}}function O(){B={audio:null,video:null}}function k(e){var t=w(),n=[],r=function(e){var t,n=0,r=[];return e.forEach(function(e){(t=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})))>n?(n=t,r=[e]):t===n&&r.push(e)}),r},i=function(e){var t,n=0,r=[];return e.forEach(function(e){(t=e.representationCount)>n?(n=t,r=[e]):t===n&&r.push(e)}),r};switch(t){case p:(n=r(e)).length>1&&(n=i(n));break;case h:(n=i(e)).length>1&&(n=r(e));break;default:D("track selection mode is not supported: "+t)}return n[0]}function M(){return{audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null}}}var R=this.context,D=(0,u["default"])(R).getInstance().log,N=(0,a["default"])(R).getInstance(),L=(0,l["default"])(R).getInstance(),j=(0,c["default"])(R).getInstance(),F=void 0,B=void 0,U=void 0,H=void 0,V=[d,f],z=[p,h];return{initialize:e,checkInitialMediaSettingsForType:t,addTrack:n,getTracksFor:r,getCurrentTrackFor:i,isCurrentTrack:s,setTrack:v,setInitialSettings:m,getInitialSettings:y,setSwitchMode:_,getSwitchMode:b,setSelectionModeForInitialTrack:T,getSelectionModeForInitialTrack:w,isMultiTrackSupportedByType:E,isTracksEqual:S,setConfig:P,reset:C}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(13)),a=r(e(9)),s=r(e(10)),u=r(e(8)),l=r(e(56)),c=r(e(149)),f="neverReplace",d="alwaysReplace",p="highestBitrate",h="widestRange",g=p;i.__dashjs_factory_name="MediaController";var v=s["default"].getSingletonFactory(i);v.TRACK_SWITCH_MODE_NEVER_REPLACE=f,v.TRACK_SWITCH_MODE_ALWAYS_REPLACE=d,v.TRACK_SELECTION_MODE_HIGHEST_BITRATE=p,v.TRACK_SELECTION_MODE_WIDEST_RANGE=h,v.DEFAULT_INIT_TRACK_SELECTION_MODE=g,n["default"]=v,t.exports=n["default"]},{10:10,13:13,149:149,56:56,8:8,9:9}],67:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null}function t(e,t){var n=window.URL.createObjectURL(e);return t.setSource(n),n}function n(e){e.setSource(null)}function r(e,t){return e.duration!=t&&(e.duration=t),e.duration}function i(e){var t=e.sourceBuffers,n=t.length,r=0;if("open"===e.readyState){for(;r<n;r++){if(t[r].updating)return;if(0===t[r].buffered.length)return}e.endOfStream()}}return{createMediaSource:e,attachMediaSource:t,detachMediaSource:n,setDuration:r,signalEndOfStream:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="MediaSourceController",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],68:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){de=0,pe=NaN,he=null,me=null,_e=!1,ge={},ye=(0,s["default"])(Z).getInstance()}function t(e){ve=e,re=fe.getElement(),$(),me=ve.manifestInfo.isDynamic,pe=ve.start,te.on(l["default"].DATA_UPDATE_COMPLETED,D,this),te.on(l["default"].LIVE_EDGE_SEARCH_COMPLETED,N,this),te.on(l["default"].BYTES_APPENDED,Q,this),te.on(l["default"].BUFFER_LEVEL_STATE_CHANGED,X,this),te.on(l["default"].PERIOD_SWITCH_STARTED,n,this),_e&&(_e=!1,p())}function n(e){e.fromStreamInfo&&ge[e.fromStreamInfo.id]&&delete ge[e.fromStreamInfo.id]}function r(){return x(!0)+ve.duration-y()}function i(){return y()>0}function c(){return ve.id}function d(){return ve.duration}function p(){if(re){re.autoplay=!0;var e=re.play();e&&"undefined"!=typeof Promise&&e instanceof Promise&&e["catch"](function(e){"NotAllowedError"===e.name&&te.trigger(l["default"].PLAYBACK_NOT_ALLOWED),ee("Caught pending play exception - continuing ("+e+")")})}else _e=!0}function h(){if(re)return re.paused}function g(){re&&(re.pause(),re.autoplay=!1)}function v(){if(re)return re.seeking}function m(e){fe&&(ee("Requesting seek to time: "+e),fe.setCurrentTime(e))}function y(){if(re)return re.currentTime}function _(){if(re)return re.playbackRate}function b(){if(re)return re.played}function T(){if(re)return re.ended}function w(){return me}function E(e){pe=e}function S(){return pe}function P(e,t){var n=le.getMpd(ue.getValue()),r=void 0,i=10;r=ye.getUseSuggestedPresentationDelay()&&n.hasOwnProperty("suggestedPresentationDelay")?n.suggestedPresentationDelay:ye.getLiveDelay()?ye.getLiveDelay():isNaN(e)?2*ve.manifestInfo.minBufferTime:e*ye.getLiveDelayFragmentCount();var o=Math.max(t-i,t/2);return Math.min(r,o)}function C(){fe&&re&&(te.off(l["default"].DATA_UPDATE_COMPLETED,D,this),te.off(l["default"].BUFFER_LEVEL_STATE_CHANGED,X,this),te.off(l["default"].LIVE_EDGE_SEARCH_COMPLETED,N,this),te.off(l["default"].BYTES_APPENDED,Q,this),k(),J()),fe=null,ve=null,re=null,me=null,e()}function I(e){e&&(e.streamController&&(ie=e.streamController),e.timelineConverter&&(oe=e.timelineConverter),e.metricsModel&&(ae=e.metricsModel),e.dashMetrics&&(se=e.dashMetrics),e.manifestModel&&(ue=e.manifestModel),e.dashManifestModel&&(le=e.dashManifestModel),e.adapter&&(ce=e.adapter),e.videoModel&&(fe=e.videoModel))}function x(e){var t=void 0,n=(0,a["default"])(Z).getInstance().getURIFragmentData(),r=parseInt(n.s,10),i=parseInt(n.t,10),o=NaN;if(e||(o=isNaN(r)?i:r),me)!isNaN(o)&&o>1262304e3&&(((t=o-ve.manifestInfo.availableFrom.getTime()/1e3)>pe||t<pe-ve.manifestInfo.DVRWindowSize)&&(t=null)),t=t||pe;else if(!isNaN(o)&&o<Math.max(ve.manifestInfo.duration,ve.duration)&&o>=0)t=o;else{var s=ge[ve.id];void 0===s&&(s=ie.getActiveStreamCommonEarliestTime()),t=Math.max(s,ve.start)}return t}function A(e){var t=ae.getReadOnlyMetricsFor("video")||ae.getReadOnlyMetricsFor("audio"),n=se.getCurrentDVRInfo(t),r=n?n.range:null;return r?e>=r.start&&e<=r.end?e:Math.max(r.end-2*ve.manifestInfo.minBufferTime,r.start):NaN}function O(){null===he&&(he=setInterval(function(){W()},ye.getWallclockTimeUpdateInterval()))}function k(){clearInterval(he),he=null}function M(){var e=x(!1);e>0&&(m(e),ee("Starting playback at offset: "+e))}function R(){if(!h()&&me&&0!==re.readyState){var e=y(),t=A(e);!isNaN(t)&&t!==e&&m(t)}}function D(e){if(!e.error){var t=ce.convertDataToTrack(ue.getValue(),e.currentRepresentation).mediaInfo.streamInfo;ve.id===t.id&&(ve=t,R())}}function N(e){e.error||0===re.readyState||M()}function L(){te.trigger(l["default"].CAN_PLAY)}function j(){ee("Native video element event: play"),R(),O(),te.trigger(l["default"].PLAYBACK_STARTED,{startTime:y()})}function F(){ee("Native video element event: playing"),te.trigger(l["default"].PLAYBACK_PLAYING,{playingTime:y()})}function B(){ee("Native video element event: pause"),te.trigger(l["default"].PLAYBACK_PAUSED,{ended:T()})}function U(){var e=y();ee("Seeking to: "+e),O(),te.trigger(l["default"].PLAYBACK_SEEKING,{seekTime:e})}function H(){ee("Native video element event: seeked"),te.trigger(l["default"].PLAYBACK_SEEKED)}function V(){var e=y();e!==de&&(de=e,te.trigger(l["default"].PLAYBACK_TIME_UPDATED,{timeToEnd:r(),time:e}))}function z(){te.trigger(l["default"].PLAYBACK_PROGRESS)}function q(){var e=_();ee("Native video element event: ratechange: ",e),te.trigger(l["default"].PLAYBACK_RATE_CHANGED,{playbackRate:e})}function G(){ee("Native video element event: loadedmetadata"),(!me&&ve.isFirst||oe.isTimeSyncCompleted())&&M(),te.trigger(l["default"].PLAYBACK_METADATA_LOADED),O()}function K(){ee("Native video element event: ended"),g(),k(),te.trigger(l["default"].PLAYBACK_ENDED)}function Y(e){var t=e.target||e.srcElement;te.trigger(l["default"].PLAYBACK_ERROR,{error:t.error})}function W(){te.trigger(l["default"].WALLCLOCK_TIME_UPDATED,{isDynamic:me,time:new Date})}function Q(e){var t=e.bufferedRanges;if(t&&t.length){var n=Math.max(t.start(0),ve.start),r=void 0===ge[ve.id]?n:Math.max(ge[ve.id],n);r!==ge[ve.id]&&(!me&&x(!0)<r&&y()<r&&m(r),ge[ve.id]=r)}}function X(e){e.streamInfo.id===ve.id&&fe.setStallState(e.mediaType,e.state===o["default"].BUFFER_EMPTY)}function $(){re.addEventListener("canplay",L),re.addEventListener("play",j),re.addEventListener("playing",F),re.addEventListener("pause",B),re.addEventListener("error",Y),re.addEventListener("seeking",U),re.addEventListener("seeked",H),re.addEventListener("timeupdate",V),re.addEventListener("progress",z),re.addEventListener("ratechange",q),re.addEventListener("loadedmetadata",G),re.addEventListener("ended",K)}function J(){re.removeEventListener("canplay",L),re.removeEventListener("play",j),re.removeEventListener("playing",F),re.removeEventListener("pause",B),re.removeEventListener("error",Y),re.removeEventListener("seeking",U),re.removeEventListener("seeked",H),re.removeEventListener("timeupdate",V),re.removeEventListener("progress",z),re.removeEventListener("ratechange",q),re.removeEventListener("loadedmetadata",G),re.removeEventListener("ended",K)}var Z=this.context,ee=(0,f["default"])(Z).getInstance().log,te=(0,u["default"])(Z).getInstance(),ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0;return ne={initialize:t,setConfig:I,getStreamStartTime:x,getTimeToStreamEnd:r,isPlaybackStarted:i,getStreamId:c,getStreamDuration:d,getTime:y,getPlaybackRate:_,getPlayedRanges:b,getEnded:T,getIsDynamic:w,setLiveStartTime:E,getLiveStartTime:S,computeLiveDelay:P,play:p,isPaused:h,pause:g,isSeeking:v,seek:m,reset:C},e(),ne}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(63)),a=r(e(103)),s=r(e(101)),u=r(e(9)),l=r(e(13)),c=r(e(10)),f=r(e(8));i.__dashjs_factory_name="PlaybackController",n["default"]=c["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,101:101,103:103,13:13,63:63,8:8,9:9}],69:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){we=!0,ze=NaN,Ve=NaN,qe=[],Ee=!1,Se=null,Pe=null,Ce=!0,Ie=!1,xe=0,Oe=NaN}function n(e,t){me=e,De=t,je=(0,y["default"])(ae).getInstance(),ke=(0,a["default"])(ae).getInstance(),Me=(0,l["default"])(ae).getInstance(),Re=(0,s["default"])(ae).getInstance(),Ne=(0,w["default"])(ae).getInstance(),Le=De.getFragmentController(),Fe=De.getBufferController(),(_e=Le.getModel(me)).setScheduleController(this),be=De.isDynamic(),He=ge.getScheduleWhilePaused(),Be=(0,c["default"])(ae).create({dashMetrics:(0,g["default"])(ae).getInstance(),metricsModel:(0,p["default"])(ae).getInstance(),textSourceBuffer:(0,d["default"])(ae).getInstance()}),Ue=(0,f["default"])(ae).create({adapter:(0,v["default"])(ae).getInstance(),sourceBufferController:(0,m["default"])(ae).getInstance(),textSourceBuffer:(0,d["default"])(ae).getInstance()}),pe.getIsTextTrack(me)&&ue.on(b["default"].TIMED_TEXT_REQUESTED,z,this),ue.on(b["default"].LIVE_EDGE_SEARCH_COMPLETED,Y,this),ue.on(b["default"].QUALITY_CHANGE_REQUESTED,A,this),ue.on(b["default"].DATA_UPDATE_STARTED,F,this),ue.on(b["default"].DATA_UPDATE_COMPLETED,k,this),ue.on(b["default"].FRAGMENT_LOADING_COMPLETED,D,this),ue.on(b["default"].STREAM_COMPLETED,R,this),ue.on(b["default"].STREAM_INITIALIZED,M,this),ue.on(b["default"].BUFFER_LEVEL_STATE_CHANGED,U,this),ue.on(b["default"].BUFFER_CLEARED,B,this),ue.on(b["default"].BYTES_APPENDED,L,this),ue.on(b["default"].INIT_REQUESTED,C,this),ue.on(b["default"].QUOTA_EXCEEDED,H,this),ue.on(b["default"].BUFFER_LEVEL_STATE_CHANGED,U,this),ue.on(b["default"].PLAYBACK_STARTED,q,this),ue.on(b["default"].PLAYBACK_SEEKING,G,this),ue.on(b["default"].PLAYBACK_RATE_CHANGED,K,this),ue.on(b["default"].PLAYBACK_TIME_UPDATED,N,this),ue.on(b["default"].URL_RESOLUTION_FAILED,V,this),ue.on(b["default"].FRAGMENT_LOADING_ABANDONED,j,this)}function r(){ye&&(ie(),Ee=!1,we?I(Te.quality):P(0),we&&(we=!1),se("Schedule controller starting for "+me))}function i(){Ee||(Ee=!0,clearTimeout(Ae),se("Schedule controller stopping for "+me))}function T(){if(!(Ee||Ie||!Fe||ke.isPaused()&&!He)){S();var e=qe.length>0;if(Be.execute(De,me,Ne.isVideoTrackPresent())||e){var t=function(){if(Te.quality!==ze)ze=Te.quality,Fe.switchInitData(De.getStreamInfo().id,Te.quality);else{var e=Ue.execute(De,qe.shift());e?_e.executeRequest(e):(Ie=!1,P(250))}};Ie=!0,e?t():Re.getPlaybackQuality(De,t)}else P(500)}}function S(){var e=1.5*Te.fragmentDuration,t=_e.getRequests({state:h["default"].FRAGMENT_MODEL_EXECUTED,time:ke.getTime()+e,threshold:0})[0];t&&-1===qe.indexOf(t)&&!pe.getIsTextTrack(me)&&(!Me.isCurrentTrack(t.mediaInfo)||ge.getFastSwitchEnabled()&&t.quality<Te.quality&&Fe.getBufferLevel()>=e&&Re.getAbandonmentStateFor(me)!==s["default"].ABANDON_LOAD?(x(t),se("Reloading outdated fragment at index: ",t.index)):t.quality>Te.quality&&Q(ke.getTime()+Fe.getBufferLevel()))}function P(e){clearTimeout(Ae),Ae=setTimeout(T,e)}function C(e){e.sender.getStreamProcessor()===De&&I(Te.quality)}function I(e){ze=e;var t=fe.getInitRequest(De,e);t&&(Ie=!0,_e.executeRequest(t))}function x(e){qe.push(e)}function A(e){if(me===e.mediaType&&De.getStreamInfo().id===e.streamInfo.id){if(null==(Te=De.getRepresentationInfoForQuality(e.newQuality)))throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");re(new Date,o.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),ie()}}function O(e){var t=_e.getRequests({state:h["default"].FRAGMENT_MODEL_EXECUTED,time:ke.getTime(),threshold:0})[0];t&&ke.getTime()>=t.startTime&&(t.quality!==Ve&&e&&ue.trigger(b["default"].QUALITY_CHANGE_RENDERED,{mediaType:me,oldQuality:Ve,newQuality:t.quality}),Ve=t.quality)}function k(e){e.error||e.sender.getStreamProcessor()!==De||(Te=fe.convertDataToTrack(ce.getValue(),e.currentRepresentation))}function M(e){e.error||De.getStreamInfo().id!==e.streamInfo.id||(Te=De.getCurrentRepresentationInfo(),be&&null===je.getLiveEdge()||(ye=!0),Ee&&r())}function R(e){e.fragmentModel===_e&&(i(),Ie=!1,se("Stream is complete"))}function D(e){e.sender===_e&&(pe.getIsTextTrack(me)&&(Ie=!1),e.error&&e.serviceLocation&&!Ee&&x(e.request))}function N(){O(!0)}function L(e){e.sender.getStreamProcessor()===De&&(Ie=!1,P(0))}function j(e){e.streamProcessor===De&&(x(e.request),Ie=!1,P(0))}function F(e){e.sender.getStreamProcessor()===De&&i()}function B(e){e.sender.getStreamProcessor()===De&&(_e.removeExecutedRequestsBeforeTime(e.to),e.hasEnoughSpaceToAppend&&!Fe.getIsBufferingCompleted()&&Ee&&r())}function U(e){e.sender.getStreamProcessor()!==De||e.state!==u["default"].BUFFER_EMPTY||ke.isSeeking()||(se("Buffer is empty! Stalling!"),re(new Date,o.PlayListTrace.REBUFFERING_REASON))}function H(e){e.sender.getStreamProcessor()===De&&i()}function V(){_e.abortRequests(),i()}function z(e){e.sender.getStreamProcessor()===De&&I(e.index)}function q(){Ee&&r()}function G(e){Oe=e.seekTime,$(0),Ee&&r();var t=de.getCurrentManifestUpdate(le.getMetricsFor("stream")),n=Te.DVRWindow?Te.DVRWindow.end-ke.getTime():NaN;le.updateManifestUpdateInfo(t,{latency:n})}function K(e){Pe&&(Pe.playbackspeed=e.playbackRate.toString())}function Y(e){if(!e.error){
var t=Te.mediaInfo.streamInfo.manifestInfo.DVRWindowSize/2,n=e.liveEdge-ke.computeLiveDelay(Te.fragmentDuration,t),i=de.getCurrentManifestUpdate(le.getMetricsFor("stream")),o=ke.getLiveStartTime(),a=fe.getFragmentRequestForTime(De,Te,n,{ignoreIsFinished:!0});Oe=o,(isNaN(o)||a.startTime>o)&&(ke.setLiveStartTime(a.startTime),Oe=a.startTime),le.updateManifestUpdateInfo(i,{currentTime:Oe,presentationStartTime:e.liveEdge,latency:e.liveEdge-Oe,clientTimeOffset:he.getClientTimeOffset()}),ye=!0,Ee&&r()}}function W(){return Oe}function Q(e){Oe=e}function X(){return _e}function $(e){xe=e}function J(){return xe}function Z(){return De}function ee(){return Be.getBufferTarget(De,me,Ne.isVideoTrackPresent())}function te(e){Se=e}function ne(e,t){re(e,t),Se=null}function re(e,t){if(Se&&!1===Ce){var n=Pe.start,r=e.getTime()-n.getTime();Pe.duration=r,Pe.stopreason=t,Se.trace.push(Pe),Ce=!0}}function ie(){Se&&!0===Ce&&Te&&(Ce=!1,(Pe=new o.PlayListTrace).representationid=Te.id,Pe.start=new Date,Pe.mstart=1e3*ke.getTime(),Pe.playbackspeed=ke.getPlaybackRate().toString())}function oe(){ue.off(b["default"].LIVE_EDGE_SEARCH_COMPLETED,Y,this),ue.off(b["default"].DATA_UPDATE_STARTED,F,this),ue.off(b["default"].DATA_UPDATE_COMPLETED,k,this),ue.off(b["default"].BUFFER_LEVEL_STATE_CHANGED,U,this),ue.off(b["default"].QUALITY_CHANGE_REQUESTED,A,this),ue.off(b["default"].FRAGMENT_LOADING_COMPLETED,D,this),ue.off(b["default"].STREAM_COMPLETED,R,this),ue.off(b["default"].STREAM_INITIALIZED,M,this),ue.off(b["default"].QUOTA_EXCEEDED,H,this),ue.off(b["default"].BYTES_APPENDED,L,this),ue.off(b["default"].BUFFER_CLEARED,B,this),ue.off(b["default"].INIT_REQUESTED,C,this),ue.off(b["default"].PLAYBACK_RATE_CHANGED,K,this),ue.off(b["default"].PLAYBACK_SEEKING,G,this),ue.off(b["default"].PLAYBACK_STARTED,q,this),ue.off(b["default"].PLAYBACK_TIME_UPDATED,N,this),ue.off(b["default"].URL_RESOLUTION_FAILED,V,this),ue.off(b["default"].FRAGMENT_LOADING_ABANDONED,j,this),pe.getIsTextTrack(me)&&ue.off(b["default"].TIMED_TEXT_REQUESTED,z,this),i(),O(!1),Ie=!1,xe=0,Oe=NaN,ke=null,Se=null}var ae=this.context,se=(0,E["default"])(ae).getInstance().log,ue=(0,_["default"])(ae).getInstance(),le=e.metricsModel,ce=e.manifestModel,fe=e.adapter,de=e.dashMetrics,pe=e.dashManifestModel,he=e.timelineConverter,ge=e.mediaPlayerModel,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,we=void 0,Ee=void 0,Se=void 0,Pe=void 0,Ce=void 0,Ie=void 0,xe=void 0,Ae=void 0,Oe=void 0,ke=void 0,Me=void 0,Re=void 0,De=void 0,Ne=void 0,Le=void 0,je=void 0,Fe=void 0,Be=void 0,Ue=void 0,He=void 0,Ve=void 0,ze=void 0,qe=void 0;return ve={initialize:n,getStreamProcessor:Z,getSeekTarget:W,setSeekTarget:Q,getFragmentModel:X,setTimeToLoadDelay:$,getTimeToLoadDelay:J,replaceRequest:x,start:r,stop:i,reset:oe,setPlayList:te,getBufferTarget:ee,finalisePlayList:ne},t(),ve}Object.defineProperty(n,"__esModule",{value:!0});var o=e(181),a=r(e(68)),s=r(e(60)),u=r(e(63)),l=r(e(66)),c=r(e(140)),f=r(e(141)),d=r(e(56)),p=r(e(102)),h=r(e(99)),g=r(e(17)),v=r(e(15)),m=r(e(70)),y=r(e(154)),_=r(e(9)),b=r(e(13)),T=r(e(10)),w=r(e(71)),E=r(e(8));i.__dashjs_factory_name="ScheduleController",n["default"]=T["default"].getClassFactory(i),t.exports=n["default"]},{10:10,102:102,13:13,140:140,141:141,15:15,154:154,17:17,181:181,56:56,60:60,63:63,66:66,68:68,70:70,71:71,8:8,9:9,99:99}],70:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=t.codec,r=null;try{if(n.match(/application\/mp4;\s*codecs="(stpp|wvtt)"/i))throw new h["default"]("not really supported");r=e.addSourceBuffer(n)}catch(i){if(!t.isText&&-1===n.indexOf('codecs="stpp"')&&-1===n.indexOf('codecs="wvtt"'))throw i;(r=(0,o["default"])(S).getInstance()).setConfig({errHandler:(0,u["default"])(S).getInstance(),adapter:(0,s["default"])(S).getInstance(),dashManifestModel:C,mediaController:(0,a["default"])(S).getInstance(),videoModel:(0,p["default"])(S).getInstance(),streamController:(0,l["default"])(S).getInstance(),textTracks:(0,c["default"])(S).getInstance(),VTTParser:(0,f["default"])(S).getInstance(),TTMLParser:(0,d["default"])(S).getInstance()})}return r}function t(e,t){try{e.removeSourceBuffer(t)}catch(n){}}function n(e,t,n){var r,i,o=null,a=0,s=0,l=null,c=null,f=0,d=n||.15;try{o=e.buffered}catch(u){return null}if(null!=o){for(i=0,r=o.length;i<r;i++)if(a=o.start(i),s=o.end(i),null===l)f=Math.abs(a-t),t>=a&&t<s?(l=a,c=s):f<=d&&(l=a,c=s);else{if(!((f=a-c)<=d))break;c=s}if(null!==l)return{start:l,end:c}}return null}function r(e){try{return e.buffered}catch(n){return null}}function i(e){var t,n,i=r(e),o=0;if(!i)return o;for(n=0,t=i.length;n<t;n++)o+=i.end(n)-i.start(n);return o}function m(e,t,r){var i;return null===(i=n(e,t,r))?0:i.end-t}function y(e,t){if(!t)return null;var n,i,o,a,s,u,l,c,f=r(t);if(!f)return null;for(var d=0,p=f.length;d<p;d++){if(s=e.length>d?{start:e.start(d),end:e.end(d)}:null,n=f.start(d),i=f.end(d),!s)return{start:n,end:i};if(o=s.start===n,a=s.end===i,!o||!a){if(o)c={start:s.end,end:i};else{if(!a)return{start:n,end:i};c={start:n,end:s.start}}return u=e.length>d+1?{start:e.start(d+1),end:e.end(d+1)}:null,l=d+1<p?{start:f.start(d+1),end:f.end(d+1)}:null,!u||l&&l.start===u.start&&l.end===u.end||(c.end=u.start),c}}return null}function _(e,t){var n=t.bytes,r="append"in e?"append":"appendBuffer"in e?"appendBuffer":null,i="Object"===Object.prototype.toString.call(e).slice(8,-1);if(r)try{E(e,function(){i?e[r](n,t):e[r](n),E(e,function(){P.trigger(v["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n})})})}catch(m){P.trigger(v["default"].SOURCEBUFFER_APPEND_COMPLETED,{buffer:e,bytes:n,error:new h["default"](m.code,m.message,null)})}}function b(e,t,n,r){try{E(e,function(){t>=0&&n>t&&"ended"!==r.readyState&&e.remove(t,n),E(e,function(){P.trigger(v["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n})})})}catch(i){P.trigger(v["default"].SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:t,to:n,error:new h["default"](i.code,i.message,null)})}}function T(e,t){try{"open"===e.readyState?t.abort():t.setTextTrack&&"ended"===e.readyState&&t.abort()}catch(n){}}function w(e){e&&e.dashManifestModel&&(C=e.dashManifestModel)}function E(e,t){var n,r=50,i=function(){e.updating||(clearInterval(n),t())},a=function s(){e.updating||(e.removeEventListener("updateend",s,!1),t())};if(e.updating)if("function"==typeof e.addEventListener)try{e.addEventListener("updateend",a,!1)}catch(o){n=setInterval(i,r)}else n=setInterval(i,r);else t()}var S=this.context,P=(0,g["default"])(S).getInstance(),C=void 0;return{append:_,remove:b,abort:T,createSourceBuffer:e,removeSourceBuffer:t,getBufferRange:n,getAllRanges:r,getTotalBufferedTime:i,getBufferLength:m,getRangeDifference:y,setConfig:w}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(56)),a=r(e(66)),s=r(e(15)),u=r(e(151)),l=r(e(71)),c=r(e(57)),f=r(e(159)),d=r(e(157)),p=r(e(104)),h=r(e(162)),g=r(e(9)),v=r(e(13)),m=r(e(10)),y=22;i.__dashjs_factory_name="SourceBufferController";var _=m["default"].getSingletonFactory(i);_.QUOTA_EXCEEDED_ERROR_CODE=y,n["default"]=_,t.exports=n["default"]},{10:10,104:104,13:13,15:15,151:151,157:157,159:159,162:162,56:56,57:57,66:66,71:71,9:9}],71:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){he=null,de=[],Se=(0,d["default"])(Y).getInstance(),ve=!0,me=!1,ye=!1,Pe=!1,Ce=!0,Ie=null,_e=!1,be=!1}function t(e,t){ve=e,ge=t,fe.initialize(),le=(0,v["default"])(Y).getInstance(),(J=(0,s["default"])(Y).getInstance()).setConfig({log:W,manifestModel:ee,dashManifestModel:te}),J.initialize(Z),we=(0,f["default"])(Y).getInstance(),(Ee=(0,o["default"])(Y).getInstance()).setConfig({streamController:X,timelineConverter:fe,metricsModel:re,dashMetrics:ie,manifestModel:ee,dashManifestModel:te,adapter:ne,videoModel:we}),Q.on(l["default"].TIME_SYNCHRONIZATION_COMPLETED,D,this),Q.on(l["default"].PLAYBACK_SEEKING,b,this),Q.on(l["default"].PLAYBACK_TIME_UPDATED,y,this),Q.on(l["default"].PLAYBACK_ENDED,_,this),Q.on(l["default"].PLAYBACK_ERROR,m,this),Q.on(l["default"].PLAYBACK_STARTED,T,this),Q.on(l["default"].PLAYBACK_PAUSED,w,this),Q.on(l["default"].MANIFEST_UPDATED,N,this),Q.on(l["default"].STREAM_BUFFERING_COMPLETED,E,this)}function n(e,t){t=t||new Date,Ie&&(pe&&pe.getProcessors().forEach(function(n){var r=n.getScheduleController();r&&r.finalisePlayList(t,e)}),re.addPlayList(Ie),Ie=null)}function r(e){(Ie=new h.PlayList).start=new Date,Ie.mstart=1e3*Ee.getTime(),Ie.starttype=e,pe&&pe.getProcessors().forEach(function(e){var t=e.getScheduleController();t&&t.setPlayList(Ie)})}function i(e,t,n){Q.trigger(e,{fromStreamInfo:t?t.getStreamInfo():null,toStreamInfo:n.getStreamInfo()})}function p(){pe.isActivated()&&Ce&&0===pe.getStreamInfo().index&&(pe.startEventController(),ve&&Ee.play())}function m(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}_e=!0,e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),W("Video Element Error: "+t),e.error&&W(e.error),ce.mediaSourceError(t),G()}}function y(e){if(L()){var t=we.getPlaybackQuality();t&&re.addDroppedFrames("video",t)}Ee.isSeeking()||e.timeToEnd<K&&ae.signalEndOfStream(Te)}function _(){var e=S();e&&x(pe,e,NaN),n(e?h.PlayListTrace.END_OF_PERIOD_STOP_REASON:h.PlayListTrace.END_OF_CONTENT_STOP_REASON)}function b(e){var t=P(e.seekTime);t&&t!==pe?(n(h.PlayListTrace.END_OF_PERIOD_STOP_REASON),x(pe,t,e.seekTime)):n(h.PlayListTrace.USER_REQUEST_STOP_REASON),r(h.PlayList.SEEK_START_REASON)}function T(){Ce?(Ce=!1,r(h.PlayList.INITIAL_PLAYOUT_START_REASON)):Pe&&(Pe=!1,r(h.PlayList.RESUME_FROM_PAUSE_START_REASON))}function w(e){e.ended||(Pe=!0,n(h.PlayListTrace.USER_REQUEST_STOP_REASON))}function E(e){Te&&e.streamInfo.isLast&&ae.signalEndOfStream(Te)}function S(){var e=pe.getStreamInfo().start,t=pe.getStreamInfo().duration;return de.filter(function(n){return n.getStreamInfo().start===e+t})[0]}function P(e){var t=0,n=null,r=de.length;r>0&&(t+=de[0].getStartTime());for(var i=0;i<r;i++)if(e<(t+=(n=de[i]).getDuration()))return n;return null}function C(e,t){for(var n=null,r=0,i=0,o=null,a=de.length,s=0;s<a;s++){if(i=(n=de[s]).getStartTime(),o=n.getDuration(),Number.isFinite(i)&&(r=i),n.getId()===t)return e-r;Number.isFinite(o)&&(r+=o)}return null}function I(){var e=[];return pe.getProcessors().forEach(function(t){e.push(t.getIndexHandler().getEarliestTime())}),Math.min.apply(Math,e)}function x(e,t,n){function r(){var r;isNaN(n)?(r=Ee.getStreamStartTime(!0),pe.getProcessors().forEach(function(e){ne.setIndexHandlerTime(e,r)}),Ee.seek(r)):Ee.seek(n),Ee.play(),pe.startEventController(),me=!1,i(l["default"].PERIOD_SWITCH_COMPLETED,e,t)}!me&&e&&t&&e!==t&&(me=!0,i(l["default"].PERIOD_SWITCH_STARTED,e,t),e.deactivate(),pe=t,Ee.initialize(pe.getStreamInfo()),xe=j(),A(r))}function A(e){function t(){W("MediaSource is open!"),window.URL.revokeObjectURL(n),Te.removeEventListener("sourceopen",t),Te.removeEventListener("webkitsourceopen",t),O(),pe.activate(Te),e&&e()}var n=void 0;Te?ae.detachMediaSource(we):Te=ae.createMediaSource(),Te.addEventListener("sourceopen",t,!1),Te.addEventListener("webkitsourceopen",t,!1),n=ae.attachMediaSource(Te,we),W("MediaSource attached to element.  Waiting on open...")}function O(){var e,t;e=pe.getStreamInfo().manifestInfo.duration,t=ae.setDuration(Te,e),W("Duration successfully set to: "+t)}function k(){var e,t,n,r,o,s,u,c=ee.getValue(),f=re.getMetricsFor("stream"),d=ie.getCurrentManifestUpdate(f),p=[];if(c){s=ne.getStreamsInfo(c),he&&(Q.trigger(l["default"].PROTECTION_CREATED,{controller:he,manifest:c}),he.setMediaElement(we.getElement()),ge&&he.setProtectionData(ge));try{if(0===s.length)throw new Error("There are no streams");for(re.updateManifestUpdateInfo(d,{currentTime:Ee.getTime(),buffered:we.getElement().buffered,presentationStartTime:s[0].start,clientTimeOffset:fe.getClientTimeOffset()}),ye=!0,r=0,t=s.length;r<t;r++){for(e=s[r],o=0,n=de.length;o<n;o++)de[o].getId()===e.id&&(u=de[o],p.push(u),u.updateData(e));u||((u=(0,a["default"])(Y).create({manifestModel:ee,manifestUpdater:J,adapter:ne,timelineConverter:fe,capabilities:$,errHandler:ce,baseURLController:ue})).initialize(e,he),Q.on(l["default"].STREAM_INITIALIZED,R,this),p.push(u),pe&&u.updateData(e)),re.addManifestUpdateStreamInfo(d,e.id,e.index,e.start,e.duration),u=null}de=p,pe||(pe=de[0],i(l["default"].PERIOD_SWITCH_STARTED,null,pe),Ee.initialize(pe.getStreamInfo()),i(l["default"].PERIOD_SWITCH_COMPLETED,null,pe)),Te||A(),ye=!1,M()}catch(b){ce.manifestError(b.message,"nostreamscomposed",c),be=!0,G()}}}function M(){if(!ye){var e=de.length,t=0;for(p();t<e;t++)if(!de[t].isInitialized())return;Q.trigger(l["default"].STREAMS_COMPOSED)}}function R(){M()}function D(){k()}function N(e){if(e.error)be=!0,G();else{var t,n,r=e.manifest,i=ne.getStreamsInfo(r)[0],o=ne.getMediaInfoForType(r,i,"video")||ne.getMediaInfoForType(r,i,"audio");o&&(t=ne.getDataForMedia(o),(n=te.getRepresentationsForAdaptation(r,t)[0].useCalculatedLiveEdgeTime)&&(W("SegmentTimeline detected using calculated Live Edge Time"),Se.setUseManifestDateHeaderTimeSource(!1)));var a=te.getUTCTimingSources(e.manifest),s=!te.getIsDynamic(r)||n?a:a.concat(Se.getUTCTimingSources()),u=(0,c["default"])(Y).getInstance().isManifestHTTPS();s.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===d["default"].DEFAULT_UTC_TIMING_SOURCE.value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(u?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),u?"https://":"http://"),W("Matching default timing source protocol to manifest protocol: ",e.value))}),ue.initialize(r),se.setConfig({metricsModel:re,dashMetrics:ie}),se.initialize(s,Se.getUseManifestDateHeaderTimeSource())}}function L(){return void 0===xe&&(xe=j()),xe}function j(){var e=!1;return pe.getProcessors().forEach(function(t){"video"===t.getMediaInfo().type&&(e=!0)}),e}function F(){return ve}function B(){return pe?pe.getStreamInfo():null}function U(e){return pe.getId()===e.id}function H(e){return de.filter(function(t){return t.getId()===e})[0]}function V(e){Z.load(e)}function z(e){J.setManifest(e)}function q(e){e&&(e.capabilities&&($=e.capabilities),e.manifestLoader&&(Z=e.manifestLoader),e.manifestModel&&(ee=e.manifestModel),e.dashManifestModel&&(te=e.dashManifestModel),e.protectionController&&(he=e.protectionController),e.adapter&&(ne=e.adapter),e.metricsModel&&(re=e.metricsModel),e.dashMetrics&&(ie=e.dashMetrics),e.liveEdgeFinder&&(oe=e.liveEdgeFinder),e.mediaSourceController&&(ae=e.mediaSourceController),e.timeSyncController&&(se=e.timeSyncController),e.baseURLController&&(ue=e.baseURLController),e.errHandler&&(ce=e.errHandler),e.timelineConverter&&(fe=e.timelineConverter))}function G(){se.reset(),n(_e||be?h.PlayListTrace.FAILURE_STOP_REASON:h.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=de.length;e<t;e++){var r=de[e];Q.off(l["default"].STREAM_INITIALIZED,R,this),r.reset(_e)}de=[],Q.off(l["default"].PLAYBACK_TIME_UPDATED,y,this),Q.off(l["default"].PLAYBACK_SEEKING,b,this),Q.off(l["default"].PLAYBACK_ERROR,m,this),Q.off(l["default"].PLAYBACK_STARTED,T,this),Q.off(l["default"].PLAYBACK_PAUSED,w,this),Q.off(l["default"].PLAYBACK_ENDED,_,this),Q.off(l["default"].MANIFEST_UPDATED,N,this),Q.off(l["default"].STREAM_BUFFERING_COMPLETED,E,this),ue.reset(),J.reset(),re.clearAllCurrentMetrics(),ee.setValue(null),Z.reset(),fe.reset(),oe.reset(),ne.reset(),le.reset(),me=!1,ye=!1,pe=null,_e=!1,be=!1,xe=void 0,Ce=!0,Pe=!1,Te&&(ae.detachMediaSource(we),Te=null),we=null,he&&(he.setMediaElement(null),he=null,ge=null,ee.getValue()&&Q.trigger(l["default"].PROTECTION_DESTROYED,{data:ee.getValue().url})),Q.trigger(l["default"].STREAM_TEARDOWN_COMPLETE)}var K=1,Y=this.context,W=(0,g["default"])(Y).getInstance().log,Q=(0,u["default"])(Y).getInstance(),X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=void 0,re=void 0,ie=void 0,oe=void 0,ae=void 0,se=void 0,ue=void 0,le=void 0,ce=void 0,fe=void 0,de=void 0,pe=void 0,he=void 0,ge=void 0,ve=void 0,me=void 0,ye=void 0,_e=void 0,be=void 0,Te=void 0,we=void 0,Ee=void 0,Se=void 0,Pe=void 0,Ce=void 0,Ie=void 0,xe=void 0;return X={initialize:t,getAutoPlay:F,getActiveStreamInfo:B,isStreamActive:U,isVideoTrackPresent:L,getStreamById:H,getTimeRelativeToStreamId:C,load:V,loadWithManifest:z,getActiveStreamCommonEarliestTime:I,setConfig:q,reset:G},e(),X}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(68)),a=r(e(54)),s=r(e(50)),u=r(e(9)),l=r(e(13)),c=r(e(103)),f=r(e(104)),d=r(e(101)),p=r(e(10)),h=e(181),g=r(e(8)),v=r(e(152));i.__dashjs_factory_name="StreamController",n["default"]=p["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,101:101,103:103,104:104,13:13,152:152,181:181,50:50,54:54,68:68,8:8,9:9}],72:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){y=!1,_=null,b=null,T=null,w=null,null,h.on(a["default"].DATA_UPDATE_COMPLETED,f,this),h.on(a["default"].INIT_FRAGMENT_LOADED,d,this)}function n(e,t,n){T=e,u(t),(w=n).getRepresentationController()}function r(e){try{b=g.createSourceBuffer(_,e),y||(b.hasOwnProperty("initialize")&&b.initialize(T,this),y=!0)}catch(t){v.mediaSourceError("Error creating "+T+" source buffer.")}return b}function i(){return b}function s(e){b=e}function u(e){_=e}function l(){return w}function c(e){h.off(a["default"].DATA_UPDATE_COMPLETED,f,this),h.off(a["default"].INIT_FRAGMENT_LOADED,d,this),e||(g.abort(_,b),g.removeSourceBuffer(_,b))}function f(e){e.sender.getStreamProcessor()===w&&h.trigger(a["default"].TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function d(e){e.fragmentModel===w.getFragmentModel()&&e.chunk.bytes&&g.append(b,e.chunk)}var p=this.context,h=(0,o["default"])(p).getInstance(),g=e.sourceBufferController,v=e.errHandler,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,w=void 0;return m={initialize:n,createBuffer:r,getBuffer:i,setBuffer:s,getStreamProcessor:l,setMediaSource:u,reset:c},t(),m}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10));i.__dashjs_factory_name="TextController",n["default"]=s["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],73:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){k=t,A=0,O=!1,!1,M={"urn:mpeg:dash:utc:http-head:2014":T,"urn:mpeg:dash:utc:http-xsdate:2014":b.bind(null,g),"urn:mpeg:dash:utc:http-iso:2014":b.bind(null,v),"urn:mpeg:dash:utc:direct:2014":_,"urn:mpeg:dash:utc:http-head:2012":T,"urn:mpeg:dash:utc:http-xsdate:2012":b.bind(null,g),"urn:mpeg:dash:utc:http-iso:2012":b.bind(null,v),"urn:mpeg:dash:utc:direct:2012":_,"urn:mpeg:dash:utc:http-ntp:2014":y,"urn:mpeg:dash:utc:ntp:2014":y,"urn:mpeg:dash:utc:sntp:2014":y},i()||(S(e),u(!0))}function t(e){e&&(e.metricsModel&&(R=e.metricsModel),e.dashMetrics&&(D=e.dashMetrics))}function n(){return p()}function r(e){O=e}function i(){return O}function u(e){e}function d(e){A=e}function p(){return A}function h(e){var t,n,r=60,i=60,o=1e3,a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e);return t=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),a[6]&&(parseInt(a[6],10)||0),a[7]&&parseFloat(a[7])*o||0),a[9]&&a[10]&&(n=parseInt(a[9],10)*i+parseInt(a[10],10),t+=("+"===a[8]?-1:1)*n*r*o),new Date(t).getTime()}function g(e){var t=Date.parse(e);return isNaN(t)&&(t=h(e)),t}function v(e){return Date.parse(e)}function m(e){return Date.parse(e)}function y(e,t,n){n()}function _(e,t,n){var r=g(e);return isNaN(r)?void n():void t(r)}function b(e,t,n,r,i){var o,a,s=!1,u=new XMLHttpRequest,l=i?"HEAD":"GET",c=t.match(/\S+/g);t=c.shift(),o=function(){s||(s=!0,c.length?b(e,c.join(" "),n,r,i):r())},a=function(){var t,r;200===u.status&&(t=i?u.getResponseHeader("Date"):u.response,r=e(t),isNaN(r)||(n(r),s=!0))},u.open(l,t),u.timeout=f||0,u.onload=a,u.onloadend=o,u.send()}function T(e,t,n){b(m,e,t,n,!0)}function w(){var e=R.getReadOnlyMetricsFor("stream"),t=D.getLatestMPDRequestHeaderValueByID(e,"Date"),n=null!==t?new Date(t).getTime():Number.NaN;isNaN(n)?E(!0):(d(n-(new Date).getTime()),E(!1,n/1e3,A))}function E(e,t,n){r(!1),x.trigger(s["default"].TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:n,error:e?new o["default"](c):null})}function S(e,t){var n=t||0,i=e[n],o=function(e,t){var n=!e||!t;n&&k?w():E(n,e,t)};r(!0),i?M.hasOwnProperty(i.schemeIdUri)?M[i.schemeIdUri](i.value,function(e){var t=(new Date).getTime(),n=e-t;d(n),I("Local time:      "+new Date(t)),I("Server time:     "+new Date(e)),I("Difference (ms): "+n),o(e,n)},function(){S(e,n+1)}):S(e,n+1):(d(0),o())}function P(){u(!1),r(!1)}var C=this.context,I=(0,l["default"])(C).getInstance().log,x=(0,a["default"])(C).getInstance(),A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0;return{initialize:e,getOffsetToDeviceTimeMs:n,setConfig:t,reset:P}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(162)),a=r(e(9)),s=r(e(13)),u=r(e(10)),l=r(e(8)),c=1,f=5e3;i.__dashjs_factory_name="TimeSyncController";var d=u["default"].getSingletonFactory(i);d.TIME_SYNC_FAILED_ERROR_CODE=c,d.HTTP_TIMEOUT_MS=f,n["default"]=d,t.exports=n["default"]},{10:10,13:13,162:162,8:8,9:9}],74:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){C.on(s["default"].XLINK_ELEMENT_LOADED,y,x),R=(0,o["default"])(P).create({errHandler:e.errHandler,metricsModel:e.metricsModel,requestModifier:e.requestModifier})}function n(e){A=e}function r(e){O=e}function i(e){M=new l["default"](A,"",!0),m(b((k=e).Period_asArray,k,p,f),p,f)}function u(){C.off(s["default"].XLINK_ELEMENT_LOADED,y,x),R&&(R.reset(),R=null)}function m(e,t,n){var r,i,o,a={};for(a.elements=e,a.type=t,a.resolveType=n,0===a.elements.length&&_(a),o=0;o<a.elements.length;o++)r=a.elements[o],i=I.isHTTPURL(r.url)?r.url:r.originalContent.BaseURL+r.url,R.load(i,r,a)}function y(e){var t,n,r,i="<response>",o="</response>",a="";t=e.element,n=e.resolveObject,t.resolvedContent&&(r=t.resolvedContent.indexOf(">")+1,a=t.resolvedContent.substr(0,r)+i+t.resolvedContent.substr(r)+o,t.resolvedContent=M.xml_str2json(a)),E(n)&&_(n)}function _(e){var t,n,r=[];if(T(e),e.resolveType===d&&C.trigger(s["default"].XLINK_READY,{manifest:k}),e.resolveType===f)switch(e.type){case p:for(t=0;t<k[p+"_asArray"].length;t++)(n=k[p+"_asArray"][t]).hasOwnProperty(h+"_asArray")&&(r=r.concat(b(n[h+"_asArray"],n,h,f))),n.hasOwnProperty(g+"_asArray")&&(r=r.concat(b(n[g+"_asArray"],n,g,f)));m(r,h,f);break;case h:C.trigger(s["default"].XLINK_READY,{manifest:k})}}function b(e,t,n,r){var i,o,a,s=[];for(o=e.length-1;o>=0;o--)(i=e[o]).hasOwnProperty("xlink:href")&&i["xlink:href"]===v&&e.splice(o,1);for(o=0;o<e.length;o++)(i=e[o]).hasOwnProperty("xlink:href")&&i.hasOwnProperty("xlink:actuate")&&i["xlink:actuate"]===r&&(a=w(i["xlink:href"],t,n,o,r,i),s.push(a));return s}function T(e){var t,n,r,i,o,a,s=[];for(i=e.elements.length-1;i>=0;i--){if(n=(t=e.elements[i]).type+"_asArray",!t.resolvedContent||S())delete t.originalContent["xlink:actuate"],delete t.originalContent["xlink:href"],s.push(t.originalContent);else if(t.resolvedContent)for(o=0;o<t.resolvedContent[n].length;o++)r=t.resolvedContent[n][o],s.push(r);for(t.parentElement[n].splice(t.index,1),a=0;a<s.length;a++)t.parentElement[n].splice(t.index+a,0,s[a]);s=[]}e.elements.length>0&&O.run(k)}function w(e,t,n,r,i,o){return{url:e,parentElement:t,type:n,index:r,resolveType:i,originalContent:o,resolvedContent:null,resolved:!1}}function E(e){var t;for(t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return!1;return!0}function S(){return!1}var P=this.context,C=(0,a["default"])(P).getInstance(),I=(0,c["default"])(P).getInstance(),x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0;return x={resolveManifestOnLoad:i,setMatchers:n,setIron:r,reset:u},t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(59)),a=r(e(9)),s=r(e(13)),u=r(e(10)),l=r(e(4)),c=r(e(158)),f="onLoad",d="onActuate",p="Period",h="AdaptationSet",g="EventStream",v="urn:mpeg:dash:resolve-to-zero:2013";i.__dashjs_factory_name="XlinkController",n["default"]=u["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,158:158,4:4,59:59,9:9}],75:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return(0,o["default"])(r).getInstance({eventBus:e.eventBus,metricsModel:e.metricsModel}),(0,s["default"])(r).create(e)}function t(){return(0,l["default"])(r).getInstance()}function n(){return(0,u["default"])(r).getInstance()}var r=this.context;return{createMetricsReporting:e,getReportingFactory:t,getMetricsHandlerFactory:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(89)),a=r(e(76)),s=r(e(77)),u=r(e(82)),l=r(e(87)),c=r(e(10));i.__dashjs_factory_name="MetricsReporting";var f=c["default"].getClassFactory(i);f.events=a["default"],n["default"]=f,t.exports=n["default"]},{10:10,76:76,77:77,82:82,87:87,89:89}],76:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(14)),u=new(function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}return o(e,s["default"]),e}());n["default"]=u,t.exports=n["default"]},{14:14}],77:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(t){if(!t.error){var n=Object.keys(i);(0,a["default"])(s).getInstance({dashManifestModel:e.dashManifestModel}).getMetrics(t.manifest).forEach(function(t){var r=JSON.stringify(t);if(i.hasOwnProperty(r))n.splice(r,1);else try{var u=(0,o["default"])(s).create(e);u.initialize(t),i[r]=u}catch(a){}}),n.forEach(function(e){i[e].reset(),delete i[e]}),c.trigger(u["default"].METRICS_INITIALISATION_COMPLETE)}}function n(){Object.keys(i).forEach(function(e){i[e].reset()}),i={}}function r(){c.on(l["default"].MANIFEST_UPDATED,t),c.on(l["default"].STREAM_TEARDOWN_COMPLETE,n)}var i={},s=this.context,c=e.eventBus;return r(),{}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(78)),a=r(e(91)),s=r(e(10)),u=r(e(76)),l=r(e(13));i.__dashjs_factory_name="MetricsCollectionController",n["default"]=s["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,76:76,78:78,91:91}],78:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(t){try{(o=(0,a["default"])(c).create({mediaElement:e.mediaElement})).initialize(t.Range),(i=(0,s["default"])(c).create({log:e.log})).initialize(t.Reporting,o),(r=(0,u["default"])(c).create({log:e.log,eventBus:e.eventBus})).initialize(t.metrics,i)}catch(l){throw n(),l}}function n(){r&&r.reset(),i&&i.reset(),o&&o.reset()}var r=void 0,i=void 0,o=void 0,l=void 0,c=this.context;return l={initialize:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(80)),s=r(e(81)),u=r(e(79));i.__dashjs_factory_name="MetricsController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,79:79,80:80,81:81}],79:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){i.forEach(function(t){t.handleNewMetric(e.metric,e.value,e.mediaType)})}function n(e,n){e.split(",").forEach(function(e,t,r){var o;if(-1!==e.indexOf("(")&&-1===e.indexOf(")")){var a=r[t+1];a&&-1===a.indexOf("(")&&-1!==a.indexOf(")")&&(e+=","+a,delete r[t+1])}(o=c.create(e,n))&&i.push(o)}),l.on(s["default"].METRIC_ADDED,t,a),l.on(s["default"].METRIC_UPDATED,t,a)}function r(){l.off(s["default"].METRIC_ADDED,t,a),l.off(s["default"].METRIC_UPDATED,t,a),i.forEach(function(e){return e.reset()}),i=[]}var i=[],a=void 0,u=this.context,l=e.eventBus,c=(0,o["default"])(u).getInstance({log:e.log,eventBus:e.eventBus});return a={initialize:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(82)),a=r(e(10)),s=r(e(52));i.__dashjs_factory_name="MetricsHandlersController",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,52:52,82:82}],80:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,n=t+e.duration;l.add(t,n)}),o=!!e[0]._useWallClockTime)}function n(){l.clear()}function r(){l=(0,a["default"])(s).create()}function i(){var e,t=l.length;if(!t)return!0;e=o?(new Date).getTime()/1e3:c.currentTime;for(var n=0;n<t;n+=1){var r=l.start(n),i=l.end(n);if(r<=e&&e<i)return!0}return!1}var o=!1,s=this.context,u=void 0,l=void 0,c=e.mediaElement;return u={initialize:t,reset:n,isEnabled:i},r(),u}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(148));i.__dashjs_factory_name="RangeController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,148:148}],81:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){e.some(function(e){var n=o.create(e,t);if(n)return i.push(n),!0})}function n(){i.forEach(function(e){return e.reset()}),i=[]}function r(e,t){i.forEach(function(n){return n.report(e,t)})}var i=[],o=(0,a["default"])(this.context).getInstance({log:e.log});return{initialize:t,reset:n,report:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(87));i.__dashjs_factory_name="ReportingController",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,87:87}],82:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(t,n){var r,s=t.match(o);if(s){try{(r=f[s[1]](c).create({eventBus:e.eventBus})).initialize(s[1],n,s[3],s[5])}catch(a){r=null,i("MetricsHandlerFactory: Could not create handler for type "+s[1]+" with args "+s[3]+", "+s[5]+" ("+a.message+")")}return r}}function n(e,t){f[e]=t}function r(e){delete f[e]}var i=e.log,o=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,c=this.context,f={BufferLevel:a["default"],DVBErrors:s["default"],HttpList:u["default"],PlayList:l["default"],RepSwitchList:l["default"],TcpList:l["default"]};return{create:t,register:n,unregister:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(83)),s=r(e(84)),u=r(e(86)),l=r(e(85));i.__dashjs_factory_name="MetricsHandlerFactory",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,83:83,84:84,85:85,86:86}],83:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){try{return Object.keys(p).map(function(e){return p[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){return}}function t(){var t=e();t&&c!==t.t&&(c=t.t,o.report(u,t))}function n(e,n,r){n&&(s=d.validateN(r),o=n,u=d.reconstructFullMetricName(e,r),l=setInterval(t,s))}function r(){clearInterval(l),l=null,s=0,o=null,c=null}function i(e,t,n){"BufferLevel"===e&&(p[n]=t)}var o=void 0,s=void 0,u=void 0,l=void 0,c=void 0,f=this.context,d=(0,a["default"])(f).getInstance(),p=[];return{initialize:n,reset:r,handleNewMetric:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(90));i.__dashjs_factory_name="BufferLevelHandler",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,90:90}],84:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){s.off(a["default"].METRICS_INITIALISATION_COMPLETE,t,this),s.trigger(a["default"].BECAME_REPORTING_PLAYER)}function n(e,n){n&&(o=n,s.on(a["default"].METRICS_INITIALISATION_COMPLETE,t,this))}function r(){o=null}function i(e,t){"DVBErrors"===e&&o&&o.report(e,t)}var o=void 0,s=e.eventBus;return{initialize:n,reset:r,handleNewMetric:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(76));n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,
76:76}],85:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){r=e,i=t}function t(){i=null,r=void 0}function n(e,t){e===r&&i&&i.report(r,t)}var r=void 0,i=void 0;return{initialize:e,reset:t,handleNewMetric:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="GenericMetricHandler",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],86:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){var e=c;e.length&&i&&i.report(u,e),c=[]}function t(t,n,r,a){n&&(o=f.validateN(r),i=n,a&&a.length&&(s=a),u=f.reconstructFullMetricName(t,r,a),l=setInterval(e,o))}function n(){clearInterval(l),l=null,o=null,s=null,c=[],i=null}function r(e,t){"HttpList"===e&&(s&&s!==t.type||c.push(t))}var i=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=[],f=(0,a["default"])(this.context).getInstance();return{initialize:t,reset:n,handleNewMetric:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(90));i.__dashjs_factory_name="HttpListHandler",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,90:90}],87:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var n;try{(n=i[e.schemeIdUri](o).create()).initialize(e,t)}catch(r){n=null,s("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+r.message+")")}return n}function n(e,t){i[e]=t}function r(e){delete i[e]}var i={"urn:dvb:dash:reporting:2014":a["default"]},o=this.context,s=e.log;return{create:t,register:n,unregister:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(88));i.__dashjs_factory_name="ReportingFactory",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,88:88}],88:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t,n){var r=new XMLHttpRequest,o=function(){var e=g.indexOf(r);-1!==e&&(g.splice(e,1),r.status>=200&&r.status<300?t&&t():n&&n())};g.push(r);try{r.open("GET",e),r.onloadend=o,r.onerror=o,r.send()}catch(i){r.onerror()}}function t(t,n){Array.isArray(n)||(n=[n]),c&&p.isEnabled()&&n.forEach(function(n){var r=o.serialise(n);l&&"DVBErrors"!==t&&(r="metricname="+t+"&"+r),e(r=d+"?"+r,null,function(){c=!1})})}function n(e,t){var n;if(p=t,!(d=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");f||((n=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===n||n/1e3>=u.random())&&(c=!0),f=!0)}function r(){h||(g.forEach(function(e){return e.abort()}),g=[]),f=!1,c=!1,d=null,p=null}var i=this.context,o=(0,a["default"])(i).getInstance(),u=(0,s["default"])(i).getInstance(),l=!0,c=!1,f=!1,d=null,p=null,h=!0,g=[];return{report:t,initialize:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(92)),s=r(e(93));i.__dashjs_factory_name="DVBReporting",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,92:92,93:93}],89:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){var t=new o["default"];if(m){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=m.originalUrl||m.url),t.terror||(t.terror=new Date),v.addDVBErrors(t)}}function n(e){e.error||(m=e.manifest)}function r(e){t({errorcode:o["default"].BASE_URL_CHANGED,servicelocation:e.entry})}function i(){t({errorcode:o["default"].BECAME_REPORTER})}function l(e){(0===e.responsecode||e.responsecode>=400||e.responsecode<100||e.responsecode>=600)&&t({errorcode:e.responsecode||o["default"].CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function c(e){switch(e.metric){case"HttpList":l(e.value)}}function f(e){var n;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:n=o["default"].CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:n=o["default"].CORRUPT_MEDIA_OTHER;break;default:return}t({errorcode:n})}function d(){g.on(a["default"].MANIFEST_UPDATED,n,h),g.on(a["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,r,h),g.on(s["default"].METRIC_ADDED,c,h),g.on(s["default"].METRIC_UPDATED,c,h),g.on(s["default"].PLAYBACK_ERROR,f,h),g.on(u["default"].BECAME_REPORTING_PLAYER,i,h)}function p(){g.off(a["default"].MANIFEST_UPDATED,n,h),g.off(a["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,r,h),g.off(s["default"].METRIC_ADDED,c,h),g.off(s["default"].METRIC_UPDATED,c,h),g.off(s["default"].PLAYBACK_ERROR,f,h),g.off(u["default"].BECAME_REPORTING_PLAYER,i,h)}var h=void 0,g=e.eventBus,v=e.metricsModel,m=void 0;return h={initialise:d,reset:p},d(),h}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(94)),a=r(e(13)),s=r(e(52)),u=r(e(76)),l=r(e(10));i.__dashjs_factory_name="DVBErrorsTranslator",n["default"]=l["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,52:52,76:76,94:94}],90:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return{reconstructFullMetricName:function(e,t,n){var r=e;return t&&(r+="("+t,n&&n.length&&(r+=","+n),r+=")"),r},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="HandlerHelpers",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],91:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t,n){var i,o,a=r.getMpd(e),s=0;return t?s=a.availabilityStartTime.getTime()/1e3:(i=this.getRegularPeriods(e,a)).length&&(s=i[0].start),o=s,n&&n.hasOwnProperty("starttime")&&(o+=n.starttime),o}function n(e){var n=[];return e.Metrics_asArray&&e.Metrics_asArray.forEach(function(i){var u=new o["default"],l=r.getIsDynamic(e);i.hasOwnProperty("metrics")&&(u.metrics=i.metrics,i.Range_asArray&&i.Range_asArray.forEach(function(n){var i=new a["default"];i.starttime=t(e,l,n),n.hasOwnProperty("duration")?i.duration=n.duration:i.duration=r.getDuration(e),i._useWallClockTime=l,u.Range.push(i)}),i.Reporting_asArray&&(i.Reporting_asArray.forEach(function(e){var t=new s["default"];if(e.hasOwnProperty("schemeIdUri")){for(var n in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(n)&&(t[n]=e[n]);u.Reporting.push(t)}}),n.push(u)))}),n}var r=e.dashManifestModel;return{getMetrics:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(95)),a=r(e(96)),s=r(e(97)),u=r(e(10));i.__dashjs_factory_name="ManifestParsing",n["default"]=u["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,95:95,96:96,97:97}],92:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(t){var n,r,i=[],o=[];for(n in t)if(t.hasOwnProperty(n)&&0!==n.indexOf("_")){if(null!=(r=t[n])||(r=""),Array.isArray(r)){if(!r.length)continue;o=[],r.forEach(function(t){var n="Object"!==Object.prototype.toString.call(t).slice(8,-1);o.push(n?t:e(t))}),r=encodeURIComponent(o.join(","))}else"string"==typeof r?r=encodeURIComponent(r):r instanceof Date?r=r.toISOString():"number"==typeof r&&(r=Math.round(r));i.push(n+"="+r)}return i.join("&")}return{serialise:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="MetricSerialiser",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],93:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){n&&(a||(a=new r(o)),n.getRandomValues(a),s=0)}function t(t,r){var o;return t||(t=0),r||(r=1),n?(s===a.length&&e(),o=a[s]/i,s+=1):o=Math.random(),o*(r-t)+t}var n=window.crypto||window.msCrypto,r=Uint32Array,i=Math.pow(2,8*r.BYTES_PER_ELEMENT)-1,o=10,a=void 0,s=void 0,u=void 0;return u={random:t},e(),u}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="RNG",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],94:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null};i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00",n["default"]=i,t.exports=n["default"]},{}],95:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.metrics="",this.Range=[],this.Reporting=[]};n["default"]=i,t.exports=n["default"]},{}],96:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.starttime=0,this.duration=1/0,this._useWallClockTime=!1};n["default"]=i,t.exports=n["default"]},{}],97:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.schemeIdUri="",this.value=""};n["default"]=i,t.exports=n["default"]},{}],98:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){function e(){p=new c}function t(e,t,n){var r=g.getBaseURLsFromElement(n);e[t]?v.areSimpleEquivalent(r,e[t].data.baseUrls)||(e[t].data.baseUrls=r,e[t].data.selectedIdx=l):e[t]=new c(r)}function n(e){var n=g.getBaseURLsFromElement(e);v.areSimpleEquivalent(n,p.data.baseUrls)||(p.data.baseUrls=n,p.data.selectedIdx=l),e.Period_asArray&&e.Period_asArray.forEach(function(e,n){t(p.children,n,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,r){t(p.children[n].children,r,e),e.Representation_asArray&&e.Representation_asArray.sort(g.getRepresentationSortFunction()).forEach(function(e,i){t(p.children[n].children[r].children,i,e)})})})}function r(e,t){var n=t||p;e(n.data),n.children&&n.children.forEach(function(t){return r(e,t)})}function i(e){r(function(t){isNaN(t.selectedIdx)||e===t.baseUrls[t.selectedIdx].serviceLocation&&(t.selectedIdx=l)})}function o(e){n(e)}function u(){p=new c}function f(e){var t=p,n=[t.data];return e.forEach(function(e){(t=t.children[e])&&n.push(t.data)}),n.filter(function(e){return e.baseUrls.length})}var d=void 0,p=void 0,h=this.context,g=(0,a["default"])(h).getInstance(),v=(0,s["default"])(h).getInstance();return d={reset:u,update:o,getForPath:f,invalidateSelectedIndexes:i},e(),d}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(22)),s=r(e(155)),u=r(e(10)),l=NaN,c=function f(e,t){i(this,f),this.data={baseUrls:e||null,selectedIdx:t||l},this.children=[]};o.__dashjs_factory_name="BaseURLTreeModel",n["default"]=u["default"].getClassFactory(o),t.exports=n["default"]},{10:10,155:155,22:22}],99:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){A=null,M=null,O=[],k=[],C.on(a["default"].LOADING_COMPLETED,w,x)}function n(e){M=e}function r(e){A=e}function i(){return A}function s(e){var t=function(e,t){return e.action===u["default"].ACTION_COMPLETE&&e.action===t.action},n=function(e,t){return!isNaN(e.index)&&e.startTime===t.startTime&&e.adaptationIndex===t.adaptationIndex},r=function(e,t){return isNaN(e.index)&&isNaN(t.index)&&e.quality===t.quality};return function(i){var o=!1;return i.some(function(i){if(n(e,i)||r(e,i)||t(e,i))return o=!0}),o}(O)}function d(e){var t=e.state instanceof Array?e.state:[e.state],n=[];return t.forEach(function(t){var r=b(t);n=n.concat(_(r,e))}),n}function h(e){O=O.filter(function(t){return isNaN(t.startTime)||t.startTime>=e})}function g(){M.abort(),k=[]}function v(e){switch(e.action){case u["default"].ACTION_COMPLETE:O.push(e),T(e,f),C.trigger(a["default"].STREAM_COMPLETED,{request:e,fragmentModel:this});break;case u["default"].ACTION_DOWNLOAD:T(e,c),k.push(e),m(e);break;default:P("Unknown request action.")}}function m(e){C.trigger(a["default"].FRAGMENT_LOADING_STARTED,{sender:x,request:e}),M.load(e)}function y(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r],o=i.startTime,a=o+i.duration;if(n=void 0!==n?n:i.duration/2,!isNaN(o)&&!isNaN(a)&&t+n>=o&&t-n<a||isNaN(o)&&isNaN(t))return i}return null}function _(e,t){return t.hasOwnProperty("time")?[y(e,t.time,t.threshold)]:e.filter(function(e){for(var n in t)if("state"!==n&&t.hasOwnProperty(n)&&e[n]!=t[n])return!1;return!0})}function b(e){var t=void 0;switch(e){case c:t=k;break;case f:t=O;break;default:t=[]}return t}function T(e,t){I.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t),I.addRequestsQueue(e.mediaType,k,O)}function w(e){e.sender===M&&(k.splice(k.indexOf(e.request),1),e.response&&!e.error&&O.push(e.request),T(e.request,e.error?p:f),C.trigger(a["default"].FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function E(){C.off(a["default"].LOADING_COMPLETED,w,this),M&&(M.reset(),M=null),O=[],k=[]}var S=this.context,P=(0,l["default"])(S).getInstance().log,C=(0,o["default"])(S).getInstance(),I=e.metricsModel,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0;return x={setLoader:n,setScheduleController:r,getScheduleController:i,getRequests:d,isFragmentLoaded:s,removeExecutedRequestsBeforeTime:h,abortRequests:g,executeRequest:v,reset:E},t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10)),u=r(e(163)),l=r(e(8)),c="loading",f="executed",d="canceled",p="failed";i.__dashjs_factory_name="FragmentModel";var h=s["default"].getClassFactory(i);h.FRAGMENT_MODEL_LOADING=c,h.FRAGMENT_MODEL_EXECUTED=f,h.FRAGMENT_MODEL_CANCELED=d,h.FRAGMENT_MODEL_FAILED=p,n["default"]=h,t.exports=n["default"]},{10:10,13:13,163:163,8:8,9:9}],100:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){return i}function t(e){i=e,e&&r.trigger(a["default"].MANIFEST_LOADED,{data:e})}var n=this.context,r=(0,o["default"])(n).getInstance(),i=void 0;return{getValue:e,setValue:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10));i.__dashjs_factory_name="ManifestModel",n["default"]=s["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,9:9}],101:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){function e(){var e,t;Se=[],Ee=!1,we=!0,Ie=!0,Ve=!1,qe=!1,Oe={enabled:!0,ttl:c},ke={enabled:!0,ttl:f},Pe=l,Ce=void 0,xe=h,Ae=g,Me=NaN,Re=y,De=_,Ne=b,Le=T,je=d,Fe=p,He=x,ze=A,i(e={},s.HTTPRequest.MPD_TYPE,S),i(e,s.HTTPRequest.XLINK_EXPANSION_TYPE,C),i(e,s.HTTPRequest.MEDIA_SEGMENT_TYPE,w),i(e,s.HTTPRequest.INIT_SEGMENT_TYPE,w),i(e,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,w),i(e,s.HTTPRequest.INDEX_SEGMENT_TYPE,w),i(e,s.HTTPRequest.OTHER_TYPE,w),Be=e,i(t={},s.HTTPRequest.MPD_TYPE,P),i(t,s.HTTPRequest.XLINK_EXPANSION_TYPE,I),i(t,s.HTTPRequest.MEDIA_SEGMENT_TYPE,E),i(t,s.HTTPRequest.INIT_SEGMENT_TYPE,E),i(t,s.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,E),i(t,s.HTTPRequest.INDEX_SEGMENT_TYPE,E),i(t,s.HTTPRequest.OTHER_TYPE,E),Ue=t}function t(e){Ve=e}function n(){return Ve}function r(e){je=e}function o(){return je}function a(e){Fe=e}function u(){return Fe}function O(e){Me=e}function k(){return isNaN(Me)?qe?m:v:Me}function M(e){Re=e}function R(){return Re}function D(e){De=e}function N(){return De}function L(e){Ne=e}function j(){return Ne}function F(e){Le=e}function B(){return Le}function U(e){xe=e}function H(){return xe}function V(e,t){Oe.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(Oe.ttl=t)}function z(){return Oe}function q(e,t){ke.enabled=e,void 0===t||isNaN(t)||"number"!=typeof t||(ke.ttl=t)}function G(){return ke}function K(e){Ae=e}function Y(){return Ae}function W(e){Be[s.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function Q(e,t){Be[e]=t}function X(){return Be[s.HTTPRequest.MEDIA_SEGMENT_TYPE]}function $(e){return Be[e]}function J(e){Ue[s.HTTPRequest.MEDIA_SEGMENT_TYPE]=e}function Z(e,t){Ue[e]=t}function ee(){return Ue[s.HTTPRequest.MEDIA_SEGMENT_TYPE]}function te(e){return Ue[e]}function ne(e){He=e}function re(){return He}function ie(e){Ie=e}function oe(){return Ie}function ae(e){Pe=e}function se(e){Ce=e}function ue(){return Pe}function le(){return Ce}function ce(e){we=e}function fe(){return we}function de(e){Ee=e}function pe(){return Ee}function he(e){Se=e}function ge(){return Se}function ve(e){ze=!!e}function me(){return ze}function ye(){return qe}function _e(e){qe=e}function be(){}var Te=void 0,we=void 0,Ee=void 0,Se=void 0,Pe=void 0,Ce=void 0,Ie=void 0,xe=void 0,Ae=void 0,Oe=void 0,ke=void 0,Me=void 0,Re=void 0,De=void 0,Ne=void 0,Le=void 0,je=void 0,Fe=void 0,Be=void 0,Ue=void 0,He=void 0,Ve=void 0,ze=void 0,qe=void 0;return Te={setBufferOccupancyABREnabled:t,getBufferOccupancyABREnabled:n,setBandwidthSafetyFactor:r,getBandwidthSafetyFactor:o,setAbandonLoadTimeout:a,getAbandonLoadTimeout:u,setLastBitrateCachingInfo:V,getLastBitrateCachingInfo:z,setLastMediaSettingsCachingInfo:q,getLastMediaSettingsCachingInfo:G,setStableBufferTime:O,getStableBufferTime:k,setBufferTimeAtTopQuality:M,getBufferTimeAtTopQuality:R,setBufferTimeAtTopQualityLongForm:D,getBufferTimeAtTopQualityLongForm:N,setLongFormContentDurationThreshold:L,getLongFormContentDurationThreshold:j,setRichBufferThreshold:F,getRichBufferThreshold:B,setBufferToKeep:U,getBufferToKeep:H,setBufferPruningInterval:K,getBufferPruningInterval:Y,setFragmentRetryAttempts:W,getFragmentRetryAttempts:X,setRetryAttemptsForType:Q,getRetryAttemptsForType:$,setFragmentRetryInterval:J,getFragmentRetryInterval:ee,setRetryIntervalForType:Z,getRetryIntervalForType:te,setWallclockTimeUpdateInterval:ne,getWallclockTimeUpdateInterval:re,setScheduleWhilePaused:ie,getScheduleWhilePaused:oe,getUseSuggestedPresentationDelay:pe,setUseSuggestedPresentationDelay:de,setLiveDelayFragmentCount:ae,getLiveDelayFragmentCount:ue,getLiveDelay:le,setLiveDelay:se,setUseManifestDateHeaderTimeSource:ce,getUseManifestDateHeaderTimeSource:fe,setUTCTimingSources:he,getUTCTimingSources:ge,setXHRWithCredentials:ve,getXHRWithCredentials:me,setFastSwitchEnabled:_e,getFastSwitchEnabled:ye,reset:be},e(),Te}Object.defineProperty(n,"__esModule",{value:!0});var a=r(e(10)),s=e(179),u={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso"},l=4,c=36e4,f=36e4,d=.9,p=1e4,h=30,g=30,v=12,m=20,y=30,_=60,b=600,T=20,w=3,E=1e3,S=3,P=500,C=1,I=500,x=50,A=!1;o.__dashjs_factory_name="MediaPlayerModel";var O=a["default"].getSingletonFactory(o);O.DEFAULT_UTC_TIMING_SOURCE=u,n["default"]=O,t.exports=n["default"]},{10:10,179:179}],102:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){G={}}function t(e){e&&e.adapter&&(q=e.adapter)}function n(){V.trigger(m["default"].METRICS_CHANGED)}function r(e){V.trigger(m["default"].METRIC_CHANGED,{mediaType:e}),n()}function i(e,t,n){V.trigger(m["default"].METRIC_UPDATED,{mediaType:e,metric:t,value:n}),r(e)}function y(e,t,n){V.trigger(m["default"].METRIC_ADDED,{mediaType:e,metric:t,value:n}),r(e)}function b(e){delete G[e],r(e)}function T(){G={},n()}function w(e){return G.hasOwnProperty(e)?G[e]:null}function E(e){var t;return G.hasOwnProperty(e)?t=G[e]:(t=new o["default"],G[e]=t),t}function S(e,t,n,r,i,o){var s=new a["default"];return s.tcpid=t,s.dest=n,s.topen=r,s.tclose=i,s.tconnect=o,E(e).TcpList.push(s),y(e,q.metricsList.TCP_CONNECTION,s),s}function P(e,t,n,r){var i=new s.HTTPRequestTrace;return i.s=t,i.d=n,i.b=r,e.trace.push(i),e.interval||(e.interval=0),e.interval+=n,i}function C(e,t,n,r,i,o,a,u,l,c,f,d,p,h){var g=new s.HTTPRequest;return i&&i!==r&&(C(e,null,n,r,null,null,a,u,null,null,null,d,null,null),g.actualurl=i),g.tcpid=t,g.type=n,g.url=r,g.range=a,g.trequest=u,g.tresponse=l,g.responsecode=f,g._tfinish=c,g._stream=e,g._mediaduration=d,g._responseHeaders=p,g._serviceLocation=o,h?h.forEach(function(e){P(g,e.s,e.d,e.b)}):(delete g.interval,delete g.trace),E(e).HttpList.push(g),y(e,q.metricsList.HTTP_REQUEST,g),g}function I(e,t,n,r,i){var o=new u["default"];return o.t=t,o.mt=n,o.to=r,i?o.lto=i:delete o.lto,E(e).RepSwitchList.push(o),y(e,q.metricsList.TRACK_SWITCH,o),o}function x(e,t,n){var r=new l["default"];return r.t=t,r.level=n,E(e).BufferLevel.push(r),y(e,q.metricsList.BUFFER_LEVEL,r),r}function A(e,t,n){var r=new c["default"];return r.target=n,r.state=t,E(e).BufferState.push(r),y(e,q.metricsList.BUFFER_STATE,r),r}function O(e,t,n,r){var i=new f["default"];return i.time=t,i.range=r,i.manifestInfo=n,E(e).DVRInfo.push(i),y(e,q.metricsList.DVR_INFO,i),i}function k(e,t){var n=new d["default"],r=E(e).DroppedFrames;return n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,r.length>0&&r[r.length-1]==n?r[r.length-1]:(r.push(n),y(e,q.metricsList.DROPPED_FRAMES,n),n)}function M(e,t,n,r,i,o,a,s,u){var l=new h["default"];return l.mediaType=e,l.t=t,l.type=n,l.startTime=r,l.availabilityStartTime=i,l.duration=o,l.quality=a,l.range=s,l.state=u,E(e).SchedulingInfo.push(l),y(e,q.metricsList.SCHEDULING_INFO,l),l}function R(e,t,n){var r=new v["default"];r.loadingRequests=t,r.executedRequests=n,E(e).RequestsQueue=r,y(e,q.metricsList.REQUESTS_QUEUE,r)}function D(e,t,n,r,i,o,a,s,u,l){var c=new p.ManifestUpdate,f=E("stream");return c.mediaType=e,c.type=t,c.requestTime=n,c.fetchTime=r,c.availabilityStartTime=i,c.presentationStartTime=o,c.clientTimeOffset=a,c.currentTime=s,c.buffered=u,c.latency=l,f.ManifestUpdate.push(c),y(e,q.metricsList.MANIFEST_UPDATE,c),c}function N(e,t){if(e){for(var n in t)e[n]=t[n];i(e.mediaType,q.metricsList.MANIFEST_UPDATE,e)}}function L(e,t,n,r,o){if(e){var a=new p.ManifestUpdateStreamInfo;return a.id=t,a.index=n,a.start=r,a.duration=o,e.streamInfo.push(a),i(e.mediaType,q.metricsList.MANIFEST_UPDATE_STREAM_INFO,e),a}return null}function j(e,t,n,r,o,a,s,u){if(e){var l=new p.ManifestUpdateTrackInfo;return l.id=t,l.index=n,l.streamIndex=r,l.mediaType=o,l.startNumber=s,l.fragmentInfoType=u,l.presentationTimeOffset=a,e.trackInfo.push(l),i(e.mediaType,q.metricsList.MANIFEST_UPDATE_TRACK_INFO,e),l}return null}function F(e){var t="stream";return e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,E(t).PlayList.push(e),y(t,q.metricsList.PLAY_LIST,e),e}function B(e){var t="stream";return E(t).DVBErrors.push(e),y(t,q.metricsList.DVB_ERRORS,e),e}function U(e,t){var n=new _["default"];return n._s=t,E(e).BolaState=[n],y(e,"BolaState",n),n}var H=this.context,V=(0,g["default"])(H).getInstance(),z=void 0,q=void 0,G=void 0;return z={metricsChanged:n,metricChanged:r,metricUpdated:i,metricAdded:y,clearCurrentMetricsForType:b,clearAllCurrentMetrics:T,getReadOnlyMetricsFor:w,getMetricsFor:E,addTcpConnection:S,addHttpRequest:C,addRepresentationSwitch:I,addBufferLevel:x,addBufferState:A,addDVRInfo:O,addDroppedFrames:k,addSchedulingInfo:M,addRequestsQueue:R,addManifestUpdate:D,updateManifestUpdateInfo:N,addManifestUpdateStreamInfo:L,addManifestUpdateRepresentationInfo:j,addPlayList:F,addDVBErrors:B,updateBolaState:U,setConfig:t},e(),z}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(168)),a=r(e(185)),s=e(179),u=r(e(182)),l=r(e(175)),c=r(e(176)),f=r(e(177)),d=r(e(178)),p=e(180),h=r(e(184)),g=r(e(9)),v=r(e(183)),m=r(e(13)),y=r(e(10)),_=r(e(174));i.__dashjs_factory_name="MetricsModel",n["default"]=y["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,13:13,168:168,174:174,175:175,176:176,177:177,178:178,179:179,180:180,182:182,183:183,184:184,185:185,9:9}],103:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){a=new o["default"],s=[],u=!1}function t(){return a}function n(){return s}function r(){return u}function i(e){function t(e,t,n,r){var i=r[0].split(/[=]/);return r.push({key:i[0],value:i[1]}),r.shift(),r}function n(e,t,n){return t>0&&(c&&0===s.length?s=n[t].split(/[&]/):f&&(r=n[t].split(/[&]/))),n}if(!e)return null;var r=[],i=new RegExp(/[?]/),o=new RegExp(/[#]/),l=new RegExp(/^(https:)?\/\//i),c=i.test(e),f=o.test(e);return u=l.test(e),e.split(/[?#]/).map(n),s.length>0&&(s=s.reduce(t,null)),r.length>0&&(r=r.reduce(t,null)).forEach(function(e){a[e.key]=e.value}),e}var a=void 0,s=void 0,u=void 0;return{initialize:e,parseURI:i,getURIFragmentData:t,getURIQueryData:n,isManifestHTTPS:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(173)),a=r(e(10));i.__dashjs_factory_name="URIQueryAndFragmentModel",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,173:173}],104:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){b=[]}function t(e){!m||m.readyState<2||(m.playbackRate=e)}function n(e){if(m.currentTime!=e)try{m.currentTime=e}catch(t){0===m.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout(function(){m.currentTime=e},400)}}function r(){return m}function i(e){(m=e).preload="auto"}function o(e){e?m.src=e:(m.removeAttribute("src"),m.load())}function a(){return m.src}function s(){return _}function u(e){_=e}function l(){return y}function c(e){(y=e).style.position="absolute",y.style.display="flex",y.style.overflow="hidden",y.style.pointerEvents="none",y.style.top=0,y.style.left=0}function f(e,t){g(e,t)}function d(){return b.length>0}function p(e){var n=void 0;null===e||m.seeking||-1!==b.indexOf(e)||(b.push(e),1===b.length&&((n=document.createEvent("Event")).initEvent("waiting",!0,!1),T=m.playbackRate,t(0),m.dispatchEvent(n)))}function h(e){var n=b.indexOf(e),r=void 0;null!==e&&(-1!==n&&b.splice(n,1),!1===d()&&0===m.playbackRate&&((r=document.createEvent("Event")).initEvent("playing",!0,!1),t(T||1),m.dispatchEvent(r)))}function g(e,t){t?p(e):h(e)}function v(){var e="webkitDroppedFrameCount"in m,t=null;return"getVideoPlaybackQuality"in m?t=m.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:m.webkitDroppedFrameCount,creationTime:new Date}),t}var m=void 0,y=void 0,_=void 0,b=void 0,T=void 0;return{initialize:e,setCurrentTime:n,setStallState:f,getElement:r,setElement:i,setSource:o,getSource:a,getVideoContainer:s,setVideoContainer:u,getTTMLRenderingDiv:l,setTTMLRenderingDiv:c,getPlaybackQuality:v}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="VideoModel",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],105:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=r(e(1)),s=function(){function e(){i(this,e)}return o(e,null,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var r=e[n];"urn:mpeg:dash:mp4protection:2011"===r.schemeIdUri.toLowerCase()&&"cenc"===r.value.toLowerCase()&&(t=r)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),r=n.getUint8(t);return t+=20,r>0&&(t+=4+16*n.getUint32(t)),t+=4,e.slice(t)}},{key:"getPSSHForKeySystem",value:function(t,n){var r=e.parsePSSHList(n);return r.hasOwnProperty(t.uuid.toLowerCase())?r[t.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e){return"pssh"in e?a["default"].decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null===e)return[];for(var t=new DataView(e),n=!1,r={},i=0;!n;){var o,a,s,u=i;if(i>=t.buffer.byteLength)break;if(o=i+t.getUint32(i),i+=4,1886614376===t.getUint32(i))if(i+=4,0===(a=t.getUint8(i))||1===a){var l,c;for(i++,i+=3,s="",l=0;l<4;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;for(i+=4,s+="-",l=0;l<2;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;for(i+=2,s+="-",l=0;l<2;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;for(i+=2,s+="-",l=0;l<2;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;for(i+=2,s+="-",l=0;l<6;l++)s+=1===(c=t.getUint8(i+l).toString(16)).length?"0"+c:c;i+=6,s=s.toLowerCase(),t.getUint32(i),i+=4,r[s]=t.buffer.slice(u,o),i=o}else i=o;else i=o}return r}}]),e}();n["default"]=s,t.exports=n["default"]},{1:1}],106:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var n=null,i=(0,a["default"])(r).getInstance();i.setConfig({log:e.log}),i.initialize();var s=t(e);return!n&&s&&(n=(0,o["default"])(r).create({protectionModel:s,protectionKeyController:i,adapter:e.adapter,eventBus:e.eventBus,log:e.log}),e.capabilities.setEncryptedMediaSupported(!0)),n}function t(e){var t=e.log,i=e.eventBus,o=e.videoModel.getElement();return void 0!==o.onencrypted&&void 0!==o.mediaKeys&&void 0!==navigator.requestMediaKeySystemAccess&&"function"==typeof navigator.requestMediaKeySystemAccess?(t("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,u["default"])(r).create({log:t,eventBus:i})):n(o,p)?(t("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,l["default"])(r).create({log:t,eventBus:i,api:n(o,p)})):n(o,d)?(t("EME detected on this user agent! (ProtectionModel_01b)"),(0,c["default"])(r).create({log:t,eventBus:i,api:n(o,d)})):(t("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null)}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];if("function"==typeof e[r[Object.keys(r)[0]]])return r}return null}var r=this.context;return{createProtectionSystem:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(108)),a=r(e(109)),s=r(e(107)),u=r(e(114)),l=r(e(115)),c=r(e(113)),f=r(e(10)),d=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],p=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];i.__dashjs_factory_name="Protection";var h=f["default"].getClassFactory(i);h.events=s["default"],n["default"]=h,t.exports=n["default"]},{10:10,107:107,108:108,109:109,113:113,114:114,115:115}],107:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(14)),u=new(function(){function e(){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="keySystemAccessComplete",
this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}return o(e,s["default"]),e}());n["default"]=u,t.exports=n["default"]},{14:14}],108:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){E.getKeySystems(),A=[],R=!1,D="temporary",N="",a["default"].extend(c["default"].events)}function n(e,t,n){if(!R){var r;t||n||(r=P.getStreamsInfo(e)[0]),O=t||(r?P.getMediaInfoForType(e,r,"audio"):null);var i=(k=n||(r?P.getMediaInfoForType(e,r,"video"):null))||O,o=E.getSupportedKeySystemsFromContentProtection(i.contentProtection);o&&o.length>0&&_(o,!0),R=!0}}function r(e){var t=o["default"].getPSSHForKeySystem(L,e);if(t){for(var n=S.getAllInitData(),r=0;r<n.length;r++)if(E.initDataEquals(t,n[r]))return void I("DRM: Ignoring initData because we have already seen it!");try{S.createKeySession(t,D)}catch(i){C.trigger(a["default"].KEY_SESSION_CREATED,{data:null,error:"Error creating key session! "+i.message})}}else C.trigger(a["default"].KEY_SESSION_CREATED,{data:null,error:"Selected key system is "+L.systemString+".  needkey/encrypted event contains no initData corresponding to that key system!"})}function i(e){S.loadKeySession(e)}function l(e){S.removeKeySession(e)}function f(e){S.closeKeySession(e)}function d(e){S.setServerCertificate(e)}function p(e){e?(S.setMediaElement(e),C.on(a["default"].NEED_KEY,w,this),C.on(a["default"].INTERNAL_KEY_MESSAGE,T,this)):null===e&&(S.setMediaElement(e),C.off(a["default"].NEED_KEY,w,this),C.off(a["default"].INTERNAL_KEY_MESSAGE,T,this))}function h(e){D=e}function g(e){N=e}function v(e){M=e}function m(){p(null),L=void 0,S&&(S.reset(),S=null)}function y(e){var t=null,n=e.systemString;return M&&(t=n in M?M[n]:null),t}function _(e,t){var n=this,i=[],o=[];k&&o.push(new s["default"](k.codec,N)),O&&i.push(new s["default"](O.codec,N));var l,c=new u["default"](i,o,"optional","temporary"===D?"optional":"required",[D]),f=[];if(L){for(l=0;l<e.length;l++)if(L===e[l].ks){if("break"===function(){f.push({ks:e[l].ks,configs:[c]});var i=function o(i){C.off(a["default"].KEY_SYSTEM_ACCESS_COMPLETE,o,n),i.error?t||C.trigger(a["default"].KEY_SYSTEM_SELECTED,{error:"DRM: KeySystem Access Denied! -- "+i.error}):(I("DRM: KeySystem Access Granted"),C.trigger(a["default"].KEY_SYSTEM_SELECTED,{data:i.data}),r(e[l].initData))};return C.on(a["default"].KEY_SYSTEM_ACCESS_COMPLETE,i,n),S.requestKeySystemAccess(f),"break"}())break}}else if(void 0===L){L=null,A.push(e);for(var d=0;d<e.length;d++)f.push({ks:e[d].ks,configs:[c]});var p,h=function v(e){C.off(a["default"].KEY_SYSTEM_ACCESS_COMPLETE,v,n),e.error?(L=void 0,C.off(a["default"].INTERNAL_KEY_SYSTEM_SELECTED,g,n),t||C.trigger(a["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: KeySystem Access Denied! -- "+e.error})):(p=e.data,I("DRM: KeySystem Access Granted ("+p.keySystem.systemString+")!  Selecting key system..."),S.selectKeySystem(p))},g=function m(e){if(C.off(a["default"].INTERNAL_KEY_SYSTEM_SELECTED,m,n),C.off(a["default"].KEY_SYSTEM_ACCESS_COMPLETE,h,n),e.error)L=void 0,t||C.trigger(a["default"].KEY_SYSTEM_SELECTED,{data:null,error:"DRM: Error selecting key system! -- "+e.error});else{L=S.getKeySystem(),C.trigger(a["default"].KEY_SYSTEM_SELECTED,{data:p});for(var i=0;i<A.length;i++)for(l=0;l<A[i].length;l++)if(L===A[i][l].ks){r(A[i][l].initData);break}}};C.on(a["default"].INTERNAL_KEY_SYSTEM_SELECTED,g,n),C.on(a["default"].KEY_SYSTEM_ACCESS_COMPLETE,h,n),S.requestKeySystemAccess(f)}else A.push(e)}function b(e,t){C.trigger(a["default"].LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function T(e){if(I("DRM: onKeyMessage"),e.error)I(e.error);else{var t=e.data;C.trigger(a["default"].KEY_MESSAGE,{data:t});var n=t.messageType?t.messageType:"license-request",r=t.message,i=t.sessionToken,s=y(L),u=L.systemString,l=E.getLicenseServer(L,s,n),c={sessionToken:i,messageType:n};if(!l)return I("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+i.getSessionID()),void b(c);if(E.isClearKey(L)){var f=E.processClearKeyLicenseRequest(s,r);if(f)return I("DRM: ClearKey license request handled by application!"),b(c),void S.updateKeySession(i,f)}var d=new XMLHttpRequest,p=null;if(s)if(s.serverURL){var h=s.serverURL;"string"==typeof h&&""!==h?p=h:"object"==typeof h&&h.hasOwnProperty(n)&&(p=h[n])}else s.laURL&&""!==s.laURL&&(p=s.laURL);else(p=L.getLicenseServerURLFromInitData(o["default"].getPSSHData(i.initData)))||(p=e.data.laURL);if(p=l.getServerURLFromMessage(p,r,n)){d.open(l.getHTTPMethod(n),p,!0),d.responseType=l.getResponseType(u,n),d.onload=function(){200==this.status?(b(c),S.updateKeySession(i,l.getLicenseMessage(this.response,u,n))):b(c,"DRM: "+u+' update, XHR status is "'+this.statusText+'" ('+this.status+"), expected to be 200. readyState is "+this.readyState+".  Response is "+(this.response?l.getErrorResponse(this.response,u,n):"NONE"))},d.onabort=function(){b(c,"DRM: "+u+' update, XHR aborted. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)},d.onerror=function(){b(c,"DRM: "+u+' update, XHR error. status is "'+this.statusText+'" ('+this.status+"), readyState is "+this.readyState)};var g=function(e){var t;if(e)for(t in e)"authorization"===t.toLowerCase()&&(d.withCredentials=!0),d.setRequestHeader(t,e[t])};s&&g(s.httpRequestHeaders),g(L.getRequestHeadersFromMessage(r)),s&&s.withCredentials&&(d.withCredentials=!0),d.send(L.getLicenseRequestFromMessage(r))}else b(c,"DRM: No license server URL specified!")}}function w(e){if(I("DRM: onNeedKey"),"cenc"===e.key.initDataType){var t=e.key.initData;ArrayBuffer.isView(t)&&(t=t.buffer),I("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(t)));var n=E.getSupportedKeySystems(t,M);return 0===n.length?void I("DRM: Received needkey event with initData, but we don't support any of the key systems!"):void _(n,!1)}I("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}var E=e.protectionKeyController,S=e.protectionModel,P=e.adapter,C=e.eventBus,I=e.log,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0;return x={initialize:n,createKeySession:r,loadKeySession:i,removeKeySession:l,closeKeySession:f,setServerCertificate:d,setMediaElement:p,setSessionType:h,setRobustnessLevel:g,setProtectionData:v,reset:m},t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(105)),a=r(e(13)),s=r(e(126)),u=r(e(125)),l=r(e(10)),c=r(e(106));i.__dashjs_factory_name="ProtectionController",n["default"]=l["default"].getClassFactory(i),t.exports=n["default"]},{10:10,105:105,106:106,125:125,126:126,13:13}],109:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.log&&(_=e.log)}function t(){var e;b=[],e=(0,u["default"])(y).getInstance(),b.push(e),e=(0,s["default"])(y).getInstance(),b.push(e),e=(0,a["default"])(y).getInstance(),b.push(e),T=e}function n(){return b}function r(e){for(var t=0;t<b.length;t++)if(b[t].systemString===e)return b[t];return null}function i(e){return e===T}function p(e,t){if(e.byteLength===t.byteLength){for(var n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}return!1}function h(e){var t,n,r,i,o=[];if(e)for(r=0;r<b.length;++r)for(n=b[r],i=0;i<e.length;++i)if((t=e[i]).schemeIdUri.toLowerCase()===n.schemeIdURI){var a=n.getInitData(t);a&&o.push({ks:b[r],initData:a})}return o}function g(e,t){var n,r=[],i=o["default"].parsePSSHList(e);for(n=0;n<b.length;++n){var a=b[n].systemString,s=!t||a in t;b[n].uuid in i&&s&&r.push({ks:b[n],initData:i[b[n].uuid]})}return r}function v(e,t,n){if("license-release"===n||"individualization-request"===n)return null;var r=null;return t&&t.hasOwnProperty("drmtoday")?r=(0,l["default"])(y).getInstance():"com.widevine.alpha"===e.systemString?r=(0,f["default"])(y).getInstance():"com.microsoft.playready"===e.systemString?r=(0,c["default"])(y).getInstance():"org.w3.clearkey"===e.systemString&&(r=(0,d["default"])(y).getInstance()),r}function m(e,t){try{return T.getClearKeysFromProtectionData(e,t)}catch(n){return _("Failed to retrieve clearkeys from ProtectionData"),null}}var y=this.context,_=void 0,b=void 0,T=void 0;return{initialize:t,isClearKey:i,initDataEquals:p,getKeySystems:n,getKeySystemBySystemString:r,getSupportedKeySystemsFromContentProtection:h,getSupportedKeySystems:g,getLicenseServer:v,processClearKeyLicenseRequest:m,setConfig:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(105)),a=r(e(110)),s=r(e(112)),u=r(e(111)),l=r(e(117)),c=r(e(118)),f=r(e(119)),d=r(e(116)),p=r(e(10));i.__dashjs_factory_name="ProtectionKeyController",n["default"]=p["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105,110:110,111:111,112:112,116:116,117:117,118:118,119:119}],110:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=null;if(e){for(var r=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),i=[],s=0;s<r.kids.length;s++){var u=r.kids[s],l=e.clearkeys.hasOwnProperty(u)?e.clearkeys[u]:null;if(!l)throw new Error("DRM: ClearKey keyID ("+u+") is not known!");i.push(new o["default"](u,l))}n=new a["default"](i)}return n}function t(e){return s["default"].parseInitDataFromContentProtection(e)}function n(){return null}function r(e){return new Uint8Array(e)}function i(){return null}return{uuid:l,schemeIdURI:f,systemString:c,getInitData:t,getRequestHeadersFromMessage:n,getLicenseRequestFromMessage:r,getLicenseServerURLFromInitData:i,getClearKeysFromProtectionData:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(123)),a=r(e(120)),s=r(e(105)),u=r(e(10)),l="1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",c="org.w3.clearkey",f="urn:uuid:"+l;i.__dashjs_factory_name="KeySystemClearKey",n["default"]=u["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105,120:120,123:123}],111:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t,n,r={},i=new DOMParser,o="utf16"===s?new Uint16Array(e):new Uint8Array(e);t=String.fromCharCode.apply(null,o);for(var a=(n=i.parseFromString(t,"application/xml")).getElementsByTagName("name"),u=n.getElementsByTagName("value"),l=0;l<a.length;l++)r[a[l].childNodes[0].nodeValue]=u[l].childNodes[0].nodeValue;return r.hasOwnProperty("Content")&&(r["Content-Type"]=r.Content,delete r.Content),r}function t(e){var t,n,r=null,i=new DOMParser,o="utf16"===s?new Uint16Array(e):new Uint8Array(e);if(t=String.fromCharCode.apply(null,o),(n=i.parseFromString(t,"application/xml")).getElementsByTagName("Challenge")[0]){var a=n.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue;a&&(r=u["default"].decode(a))}return r}function n(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),r=6,i=new DOMParser,o=0;o<n;o++){var a=t.getUint16(r,!0);r+=2;var s=t.getUint16(r,!0);if(r+=2,1===a){var u=e.slice(r,r+s),l=String.fromCharCode.apply(null,new Uint16Array(u)),c=i.parseFromString(l,"application/xml");if(c.getElementsByTagName("LA_URL")[0]){var f=c.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(f)return f}if(c.getElementsByTagName("LUI_URL")[0]){var d=c.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(d)return d}}else r+=s}return null}function r(e){var t,n,r,i,a,s=new Uint8Array([112,115,115,104,0,0,0,0]),l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),c=0,f=null;if("pssh"in e)return o["default"].parseInitDataFromContentProtection(e);if("pro"in e)f=u["default"].decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;f=u["default"].decodeArray(e.prheader.__text)}return t=f.length,n=4+s.length+l.length+4+t,r=new ArrayBuffer(n),i=new Uint8Array(r),(a=new DataView(r)).setUint32(c,n),c+=4,i.set(s,c),c+=s.length,i.set(l,c),c+=l.length,a.setUint32(c,t),c+=4,i.set(f,c),c+=t,i.buffer}function i(e){if("utf8"!==e&&"utf16"!==e)throw new a["default"]("Illegal PlayReady message format! -- "+e);s=e}var s="utf16";return{uuid:l,schemeIdURI:f,systemString:c,getInitData:r,getRequestHeadersFromMessage:e,getLicenseRequestFromMessage:t,getLicenseServerURLFromInitData:n,setPlayReadyMessageFormat:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(105)),a=r(e(162)),s=r(e(10)),u=r(e(1)),l="9a04f079-9840-4286-ab92-e65be0885f95",c="com.microsoft.playready",f="urn:uuid:"+l;i.__dashjs_factory_name="KeySystemPlayReady",n["default"]=s["default"].getSingletonFactory(i),t.exports=n["default"]},{1:1,10:10,105:105,162:162}],112:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return o["default"].parseInitDataFromContentProtection(e)}function t(){return null}function n(e){return new Uint8Array(e)}function r(){return null}return{uuid:s,schemeIdURI:l,systemString:u,getInitData:e,getRequestHeadersFromMessage:t,getLicenseRequestFromMessage:n,getLicenseServerURLFromInitData:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(105)),a=r(e(10)),s="edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",u="com.widevine.alpha",l="urn:uuid:"+s;i.__dashjs_factory_name="KeySystemWidevine",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,105:105}],113:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){O=null,k=null,D=[],N=[],M=(0,o["default"])(P).getInstance(),R=(0,d["default"])(P).getInstance(),j=w()}function n(){O&&S();for(var e=0;e<N.length;e++)y(N[e]);C.trigger(f["default"].TEARDOWN_COMPLETE)}function r(){return k}function i(){for(var e=[],t=0;t<D.length;t++)e.push(D[t].initData);for(t=0;t<N.length;t++)e.push(N[t].initData);return e}function p(e){var t=O;t||(t=document.createElement("video"));for(var n=!1,r=0;r<e.length;r++)for(var i=e[r].ks.systemString,o=e[r].configs,a=null,s=null,u=0;u<o.length;u++){var d=o[u].videoCapabilities;if(d&&0!==d.length){s=[];for(var p=0;p<d.length;p++)""!==t.canPlayType(d[p].contentType,i)&&s.push(d[p])}if(!(!a&&!s||a&&0===a.length||s&&0===s.length)){n=!0;var h=new l["default"](a,s),g=M.getKeySystemBySystemString(i);C.trigger(f["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new c["default"](g,h)});break}}n||C.trigger(f["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function h(e){k=e.keySystem,C.trigger(f["default"].INTERNAL_KEY_SYSTEM_SELECTED)}function g(e){O!==e&&(O&&S(),(O=e)&&(O.addEventListener(x.keyerror,j),O.addEventListener(x.needkey,j),O.addEventListener(x.keymessage,j),O.addEventListener(x.keyadded,j),C.trigger(f["default"].VIDEO_ELEMENT_SELECTED)))}function v(e){if(!k)throw new Error("Can not create sessions until you have selected a key system");if(L||0===N.length){var t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}};return D.push(t),O[x.generateKeyRequest](k.systemString,new Uint8Array(e)),t}throw new Error("Multiple sessions not allowed!")}function m(e,t){var n=e.sessionID;if(M.isClearKey(k))for(var r=0;r<t.keyPairs.length;r++)O[x.addKey](k.systemString,t.keyPairs[r].key,t.keyPairs[r].keyID,n);else O[x.addKey](k.systemString,new Uint8Array(t),e.initData,n)}function y(e){O[x.cancelKeyRequest](k.systemString,e.sessionID)}function _(){}function b(){}function T(){}function w(){return{handleEvent:function(e){var t=null;switch(e.type){case x.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;C.trigger(f["default"].NEED_KEY,{key:new a["default"](n,"cenc")});break;case x.keyerror:if((t=E(N,e.sessionId))||(t=E(D,e.sessionId)),t){var r="";switch(e.errorCode.code){case 1:r+="MEDIA_KEYERR_UNKNOWN - An unspecified error occurred. This value is used for errors that don't match any of the other codes.";break;case 2:r+="MEDIA_KEYERR_CLIENT - The Key System could not be installed or updated.";break;case 3:r+="MEDIA_KEYERR_SERVICE - The message passed into update indicated an error from the license service.";break;case 4:r+="MEDIA_KEYERR_OUTPUT - There is no available output device with the required characteristics for the content protection system.";break;case 5:r+="MEDIA_KEYERR_HARDWARECHANGE - A hardware configuration change caused a content protection error.";break;case 6:r+="MEDIA_KEYERR_DOMAIN - An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain."}r+="  System Code = "+e.systemCode,C.trigger(f["default"].KEY_ERROR,{data:new s["default"](t,r)})}else I("No session token found for key error");break;case x.keyadded:(t=E(N,e.sessionId))||(t=E(D,e.sessionId)),t?(I("DRM: Key added."),C.trigger(f["default"].KEY_ADDED,{data:t})):I("No session token found for key added");break;case x.keymessage:if((L=null!==e.sessionId&&void 0!==e.sessionId)?!(t=E(N,e.sessionId))&&D.length>0&&(t=D.shift(),N.push(t),t.sessionID=e.sessionId):D.length>0&&(t=D.shift(),N.push(t),0!==D.length&&R.mediaKeyMessageError("Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!")),t){var i=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;t.keyMessage=i,C.trigger(f["default"].INTERNAL_KEY_MESSAGE,{data:new u["default"](t,i,e.defaultURL)})}else I("No session token found for key message")}}}}function E(e,t){if(t&&e){for(var n=e.length,r=0;r<n;r++)if(e[r].sessionID==t)return e[r];return null}return null}function S(){O.removeEventListener(x.keyerror,j),O.removeEventListener(x.needkey,j),O.removeEventListener(x.keymessage,j),O.removeEventListener(x.keyadded,j)}var P=this.context,C=e.eventBus,I=e.log,x=e.api,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0,L=void 0,j=void 0;return A={getAllInitData:i,requestKeySystemAccess:p,getKeySystem:r,selectKeySystem:h,setMediaElement:g,createKeySession:v,updateKeySession:m,closeKeySession:y,setServerCertificate:_,loadKeySession:b,removeKeySession:T,reset:n},t(),A}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(109)),a=r(e(127)),s=r(e(121)),u=r(e(122)),l=r(e(125)),c=r(e(124)),f=r(e(13)),d=r(e(151)),p=r(e(10));i.__dashjs_factory_name="ProtectionModel_01b",n["default"]=p["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13,151:151}],114:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){C=null,I=null,x=null,A=[],k=(0,o["default"])(M).getInstance(),O=w()}function n(){var e,t=A.length;if(0!==t)for(var n=function(e){E(e),0===A.length&&(I?(I.removeEventListener("encrypted",O),I.setMediaKeys(null).then(function(){R.trigger(c["default"].TEARDOWN_COMPLETE)})):R.trigger(c["default"].TEARDOWN_COMPLETE))},r=0;r<t;r++)(function(t){e.session.closed.then(function(){n(t)}),T(e)["catch"](function(){n(t)})})(e=A[r]);else R.trigger(c["default"].TEARDOWN_COMPLETE)}function r(){return C}function i(){for(var e=[],t=0;t<A.length;t++)e.push(A[t].initData);return e}function f(e){b(e,0)}function d(e){e.mksa.createMediaKeys().then(function(t){C=e.keySystem,x=t,I&&I.setMediaKeys(x),R.trigger(c["default"].INTERNAL_KEY_SYSTEM_SELECTED)})["catch"](function(){R.trigger(c["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+e.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})}function p(e){I!==e&&(I&&(I.removeEventListener("encrypted",O),I.setMediaKeys(null)),(I=e)&&(I.addEventListener("encrypted",O),x&&I.setMediaKeys(x)))}function h(e){if(!C||!x)throw new Error("Can not set server certificate until you have selected a key system");x.setServerCertificate(e).then(function(){D("DRM: License server certificate successfully updated."),R.trigger(c["default"].SERVER_CERTIFICATE_UPDATED)})["catch"](function(e){R.trigger(c["default"].SERVER_CERTIFICATE_UPDATED,{error:"Error updating server certificate -- "+e.name})})}function g(e,t){if(!C||!x)throw new Error("Can not create sessions until you have selected a key system");var n=x.createSession(t),r=S(n,e,t);n.generateRequest("cenc",e).then(function(){D("DRM: Session created.  SessionID = "+r.getSessionID()),R.trigger(c["default"].KEY_SESSION_CREATED,{data:r})})["catch"](function(e){E(r),R.trigger(c["default"].KEY_SESSION_CREATED,{data:null,error:"Error generating key request -- "+e.name})})}function v(e,t){var n=e.session;k.isClearKey(C)&&(t=t.toJWK()),n.update(t)["catch"](function(t){R.trigger(c["default"].KEY_ERROR,{data:new s["default"](e,"Error sending update() message! "+t.name)})})}function m(e){if(!C||!x)throw new Error("Can not load sessions until you have selected a key system");var t=x.createSession();t.load(e).then(function(n){if(n){var r=S(t);D("DRM: Session created.  SessionID = "+r.getSessionID()),R.trigger(c["default"].KEY_SESSION_CREATED,{data:r})}else R.trigger(c["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session! Invalid Session ID ("+e+")"})})["catch"](function(t){R.trigger(c["default"].KEY_SESSION_CREATED,{data:null,error:"Could not load session ("+e+")! "+t.name})})}function y(e){e.session.remove().then(function(){D("DRM: Session removed.  SessionID = "+e.getSessionID()),R.trigger(c["default"].KEY_SESSION_REMOVED,{data:e.getSessionID()})},function(t){R.trigger(c["default"].KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+e.getSessionID()+"). "+t.name})})}function _(e){T(e)["catch"](function(t){E(e),R.trigger(c["default"].KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+e.getSessionID()+") "+t.name})})}function b(e,t){var n,r,i;r=e[n=t].ks,i=e[n].configs,navigator.requestMediaKeySystemAccess(r.systemString,i).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,n=new l["default"](r,t);n.mksa=e,R.trigger(c["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:n})})["catch"](function(){++n<e.length?b(e,n):R.trigger(c["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied!"})})}function T(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function w(){return{handleEvent:function(e){switch(e.type){case"encrypted":if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;R.trigger(c["default"].NEED_KEY,{key:new a["default"](t,e.initDataType)})}}}}}function E(e){for(var t=0;t<A.length;t++)if(A[t]===e){A.splice(t,1);break}}function S(e,t,n){var r={session:e,initData:t,handleEvent:function(e){switch(e.type){case"keystatuseschange":R.trigger(c["default"].KEY_STATUSES_CHANGED,{data:this});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;R.trigger(c["default"].INTERNAL_KEY_MESSAGE,{data:new u["default"](this,t,void 0,e.messageType)})}},getSessionID:function(){return e.sessionId},getExpirationTime:function(){return e.expiration},getKeyStatuses:function(){return e.keyStatuses},getSessionType:function(){return n}};return e.addEventListener("keystatuseschange",r),e.addEventListener("message",r),e.closed.then(function(){E(r),D("DRM: Session closed.  SessionID = "+r.getSessionID()),R.trigger(c["default"].KEY_SESSION_CLOSED,{data:r.getSessionID()})}),A.push(r),r}var P,C,I,x,A,O,k,M=this.context,R=e.eventBus,D=e.log;return P={getAllInitData:i,requestKeySystemAccess:f,getKeySystem:r,selectKeySystem:d,setMediaElement:p,setServerCertificate:h,createKeySession:g,updateKeySession:v,loadKeySession:m,removeKeySession:y,closeKeySession:_,reset:n},t(),P}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(109)),a=r(e(127)),s=r(e(121)),u=r(e(122)),l=r(e(124)),c=r(e(13)),f=r(e(10));i.__dashjs_factory_name="ProtectionModel_21Jan2015",n["default"]=f["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,127:127,13:13}],115:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){A=null,O=null,k=null,M=null,R=[],N=(0,o["default"])(S).getInstance(),D=T()}function n(){try{for(var e=0;e<R.length;e++)m(R[e]);A&&A.removeEventListener(I.needkey,D),P.trigger(f["default"].TEARDOWN_COMPLETE)}catch(t){P.trigger(f["default"].TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+t.message})}}function r(){return O}function i(){for(var e=[],t=0;t<R.length;t++)e.push(R[t].initData);return e}function d(e){for(var t=!1,n=0;n<e.length;n++)for(var r=e[n].ks.systemString,i=e[n].configs,o=null,a=null,s=0;s<i.length;s++){var u=i[s].audioCapabilities,d=i[s].videoCapabilities;if(u&&0!==u.length){o=[];for(var p=0;p<u.length;p++)window[I.MediaKeys].isTypeSupported(r,u[p].contentType)&&o.push(u[p])}if(d&&0!==d.length){a=[];for(var h=0;h<d.length;h++)window[I.MediaKeys].isTypeSupported(r,d[h].contentType)&&a.push(d[h])}if(!(!o&&!a||o&&0===o.length||a&&0===a.length)){t=!0;var g=new l["default"](o,a),v=N.getKeySystemBySystemString(r);P.trigger(f["default"].KEY_SYSTEM_ACCESS_COMPLETE,{data:new c["default"](v,g)});break}}t||P.trigger(f["default"].KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})}function p(e){try{k=e.mediaKeys=new window[I.MediaKeys](e.keySystem.systemString),O=e.keySystem,M=e,A&&w(),P.trigger(f["default"].INTERNAL_KEY_SYSTEM_SELECTED)}catch(t){P.trigger(f["default"].INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+O.systemString+")! Could not create MediaKeys -- TODO"})}}function h(e){A!==e&&(A&&A.removeEventListener(I.needkey,D),(A=e)&&(A.addEventListener(I.needkey,D),k&&w()))}function g(e){if(!O||!k||!M)throw new Error("Can not create sessions until you have selected a key system");var t=null;if(null!==M.ksConfiguration.videoCapabilities&&M.ksConfiguration.videoCapabilities.length>0&&(t=M.ksConfiguration.videoCapabilities[0]),null===t&&null!==M.ksConfiguration.audioCapabilities&&M.ksConfiguration.audioCapabilities.length>0&&(t=M.ksConfiguration.audioCapabilities[0]),null===t)throw new Error("Can not create sessions for unknown content types.");var n=t.contentType,r=k.createSession(n,new Uint8Array(e)),i=E(r,e);r.addEventListener(I.error,i),r.addEventListener(I.message,i),r.addEventListener(I.ready,i),r.addEventListener(I.close,i),R.push(i),C("DRM: Session created.  SessionID = "+i.getSessionID()),P.trigger(f["default"].KEY_SESSION_CREATED,{data:i})}function v(e,t){var n=e.session;N.isClearKey(O)?n.update(new Uint8Array(t.toJWK())):n.update(new Uint8Array(t))}function m(e){var t=e.session;t.removeEventListener(I.error,e),t.removeEventListener(I.message,e),t.removeEventListener(I.ready,e),t.removeEventListener(I.close,e);for(var n=0;n<R.length;n++)if(R[n]===e){R.splice(n,1);break}t[I.release]()}function y(){}function _(){}function b(){}function T(){return{handleEvent:function(e){switch(e.type){case I.needkey:if(e.initData){var t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;P.trigger(f["default"].NEED_KEY,{key:new a["default"](t,"cenc")})}}}}}function w(){var e=null,t=function(){A.removeEventListener("loadedmetadata",e),A[I.setMediaKeys](k),P.trigger(f["default"].VIDEO_ELEMENT_SELECTED)};A.readyState>=1?t():(e=t.bind(this),A.addEventListener("loadedmetadata",e))}function E(e,t){return{session:e,initData:t,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case I.error:var t="KeyError";P.trigger(f["default"].KEY_ERROR,{data:new s["default"](this,t)});break;case I.message:var n=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;P.trigger(f["default"].INTERNAL_KEY_MESSAGE,{data:new u["default"](this,n,e.destinationURL)});break;case I.ready:C("DRM: Key added."),P.trigger(f["default"].KEY_ADDED);break;case I.close:C("DRM: Session closed.  SessionID = "+this.getSessionID()),P.trigger(f["default"].KEY_SESSION_CLOSED,{data:this.getSessionID()})}}}}var S=this.context,P=e.eventBus,C=e.log,I=e.api,x=void 0,A=void 0,O=void 0,k=void 0,M=void 0,R=void 0,D=void 0,N=void 0;return x={getAllInitData:i,requestKeySystemAccess:d,getKeySystem:r,selectKeySystem:p,setMediaElement:h,createKeySession:g,updateKeySession:v,closeKeySession:m,setServerCertificate:y,loadKeySession:_,removeKeySession:b,reset:n},t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(109)),a=r(e(127)),s=r(e(121)),u=r(e(122)),l=r(e(125)),c=r(e(124)),f=r(e(13)),d=r(e(10));i.__dashjs_factory_name="ProtectionModel_3Feb2014",n["default"]=d["default"].getClassFactory(i),t.exports=n["default"]},{10:10,109:109,121:121,122:122,124:124,125:125,127:127,13:13}],116:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var r=0;r<n.kids.length;r++)e+=n.kids[r]+"&";return e.substring(0,e.length-1)}function t(){return"GET"}function n(){return"json"}function r(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var r=e.keys[n],i=r.kid.replace(/=/g,""),s=r.k.replace(/=/g,"");t.push(new o["default"](i,s))}return new a["default"](t)}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(123)),a=r(e(120)),s=r(e(10));i.__dashjs_factory_name="ClearKey",n["default"]=s["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,120:120,123:123}],117:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(e){return o[e].responseType}function r(e,t){return o[t].getLicenseMessage(e)}function i(e,t){return o[t].getErrorResponse(e)}var o={"com.widevine.alpha":{responseType:"json",getLicenseMessage:function(e){return a["default"].decodeArray(e.license)},getErrorResponse:function(e){return e}},"com.microsoft.playready":{responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}};return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(1));i.__dashjs_factory_name="DRMToday",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{1:1,10:10}],118:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="PlayReady",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],119:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(){return"POST"}function n(){return"arraybuffer"}function r(e){return e}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}return{getServerURLFromMessage:e,getHTTPMethod:t,getResponseType:n,getLicenseMessage:r,getErrorResponse:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="Widevine",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],120:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){if(r(this,e),n&&"persistent"!==n&&"temporary"!==n)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=t,this.type=n}return i(e,[{key:"toJWK",value:function(){var e,t=this.keyPairs.length,n={keys:[]};for(e=0;e<t;e++){var r={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(r)}this.type&&(n.type=this.type)
;var i=JSON.stringify(n),o=i.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=i.charCodeAt(e);return a}}]),e}();n["default"]=o,t.exports=n["default"]},{}],121:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t){r(this,o),this.sessionToken=e,this.error=t};n["default"]=i,t.exports=n["default"]},{}],122:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t,n,i){r(this,o),this.sessionToken=e,this.message=t,this.defaultURL=n,this.messageType=i||"license-request"};n["default"]=i,t.exports=n["default"]},{}],123:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t){r(this,o),this.keyID=e,this.key=t};n["default"]=i,t.exports=n["default"]},{}],124:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t){r(this,o),this.keySystem=e,this.ksConfiguration=t};n["default"]=i,t.exports=n["default"]},{}],125:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t,n,i,a){r(this,o),this.initDataTypes=["cenc"],this.audioCapabilities=e,this.videoCapabilities=t,this.distinctiveIdentifier=n,this.persistentState=i,this.sessionTypes=a};n["default"]=i,t.exports=n["default"]},{}],126:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t){r(this,o),this.contentType=e,this.robustness=t};n["default"]=i,t.exports=n["default"]},{}],127:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t){r(this,o),this.initData=e,this.initDataType=t};n["default"]=i,t.exports=n["default"]},{}],128:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){return s.mediaInfo.streamInfo}function n(){return s.mediaInfo}function r(){return s}function i(){return l}function o(){return s.mediaInfo.streamInfo.manifestInfo}function a(){return u}var s=e.streamProcessor.getCurrentRepresentationInfo(),u=e.streamProcessor,l=e.currentValue;return{getStreamInfo:t,getMediaInfo:n,getTrackInfo:r,getCurrentValue:i,getManifestInfo:o,getStreamProcessor:a}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="RulesContext",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],129:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){d={}}function t(e){e&&(e.abrRulesCollection&&(d[c]=e.abrRulesCollection),e.synchronizationRulesCollection&&(d[f]=e.synchronizationRulesCollection))}function n(e,t,n,r,o){var s,u={},l={},c=e.length,f=c,d=i(t,r),p=function(e){var t,i,s;if(e.value!==a["default"].NO_CHANGE){var f=o(u[e.priority],e.value);f!==u[e.priority]&&(u[e.priority]=f,l[e.priority]=e.reason)}--c||(u[a["default"].WEAK]!==a["default"].NO_CHANGE&&(s=a["default"].WEAK,t=u[a["default"].WEAK],i=l[a["default"].WEAK]),u[a["default"].DEFAULT]!==a["default"].NO_CHANGE&&(s=a["default"].DEFAULT,t=u[a["default"].DEFAULT],i=l[a["default"].DEFAULT]),u[a["default"].STRONG]!==a["default"].NO_CHANGE&&(s=a["default"].STRONG,t=u[a["default"].STRONG],i=l[a["default"].STRONG]),s!=a["default"].STRONG&&s!=a["default"].WEAK&&(s=a["default"].DEFAULT),n(void 0!==t?{value:t,confidence:s,reason:i}:{value:r,confidence:s,reason:{name:"NO_CHANGE"}}))};for(u[a["default"].STRONG]=a["default"].NO_CHANGE,u[a["default"].WEAK]=a["default"].NO_CHANGE,u[a["default"].DEFAULT]=a["default"].NO_CHANGE,s=0;s<f;s++)e[s].execute(d,p)}function r(){var e,t,n=d[c],r=d[f],i=(n.getRules(s["default"].QUALITY_SWITCH_RULES)||[]).concat(n.getRules(s["default"].ABANDON_FRAGMENT_RULES)||[]).concat(r.getRules(u["default"].TIME_SYNCHRONIZED_RULES)||[]).concat(r.getRules(u["default"].BEST_GUESS_RULES)||[]),o=i.length;for(t=0;t<o;t++)"function"==typeof(e=i[t]).reset&&e.reset();d={}}function i(e,t){return(0,o["default"])(l).create({streamProcessor:e,currentValue:t})}var l=this.context,d=void 0;return{initialize:e,setConfig:t,applyRules:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(128)),a=r(e(130)),s=r(e(131)),u=r(e(144)),l=r(e(10)),c=0,f=1;i.__dashjs_factory_name="RulesController";var d=l["default"].getSingletonFactory(i);d.ABR_RULE=c,d.SYNC_RULE=f,n["default"]=d,t.exports=n["default"]},{10:10,128:128,130:130,131:131,144:144}],130:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return{value:void 0===e?a:e,priority:void 0===t?s:t,reason:void 0===n?null:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=999,s=.5,u=1,l=0;i.__dashjs_factory_name="SwitchRequest";var c=o["default"].getClassFactory(i);c.NO_CHANGE=a,c.DEFAULT=s,c.STRONG=u,c.WEAK=l,n["default"]=c,t.exports=n["default"]},{10:10}],131:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){r=[],i=[];var e=(0,d["default"])(n).getInstance(),t=(0,p["default"])(n).getInstance();(0,f["default"])(n).getInstance().getBufferOccupancyABREnabled()?(r.push((0,l["default"])(n).create({metricsModel:e,dashMetrics:(0,p["default"])(n).getInstance()})),i.push((0,c["default"])(n).create({metricsModel:e,dashMetrics:(0,p["default"])(n).getInstance()}))):(r.push((0,o["default"])(n).create({metricsModel:e,dashMetrics:t})),r.push((0,a["default"])(n).create({metricsModel:e,dashMetrics:t})),r.push((0,s["default"])(n).create({metricsModel:e})),i.push((0,u["default"])(n).create()))}function t(e){switch(e){case g:return r;case v:return i;default:return null}}var n=this.context,r=void 0,i=void 0;return{initialize:e,getRules:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(137)),a=r(e(135)),s=r(e(136)),u=r(e(132)),l=r(e(134)),c=r(e(133)),f=r(e(101)),d=r(e(102)),p=r(e(17)),h=r(e(10)),g="qualitySwitchRules",v="abandonFragmentRules";i.__dashjs_factory_name="ABRRulesCollection";var m=h["default"].getSingletonFactory(i);m.QUALITY_SWITCH_RULES=g,m.ABANDON_FRAGMENT_RULES=v,n["default"]=m,t.exports=n["default"]},{10:10,101:101,102:102,132:132,133:133,134:134,135:135,136:136,137:137,17:17}],132:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){h={},g={},v=[],m=(0,a["default"])(d).getInstance()}function t(e,t){h[e]=h[e]||{},h[e][t]=h[e][t]||{}}function n(e,t){v[e]=v[e]||[],v[e].push(t)}function r(e,r){var a=e.getMediaInfo(),s=a.type,u=e.getCurrentValue().request,y=(0,o["default"])(d).create(o["default"].NO_CHANGE,o["default"].WEAK,{name:i.__dashjs_factory_name});if(!isNaN(u.index)){t(s,u.index);var _=h[s][u.index];if(null===_||null===u.firstByteDate||g.hasOwnProperty(_.id))return void r(y);if(void 0===_.firstByteTime&&(v[s]=[],_.firstByteTime=u.firstByteDate.getTime(),_.segmentDuration=u.duration,_.bytesTotal=u.bytesTotal,_.id=u.index),_.bytesLoaded=u.bytesLoaded,_.elapsedTime=(new Date).getTime()-_.firstByteTime,_.bytesLoaded>0&&_.elapsedTime>0&&n(s,Math.round(8*_.bytesLoaded/_.elapsedTime)),v[s].length>=f&&_.elapsedTime>c&&_.bytesLoaded<_.bytesTotal){var b=v[s].reduce(function(e,t){return e+t},0);if(_.measuredBandwidthInKbps=Math.round(b/v[s].length),_.estimatedTimeOfDownload=(8*_.bytesTotal/_.measuredBandwidthInKbps/1e3).toFixed(2),_.estimatedTimeOfDownload<_.segmentDuration*l||0===e.getTrackInfo().quality)return void r(y);if(!g.hasOwnProperty(_.id)){var T=e.getStreamProcessor().getABRController(),w=_.bytesTotal-_.bytesLoaded,E=T.getBitrateList(a),S=T.getQualityForBitrate(a,_.measuredBandwidthInKbps*m.getBandwidthSafetyFactor());w>_.bytesTotal*E[S].bitrate/E[T.getQualityFor(s,a.streamInfo)].bitrate&&(y.value=S,y.priority=o["default"].STRONG,y.reason.throughput=_.measuredBandwidthInKbps,g[_.id]=_,p("AbandonRequestsRule ( ",s,"frag id",_.id,") is asking to abandon and switch to quality to ",S," measured bandwidth was",_.measuredBandwidthInKbps),delete h[s][_.id])}}else _.bytesLoaded===_.bytesTotal&&delete h[s][_.id]}r(y)}function s(){e()}var l=1.8,c=500,f=5,d=this.context,p=(0,u["default"])(d).getInstance().log,h=void 0,g=void 0,v=void 0,m=void 0,y={execute:r,reset:s};return e(),y}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(101)),s=r(e(10)),u=r(e(8));i.__dashjs_factory_name="AbandonRequestsRule",n["default"]=s["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,130:130,8:8}],133:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){y={},(0,a["default"])(p).getInstance()}function n(e,t,n){y[e]={index:t,quality:n}}function r(e,t,n){var r=y[e];return!r||t!==r.index||n<r.quality}function s(e,t){var a=e.getMediaInfo().type,s=v.getReadOnlyMetricsFor(a),u=e.getCurrentValue().request,c=(0,o["default"])(p).create(o["default"].NO_CHANGE,o["default"].WEAK,{name:i.__dashjs_factory_name});if(0===s.BolaState.length)return h("WARNING: executing BolaAbandonRule before initializing BolaRule"),y[a]=null,void t(c);var m=s.BolaState[0]._s,_=u.index,b=u.quality;if(!isNaN(_)&&0!==b&&r(a,_,b)&&u.firstByteDate){var T=Date.now()-u.firstByteDate.getTime(),w=u.bytesLoaded,E=u.bytesTotal,S=E-w,P=u.duration,C=g.getCurrentBufferLevel(s)?g.getCurrentBufferLevel(s):0,I=C+m.virtualBuffer,x=8*w/(.001*T),A=m.bandwidthSafetyFactor*x,O=.001*(u.firstByteDate.getTime()-u.requestStartDate.getTime());O<.001*d&&(O=.001*d);var k=O+8*E/A,M="";l["default"].BOLA_DEBUG&&(M="index="+_+" quality="+b+" bytesLoaded/bytesTotal="+w+"/"+E+" bufferLevel="+C+" timeSince1stByte="+(T/1e3).toFixed(3)+" estThroughput="+(A/1e6).toFixed(3)+" latency="+O.toFixed(3));var R=E*m.bitrates[0]/m.bitrates[b],D=S-O*A/8;if(D<1&&(D=1),T<f||S<=R||C>m.bufferTarget||D<=R||k<=P)t(c);else{var N=I-O;N<0&&(N=0);for(var L=0;L+1<b&&E*m.bitrates[L+1]/m.bitrates[b]<D;)++L;var j=b;if(m.state===l["default"].BOLA_STATE_STARTUP){j=0;for(var F=0;F<=L&&!(8*(R=E*m.bitrates[F]/m.bitrates[b])/P>A);++F)j=F}else{var B=(m.Vp*(m.utilities[b]+m.gp)-N)/D;for(F=0;F<=L;++F){R=E*m.bitrates[F]/m.bitrates[b];var U=(m.Vp*(m.utilities[F]+m.gp)-N)/R;U>B&&(j=F,B=U)}}var H=m.rebufferSafetyFactor*x*(C-O)/8;if(j===b&&D>H&&(j=L),j!==b){for(;j>0&&!((R=E*m.bitrates[j]/m.bitrates[b])<=H);)--j;m.lastQuality=j,v.updateBolaState(a,m),l["default"].BOLA_DEBUG&&h("BolaDebug "+a+" BolaAbandonRule abandon to "+j+" - "+M),n(a,_,b),c.value=j,c.priority=o["default"].STRONG,c.reason.state=m.state,c.reason.throughput=x,c.reason.bufferLevel=C,c.reason.bytesLoaded=u.bytesLoaded,c.reason.bytesTotal=u.bytesTotal,c.reason.elapsedTimeMs=T,t(c)}else t(c)}}else t(c)}function c(){y={}}var f=500,d=200,p=this.context,h=(0,u["default"])(p).getInstance().log,g=e.dashMetrics,v=e.metricsModel,m=void 0,y=void 0;return m={execute:s,reset:c},t(),m}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(101)),s=r(e(10)),u=r(e(8)),l=r(e(134));i.__dashjs_factory_name="BolaAbandonRule",n["default"]=s["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,130:130,134:134,8:8}],134:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){B={},U=[],H=(0,s["default"])(R).getInstance(),(0,u["default"])(R).getInstance(),V=(0,c["default"])(R).getInstance(),j.on(d["default"].BUFFER_EMPTY,C,F),j.on(d["default"].PLAYBACK_SEEKING,I,F),j.on(d["default"].PERIOD_SWITCH_STARTED,x,F)}function n(e){return e.map(function(e){return Math.log(e)})}function r(e,t,r,i){var o=NaN;if(i?(o=0,i.forEach(function(e,t){e>i[o]&&(o=t)})):(i=n(r),o=i.length-1),0===o)return null;var a=1-i[0]+(i[o]-i[0])/(t/e-1),s=e/(i[0]+a-1);return{utilities:i,gp:a,Vp:s}}function a(e){var t={},n=e.getMediaInfo(),i=e.getStreamProcessor(),o=e.getStreamInfo(),a=e.getTrackInfo(),s=i.isDynamic(),u=o.manifestInfo.duration,l=a.fragmentDuration,c=n.bitrateList.map(function(e){return e.bandwidth}),f=r(y,_,c,null);if(null===f)return t.state=h,t;if(t.state=g,t.bitrates=c,t.utilities=f.utilities,t.Vp=f.Vp,t.gp=f.gp,t.isDynamic=s,t.movieDuration=u,t.fragmentDuration=l,t.bandwidthSafetyFactor=H.getBandwidthSafetyFactor(),t.rebufferSafetyFactor=b,t.bufferTarget=H.getStableBufferTime(),t.lastQuality=0,t.virtualBuffer=0,t.throughputCount=s?k:M,m){for(var d="",p=0;p<c.length;++p){var v=f.utilities[p],T=c[p],w=0;if(p>0){var E=f.utilities[p-1],S=c[p-1];w=f.Vp*((E*T-v*S)/(T-S)+f.gp)}var P=f.Vp*(v+f.gp);d+="\n"+p+":"+(1e-6*c[p]).toFixed(3)+"Mbps "+w.toFixed(3)+"/"+P.toFixed(3)}D("BolaDebug "+n.type+" bitrates"+d)}return t}function T(e,t){for(var n=e.bitrates.length,r=NaN,i=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(i)||a>=i)&&(i=a,r=o)}return r}function w(e,t){for(var n=N.getHttpRequests(e),r=[],i=n.length-1;i>=0&&r.length<t;--i){var o=n[i];o.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE&&o._tfinish&&o.tresponse&&o.trace&&r.push(o)}return r}function E(e,t,n){var r=w(e,t);if(0===r.length)return 0;for(var i=0,o="",a=0;a<r.length;++a){var s=.001*(r[a]._tfinish.getTime()-r[a].trequest.getTime()),u=8*r[a].trace.reduce(function(e,t){return e+t.b[0]},0);m&&(o+=" "+(1e-6*u).toFixed(3)+"/"+s.toFixed(3)+"="+(1e-6*u/s).toFixed(3)+"Mbps"),i+=s/u}return m&&D("BolaDebug "+n+" BolaRule recent throughput = "+(r.length/(1e6*i)).toFixed(3)+"Mbps:"+o),r.length/i}function S(e,t){var n=0;return e.bitrates.some(function(e,r){return e>t||(n=r,!1)}),n}function P(e,t){var n=w(e,1);if(0===n.length)return 0;var r=n[0],i=Date.now(),o=r._tfinish.getTime();o>i&&(o=i);var a=B[t];B[t]=i;var s=0;return(s=a&&a>o?i-a:i-o)<=0?0:.001*s}function C(){m&&D("BolaDebug BUFFER_EMPTY"),U.forEach(function(e){var t=L.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state===v&&(n.virtualBuffer=0,L.updateBolaState(e,n))}})}function I(e){m&&D("BolaDebug PLAYBACK_SEEKING "+e.seekTime.toFixed(3)),U.forEach(function(e){var t=L.getReadOnlyMetricsFor(e);if(0!==t.BolaState.length){var n=t.BolaState[0]._s;n.state!==h&&(n.state=g),L.updateBolaState(e,n)}})}function x(){}function A(e,t){var n=e.getStreamProcessor();n.getScheduleController().setTimeToLoadDelay(0);var r=(0,o["default"])(R).create(o["default"].NO_CHANGE,o["default"].WEAK,{name:i.__dashjs_factory_name}),s=e.getMediaInfo().type,u=L.getReadOnlyMetricsFor(s);if(0===u.BolaState.length){m&&D("BolaDebug "+s+"\nBolaDebug "+s+" BolaRule for state=- fragmentStart="+V.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var l=a(e);L.updateBolaState(s,l);var c=0;if(l.state!==h){U.push(s);var f=E(u,l.throughputCount,s);if(0===f)return m&&D("BolaDebug "+s+" BolaRule quality unchanged for INITIALIZE"),void t(r);c=S(l,f*l.bandwidthSafetyFactor),l.lastQuality=c,r.value=c,r.priority=o["default"].DEFAULT,r.reason.state=l.state,r.reason.throughput=f}return m&&D("BolaDebug "+s+" BolaRule quality "+c+" for INITIALIZE"),void t(r)}var d=u.BolaState[0]._s;if(d.state===h)return m&&D("BolaDebug "+s+" BolaRule quality 0 for ONE_BITRATE"),void t(r);var p=d.bitrates,y=d.utilities;m&&D("BolaDebug "+s+"\nBolaDebug "+s+" EXECUTE BolaRule for state="+d.state+" fragmentStart="+V.getIndexHandlerTime(e.getStreamProcessor()).toFixed(3));var _=N.getCurrentBufferLevel(u)?N.getCurrentBufferLevel(u):0,w=E(u,d.throughputCount,s);_<=.1&&(d.virtualBuffer=0);var C=P(u,s);C>0&&(d.virtualBuffer+=C),d.virtualBuffer<0&&(d.virtualBuffer=0);var I=_+d.virtualBuffer,x=T(d,I);if(m&&D("BolaDebug "+s+" BolaRule bufferLevel="+_.toFixed(3)+"(+"+d.virtualBuffer.toFixed(3)+"="+I.toFixed(3)+") recentThroughput="+(1e-6*w).toFixed(3)+" tentativeQuality="+x),d.state===g){var c=S(d,w*d.bandwidthSafetyFactor);if(_>d.fragmentDuration/b){d.state=v;for(var A=0,O=0;O<c;++O){var k=d.Vp*(d.gp+(p[c]*y[O]-p[O]*y[c])/(p[c]-p[O]));k>A&&(A=k)}A>_&&(d.virtualBuffer=A-_)}return m&&D("BolaDebug "+s+" BolaRule quality "+c+" for STARTUP"),d.lastQuality=c,L.updateBolaState(s,d),r.value=c,r.priority=o["default"].DEFAULT,r.reason.state=g,r.reason.throughput=w,void t(r)}x>d.lastQuality&&(x>(c=S(d,w))&&(c<d.lastQuality&&(c=d.lastQuality),x=c));if(w>0)for(var M=b*w*_/d.fragmentDuration;x>0&&p[x]>M;)--x;var j=0;(j=I-d.Vp*(y[x]+d.gp))>0&&(j>d.virtualBuffer?(j-=d.virtualBuffer,d.virtualBuffer=0):(d.virtualBuffer-=j,j=0)),j>0?x===p.length-1?j=0:n.getScheduleController().setTimeToLoadDelay(1e3*j):j=0,d.lastQuality=x,L.updateBolaState(s,d),r.value=x,r.priority=o["default"].DEFAULT,r.reason.state=d.state,r.reason.throughput=w,r.reason.bufferLevel=_,m&&D("BolaDebug "+s+" BolaRule quality "+x+" delay="+j.toFixed(3)+" for STEADY"),t(r)}function O(){j.off(d["default"].BUFFER_EMPTY,C,F),j.off(d["default"].PLAYBACK_SEEKING,I,F),j.off(d["default"].PERIOD_SWITCH_STARTED,x,F),t()}var k=2,M=3,R=this.context,D=(0,p["default"])(R).getInstance().log,N=e.dashMetrics,L=e.metricsModel,j=(0,f["default"])(R).getInstance(),F=void 0,B=void 0,U=void 0,H=void 0,V=void 0;return F={execute:A,reset:O},t(),F}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(10)),s=r(e(101)),u=r(e(68)),l=e(179),c=r(e(15)),f=r(e(9)),d=r(e(13)),p=r(e(8)),h=0,g=1,v=2,m=!1,y=10,_=30,b=.5;i.__dashjs_factory_name="BolaRule";var T=a["default"].getClassFactory(i);T.BOLA_STATE_ONE_BITRATE=h,T.BOLA_STATE_STARTUP=g,T.BOLA_STATE_STEADY=v,T.BOLA_DEBUG=m,n["default"]=T,t.exports=n["default"]},{10:10,101:101,13:13,130:130,15:15,179:179,68:68,8:8,9:9}],135:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){h=0,g=(0,a["default"])(c).getInstance()}function n(e,t){var n=(new Date).getTime()/1e3,r=e.getMediaInfo(),a=e.getTrackInfo(),u=r.type,l=isNaN(a.fragmentDuration)?2:a.fragmentDuration/2,v=e.getCurrentValue(),m=e.getStreamProcessor().getABRController(),y=d.getReadOnlyMetricsFor(u),_=p.getCurrentBufferLevel(y),b=y.BufferState.length>0?y.BufferState[y.BufferState.length-1]:null,T=r.representationCount-1,w=(0,o["default"])(c).create(o["default"].NO_CHANGE,o["default"].WEAK,{name:i.__dashjs_factory_name});return n-h<l||m.getAbandonmentStateFor(u)===s["default"].ABANDON_LOAD?void t(w):(null!==b&&_>b.target&&(_-b.target>g.getRichBufferThreshold()&&r.representationCount>1&&(w.value=T,w.priority=o["default"].STRONG,w.reason.bufferLevel=_,w.reason.bufferTarget=b.target)),w.value!==o["default"].NO_CHANGE&&w.value!==v&&f("BufferOccupancyRule requesting switch to index: ",w.value,"type: ",u," Priority: ",w.priority===o["default"].DEFAULT?"Default":w.priority===o["default"].STRONG?"Strong":"Weak"),void t(w))}function r(){h=0}var u=void 0,c=this.context,f=(0,l["default"])(c).getInstance().log,d=e.metricsModel,p=e.dashMetrics,h=void 0,g=void 0;return u={execute:n,reset:r},t(),u}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(101)),s=r(e(60)),u=r(e(10)),l=r(e(8));i.__dashjs_factory_name="BufferOccupancyRule",n["default"]=u["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,130:130,60:60,8:8}],136:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){m={},y=0,_=1e3,h.on(u["default"].PLAYBACK_SEEKING,l,v)}function n(e,t){var n=(new Date).getTime(),s=e.getMediaInfo().type,u=e.getCurrentValue(),l=g.getReadOnlyMetricsFor(s),c=l.BufferState.length>0?l.BufferState[l.BufferState.length-1]:null,f=(0,o["default"])(d).create(o["default"].NO_CHANGE,o["default"].WEAK,{name:i.__dashjs_factory_name});return n-y<_||null===c?void t(f):(r(s,c.state),c.state===a["default"].BUFFER_EMPTY&&void 0!==m[s].firstBufferLoadedEvent&&(f.value=0,f.priority=o["default"].STRONG,f.reason.bufferState=c.state,f=(0,o["default"])(d).create(0,o["default"].STRONG)),f.value!==o["default"].NO_CHANGE&&f.value!==u&&p("InsufficientBufferRule requesting switch to index: ",f.value,"type: ",s," Priority: ",f.priority===o["default"].DEFAULT?"Default":f.priority===o["default"].STRONG?"Strong":"Weak"),y=n,void t(f))}function r(e,t){m[e]=m[e]||{},m[e].state=t,t!==a["default"].BUFFER_LOADED||m[e].firstBufferLoadedEvent||(m[e].firstBufferLoadedEvent=!0)}function l(){m={}}function f(){h.off(u["default"].PLAYBACK_SEEKING,l,v),m={},y=0}var d=this.context,p=(0,c["default"])(d).getInstance().log,h=(0,s["default"])(d).getInstance(),g=e.metricsModel,v=void 0,m=void 0,y=void 0,_=void 0;return v={execute:n,reset:f},t(),v}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(63)),s=r(e(9)),u=r(e(13)),l=r(e(10)),c=r(e(8));i.__dashjs_factory_name="InsufficientBufferRule",n["default"]=l["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,130:130,63:63,8:8,9:9}],137:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){P=[],C={audio:{threshold:y,value:NaN},video:{threshold:m,value:NaN}},I=(0,u["default"])(T).getInstance()}function n(e,t){P[e]=P[e]||[],P[e].push(t)}function r(e,t){var n=Math.min(P[e].length,t?g:v),r=P[e].slice(-1*n,P[e].length);return r.length>1&&r.reduce(function(e,t){return(e*b<=t||e>=t*_)&&n++,t}),n=Math.min(P[e].length,n),P[e].slice(-1*n,P[e].length)}function c(e,t){var n=r(e,t),i=0;n.length>0&&(i=n.reduce(function(e,t){return e+t},0)/n.length);return P[e].length>=h&&P[e].shift(),i/1e3*I.getBandwidthSafetyFactor()}function d(e,t){var r=e.getMediaInfo(),u=r.type,f=e.getCurrentValue(),d=S.getReadOnlyMetricsFor(u),p=e.getStreamProcessor(),h=p.getABRController(),g=p.isDynamic(),v=E.getCurrentHttpRequest(d),m=d.BufferState.length>0?d.BufferState[d.BufferState.length-1]:null,y=(0,o["default"])(T).create(o["default"].NO_CHANGE,o["default"].WEAK,{name:i.__dashjs_factory_name});if(d&&v&&v.type===l.HTTPRequest.MEDIA_SEGMENT_TYPE&&m){var _=void 0;if(v.trace&&v.trace.length){_=v._tfinish.getTime()-v.tresponse.getTime()+1;var b=v.trace.reduce(function(e,t){return e+t.b[0]},0),P=Math.round(8*b/(_/1e3));_<=C[u].threshold?C[u].value=P/1e3:(C[u].value=NaN,n(u,P))}var I=Math.round(isNaN(C[u].value)?c(u,g):C[u].value);if(h.setAverageThroughput(u,I),h.getAbandonmentStateFor(u)!==s["default"].ABANDON_LOAD){if(m.state===a["default"].BUFFER_LOADED||g){var x=h.getQualityForBitrate(r,I);p.getScheduleController().setTimeToLoadDelay(0),y.value=x,y.priority=o["default"].DEFAULT,y.reason.throughput=I}y.value!==o["default"].NO_CHANGE&&y.value!==f&&w("ThroughputRule requesting switch to index: ",y.value,"type: ",u," Priority: ",y.priority===o["default"].DEFAULT?"Default":y.priority===o["default"].STRONG?"Strong":"Weak","Average throughput",Math.round(I),"kbps")}t(y)}else t(y)}function p(){t()}var h=20,g=3,v=4,m=50,y=5,_=1.3,b=1.3,T=this.context,w=(0,f["default"])(T).getInstance().log,E=e.dashMetrics,S=e.metricsModel,P=void 0,C=void 0,I=void 0,x={execute:d,reset:p};return t(),x}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(63)),s=r(e(60)),u=r(e(101)),l=e(179),c=r(e(10)),f=r(e(8));i.__dashjs_factory_name="ThroughputRule",n["default"]=c["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,130:130,179:179,60:60,63:63,8:8}],138:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){var t,r=0;return e&&e.some(function(e,t){return r=t,!n.contains(e.serviceLocation)})&&(t=e[r]),t}var n=e.blacklistController;return{select:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="BasicSelector",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],139:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e){var t=[],n=function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)},r=function(e){return!i.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)};return e.filter(r).filter(n)}function n(e){var t,n,r=function(e,t){var n=e.dvb_priority-t.dvb_priority;return isNaN(n)?0:n},i=function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority},o=0,a=[],s=0;if((n=e.sort(r).filter(i)).length)return n.length>1&&(n.forEach(function(e){o+=e.dvb_weight,a.push(o)}),t=Math.floor(Math.random()*(o-1)),a.every(function(e,n){return s=n,!(t<e)})),n[s]}function r(e){return e&&n(t(e))}var i=e.blacklistController;return{select:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="DVBSelector",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],140:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){c=(0,o["default"])(i).getInstance(),(0,a["default"])(i).getInstance()}function n(e,t,n){return s.getCurrentBufferLevel(u.getReadOnlyMetricsFor(t))<r(e,t,n)}function r(e,t,n){var r=NaN,i=e.getCurrentRepresentationInfo();if("fragmentedText"===t)r=l.getAllTracksAreDisabled()?0:i.fragmentDuration;else if("audio"===t&&n){var o=s.getCurrentBufferLevel(u.getReadOnlyMetricsFor("video"));r=Math.floor(Math.max(o,i.fragmentDuration))}else{var a=i.mediaInfo.streamInfo;if(e.getABRController().isPlayingAtTopQuality(a))r=a.manifestInfo.duration>=c.getLongFormContentDurationThreshold()?c.getBufferTimeAtTopQualityLongForm():c.getBufferTimeAtTopQuality();else r=c.getStableBufferTime()}return r}var i=this.context,s=e.dashMetrics,u=e.metricsModel,l=e.textSourceBuffer,c=void 0,f={execute:n,getBufferTarget:r};return t(),f}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(101)),a=r(e(68)),s=r(e(10));i.__dashjs_factory_name="BufferLevelRule",n["default"]=s["default"].getClassFactory(i),t.exports=n["default"]},{10:10,101:101,68:68}],141:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var n=e.getCurrentRepresentationInfo(),o=n.mediaInfo.type,u=e.getScheduleController(),l=u.getSeekTarget(),c=!isNaN(l),f=e.getBuffer(),d=c?l:i.getIndexHandlerTime(e);if(isNaN(d)||"fragmentedText"===o&&s.getAllTracksAreDisabled())return null;if(c&&u.setSeekTarget(NaN),f){var p=a.getBufferRange(e.getBuffer(),d);null!==p&&(r("Prior to making a request for time, NextFragmentRequestRule is aligning index handler's currentTime with bufferedRange.end.",d," was changed to ",p.end),d=p.end)}var h=void 0;return t?(d=t.startTime+t.duration/2,h=i.getFragmentRequestForTime(e,n,d,{timeThreshold:0,ignoreIsFinished:!0})):((h=i.getFragmentRequestForTime(e,n,d,{keepIdx:!c}))&&e.getFragmentModel().isFragmentLoaded(h)&&(h=i.getNextFragmentRequest(e,n)),h&&(i.setIndexHandlerTime(e,h.startTime+h.duration),h.delayLoadingTime=(new Date).getTime()+u.getTimeToLoadDelay(),u.setTimeToLoadDelay(0))),h}var n=this.context,r=(0,o["default"])(n).getInstance().log,i=e.adapter,a=e.sourceBufferController,s=e.textSourceBuffer;return{execute:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(8)),a=r(e(10));i.__dashjs_factory_name="NextFragmentRequestRule",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,8:8}],142:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){m=NaN,y=null,_=NaN,b=null,T=!1,w=NaN,E=o["default"].DEFAULT}function n(e,t){var n,r;if(S=t,C=e.getStreamProcessor(),P=C.getFragmentLoader(),b=e.getTrackInfo(),w=b.fragmentDuration,r=b.DVRWindow,m=r.end,b.useCalculatedLiveEdgeTime){var a=g.getExpectedLiveEdge();return g.setExpectedLiveEdge(m),void S((0,o["default"])(d).create(a,E))}y={start:Math.max(0,m-l),end:m+l},_=Math.floor((r.end-r.start)/2),n=h.getFragmentRequestForTime(C,b,m,{ignoreIsFinished:!0}),i(m,c,u,n)}function r(){m=NaN,y=null,_=NaN,b=null,T=!1,w=NaN,C=null,P=null}function i(e,t,n,r){var o;if(null===r)o=h.generateFragmentRequestForTime(C,b,e),i(e,t,n,o);else{var a=function u(r){p.off(s["default"].CHECK_FOR_EXISTENCE_COMPLETED,u,this),r.exists?t(r.request,e):n(r.request,e)};p.on(s["default"].CHECK_FOR_EXISTENCE_COMPLETED,a,this),P.checkForExistence(r)}}function u(e,t){var n,r,a;return T?void f(!1,t):void((n=(a=t-m)>0?m-a:m+Math.abs(a)+_)<y.start&&n>y.end?S((0,o["default"])(d).create(null,E)):(r=h.getFragmentRequestForTime(C,b,n,{ignoreIsFinished:!0}),i(n,c,u,r)))}function c(e,t){var n,r,a=e.startTime;if(!T){if(!b.fragmentDuration)return void S((0,o["default"])(d).create(a,E));if(T=!0,y.end=a+2*_,t===m)return r=t+w,n=h.getFragmentRequestForTime(C,b,r,{ignoreIsFinished:!0}),void i(r,function(){f(!0,r)},function(){S((0,o["default"])(d).create(r,E))},n)}f(!0,t)}function f(e,t){var n;e?y.start=t:y.end=t,Math.floor(y.end-y.start)<=w?S((0,o["default"])(d).create(e?t:t-w,E)):i(n=(y.start+y.end)/2,c,u,h.getFragmentRequestForTime(C,b,n,{ignoreIsFinished:!0}))}var d=this.context,p=(0,a["default"])(d).getInstance(),h=e.adapter,g=e.timelineConverter,v=void 0,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0,w=void 0,E=void 0,S=void 0,P=void 0,C=void 0;return v={execute:n,reset:r},t(),v}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(9)),s=r(e(13)),u=r(e(10)),l=43200;i.__dashjs_factory_name="LiveEdgeBinarySearchRule",n["default"]=u["default"].getClassFactory(i),t.exports=n["default"]},{10:10,13:13,130:130,9:9}],143:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(e,t){var i=e.getTrackInfo(),a=i.DVRWindow.end,s=o["default"].DEFAULT;if(i.useCalculatedLiveEdgeTime){var u=r.getExpectedLiveEdge();r.setExpectedLiveEdge(a),t((0,o["default"])(n).create(u,s))}else t((0,o["default"])(n).create(a,s))}var n=this.context,r=e.timelineConverter;return{execute:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(130)),a=r(e(10));i.__dashjs_factory_name="LiveEdgeWithTimeSynchronizationRule",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,130:130}],144:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){i=[],(r=[]).push((0,u["default"])(n).create({timelineConverter:(0,a["default"])(n).getInstance()})),i.push((0,s["default"])(n).create({timelineConverter:(0,a["default"])(n).getInstance(),adapter:(0,l["default"])(n).getInstance()}))}function t(e){switch(e){case c:return r;case f:return i;default:return null}}var n=this.context,r=void 0,i=void 0;return{initialize:e,getRules:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(37)),s=r(e(142)),u=r(e(143)),l=r(e(15)),c="withAccurateTimeSourceRules",f="bestGuestRules";i.__dashjs_factory_name="SynchronizationRulesCollection";var d=o["default"].getSingletonFactory(i);d.TIME_SYNCHRONIZED_RULES=c,d.BEST_GUESS_RULES=f,n["default"]=d,t.exports=n["default"]},{10:10,142:142,143:143,15:15,37:37}],145:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){v=(0,u["default"])(i).create({updateEventName:a["default"].SERVICE_LOCATION_BLACKLIST_CHANGED,loadFailedEventName:a["default"].FRAGMENT_LOADING_COMPLETED}),m=(0,c["default"])(i).create({blacklistController:v}),y=(0,l["default"])(i).create({blacklistController:v}),_=m}function t(e){_=h.getIsDVB(e)?y:m}function n(e){var t=e.baseUrls,n=e.selectedIdx;if(!isNaN(n))return t[n];var r=_.select(t);return r?(e.selectedIdx=t.indexOf(r),r):void f.trigger(a["default"].URL_RESOLUTION_FAILED,{error:new Error(d,p)})}function r(){v.reset()}var i=this.context,f=(0,o["default"])(i).getInstance(),h=(0,s["default"])(i).getInstance(),g=void 0,v=void 0,m=void 0,y=void 0,_=void 0;return g={chooseSelectorFromManifest:t,select:n,reset:r},e(),g}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(22)),u=r(e(62)),l=r(e(139)),c=r(e(138)),f=r(e(10)),d=1,p="Failed to resolve a valid URL";i.__dashjs_factory_name="BaseURLSelector";var h=f["default"].getClassFactory(i);h.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=d,h.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE=p,n["default"]=h,t.exports=n["default"]},{10:10,13:13,138:138,139:139,22:22,62:62,9:9}],146:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var n=s["default"].parseBuffer(e),r=(0,o["default"])(t).create();return r.setData(n),r}var t=this.context;return{parse:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(153)),a=r(e(10)),s=r(e(6));i.__dashjs_factory_name="BoxParser",n["default"]=a["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,153:153,6:6}],147:[function(e,t,n){"use strict";function r(e){
return e&&e.__esModule?e:{"default":e}}function i(){function e(){a=!1}function t(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t}function n(){return a}function r(e){a=e}function i(e,t){var n=e.canPlayType(t);return"probably"===n||"maybe"===n}var o=void 0,a=void 0;return o={supportsMediaSource:t,supportsEncryptedMedia:n,supportsCodec:i,setEncryptedMediaSupported:r},e(),o}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="Capabilities",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],148:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){var n=0;for(n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length}function t(){this.customTimeRangeArray=[],this.length=0}function n(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length}function r(e,t){var n=this.customTimeRangeArray[e],r=this.customTimeRangeArray[t];return n.start<=r.start&&r.start<=n.end&&n.end<=r.end?(n.end=r.end,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&r.end<=n.end?(n.start=r.start,this.customTimeRangeArray.splice(t,1),!0):r.start<=n.start&&n.start<=r.end&&n.end<=r.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=r.start&&r.start<=n.end&&r.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)}function i(e){return this.customTimeRangeArray[e].start}function o(e){return this.customTimeRangeArray[e].end}return{customTimeRangeArray:[],length:0,add:e,clear:t,remove:n,mergeRanges:r,start:i,end:o}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="CustomTimeRanges",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10}],149:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){if(void 0!==_)return _;_=!1;var t,n="1",r="1";try{"undefined"!=typeof window&&(t=window[e])}catch(i){return m("Warning: DOMStorage access denied: "+i.message),_}if(!t||e!==f&&e!==d)return _;try{t.setItem(n,r),t.removeItem(n),_=!0}catch(i){m("Warning: DOMStorage is supported, but cannot be used: "+i.message)}return _}function t(){e(f)&&u.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(n){m(n.message)}}})}function n(){b=(0,a["default"])(v).getInstance(),t()}function r(){var e=6e5;return Math.round((new Date).getTime()/e)*e}function i(t,n){return e(t)&&b["get"+n+"CachingInfo"]().enabled}function o(e){if(!i(f,"LastMediaSettings"))return null;var t=c.replace(/\?/,e),n=JSON.parse(localStorage.getItem(t))||{},r=(new Date).getTime()-parseInt(n.timestamp,10)>=b.getLastMediaSettingsCachingInfo().ttl||!1,o=n.settings;return r&&(localStorage.removeItem(t),o=null),o}function p(e){var t=NaN;if(i(f,"LastBitrate")){var n=l.replace(/\?/,e),r=JSON.parse(localStorage.getItem(n))||{},o=(new Date).getTime()-parseInt(r.timestamp,10)>=b.getLastBitrateCachingInfo().ttl||!1,a=parseInt(r.bitrate,10);isNaN(a)||o?o&&localStorage.removeItem(n):(t=a,m("Last saved bitrate for "+e+" was "+a))}return t}function h(e,t){if(i(f,"LastMediaSettings")){var n=c.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:r()}))}catch(o){m(o.message)}}}function g(e,t){if(i(f,"LastBitrate")&&t){var n=l.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t/1e3,timestamp:r()}))}catch(o){m(o.message)}}}var v=this.context,m=(0,s["default"])(v).getInstance().log,y=void 0,_=void 0,b=void 0;return y={getSavedBitrateSettings:p,setSavedBitrateSettings:g,getSavedMediaSettings:o,setSavedMediaSettings:h,isSupported:e},n(),y}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(101)),s=r(e(8)),u=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],l="dashjs_?_bitrate",c="dashjs_?_settings",f="localStorage",d="sessionStorage";i.__dashjs_factory_name="DOMStorage";var p=o["default"].getSingletonFactory(i);n["default"]=p,t.exports=n["default"]},{10:10,101:101,8:8}],150:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){function t(){return h}function n(e){h=e}function r(e,t){var n=!0,r=0;if(void 0===t&&(t=!1),e.tag>16777215?(p.getUint32(h)!==e.tag&&(n=!1),r=4):e.tag>65535?(256*p.getUint16(h)+p.getUint8(h+2)!==e.tag&&(n=!1),r=3):e.tag>255?(p.getUint16(h)!==e.tag&&(n=!1),r=2):(p.getUint8(h)!==e.tag&&(n=!1),r=1),!n&&e.required&&!t)throw new a["default"]("required tag not found");return n&&(h+=r),n}function i(e,t){var n=r(e,t);return n&&u(),n}function o(e){var t=void 0;return r(e),t=u(),d[e.parse](t)}function s(e,t){var n=r(e,t),i=void 0;return n&&(i=u(),h+=i),n}function u(e){var t=1,n=128,r=8,i=-1,o=0,a=p.getUint8(h),s=void 0;for(s=0;s<r;s+=1){if((a&n)===n){o=void 0===e?a&~n:a,i=s;break}n>>=1}for(s=0;s<i;s+=1,t+=1)o=o<<8|255&p.getUint8(h+t);return h+=t,o}function l(e){var t=void 0;switch(e){case 4:t=p.getFloat32(h),h+=4;break;case 8:t=p.getFloat64(h),h+=8}return t}function c(e){var t=0,n=void 0;for(n=0;n<e;n+=1)t<<=8,t|=255&p.getUint8(h+n);return h+=e,t}function f(){return h<p.byteLength}var d=void 0,p=new DataView(e.data),h=0;return d={getPos:t,setPos:n,consumeTag:r,consumeTagAndSize:i,parseTag:o,skipOverElement:s,getMatroskaCodedNum:u,getMatroskaFloat:l,getMatroskaUint:c,moreData:f}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(162));i.__dashjs_factory_name="EBMLParser",n["default"]=o["default"].getClassFactory(i),t.exports=n["default"]},{10:10,162:162}],151:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){c.trigger(a["default"].ERROR,{error:"capability",event:e})}function t(e,t,n){c.trigger(a["default"].ERROR,{error:"download",event:{id:e,url:t,request:n}})}function n(e,t,n,r){c.trigger(a["default"].ERROR,{error:"manifestError",event:{message:e,id:t,manifest:n,event:r}})}function r(e,t,n){c.trigger(a["default"].ERROR,{error:"cc",event:{message:e,id:t,cc:n}})}function i(e){c.trigger(a["default"].ERROR,{error:"mediasource",event:e})}function s(e){c.trigger(a["default"].ERROR,{error:"key_session",event:e})}function u(e){c.trigger(a["default"].ERROR,{error:"key_message",event:e})}var l=this.context,c=(0,o["default"])(l).getInstance();return{capabilityError:e,downloadError:t,manifestError:n,timedTextError:r,mediaSourceError:i,mediaKeySessionError:s,mediaKeyMessageError:u}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(9)),a=r(e(13)),s=r(e(10)),u="mediasource",l="mediakeys",c="manifest",f="SIDX",d="content",p="initialization",h="xlink",g="codec",v="parse",m="nostreams",y="parse";i.__dashjs_factory_name="ErrorHandler";var _=s["default"].getSingletonFactory(i);_.CAPABILITY_ERROR_MEDIASOURCE=u,_.CAPABILITY_ERROR_MEDIAKEYS=l,_.DOWNLOAD_ERROR_ID_MANIFEST=c,_.DOWNLOAD_ERROR_ID_SIDX=f,_.DOWNLOAD_ERROR_ID_CONTENT=d,_.DOWNLOAD_ERROR_ID_INITIALIZATION=p,_.DOWNLOAD_ERROR_ID_XLINK=h,_.MANIFEST_ERROR_ID_CODEC=g,_.MANIFEST_ERROR_ID_PARSE=v,_.MANIFEST_ERROR_ID_NOSTREAMS=m,_.TIMED_TEXT_ERROR_ID_PARSE=y,n["default"]=_,t.exports=n["default"]},{10:10,13:13,9:9}],152:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t=e.streamId,n=e.mediaInfo.type,i=e.quality;r[t]=r[t]||{},r[t][n]=r[t][n]||{},r[t][n][i]=e}function t(e,t,n){return r[e][t][n]}function n(){r={}}var r={};return{save:e,extract:t,reset:n}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="InitCache",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],153:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e&&c&&c.boxes&&0!==c.boxes.length?u(c.fetch(e)):null}function t(e){for(var t,n=c.fetchAll(e),r=[],i=0,o=n.length;i<o;i++)(t=u(n[i]))&&r.push(t);return r}function n(e){c=e}function r(){if(!c||!c.boxes||!c.boxes.length)return null;var e=t(c.boxes[c.boxes.length-1].type);return e[e.length-1]}function i(){return c._cursor.offset}function a(){f={offset:"_offset",size:"size",type:"type"},d={references:"references",timescale:"timescale",earliest_presentation_time:"earliest_presentation_time",first_offset:"first_offset"},p={reference_type:"reference_type",referenced_size:"referenced_size",subsegment_duration:"subsegment_duration"},h={id:"id",value:"value",timescale:"timescale",scheme_id_uri:"scheme_id_uri",presentation_time_delta:"presentation_time_delta",event_duration:"event_duration",message_data:"message_data"},g={timescale:"timescale"},v={sequence_number:"sequence_number"},m={base_data_offset:"base_data_offset",sample_description_index:"sample_description_index",default_sample_duration:"default_sample_duration",default_sample_size:"default_sample_size",default_sample_flags:"default_sample_flags",flags:"flags"},y={version:"version",baseMediaDecodeTime:"baseMediaDecodeTime",flags:"flags"},_={sample_count:"sample_count",first_sample_flags:"first_sample_flags",data_offset:"data_offset",flags:"flags",samples:"samples"},b={sample_size:"sample_size",sample_duration:"sample_duration",sample_composition_time_offset:"sample_composition_time_offset"}}function s(e,t,n){for(var r in n)t[r]=e[n[r]]}function u(e){if(!e)return null;var t,n,r=new o["default"];switch(s(e,r,f),e.hasOwnProperty("_incomplete")&&(r.isComplete=!e._incomplete),r.type){case"sidx":if(s(e,r,d),r.references)for(t=0,n=r.references.length;t<n;t++)s(e.references[t],r.references[t],p);break;case"emsg":s(e,r,h);break;case"mdhd":s(e,r,g);break;case"mfhd":s(e,r,v);break;case"tfhd":s(e,r,m);break;case"tfdt":s(e,r,y);break;case"trun":if(s(e,r,_),r.samples)for(t=0,n=r.samples.length;t<n;t++)s(e.samples[t],r.samples[t],b)}return r}var l=void 0,c=void 0,f=void 0,d=void 0,p=void 0,h=void 0,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0,b=void 0;return l={getBox:e,getBoxes:t,setData:n,getLastBox:r,getOffset:i},a(),l}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(165)),a=r(e(10));i.__dashjs_factory_name="IsoFile",n["default"]=a["default"].getClassFactory(i),t.exports=n["default"]},{10:10,165:165}],154:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){h=e,g=t,m=!1,y=NaN,b=null,v=(0,l["default"])(d).getInstance(),T=o["default"].BEST_GUESS_RULES,p.on(u["default"].STREAM_INITIALIZED,c,this)}function t(){m=!1,y=NaN}function n(){return b}function r(){p.off(u["default"].STREAM_INITIALIZED,c,this),t(),b=null,h=null,g=null,m=!1,y=NaN,T=null,v=null}function i(e){var t=((new Date).getTime()-y)/1e3;b=e.value,p.trigger(u["default"].LIVE_EDGE_SEARCH_COMPLETED,{liveEdge:b,searchTime:t,error:null===b?new a["default"](f,"live edge has not been found",null):null})}function c(e){!g.isDynamic()||m||e.error||(T=h.isTimeSyncCompleted()?o["default"].TIME_SYNCHRONIZED_RULES:o["default"].BEST_GUESS_RULES,_=(0,o["default"])(d).getInstance().getRules(T),m=!0,y=(new Date).getTime(),v.applyRules(_,g,i,null,function(e,t){return t}))}var d=this.context,p=(0,s["default"])(d).getInstance(),h=void 0,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0,b=void 0,T=void 0;return{initialize:e,abortSearch:t,getLiveEdge:n,reset:r}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(144)),a=r(e(162)),s=r(e(9)),u=r(e(13)),l=r(e(129)),c=r(e(10)),f=1;i.__dashjs_factory_name="LiveEdgeFinder";var d=c["default"].getSingletonFactory(i);d.LIVE_EDGE_NOT_FOUND_ERROR_CODE=f,n["default"]=d,t.exports=n["default"]},{10:10,129:129,13:13,144:144,162:162,9:9}],155:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e,t){return JSON.stringify(e)===JSON.stringify(t)}return{areSimpleEquivalent:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="ObjectUtils",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],156:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){return e}function t(e){return e}return{modifyRequestURL:e,modifyRequestHeader:t}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="RequestModifier",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],157:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){e&&e.videoModel&&(te=e.videoModel)}function t(e){return e.hasOwnProperty("begin")&&e.hasOwnProperty("end")?[h(e.begin),h(e.end)]:null}function n(){var e="cue_TTML_"+ne;return ne++,e}function r(e,t,n){function r(e,t){if(e.hasOwnProperty(t)){var n=e[t];o.indexOf(n)<0&&o.push(n)}}for(var i=[],o=[],a=[],s=0;s<e.length;s++){var u=e[s];r(u,"begin"),r(u,"end")}if(0===o.length)return a;if(void 0!==t&&void 0!==n){for(s=0;s<o.length;s++){var l=h(o[s]);t<l&&l<n&&i.push(l)}i.push(t),i.push(n)}else for(s=0;s<o.length;s++)i.push(h(o[s]));i.sort(function(e,t){return e-t});for(s=0;s<i.length-1;s++)a.push([i[s],i[s+1]]);return a}function i(e,t){return"undefined"!=typeof startInterval&&e<t&&(e=t),e}function o(e,t){return void 0!==t&&e>t&&(e=t),e}function c(e,t,n){var r=h(e.begin),a=h(e.end);return r=i(r,t),a=o(a,n),void 0!==t&&void 0!==n&&(a<t||r>n)?(j("TTML: Cue "+r+"-"+a+" outside interval "+t+"-"+n),null):[r,a]}function f(e,n){var r=!0;if(e.hasOwnProperty("span")){var i=t(e.span);null!==i&&(r=i[0]<n[1]&&i[1]>n[0])}return r}function d(e,i,o){var s=void 0,u=void 0,l=void 0,d=void 0,p="",h=new a["default"]([],"",!1);if(!(U=h.xml_str2json(e)))throw new Error("TTML document could not be parsed");if(te.getTTMLRenderingDiv()&&(d="html"),!(s=U.tt))throw new Error("TTML document lacks tt element");var m=g(s,"http://www.w3.org/ns/ttml");if(m&&v(s,m),l=s["tts:extent"],!(u=s.head))throw new Error("TTML document lacks head element");if(u.layout&&(V=u.layout.region_asArray),u.styling&&(H=u.styling.style_asArray),!s.body)throw new Error("TTML document lacks body element");var y=O(),w=te.getElement().clientWidth,E=te.getElement().clientHeight,S=[w/y[0],E/y[1]];Y["font-size"]=S[1]+"px;";var P=[];if(V)for(var A=0;A<V.length;A++)P.push(I(JSON.parse(JSON.stringify(V[A])),S));var N=g(U.tt,"http://www.w3.org/ns/ttml#parameter");s.hasOwnProperty(N+":frameRate")&&(s.frameRate=parseInt(s[N+":frameRate"],10));for(var L=[],F=s.body_asArray[0].__children,B=0;B<F.length;B++){var K=F[B].div,W=null;if(null===(W=t(K))){var Q=K.p_asArray;if(null===W&&(!Q||0===Q.length))return j(p="TTML has div that contains no timing and no paragraphs."),L;for(var X=0;X<Q.length;X++){var $=Q[X],J=$.span_asArray,Z=[];if($.hasOwnProperty("begin")&&$.hasOwnProperty("end")){var ee=c($,i,o);null!==ee&&Z.push(ee)}else Z=r(J,i,o);if(0!==Z.length)for(var ne=$.__children,re=0;re<Z.length;re++){for(var ie=Z[re],oe=[],ae=0;ae<ne.length;ae++){var se=ne[ae];f(se,ie)&&oe.push(se)}if(0!==oe.length)if("html"===d){q={},G={},z={};var ue=R($,K,S),le=D($,S),ce=le[1];le=le[0];var fe=document.createElement("div");fe.className=ce;var de=M(oe,S);de.className="cueDirUniWrapper",_("unicode-bidi",le)&&(de.style.cssText+=b("unicode-bidi",le),T("unicode-bidi",le)),_("direction",le)&&(de.style.cssText+=b("direction",le),T("direction",le)),_("padding-left",le)&&_("padding-right",le)&&(de.innerHTML=k(de,le)),_("padding-left",le)&&_("padding-right",le)&&(T("padding-left",le),T("padding-right",le));var pe="";if(_("regionID",ue)){var he=b("regionID",ue);pe=he.slice(he.indexOf(":")+1,he.length-1)}le&&(fe.style.cssText=le.join(" ")+"display:flex;"),ue&&(ue=ue.join(" ")),fe.appendChild(de);var ge=document.createElement("div");ge.appendChild(fe),ge.id=n(),ge.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+ue,0===Object.keys(z).length&&(z.defaultFontSize="100"),L.push({start:ie[0],end:ie[1],type:"html",cueHTMLElement:ge,regions:P,regionID:pe,cueID:ge.id,videoHeight:E,videoWidth:w,cellResolution:y,fontSize:z||{defaultFontSize:"100"},lineHeight:q,linePadding:G})}else{var ve="",me=oe;me.length&&me.forEach(function(e){if(e.hasOwnProperty("span")){var t=e.span.__children;t.forEach(function(e){t.hasOwnProperty("metadata")||(e.hasOwnProperty("#text")?ve+=e["#text"].replace(/[\r\n]+/gm," ").trim():"br"in e&&(ve+="\n"))})}else ve+=e.hasOwnProperty("br")?"\n":e["#text"].replace(/[\r\n]+/gm," ").trim()}),L.push({start:ie[0],end:ie[1],data:ve,type:"text"})}}else p="TTML: Empty paragraph"}}else{var ye=void 0;if(K.region)ye=C(x(V,K.region),l);ye||(ye=C(K,l));var _e=s.head.metadata.image_asArray;if(void 0!==K["smpte:backgroundImage"])for(var be=0;be<_e.length;be++)"#"+_e[be]["xml:id"]===K["smpte:backgroundImage"]&&L.push({start:W[0],end:W[1],id:n(),data:"data:image/"+_e[be].imagetype.toLowerCase()+";base64, "+_e[be].__text,type:"image",layout:ye})}}if(""!==p&&j(p),L.length>0)return L;throw new Error(p)}function p(){B=/^([0-9][0-9]+):([0-5][0-9]):([0-5][0-9])|(60)(\.([0-9])+)?$/,z={},q={},G={},K={top:"auto;",left:"auto;",width:"90%;",height:"10%;","align-items":"flex-start;",overflow:"visible;","-ms-writing-mode":"lr-tb, horizontal-tb;","-webkit-writing-mode":"horizontal-tb;","-moz-writing-mode":"horizontal-tb;","writing-mode":"horizontal-tb;"},Y={color:"rgb(255,255,255);",direction:"ltr;","font-family":"monospace, sans-serif;","font-style":"normal;","line-height":"normal;","font-weight":"normal;","text-align":"start;","justify-content":"flex-start;","text-decoration":"none;","unicode-bidi":"normal;","white-space":"normal;",width:"100%;"},W={monospace:"font-family: monospace;",sansSerif:"font-family: sans-serif;",serif:"font-family: serif;",monospaceSansSerif:"font-family: monospace, sans-serif;",monospaceSerif:"font-family: monospace, serif;",proportionalSansSerif:"font-family: Arial;",proportionalSerif:"font-family: Times New Roman;","default":"font-family: monospace, sans-serif;"},Q={right:["justify-content: flex-end;","text-align: right;"],start:["justify-content: flex-start;","text-align: start;"],center:["justify-content: center;","text-align: center;"],end:["justify-content: flex-end;","text-align: end;"],left:["justify-content: flex-start;","text-align: left;"]},X={start:"text-align: start;",center:"text-align: center;",end:"text-align: end;",auto:""},$={wrap:"white-space: normal;",noWrap:"white-space: nowrap;"},J={normal:"unicode-bidi: normal;",embed:"unicode-bidi: embed;",bidiOverride:"unicode-bidi: bidi-override;"},Z={before:"align-items: flex-start;",center:"align-items: center;",after:"align-items: flex-end;"},ee={lrtb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rltb:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;unicode-bidi: bidi-override;",tbrl:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;",tblr:"-webkit-writing-mode: vertical-lr;writing-mode: vertical-lr;-webkit-text-orientation: upright;text-orientation: upright;",lr:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;",rl:"-webkit-writing-mode: horizontal-tb;writing-mode: horizontal-tb;direction: rtl;",tb:"-webkit-writing-mode: vertical-rl;writing-mode: vertical-rl;-webkit-text-orientation: upright;text-orientation: upright;"}}function h(e){var t,n,r;if(!B.test(e))return NaN;if(t=e.split(":"),n=parseFloat(t[0])*u+parseFloat(t[1])*l+parseFloat(t[2]),t[3]){if(!(r=U.tt.frameRate)||isNaN(r))return NaN;n+=parseFloat(t[3])/r}return n}function g(e,t){var n=Object.keys(e).filter(function(n){return("xmlns"===n.split(":")[0]||"xmlns"===n.split(":")[1])&&e[n]===t}).map(function(e){return e.split(":")[2]||e.split(":")[1]});return 1!=n.length?null:n[0]}function v(e,t){for(var n in e)if(e.hasOwnProperty(n)){if(("object"==typeof e[n]||e[n]instanceof Object)&&!Array.isArray(e[n]))v(e[n],t);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)v(e[n][r],t);e[n.slice(n.indexOf(t)+t.length+1)]=e[n],delete e[n]}}function m(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function y(e){var t=e.slice(1).match(/.{2}/g),n=parseFloat(parseInt(parseInt(t[3],16)/255*1e3,10)/1e3);return"rgba("+t.slice(0,3).map(function(e){return parseInt(e,16)}).join(",")+","+n+");"}function _(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return!0;return!1}function b(e,t){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>-1)return t[n];return null}function T(e,t){t.splice(t.indexOf(b(e,t)),1)}function w(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)e[n]&&e[n].split(":")[0].indexOf(t[r].split(":")[0])>-1&&e.splice(n,1);return e.concat(t)}function E(e,t,n){var r,i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=o.replace("ebutts:","");e[a=m(a=(a=a.replace("xml:","")).replace("tts:",""))]=e[o],delete e[o]}if("line-padding"in e){var s=parseFloat(e["line-padding"].slice(e["line-padding"].indexOf(":")+1,e["line-padding"].indexOf("c")));"id"in e&&(G[e.id]=s);var u=s*t[0]+"px;";i.push("padding-left:"+u),i.push("padding-right:"+u)}if("font-size"in e){var l=parseFloat(e["font-size"].slice(e["font-size"].indexOf(":")+1,e["font-size"].indexOf("%")));"id"in e&&(z[e.id]=l);var c=l/100*t[1]+"px;";i.push("font-size:"+c)}if("line-height"in e)if("normal"===e["line-height"])i.push("line-height: normal;");else{var f=parseFloat(e["line-height"].slice(e["line-height"].indexOf(":")+1,e["line-height"].indexOf("%")));"id"in e&&(q[e.id]=f);var d=f/100*t[1]+"px;";i.push("line-height:"+d)}return"font-family"in e&&(e["font-family"]in W?i.push(W[e["font-family"]]):i.push("font-family:"+e["font-family"]+";")),"text-align"in e&&e["text-align"]in Q&&(i.push(Q[e["text-align"]][0]),i.push(Q[e["text-align"]][1])),"multi-row-align"in e&&(_("text-align",i)&&"auto"!=e["multi-row-align"]&&T("text-align",i),e["multi-row-align"]in X&&i.push(X[e["multi-row-align"]])),"background-color"in e&&(e["background-color"].indexOf("#")>-1&&e["background-color"].length-1==8?(r=y(e["background-color"]),i.push("background-color: "+r)):i.push("background-color:"+e["background-color"]+";")),"color"in e&&(e.color.indexOf("#")>-1&&e.color.length-1==8?(r=y(e.color),i.push("color: "+r)):i.push("color:"+e.color+";")),"wrap-option"in e&&(e["wrap-option"]in $?i.push($[e["wrap-option"]]):i.push("white-space:"+e["wrap-option"])),"unicode-bidi"in e&&(e["unicode-bidi"]in J?i.push(J[e["unicode-bidi"]]):i.push("unicode-bidi:"+e["unicode-bidi"])),"font-style"in e&&i.push("font-style:"+e["font-style"]+";"),"font-weight"in e&&i.push("font-weight:"+e["font-weight"]+";"),"direction"in e&&i.push("direction:"+e.direction+";"),"text-decoration"in e&&i.push("text-decoration:"+e["text-decoration"]+";"),n&&(i=i.concat(I(e,t))),U.tt.hasOwnProperty("xml:space")&&"preserve"===U.tt["xml:space"]&&i.push("white-space: pre;"),i}function S(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function P(e,t,n){var r=[];return e.match(/\S+/g).forEach(function(e){var i=S(H,e);if(i){var o=E(JSON.parse(JSON.stringify(i)),t,n);r=r.concat(o)}}),r}function C(e,t){var n=/([\d\.]+)(%|px)\s+([\d\.]+)(%|px)/;if("tts:extent"in e&&"tts:origin"in e){var r=n.exec(e["tts:extent"]),i=n.exec(e["tts:origin"]);if(null===r||null===i)return j("Bad extent or origin: "+e["tts:extent"]+" "+e["tts:origin"]),null;var o=parseFloat(r[1]),a=parseFloat(r[3]),s=parseFloat(i[1]),u=parseFloat(i[3]);if(t){var l=n.exec(t);if(null===l||"px"!==l[2]||"px"!==l[4])return j("Bad tt.extent: "+t),null;var c=parseFloat(l[1]),f=parseFloat(l[3]);"px"===r[2]&&(o=o/c*100),"px"===r[4]&&(a=a/f*100),"px"===i[2]&&(s=s/c*100),"px"===i[4]&&(u=u/f*100)}return{left:s,top:u,width:o,height:a}}return null}function I(e,t){var n=[];for(var r in e){var i=r.replace("tts:","");e[i=m(i=i.replace("xml:",""))]=e[r],i!==r&&delete e[r]}if("extent"in e){var o=e.extent.split(/\s/);n.push("width: "+o[0]+";"),n.push("height: "+o[1]+";")}if("origin"in e){var a=e.origin.split(/\s/);n.push("left: "+a[0]+";"),n.push("top: "+a[1]+";")}if("display-align"in e&&n.push(Z[e["display-align"]]),"writing-mode"in e&&n.push(ee[e["writing-mode"]]),"style"in e){var s=P(e.style,t,!0);n=n.concat(s)}return"padding"in e&&n.push("padding:"+e.padding+";"),"overflow"in e&&n.push("overflow:"+e.overflow+";"),"show-background"in e&&n.push("show-background:"+e["show-background"]+";"),"id"in e&&n.push("regionID:"+e.id+";"),n}function x(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r["xml:id"]===t||r.id===t)return r}return null}function A(e,t){var n=[];return e.match(/\S+/g).forEach(function(e){var r=x(V,e);if(r){var i=I(JSON.parse(JSON.stringify(r)),t);n=n.concat(i)}}),n}function O(){var e=[32,15];return U.tt.hasOwnProperty("ttp:cellResolution")?U.tt["ttp:cellResolution"].split(" ").map(parseFloat):e}function k(e,t){for(var n=b("padding-left",t),r=b("padding-right",t),i=n.concat(" "+r+" "),o="",a="",s="",u=Array.prototype.slice.call(e.children),l=e.getElementsByClassName("lineBreak")[0],c=u.indexOf(l),f=[];-1!=c;)f.push(c),c=u.indexOf(l,c+1);var d="</span>",p="<br>",h='<span class="spanPadding" style="-webkit-box-decoration-break: clone; box-decoration-break: clone; ';if(f.length)f.forEach(function(e,t){if(0===t){for(var n="",r=0;r<e;r++)o+=u[r].outerHTML,0===r&&(n=i.concat(u[r].style.cssText));o=h+n+'">'+o}for(var l="",c=e+1;c<u.length;c++)a+=u[c].outerHTML,c===u.length-1&&(l+=i.concat(u[c].style.cssText));a=h+l+'">'+a,o&&a&&t===f.length-1?s+=o+d+p+a+d:o&&a&&t!==f.length-1?s+=o+d+p+a+d+p:o&&!a?s+=o+d:!o&&a&&t===f.length-1?s+=a+d:!o&&a&&t!==f.length-1&&(s+=a+d+p)});else{for(var g="",v=0;v<u.length;v++)g+=u[v].style.cssText;s=h+i+g+'">'+e.innerHTML+d}return s}function M(e,t){var n=document.createElement("div");return e.forEach(function(e){if(!e.hasOwnProperty("metadata"))if(e.hasOwnProperty("span")){var r=e.span.__children,i=document.createElement("span");if(e.span.hasOwnProperty("style")){var o=P(e.span.style,t);i.className="spanPadding "+e.span.style,i.style.cssText=o.join(" ")}r.forEach(function(e){if(!r.hasOwnProperty("metadata"))if(e.hasOwnProperty("#text")){var t=document.createTextNode(e["#text"]);i.appendChild(t)}else if("br"in e){i.hasChildNodes()&&n.appendChild(i);var o=document.createElement("br");o.className="lineBreak",n.appendChild(o);var a=document.createElement("span");a.className=i.className,a.style.cssText=i.style.cssText,i=a}}),n.appendChild(i)}else if(e.hasOwnProperty("br")){var a=document.createElement("br");a.className="lineBreak",n.appendChild(a)}else if(e.hasOwnProperty("#text")){var s=document.createElement("span");s.textContent=e["#text"],n.appendChild(s)}}),n}function R(e,t,n){var r,i,o=[],a=e.region,s=t.region;return s&&(r=A(s,n)),a?(i=o.concat(A(a,n)),o=r?w(r,i):i):r&&(o=r),N(o,K),o}function D(e,t){var n,r,i,o=[],a=e.style,s=U.tt.body.style,u=U.tt.body.div.style,l="";return s&&(n=P(s,t),l="paragraph "+s),u&&(r=P(u,t),n?(r=w(n,r),l+=" "+u):l="paragraph "+u),a?(i=P(a,t),n&&r?(o=w(r,i),l+=" "+a):n?(o=w(n,i),l+=" "+a):r?(o=w(r,i),l+=" "+a):(o=i,l="paragraph "+a)):n&&!r?o=n:!n&&r&&(o=r),N(o,Y),[o,l]}function N(e,t){for(var n in t)t.hasOwnProperty(n)&&(_(n,e)||e.push(n+":"+t[n]))}var L=this.context,j=(0,s["default"])(L).getInstance().log,F=void 0,B=void 0,U=void 0,H=void 0,V=void 0,z=void 0,q=void 0,G=void 0,K=void 0,Y=void 0,W=void 0,Q=void 0,X=void 0,$=void 0,J=void 0,Z=void 0,ee=void 0,te=void 0,ne=0;return F={parse:d,setConfig:e},p(),F}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(4)),s=r(e(8)),u=3600,l=60;i.__dashjs_factory_name="TTMLParser",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,4:4,8:8}],158:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(e){var t="";return-1!==e.indexOf("/")&&(-1!==e.indexOf("?")&&(e=e.substring(0,e.indexOf("?"))),t=e.substring(0,e.lastIndexOf("/")+1)),t}function t(e){var t=e.match(s);return t?t[1]:""}function n(e){return!o.test(e)}function r(e){return o.test(e)&&"/"===e.charAt(0)}function i(e){return a.test(e)}var o=/^(?:(?:[a-z]+:)?\/)?\//i,a=/^https?:\/\//i,s=/^(https?:\/\/[^\/]+)\/?/i;return{parseBaseUrl:e,parseOrigin:t,isRelative:n,isPathAbsolute:r,isHTTPURL:i}}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10));i.__dashjs_factory_name="URLUtils",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10}],159:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){function e(){c=/(?:\r\n|\r|\n)/gm,f=/-->/,d=/(^[\s]+|[\s]+$)/g,p=/\s\b/g}function t(e){var t,i,a=[];t=(e=e.split(c)).length,i=-1;for(var s=0;s<t;s++){var l=e[s];if(l.length>0&&"WEBVTT"!==l&&l.match(f)){var p=r(l),h=p.cuePoints,g=p.styles,v=o(e,s+1),m=n(h[0].replace(d,"")),y=n(h[1].replace(d,""));!isNaN(m)&&!isNaN(y)&&m>=i&&y>m?""!==v?(i=m,a.push({start:m,end:y,data:v,styles:g})):u("Skipping cue due to empty/malformed cue text"):u("Skipping cue due to incorrect cue timing")}}return a}function n(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2===n&&(e+=3600*parseInt(t[0],10)),e}function r(e){var t=e.split(f),n=t[1].split(p);return n.shift(),t[1]=n[0],n.shift(),{cuePoints:t,styles:i(n)}}function i(e){var t={};return e.forEach(function(e){if(e.split(/:/).length>1){var n=e.split(/:/)[1];n&&-1!=n.search(/%/)&&(n=parseInt(n.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(t.align=n),(e.match(/line/)||e.match(/L/))&&(t.line=n),(e.match(/position/)||e.match(/P/))&&(t.position=n),(e.match(/size/)||e.match(/S/))&&(t.size=n)}}),t}function o(e,t){for(var n,r=t,i="",o="";""!==e[r]&&r<e.length;)r++;if((n=r-t)>1)for(var a=0;a<n;a++){if((o=e[t+a]).match(f)){i="";break}i+=o,a!==n-1&&(i+="\n")}else(o=e[t]).match(f)||(i=o);return decodeURI(i)}var s=this.context,u=(0,a["default"])(s).getInstance().log,l=void 0,c=void 0,f=void 0,d=void 0,p=void 0;return l={parse:t},e(),l}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(10)),a=r(e(8));i.__dashjs_factory_name="VTTParser",n["default"]=o["default"].getSingletonFactory(i),t.exports=n["default"]},{10:10,8:8}],160:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.qualityIndex=NaN};n["default"]=i,t.exports=n["default"]},{}],161:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN};n["default"]=i,t.exports=n["default"]},{}],162:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(e,t,n){r(this,o),this.code=e||null,this.message=t||null,this.data=n||null};n["default"]=i,t.exports=n["default"]},{}],163:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.action=o.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer"};i.ACTION_DOWNLOAD="download",i.ACTION_COMPLETE="complete",n["default"]=i,t.exports=n["default"]},{}],164:[function(e,t,n){
"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(163)),u=function(){function e(t){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.url=t||null,this.checkForExistenceOnly=!0}return o(e,s["default"]),e}();n["default"]=u,t.exports=n["default"]},{163:163}],165:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.offset=NaN,this.type=null,this.size=NaN,this.isComplete=!0};n["default"]=i,t.exports=n["default"]},{}],166:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null};n["default"]=i,t.exports=n["default"]},{}],167:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null};n["default"]=i,t.exports=n["default"]},{}],168:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[],this.BolaState=[]};n["default"]=i,t.exports=n["default"]},{}],169:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0,this.isFirst=!0};n["default"]=i,t.exports=n["default"]},{}],170:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,"__esModule",{value:!0});var a=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=o,n=a,r=!0,s=l=void 0}},s=r(e(163)),u=function(){function e(t,n){i(this,e),a(Object.getPrototypeOf(e.prototype),"constructor",this).call(this),this.url=t||null,this.type=n||null,this.mediaType="stream",this.responseType="text"}return o(e,s["default"]),e}();n["default"]=u,t.exports=n["default"]},{163:163}],171:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.video=null,this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1};n["default"]=i,t.exports=n["default"]},{}],172:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null};n["default"]=i,t.exports=n["default"]},{}],173:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null};n["default"]=i,t.exports=n["default"]},{}],174:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this._s=void 0};n["default"]=i,t.exports=n["default"]},{}],175:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.t=null,this.level=null};n["default"]=i,t.exports=n["default"]},{}],176:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=r(e(63)),a=function s(){i(this,s),this.target=null,this.state=o["default"].BUFFER_EMPTY};n["default"]=a,t.exports=n["default"]},{63:63}],177:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.time=null,this.range=null,this.manifestInfo=null};n["default"]=i,t.exports=n["default"]},{}],178:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.time=null,this.droppedFrames=null};n["default"]=i,t.exports=n["default"]},{}],179:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function a(){r(this,a),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._responseHeaders=null,this._serviceLocation=null},o=function s(){r(this,s),this.s=null,this.d=null,this.b=[]};i.MPD_TYPE="MPD",i.XLINK_EXPANSION_TYPE="XLinkExpansion",i.INIT_SEGMENT_TYPE="InitializationSegment",i.INDEX_SEGMENT_TYPE="IndexSegment",i.MEDIA_SEGMENT_TYPE="MediaSegment",i.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",i.OTHER_TYPE="other",n.HTTPRequest=i,n.HTTPRequestTrace=o},{}],180:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function s(){r(this,s),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.trackInfo=[]},o=function u(){r(this,u),this.id=null,this.index=null,this.start=null,this.duration=null},a=function l(){r(this,l),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null};n.ManifestUpdate=i,n.ManifestUpdateStreamInfo=o,n.ManifestUpdateTrackInfo=a},{}],181:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function a(){r(this,a),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]};i.INITIAL_PLAYOUT_START_REASON="initial_playout",i.SEEK_START_REASON="seek",i.RESUME_FROM_PAUSE_START_REASON="resume",i.METRICS_COLLECTION_START_REASON="metrics_collection_start";var o=function s(){r(this,s),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null};o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",n.PlayList=i,n.PlayListTrace=o},{}],182:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.t=null,this.mt=null,this.to=null,this.lto=null};n["default"]=i,t.exports=n["default"]},{}],183:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.loadingRequests=[],this.executedRequests=[]};n["default"]=i,t.exports=n["default"]},{}],184:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null};n["default"]=i,t.exports=n["default"]},{}],185:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function o(){r(this,o),this.tcpid=null,this.dest=null,this.topen=null,this.tclose=null,this.tconnect=null};n["default"]=i,t.exports=n["default"]},{}]},{},[5]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).videojsDash=e()}}(function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){function n(e){return"dash-audio-"+e}function r(e,t){return e.find(function(e){return n(e.index)===t.id})}var i=e.dash.mediaPlayer,o=i.getTracksFor("audio"),s=e.audioTracks();s.length&&t.clearTracks(["audio"]);var u=i.getCurrentTrackFor("audio");o.forEach(function(e){var t=e.lang;e.roles&&e.roles.length&&(t+=" ("+e.roles.join(", ")+")"),s.addTrack(new a["default"].AudioTrack({enabled:e===u,id:n(e.index),kind:e.kind||"main",label:t,language:e.lang}))}),s.addEventListener("change",function(){for(var e=0;e<s.length;e++){var t=s[e];if(t.enabled){var n=r(o,t);i.setCurrentTrack(n)}else;}})}function i(e,t){e.dash.mediaPlayer.on(o["default"].MediaPlayer.events.PLAYBACK_METADATA_LOADED,r.bind(null,e,t))}n.__esModule=!0,n["default"]=i;var o=t("undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null),a=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){(function(e){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function i(e,t,n){function i(){for(var t=e.dash.mediaPlayer,i=e.textTracks(),a=-1,s=function(e){var t=i[e];if("showing"===t.mode){var s=r(o,function(e){return e.textTrack===t}),u=s?s.dashTrack:null;u&&(a=n.indexOf(u))}},u=0;u<i.length;u+=1)s(u);a!==t.getCurrentTextTrackIndex()&&t.setTextTrack(a)}var o=[],a=n.map(function(e){return{dashTrack:e,trackConfig:{label:e.lang,language:e.lang,srclang:e.lang}}}).map(function(t){var n=t.trackConfig,r=t.dashTrack,i=e.addRemoteTextTrack(n,!0);return o.push({textTrack:i.track,dashTrack:r}),i});return e.textTracks().on("change",i),e.one("loadstart",function(){e.textTracks().off("change",i)}),i(),a}function o(e,t,n){function r(){l.forEach(e.removeRemoteTextTrack.bind(e)),l=[]}function o(s){s.index;var u=s.tracks;c.off(a["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,o),r(),u.length&&(l=i(e,t,u,n))}function u(){c.off(a["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,o),e.one("loadstart",r)}window.VTTCue&&!/\[native code\]/.test(window.VTTCue.toString())&&(window.VTTCue=!1);var l=[];if(t.featuresNativeTextTracks)s["default"].log.error("You must pass {html: {nativeCaptions: false}} in the videojs constructor to use text tracks in videojs-contrib-dash");else{var c=e.dash.mediaPlayer;c.on(a["default"].MediaPlayer.events.TEXT_TRACKS_ADDED,o),c.on(a["default"].MediaPlayer.events.CAN_PLAY,u)}}n.__esModule=!0,n["default"]=o;var a=t("undefined"!=typeof window?window.dashjs:void 0!==e?e.dashjs:null),s=t("undefined"!=typeof window?window.videojs:void 0!==e?e.videojs:null)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e,t){(function(e){var n;n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=r(e("global/window")),a=r("undefined"!=typeof window?window.videojs:void 0!==t?t.videojs:null),s=r("undefined"!=typeof window?window.dashjs:void 0!==t?t.dashjs:null),u=r(e("./setup-audio-tracks")),l=r(e("./setup-text-tracks")),c=function(){function e(t,n,r){var o=this;if(i(this,e),r=r||n.options_,this.player=(0,a["default"])(r.playerId),this.player.dash=this.player.dash||{},this.tech_=n,this.el_=n.el(),this.elParent_=this.el_.parentNode,t.src){n.isReady_=!1,e.updateSourceData&&(a["default"].log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),t=e.updateSourceData(t)),e.hooks("updatesource").forEach(function(e){t=e(t)});var c=t.src;this.keySystemOptions_=e.buildDashJSProtData(t.keySystemOptions),this.player.dash.mediaPlayer=s["default"].MediaPlayer().create(),this.mediaPlayer_=this.player.dash.mediaPlayer,e.useVideoJSDebug&&(a["default"].log.warn('useVideoJSDebug has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.useVideoJSDebug(this.mediaPlayer_)),e.beforeInitialize&&(a["default"].log.warn('beforeInitialize has been deprecated. Please switch to using hook("beforeinitialize", callback).'),e.beforeInitialize(this.player,this.mediaPlayer_)),e.hooks("beforeinitialize").forEach(function(e){e(o.player,o.mediaPlayer_)}),this.mediaPlayer_.initialize(),r.dash&&Object.keys(r.dash).forEach(function(e){var t,n="set"+e.charAt(0).toUpperCase()+e.slice(1),i=r.dash[e];o.mediaPlayer_.hasOwnProperty(n)&&(a["default"].log.warn("Using dash options in videojs-contrib-dash without the set prefix has been deprecated. Change '"+e+"' to '"+n+"'"),e=n),o.mediaPlayer_.hasOwnProperty(e)?(Array.isArray(i)||(i=[i]),(t=o.mediaPlayer_)[e].apply(t,i)):a["default"].log.warn("Warning: dash configuration option unrecognized: "+e)}),this.mediaPlayer_.attachView(this.el_),this.mediaPlayer_.setAutoPlay(!1),u["default"].call(null,this.player,n),l["default"].call(null,this.player,n,r),this.mediaPlayer_.setProtectionData(this.keySystemOptions_),this.mediaPlayer_.attachSource(c),this.tech_.triggerReady()}}return e.buildDashJSProtData=function(e){var t={};if(!e||!Array.isArray(e))return null;for(var n=0;n<e.length;n++){var r=e[n],i=a["default"].mergeOptions({},r.options);i.licenseUrl&&(i.serverURL=i.licenseUrl,delete i.licenseUrl),t[r.name]=i}return t},e.prototype.dispose=function(){this.mediaPlayer_&&this.mediaPlayer_.reset(),this.player.dash&&delete this.player.dash},e.prototype.duration=function(){var e=this.el_.duration;return e===Number.MAX_VALUE?Infinity:e},e.hooks=function(t,n){return e.hooks_[t]=e.hooks_[t]||[],n&&(e.hooks_[t]=e.hooks_[t].concat(n)),e.hooks_[t]},e.hook=function(t,n){e.hooks(t,n)},e.removeHook=function(t,n){var r=e.hooks(t).indexOf(n);return-1!==r&&(e.hooks_[t]=e.hooks_[t].slice(),e.hooks_[t].splice(r,1),!0)},e}();c.hooks_={};var f=function(e){e=JSON.parse(JSON.stringify(e)),c.updateSourceData&&(a["default"].log.warn('updateSourceData has been deprecated. Please switch to using hook("updatesource", callback).'),e=c.updateSourceData(e)),c.hooks("updatesource").forEach(function(t){e=t(e)});var t=document.createElement("video");return!(e.keySystemOptions&&!navigator.requestMediaKeySystemAccess&&!t.msSetMediaKeys)};a["default"].DashSourceHandler=function(){return{canHandleSource:function(e){var t=/\.mpd/i;return f(e)?a["default"].DashSourceHandler.canPlayType(e.type)?"probably":t.test(e.src)?"maybe":"":""},handleSource:function(e,t,n){return new c(e,t,n)},canPlayType:function(e){return a["default"].DashSourceHandler.canPlayType(e)}}},a["default"].DashSourceHandler.canPlayType=function(e){return/^application\/dash\+xml/i.test(e)?"probably":""},o["default"].MediaSource&&a["default"].getTech("Html5").registerSourceHandler(a["default"].DashSourceHandler(),0),a["default"].Html5DashJS=c,n["default"]=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./setup-audio-tracks":1,"./setup-text-tracks":2,"global/window":3}]},{},[4])(4)}),pageflow={log:function(e,t){window.console&&(pageflow.debugMode()||t&&t.force)&&window.console.log(e)},debugMode:function(){return window.location.href.indexOf("debug=true")>=0}},pageflow.Object=function(){this.initialize.apply(this,arguments)},_.extend(pageflow.Object.prototype,Backbone.Events,{initialize:function(){}}),pageflow.Object.extend=Backbone.Model.extend,pageflow.EntryData=pageflow.Object.extend({getThemingOption:function(){throw"Not implemented"},getPageConfiguration:function(){throw"Not implemented"},getPagePosition:function(){throw"Not implemented"},getChapterConfiguration:function(){throw"Not implemented"},getStorylineConfiguration:function(){throw"Not implemented"},getChapterIdByPagePermaId:function(){throw"Not implemented"},getStorylineIdByChapterId:function(){throw"Not implemented"},getChapterPagePermaIds:function(){throw"Not implemented"},getParentPagePermaIdByPagePermaId:function(e){var t=this.getStorylineIdByPagePermaId(e);return this.getParentPagePermaId(t)},getStorylineIdByPagePermaId:function(e){var t=this.getChapterIdByPagePermaId(e);return this.getStorylineIdByChapterId(t)},getParentStorylineId:function(e){var t=this.getParentPagePermaId(e);return t&&this.getStorylineIdByPagePermaId(t)},getParentChapterId:function(e){var t=this.getStorylineIdByChapterId(e),n=this.getParentPagePermaId(t);return n&&this.getChapterIdByPagePermaId(n)},getParentPagePermaId:function(e){return this.getStorylineConfiguration(e).parent_page_perma_id},getStorylineLevel:function(e){var t=this.getParentStorylineId(e);return t?this.getStorylineLevel(t)+1:0}}),pageflow.SeedEntryData=pageflow.EntryData.extend({initialize:function(e){this.theming=e.theming,this.storylineConfigurations=_(e.storylines).reduce(function(e,t){return e[t.id]=t.configuration,e},{}),this.storylineIdsByChapterIds=_(e.chapters).reduce(function(e,t){return e[t.id]=t.storyline_id,e},{}),this.chapterConfigurations=_.reduce(e.chapters,function(e,t){return e[t.id]=t.configuration,e},{}),this.chapterPagePermaIds=_(e.pages).reduce(function(e,t){return e[t.chapter_id]=e[t.chapter_id]||[],e[t.chapter_id].push(t.perma_id),e},{}),this.chapterIdsByPagePermaIds=_(e.pages).reduce(function(e,t){return e[t.perma_id]=t.chapter_id,e},{}),this.pageConfigurations=_.reduce(e.pages,function(e,t){return e[t.perma_id]=t.configuration,e},{}),this.pagePositions=_.reduce(e.pages,function(e,t,n){return e[t.perma_id]=n,e},{})},getThemingOption:function(e){return this.theming[e]},getChapterConfiguration:function(e){return this.chapterConfigurations[e]||{}},getChapterPagePermaIds:function(e){return this.chapterPagePermaIds[e]},getPageConfiguration:function(e){return this.pageConfigurations[e]||{}},getPagePosition:function(e){return this.pagePositions[e]},getChapterIdByPagePermaId:function(e){return this.chapterIdsByPagePermaIds[e]},getStorylineConfiguration:function(e){return this.storylineConfigurations[e]||{}},getStorylineIdByChapterId:function(e){return this.storylineIdsByChapterIds[e]}}),pageflow.cookies={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,r,i,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(i?"; domain="+i:"")+(r?"; path="+r:"")+(o?"; secure":""),!0},removeItem:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}},pageflow.events=_.extend({},Backbone.Events),pageflow.pageType=function(){var e={enhance:function(){},prepare:function(){},unprepare:function(){},preload:function(){},resize:function(){},activating:function(){},activated:function(){},deactivating:function(){},deactivated:function(){},update:function(){},cleanup:function(){},embeddedEditorViews:function(){},linkedPages:function(){return[]},prepareNextPageTimeout:200};return{repository:[],register:function(t,n){var r=function(){};_.extend(r.prototype,e,Backbone.Events,n),this.repository[t]=r},get:function(e){if(!this.repository.hasOwnProperty(e))throw'Unknown page type "'+e+'"';return new this.repository[e]}}}(),pageflow.commonPageCssClasses={updateCommonPageCssClasses:function(e,t){function n(n,r){var i=t.get(r);_.each(n,function(t){e.removeClass(r+"_"+t)}),i&&e.addClass(r+"_"+i)}function r(){var e=_(["title","subtitle","tagline"]).some(function(e){return!!$.trim(t.get(e))}),n=$("<div />").html(t.get("text")).text(),r=!!$.trim(n);return e&&!t.get("hide_title")||r}e.toggleClass("invert",t.get("invert")),e.toggleClass("hide_title",t.get("hide_title")),n(pageflow.Page.textPositions,"text_position"),n(pageflow.Page.delayedTextFadeIn,"delayed_text_fade_in"),n(pageflow.Page.scrollIndicatorModes,"scroll_indicator_mode"),n(pageflow.Page.scrollIndicatorOrientations,"scroll_indicator_orientation"),e.toggleClass("no_text_content",!r())}},pageflow.infoBox={updateInfoBox:function(e,t){var n=e.find(".add_info_box");n.find("h3").length||n.prepend($("<h3 />")),n.find("h3").html(t.get("additional_title")||""),n.find("p").html(t.get("additional_description")||""),n.toggleClass("empty",!t.get("additional_description")&&!t.get("additional_title")),n.toggleClass("title_empty",!t.get("additional_title")),n.toggleClass("description_empty",!t.get("additional_description"))}},pageflow.videoHelpers={updateVideoPoster:function(e,t){e.find(".vjs-poster").css("background-image","url("+t+")")},updateBackgroundVideoPosters:function(e,t,n,r){e.find(".vjs-poster, .background-image").css({"background-image":"url("+t+");","background-position":n+"% "+r+"%;"})}},pageflow.volumeFade={fadeSound:function(e,t,n){var r=10,i=e.volume(),o=(t-i)/(n/r);if(clearInterval(this.fadeInterval),t!=i)var a=this.fadeInterval=setInterval(_.bind(function(){e.volume(e.volume()+o),(e.volume()>=t&&t>=i||e.volume()<=t&&t<=i)&&clearInterval(a)},this),r)}},pageflow.pageTransitions={repository:{},register:function(e,t){this.repository[e]=t},get:function(e){if(!this.repository.hasOwnProperty(e))throw'Unknown page transition "'+e+'"';return this.repository[e]},names:function(){return _.keys(this.repository)}},pageflow.pageTransitions.register("fade",{duration:1100}),pageflow.pageTransitions.register("crossfade",{duration:1100}),pageflow.pageTransitions.register("fade_to_black",{duration:2100}),pageflow.pageTransitions.register("cut",{duration:1100}),pageflow.pageTransitions.register("scroll",{duration:1100}),pageflow.pageTransitions.register("scroll_right",{duration:1100}),pageflow.pageTransitions.register("scroll_left",{duration:1100}),pageflow.pageTransitions.register("scroll_over_from_right",{duration:1100}),pageflow.pageTransitions.register("scroll_over_from_left",{duration:1100}),pageflow.assetUrls={largeBandwidthProbe:"/output.scrollytelling.com/bandwidth_probe_large.png",smallBandwidthProbe:"/output.scrollytelling.com/bandwidth_probe_small.png",audioSwf:"//scrollytelling.link/assets/pageflow/audio5js-334f716efbba5b940a0fbc499201acf02ac5f69962ceaf9d526e955fc522a5fa.swf",emptyMp4:"//scrollytelling.link/assets/pageflow/empty-b9aa7bf9420f823f92f50e5250f4bd97133eae3afe799ca5eb85b91cd5be34d0.mp4",emptyWebm:"//scrollytelling.link/assets/pageflow/empty-efdd51d61c4f2c725b967e38b59db2150dfd046464e6b330ba457b2c0d8c2eda.webm"},pageflow.preload={image:function(e){return $.Deferred(function(t){var n=new Image;n.onload=t.resolve,n.onerror=t.resolve,n.src=e}).promise()},backgroundImage:function(e){var t=this,n=[];return $(e).addClass("load_image"),$(e).each(function(){var e=window.getComputedStyle(this).getPropertyValue("background-image");e.match(/^url/)&&n.push(t.image(e.replace(/^url\(['"]?/,"").replace(/['"]?\)$/,"")))}),$.when.apply(null,n)}},pageflow.bandwidth=function(){function e(e){var i=(new Date).getTime();return n(t(e),r).pipe(function(){return(new Date).getTime()-i})}function t(e){return new $.Deferred(function(t){var n=new Image;n.onload=t.resolve,n.onerror=t.reject,n.src=e}).promise()}function n(e,t){return new $.Deferred(function(n){var r=setTimeout(function(){n.reject()},t);e.always(function(){clearTimeout(r)}).then(n.resolve,n.reject)}).promise()}var r=5e3;return pageflow.bandwidth.promise=pageflow.bandwidth.promise||new $.Deferred(function(t){var n=pageflow.assetUrls.smallBandwidthProbe+"?"+(new Date).getTime(),r=pageflow.assetUrls.largeBandwidthProbe+"?"+(new Date).getTime(),i=165,o=1081010;$.when(e(n),e(r)).done(function(e,n){var r=(n-e)/1e3,a=8*(o-i);r=Math.max(r,.01),t.resolve({durationInSeconds:r,speedInBps:(a/r).toFixed(2)})}).fail(function(){t.resolve({durationInSeconds:Infinity,speedInBps:0})})}).promise(),pageflow.bandwidth.promise},pageflow.browser=function(){var e={},t={},n=new $.Deferred;return{off:{},on:{},unset:{},feature:function(t,n){var r=t.replace(/ /g,"_");this.off[r]=function(){window.localStorage["override "+t]="off",pageflow.log("Feature off: "+t,{force:!0})},this.on[r]=function(){window.localStorage["override "+t]="on",pageflow.log("Feature on: "+t,{force:!0})},this.unset[r]=function(){window.localStorage.removeItem("override "+t),pageflow.log("Feature unset: "+t,{force:!0})},e[t]=n},has:function(e){if("resolved"!=this.ready().state())throw"Feature detection has not finished yet.";if(!t.hasOwnProperty(e))throw'Unknown feature "'+e+'".';return t[e]},ready:function(){return n.promise()},detectFeatures:function(){var r={},i=function(t){var n=function(){if((pageflow.debugMode()||pageflow.ALLOW_FEATURE_OVERRIDES)&&window.localStorage&&"undefined"!=typeof window.localStorage["override "+t]){var n="on"===window.localStorage["override "+t];return pageflow.log("FEATURE OVERRIDDEN "+t+": "+n,{force:!0}),n}return e[t](i)};return r[t]=r[t]||$.when(n(t)),r[t]};return i.not=function(e){return i(e).pipe(function(e){return!e})},i.all=function(){return $.when.apply(null,arguments).pipe(function(){return _.all(arguments)})},$.when.apply(null,_.map(_.keys(e),function(e){return i(e).then(function(n){var r=e.replace(/ /g,"_");$("body").toggleClass("has_"+r,!!n),$("body").toggleClass("has_no_"+r,!n),t[e]=!!n})})).then(n.resolve),this.ready()}}}(),pageflow.browser.agent={matchesSilk:function(){return navigator.userAgent.match(/\bSilk\b/)},matchesDesktopSafari9:function(){return this.matchesSafari9()&&!this.matchesMobilePlatform()},matchesDesktopSafari10:function(){return this.matchesSafari10()&&!this.matchesMobilePlatform()},matchesSafari9:function(){return this.matchesSafari()&&this._matches(/Version\/9/i)},matchesSafari10:function(){return this.matchesSafari()&&this._matches(/Version\/10/i)},matchesSafari11:function(){return this.matchesSafari()&&this._matches(/Version\/11/i)},matchesSafari:function(){return this._matches(/Safari\//i)&&!this._matches(/Chrome/i)},matchesMobileSafari:function(){var e=[/iPod/i,/iPad/i,/iPhone/i];return _.any(e,function(e){return navigator.userAgent.match(e)})},matchesMobilePlatform:function(){var e=[/iPod/i,/iPad/i,/iPhone/i,/Android/i,/Silk/i,/IEMobile/i];return _.any(e,function(e){return navigator.userAgent.match(e)})},matchesIEUpTo11:function(){return navigator.userAgent.match(/Trident\//)},matchesFacebookInAppBrowser:function(){return navigator.userAgent.match(/FBAN/)&&navigator.userAgent.match(/FBAV/)},_matches:function(e){return navigator.userAgent.match(e)}},pageflow.browser.feature("autoplay support",function(){return!pageflow.browser.agent.matchesSafari11()&&!pageflow.browser.agent.matchesMobilePlatform()}),pageflow.browser.feature("css animations",function(){var e=["Webkit","Moz","O","ms","Khtml"],t=document.createElement("div");if(t.style.animationName!==undefined)return!0;for(var n=0;n<e.length;n++)if(t.style[e[n]+"AnimationName"]!==undefined)return!0;return!1}),pageflow.browser.feature("facebook toolbar",function(e){return e.all(e("iphone platform"),pageflow.browser.agent.matchesFacebookInAppBrowser())}),pageflow.browser.feature("high bandwidth",function(){return pageflow.bandwidth().pipe(function(e){var t=e.speedInBps>8192e3;return window.console&&window.console.log("Detected bandwidth "+e.speedInBps/8/1024+"KB/s. High: "+(t?"Yes":"No")),t})}),pageflow.browser.feature("ie",function(){return"Microsoft Internet Explorer"==navigator.appName}),pageflow.browser.feature("ios platform",function(){return pageflow.browser.agent.matchesMobileSafari()}),pageflow.browser.feature("iphone platform",function(e){return e.all(e("ios platform"),e("phone platform"))}),pageflow.browser.feature("mobile platform",function(){return pageflow.browser.agent.matchesMobilePlatform()}),navigator.userAgent.match(/iPad;.*CPU.*OS 7_\d/i)&&!window.navigator.standalone&&$("html").addClass("ipad ios7"),pageflow.browser.feature("phone platform",function(){var e=[/iPod/i,/iPad/i,/iPhone/i,/Android/i,/IEMobile/i];return _.any(e,function(e){return navigator.userAgent.match(e)&&$(window).width()<700})}),pageflow.browser.feature("pushstate support",function(){return window.history&&"pushState"in window.history}),pageflow.browser.feature("touch support",function(){
return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints}),pageflow.browser.feature("rewrite video sources support",function(){return!pageflow.ie9}),pageflow.browser.feature("stop buffering support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("buffer underrun waiting support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("prebuffering support",function(e){return e.not("mobile platform")}),pageflow.browser.feature("mp4 support only",function(){return pageflow.browser.agent.matchesSilk()||pageflow.browser.agent.matchesDesktopSafari9()||pageflow.browser.agent.matchesDesktopSafari10()}),pageflow.browser.feature("native video player",function(e){return e("iphone platform")}),pageflow.browser.feature("volume control support",function(e){return e.not("ios platform")}),pageflow.Features=pageflow.Object.extend({initialize:function(){this.registry={},this.enabledFeatureNames=[]},has:function(){return pageflow.browser.has.apply(pageflow.browser,arguments)},register:function(e,t,n){this.registry[e]=this.registry[e]||{},this.registry[e][t]=this.registry[e][t]||[],this.registry[e][t].push(n)},isEnabled:function(e){return _(this.enabledFeatureNames).contains(e)},enable:function(e,t){var n=this.registry[e]||{};this.enabledFeatureNames=this.enabledFeatureNames.concat(t),_(t).each(function(e){_(n[e]||[]).each(function(e){e()})})}}),pageflow.features=new pageflow.Features,pageflow.Audio=function(e){function t(e){return e?parseInt(e.toString().split(".")[0],10):e}this.getSources=e.getSources||function(t){return e.audioFiles[t]||""},this.createPlayer=function(e,n){var r=this.getSources(t(e));return r?new pageflow.AudioPlayer(r,_.extend({volumeFading:!0},n||{})):new pageflow.AudioPlayer.Null},this.createMultiPlayer=function(e){return new pageflow.Audio.MultiPlayer(new pageflow.Audio.PlayerPool(this,e),e)}},pageflow.Audio.setup=function(e){pageflow.audio=new pageflow.Audio(e)},pageflow.Audio.PlayerPool=function(e,t){this.players={},this.get=function(n){return this.players[n]=this.players[n]||e.createPlayer(n,t),this.players[n]},this.dispose=function(){this.players={}}},pageflow.Audio.MultiPlayer=function(e,t){function n(n,l){if(t.playFromBeginning||n!==u||s.paused()){var c=e.get(n);u=n;var f=s.fadeOutAndPause(t.fadeDuration);f.then(function(){a(s)}),r(f).then(function(){o(s=c,n),i(c).then(function(){l(c)})})}}function r(e){return t.crossFade?(new $.Deferred).resolve().promise():e}function i(e){return t.playFromBeginning||t.rewindOnChange?e.rewind():(new $.Deferred).resolve().promise()}function o(e,t){l.listenTo(e,"play",function(){l.trigger("play",{audioFileId:t})}),l.listenTo(e,"pause",function(){l.trigger("pause",{audioFileId:t})}),l.listenTo(e,"timeupdate",function(){l.trigger("timeupdate",{audioFileId:t})}),l.listenTo(e,"ended",function(){l.trigger("ended",{audioFileId:t})})}function a(e){l.stopListening(e)}if(t.crossFade&&t.playFromBeginning)throw"pageflow.Audio.MultiPlayer: The options crossFade and playFromBeginning can not be used together at the moment.";var s=new pageflow.AudioPlayer.Null,u=null,l=this;this.resume=function(){return s.play()},this.resumeAndFadeIn=function(){return s.playAndFadeIn(t.fadeDuration)},this.seek=function(e){return s.seek(e)},this.pause=function(){return s.pause()},this.paused=function(){return s.paused()},this.fadeOutAndPause=function(){return s.fadeOutAndPause(t.fadeDuration)},this.position=function(){return s.position},this.duration=function(){return s.duration},this.fadeTo=function(e){return n(e,function(e){return e.playAndFadeIn(t.fadeDuration)})},this.play=function(e){return n(e,function(e){return e.play()})},this.changeVolumeFactor=function(e){return s.changeVolumeFactor(e,t.fadeDuration)},this.formatTime=function(e){return s.formatTime(e)}},_.extend(pageflow.Audio.MultiPlayer.prototype,Backbone.Events),pageflow.mediaPlayer={enhance:function(e,t){pageflow.mediaPlayer.catchPlayerPromise(e),pageflow.mediaPlayer.asyncPlay(e),t.hooks&&pageflow.mediaPlayer.hooks(e,t.hooks),t.volumeFading&&(pageflow.mediaPlayer.volumeFading(e),pageflow.mediaPlayer.volumeBinding(e,pageflow.settings,t)),t.loadWaiting&&pageflow.mediaPlayer.loadWaiting(e)}},pageflow.mediaPlayer.catchPlayerPromise=function(e){var t=e.play;e.play=function(){var n=t.apply(e,arguments);return n&&"undefined"!=typeof Promise&&n instanceof Promise&&n["catch"](function(){pageflow.log("Caught pending play exception - continuing")}),n}},pageflow.mediaPlayer.volumeFading=function(e){return pageflow.browser.has("volume control support")?pageflow.audioContext.get()&&e.getMediaElement?pageflow.mediaPlayer.volumeFading.webAudio(e,pageflow.audioContext.get()):pageflow.mediaPlayer.volumeFading.interval(e):pageflow.mediaPlayer.volumeFading.noop(e)},pageflow.mediaPlayer.volumeFading.interval=function(e){function t(){return a.apply(e,arguments)}function n(){clearInterval(o),i.resolve(),o=null,i=null}function r(){o&&(clearInterval(o),i.reject(),o=null,i=null)}var i,o,a=e.volume;e.volume=function(t){return void 0!==t&&r(),a.apply(e,arguments)},e.fadeVolume=function(e,a){return r(),new $.Deferred(function(r){var s=10,u=t(),l=(e-u)/(a/s);e===u?r.resolve():(i=r,o=setInterval(function(){t(t()+l),(t()>=e&&e>=u||t()<=e&&e<=u)&&n()},s))})},e.one("dispose",r)},pageflow.mediaPlayer.volumeFading.noop=function(e){e.fadeVolume=function(){return(new jQuery.Deferred).resolve().promise()}},pageflow.mediaPlayer.volumeFading.webAudio=function(e,t){function n(){u||(u=t.createGain(),t.createMediaElementSource(e.getMediaElement()).connect(u),u.connect(t.destination))}function r(){clearTimeout(c),l.resolve(),c=null,l=null}function i(){l&&(u.gain.cancelScheduledValues(t.currentTime),clearTimeout(c),l.reject(),c=null,l=null,a())}function o(e){f=t.currentTime,p=h,d=e}function a(){if(1==u.gain.value){var e=1e3*(t.currentTime-f);h=s(p+e/d*(h-p))}else h=u.gain.value}function s(e){return e<g?g:e}var u,l,c,f,d,p,h=1,g=1e-6;e.volume=function(e){return n(),void 0!==e?(i(),h=s(e),u.gain.setValueAtTime(h,t.currentTime)):Math.round(100*h)/100},e.fadeVolume=function(e,a){return n(),i(),o(a),h=s(e),u.gain.setValueAtTime(p,t.currentTime),u.gain.linearRampToValueAtTime(h,t.currentTime+a/1e3),new $.Deferred(function(e){c=setTimeout(r,a),l=e}).promise()},e.one("dispose",i)},pageflow.mediaPlayer.volumeBinding=function(e,t,n){function r(){e.on("dispose",i),t.on("change:volume",o)}function i(){e.off("dispose",i),t.off("change:volume",o)}function o(){e.fadeVolume(e.targetVolume(),40)}n=n||{};var a=e.play,s=e.pause,u="volumeFactor"in n?n.volumeFactor:1;e.play=function(){return e.volume(e.targetVolume()),r(),a.call(e)},e.playAndFadeIn=function(t){return e.paused()||e.intendingToPause()?(e.intendToPlay(),e.volume(0),$.when(a.call(e)).then(function(){return r(),e.fadeVolume(e.targetVolume(),t).then(null,function(){return(new jQuery.Deferred).resolve().promise()})})):(new jQuery.Deferred).resolve().promise()},e.pause=function(){i(),s.call(e)},e.fadeOutAndPause=function(t){return e.paused()&&!e.intendingToPlay()?(new jQuery.Deferred).resolve().promise():(e.intendToPause(),i(),e.fadeVolume(0,t).always(function(){return e.ifIntendingToPause().then(function(){s.call(e)})}))},e.changeVolumeFactor=function(t,n){return u=t,e.fadeVolume(e.targetVolume(),n)},e.targetVolume=function(){return t.get("volume")*u}},pageflow.mediaPlayer.loadWaiting=function(e){var t=e.fadeVolume;e.fadeVolume=function(){var n=arguments;return jQuery.when(this.loadedPromise).then(function(){return t.apply(e,n)})}},pageflow.mediaPlayer.hooks=function(e,t){var n=e.play;e.play;t.before&&(e.play=function(){var r=arguments;return e.trigger("beforeplay"),e.intendToPlay(),$.when(t.before()).then(function(){return e.ifIntendingToPlay().then(function(){return n.apply(e,r)})})}),t.after&&(e.on("pause",t.after),e.on("ended",t.after))},pageflow.mediaPlayer.asyncPlay=function(e){function t(e){return new $.Deferred(function(t){e?t.resolve():t.reject("aborted")}).promise()}var n=e.play,r=e.pause,i=!1,o=!1;e.play=function(){return e.intendToPlay(),n.apply(e,arguments)},e.pause=function(){return e.intendToPause(),r.apply(e,arguments)},e.intendToPlay=function(){i=!0,o=!1},e.intendToPause=function(){o=!0,i=!1},e.intendingToPlay=function(){return i},e.intendingToPause=function(){return o},e.ifIntendingToPause=function(){return t(o)},e.ifIntendingToPlay=function(){return t(i)}},pageflow.AudioPlayer=function(e,t){t=t||{};var n={vorbis:"audio/ogg",mp4:"audio/mp4",mp3:"audio/mpeg"},r=new $.Deferred,i=new $.Deferred,o=new Audio5js({reusedTag:t.tag,swf_path:pageflow.assetUrls.audioSwf,throw_errors:!1,format_time:!1,codecs:["vorbis","mp4","mp3"],ready:r.resolve,loop:t.loop});o.readyPromise=r.promise(),o.loadedPromise=i.promise(),o.on("load",i.resolve),t.mediaEvents&&pageflow.AudioPlayer.mediaEvents(o,t.context),t.pauseInBackground&&pageflow.browser.has("mobile platform")&&pageflow.AudioPlayer.pauseInBackground(o),pageflow.mediaPlayer.enhance(o,_.extend({loadWaiting:!0},t||{})),pageflow.AudioPlayer.seekWithInvalidStateHandling(o),pageflow.AudioPlayer.rewindMethod(o),pageflow.AudioPlayer.getMediaElementMethod(o),o.src=function(e){r.then(function(){var t=_.detect(e||[],function(e){if(n[o.settings.player.codec]===e.type)return e.src});o.load(t?t.src:"")})};var a=o.load;o.load=function(e){e||(this.duration=0),this.currentSrc=e,this.position=0,this.trigger("timeupdate",this.position,this.duration),a.apply(this,arguments)};var s=o.seek;o.seek=function(){if(this.currentSrc)return s.apply(this,arguments)};var u=o.play;return o.play=function(){this.currentSrc&&u.apply(this,arguments)},o.paused=function(){return!o.playing},o.src(e),o},pageflow.AudioPlayer.fromAudioTag=function(e,t){return new pageflow.AudioPlayer(e.find("source").map(function(){return{src:$(this).attr("src"),type:$(this).attr("type")}}).get(),_.extend({tag:e[0]},t||{}))},pageflow.AudioPlayer.fromScriptTag=function(e,t){var n=e.length?JSON.parse(e.text()):[];return new pageflow.AudioPlayer(n,t)},pageflow.AudioPlayer.mediaEvents=function(e,t){function n(n){pageflow.events.trigger("media:"+n,{fileName:e.currentSrc,context:t,currentTime:e.position,duration:e.duration,volume:e.volume(),bitrate:128e3})}e.on("play",function(){n("play")}),e.on("timeupdate",function(){n("timeupdate")}),e.on("pause",function(){n("pause")}),e.on("ended",function(){n("ended")})},pageflow.AudioPlayer.Null=function(){this.playAndFadeIn=function(){return(new $.Deferred).resolve().promise()},this.fadeOutAndPause=function(){return(new $.Deferred).resolve().promise()},this.changeVolumeFactor=function(){return(new $.Deferred).resolve().promise()},this.play=function(){},this.pause=function(){},this.paused=function(){return!0},this.seek=function(){return(new $.Deferred).resolve().promise()},this.rewind=function(){return(new $.Deferred).resolve().promise()},this.formatTime=function(){},this.one=function(e,t){t()}},_.extend(pageflow.AudioPlayer.Null.prototype,Backbone.Events),pageflow.AudioPlayer.seekWithInvalidStateHandling=function(e){function t(t){var n=0;return new $.Deferred(function(r){function i(){if((n+=1)>=50)r.reject();else try{t(),r.resolve()}catch(o){e.one("progress",i)}}i()}).promise()}var n=e.seek;e.seek=function(r){return t(function(){n.call(e,r)})}},pageflow.AudioPlayer.rewindMethod=function(e){e.rewind=function(){if(e.position>0){var t=e.seek(0);return e.trigger("timeupdate",e.position,e.duration),t}return(new $.Deferred).resolve().promise()}},pageflow.AudioPlayer.pauseInBackground=function(e){function t(){o=setInterval(function(){a=(new Date).getTime()},s)}function n(){clearInterval(o),o=null}function r(){i()&&e.pause()}function i(){return o&&a<(new Date).getTime()-5*s}var o,a,s=100;e.on("play",t),e.on("pause",n),e.on("ended",n),e.on("timeupdate",r)},pageflow.AudioPlayer.getMediaElementMethod=function(e){e.getMediaElement=function(){return e.audio.audio}},pageflow.audioContext={get:function(){var e=window.AudioContext||window.webkitAudioContext;if("undefined"==typeof this._audioContext)try{this._audioContext=e&&new e}catch(t){this._audioContext=null,pageflow.log("Failed to create AudioContext.",{force:!0})}return this._audioContext}},pageflow.VideoPlayer=function(e,t){t=t||{},e=pageflow.VideoPlayer.filterSources(e);var n=videojs(e,t);return t.useSlimPlayerControlsDuringPhonePlayback&&pageflow.mediaPlayer.useSlimPlayerControlsDuringPhonePlayback(n),pageflow.VideoPlayer.prebuffering(n),pageflow.VideoPlayer.cueSettingsMethods(n),pageflow.VideoPlayer.getMediaElementMethod(n),t.mediaEvents&&pageflow.VideoPlayer.mediaEvents(n,t.context),t.bufferUnderrunWaiting&&pageflow.VideoPlayer.bufferUnderrunWaiting(n),pageflow.mediaPlayer.enhance(n,t),n},videojs.Html5DashJS.hook("beforeinitialize",function(e,t){t.getDebug().setLogToBrowserConsole(!1)}),pageflow.mediaPlayer.useSlimPlayerControlsDuringPhonePlayback=function(e){var t=e.play;e.play=function(){return pageflow.browser.has("phone platform")&&!pageflow.browser.has("native video player")&&pageflow.widgets.use({name:"slim_player_controls",insteadOf:"classic_player_controls"},function(t){e.one("pause",t)}),t.apply(this,arguments)}},pageflow.VideoPlayer.mediaEvents=function(e,t){function n(n){pageflow.events.trigger("media:"+n,{fileName:e.currentSrc(),context:t,currentTime:e.currentTime(),duration:e.duration(),volume:e.volume(),bitrate:pageflow.browser.has("high bandwidth")?35e5:2e6})}e.on("play",function(){n("play")}),e.on("timeupdate",function(){n("timeupdate")}),e.on("pause",function(){n("pause")}),e.on("ended",function(){n("ended")})},pageflow.VideoPlayer.prebuffering=function(e){e.isBufferedAhead=function(t,n){var r=e.buffered(),i=r.end(r.length-1),o=e.currentTime()+t;e.duration()&&(o=Math.min(o,Math.floor(e.duration())));var a=i>=o;return n||pageflow.log("buffered ahead "+t+": "+a+" ("+i+"/"+o+")"),a},e.prebuffer=function(t){var n,r=(t=t||{}).secondsToBuffer||10,i=t.secondsToWait||3,o=200,a=1e3*i/o,s=0,u=$.Deferred();return pageflow.browser.has("prebuffering support")&&(e.isBufferedAhead(r)||e.prebufferDeferred||(pageflow.log("prebuffering video "+e.src()),(n=function(){setTimeout(function(){e.prebufferDeferred&&(s++,e.isBufferedAhead(r)||s>a?(pageflow.log("finished prebuffering video "+e.src()),u.resolve(),e.prebufferDeferred=null):n())},o)})(),e.prebufferDeferred=u)),e.prebufferDeferred?e.prebufferDeferred.promise():u.resolve().promise()},e.abortPrebuffering=function(){e.prebufferDeferred&&(pageflow.log("ABORT prebuffering"),e.prebufferDeferred.reject(),e.prebufferDeferred=null)};var t=e.pause;e.pause=function(){return e.abortPrebuffering(),t.apply(this,arguments)},e.one("dispose",function(){e.abortPrebuffering()})},pageflow.VideoPlayer.bufferUnderrunWaiting=function(e){function t(){n()&&r()}function n(){return!e.isBufferedAhead(.1,!0)&&!e.waitingOnUnderrun&&!o()}function r(){pageflow.log("Buffer underrun"),e.trigger("bufferunderrun"),e.pause(),e.waitingOnUnderrun=!0,e.prebuffer({secondsToBuffer:5,secondsToWait:5}).then(function(){e.waitingOnUnderrun&&(e.waitingOnUnderrun=!1,e.trigger("bufferunderruncontinue"),e.play())})}function i(){e.waitingOnUnderrun&&(e.ignoreUnderrunsUntil=(new Date).getTime()+5e3,e.waitingOnUnderrun=!1,e.trigger("bufferunderruncontinue"))}function o(){var t=e.ignoreUnderrunsUntil&&(new Date).getTime()<e.ignoreUnderrunsUntil;return t&&pageflow.log("ignoring underrun"),t}function a(){e.off("progress",t)}var s=e.pause;e.pause=function(){i(),s.apply(this,arguments)},pageflow.browser.has("buffer underrun waiting support")&&(e.on("play",function(){e.on("progress",t)}),e.on("pause",a),e.on("ended",a))},pageflow.VideoPlayer.filterSources=function(e){if($(e).is("video")&&pageflow.browser.has("mp4 support only")){$(e).find("source").not('source[type="video/mp4"]').remove();var t=$(e).clone(!0);return $(e).replaceWith(t),t[0]}return e},pageflow.VideoPlayer.Lazy=function(e,t){function n(e){s=e.html()}function r(){var e=s.replace(/preload="[a-z]*"/,'preload="auto"');e=e.replace(/src="([^"]*)"/g,'src="$1&t='+(new Date).getTime()+'"');var t=$(e);return pageflow.browser.has("mobile platform")&&t.attr("data-mobile-poster")?t.attr("poster",t.attr("data-mobile-poster")):pageflow.browser.has("high bandwidth")&&!pageflow.browser.has("mobile platform")?(t.attr("poster",t.attr("data-large-poster")),t.find("source").each(function(){$(this).attr("src",$(this).attr("data-high-src"))})):t.attr("poster",t.attr("data-poster")),t}var i,o,a,s,u=$('<span class="video_placeholder" />'),l=this,c=new $.Callbacks;n(e),e.before(u),this.ensureCreated=function(){i&&(clearTimeout(i),i=null),o||(o=r(),u.replaceWith(o),(a=new pageflow.VideoPlayer(o[0],t)).ready(c.fire))},this.isPresent=function(){return o&&!i},this.dispose=function(){o&&!pageflow.browser.has("mobile platform")&&(this.setEmptySrc(),$(a.el()).replaceWith(u),a.dispose(),a=null,o=null)},this.setEmptySrc=function(){a.src([{type:"video/webm",src:pageflow.assetUrls.emptyWebm},{type:"video/mp4",src:pageflow.assetUrls.emptyMp4}])},this.scheduleDispose=function(){i||(i=setTimeout(function(){l.dispose()},5e3))},this.ready=function(e){c.add(e)},this.paused=function(){return a&&a.paused()},this.volume=function(){return a?a.volume.apply(a,arguments):0},this.showPosterImage=function(){return a&&a.posterImage.show()},this.hidePosterImage=function(){return a&&a.posterImage.unlockShowing()},_.each(["play","playAndFadeIn","pause","fadeOutAndPause","prebuffer","src","on","load","currentTime"],function(e){l[e]=function(){var t=arguments;if(a)return new $.Deferred(function(n){a.ready(function(){$.when(a[e].apply(a,t)).then(n.resolve)})});pageflow.log("Video Player not yet initialized. ("+e+")",{force:!0})}})},pageflow.VideoPlayer.cueSettingsMethods=function(e){e.updateCueLineSettings=function(t){var n=t.split("."),r=n[0],i=n[1];r="top"==r?1:r;var o=!1;if(_(e.textTracks()).each(function(e){if("showing"==e.mode&&e.cues)for(var t=0;t<e.cues.length;t++)e.cues[t].line!=r&&(e.cues[t].line=r,o=!0)}),(this.prevLine!==t||o)&&"lazy"!=i){var a=e.tech({IWillNotUseThisInPlugins:!0});a&&a.trigger("texttrackchange")}this.prevLine=t}},pageflow.VideoPlayer.getMediaElementMethod=function(e){e.getMediaElement=function(){var t=e.tech({IWillNotUseThisInPlugins:!0});return t&&t.el()}},pageflow.Visited=function(e,t,n,r){function i(){if(r.hasItem(c)){var e=u();f=_.difference(a(),e)}else s(a());n.on("page:change",function(e){var t=e.getPermaId(),n=u();n.indexOf(t)<0&&n.push(t),s(n)})}function o(){var t="_pageflow_"+e+"_visited";if(r.hasItem(t)){var n=l(t);s(_.uniq(n)),r.removeItem(t)}}function a(){return t.map(function(e){return e.perma_id})}function s(e){r.setItem(c,e,Infinity,location.pathname)}function u(){return l(c)}function l(e){return r.hasItem(e)&&r.getItem(e)?r.getItem(e).split(",").map(function(e){return parseInt(e,10)}):[]}var c="_pageflow_visited",f=[];return{init:function(){o(),i()},getUnvisitedPages:function(){return f}}},pageflow.Visited.setup=function(){pageflow.visited=new pageflow.Visited(pageflow.entryId,pageflow.pages,pageflow.events,pageflow.cookies),pageflow.Visited.enabled&&pageflow.visited.init()},jQuery(function(e){pageflow.ready.then(function(){e("img.print_image").each(function(){var t=e(this);t.data("src")&&t.attr("src",t.data("printsrc"))})})}),pageflow.History=function(e,t){function n(){var e=window.location.href.match(/page=([^&]*)/);return e?e[1]:""}e.on("slideshowchangepage",function(n,r){var i=e.currentPage().attr("id");r.back?t.replaceState(null,"",t.hash()):r.ignoreInHistory?t.replaceState(null,"",i):(t.replaceState(r,"",t.hash()),t.pushState(null,"",i))}),t.on("popstate",function(){t.state()&&e.goToByPermaId(t.hash(),_.extend({back:!0},_.pick(t.state(),"direction","transition")))}),t.on("hashchange",function(){e.goToByPermaId(t.hash())}),this.getLandingPagePermaId=function(){return t.hash()||n()},this.start=function(){t.replaceState(null,"",e.currentPage().attr("id"))},this.back=_.bind(t.back,t)},pageflow.History.create=function(e,t){var n;return n=(t=t||{}).simulate?new pageflow.History.SimulatedAdapter:pageflow.browser.has("pushstate support")?new pageflow.History.PushStateAdapter:new pageflow.History.HashAdapter,new pageflow.History(e,n)},pageflow.History.HashAdapter=function(){var e=0;this.back=function(){return e>0&&(window.history.back(),e-=1,!0)},this.pushState=function(t,n,r){window.location.hash!==r&&(e+=1,window.location.hash=r)},this.replaceState=function(e,t,n){window.location.hash=n},this.state=function(){return{}},this.hash=function(){var e=window.location.href.match(/#(.*)$/);return e?e[1]:""},this.on=function(e,t){return $(window).on(e,t)}},pageflow.History.PushStateAdapter=function(){var e=0;this.back=function(){return e>0&&(window.history.back(),!0)},this.pushState=function(t,n,r){e+=1,window.history.pushState(t,n,"#"+r)},this.replaceState=function(e,t,n){window.history.replaceState(e,t,"#"+n)},this.state=function(){return history.state},this.hash=function(){var e=window.location.href.match(/#(.*)$/);return e?e[1]:""},this.on=function(e,t){return $(window).on(e,t)},$(window).on("popstate",function(){e-=1})},pageflow.History.SimulatedAdapter=function(){function e(){return t[t.length-1]}var t=[{hash:null,state:null}];this.back=function(){return t.length>1&&(t.pop(),this.trigger("popstate"),!0)},this.pushState=function(e,n,r){t.push({state:e,hash:r})},this.replaceState=function(t,n,r){e().state=t,e().hash=r},this.state=function(){return e().state},this.hash=function(){return e().hash}},_.extend(pageflow.History.SimulatedAdapter.prototype,Backbone.Events),pageflow.manualStart=function(e){var t=e.Deferred(),n=e.Deferred();return e(function(){pageflow.manualStart.enabled?t.resolve(n.resolve):n.resolve()}),{wait:function(e){var t=!1;return n.then(function(){t||e()}),{cancel:function(){t=!0}}},required:function(){return t.promise()}}}(jQuery),pageflow.widgets=function(){function e(e,t){$("div.widgets_present").removeClass(e).addClass(t),pageflow.events.trigger("widgets:update")}function t(e,t){return"widget_"+e+"_"+(t||"present")}return{isPresent:function(e){return!!$("div."+t(e)).length},areLoaded:function(){return!!$("div.widgets_present").length},use:function(n,r){var i=n.insteadOf,o=t(i),a=t(n.name)+" "+t(i,"replaced");this.isPresent(i)?(e(o,a),r(function(){e(a,o)})):r(function(){})}}}(),pageflow.widgetTypes=function(){var e={},t={enhance:function(){}};return{register:function(n,r){e[n]=_.extend({},t,r)},enhance:function(t){function n(t){var n=$(t).data("widget");e[n]&&e[n].enhance(t)}t.find("[data-widget]").each(function(){n($(this))})}}}(),pageflow.widgetTypes.register("default_navigation",{enhance:function(e){e.navigation()}}),pageflow.widgetTypes.register("default_mobile_navigation",{enhance:function(e){e.navigationMobile()}}),pageflow.links={setup:function(){this.ensureClickOnEnterKeyPress(),this.setupContentSkipLinks()},ensureClickOnEnterKeyPress:function(){$("body").on("keypress","a, [tabindex]",function(e){13==e.which&&$(this).click()}),$("body").on("keyup","a, [tabindex]",function(e){e.stopPropagation()})},setupContentSkipLinks:function(){$(".content_link").attr("href","#firstContent"),$(".content_link").click(function(e){return $("#firstContent").focus(),e.preventDefault(),!1})}},pageflow.HighlightedPage=pageflow.Object.extend({initialize:function(e,t){this.customNavigationBarMode=t&&t.customNavigationBarMode,this.entry=e},getPagePermaId:function(e){var t=this.entry.getStorylineIdByPagePermaId(e);if("inherit_from_parent"===this.getNavigationBarMode(t)){var n=this.entry.getParentPagePermaId(t);return n&&this.getPagePermaId(n)}return this.getDisplayedPageInChapter(e)},getDisplayedPageInChapter:function(e){return _(this.getChapterPagesUntil(e).reverse()).find(function(e){return this.pageIsDisplayedInNavigation(e)},this)},pageIsDisplayedInNavigation:function(e){return!1!==this.entry.getPageConfiguration(e).display_in_navigation},getNavigationBarMode:function(e){return this.customNavigationBarMode?this.customNavigationBarMode(e,this.entry):this.entry.getStorylineConfiguration(e).navigation_bar_mode},getChapterPagesUntil:function(e){var t=!1,n=this.entry.getChapterIdByPagePermaId(e);return _.filter(this.entry.getChapterPagePermaIds(n),function(n){var r=!t;return t=t||e===n,r})}}),pageflow.HighlightedPage.create=function(e){return new pageflow.HighlightedPage(pageflow.entryData,e)},pageflow.ChapterFilter=pageflow.Object.extend({initialize:function(e){this.entry=e},strategies:{non:function(){return!1},current_storyline:function(e,t){return this.entry.getStorylineIdByChapterId(e)===this.entry.getStorylineIdByChapterId(t)},inherit_from_parent:function(e,t){return this.chapterVisibleFromChapter(this.entry.getParentChapterId(e),t)}},chapterVisibleFromPage:function(e,t){var n=this.entry.getChapterIdByPagePermaId(e);return this.chapterVisibleFromChapter(n,t)},chapterVisibleFromChapter:function(e,t){return this.getStrategy(e).call(this,e,t)},getStrategy:function(e){return this.strategies[this.getNavigationBarMode(e)]||this.strategies.current_storyline},getNavigationBarMode:function(e){var t=this.entry.getStorylineIdByChapterId(e);return this.entry.getStorylineConfiguration(t).navigation_bar_mode}}),pageflow.ChapterFilter.strategies=_(pageflow.ChapterFilter.prototype.strategies).keys(),pageflow.ChapterFilter.create=function(){return new pageflow.ChapterFilter(pageflow.entryData)},pageflow.Fullscreen=pageflow.Object.extend({toggle:function(){var e=this;$.support.fullscreen&&$("#outer_wrapper").fullScreen({callback:function(t){e._active=t,e.trigger("change")}})},isSupported:function(){return $.support.fullscreen},isActive:function(){return this._active}}),pageflow.fullscreen=new pageflow.Fullscreen,pageflow.multimediaAlert={show:function(){pageflow.events.trigger("request:multimedia_alert")}},pageflow.nativeScrolling={preventScrollBouncing:function(e){e.on("touchmove",function(e){e.preventDefault()})},preventScrollingOnEmbed:function(e){e.on("wheel mousewheel DOMMouseScroll",function(e){e.stopPropagation(),e.preventDefault()})}},function(){var e=9;pageflow.FocusOutline=pageflow.Object.extend({initialize:function(e){this.element=e},showOnlyAfterKeyboardInteraction:function(){var t=this;this.disable(),this.element.on("keydown",function(n){n.which===e&&t.enable()}),this.element.on("mousedown",function(){t.disable()})},disable:function(){this.disabled||(this.disabled=!0,this.element.addClass("disable_focus_outline"),this.element.removeClass("enable_focus_outline"))},enable:function(){this.disabled&&(this.disabled=!1,this.element.removeClass("disable_focus_outline"),this.element.addClass("enable_focus_outline"))}}),pageflow.FocusOutline.setup=function(e){pageflow.focusOutline=new pageflow.FocusOutline(e),pageflow.focusOutline.showOnlyAfterKeyboardInteraction()}}(),pageflow.phoneLandscapeFullscreen=function(){function e(){return 90==window.orientation||-90==window.orientation}function t(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitEnterFullscreen&&e.webkitEnterFullscreen()}window.screen.orientation&&pageflow.ready.then(function(){pageflow.browser.has("phone platform")&&!pageflow.browser.has("iphone platform")&&(window.screen.orientation.onchange=function(){e()&&t(document.body)})})},pageflow.Settings=Backbone.Model.extend({defaults:{volume:1},initialize:function(){var e=this.getLocalStorage();if(e){if(e["pageflow.settings"])try{this.set(JSON.parse(e["pageflow.settings"]))}catch(t){pageflow.log(t)}this.on("change",function(){e["pageflow.settings"]=JSON.stringify(this)})}},getLocalStorage:function(){try{return window.localStorage}catch(e){return null}}}),pageflow.settings=new pageflow.Settings,function(){var e="atmo_audio_file_id";pageflow.Atmo=pageflow.Object.extend({initialize:function(e,t,n){this.slideshow=e,this.multiPlayer=n,this.disabled=pageflow.browser.has("mobile platform"),this.listenTo(t,"page:change page:update",function(){this.update()})},disable:function(){this.disabled=!0,this.multiPlayer.fadeOutAndPause(),pageflow.events.trigger("atmo:disabled")},enable:function(){this.disabled=!1,this.update(),pageflow.events.trigger("atmo:enabled")},pause:function(){if(pageflow.browser.has("volume control support"))return this.multiPlayer.fadeOutAndPause();this.multiPlayer.pause()},turnDown:function(){if(pageflow.browser.has("volume control support"))return this.multiPlayer.changeVolumeFactor(.2);this.multiPlayer.pause()},resume:function(){return this.multiPlayer.paused()?this.disabled?(new $.Deferred).resolve().promise():this.multiPlayer.resumeAndFadeIn():this.multiPlayer.changeVolumeFactor(1)},update:function(){var t=this.slideshow.currentPageConfiguration();this.disabled||this.multiPlayer.fadeTo(t[e])},createMediaPlayerHooks:function(e){var t=this;return{before:function(){"mute"===e.atmo_during_playback?t.pause():"turn_down"===e.atmo_during_playback&&t.turnDown()},after:function(){t.resume()}}}}),pageflow.Atmo.create=function(e,t,n){return new pageflow.Atmo(e,t,n.createMultiPlayer({loop:!0,fadeDuration:500,crossFade:!0,playFromBeginning:!1,rewindOnChange:!0,pauseInBackground:!0}))},pageflow.Atmo.duringPlaybackModes=["play","mute","turn_down"]}(),function(e){var t=["cleanup","refreshScroller","resize","preload","deactivate","unprepare"],n={_create:function(){this.configuration=this.element.data("configuration")||this.options.configuration,this.index=this.options.index},_destroy:function(){this.isDestroyed=!0},_ensureCreated:function(){this.created=!0,this.element.nonLazyPage(this.options)},_delegateToInner:function(e,t){return this.element.nonLazyPage.apply(this.element,[e].concat([].slice.call(t)))},getPermaId:function(){return parseInt(this.element.attr("id"),10)},getConfiguration:function(){return this.configuration},update:function(e){this.created?this._delegateToInner("update",arguments):_.extend(this.configuration,e.attributes)}};_(["reinit","reactivate","activate","activateAsLandingPage","prepare","linkedPages"]).each(function(e){n[e]=function(){return this._ensureCreated(),this._delegateToInner(e,arguments)}}),_(t).each(function(e){n[e]=function(){if(this.created)return this._delegateToInner(e,arguments)}}),e.widget("pageflow.page",n)}(jQuery),pageflow.pageSplitLayout=function(){function e(e,r){var i,o,a=e.find(".page_header .title"),s=e.find(".contentText p"),u=a[0].getBoundingClientRect(),l=s[0].getBoundingClientRect();t(u)?(i=l.right,o=l.left):(i=Math.max(u.right,l.right),o=u.left);var c=n(e,r);return{right:i-c,left:o-c}}function t(e){return 0===e.width}function n(e,t){var n=e.find(".contentWrapper"),r=n[0].getBoundingClientRect(),i=n[0].offsetLeft,o=t.left+i;return r.left-o}return{pageIsWideEnough:function(t){var n=t[0].getBoundingClientRect(),r=e(t,n),i=n.right-r.right,o=r.left-n.left,a=.51*n.width,s=.55*n.width;return o>=a||i>=s}}}(),function(e){e.widget("pageflow.nonLazyPage",{widgetEventPrefix:"page",_create:function(){this.configuration=this.element.data("configuration")||this.options.configuration,this.index=this.options.index,this._setupNearBoundaryCssClasses(),this._setupContentLinkTargetHandling(),this.reinit()},getPermaId:function(){return parseInt(this.element.attr("id"),10)},getConfiguration:function(){return this.configuration},update:function(e){_.extend(this.configuration,e.attributes),this.pageType.update(this.element,e)},reinit:function(){this.pageType=pageflow.pageType.get(this.element.data("template")),this.element.data("pageType",this.pageType),this.preloaded=!1,!1===this.pageType.scroller?this.content=e():this.content=this.element.find(".scroller"),this.content.scroller(this.pageType.scrollerOptions||{}),this.pageType.scroller=this.content.scroller("instance"),this.pageType.scrollIndicator=new pageflow.ScrollIndicator(this.element),this._setupHideTextOnSwipe(),this._triggerPageTypeHook("enhance"),this._trigger("enhanced")},reactivate:function(){this.element.hasClass("active")&&(this.preload(),this.content.scroller("enable"),this.content.scroller("resetPosition"),this.content.scroller("afterAnimationHook"),this._triggerPageTypeHook("activating"),this._triggerDelayedPageTypeHook("activated"))},cleanup:function(){this._triggerPageTypeHook("deactivating"),this._triggerDelayedPageTypeHook("deactivated"),this._triggerPageTypeHook("cleanup")},refreshScroller:function(){this.content.scroller("refresh")},resize:function(){this._triggerPageTypeHook("resize")},activateAsLandingPage:function(){this.element.addClass("active"),this.content.scroller("enable"),this.content.scroller("resetPosition"),this.content.scroller("afterAnimationHook"),this._trigger("activate",null,{page:this}),this._triggerPageTypeHook("activating"),this._triggerDelayedPageTypeHook("activated")},prepare:function(){this._triggerPageTypeHook("prepare")},unprepare:function(){this._triggerPageTypeHook("unprepare")},prepareNextPageTimeout:function(){
return this.pageType.prepareNextPageTimeout},linkedPages:function(){return this._triggerPageTypeHook("linkedPages")},preload:function(){var t=this;if(!this.preloaded)return this.preloaded=!0,e.when(this._triggerPageTypeHook("preload")).then(function(){t._trigger("preloaded")})},activate:function(e){e=e||{},setTimeout(_.bind(function(){this.element.addClass("active")},this),0);var t=this.animateTransition("in",e,function(){this.content.scroller("enable"),this.content.scroller("afterAnimationHook"),this._triggerDelayedPageTypeHook("activated")});return this.content.scroller("resetPosition",{position:e.position}),this._trigger("activate",null,{page:this}),this._triggerPageTypeHook("activating",{position:e.position}),t},deactivate:function(e){e=e||{},this.element.removeClass("active");var t=this.animateTransition("out",e,function(){this._triggerPageTypeHook("deactivated")});return this.content.scroller("disable"),this._trigger("deactivate"),this._triggerPageTypeHook("deactivating"),t},animateTransition:function(e,t,n){var r="in"===e?"out":"in",i=t.transition||this.configuration.transition||"fade",o=pageflow.pageTransitions.get(i).duration,a=i+" animate-"+e+"-"+t.direction;return this.element.removeClass("animate-"+r+"-forwards animate-"+r+"-backwards").addClass(a),setTimeout(_.bind(function(){this.element.removeClass(a),n.call(this)},this),o),o},_triggerDelayedPageTypeHook:function(e){var t=this,n=pageflow.manualStart.wait(function(){t._triggerPageTypeHook(e)});this.element.one("pagedeactivate",function(){n.cancel()})},_triggerPageTypeHook:function(e,t){return this.pageType[e](this.element,this.configuration,t||{})},_setupHideTextOnSwipe:function(){pageflow.entryData.getThemingOption("hide_text_on_swipe")&&!this.pageType.noHideTextOnSwipe&&this.element.hideTextOnSwipe({eventTargetSelector:".content > .scroller"})},_setupNearBoundaryCssClasses:function(){var e=this.element;_(["top","bottom"]).each(function(t){e.on("scrollernear"+t,function(){e.addClass("is_near_"+t)}),e.on("scrollernotnear"+t,function(){e.removeClass("is_near_"+t)})})},_setupContentLinkTargetHandling:function(){this._on({"click .contentText p a":function(t){var n=e(t.currentTarget).attr("href");"#"===n[0]?pageflow.slides.goToByPermaId(n.substr(1)):window.open(n,"_blank"),t.preventDefault()}})}})}(jQuery),function(e){e.widget("pageflow.scroller",{dragThreshold:50,maxXDelta:50,doubleBumpThreshold:500,_create:function(){this.iscroll=new IScroll(this.element[0],_.extend({mouseWheel:!0,bounce:!1,keyBindings:!0,probeType:2,preventDefault:!1},_.pick(this.options,"freeScroll","scrollX","noMouseWheelScrollX"))),this.iscroll.disable(),pageflow.entryData.getThemingOption("page_change_by_scrolling")&&(this._initMousewheelBump("up"),this._initMousewheelBump("down"),this._initDragGestureBump()),this._initKeyboardBump("up"),this._initKeyboardBump("down"),this._initNearBottomEvents(),this._initNearTopEvents(),this._initMoveEvents(),this._onScrollEndCallbacks=new e.Callbacks},enable:function(){this.iscroll.enable(),this.iscroll.refresh()},resetPosition:function(e){e=e||{},this.iscroll.refresh(),"bottom"===e.position?this.iscroll.scrollTo(0,this.iscroll.maxScrollY,0):this.iscroll.scrollTo(0,0,0),this._triggerBoundaryEvents()},scrollBy:function(e,t,n,r){this.scrollTo(this.iscroll.x+e,this.iscroll.y+t,n,r)},scrollTo:function(e,t,n,r){this.iscroll.scrollTo(Math.max(Math.min(e,0),this.iscroll.maxScrollX),Math.max(Math.min(t,0),this.iscroll.maxScrollY),n,r),this._onScrollEndCallbacks.fire()},refresh:function(){this.iscroll.refresh()},afterAnimationHook:function(){this._triggerBoundaryEvents()},disable:function(){this.iscroll.disable()},positionX:function(){return this.iscroll.x},positionY:function(){return this.iscroll.y},maxX:function(){return this.iscroll.maxScrollX},maxY:function(){return this.iscroll.maxScrollY},onScroll:function(e){this.iscroll.on("scroll",e)},onScrollEnd:function(e){this.iscroll.on("scrollEnd",e),this._onScrollEndCallbacks.add(e)},_initMoveEvents:function(){this.iscroll.on("mousewheelup",_.bind(this._triggerMoveEvent,this)),this.iscroll.on("mousewheeldown",_.bind(this._triggerMoveEvent,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerMoveEvent,this))},_triggerMoveEvent:function(){this._trigger("move")},_initNearBottomEvents:function(){this.iscroll.on("scroll",_.bind(this._triggerNearBottomEvents,this)),this.iscroll.on("scrollEnd",_.bind(this._triggerNearBottomEvents,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerNearBottomEvents,this))},_initNearTopEvents:function(){this.iscroll.on("scroll",_.bind(this._triggerNearTopEvents,this)),this.iscroll.on("scrollEnd",_.bind(this._triggerNearTopEvents,this)),this.iscroll.on("afterkeyboard",_.bind(this._triggerNearTopEvents,this))},_triggerBoundaryEvents:function(){this._triggerNearTopEvents(),this._triggerNearBottomEvents()},_triggerNearBottomEvents:function(){this._atBoundary("down",{delta:50})?this._trigger("nearbottom"):this._trigger("notnearbottom")},_triggerNearTopEvents:function(){this._atBoundary("up",{delta:50})?this._trigger("neartop"):this._trigger("notneartop")},_initMousewheelBump:function(e){var t=!1;this.iscroll.on("mousewheel"+e,_.bind(function(){this._atBoundary(e)&&(t?(this._trigger("bump"+e),t=!1,clearTimeout(this.waitForSecondBump)):(this._trigger("hint"+e),t=!0,this.waitForSecondBump=setTimeout(function(){t=!1},this.doubleBumpThreshold)))},this))},_initKeyboardBump:function(e){this.iscroll.on("keyboard"+e,_.bind(function(t){this._atBoundary(e)&&(t.stopImmediatePropagation(),this._trigger("bump"+e))},this)),this.iscroll.on("keyboardhint"+e,_.bind(function(){this._atBoundary(e)&&this._trigger("hint"+e)},this))},_initDragGestureBump:function(){function e(e){return e.originalEvent.pointerType&&e.originalEvent.pointerType!==e.originalEvent.MSPOINTER_TYPE_TOUCH&&"touch"!==e.originalEvent.pointerType}var t,n,r=!1,i=!1;this.element.on("touchstart MSPointerDown pointerdown",_.bind(function(o){var a=o.originalEvent.touches?o.originalEvent.touches[0]:o.originalEvent;t=a.pageX,n=a.pageY,e(o)||(i=this._atBoundary("down"),r=this._atBoundary("up"))},this)),this.element.on("touchmove MSPointerMove pointermove",_.bind(function(e){var o=e.originalEvent.touches?e.originalEvent.touches[0]:e.originalEvent,a=o.pageX-t,s=o.pageY-n;Math.abs(a)>this.maxXDelta&&(i=r=!1),r&&s>this.dragThreshold?(this._trigger("bumpup"),i=r=!1):i&&s<-this.dragThreshold&&(this._trigger("bumpdown"),i=r=!1)},this)),this.element.on("touchend MSPointerUp pointerup",_.bind(function(){r&&this._trigger("hintup"),i&&this._trigger("hintdown")},this))},_atBoundary:function(e,t){var n=(t=t||{}).delta||0;return"up"===e?this.iscroll.y>=-n:this.iscroll.y<=this.iscroll.maxScrollY+n}})}(jQuery),pageflow.ScrollIndicator=pageflow.Object.extend({initialize:function(e){this.pageElement=e},disable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:disable")},scheduleDisable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:schedule_disable")},enable:function(){this._isPageActive()&&pageflow.events.trigger("scroll_indicator:enable")},_isPageActive:function(){return this.pageElement.hasClass("active")}}),function(e){var t={up:"top",down:"bottom"};e.widget("pageflow.scrollIndicator",{_create:function(){function n(e){e.hasClass("scroll_indicator_mode_non")||e.hasClass("scroll_indicator_mode_only_next")&&"up"===c||e.hasClass("scroll_indicator_mode_only_back")&&"down"===c?d.element.hide():d.element.show(),d.element.toggleClass("hidden_for_page",i(e)),d.element.toggleClass("invert",r(e)),d.element.toggleClass("horizontal",e.hasClass("scroll_indicator_orientation_horizontal")),d.element.toggleClass("available",s())}function r(e){var t=e.data("invertIndicator");return void 0===t&&(t=e.hasClass("invert")&&!o(e)),t}function i(e){return o(e)||!pageflow.widgets.areLoaded()}function o(e){return a(e)&&pageflow.widgets.isPresent("slim_player_controls")}function a(e){return!!e.find('[data-role="player_controls"]').length}function s(){return"down"===c?l.nextPageExists():l.previousPageExists()}var u,l=this.options.parent,c=this.element.data("direction"),f=t[c],d=this;l.on("pageactivate",function(t){n(e(t.target)),clearTimeout(u),d.element.removeClass("faded")}),pageflow.events.on({"page:update":function(){n(l.currentPage())},"scroll_indicator:disable":function(){clearTimeout(u),d.element.addClass("hidden_for_page")},"scroll_indicator:schedule_disable":function(){clearTimeout(u),u=setTimeout(function(){d.element.addClass("faded")},2e3)},"scroll_indicator:enable":function(){clearTimeout(u),d.element.removeClass("faded hidden_for_page")}}),l.on("scrollerhint"+c,function(){d.element.addClass("animate"),setTimeout(function(){d.element.removeClass("animate")},500)}),l.on("scrollernear"+f,function(t){e(t.target).parents("section").hasClass("active")&&d.element.toggleClass("visible",s())}),l.on("scrollernotnear"+f+" slideshowchangepage",function(){d.element.removeClass("visible")}),e.when(pageflow.ready,pageflow.manualStart).done(function(){setTimeout(function(){d.element.addClass("attract"),setTimeout(function(){d.element.removeClass("attract")},1500)},3e3)}),this.element.on("click",function(){"down"===c?l.next():l.back()})}})}(jQuery),function(e){e.widget("pageflow.hiddenTextIndicator",{_create:function(){var t=this.options.parent,n=this;t.on("pageactivate",function(t){var r=e(t.target).add(".content_and_background",t.target);n.element.toggleClass("invert",e(t.target).hasClass("invert")),n.element.toggleClass("hidden",r.hasClass("hide_content_with_text")||r.hasClass("no_hidden_text_indicator"))}),t.on("hidetextactivate",function(){n.element.addClass("visible")}),t.on("hidetextdeactivate",function(){n.element.removeClass("visible")})}})}(jQuery),pageflow.ProgressivePreload=function(){function e(e,t){function n(e,o){$.when(e.page("preload"),r()).then(function(){var r=e.next(".page");!i&&r.length&&o<t&&n(r,o+1)})}function r(){return new $.Deferred(function(e){setTimeout(function(){e.resolve()},1)}).promise()}var i=!1;this.cancel=function(){i=!0},this.start=function(){n(e,0)}}var t=null;this.start=function(n){t&&t.cancel(),(t=new e(n,10)).start()}},pageflow.AdjacentPages=pageflow.Object.extend({initialize:function(e,t){this.pages=e,this.scrollNavigator=t},of:function(e){var t=[],n=this.pages(),r=this.scrollNavigator.getNextPage(e.element,n);return r.length&&t.push(r.page("instance")),_(e.linkedPages()).each(function(e){var r=n.filter("#"+e);r.length&&t.push(r.page("instance"))},this),t}}),pageflow.AdjacentPreparer=pageflow.Object.extend({initialize:function(e){this.adjacentPages=e},attach:function(e){this.listenTo(e,"page:change",this.schedule)},schedule:function(e){clearTimeout(this.scheduleTimeout);var t=_.bind(this.prepareAdjacent,this,e.element.page("instance"));this.scheduleTimeout=setTimeout(t,e.prepareNextPageTimeout())},prepareAdjacent:function(e){var t=this.adjacentPages.of(e),n=_.difference(this.lastPreparedPages,t,[e]),r=_.difference(t,this.lastPreparedPages);_(n).each(function(e){e.isDestroyed||e.unprepare()}),_(r).each(function(e){e.prepare(),e.preload()}),this.lastPreparedPages=t.concat([e])}}),pageflow.AdjacentPreparer.create=function(e,t){return new pageflow.AdjacentPreparer(new pageflow.AdjacentPages(e,t))},jQuery.widget("pageflow.swipeGesture",{_create:function(){function e(e){return e.originalEvent.pointerType&&e.originalEvent.pointerType!==e.originalEvent.MSPOINTER_TYPE_TOUCH&&"touch"!==e.originalEvent.pointerType}var t,n,r,i,o;this.options=_.extend({orientation:"x",minDist:100,maxOrthogonalDist:50,maxDuration:500},this.options);var a=this.options.eventTargetSelector;this.element.on("touchstart MSPointerDown pointerdown",a,_.bind(function(a){if(!e(a)){var s=a.originalEvent.touches?a.originalEvent.touches[0]:a.originalEvent;t=s.pageX,n=s.pageY,i=0,o=0,r=(new Date).getTime()}},this)),this.element.on("touchmove MSPointerMove pointermove",a,_.bind(function(r){if(!e(r)){var a=r.originalEvent.touches?r.originalEvent.touches[0]:r.originalEvent;i=a.pageX-t,o=a.pageY-n}},this)),this.element.on("touchend MSPointerUp pointerup",a,_.bind(function(t){if(!e(t)){var n=(new Date).getTime()-r,a="x"===this.options.orientation?i:o,s="x"===this.options.orientation?o:i;Math.abs(a)>this.options.minDist&&Math.abs(s)<this.options.maxOrthogonalDist&&n<this.options.maxDuration&&("x"===this.options.orientation?this._trigger(a>0?"right":"left"):this._trigger(a>0?"down":"up"))}},this))}}),pageflow.hideText=function(){function e(){return $("body")}function t(e){return _.map(e.split(" "),function(e){return"hidetext"+e}).join(" ")}return $(function(){e().on("keydown",function(e){27==e.keyCode&&pageflow.hideText.deactivate()})}),{isActive:function(){return e().hasClass("hideText")},toggle:function(){this.isActive()?this.deactivate():this.activate()},activate:function(){this.isActive()||(e().addClass("hideText"),e().trigger("hidetextactivate"))},deactivate:function(){this.isActive()&&(e().removeClass("hideText"),e().trigger("hidetextdeactivate"))},on:function(n,r){e().on(t(n),r)},off:function(n,r){e().off(t(n),r)}}}(),jQuery.widget("pageflow.hideTextOnSwipe",{_create:function(){this.element.swipeGesture({orientation:"x",eventTargetSelector:this.options.eventTargetSelector}),this.element.on("swipegestureleft",function(){pageflow.hideText.activate()}),this.element.on("touchstart MSPointerDown pointerdown mousedown",this.options.eventTargetSelector,function(){pageflow.hideText.isActive()&&pageflow.hideText.deactivate()}),this.element.on("scrollermove",function(){pageflow.hideText.isActive()&&pageflow.hideText.deactivate()})}}),pageflow.DomOrderScrollNavigator=function(e,t){function n(e,n,r){var o=i(e,r);return t.getStorylineIdByPagePermaId(o.page("getPermaId"))==t.getStorylineIdByPagePermaId(n.page("getPermaId"))}function r(e,n){return t.getStorylineIdByPagePermaId(e.page("getPermaId"))==t.getStorylineIdByPagePermaId(n.page("getPermaId"))}function i(e,n){var r=s(e);return"parent_page_perma_id"in r&&t.getThemingOption("change_to_parent_page_at_storyline_boundary")?n.filter("#"+r.parent_page_perma_id):$()}function o(e){return s(e).page_transition||"scroll_over_from_right"}function a(e,t){var n=s(e);return"scroll_successor_id"in n?t.filter("#"+n.scroll_successor_id):$()}function s(e){var n=e.page("getPermaId"),r=t.getStorylineIdByPagePermaId(n);return t.getStorylineConfiguration(r)}this.getLandingPage=function(e){return e.first()},this.back=function(t,n){var r="bottom",o=this.getPreviousPage(t,n);o.is(i(t,n))&&(r=null),e.goTo(o,{position:r,ignoreInHistory:!0})},this.next=function(t,n){e.goTo(this.getNextPage(t,n),{ignoreInHistory:!0})},this.nextPageExists=function(e,t){return!!this.getNextPage(e,t).length},this.previousPageExists=function(e,t){return!!this.getPreviousPage(e,t).length},this.getNextPage=function(e,t){var n=e.next(".page");if(r(e,n))return n;var o=a(e,t);return o.length?o:i(e,t)},this.getPreviousPage=function(e,t){var n=e.prev(".page");return r(e,n)?n:i(e,t)},this.getTransitionDirection=function(e,t){return t.index()>e.index()?"forwards":"backwards"},this.getDefaultTransition=function(e,t,r){return n(t,e,r)?o(t):n(e,t,r)?o(e):void 0}},pageflow.Slideshow=function(e,t){function n(e,t){if(!l){l=!0;var n=e.call(t);setTimeout(function(){l=!1},n)}}function r(e){var t=$(d.get(e));return t.length?t:d.last()}function i(){return parseInt(f.attr("id"),10)}function o(e){var t=a(e);t&&(u=(f=t).index(),f.page("activateAsLandingPage"),c.start(f))}function a(e){if(!f.length){var t=e&&e.landingPagePermaId;return t?s(t):p.scrollNavigator.getLandingPage(d)}if(!f.parent().length)return r(u)}function s(t){return e.find("#"+t)}var u,l=!1,c=new pageflow.ProgressivePreload,f=$(),d=$(),p=this;t=t||{},this.nextPageExists=function(){return this.scrollNavigator.nextPageExists(f,d)},this.previousPageExists=function(){return this.scrollNavigator.previousPageExists(f,d)},this.isOnLandingPage=function(){return f.is(this.scrollNavigator.getLandingPage(d))},this.goToLandingPage=function(){this.goTo(this.scrollNavigator.getLandingPage(d))},this.back=function(){this.scrollNavigator.back(f,d)},this.next=function(){this.scrollNavigator.next(f,d)},this.parentPageExists=function(){return!!pageflow.entryData.getParentPagePermaIdByPagePermaId(i())},this.goToParentPage=function(){this.goToByPermaId(pageflow.entryData.getParentPagePermaIdByPagePermaId(i()))},this.goToById=function(t,n){return this.goTo(e.find("[data-id="+t+"]"),n)},this.goToByPermaId=function(e,t){if(e)return this.goTo(s(e),t)},this.goTo=function(t,r){if(r=r||{},t.length&&!t.is(f))return n(function(){var n=f;u=(f=t).index();var i=r.transition||this.scrollNavigator.getDefaultTransition(n,f,d),o=this.scrollNavigator.getTransitionDirection(n,f,r),a=n.page("deactivate",{direction:o,transition:i}),s=f.page("activate",{direction:o,position:r.position,transition:i});return c.start(f),e.trigger("slideshowchangepage",[r]),Math.max(a,s)},this),!0},this.goToFirstPage=function(){return this.goTo(d.first())},this.update=function(n){(d=e.find("section.page")).each(function(e){var n=$(this);n.page({index:e,configuration:t[n.data("id")]})}),o(n)},this.currentPage=function(){return f},this.currentPageConfiguration=function(){return f.page("getConfiguration")},this.on=function(){e.on.apply(e,arguments)},this.triggerResizeHooks=function(){f.page("resize"),pageflow.events.trigger("resize")},e.on("scrollerbumpup",_.bind(function(){this.back()},this)),e.on("scrollerbumpdown",_.bind(function(){this.next()},this)),e.on("click","a.to_top",_.bind(function(){this.goToLandingPage()},this)),$(window).on("resize",this.triggerResizeHooks),pageflow.nativeScrolling.preventScrollBouncing(e),e.addClass("slideshow"),e.find(".hidden_text_indicator").hiddenTextIndicator({parent:$("body")}),this.on("slideshowchangepage",function(){pageflow.hideText.deactivate()}),e.find(".scroll_indicator").scrollIndicator({parent:this}),this.scrollNavigator=new pageflow.DomOrderScrollNavigator(this,pageflow.entryData),this.preparer=pageflow.AdjacentPreparer.create(function(){return d},this.scrollNavigator).attach(pageflow.events)},pageflow.Slideshow.setup=function(e){function t(e){return _.reduce(e,function(e,t){return e[t.id]=t.configuration,e},{})}return pageflow.slides=new pageflow.Slideshow(e.element,t(e.pages)),pageflow.features.enable("slideshow",e.enabledFeatureNames||[]),pageflow.atmo=pageflow.Atmo.create(pageflow.slides,pageflow.events,pageflow.audio),pageflow.history=pageflow.History.create(pageflow.slides,{simulate:e.simulateHistory}),e.beforeFirstUpdate&&e.beforeFirstUpdate(),pageflow.slides.update({landingPagePermaId:pageflow.history.getLandingPagePermaId()}),pageflow.history.start(),pageflow.slides},pageflow.ready=new $.Deferred(function(e){window.onload=function(){pageflow.browser.detectFeatures().then(function(){var t=$("[data-role=slideshow]"),n=$("body");n.one("pagepreloaded",function(){e.resolve()}),pageflow.Visited.setup(),t.each(function(){pageflow.events.trigger("seed:loaded"),pageflow.entryData=new pageflow.SeedEntryData(pageflow.seed),pageflow.Audio.setup({audioFiles:pageflow.audioFiles}),pageflow.Slideshow.setup({element:$(this),pages:pageflow.pages,enabledFeatureNames:pageflow.enabledFeatureNames,beforeFirstUpdate:function(){$(".header").header({slideshow:pageflow.slides}),$(".overview").overview(),$(".multimedia_alert").multimediaAlert(),pageflow.widgetTypes.enhance(n),pageflow.phoneLandscapeFullscreen()}})}),pageflow.links.setup(),pageflow.FocusOutline.setup(n),pageflow.nativeScrolling.preventScrollingOnEmbed(t)})}}).promise(),jQuery(function(e){e("body").on("click","a.navigation_main",function(){pageflow.events.trigger("button:header")}),e("body").on("click","a.navigation_index",function(){pageflow.events.trigger("button:overview")}),e("body").on("click","a.navigation_fullscreen",function(){pageflow.events.trigger("button:fullscreen")}),e("body").on("click",".mute a",function(){pageflow.events.trigger("button:mute")}),e("body").on("click","a.share.facebook",function(){pageflow.events.trigger("share:facebook")}),e("body").on("click","a.share.twitter",function(){pageflow.events.trigger("share:twitter")}),e("body").on("click","a.share.google",function(){pageflow.events.trigger("share:google")}),e("body").on("pageactivate",function(e,t){pageflow.events.trigger("page:change",t.page)})}),jQuery.widget("pageflow.fullscreenButton",{_create:function(){pageflow.fullscreen.on("change",this.update,this),this.update(),this.element.click(function(){pageflow.fullscreen.toggle()}),pageflow.fullscreen.isSupported()||this.element.css("visibility","hidden")},_destroy:function(){pageflow.fullscreen.off("change",this.update)},update:function(){this.element.toggleClass("active",!!pageflow.fullscreen.isActive()).updateTitle()}}),jQuery(function(e){e.widget("pageflow.header",{_create:function(){function t(e){r.element.toggleClass("invert",e.hasClass("invert")),r.element.toggleClass("first_page",0===e.index())}var n=this.options.slideshow,r=this;n.on("pageactivate",function(e,r){t(n.currentPage(),r)}),n.on("scrollerneartop",function(t){e(t.target).parents("section").is(n.currentPage())&&r.element.addClass("near_top")}),n.on("scrollernotneartop",function(t){e(t.target).parents("section").is(n.currentPage())&&r.element.removeClass("near_top")}),n.currentPage().length&&t(n.currentPage(),{}),this.element.addClass("near_top"),this.element.find(".header input").placeholder()}})}),function(e){e.widget("pageflow.loadingSpinner",{_create:function(){var e=this.element;pageflow.nativeScrolling.preventScrollBouncing(e),setTimeout(function(){pageflow.ready.then(function(){e.addClass("fade"),setTimeout(function(){e.hide()},1e3)})},1e3)}}),e(function(){e(".loading_spinner").loadingSpinner()})}(jQuery),function(e){e.widget("pageflow.multimediaAlert",{_create:function(){function t(){i.element.show(),r(!1)}function n(){i.element.hide(),r(!0)}function r(t){e(".page .content").toggleClass("initially_hidden",!t),e(".slideshow .scroll_indicator").toggleClass("initially_hidden",!t)}var i=this;pageflow.manualStart.required().then(function(e){t(),i.element.find(".close").one("click",function(){return n(),pageflow.events.trigger("button:close_multimedia_alert"),e(),!1})}),pageflow.events.on("request:multimedia_alert",function(){t(),i.element.find(".close").one("click",function(){n()})},this),pageflow.nativeScrolling.preventScrollBouncing(this.element)}})}(jQuery),jQuery.widget("pageflow.muteButton",{_create:function(){function e(){pageflow.settings.get("volume")>0?(n=pageflow.settings.get("volume"),pageflow.settings.set("volume",0)):pageflow.settings.set("volume",n)}var t=this.element,n=1;t.on("click",e),pageflow.settings.on("change:volume",this.update,this),this.update()},_destroy:function(){pageflow.settings.off("change:volume",this.update)},update:function(){0===pageflow.settings.get("volume")?this.element.attr("title",this.element.attr("data-muted-title")).addClass("muted"):this.element.attr("title",this.element.attr("data-not-muted-title")).removeClass("muted")}}),function(e){e.widget("pageflow.navigation",{_create:function(){function t(){(c=e(this)).one("mouseup touchend",i)}function n(){f.off("mouseup touchend",i)}function r(){e(a).addClass("hidden").removeClass("visible")}function i(e){c&&c[0]!=e.currentTarget||(r(),pageflow.slides.goToById(this.getAttribute("data-link")),e.preventDefault())}var o=this.element,a=o.find(".navigation_site_detail"),s=function(){};o.addClass("js").append(a),e("a.navigation_top",o).topButton(),e(".navigation_bar_bottom",o).append(e(".navigation_bar_top > li",o).slice(-2)),e(".navigation_volume_box",o).volumeSlider({orientation:"h"}),e(".navigation_mute",o).muteButton(),pageflow.browser.has("mobile platform")&&(e("li.mute",o).hide(),e(".navigation_bar_bottom",o).css("height","224px"),e(".scroller",o).css("bottom","224px"),e(".navigation_scroll_indicator.bottom",o).css("bottom","190px")),e(".navigation_main",o).click(function(){e(this).toggleClass("active").updateTitle(),e(".header").toggleClass("active")}),e('a[href="#header"], a[href="#search"]',"#skipLinks").click(function(){e(".navigation_main",o).addClass("active"),e(".header").addClass("active"),e(this.getAttribute("href")).select()}),e(".navigation_menu .navigation_menu_box a",o).focus(function(){e(this).parents(".navigation_menu").addClass("focused")}).blur(function(){e(this).parents(".navigation_menu").removeClass("focused")});var u=e(".navigation_share_box",o),l=e("> a",u);u.shareMenu({subMenu:e(".sub_share",o),links:l,insertAfter:l.last(),closeOnMouseLeaving:u});var c,f=e(".navigation_thumbnails a",o);f.each(function(n){var o=function(){"ontouchstart"in document.documentElement||e(a[n]).css("top",e(this).offset().top).addClass("visible").removeClass("hidden")};e(this).on({mouseenter:o,mouseleave:r,"mousedown touchstart":t,click:i})}),e(window).on("resize",function(){e(a).css("top","0"),d()});var d=function(){setTimeout(function(){e(".navigation_scroll_indicator",o).show(),s()},500)};e(".scroller",o).each(function(){var t,r,i=e(".navigation_scroll_indicator.bottom",o),u=e(".navigation_scroll_indicator.top",o),l=function(){a.addClass("hidden").removeClass("visible")},c=function(e){return"up"===e?p.y>=0:p.y<=p.maxScrollY};s=function(){c("down")&&(clearInterval(r),i.removeClass("pressed")),c("up")&&(clearInterval(t),u.removeClass("pressed")),u.toggleClass("visible",!c("up")),i.toggleClass("visible",!c("down"))};var f=function(t){var n=this,r=function(){e(n).hasClass("bottom")?p.scrollBy(0,-20,80):p.scrollBy(0,20,80),s()};13==t.which?(r(),setTimeout(function(){n.focus()},50)):0===t.which&&r()},d={mouseWheel:!0,bounce:!1,probeType:2};window.navigator.msPointerEnabled&&(d.preventDefault=!1);var p=new IScroll(this,d);e("ul.navigation_thumbnails",o).pageNavigationList({scroller:p,scrollToActive:!0,animationDuration:500,onAnimationStart:function(){o.addClass("is_animating")},onAnimationEnd:function(){o.removeClass("is_animating")},onFilterChange:function(){s()}}),pageflow.ready.then(function(){s()}),u.on({mousedown:function(){t=setInterval(function(){p.scrollBy(0,1),s()},5)},keypress:f,touchstart:f}),u.on("mouseup touchend",function(){clearInterval(t)}),i.on({mousedown:function(){r=setInterval(function(){p.scrollBy(0,-1),s()},5)},keypress:f,touchstart:f}),i.on("mouseup touchend",function(){clearInterval(r)}),s(),p.on("scroll",function(){s(),l(),n()})});var p=e(".navigation_hide_text",o);p.click(function(){pageflow.hideText.toggle()}),pageflow.hideText.on("activate deactivate",function(){p.toggleClass("active",pageflow.hideText.isActive()).updateTitle()}),e(".navigation_bar_bottom .fullscreen a",o).fullscreenButton(),e(".button, .navigation_mute, .navigation_scroll_indicator",o).on({"touchstart mousedown":function(){e(this).addClass("pressed")},"touchend mouseup":function(){e(this).removeClass("pressed")}}),e(".navigation_share, .navigation_credits",o).on({touchstart:function(){function t(r){n.find(r.target).length||(n.removeClass("open"),e("body").off("touchstart",t))}var n=e(this).parent().parent();n.addClass("open"),e("body").on("touchstart",t)}}),e("li",o).on("mouseleave",function(){e(this).blur()}),e("body").on({pageactivate:function(){s()}})}})}(jQuery),function(e){e.widget("pageflow.navigationMobile",{_create:function(){var t,n=this,r=this.element;pageflow.nativeScrolling.preventScrollBouncing(r),e("body").on("touchstart mousedown MSPointerDown pointerdown",function(t){r.hasClass("active")&&!e(t.target).parents().filter(r).length&&r.removeClass("active imprint sharing")}),e(".menu.index",r).click(function(){e(r).hasClass("sharing")||e(r).hasClass("imprint")||e(r).toggleClass("active"),e(r).removeClass("imprint sharing")}),e(".menu.sharing",r).click(function(){e(r).addClass("sharing"),e(r).removeClass("imprint")}),e(".menu.imprint",r).click(function(){e(r).addClass("imprint"),e(r).removeClass("sharing")}),e(".imprint_mobile a",r).on("click touchstart",function(e){e.stopPropagation()}),e(".parent_page",r).parentPageButton({visibleClass:"is_visible"}),e(".wrapper",r).each(function(){var i=e(this).parents(".sharing_mobile");t=new IScroll(this,{preventDefault:!1,mouseWheel:!0,bounce:!1,probeType:3}),e("ul.pages",r).pageNavigationList({scroller:t,animationDuration:500}),t.on("scroll",function(){e(".overview_mobile li",r).removeClass("touched").off("touchend mouseup MSPointerUp pointerup",n._goToPage),e(".sub_share a",i).off("touchend mouseup MSPointerUp pointerup",n._openLink)}),e(".menu",r).click(function(){t.refresh()}),e(r).data("touchBound")||(e("li",r).on({"touchstart mousedown MSPointerDown pointerdown":function(){e(this).addClass("touched")},"touchend mouseup MSPointerUp pointerup":function(){e(this).removeClass("touched")}}),e(".overview_mobile li",r).on({"touchstart mousedown MSPointerDown pointerdown":function(){e(this).one("touchend mouseup MSPointerUp pointerup",n._goToPage)}}),e(r).data("touchBound",!0)),e(".sub_share a",i).on({"touchstart mousedown MSPointerDown pointerdown":function(){e(this).one("touchend mouseup MSPointerUp pointerup",n._openLink)}}),i.shareMenu({subMenu:e(".sub_share",r),links:e("li > a",i),scroller:t})})},_goToPage:function(){var t=e("a",this).attr("data-link");t!==undefined&&(pageflow.slides.goToById(t),e(".navigation_mobile").removeClass("active"))},_openLink:function(e){e.preventDefault(),window.open(this.href,"_blank")}})}(jQuery),jQuery(function(e){e.widget("pageflow.overview",{_create:function(){function t(e){return"ltr"==window.getComputedStyle(e[0]).direction}var n,r=this,i=e(".ov_chapter",this.element),o=e(".ov_page",this.element),a=i.size()*i.outerWidth(!0),s=e(".close",this.element),u=e(".navigation_index"),l=e(".overview"),c=e(".wrapper",this.element),f=function(t){var n=e(".slideshow .scroll_indicator");l.toggleClass("active",t),u.toggleClass("active",t).updateTitle(),e("section.page").toggleClass("hidden_by_overlay",t),n.toggleClass("hidden",t),l.hasClass("active")?pageflow.events.once("page:change",function(){f(!1)},r):pageflow.events.off("page:change",null,r)},d=function(){e(this).hasClass("active")||pageflow.slides.goToById(this.getAttribute("data-link"))};if(e(".scroller",this.element).width(a),c.find(".ov_chapter").length&&((n=new IScroll(c[0],{snap:".ov_chapter",bounce:!1,scrollX:!0,scrollY:!1,probeType:2,mouseWheel:!0,preventDefault:!1})).on("scroll",function(){o.removeClass("touched").off("touchend mouseup",d)}),c.pageNavigationList({scroller:n,scrollToActive:".ov_chapter"}),this.element.find(".overview_scroll_indicator.left").scrollButton({scroller:n,page:!0,direction:"left"}),this.element.find(".overview_scroll_indicator.right").scrollButton({scroller:n,page:!0,direction:"right"})),o.each(function(){e(this).on({"touchstart mousedown":function(){e(this).addClass("touched"),e(this).one("touchend mouseup",d)},"touchend mouseup":function(){e(this).removeClass("touched")},click:function(e){e.preventDefault()}})}),a<c.width()){var p=Math.max(400,a-s.width()-10);t(s)?s.css({left:p+"px",right:"auto"}):s.css({right:p+"px",left:"auto"})}s.click(f),u.click(f),e("body").keyup(function(e){27==e.which&&l.hasClass("active")&&f()})}})}),pageflow.PageNavigationListAnimation=pageflow.Object.extend({initialize:function(e){this.entry=e},update:function(e){var t=this.entry.getPagePosition(e),n=this.entry.getStorylineIdByPagePermaId(e),r=this.entry.getStorylineLevel(n);this.enabled=this.lastStorylineId&&this.lastStorylineId!==n,this.movingUp=this.lastStorylineLevel>r,this.movingDown=this.lastStorylineLevel<r,this.movingForwards=this.lastStorylineLevel===r&&this.lastPagePosition<t,this.movingBackwards=this.lastStorylineLevel===r&&this.lastPagePosition>t,this.lastPagePosition=t,this.lastStorylineId=n,this.lastStorylineLevel=r},start:function(e,t){this.enabled&&(e.toggleClass("moving_up",this.movingUp),e.toggleClass("moving_down",this.movingDown),e.toggleClass("moving_forwards",this.movingForwards),e.toggleClass("moving_backwards",this.movingBackwards),e.toggleClass("animate_out",!t))},finish:function(e,t){this.enabled&&e.toggleClass("animate_in",!!t)}}),pageflow.PageNavigationListAnimation.create=function(){return new pageflow.PageNavigationListAnimation(pageflow.entryData)},function(e){e.widget("pageflow.pageNavigationList",{_create:function(){function t(t){return parseInt(e(t).attr("id")||e(t).attr("data-perma-id"),10)}function n(e){var t=g.getPagePermaId(e),n=pageflow.entryData.getChapterIdByPagePermaId(t);c.toggleClass("inside_sub_chapter",t!==e),s(e).then(function(){r(t,{animate:!v.enabled}),i(n),f.onFilterChange&&f.onFilterChange()})}function r(t,n){p.each(function(){var r=e(this),i="#"+t===r.attr("href");if(r.toggleClass("active",i),r.attr("tabindex",i?"-1":"3"),i&&f.scrollToActive){var o=!0===f.scrollToActive?r:r.parents(f.scrollToActive);d.scrollToElement(o[0],n.animate?800:0)}})}function i(t){p.each(function(){var n=e(this),r=t===n.data("chapterId")
;n.toggleClass("in_active_chapter",r)})}function o(t){p.each(function(){var n=e(this),r=t.indexOf(parseInt(n.attr("href").substr(1),10))>=0;n.toggleClass("unvisited",r)})}function a(e){c.find('[href="#'+e+'"]').removeClass("unvisited")}function s(t){return v.update(t),p.each(function(){var n=e(this);v.start(n.parent(),u(t,n))}),e.when(v.enabled&&l()).then(function(){p.each(function(){var n=e(this);v.finish(n.parent(),u(t,n)),n.parent().andSelf().toggleClass("filtered",!u(t,n))}),d.refresh()})}function u(e,t){return h.chapterVisibleFromPage(e,t.data("chapterId"))}function l(){if(f.animationDuration)return f.onAnimationStart&&f.onAnimationStart(),e.Deferred(function(e){setTimeout(function(){e.resolve(),f.onAnimationEnd&&setTimeout(f.onAnimationEnd,500)},500)}).promise()}var c=this.element,f=this.options,d=f.scroller,p=c.find("a[href]"),h=pageflow.ChapterFilter.create(),g=pageflow.HighlightedPage.create(f.highlightedPage),v=pageflow.PageNavigationListAnimation.create();pageflow.ready.then(function(){o(pageflow.visited.getUnvisitedPages()),n(t(pageflow.slides.currentPage()))}),pageflow.slides.on("pageactivate",function(e){a(e.target.getAttribute("id")),n(t(e.target))})}})}(jQuery),jQuery.widget("pageflow.parentPageButton",{_create:function(){function e(){var e=parseInt(pageflow.slides.currentPage().attr("id"),10),r=pageflow.entryData.getChapterIdByPagePermaId(e),i=pageflow.entryData.getChapterConfiguration(r),o=pageflow.slides.parentPageExists()&&!1!==i.display_parent_page_button;n.visibleClass?t.toggleClass(n.visibleClass,o):t.toggle(o)}var t=this.element,n=this.options;t.click(function(e){pageflow.slides.goToParentPage(),e.preventDefault()}),pageflow.slides.on("pageactivate",function(){e()}),e()}}),jQuery.widget("pageflow.playerControls",{_create:function(){function e(){t.playing?t.pause():t.play()}var t=this.options.player,n=this.element.find(".vjs-play-control"),r=this.element.find(".vjs-progress-holder"),i=this.element.find(".vjs-play-progress"),o=this.element.find(".vjs-current-time-display"),a=this.element.find(".vjs-duration-display"),s=this.element.find(".vjs-slider-handle");5===a.html().length&&"0"===a.html().charAt(0)?(a.html("0:00"),o.html(o.html().substr(1))):a.html("00:00"),t.on("timeupdate",function(e,n){var u=n>0?t.position/t.duration*100:0;isNaN(e)||(t.duration<600?($(o).html(t.formatTime(e).substr(1)),$(a).html(t.formatTime(n).substr(1))):($(o).html(t.formatTime(e)),$(a).html(t.formatTime(n))));var l=(r.width()-s.width())*u/100;s.css({left:l+"px"}),i.css({width:u+"%"})}),t.on("play",function(){$(n).removeClass("vjs-play"),$(n).addClass("vjs-pause vjs-playing")}),t.on("pause",function(){$(n).removeClass("vjs-pause vjs-playing"),$(n).addClass("vjs-play")}),t.on("ended",function(){$(n).removeClass("vjs-pause vjs-playing"),$(n).addClass("vjs-play")}),n.on({"mousedown touchstart":function(){$(this).addClass("pressed")},"mouseup touchend":function(){$(this).removeClass("pressed")},click:function(){e()},keypress:function(t){if(13==t.which){var n=this;e(),setTimeout(function(){$(n).focus()},20)}}}),$(r).on("mousedown touchstart",function(e){function n(e){t.seek(o(e))}function i(){$("body").off({"mousemove touchmove":n,"mouseup touchend":i})}function o(e){var n=(a(e)-$(r).offset().left)/$(r).width();return Math.min(Math.max(n,0),1)*t.duration}function a(e){return e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX}t.seek(o(e)),$("body").on({"mousemove touchmove":n,"mouseup touchend":i})})}}),function(e){var t=32;e.widget("pageflow.scrollButton",{_create:function(){function e(){i.toggle(!r())}function n(){"top"===a||"left"===a?o.prev():"down"!==a&&"right"!==a||o.next()}function r(){return"top"===a?o.y>=0:"left"===a?o.x>=0:"down"===a?o.y<=o.maxScrollY:o.x<=o.maxScrollX}var i=this.element,o=this.options.scroller,a=this.options.direction;o.on("scrollEnd",function(){e()}),this.element.on("click",function(){}),this.options.page&&i.on({click:function(){return n(),i.blur(),!1},keypress:function(e){e.which==t&&n()},touchstart:function(){n()}}),e()}})}(jQuery),function(e){e.widget("pageflow.shareMenu",{_create:function(){var t=this.element,n=this.options,r=n.links||e("a",t),i=n.subMenu||e(t.find(".sub_share")),o=e("a",i),a=n.closeOnMouseLeaving,s=n.scroller;r.on("click",function(t){var a=e(this),u=a.find("a").length?a.find("a"):a,l=u.hasClass("active");if(u.data("share-page")){r.removeClass("active"),u.addClass("active"),t.preventDefault();var c=pageflow.slides.currentPage(),f=c.attr("id")||c.data("perma-id"),d=u.data("share-page").replace(/permaId$/,f),p=n.insertAfter||u;e(o[0]).attr("href",u.attr("href")),e(o[1]).attr("href",d),p.next().hasClass("sub_share")||p.after(i),l?(i.toggle(),u.toggleClass("active")):(i.show(),r.find(".button").removeClass("pressed"),e(this).find(".button").addClass("pressed")),s&&s.refresh()}}),a&&a.on("mouseleave",function(){r.removeClass("active"),e(this).find(".button").removeClass("pressed"),i.hide()})}})}(jQuery),jQuery.widget("pageflow.skipPageButton",{_create:function(){this.element.on("click",function(){pageflow.slides.next()}),pageflow.events.on("page:change page:update",this.update,this),this.update()},_destroy:function(){pageflow.events.off(null,this.update)},update:function(){pageflow.slides&&this.element.toggleClass("enabled",!!pageflow.slides.nextPageExists())}}),jQuery.widget("pageflow.topButton",{_create:function(){function e(){var e=pageflow.slides.isOnLandingPage();t.toggleClass("deactivated",e),t.attr("tabindex",e?"-1":"2")}var t=this.element;t.click(function(e){pageflow.slides.goToLandingPage(),e.preventDefault()}),pageflow.slides.on("pageactivate",function(){e()}),e(pageflow.slides.currentPage())}}),function(e){e.widget("pageflow.volumeSlider",{_create:function(){var t=this.element,n=this.options.orientation,r=e(".volume-slider",t);t.on("mousedown",function(i){function o(e){var t;t="v"===n?1-(e.pageY-r.offset().top)/r.height():(e.pageX-r.offset().left)/r.width(),pageflow.settings.set("volume",Math.min(1,Math.max(0,t)))}var a=e("body");a.on("mousemove.volumeSlider",o),t.addClass("lock_showing"),a.on("mouseup.volumeSlider",function(){a.off("mousemove.volumeSlider mouseup.volumeSlider"),t.removeClass("lock_showing")}),o(i)}),pageflow.settings.on("change:volume",this.update,this),this.update()},_destroy:function(){pageflow.settings.off("change:volume",this.update)},update:function(){var t=pageflow.settings.get("volume");"v"===this.options.orientation?(e(".volume-level",this.element).css({height:100*t+"%"}),e(".volume-handle",this.element).css({bottom:100*t+"%",top:"initial"})):(e(".volume-level",this.element).css({width:100*t+"%"}),e(".volume-handle",this.element).css({left:100*t+"%"})),this.element.toggleClass("volume-high",t>2/3),this.element.toggleClass("volume-medium",t>=1/3&&t<=2/3),this.element.toggleClass("volume-low",t<1/3&&t>0),this.element.toggleClass("volume-mute",0===t)}})}(jQuery),pageflow="object"==typeof pageflow?pageflow:{},pageflow.react=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),e.exports=n(327)},function(e,t,n){(function(e){"use strict";function t(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}if(n(2),n(323),n(324),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var r="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,function(){return this}())},function(e,t,n){n(3),n(51),n(52),n(53),n(54),n(56),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(69),n(71),n(73),n(75),n(78),n(79),n(80),n(84),n(86),n(88),n(91),n(92),n(93),n(94),n(96),n(97),n(98),n(99),n(100),n(101),n(102),n(104),n(105),n(106),n(108),n(109),n(110),n(112),n(114),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(131),n(132),n(136),n(137),n(138),n(139),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(157),n(158),n(160),n(161),n(167),n(168),n(170),n(171),n(172),n(176),n(177),n(178),n(179),n(180),n(182),n(183),n(184),n(185),n(188),n(190),n(191),n(192),n(194),n(196),n(198),n(199),n(200),n(202),n(203),n(204),n(205),n(215),n(219),n(220),n(222),n(223),n(227),n(228),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(250),n(251),n(252),n(253),n(254),n(256),n(257),n(258),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(270),n(271),n(273),n(274),n(275),n(276),n(279),n(280),n(282),n(283),n(284),n(285),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),e.exports=n(9)},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(6),a=n(8),s=n(18),u=n(22).KEY,l=n(7),c=n(23),f=n(24),d=n(19),p=n(25),h=n(26),g=n(27),v=n(29),m=n(44),y=n(12),_=n(13),b=n(32),T=n(16),w=n(17),E=n(45),S=n(48),P=n(50),C=n(11),I=n(30),x=P.f,A=C.f,O=S.f,k=r.Symbol,M=r.JSON,R=M&&M.stringify,D="prototype",N=p("_hidden"),L=p("toPrimitive"),j={}.propertyIsEnumerable,F=c("symbol-registry"),B=c("symbols"),U=c("op-symbols"),H=Object[D],V="function"==typeof k,z=r.QObject,q=!z||!z[D]||!z[D].findChild,G=o&&l(function(){return 7!=E(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(H,t);r&&delete H[t],A(e,t,n),r&&e!==H&&A(H,t,r)}:A,K=function(e){var t=B[e]=E(k[D]);return t._k=e,t},Y=V&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},W=function(e,t,n){return e===H&&W(U,t,n),y(e),t=T(t,!0),y(n),i(B,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=E(n,{enumerable:w(0,!1)})):(i(e,N)||A(e,N,w(1,{})),e[N][t]=!0),G(e,t,n)):A(e,t,n)},Q=function(e,t){y(e);for(var n,r=v(t=b(t)),i=0,o=r.length;o>i;)W(e,n=r[i++],t[n]);return e},X=function(e,t){return t===undefined?E(e):Q(E(e),t)},$=function(e){var t=j.call(this,e=T(e,!0));return!(this===H&&i(B,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(B,e)||i(this,N)&&this[N][e])||t)},J=function(e,t){if(e=b(e),t=T(t,!0),e!==H||!i(B,t)||i(U,t)){var n=x(e,t);return!n||!i(B,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=O(b(e)),r=[],o=0;n.length>o;)i(B,t=n[o++])||t==N||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=O(n?U:b(e)),o=[],a=0;r.length>a;)!i(B,t=r[a++])||n&&!i(H,t)||o.push(B[t]);return o};V||(s((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:undefined),t=function(n){this===H&&t.call(U,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),G(this,e,w(1,n))};return o&&q&&G(H,e,{configurable:!0,set:t}),K(e)})[D],"toString",function(){return this._k}),P.f=J,C.f=W,n(49).f=S.f=Z,n(43).f=$,n(42).f=ee,o&&!n(28)&&s(H,"propertyIsEnumerable",$,!0),h.f=function(e){return K(p(e))}),a(a.G+a.W+a.F*!V,{Symbol:k});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=I(p.store),ie=0;re.length>ie;)g(re[ie++]);a(a.S+a.F*!V,"Symbol",{"for":function(e){return i(F,e+="")?F[e]:F[e]=k(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!V,"Object",{create:X,defineProperty:W,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),M&&a(a.S+a.F*(!V||l(function(){var e=k();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(_(t)||e!==undefined)&&!Y(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,R.apply(M,r)}}),k[D][L]||n(10)(k[D],L,k[D].valueOf),f(k,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},function(e,t,n){e.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,n){var r=n(4),i=n(9),o=n(10),a=n(18),s=n(20),u="prototype",l=function(e,t,n){var c,f,d,p,h=e&l.F,g=e&l.G,v=e&l.S,m=e&l.P,y=e&l.B,_=g?r:v?r[t]||(r[t]={}):(r[t]||{})[u],b=g?i:i[t]||(i[t]={}),T=b[u]||(b[u]={});for(c in g&&(n=t),n)d=((f=!h&&_&&_[c]!==undefined)?_:n)[c],p=y&&f?s(d,r):m&&"function"==typeof d?s(Function.call,d):d,_&&a(_,c,d,e&l.U),b[c]!=d&&o(b,c,p),m&&T[c]!=d&&(T[c]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e){var t=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=t)},function(e,t,n){var r=n(11),i=n(17);e.exports=n(6)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(12),i=n(14),o=n(16),a=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(6)&&!n(7)(function(){return 7!=Object.defineProperty(n(15)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(13),i=n(4).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(4),i=n(10),o=n(5),a=n(19)("src"),s="toString",u=Function[s],l=(""+u).split(s);n(9).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++t+n).toString(36))}},function(e,t,n){var r=n(21);e.exports=function(e,t,n){if(r(e),t===undefined)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(19)("meta"),i=n(13),o=n(5),a=n(11).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(7)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},d=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},p=function(e){return l&&h.NEED&&u(e)&&!o(e,r)&&c(e),e},h=e.exports={KEY:r,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var r=n(4),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(11).f,i=n(5),o=n(25)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(23)("wks"),i=n(19),o=n(4).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){t.f=n(25)},function(e,t,n){var r=n(4),i=n(9),o=n(28),a=n(26),s=n(11).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e){e.exports=!1},function(e,t,n){var r=n(30),i=n(42),o=n(43);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,l=0;s.length>l;)u.call(e,a=s[l++])&&t.push(a);return t}},function(e,t,n){var r=n(31),i=n(41);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(5),i=n(32),o=n(36)(!1),a=n(40)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,l=[];for(n in s)n!=a&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t,n){var r=n(33),i=n(35);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(32),i=n(37),o=n(39);e.exports=function(e){return function(t,n,a){var s,u=r(t),l=i(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(38),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},function(e,t,n){var r=n(38),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(23)("keys"),i=n(19);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(12),i=n(46),o=n(41),a=n(40)("IE_PROTO"),s=function(){},u="prototype",l=function(){var e,t=n(15)("iframe"),r=o.length,i="<",a=">";for(t.style.display="none",n(47).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(i+"script"+a+"document.F=Object"+i+"/script"+a),e.close(),l=e.F;r--;)delete l[u][o[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=l(),t===undefined?n:i(n,t)}},function(e,t,n){var r=n(11),i=n(12),o=n(30);e.exports=n(6)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(32),i=n(49).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(31),i=n(41).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(43),i=n(17),o=n(32),a=n(16),s=n(5),u=n(14),l=Object.getOwnPropertyDescriptor;t.f=n(6)?l:function(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(n){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(8);r(r.S,"Object",{create:n(45)})},function(e,t,n){var r=n(8);r(r.S+r.F*!n(6),"Object",{defineProperty:n(11).f})},function(e,t,n){var r=n(8);r(r.S+r.F*!n(6),"Object",{defineProperties:n(46)})},function(e,t,n){var r=n(32),i=n(50).f;n(55)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(8),i=n(9),o=n(7);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(57),i=n(58);n(55)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(35);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(5),i=n(57),o=n(40)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(57),i=n(30);n(55)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(55)("getOwnPropertyNames",function(){return n(48).f})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(55)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(55)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(13),i=n(22).onFreeze;n(55)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(13);n(55)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(13);n(55)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(13);n(55)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(8);r(r.S+r.F,"Object",{assign:n(68)})},function(e,t,n){"use strict";var r=n(30),i=n(42),o=n(43),a=n(57),s=n(33),u=Object.assign;e.exports=!u||n(7)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e){for(var t=a(e),n=arguments.length,u=1,l=i.f,c=o.f;n>u;)for(var f,d=s(arguments[u++]),p=l?r(d).concat(l(d)):r(d),h=p.length,g=0;h>g;)c.call(d,f=p[g++])&&(t[f]=d[f]);return t}:u},function(e,t,n){var r=n(8);r(r.S,"Object",{is:n(70)})},function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(8);r(r.S,"Object",{setPrototypeOf:n(72).set})},function(e,t,n){var r=n(13),i=n(12),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(20)(Function.call,n(50).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(i){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):undefined),check:o}},function(e,t,n){"use strict";var r=n(74),i={};i[n(25)("toStringTag")]="z",i+""!="[object z]"&&n(18)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(34),i=n(25)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,s;return e===undefined?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(8);r(r.P,"Function",{bind:n(76)})},function(e,t,n){"use strict";var r=n(21),i=n(13),o=n(77),a=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?u(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e){e.exports=function(e,t,n){var r=n===undefined;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(11).f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n(6)&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(13),i=n(58),o=n(25)("hasInstance"),a=Function.prototype;o in a||n(11).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(8),i=n(81);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(4).parseInt,i=n(82).trim,o=n(83),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(8),i=n(35),o=n(7),a=n(83),s="["+a+"]",u="\u200b\x85",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(e,t,n){var i={},s=o(function(){return!!a[e]()||u[e]()!=u}),l=i[e]=s?t(d):a[e];n&&(i[n]=l),r(r.P+r.F*s,"String",i)},d=f.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e){e.exports="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(e,t,n){var r=n(8),i=n(85);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){var r=n(4).parseFloat,i=n(82).trim;e.exports=1/r(n(83)+"-0")!=-Infinity?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(34),a=n(87),s=n(16),u=n(7),l=n(49).f,c=n(50).f,f=n(11).f,d=n(82).trim,p="Number",h=r[p],g=h,v=h.prototype,m=o(n(45)(v))==p,y="trim"in String.prototype,_=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),l=0,c=u.length;l<c;l++)if((a=u.charCodeAt(l))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(m?u(function(){v.valueOf.call(n)}):o(n)!=p)?a(new g(_(t)),n,h):_(t)};for(var b,T=n(6)?l(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;T.length>w;w++)i(g,b=T[w])&&!i(h,b)&&f(h,b,c(g,b));h.prototype=v,v.constructor=h,n(18)(r,p,h)}},function(e,t,n){var r=n(13),i=n(72).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(8),i=n(38),o=n(89),a=n(90),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f="0",d=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=u(r/1e7)},p=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=u(n/e),n=n%e*1e7},h=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+a.call(f,7-n.length)+n}return t},g=function(e,t,n){return 0===t?n:t%2==1?g(e,t-1,n*e):g(e*e,t/2,n)},v=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(7)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,c),l=i(e),m="",y=f;if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(n=(t=v(u*g(2,69,1))-69)<0?u*g(2,-t,1):u/g(2,t,1),n*=4503599627370496,(t=52-t)>0){for(d(0,n),r=l;r>=7;)d(1e7,0),r-=7;for(d(g(10,r,1),0),r=t-1;r>=23;)p(1<<23),r-=23;p(1<<r),d(1,1),p(2),y=h()}else d(0,n),d(1<<-t,0),y=h()+a.call(f,l);return y=l>0?m+((s=y.length)<=l?"0."+a.call(f,l-s)+y:y.slice(0,s-l)+"."+y.slice(s-l)):m+y}})},function(e,t,n){var r=n(34);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){"use strict";var r=n(38),i=n(35);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==Infinity)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(8),i=n(7),o=n(89),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,undefined)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return e===undefined?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(8);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(8),i=n(4).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(8);r(r.S,"Number",{isInteger:n(95)})},function(e,t,n){var r=n(13),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(8);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(8),i=n(95),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(8);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(8);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(8),i=n(85);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(8),i=n(81);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(8),i=n(103),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(Infinity)==Infinity),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){function r(e){return isFinite(e=+e)&&0!=e?e<0?-r(-e):Math.log(e+Math.sqrt(e*e+1)):e}var i=n(8),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:r})},function(e,t,n){var r=n(8),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(8),i=n(107);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){var r=n(8);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(8),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(8),i=n(111);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e){var t=Math.expm1;e.exports=!t||t(10)>22025.465794806718||t(10)<22025.465794806718||-2e-17!=t(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:t},function(e,t,n){var r=n(8);r(r.S,"Math",{fround:n(113)})},function(e,t,n){var r=n(107),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126),l=function(e){return e+1/o-1/o};e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*l(i/u/a)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*Infinity:c*n}},function(e,t,n){var r=n(8),i=Math.abs;r(r.S,"Math",{hypot:function(){for(var e,t,n=0,r=0,o=arguments.length,a=0;r<o;)a<(e=i(arguments[r++]))?(n=n*(t=a/e)*t+1,a=e):n+=e>0?(t=e/a)*t:e;return a===Infinity?Infinity:a*Math.sqrt(n)}})},function(e,t,n){var r=n(8),i=Math.imul;r(r.S+r.F*n(7)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=65535,r=+e,i=+t,o=n&r,a=n&i;return 0|o*a+((n&r>>>16)*a+o*(n&i>>>16)<<16>>>0)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(8);r(r.S,"Math",{log1p:n(103)})},function(e,t,n){var r=n(8);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(8);r(r.S,"Math",{sign:n(107)})},function(e,t,n){var r=n(8),i=n(111),o=Math.exp;r(r.S+r.F*n(7)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(8),i=n(111),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==Infinity?1:n==Infinity?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(8);r(r.S,"Math",{
trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(8),i=n(39),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(){for(var e,t=[],n=arguments.length,r=0;n>r;){if(e=+arguments[r++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");t.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return t.join("")}})},function(e,t,n){var r=n(8),i=n(32),o=n(37);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(82)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(127)(!0);n(128)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:undefined,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(38),i=n(35);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":undefined:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(28),i=n(8),o=n(18),a=n(10),s=n(5),u=n(129),l=n(130),c=n(24),f=n(58),d=n(25)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",g="keys",v="values",m=function(){return this};e.exports=function(e,t,n,y,_,b,T){l(n,t,y);var w,E,S,P=function(e){if(!p&&e in A)return A[e];switch(e){case g:case v:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",I=_==v,x=!1,A=e.prototype,O=A[d]||A[h]||_&&A[_],k=!p&&O||P(_),M=_?I?P("entries"):k:undefined,R="Array"==t&&A.entries||O;if(R&&(S=f(R.call(new e)))!==Object.prototype&&S.next&&(c(S,C,!0),r||s(S,d)||a(S,d,m)),I&&O&&O.name!==v&&(x=!0,k=function(){return O.call(this)}),r&&!T||!p&&!x&&A[d]||a(A,d,k),u[t]=k,u[C]=m,_)if(w={values:I?k:P(v),keys:b?k:P(g),entries:M},T)for(E in w)E in A||o(A,E,w[E]);else i(i.P+i.F*(p||x),t,w);return w}},function(e){e.exports={}},function(e,t,n){"use strict";var r=n(45),i=n(17),o=n(24),a={};n(10)(a,n(25)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(8),i=n(127)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(8),i=n(37),o=n(133),a="endsWith",s=""[a];r(r.P+r.F*n(135)(a),"String",{endsWith:function(e){var t=o(this,e,a),n=arguments.length>1?arguments[1]:undefined,r=i(t.length),u=n===undefined?r:Math.min(i(n),r),l=String(e);return s?s.call(t,l,u):t.slice(u-l.length,u)===l}})},function(e,t,n){var r=n(134),i=n(35);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(13),i=n(34),o=n(25)("match");e.exports=function(e){var t;return r(e)&&((t=e[o])!==undefined?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(25)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(i){}}return!0}},function(e,t,n){"use strict";var r=n(8),i=n(133),o="includes";r(r.P+r.F*n(135)(o),"String",{includes:function(e){return!!~i(this,e,o).indexOf(e,arguments.length>1?arguments[1]:undefined)}})},function(e,t,n){var r=n(8);r(r.P,"String",{repeat:n(90)})},function(e,t,n){"use strict";var r=n(8),i=n(37),o=n(133),a="startsWith",s=""[a];r(r.P+r.F*n(135)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:undefined,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(140)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){var r=n(8),i=n(7),o=n(35),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){"use strict";n(140)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(140)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(140)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(140)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(140)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(140)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(140)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(140)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(140)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(140)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(140)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(140)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(8);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(16);r(r.P+r.F*n(7)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var e=i(this),t=o(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},function(e,t,n){var r=n(8),i=n(156);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(7),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:o},function(e,t,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],s=r.getTime;new Date(NaN)+""!=i&&n(18)(r,o,function(){var e=s.call(this);return e==e?a.call(this):i})},function(e,t,n){var r=n(25)("toPrimitive"),i=Date.prototype;r in i||n(10)(i,r,n(159))},function(e,t,n){"use strict";var r=n(12),i=n(16),o="number";e.exports=function(e){if("string"!==e&&e!==o&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),e!=o)}},function(e,t,n){var r=n(8);r(r.S,"Array",{isArray:n(44)})},function(e,t,n){"use strict";var r=n(20),i=n(8),o=n(57),a=n(162),s=n(163),u=n(37),l=n(164),c=n(165);i(i.S+i.F*!n(166)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,g=h>1?arguments[1]:undefined,v=g!==undefined,m=0,y=c(d);if(v&&(g=r(g,h>2?arguments[2]:undefined,2)),y==undefined||p==Array&&s(y))for(n=new p(t=u(d.length));t>m;m++)l(n,m,v?g(d[m],m):d[m]);else for(f=y.call(d),n=new p;!(i=f.next()).done;m++)l(n,m,v?a(f,g,[i.value,m],!0):i.value);return n.length=m,n}})},function(e,t,n){var r=n(12);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(a){var o=e["return"];throw o!==undefined&&r(o.call(e)),a}}},function(e,t,n){var r=n(129),i=n(25)("iterator"),o=Array.prototype;e.exports=function(e){return e!==undefined&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(11),i=n(17);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(74),i=n(25)("iterator"),o=n(129);e.exports=n(9).getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(25)("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},e(o)}catch(a){}return n}},function(e,t,n){"use strict";var r=n(8),i=n(164);r(r.S+r.F*n(7)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(8),i=n(32),o=[].join;r(r.P+r.F*(n(33)!=Object||!n(169)(o)),"Array",{join:function(e){return o.call(i(this),e===undefined?",":e)}})},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){"use strict";var r=n(8),i=n(47),o=n(34),a=n(39),s=n(37),u=[].slice;r(r.P+r.F*n(7)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=t===undefined?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),l=a(t,n),c=s(l-i),f=new Array(c),d=0;d<c;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(8),i=n(21),o=n(57),a=n(7),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(undefined)})||!a(function(){u.sort(null)})||!n(169)(s)),"Array",{sort:function(e){return e===undefined?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(8),i=n(173)(0),o=n(169)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(20),i=n(33),o=n(57),a=n(37),s=n(174);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var g,v,m=o(t),y=i(m),_=r(s,h,3),b=a(y.length),T=0,w=n?p(t,b):u?p(t,0):undefined;b>T;T++)if((d||T in y)&&(v=_(g=y[T],T,m),e))if(n)w[T]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:w.push(g)}else if(c)return!1;return f?-1:l||c?c:w}}},function(e,t,n){var r=n(175);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(13),i=n(44),o=n(25)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=undefined),r(t)&&null===(t=t[o])&&(t=undefined)),t===undefined?Array:t}},function(e,t,n){"use strict";var r=n(8),i=n(173)(1);r(r.P+r.F*!n(169)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(173)(2);r(r.P+r.F*!n(169)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(173)(3);r(r.P+r.F*!n(169)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(173)(4);r(r.P+r.F*!n(169)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(181);r(r.P+r.F*!n(169)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var r=n(21),i=n(57),o=n(33),a=n(37);e.exports=function(e,t,n,s,u){r(t);var l=i(e),c=o(l),f=a(l.length),d=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=p;break}if(d+=p,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=p)d in c&&(s=t(s,c[d],d,l));return s}},function(e,t,n){"use strict";var r=n(8),i=n(181);r(r.P+r.F*!n(169)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(8),i=n(36)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(169)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(8),i=n(32),o=n(38),a=n(37),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(169)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(8);r(r.P,"Array",{copyWithin:n(186)}),n(187)("copyWithin")},function(e,t,n){"use strict";var r=n(57),i=n(39),o=n(37);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),l=arguments.length>2?arguments[2]:undefined,c=Math.min((l===undefined?a:i(l,a))-u,a-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t,n){var r=n(25)("unscopables"),i=Array.prototype;i[r]==undefined&&n(10)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(8);r(r.P,"Array",{fill:n(189)}),n(187)("fill")},function(e,t,n){"use strict";var r=n(57),i=n(39),o=n(37);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:undefined,n),u=a>2?arguments[2]:undefined,l=u===undefined?n:i(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(8),i=n(173)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined)}}),n(187)(o)},function(e,t,n){"use strict";var r=n(8),i=n(173)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined)}}),n(187)(o)},function(e,t,n){n(193)("Array")},function(e,t,n){"use strict";var r=n(4),i=n(11),o=n(6),a=n(25)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(187),i=n(195),o=n(129),a=n(32);e.exports=n(128)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(4),i=n(87),o=n(11).f,a=n(49).f,s=n(134),u=n(197),l=r.RegExp,c=l,f=l.prototype,d=/a/g,p=/a/g,h=new l(d)!==d;if(n(6)&&(!h||n(7)(function(){return p[n(25)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")}))){l=function(e,t){var n=this instanceof l,r=s(e),o=t===undefined;return!n&&r&&e.constructor===l&&o?e:i(h?new c(r&&!o?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&o?u.call(e):t),n?this:f,l)};for(var g=function(e){e in l||o(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},v=a(c),m=0;v.length>m;)g(v[m++]);f.constructor=l,l.prototype=f,n(18)(r,"RegExp",l)}n(193)("RegExp")},function(e,t,n){"use strict";var r=n(12);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";n(199);var r=n(12),i=n(197),o=n(6),a="toString",s=/./[a],u=function(e){n(18)(RegExp.prototype,a,e,!0)};n(7)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):undefined)}):s.name!=a&&u(function(){return s.call(this)})},function(e,t,n){n(6)&&"g"!=/./g.flags&&n(11).f(RegExp.prototype,"flags",{configurable:!0,get:n(197)})},function(e,t,n){n(201)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=n==undefined?undefined:n[t];return i!==undefined?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){"use strict";var r=n(10),i=n(18),o=n(7),a=n(35),s=n(25);e.exports=function(e,t,n){var u=s(e),l=n(a,u,""[e]),c=l[0],f=l[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,c),r(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){n(201)("replace",2,function(e,t,n){return[function(r,i){"use strict";var o=e(this),a=r==undefined?undefined:r[t];return a!==undefined?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){n(201)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=n==undefined?undefined:n[t];return i!==undefined?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(201)("split",2,function(e,t,r){"use strict";var i=n(134),o=r,a=[].push,s="split",u="length",l="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var c=/()??/.exec("")[1]===undefined;r=function(e,t){var n=String(this);if(e===undefined&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,s,f,d,p,h=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,m=t===undefined?4294967295:t>>>0,y=new RegExp(e.source,g+"g");for(c||(r=new RegExp("^"+y.source+"$(?!\\s)",g));(s=y.exec(n))&&!((f=s.index+s[0][u])>v&&(h.push(n.slice(v,s.index)),!c&&s[u]>1&&s[0].replace(r,function(){for(p=1;p<arguments[u]-2;p++)arguments[p]===undefined&&(s[p]=undefined)}),s[u]>1&&s.index<n[u]&&a.apply(h,s.slice(1)),d=s[0][u],v=f,h[u]>=m));)y[l]===s.index&&y[l]++;return v===n[u]?!d&&y.test("")||h.push(""):h.push(n.slice(v)),h[u]>m?h.slice(0,m):h}}else"0"[s](undefined,0)[u]&&(r=function(e,t){return e===undefined&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=n==undefined?undefined:n[t];return a!==undefined?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){"use strict";var r,i,o,a,s=n(28),u=n(4),l=n(20),c=n(74),f=n(8),d=n(13),p=n(21),h=n(206),g=n(207),v=n(208),m=n(209).set,y=n(210)(),_=n(211),b=n(212),T=n(213),w="Promise",E=u.TypeError,S=u.process,P=u[w],C="process"==c(S),I=function(){},x=i=_.f,A=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(25)("species")]=function(e){e(I,I)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t}catch(r){}}(),O=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},k=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&D(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&l.exit()),n===t.promise?u(E("Promise-chain cycle")):(o=O(n))?o.call(n,s,u):s(n)):u(r)}catch(c){u(c)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){m.call(u,function(){var t,n,r,i=e._v,o=R(e);if(o&&(t=b(function(){C?S.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=C||R(e)?2:1),e._a=undefined,o&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){m.call(u,function(){var t;C?S.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),k(t,!0))},L=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw E("Promise can't be resolved itself");(t=O(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,l(L,r,1),l(N,r,1))}catch(i){N.call(r,i)}}):(n._v=e,n._s=1,k(n,!1))}catch(r){N.call({_w:n,_d:!1},r)}}};A||(P=function(e){h(this,P,w,"_h"),p(e),r.call(this);try{e(l(L,this,1),l(N,this,1))}catch(t){N.call(this,t)}},(r=function(){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=n(214)(P.prototype,{then:function(e,t){var n=x(v(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=C?S.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&k(this,!1),n.promise},"catch":function(e){return this.then(undefined,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=l(L,e,1),this.reject=l(N,e,1)},_.f=x=function(e){return e===P||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!A,{Promise:P}),n(24)(P,w),n(193)(w),a=n(9)[w],f(f.S+f.F*!A,w,{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!A),w,{resolve:function(e){return T(s&&this===a?P:this,e)}}),f(f.S+f.F*!(A&&n(166)(function(e){P.all(e)["catch"](I)})),w,{all:function(e){var t=this,n=x(t),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,a=1;g(e,!1,function(e){var s=o++,u=!1;n.push(undefined),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=x(t),r=n.reject,i=b(function(){g(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||r!==undefined&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(20),i=n(162),o=n(163),a=n(12),s=n(37),u=n(165),l={},c={};(t=e.exports=function(e,t,n,f,d){var p,h,g,v,m=d?function(){return e}:u(e),y=r(n,f,t?2:1),_=0;if("function"!=typeof m)throw TypeError(e+" is not iterable!");if(o(m)){for(p=s(e.length);p>_;_++)if((v=t?y(a(h=e[_])[0],h[1]):y(e[_]))===l||v===c)return v}else for(g=m.call(e);!(h=g.next()).done;)if((v=i(g,y,h.value,t))===l||v===c)return v}).BREAK=l,t.RETURN=c},function(e,t,n){var r=n(12),i=n(21),o=n(25)("species");e.exports=function(e,t){var n,a=r(e).constructor;return a===undefined||(n=r(a)[o])==undefined?t:i(n)}},function(e,t,n){var r,i,o,a=n(20),s=n(77),u=n(47),l=n(15),c=n(4),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,g=c.Dispatch,v=0,m={},y="onreadystatechange",_=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){_.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete m[e]},"process"==n(34)(f)?r=function(e){f.nextTick(a(_,e,1))}:g&&g.now?r=function(e){g.now(a(_,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=b,r=a(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r=y in l("script")?function(e){u.appendChild(l("script"))[y]=function(){u.removeChild(this),_.call(e)}}:function(e){setTimeout(a(_,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(4),i=n(209).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(34)(a);e.exports=function(){var e,t,n,l=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=undefined,o}}t=undefined,r&&r.enter()};if(u)n=function(){a.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve();n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var f=!0,d=document.createTextNode("");new o(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:undefined};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e(function(e,r){if(t!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=i(t),this.reject=i(n)}var i=n(21);e.exports.f=function(e){return new r(e)}},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,n){var r=n(12),i=n(13),o=n(211);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(18);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(216),i=n(217),o="Map";e.exports=n(218)(o,function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{get:function(e){var t=r.getEntry(i(this,o),e);return t&&t.v},set:function(e,t){return r.def(i(this,o),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(11).f,i=n(45),o=n(214),a=n(20),s=n(206),u=n(207),l=n(128),c=n(195),f=n(193),d=n(6),p=n(22).fastKey,h=n(217),g=d?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=i(null),e._f=undefined,e._l=undefined,e[g]=0,r!=undefined&&u(r,n,e[l],e)});return o(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=undefined),delete n[r.i];e._f=e._l=undefined,e[g]=0},"delete":function(e){var n=h(this,t),r=v(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:undefined,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return h(this,t)[g]}}),c},def:function(e,t,n){var r,i,o=v(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:undefined,r:!1},e._f||(e._f=o),r&&(r.n=o),e[g]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=undefined},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?c(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=undefined,c(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){"use strict";var r=n(4),i=n(8),o=n(18),a=n(214),s=n(22),u=n(207),l=n(206),c=n(13),f=n(7),d=n(166),p=n(24),h=n(87);e.exports=function(e,t,n,g,v,m){var y=r[e],_=y,b=v?"set":"add",T=_&&_.prototype,w={},E=function(e){var t=T[e];o(T,e,"delete"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!c(e)?undefined:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof _&&(m||T.forEach&&!f(function(){(new _).entries().next()}))){var S=new _,P=S[b](m?{}:-0,1)!=S,C=f(function(){S.has(1)}),I=d(function(e){new _(e)}),x=!m&&f(function(){for(var e=new _,t=5;t--;)e[b](t,t);return!e.has(-0)});I||((_=t(function(t,n){l(t,_,e);var r=h(new y,t,_);return n!=undefined&&u(n,v,r[b],r),r})).prototype=T,T.constructor=_),(C||x)&&(E("delete"),E("has"),v&&E("get")),(x||P)&&E(b),m&&T.clear&&delete T.clear}else _=g.getConstructor(t,e,v,b),a(_.prototype,n),s.NEED=!0;return p(_,e),w[e]=_,i(i.G+i.W+i.F*(_!=y),w),m||g.setStrong(_,e,v),_}},function(e,t,n){"use strict";var r=n(216),i=n(217),o="Set";e.exports=n(218)(o,function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function(e){return r.def(i(this,o),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(173)(0),o=n(18),a=n(22),s=n(68),u=n(221),l=n(13),c=n(7),f=n(217),d="WeakMap",p=a.getWeak,h=Object.isExtensible,g=u.ufstore,v={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},y={get:function(e){if(l(e)){var t=p(e);return!0===t?g(f(this,d)).get(e):t?t[this._i]:undefined}},set:function(e,t){return u.def(f(this,d),e,t)}},_=e.exports=n(218)(d,m,y,u,!0,!0);c(function(){return 7!=(new _).set((Object.freeze||Object)(v),7).get(v)})&&(s((r=u.getConstructor(m,d)).prototype,y),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=_.prototype,n=t[e];o(t,e,function(t,i){if(l(t)&&!h(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(214),i=n(22).getWeak,o=n(12),a=n(13),s=n(206),u=n(207),l=n(173),c=n(5),f=n(217),d=l(5),p=l(6),h=0,g=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},m=function(e,t){return d(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=m(this,e);if(t)return t[1]},has:function(e){return!!m(this,e)},set:function(e,t){var n=m(this,e);n?n[1]=t:this.a.push([e,t])},"delete":function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=h++,e._l=undefined,r!=undefined&&u(r,n,e[o],e)});return r(l.prototype,{"delete":function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(f(this,t))["delete"](e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?g(f(this,t)).has(e):n&&c(n,this._i)}}),l},def:function(e,t,n){var r=i(o(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,n){"use strict";var r=n(221),i=n(217),o="WeakSet";n(218)(o,function(e){return function(){return e(this,arguments.length>0?arguments[0]:undefined)}},{add:function(e){return r.def(i(this,o),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(8),i=n(224),o=n(225),a=n(12),s=n(39),u=n(37),l=n(13),c=n(4).ArrayBuffer,f=n(208),d=o.ArrayBuffer,p=o.DataView,h=i.ABV&&c.isView,g=d.prototype.slice,v=i.VIEW,m="ArrayBuffer";r(r.G+r.W+r.F*(c!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,m,{isView:function(e){return h&&h(e)||l(e)&&v in e}}),r(r.P+r.U+r.F*n(7)(function(){return!new d(2).slice(1,undefined).byteLength}),m,{slice:function(e,t){if(g!==undefined&&t===undefined)return g.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(t===undefined?n:t,n),o=new(f(this,d))(u(i-r)),l=new p(this),c=new p(o),h=0;r<i;)c.setUint8(h++,l.getUint8(r++));return o}}),n(193)(m)},function(e,t,n){for(var r,i=n(4),o=n(10),a=n(19),s=a("typed_array"),u=a("view"),l=!(!i.ArrayBuffer||!i.DataView),c=l,f=0,d=9,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<d;)(r=i[p[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){"use strict";function r(e,t,n){var r,i,o,a=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?H(2,-24)-H(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=U(e))!=e||e===F?(i=e!=e?1:0,r=u):(r=V(z(e)/q),e*(o=H(2,-r))<1&&(r--,o*=2),(e+=r+l>=1?c/o:c*H(2,1-l))*o>=2&&(r++,o/=2),r+l>=u?(i=0,r=u):r+l>=1?(i=(e*o-1)*H(2,t),r+=l):(i=e*H(2,l-1)*H(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function i(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:l?-F:F;r+=H(2,t),c-=a}return(l?-1:1)*r*H(2,c-t)}function o(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function a(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return r(e,52,8)}function c(e){return r(e,23,4)}function f(e,t,n){C(e[k],t,{get:function(){return this[n]}})}function d(e,t,n,r){var i=S(+n);if(i+t>e[Q])throw j(R);var o=e[W]._b,a=i+e[X],s=o.slice(a,a+t);return r?s:s.reverse()}function p(e,t,n,r,i,o){var a=S(+n);if(a+t>e[Q])throw j(R);for(var s=e[W]._b,u=a+e[X],l=r(+i),c=0;c<t;c++)s[u+c]=l[o?c:t-c-1]}var h=n(4),g=n(6),v=n(28),m=n(224),y=n(10),_=n(214),b=n(7),T=n(206),w=n(38),E=n(37),S=n(226),P=n(49).f,C=n(11).f,I=n(189),x=n(24),A="ArrayBuffer",O="DataView",k="prototype",M="Wrong length!",R="Wrong index!",D=h[A],N=h[O],L=h.Math,j=h.RangeError,F=h.Infinity,B=D,U=L.abs,H=L.pow,V=L.floor,z=L.log,q=L.LN2,G="buffer",K="byteLength",Y="byteOffset",W=g?"_b":G,Q=g?"_l":K,X=g?"_o":Y;if(m.ABV){if(!b(function(){D(1)})||!b(function(){new D(-1)})||b(function(){return new D,new D(1.5),new D(NaN),D.name!=A})){for(var $,J=(D=function(e){return T(this,D),new B(S(e))})[k]=B[k],Z=P(B),ee=0;Z.length>ee;)($=Z[ee++])in D||y(D,$,B[$]);v||(J.constructor=D)}var te=new N(new D(2)),ne=N[k].setInt8;te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||_(N[k],{setInt8:function(e,t){ne.call(this,e,t<<24>>24)},setUint8:function(e,t){ne.call(this,e,t<<24>>24)}},!0)}else D=function(e){T(this,D,A);var t=S(e);this._b=I.call(new Array(t),0),this[Q]=t},N=function(e,t,n){T(this,N,O),T(e,D,O);var r=e[Q],i=w(t);if(i<0||i>r)throw j("Wrong offset!");if(i+(n=n===undefined?r-i:E(n))>r)throw j(M);this[W]=e,this[X]=i,this[Q]=n},g&&(f(D,K,"_l"),f(N,G,"_b"),f(N,K,"_l"),f(N,Y,"_o")),_(N[k],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return o(d(this,4,e,arguments[1]))},getUint32:function(e){
return o(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return i(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return i(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,a,t)},setUint8:function(e,t){p(this,1,e,a,t)},setInt16:function(e,t){p(this,2,e,s,t,arguments[2])},setUint16:function(e,t){p(this,2,e,s,t,arguments[2])},setInt32:function(e,t){p(this,4,e,u,t,arguments[2])},setUint32:function(e,t){p(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,l,t,arguments[2])}});x(D,A),x(N,O),y(N[k],m.VIEW,!0),t[A]=D,t[O]=N},function(e,t,n){var r=n(38),i=n(37);e.exports=function(e){if(e===undefined)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(8);r(r.G+r.W+r.F*!n(224).ABV,{DataView:n(225).DataView})},function(e,t,n){n(229)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";if(n(6)){var r=n(28),i=n(4),o=n(7),a=n(8),s=n(224),u=n(225),l=n(20),c=n(206),f=n(17),d=n(10),p=n(214),h=n(38),g=n(37),v=n(226),m=n(39),y=n(16),_=n(5),b=n(74),T=n(13),w=n(57),E=n(163),S=n(45),P=n(58),C=n(49).f,I=n(165),x=n(19),A=n(25),O=n(173),k=n(36),M=n(208),R=n(194),D=n(129),N=n(166),L=n(193),j=n(189),F=n(186),B=n(11),U=n(50),H=B.f,V=U.f,z=i.RangeError,q=i.TypeError,G=i.Uint8Array,K="ArrayBuffer",Y="Shared"+K,W="BYTES_PER_ELEMENT",Q="prototype",X=Array[Q],$=u.ArrayBuffer,J=u.DataView,Z=O(0),ee=O(2),te=O(3),ne=O(4),re=O(5),ie=O(6),oe=k(!0),ae=k(!1),se=R.values,ue=R.keys,le=R.entries,ce=X.lastIndexOf,fe=X.reduce,de=X.reduceRight,pe=X.join,he=X.sort,ge=X.slice,ve=X.toString,me=X.toLocaleString,ye=A("iterator"),_e=A("toStringTag"),be=x("typed_constructor"),Te=x("def_constructor"),we=s.CONSTR,Ee=s.TYPED,Se=s.VIEW,Pe="Wrong length!",Ce=O(1,function(e,t){return ke(M(e,e[Te]),t)}),Ie=o(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),xe=!!G&&!!G[Q].set&&o(function(){new G(1).set({})}),Ae=function(e,t){var n=h(e);if(n<0||n%t)throw z("Wrong offset!");return n},Oe=function(e){if(T(e)&&Ee in e)return e;throw q(e+" is not a typed array!")},ke=function(e,t){if(!(T(e)&&be in e))throw q("It is not a typed array constructor!");return new e(t)},Me=function(e,t){return Re(M(e,e[Te]),t)},Re=function(e,t){for(var n=0,r=t.length,i=ke(e,r);r>n;)i[n]=t[n++];return i},De=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Ne=function(e){var t,n,r,i,o,a,s=w(e),u=arguments.length,c=u>1?arguments[1]:undefined,f=c!==undefined,d=I(s);if(d!=undefined&&!E(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),t=0,n=g(s.length),i=ke(this,n);n>t;t++)i[t]=f?c(s[t],t):s[t];return i},Le=function(){for(var e=0,t=arguments.length,n=ke(this,t);t>e;)n[e]=arguments[e++];return n},je=!!G&&o(function(){me.call(new G(1))}),Fe=function(){return me.apply(je?ge.call(Oe(this)):Oe(this),arguments)},Be={copyWithin:function(e,t){return F.call(Oe(this),e,t,arguments.length>2?arguments[2]:undefined)},every:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:undefined)},fill:function(){return j.apply(Oe(this),arguments)},filter:function(e){return Me(this,ee(Oe(this),e,arguments.length>1?arguments[1]:undefined))},find:function(e){return re(Oe(this),e,arguments.length>1?arguments[1]:undefined)},findIndex:function(e){return ie(Oe(this),e,arguments.length>1?arguments[1]:undefined)},forEach:function(e){Z(Oe(this),e,arguments.length>1?arguments[1]:undefined)},indexOf:function(e){return ae(Oe(this),e,arguments.length>1?arguments[1]:undefined)},includes:function(e){return oe(Oe(this),e,arguments.length>1?arguments[1]:undefined)},join:function(){return pe.apply(Oe(this),arguments)},lastIndexOf:function(){return ce.apply(Oe(this),arguments)},map:function(e){return Ce(Oe(this),e,arguments.length>1?arguments[1]:undefined)},reduce:function(){return fe.apply(Oe(this),arguments)},reduceRight:function(){return de.apply(Oe(this),arguments)},reverse:function(){for(var e,t=this,n=Oe(t).length,r=Math.floor(n/2),i=0;i<r;)e=t[i],t[i++]=t[--n],t[n]=e;return t},some:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:undefined)},sort:function(e){return he.call(Oe(this),e)},subarray:function(e,t){var n=Oe(this),r=n.length,i=m(e,r);return new(M(n,n[Te]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,g((t===undefined?r:m(t,r))-i))}},Ue=function(e,t){return Me(this,ge.call(Oe(this),e,t))},He=function(e){Oe(this);var t=Ae(arguments[1],1),n=this.length,r=w(e),i=g(r.length),o=0;if(i+t>n)throw z(Pe);for(;o<i;)this[t+o]=r[o++]},Ve={entries:function(){return le.call(Oe(this))},keys:function(){return ue.call(Oe(this))},values:function(){return se.call(Oe(this))}},ze=function(e,t){return T(e)&&e[Ee]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},qe=function(e,t){return ze(e,t=y(t,!0))?f(2,e[t]):V(e,t)},Ge=function(e,t,n){return!(ze(e,t=y(t,!0))&&T(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};we||(U.f=qe,B.f=Ge),a(a.S+a.F*!we,"Object",{getOwnPropertyDescriptor:qe,defineProperty:Ge}),o(function(){ve.call({})})&&(ve=me=function(){return pe.call(this)});var Ke=p({},Be);p(Ke,Ve),d(Ke,ye,Ve.values),p(Ke,{slice:Ue,set:He,constructor:function(){},toString:ve,toLocaleString:Fe}),De(Ke,"buffer","b"),De(Ke,"byteOffset","o"),De(Ke,"byteLength","l"),De(Ke,"length","e"),H(Ke,_e,{get:function(){return this[Ee]}}),e.exports=function(e,t,n,u){var l=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[l],m=h||{},y=h&&P(h),_=!h||!s.ABV,w={},E=h&&h[Q],I=function(e,n){var r=e._d;return r.v[f](n*t+r.o,Ie)},x=function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Ie)},A=function(e,t){H(e,t,{get:function(){return I(this,t)},set:function(e){return x(this,t,e)},enumerable:!0})};_?(h=n(function(e,n,r,i){c(e,h,l,"_d");var o,a,s,u,f=0,p=0;if(T(n)){if(!(n instanceof $||(u=b(n))==K||u==Y))return Ee in n?Re(h,n):Ne.call(h,n);o=n,p=Ae(r,t);var m=n.byteLength;if(i===undefined){if(m%t)throw z(Pe);if((a=m-p)<0)throw z(Pe)}else if((a=g(i)*t)+p>m)throw z(Pe);s=a/t}else s=v(n),o=new $(a=s*t);for(d(e,"_d",{b:o,o:p,l:a,e:s,v:new J(o)});f<s;)A(e,f++)}),E=h[Q]=S(Ke),d(E,"constructor",h)):o(function(){h(1)})&&o(function(){new h(-1)})&&N(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,i){var o;return c(e,h,l),T(n)?n instanceof $||(o=b(n))==K||o==Y?i!==undefined?new m(n,Ae(r,t),i):r!==undefined?new m(n,Ae(r,t)):new m(n):Ee in n?Re(h,n):Ne.call(h,n):new m(v(n))}),Z(y!==Function.prototype?C(m).concat(C(y)):C(m),function(e){e in h||d(h,e,m[e])}),h[Q]=E,r||(E.constructor=h));var O=E[ye],k=!!O&&("values"==O.name||O.name==undefined),M=Ve.values;d(h,be,!0),d(E,Ee,l),d(E,Se,!0),d(E,Te,h),(u?new h(1)[_e]==l:_e in E)||H(E,_e,{get:function(){return l}}),w[l]=h,a(a.G+a.W+a.F*(h!=m),w),a(a.S,l,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){m.of.call(h,1)}),l,{from:Ne,of:Le}),W in E||d(E,W,t),a(a.P,l,Be),L(l),a(a.P+a.F*xe,l,{set:He}),a(a.P+a.F*!k,l,Ve),r||E.toString==ve||(E.toString=ve),a(a.P+a.F*o(function(){new h(1).slice()}),l,{slice:Ue}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){E.toLocaleString.call([1,2])})),l,{toLocaleString:Fe}),D[l]=k?O:M,r||k||d(E,ye,M)}}else e.exports=function(){}},function(e,t,n){n(229)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(229)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(229)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(229)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(229)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(229)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(229)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(229)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(8),i=n(21),o=n(12),a=(n(4).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(7)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(8),i=n(45),o=n(21),a=n(12),s=n(13),u=n(7),l=n(76),c=(n(4).Reflect||{}).construct,f=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!u(function(){c(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(11),i=n(8),o=n(12),a=n(16);i(i.S+i.F*n(7)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(i){return!1}}})},function(e,t,n){var r=n(8),i=n(50).f,o=n(12);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(8),i=n(12),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(130)(o,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:undefined,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){function r(e,t){var n,s,c=arguments.length<3?e:arguments[2];return l(e)===c?e[t]:(n=i.f(e,t))?a(n,"value")?n.value:n.get!==undefined?n.get.call(c):undefined:u(s=o(e))?r(s,t,c):void 0}var i=n(50),o=n(58),a=n(5),s=n(8),u=n(13),l=n(12);s(s.S,"Reflect",{get:r})},function(e,t,n){var r=n(50),i=n(8),o=n(12);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(8),i=n(58),o=n(12);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(8);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(8),i=n(12),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(8);r(r.S,"Reflect",{ownKeys:n(249)})},function(e,t,n){var r=n(49),i=n(42),o=n(12),a=n(4).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(8),i=n(12),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(t){return!1}}})},function(e,t,n){function r(e,t,n){var u,d,p=arguments.length<4?e:arguments[3],h=o.f(c(e),t);if(!h){if(f(d=a(e)))return r(d,t,n,p);h=l(0)}return s(h,"value")?!(!1===h.writable||!f(p))&&((u=o.f(p,t)||l(0)).value=n,i.f(p,t,u),!0):h.set!==undefined&&(h.set.call(p,n),!0)}var i=n(11),o=n(50),a=n(58),s=n(5),u=n(8),l=n(17),c=n(12),f=n(13);u(u.S,"Reflect",{set:r})},function(e,t,n){var r=n(8),i=n(72);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(n){return!1}}})},function(e,t,n){"use strict";var r=n(8),i=n(36)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined)}}),n(187)("includes")},function(e,t,n){"use strict";var r=n(8),i=n(255),o=n(57),a=n(37),s=n(21),u=n(174);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(187)("flatMap")},function(e,t,n){"use strict";function r(e,t,n,l,c,f,d,p){for(var h,g,v=c,m=0,y=!!d&&s(d,p,3);m<l;){if(m in n){if(h=y?y(n[m],m,t):n[m],g=!1,o(h)&&(g=(g=h[u])!==undefined?!!g:i(h)),g&&f>0)v=r(e,t,h,a(h.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();e[v]=h}v++}m++}return v}var i=n(44),o=n(13),a=n(37),s=n(20),u=n(25)("isConcatSpreadable");e.exports=r},function(e,t,n){"use strict";var r=n(8),i=n(255),o=n(57),a=n(37),s=n(38),u=n(174);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=u(t,0);return i(r,t,t,n,0,e===undefined?1:s(e)),r}}),n(187)("flatten")},function(e,t,n){"use strict";var r=n(8),i=n(127)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(8),i=n(259),o=n(260);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined,!0)}})},function(e,t,n){var r=n(37),i=n(90),o=n(35);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,l=n===undefined?" ":String(n),c=r(t);if(c<=u||""==l)return s;var f=c-u,d=i.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(e,t,n){var r=n(4).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(8),i=n(259),o=n(260);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:undefined,!1)}})},function(e,t,n){"use strict";n(82)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(82)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(8),i=n(35),o=n(37),a=n(134),s=n(197),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(130)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new l(r,t)}})},function(e,t,n){n(27)("asyncIterator")},function(e,t,n){n(27)("observable")},function(e,t,n){var r=n(8),i=n(249),o=n(32),a=n(50),s=n(164);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,l=i(r),c={},f=0;l.length>f;)(n=u(r,t=l[f++]))!==undefined&&s(c,t,n);return c}})},function(e,t,n){var r=n(8),i=n(269)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(30),i=n(32),o=n(43).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,l=0,c=[];u>l;)o.call(a,n=s[l++])&&c.push(e?[n,a[n]]:a[n]);return c}}},function(e,t,n){var r=n(8),i=n(269)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(21),a=n(11);n(6)&&r(r.P+n(272),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";e.exports=n(28)||!n(7)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(4)[e]})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(21),a=n(11);n(6)&&r(r.P+n(272),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(16),a=n(58),s=n(50).f;n(6)&&r(r.P+n(272),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(8),i=n(57),o=n(16),a=n(58),s=n(50).f;n(6)&&r(r.P+n(272),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(8);r(r.P+r.R,"Map",{toJSON:n(277)("Map")})},function(e,t,n){var r=n(74),i=n(278);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(207);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){var r=n(8);r(r.P+r.R,"Set",{toJSON:n(277)("Set")})},function(e,t,n){n(281)("Map")},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(281)("Set")},function(e,t,n){n(281)("WeakMap")},function(e,t,n){n(281)("WeakSet")},function(e,t,n){n(286)("Map")},function(e,t,n){"use strict";var r=n(8),i=n(21),o=n(20),a=n(207);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),(t=u!==undefined)&&i(u),e==undefined?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t,n){n(286)("Set")},function(e,t,n){n(286)("WeakMap")},function(e,t,n){n(286)("WeakSet")},function(e,t,n){var r=n(8);r(r.G,{global:n(4)})},function(e,t,n){var r=n(8);r(r.S,"System",{global:n(4)})},function(e,t,n){var r=n(8),i=n(34);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(8);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(8),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){var r=n(8),i=n(297),o=n(113);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===Infinity||e===-Infinity?e:(e-t)*(i-r)/(n-t)+r}},function(e,t,n){var r=n(8);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(8);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(8);r(r.S,"Math",{imulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>16,u=i>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>16)+((o*u>>>0)+(l&n)>>16)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(8),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){var r=n(8);r(r.S,"Math",{scale:n(297)})},function(e,t,n){var r=n(8);r(r.S,"Math",{umulh:function(e,t){var n=65535,r=+e,i=+t,o=r&n,a=i&n,s=r>>>16,u=i>>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>>16)+((o*u>>>0)+(l&n)>>>16)}})},function(e,t,n){var r=n(8);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==Infinity:e>0}})},function(e,t,n){"use strict";var r=n(8),i=n(9),o=n(4),a=n(208),s=n(213);r(r.P+r.R,"Promise",{"finally":function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(8),i=n(211),o=n(212);r(r.S,"Promise",{"try":function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(309),i=n(12),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var r=n(215),i=n(8),o=n(23)("metadata"),a=o.store||(o.store=new(n(220))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return undefined;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return undefined;i.set(t,o=new r)}return o},u=function(e,t,n){var r=s(t,n,!1);return r!==undefined&&r.has(e)},l=function(e,t,n){var r=s(t,n,!1);return r===undefined?undefined:r.get(e)},c=function(e,t,n,r){s(n,r,!0).set(e,t)},f=function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},d=function(e){return e===undefined||"symbol"==typeof e?e:String(e)},p=function(e){i(i.S,"Reflect",e)};e.exports={store:a,map:s,has:u,get:l,set:c,keys:f,key:d,exp:p}},function(e,t,n){var r=n(309),i=n(12),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?undefined:o(arguments[2]),r=a(i(t),n,!1);if(r===undefined||!r["delete"](e))return!1;if(r.size)return!0;var u=s.get(t);return u["delete"](n),!!u.size||s["delete"](t)}})},function(e,t,n){var r=n(309),i=n(12),o=n(58),a=r.has,s=r.get,u=r.key,l=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?l(e,r,n):undefined};r.exp({getMetadata:function(e,t){return l(e,i(t),arguments.length<3?undefined:u(arguments[2]))}})},function(e,t,n){var r=n(219),i=n(278),o=n(309),a=n(12),s=n(58),u=o.keys,l=o.key,c=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var a=c(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return c(a(e),arguments.length<2?undefined:l(arguments[1]))}})},function(e,t,n){var r=n(309),i=n(12),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?undefined:a(arguments[2]))}})},function(e,t,n){var r=n(309),i=n(12),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?undefined:a(arguments[1]))}})},function(e,t,n){var r=n(309),i=n(12),o=n(58),a=r.has,s=r.key,u=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?undefined:s(arguments[2]))}})},function(e,t,n){var r=n(309),i=n(12),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?undefined:a(arguments[2]))}})},function(e,t,n){var r=n(309),i=n(12),o=n(21),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(r!==undefined?i:o)(n),a(r))}}})},function(e,t,n){var r=n(8),i=n(210)(),o=n(4).process,a="process"==n(34)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(8),i=n(4),o=n(9),a=n(210)(),s=n(25)("observable"),u=n(21),l=n(12),c=n(206),f=n(214),d=n(10),p=n(207),h=p.RETURN,g=function(e){return null==e?undefined:u(e)},v=function(e){var t=e._c;t&&(e._c=undefined,t())},m=function(e){return e._o===undefined},y=function(e){m(e)||(e._o=undefined,v(e))},_=function(e,t){l(e),this._c=undefined,this._o=e,e=new b(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(i){return void e.error(i)}m(this)&&v(this)};_.prototype=f({},{unsubscribe:function(){y(this)}});var b=function(e){this._s=e};b.prototype=f({},{next:function(e){var t=this._s;if(!m(t)){var n=t._o;try{var r=g(n.next);if(r)return r.call(n,e)}catch(i){try{y(t)}finally{throw i}}}},error:function(e){var t=this._s;if(m(t))throw e;var n=t._o;t._o=undefined;try{var r=g(n.error);if(!r)throw e;e=r.call(n,e)}catch(i){try{v(t)}finally{throw i}}return v(t),e},complete:function(e){var t=this._s;if(!m(t)){var n=t._o;t._o=undefined;try{var r=g(n.complete);e=r?r.call(n,e):undefined}catch(i){try{v(t)}finally{throw i}}return v(t),e}}});var T=function(e){c(this,T,"Observable","_f")._f=u(e)};f(T.prototype,{subscribe:function(e){return new _(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:n})})}}),f(T,{from:function(e){var t="function"==typeof this?this:T,n=g(l(e)[s]);if(n){var r=l(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return h})===h)return}catch(r){if(n)throw r;return void t.error(r)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=new Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:T)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(T.prototype,s,function(){return this}),r(r.G,{Observable:T}),n(193)("Observable")},function(e,t,n){var r=n(4),i=n(8),o=n(260),a=[].slice,s=/MSIE .\./.test(o),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(8),i=n(209);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(194),i=n(30),o=n(18),a=n(4),s=n(10),u=n(129),l=n(25),c=l("iterator"),f=l("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),g=0;g<h.length;g++){var v,m=h[g],y=p[m],_=a[m],b=_&&_.prototype;if(b&&(b[c]||s(b,c,d),b[f]||s(b,f,m),u[m]=d,y))for(v in r)b[v]||o(b,v,r[v],!0)}},function(e,t){(function(t){!function(t){"use strict";function n(e,t,n,r){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),s=new p(r||[]);return a._invoke=l(e,n,s),a}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function n(t,i,o,a){var s=r(e[t],e,i);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&y.call(l,"__await")?Promise.resolve(l.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},a)}a(s.arg)}function i(e,t){function r(){return new Promise(function(r,i){n(e,t,r,i)})}return o=o?o.then(r,r):r()}var o;"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n)),this._invoke=i}function l(e,t,n){var i=P;return function(o,a){if(i===I)throw new Error("Generator is already running");if(i===x){if("throw"===o)throw a;return g()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===A)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===P)throw i=x,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=I;var l=r(e,t,n);if("normal"===l.type){if(i=n.done?x:C,l.arg===A)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=x,n.method="throw",n.arg=l.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===v){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=v,c(e,t),"throw"===t.method))return A;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var i=r(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,A;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=v),t.delegate=null,A):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,A)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function i(){for(;++n<e.length;)if(y.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=v,i.done=!0,i};return r.next=r}}return{next:g}}function g(){return{value:v,done:!0}}var v,m=Object.prototype,y=m.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",T=_.asyncIterator||"@@asyncIterator",w=_.toStringTag||"@@toStringTag",E="object"==typeof e,S=t.regeneratorRuntime;if(S)E&&(e.exports=S);else{(S=t.regeneratorRuntime=E?e.exports:{}).wrap=n;var P="suspendedStart",C="suspendedYield",I="executing",x="completed",A={},O={};O[b]=function(){return this};var k=Object.getPrototypeOf,M=k&&k(k(h([])));M&&M!==m&&y.call(M,b)&&(O=M);var R=a.prototype=i.prototype=Object.create(O);o.prototype=R.constructor=a,a.constructor=o,a[w]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,w in e||(e[w]="GeneratorFunction")),e.prototype=Object.create(R),e},S.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[T]=function(){return this},S.AsyncIterator=u,S.async=function(e,t,r,i){var o=new u(n(e,t,r,i));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},s(R),R[w]="Generator",R[b]=function(){return this},R.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},S.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=v)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=y.call(i,"catchLoc"),s=y.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&y.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,A):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),A},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),A}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=v),A}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}())},function(e,t,n){n(325),e.exports=n(9).RegExp.escape},function(e,t,n){var r=n(8),i=n(326)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=i(n(328)),s=i(n(331)),u=i(n(488)),l=n(494),c=n(532),f=n(348),d=r(n(537)),p=r(n(539)),h=r(n(540)),g=r(n(451)),v=r(n(454)),m=r(n(334)),y=n(351),_=n(397),b=n(339),T=r(n(541)),w=n(571),E=r(n(577)),S=r(n(542));(0,w.register)(),E["default"].events&&E["default"].events.on("seed:loaded",function(){return(0,S["default"])(E["default"])}),e.exports={components:o({MediaPageBackground:l.PageBackground,PageWithInteractiveBackground:c.Page},s),actions:a,selectors:u,registerPageType:d["default"],registerPageTypeWithDefaultBackground:p["default"],registerWidgetType:h["default"],mediaReduxModule:l.reduxModule,mediaPageBackgroundReduxModule:l.pageBackgroundReduxModule,pageWithInteractiveBackgroundReduxModule:c.reduxModule,iconMapping:g["default"],SvgIcon:v["default"],classNames:m["default"],connect:_.connect,connectInPage:f.connectInPage,
combineReducers:y.combineReducers,combine:b.combine,ServerSidePage:T["default"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSetting=t.updatePageLink=t.updatePageAttribute=undefined;var r=n(329),i=n(330);t.updatePageAttribute=r.updatePageAttribute,t.updatePageLink=r.updatePageLink,t.updateSetting=i.update},function(e,t){"use strict";function n(e){var t=e.id,n=e.position;return g(m,t,{position:n})}function r(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(v,e)}function i(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(_,e)}function o(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(y,e)}function a(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(b,e)}function s(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(T,e)}function u(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(w,e)}function l(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(E,e)}function c(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(S,e)}function f(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(P,e)}function d(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return g(C,e)}function p(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.id,n=e.name,r=e.value;return g(I,t,{name:n,value:r})}function h(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.pageId,n=e.linkId,r=e.name,i=e.value;return g(x,t,{linkId:n,name:r,value:i})}function g(e,t){return{type:e,meta:{collectionName:"pages",itemId:t},payload:arguments.length>2&&arguments[2]!==undefined?arguments[2]:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageWillActivate=n,t.pageDidActivate=r,t.pageWillDeactivate=i,t.pageDidDeactivate=o,t.pageDidPreload=a,t.pageDidPrepare=s,t.pageScheduleUnprepare=u,t.pageDidUnprepare=l,t.pageDidResize=c,t.enhance=f,t.cleanup=d,t.updatePageAttribute=p,t.updatePageLink=h,t.pageAction=g;var v=t.PAGE_DID_ACTIVATE="PAGE_DID_ACTIVATE",m=t.PAGE_WILL_ACTIVATE="PAGE_WILL_ACTIVATE",y=t.PAGE_DID_DEACTIVATE="PAGE_DID_DEACTIVATE",_=t.PAGE_WILL_DEACTIVATE="PAGE_WILL_DEACTIVATE",b=t.PAGE_DID_PRELOAD="PAGE_DID_PRELOAD",T=t.PAGE_DID_PREPARE="PAGE_DID_PREPARE",w=t.PAGE_SCHEDULE_UNPREPARE="PAGE_SCHEDULE_UNPREPARE",E=t.PAGE_DID_UNPREPARE="PAGE_DID_UNPREPARE",S=t.PAGE_DID_RESIZE="PAGE_DID_RESIZE",P=t.ENHANCE="PAGE_ENHANCE",C=t.CLEANUP="PAGE_CLEANUP",I=t.UPDATE_PAGE_ATTRIBUTE="UPDATE_PAGE_ATTRIBUTE",x=t.UPDATE_PAGE_LINK="UPDATE_PAGE_LINK"},function(e,t){"use strict";function n(e){var t=e.settings;return{type:i,payload:{settings:t}}}function r(e){var t=e.property,n=e.value;return{type:o,payload:{property:t,value:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n,t.update=r;var i=t.LOAD="SETTINGS_LOAD",o=t.UPDATE="SETTINGS_UPDATE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Measure=t.Draggable=t.withVisibilityWatching=t.editorOnly=t.Icon=t.MenuBar=t.CloseButton=t.PlayerControls=t.LazyLoadedPageThumbnail=t.PageThumbnail=t.PageLink=t.PageText=t.PageHeader=t.PageScroller=t.PageContent=t.PageForeground=t.PageShadow=t.PageBackgroundImage=t.PageBackground=t.PageWrapper=undefined;var i=r(n(332)),o=r(n(335)),a=r(n(336)),s=r(n(431)),u=r(n(432)),l=r(n(433)),c=r(n(434)),f=r(n(436)),d=r(n(437)),p=r(n(438)),h=r(n(440)),g=r(n(445)),v=r(n(446)),m=r(n(485)),y=r(n(480)),_=r(n(450)),b=r(n(487)),T=r(n(484)),w=r(n(467)),E=r(n(468));t.PageWrapper=i["default"],t.PageBackground=o["default"],t.PageBackgroundImage=a["default"],t.PageShadow=s["default"],t.PageForeground=l["default"],t.PageContent=u["default"],t.PageScroller=c["default"],t.PageHeader=f["default"],t.PageText=d["default"],t.PageLink=p["default"],t.PageThumbnail=h["default"],t.LazyLoadedPageThumbnail=g["default"],t.PlayerControls=v["default"],t.CloseButton=m["default"],t.MenuBar=y["default"],t.Icon=_["default"],t.editorOnly=b["default"],t.withVisibilityWatching=T["default"],t.Draggable=w["default"],t.Measure=E["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(333),l=r(n(334)),c=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u.Component),s(e,[{key:"render",value:function(){return React.createElement("div",{className:(0,l["default"])("content_and_background",this.props.className)},this.props.children)}}]),e}();t["default"]=c},function(e){e.exports=React},function(e,t){var n,r;!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=i:(n=[],(r=function(){return i}.apply(t,n))===undefined||(e.exports=r))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},e.children)}function o(e){var t=e.pageHasPlayerControls;return(0,a["default"])("backgroundArea page_background",{"page_background-for_page_with_player_controls":t})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var a=r(n(334));i.propTypes={pageHasPlayerControls:React.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(333)),l=r(n(337)),c=n(339),f=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"render",value:function(){var e=this.props.page,t=c.camelize.concat(this.props.propertyNamePrefix,this.props.propertyBaseName);return u["default"].createElement(l["default"],{fileId:e[t+"Id"],fileCollection:this.props.fileCollection,position:[e[t+"X"],e[t+"Y"]],className:"background background_image"})}}]),e}();t["default"]=f,f.propTypes={page:u["default"].PropTypes.object.isRequired,propertyBaseName:u["default"].PropTypes.string,fileCollection:u["default"].PropTypes.string},f.defaultProps={propertyBaseName:"backgroundImage"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(338)),o=n(348),a=n(375),s=n(339);t["default"]=(0,o.connectInPage)((0,s.combineSelectors)({loaded:(0,a.pageIsPreloaded)()}))(i["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(333)),l=r(n(334)),c=n(339),f=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"render",value:function(){var e=this;return u["default"].createElement("div",{className:this.cssClass(),style:this.style(),ref:function(t){return e.element=t}})}},{key:"componentDidUpdate",value:function(e){this.props.loaded&&!e.loaded&&(0,c.preloadBackgroundImage)(this.element)}},{key:"cssClass",value:function(){return(0,l["default"])(this.props.className,this.props.loaded?"load_image":null,this.imageCssClass())}},{key:"imageCssClass",value:function(){return["imageFiles"==this.props.fileCollection?"image":"video_poster",this.props.fileId||"none"].join("_")}},{key:"style",value:function(){return{backgroundPosition:this.positionCoordinate(0)+"% "+this.positionCoordinate(1)+"%"}}},{key:"positionCoordinate",value:function(e){var t=this.props.position[e];return void 0===t?50:t}}]),e}();t["default"]=f,f.propTypes={fileId:u["default"].PropTypes.number,fileCollection:u["default"].PropTypes.oneOf(["imageFiles","videoFiles"]),position:u["default"].PropTypes.arrayOf(u["default"].PropTypes.number),className:u["default"].PropTypes.string,loaded:u["default"].PropTypes.bool},f.defaultProps={position:[50,50],fileCollection:"imageFiles"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.preloadBackgroundImage=t.has=t.memoizedSelector=t.combineSelectors=t.combine=t.isBlank=t.camelize=undefined;var i=r(n(340)),o=r(n(342)),a=r(n(343)),s=n(344),u=r(s),l=r(n(346)),c=r(n(347));t.camelize=o["default"],t.isBlank=i["default"],t.combine=a["default"],t.combineSelectors=s.combine,t.memoizedSelector=u["default"],t.has=l["default"],t.preloadBackgroundImage=c["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return!!(0,o["default"])(e).match(/^\s*$/)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(341))},function(e,t){var n,r,i;r=[],(i="function"==typeof(n=function(){function e(e,s,u){function l(e){h==n?v+=e:s&&h==r&&(m+=e)}function c(){var e,t,n,r="",i=!1;e:for(e=0,t=m.length;e<t;e++)switch(n=m[e].toLowerCase()){case"<":break;case">":break e;case"/":i=!0;break;default:if(n.match(a)){if(i)break e}else i=!0,r+=n}-1!==s.indexOf(r)?v+=m:u&&(v+=u),m=""}e=e||"";var f,d,p,h=n,g=0,v="",m="",y=!1;for("string"==typeof s?s=t(s):Array.isArray(s)||(s=null),f=0,d=e.length;f<d;f++)switch(p=e[f]){case"<":if(y)break;if(" "==e[f+1]){l(p);break}if(h==n){h=r,l(p);break}if(h==r){g++;break}l(p);break;case">":if(g){g--;break}if(y)break;if(h==r){y=h=0,s&&(m+=">",c());break}if(h==i){y=h=0,m="";break}if(h==o&&"-"==e[f-1]&&"-"==e[f-2]){y=h=0,m="";break}l(p);break;case'"':case"'":h==r&&(y==p?y=!1:y||(y=p)),l(p);break;case"!":if(h==r&&"<"==e[f-1]){h=i;break}l(p);break;case"-":if(h==i&&"-"==e[f-1]&&"!"==e[f-2]){h=o;break}l(p);break;case"E":case"e":if(h==i&&"doctype"==e.substr(f-6,7).toLowerCase()){h=r;break}l(p);break;default:l(p)}return v}function t(e){for(var t,n=[];null!==(t=s.exec(e));)n.push(t[1]);return 0!==n.length?n:null}var n=0,r=1,i=2,o=3,a=/\s/,s=/<(\w*)>/g;return e})?n.apply(t,r):n)===undefined||(e.exports=i)},function(e,t){"use strict";function n(e){return e.replace(/_[a-z]/g,function(e){return e[1].toUpperCase()})}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.keys=function(e){return Object.keys(e).reduce(function(t,r){return t[n(r)]=e[r],t},{})},n.deep=function(e){return Array.isArray(e)?e.map(n.deep):"object"===(void 0===e?"undefined":r(e))&&e?Object.keys(e).reduce(function(t,r){return t[n(r)]=n.deep(e[r]),t},{}):e},n.concat=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).reduce(function(e,t){return e+t[0].toUpperCase()+t.slice(1)})},t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return Object.keys(e).reduce(function(t,r){return"function"==typeof e[r]?t[r]=e[r].apply(e,n):t[r]=e[r],t},{})}}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l(function(e,n){var i=t.slice(0,-1).map(u),o=t.slice(-1)[0],a=c.createSelector.apply(undefined,r(i).concat([o]));if(e===d)return a;if(e)return a(e,n);throw"Missing state argument for selector."})}function o(e){return l(function(){return(0,c.createStructuredSelector)(a(s(e)))})}function a(e){return Object.keys(e).reduce(function(t,n){return t[n]=u(e[n]),t},{})}function s(e){return Object.keys(e).reduce(function(t,n){return"function"==typeof e[n]?t[n]=e[n]:t[n]=function(){return e[n]},t},{})}function u(e){return"function"==typeof e&&e[f]?e(d):e}function l(e){return e[f]=!0,e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i,t.combine=o,t.unwrap=u;var c=n(345),f=Symbol("selectorFactory"),d=Symbol("createSelector")},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return e===t}function i(e){var t=arguments.length<=1||arguments[1]===undefined?r:arguments[1],n=null,i=null;return function(){for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return null!==n&&n.length===o.length&&o.every(function(e,r){return t(e,n[r])})||(i=e.apply(undefined,o)),n=o,i}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var s=0,u=i.pop(),l=o(i),c=e.apply(undefined,[function(){return s++,u.apply(undefined,arguments)}].concat(r)),f=function(e,t){for(var r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=l.map(function(n){return n.apply(undefined,[e,t].concat(i))});return c.apply(undefined,n(a))};return f.resultFunc=u,f.recomputations=function(){return s},f.resetRecomputations=function(){return s=0},f}}function s(e){var t=arguments.length<=1||arguments[1]===undefined?u:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=a,t.createStructuredSelector=s;var u=t.createSelector=a(i)},function(e,t){"use strict";function n(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:pageflow.browser;return t&&t.has(e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(e){var t=window.getComputedStyle(e).getPropertyValue("background-image");t.match(/^url/)&&((new Image).src=t.replace(/^url\(['"]?/,"").replace(/['"]?\)$/,""))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return(0,u["default"])((0,s["default"])(e),e.mixin||{})}Object.defineProperty(t,"__esModule",{value:!0}),t.connectInPage=undefined,t.createPageType=i;var o=r(n(349)),a=r(n(374)),s=r(n(427)),u=r(n(430)),l=n(381),c=n(376);t["default"]={init:function(e){var t=e.pages,n=e.dispatch;(0,c.watch)({collection:t,collectionName:"pages",dispatch:n,idAttribute:"perma_id",attributes:["perma_id",{type:"template"},"chapter_id"],includeConfiguration:!0})},createReducers:function(e){var t=e.pageTypes,n=(t===undefined?[]:t).reduce(function(e,t){var n=t.name,r=t.reducer;return e[n]=r,e},{});return{pages:(0,c.createReducer)("pages",{idAttribute:"permaId",itemReducer:(0,o["default"])(n)})}},createMiddleware:l.createMiddleware,createSaga:function(e){var t=e.pages,n=e.pageTypes,r=n===undefined?[]:n,i=e.middleware,o=r.reduce(function(e,t){var n=t.name,r=t.saga;return e[n]=r,e},{});return(0,c.createSaga)("pages",{itemSaga:(0,a["default"])({pages:t,pageTypeSagas:o}),middleware:i})}};t.connectInPage=(0,c.createItemScopeConnector)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){function t(t){return r[t]=r[t]||(0,s.combineReducers)({attributes:a["default"],state:(0,s.combineReducers)({custom:e[t]||function(){return arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}},common:o["default"]})}),r[t]}function n(e,t,n){return t&&t.type!==n.type?i({},e,{state:i({},e.state,{custom:undefined})}):e}var r={};return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=arguments[1],i=(0,a["default"])(e.attributes,r);return t(i.type)(n(e,e.attributes,i),r)}};var o=r(n(350)),a=r(n(372)),s=n(351)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];switch(arguments[1].type){case u.PAGE_DID_PRELOAD:return!0;default:return e}}function i(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];switch(arguments[1].type){case u.PAGE_DID_PREPARE:case u.PAGE_WILL_ACTIVATE:return!0;case u.PAGE_DID_UNPREPARE:return!1;default:return e}}function o(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];switch(arguments[1].type){case u.PAGE_WILL_ACTIVATE:return!0;case u.PAGE_WILL_DEACTIVATE:return!1;default:return e}}function a(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];switch(arguments[1].type){case u.PAGE_DID_ACTIVATE:return!0;case u.PAGE_WILL_DEACTIVATE:return!1;default:return e}}function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,t=arguments[1];switch(t.type){case u.PAGE_WILL_ACTIVATE:return t.payload.position||"top";case u.PAGE_WILL_DEACTIVATE:return null;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(329),l=n(351);t["default"]=(0,l.combineReducers)({isPreloaded:r,isPrepared:i,isActive:o,isActivated:a,initialScrollerPosition:s})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=undefined;var i=r(n(352)),o=r(n(367)),a=r(n(369)),s=r(n(370)),u=r(n(371));r(n(368));t.createStore=i["default"],t.combineReducers=o["default"],t.bindActionCreators=a["default"],t.applyMiddleware=s["default"],t.compose=u["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){function r(){m===v&&(m=v.slice())}function u(){return g}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function c(e){if(!(0,o["default"])(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error("Reducers may not dispatch actions.");try{y=!0,g=h(g,e)}finally{y=!1}for(var t=v=m,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:s.INIT})}function d(){var e,t=l;return(e={subscribe:function(e){function n(){e.next&&e.next(u())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}})[a["default"]]=function(){return this},e}var p;if("function"==typeof t&&void 0===n&&(n=t,t=undefined),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,g=t,v=[],m=v,y=!1;return c({type:s.INIT}),(p={dispatch:c,subscribe:l,getState:u,replaceReducer:f})[a["default"]]=d,p}t.__esModule=!0,t.ActionTypes=undefined,t["default"]=i;var o=r(n(353)),a=r(n(363)),s=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var i=n(354),o=n(360),a=n(362),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=c.call(Object);e.exports=r},function(e,t,n){function r(e){return null==e?e===undefined?u:s:l&&l in Object(e)?o(e):a(e)}var i=n(355),o=n(358),a=n(359),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:undefined;e.exports=r},function(e,t,n){var r=n(356).Symbol;e.exports=r},function(e,t,n){var r=n(357),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=undefined;var r=!0}catch(o){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(355),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:undefined;e.exports=r},function(e){function t(e){return n.call(e)}var n=Object.prototype.toString;e.exports=t},function(e,t,n){var r=n(361)(Object.getPrototypeOf,Object);e.exports=r},function(e){function t(e,t){return function(n){return e(t(n))}}e.exports=t},function(e){function t(e){return null!=e&&"object"==typeof e}e.exports=t},function(e,t,n){e.exports=n(364)},function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o,a=i(n(366));o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=(0,a["default"])(o);t["default"]=s}).call(t,function(){return this}(),n(365)(e))},function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(undefined,{type:s.ActionTypes.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");var r="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(undefined,{type:r}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"==typeof e[a]&&(n[a]=e[a])}var s=Object.keys(n);var u=void 0;try{o(n)}catch(l){u=l}return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,o={},a=0;a<s.length;a++){var l=s[a],c=n[l],f=e[l],d=c(f,t);if(void 0===d){var p=i(l,t);throw new Error(p)}o[l]=d,r=r||d!==f}return r?o:e}}t.__esModule=!0,t["default"]=a;var s=n(352);r(n(353)),r(n(368))},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(undefined,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var a=r[o],s=e[a];"function"==typeof s&&(i[a]=n(s,t))}return i}t.__esModule=!0,t["default"]=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var s=e(n,r,i),u=s.dispatch,l=[],c={getState:s.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=a["default"].apply(undefined,l)(s.dispatch),o({},s,{dispatch:u})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var a=r(n(371))},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(undefined,arguments))}})}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case i.ADD:case i.CHANGE:return t.payload.attributes;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(373)},function(e,t){"use strict";function n(e){var t=e.collectionName,n=e.items;return{type:a,meta:{collectionName:t},payload:{collectionName:t,items:n}}}function r(e){var t=e.collectionName,n=e.attributes;return{type:s,meta:{collectionName:t},payload:{attributes:n}}}function i(e){var t=e.collectionName,n=e.attributes;return{type:u,meta:{collectionName:t},payload:{attributes:n}}}function o(e){var t=e.collectionName,n=e.attributes;return{type:l,meta:{collectionName:t},payload:{attributes:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.reset=n,t.add=r,t.change=i,t.remove=o;var a=t.RESET="COLLECTION_RESET",s=t.ADD="COLLECTION_ADD",u=t.CHANGE="COLLECTION_CHANGE",l=t.REMOVE="COLLECTION_REMOVE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.pages,n=e.pageTypeSagas;return regeneratorRuntime.mark(function r(){var e;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield((0,o["default"])(),"t0",1);case 1:return r.delegateYield((0,a["default"])(t),"t1",2);case 2:return e=void 0,r.next=5,(0,l.takeEvery)(s.ENHANCE,regeneratorRuntime.mark(function c(){var t,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,u.select)((0,i.pageAttribute)("type"));case 2:if(t=o.sent,!(r=n[t])){o.next=8;break}return o.next=7,(0,u.fork)(r);case 7:e=o.sent;case 8:case"end":return o.stop()}},c,this)}));case 5:return r.next=7,(0,l.takeEvery)(s.CLEANUP,regeneratorRuntime.mark(function f(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,(0,u.cancel)(e);case 3:case"end":return t.stop()}},f,this)}));case 7:case"end":return r.stop()}},r,this)})};var i=n(375),o=r(n(425)),a=r(n(426)),s=n(329),u=n(383),l=n(387)},function(e,t,n){"use strict";function r(e,t){return(0,p.memoizedSelector)(h(t),function(t){return t&&t.attributes[e]})}function i(e){return(0,p.memoizedSelector)(h(e),function(e){return e&&e.attributes})}function o(e,t){return(0,p.memoizedSelector)(h(t),function(t){return t&&t.state.custom[e]})}function a(e){return f("isActive",e)}function s(e){return f("isActivated",e)}function u(e){return f("isPreloaded",e)}function l(e){return f("isPrepared",e)}function c(e){return f("initialScrollerPosition",e)}function f(e,t){return(0,p.memoizedSelector)(h(t),function(t){return t&&t.state.common[e]})}Object.defineProperty(t,"__esModule",{value:!0}),t.selector=undefined,t.pageAttribute=r,t.pageAttributes=i,t.pageState=o,t.pageIsActive=a,t.pageIsActivated=s,t.pageIsPreloaded=u,t.pageIsPrepared=l,t.initialScrollerPosition=c;var d=n(376),p=n(339),h=t.selector=(0,d.createItemSelector)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.createItemScopeProvider=t.createItemScopeConnector=t.createSaga=t.createReducer=t.createItemSelector=t.createItemsSelector=undefined;var i=r(n(377)),o=r(n(378)),a=r(n(380)),s=r(n(381)),u=r(n(396)),l=r(n(419)),c=r(n(420));t.createItemsSelector=i["default"],t.createItemSelector=o["default"],t.createReducer=a["default"],t.createSaga=s["default"],t.createItemScopeConnector=u["default"],t.createItemScopeProvider=l["default"],t.watch=c["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{}).namespace;return function(n){if(t){if(!n[t])throw new Error("Cannot select from unknown namespace "+t+".");n=n[t]}return n[e]||{}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=(arguments.length>1&&arguments[1]!==undefined?arguments[1]:{}).namespace;return function(){var n=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).id;return function(i,o){var a=n,s=i;if(t){if(!i[t])throw new Error("Cannot select from unknown namespace "+t+".");s=i[t]}if(!s[e])throw new Error("Cannot select from unknown collection "+e+".");return"function"==typeof n&&(a=n(i,o)),(a=a||i[(0,r.getItemScopeProperty)(e)])?s[e][a]:null}}};var r=n(379)},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,r){return o({},e,n({},i(t),r))}function i(e){
return"__"+e+"_connectedId"}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.addItemScope=r,t.getItemScopeProperty=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=t.idAttribute,r=n===undefined?"id":n,u=t.itemReducer,l=u===undefined?s["default"]:u;return function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments[1],s=void 0,u=void 0;if(!n.meta||n.meta.collectionName!=e)return t;switch(n.type){case a.RESET:return n.payload.items.reduce(function(e,t){return e[t[r]]=l(undefined,(0,a.add)({collectioName:n.payload.collectioName,attributes:t})),e},{});case a.ADD:return o({},t,i({},n.payload.attributes[r],l(undefined,n)));case a.CHANGE:return u=n.payload.attributes[r],o({},t,i({},u,l(t[u],n)));case a.REMOVE:return u=n.payload.attributes[r],delete(s=o({},t))[u],s;default:if(n.meta.itemId){var c=t[n.meta.itemId],f=l(c,n);if(f!==c)return o({},t,i({},n.meta.itemId,f))}return t}}};var a=n(373),s=r(n(372))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){return function e(t){var n=t.getState,r=t.dispatch,i=o();return e.getState=n,e.dispatch=r,e.subscribe=i.subscribe,function(e){return function(t){var n=e(t);return i.emit(t),n}}}}function o(){function e(e){return n.push(e),function(){return a(n,e)}}function t(e){for(var t=n.slice(),r=0,i=t.length;r<i;r++)t[r](e)}var n=[];return{subscribe:e,emit:t}}function a(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){function n(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e={},t.next=3,(0,c.takeEvery)([d.RESET,d.ADD,d.REMOVE],r,e);case 3:case"end":return t.stop()}},p,this)}function r(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.select)(b);case 2:return t=n.sent,n.delegateYield(i(t,e),"t0",4);case 4:return n.delegateYield(o(t,e),"t1",5);case 5:case"end":return n.stop()}},h,this)}function i(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object.keys(t).map(function(n){if(!(n in e))return(0,l.cancel)(t[n])});case 2:case"end":return n.stop()}},g,this)}function o(e,t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object.keys(e).map(function(e){if(!t[e])return(0,l.fork)(a,parseInt(e,10))});case 2:n=r.sent,Object.keys(e).forEach(function(e,r){t[e]||(t[e]=n[r])});case 4:case"end":return r.stop()}},v,this)}function a(t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=(0,c.runSaga)(y(),{subscribe:function(n){return _.subscribe(function(r){(0,s.isItemAction)(r,e)&&(0,s.getItemIdFromItemAction)(r)!=t||n(r)})},dispatch:function(n){(0,s.ensureItemActionId)(n,e,t),_.dispatch(n)},getState:function(){return(0,u.addItemScope)(_.getState(),e,t)}}),r.prev=1,r.next=4,(0,l.call)(function(){return n.done});case 4:return r.prev=4,n.cancel(),r.finish(4);case 7:case"end":return r.stop()}},m,this,[[1,,4,7]])}var p=regeneratorRuntime.mark(n),h=regeneratorRuntime.mark(r),g=regeneratorRuntime.mark(i),v=regeneratorRuntime.mark(o),m=regeneratorRuntime.mark(a),y=t.itemSaga,_=t.middleware,b=(0,f["default"])(e);return n},t.createMiddleware=i;var s=n(382),u=n(379),l=n(383),c=n(387),f=r(n(377)),d=n(373)},function(e,t){"use strict";function n(e,t,n){e.meta&&e.meta.collectionName==t&&!e.meta.itemId&&(e.meta=o({},e.meta,{itemId:n}))}function r(e,t){return e.meta&&e.meta.collectionName==t}function i(e){return e.meta&&e.meta.itemId}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.ensureItemActionId=n,t.isItemAction=r,t.getItemIdFromItemAction=i},function(e,t,n){e.exports=n(384)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(385);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return r.take}}),Object.defineProperty(t,"takem",{enumerable:!0,get:function(){return r.takem}}),Object.defineProperty(t,"put",{enumerable:!0,get:function(){return r.put}}),Object.defineProperty(t,"race",{enumerable:!0,get:function(){return r.race}}),Object.defineProperty(t,"call",{enumerable:!0,get:function(){return r.call}}),Object.defineProperty(t,"apply",{enumerable:!0,get:function(){return r.apply}}),Object.defineProperty(t,"cps",{enumerable:!0,get:function(){return r.cps}}),Object.defineProperty(t,"fork",{enumerable:!0,get:function(){return r.fork}}),Object.defineProperty(t,"spawn",{enumerable:!0,get:function(){return r.spawn}}),Object.defineProperty(t,"join",{enumerable:!0,get:function(){return r.join}}),Object.defineProperty(t,"cancel",{enumerable:!0,get:function(){return r.cancel}}),Object.defineProperty(t,"select",{enumerable:!0,get:function(){return r.select}}),Object.defineProperty(t,"actionChannel",{enumerable:!0,get:function(){return r.actionChannel}}),Object.defineProperty(t,"cancelled",{enumerable:!0,get:function(){return r.cancelled}}),Object.defineProperty(t,"flush",{enumerable:!0,get:function(){return r.flush}})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"*";if(arguments.length&&(0,T.check)(arguments[0],T.is.notUndef,"take(patternOrChannel): patternOrChannel is undefined"),T.is.pattern(e))return N(E,{pattern:e});if(T.is.channel(e))return N(E,{channel:e});throw new Error("take(patternOrChannel): argument "+String(e)+" is not valid channel or a valid pattern")}function o(){var e=i.apply(undefined,arguments);return e[E].maybe=!0,e}function a(e,t){return arguments.length>1?((0,T.check)(e,T.is.notUndef,"put(channel, action): argument channel is undefined"),(0,T.check)(e,T.is.channel,"put(channel, action): argument "+e+" is not a valid channel"),(0,T.check)(t,T.is.notUndef,"put(channel, action): argument action is undefined")):((0,T.check)(e,T.is.notUndef,"put(action): argument action is undefined"),t=e,e=null),N(S,{channel:e,action:t})}function s(e){return N(P,e)}function u(e,t,n){(0,T.check)(t,T.is.notUndef,e+": argument fn is undefined");var r=null;if(T.is.array(t)){var i=b(t,2);r=i[0],t=i[1]}else if(t.fn){var o=t;r=o.context,t=o.fn}return(0,T.check)(t,T.is.func,e+": argument "+t+" is not a function"),{context:r,fn:t,args:n}}function l(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(C,u("call",e,n))}function c(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];return N(C,u("apply",{context:e,fn:t},n))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(I,u("cps",e,n))}function d(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return N(x,u("fork",e,n))}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=d.apply(undefined,[e].concat(n));return i[x].detached=!0,i}function h(e){if((0,T.check)(e,T.is.notUndef,"join(task): argument task is undefined"),!L(e))throw new Error("join(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return N(A,e)}function g(e){if((0,T.check)(e,T.is.notUndef,"cancel(task): argument task is undefined"),!L(e))throw new Error("cancel(task): argument "+e+" is not a valid Task object \n(HINT: if you are getting this errors in tests, consider using createMockTask from redux-saga/utils)");return N(O,e)}function v(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 0===arguments.length?e=T.ident:((0,T.check)(e,T.is.notUndef,"select(selector,[...]): argument selector is undefined"),(0,T.check)(e,T.is.func,"select(selector,[...]): argument "+e+" is not a function")),N(k,{selector:e,args:n})}function m(e,t){return(0,T.check)(e,T.is.notUndef,"actionChannel(pattern,...): argument pattern is undefined"),arguments.length>1&&((0,T.check)(t,T.is.notUndef,"actionChannel(pattern, buffer): argument buffer is undefined"),(0,T.check)(t,T.is.notUndef,"actionChannel(pattern, buffer): argument "+t+" is not a valid buffer")),N(M,{pattern:e,buffer:t})}function y(){return N(R,{})}function _(e){return(0,T.check)(e,T.is.channel,"flush(channel): argument "+e+" is not valid channel"),N(D,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.asEffect=undefined;var b=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.take=i,t.takem=o,t.put=a,t.race=s,t.call=l,t.apply=c,t.cps=f,t.fork=d,t.spawn=p,t.join=h,t.cancel=g,t.select=v,t.actionChannel=m,t.cancelled=y,t.flush=_;var T=n(386),w=(0,T.sym)("IO"),E="TAKE",S="PUT",P="RACE",C="CALL",I="CPS",x="FORK",A="JOIN",O="CANCEL",k="SELECT",M="ACTION_CHANNEL",R="CANCELLED",D="FLUSH",N=function(e,t){var n;return r(n={},w,!0),r(n,e,t),n};a.sync=function(){var e=a.apply(undefined,arguments);return e[S].sync=!0,e};var L=function(e){return e[T.TASK]};t.asEffect={take:function(e){return e&&e[w]&&e[E]},put:function(e){return e&&e[w]&&e[S]},race:function(e){return e&&e[w]&&e[P]},call:function(e){return e&&e[w]&&e[C]},cps:function(e){return e&&e[w]&&e[I]},fork:function(e){return e&&e[w]&&e[x]},join:function(e){return e&&e[w]&&e[A]},cancel:function(e){return e&&e[w]&&e[O]},select:function(e){return e&&e[w]&&e[k]},actionChannel:function(e){return e&&e[w]&&e[M]},cancelled:function(e){return e&&e[w]&&e[R]},flush:function(e){return e&&e[w]&&e[D]}}},function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n){if(!t(e))throw f("error","uncaught at check",n),new Error(n)}function i(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function o(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=p({},e),n=new Promise(function(e,n){t.resolve=e,t.reject=n});return t.promise=n,t}function a(e){for(var t=[],n=0;n<e;n++)t.push(o());return t}function s(e){var t=!(arguments.length>1&&arguments[1]!==undefined)||arguments[1],n=void 0,r=new Promise(function(r){n=setTimeout(function(){return r(t)},e)});return r[y]=function(){return clearTimeout(n)},r}function u(){var e,t=!0,r=void 0,i=void 0;return n(e={},v,!0),n(e,"isRunning",function(){return t}),n(e,"result",function(){return r}),n(e,"error",function(){return i}),n(e,"setRunning",function(e){return t=e}),n(e,"setResult",function(e){return r=e}),n(e,"setError",function(e){return i=e}),e}function l(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return function(){return++e}}function c(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:w,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",r=arguments[3],i={name:n,next:e,"throw":t,"return":E};return r&&(i[m]=!0),"undefined"!=typeof Symbol&&(i[Symbol.iterator]=function(){return i}),i}function f(e,t,n){"undefined"==typeof window?console.log("redux-saga "+e+": "+t+"\n"+(n&&n.stack||n)):console[e](t,n)}function d(e){return function(t){var n=Object.defineProperty(t,_,{value:!0});return e(n)}}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.check=r,t.remove=i,t.deferred=o,t.arrayOfDeffered=a,t.delay=s,t.createMockTask=u,t.autoInc=l,t.makeIterator=c,t.log=f,t.wrapSagaDispatch=d;var g=t.sym=function(e){return"@@redux-saga/"+e},v=t.TASK=g("TASK"),m=t.HELPER=g("HELPER"),y=(t.MATCH=g("MATCH"),t.CANCEL=g("cancelPromise")),_=t.SAGA_ACTION=g("SAGA_ACTION"),b=t.konst=function(e){return function(){return e}},T=(t.kTrue=b(!0),t.kFalse=b(!1),t.noop=function(){},t.ident=function(e){return e},t.is={undef:function(e){return null===e||e===undefined},notUndef:function(e){return null!==e&&e!==undefined},func:function(e){return"function"==typeof e},number:function(e){return"number"==typeof e},array:Array.isArray,promise:function(e){return e&&T.func(e.then)},iterator:function(e){return e&&T.func(e.next)&&T.func(e["throw"])},task:function(e){return e&&e[v]},observable:function(e){return e&&T.func(e.subscribe)},buffer:function(e){return e&&T.func(e.isEmpty)&&T.func(e.take)&&T.func(e.put)},pattern:function(e){return e&&("string"==typeof e||"symbol"===(void 0===e?"undefined":h(e))||T.func(e)||T.array(e))},channel:function(e){return e&&T.func(e.take)&&T.func(e.close)},helper:function(e){return e&&e[m]}}),w=(t.uid=l(),function(e){throw e}),E=function(e){return{value:e,done:!0}};t.internalErr=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.effects=t.CANCEL=t.delay=t.throttle=t.takeLatest=t.takeEvery=t.buffers=t.channel=t.eventChannel=t.END=t.runSaga=undefined;var o=n(388);Object.defineProperty(t,"runSaga",{enumerable:!0,get:function(){return o.runSaga}});var a=n(391);Object.defineProperty(t,"END",{enumerable:!0,get:function(){return a.END}}),Object.defineProperty(t,"eventChannel",{enumerable:!0,get:function(){return a.eventChannel}}),Object.defineProperty(t,"channel",{enumerable:!0,get:function(){return a.channel}});var s=n(392);Object.defineProperty(t,"buffers",{enumerable:!0,get:function(){return s.buffers}});var u=n(393);Object.defineProperty(t,"takeEvery",{enumerable:!0,get:function(){return u.takeEvery}}),Object.defineProperty(t,"takeLatest",{enumerable:!0,get:function(){return u.takeLatest}}),Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return u.throttle}});var l=n(386);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return l.delay}}),Object.defineProperty(t,"CANCEL",{enumerable:!0,get:function(){return l.CANCEL}});var c=i(n(394)),f=r(n(384)),d=r(n(395));t["default"]=c["default"],t.effects=f,t.utils=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=t.subscribe,r=t.dispatch,i=t.getState,s=t.sagaMonitor,u=t.logger;(0,o.check)(e,o.is.iterator,"runSaga must be called on an iterator");var l=(0,o.uid)();s&&(r=(0,o.wrapSagaDispatch)(r),s.effectTriggered({effectId:l,root:!0,parentEffectId:0,effect:{root:!0,saga:e,args:[]}}));var c=(0,a["default"])(e,n,r,i,{sagaMonitor:s,logger:u},l,e.name);return s&&s.effectResolved(l,c),c}Object.defineProperty(t,"__esModule",{value:!0}),t.runSaga=i;var o=n(386),a=r(n(389))},function(e,t,n){"use strict";function r(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return("*"===e?b.wildcard:f.is.array(e)?b.array:f.is.func(e)?b.predicate:b["default"])(e)}function s(e,t,n){function r(e){o(),n(e,!0)}function i(e){a.push(e),e.cont=function(i,o){u||((0,f.remove)(a,e),e.cont=f.noop,o?r(i):(e===t&&(s=i),a.length||(u=!0,n(s))))}}function o(){u||(u=!0,a.forEach(function(e){e.cont=f.noop,e.cancel()}),a=[])}var a=[],s=void 0,u=!1;return i(t),{addTask:i,cancelAll:o,abort:r,getTasks:function(){return a},taskNames:function(){return a.map(function(e){return e.name})}}}function u(e){var t=e.context,n=e.fn,r=e.args;if(f.is.iterator(n))return n;var i,o,a,s=void 0,u=void 0;try{s=n.apply(t,r)}catch(l){u=l}return f.is.iterator(s)?s:u?(0,f.makeIterator)(function(){throw u}):(0,f.makeIterator)((i=void 0,o={done:!1,value:s},a=function(e){return{done:!0,value:e}},function(e){return i?a(e):(i=!0,o)}))}function l(e){return{fn:e}}function c(e){function t(){J.isRunning&&!J.isCancelled&&(J.isCancelled=!0,b(_))}function n(){e._isRunning&&!e._isCancelled&&(e._isCancelled=!0,Z.cancelAll(),T(_))}function b(t,n){if(!J.isRunning)throw new Error("Trying to resume an already finished generator");try{var r=void 0;n?r=e["throw"](t):t===_?(J.isCancelled=!0,b.cancel(),r=f.is.func(e["return"])?e["return"](_):{done:!0,value:_}):r=t===y?f.is.func(e["return"])?e["return"]():{done:!0}:e.next(t),r.done?(J.isMainRunning=!1,J.cont&&J.cont(r.value)):w(r.value,z,"",b)}catch(i){J.isCancelled&&Q("error","uncaught at "+q,i.message),J.isMainRunning=!1,J.cont(i,!0)}}function T(t,n){e._isRunning=!1,X.close(),n?(t instanceof Error&&(t.sagaStack="at "+q+" \n "+(t.sagaStack||t.stack)),$.cont||(Q("error","uncaught",t.sagaStack||t.stack),t instanceof Error&&W&&W(t)),e._error=t,e._isAborted=!0,e._deferredEnd&&e._deferredEnd.reject(t)):(t===_&&v&&Q("info",q+" has been cancelled",""),e._result=t,e._deferredEnd&&e._deferredEnd.resolve(t)),$.cont&&$.cont(t,n),$.joiners.forEach(function(e){return e.cb(t,n)}),$.joiners=null}function w(e,t){function n(e,t){a||(a=!0,i.cancel=f.noop,K&&(t?K.effectRejected(o,e):K.effectResolved(o,e)),i(e,t))}var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"",i=arguments[3],o=(0,f.uid)();K&&K.effectTriggered({effectId:o,parentEffectId:t,label:r,effect:e});var a=void 0;n.cancel=f.noop,i.cancel=function(){if(!a){a=!0;try{n.cancel()}catch(e){Q("error","uncaught at "+q,e.message)}n.cancel=f.noop,K&&K.effectCancelled(o)}};var s=void 0;return f.is.promise(e)?E(e,n):f.is.helper(e)?A(l(e),o,n):f.is.iterator(e)?S(e,o,q,n):f.is.array(e)?M(e,o,n):f.is.notUndef(s=p.asEffect.take(e))?P(s,n):f.is.notUndef(s=p.asEffect.put(e))?C(s,n):f.is.notUndef(s=p.asEffect.race(e))?R(s,o,n):f.is.notUndef(s=p.asEffect.call(e))?I(s,o,n):f.is.notUndef(s=p.asEffect.cps(e))?x(s,n):f.is.notUndef(s=p.asEffect.fork(e))?A(s,o,n):f.is.notUndef(s=p.asEffect.join(e))?O(s,n):f.is.notUndef(s=p.asEffect.cancel(e))?k(s,n):f.is.notUndef(s=p.asEffect.select(e))?D(s,n):f.is.notUndef(s=p.asEffect.actionChannel(e))?N(s,n):f.is.notUndef(s=p.asEffect.flush(e))?j(s,n):f.is.notUndef(s=p.asEffect.cancelled(e))?L(s,n):n(e)}function E(e,t){var n=e[f.CANCEL];"function"==typeof n&&(t.cancel=n),e.then(t,function(e){return t(e,!0)})}function S(e,t,n,r){c(e,B,U,H,V,t,n,r)}function P(e,t){var n=e.channel,r=e.pattern,i=e.maybe;n=n||X;var o=function(e){return e instanceof Error?t(e,!0):(0,h.isEnd)(e)&&!i?t(y):t(e)};try{n.take(o,a(r))}catch(s){return t(s,!0)}t.cancel=o.cancel}function C(e,t){var n=e.channel,r=e.action,i=e.sync;(0,d.asap)(function(){var e=void 0;try{e=(n?n.put:U)(r)}catch(o){if(n||i)return t(o,!0);Q("error","uncaught at "+q,o.stack||o.message||o)}if(!i||!f.is.promise(e))return t(e);E(e,t)})}function I(e,t,n){var r=e.context,i=e.fn,o=e.args,a=void 0;try{a=i.apply(r,o)}catch(s){return n(s,!0)}return f.is.promise(a)?E(a,n):f.is.iterator(a)?S(a,t,i.name,n):n(a)}function x(e,t){var n,r=e.context,i=e.fn,o=e.args;try{n=function(e,n){return f.is.undef(e)?t(n):t(e,!0)},i.apply(r,o.concat(n)),n.cancel&&(t.cancel=function(){return n.cancel()})}catch(a){return t(a,!0)}}function A(e,t,n){var r=e.context,i=e.fn,o=e.args,a=e.detached,s=u({context:r,fn:i,args:o});try{(0,d.suspend)();var l=c(s,B,U,H,V,t,i.name,a?null:f.noop);a?n(l):s._isRunning?(Z.addTask(l),n(l)):s._error?Z.abort(s._error):n(l)}finally{(0,d.flush)()}}function O(e,t){var n;e.isRunning()?(n={task:$,cb:t},t.cancel=function(){return(0,f.remove)(e.joiners,n)},e.joiners.push(n)):e.isAborted()?t(e.error(),!0):t(e.result())}function k(e,t){e.isRunning()&&e.cancel(),t()}function M(e,t,n){function r(){i===a.length&&(o=!0,n(a))}if(!e.length)return n([]);var i=0,o=void 0,a=Array(e.length),s=e.map(function(e,t){var s=function(e,s){o||(s||(0,h.isEnd)(e)||e===y||e===_?(n.cancel(),n(e,s)):(a[t]=e,i++,r()))};return s.cancel=f.noop,s});n.cancel=function(){o||(o=!0,s.forEach(function(e){return e.cancel()}))},e.forEach(function(e,n){return w(e,t,n,s[n])})}function R(e,t,n){var r=void 0,i=Object.keys(e),a={};i.forEach(function(e){var t=function(t,i){r||(i?(n.cancel(),n(t,!0)):(0,h.isEnd)(t)||t===y||t===_||(n.cancel(),r=!0,n(o({},e,t))))};t.cancel=f.noop,a[e]=t}),n.cancel=function(){r||(r=!0,i.forEach(function(e){return a[e].cancel()}))},i.forEach(function(n){r||w(e[n],t,n,a[n])})}function D(e,t){var n=e.selector,r=e.args;try{var o=n.apply(undefined,[H()].concat(i(r)));t(o)}catch(a){t(a,!0)}}function N(e,t){var n=e.pattern,r=e.buffer,i=a(n);i.pattern=n,t((0,h.eventChannel)(B,r||g.buffers.fixed(),i))}function L(e,t){t(!!J.isCancelled)}function j(e,t){e.flush(t)}function F(e,t,i,a){var s,u,l;return i._deferredEnd=null,o(u={},f.TASK,!0),o(u,"id",e),o(u,"name",t),(l={})[s="done"]=l[s]||{},l[s].get=function(){if(i._deferredEnd)return i._deferredEnd.promise;var e=(0,f.deferred)();return i._deferredEnd=e,i._isRunning||(i._error?e.reject(i._error):e.resolve(i._result)),e.promise},o(u,"cont",a),o(u,"joiners",[]),o(u,"cancel",n),o(u,"isRunning",function(){return i._isRunning}),o(u,"isCancelled",function(){return i._isCancelled}),o(u,"isAborted",function(){return i._isAborted}),o(u,"result",function(){return i._result}),o(u,"error",function(){return i._error}),r(u,l),u}var B=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){return f.noop},U=arguments.length>2&&arguments[2]!==undefined?arguments[2]:f.noop,H=arguments.length>3&&arguments[3]!==undefined?arguments[3]:f.noop,V=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{},z=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0,q=arguments.length>6&&arguments[6]!==undefined?arguments[6]:"anonymous",G=arguments[7];(0,f.check)(e,f.is.iterator,m);var K=V.sagaMonitor,Y=V.logger,W=V.onError,Q=Y||f.log,X=(0,h.stdChannel)(B);b.cancel=f.noop;var $=F(z,q,e,G),J={name:q,cancel:t,isRunning:!0},Z=s(q,J,T);return G&&(G.cancel=n),e._isRunning=!0,b(),$}Object.defineProperty(t,"__esModule",{value:!0}),t.TASK_CANCEL=t.CHANNEL_END=t.NOT_ITERATOR_ERROR=undefined,t["default"]=c;var f=n(386),d=n(390),p=n(385),h=n(391),g=n(392),v=!1,m=t.NOT_ITERATOR_ERROR="proc first argument (Saga function result) must be an iterator",y=t.CHANNEL_END={toString:function(){return"@@redux-saga/CHANNEL_END"}},_=t.TASK_CANCEL={toString:function(){return"@@redux-saga/TASK_CANCEL"}},b={wildcard:function(){return f.kTrue},"default":function(e){return function(t){return t.type===e}},array:function(e){return function(t){return e.some(function(e){return e===t.type})}},predicate:function(e){return function(t){return e(t)}}}},function(e,t){"use strict";function n(e){try{i(),e()}finally{o()}}function r(e){s?a.push(e):n(e)}function i(){s++}function o(){!--s&&a.length&&n(a.shift())}Object.defineProperty(t,"__esModule",{value:!0}),t.asap=r,t.suspend=i,t.flush=o;var a=[],s=0},function(e,t,n){"use strict";function r(){function e(e){return n.push(e),function(){return(0,u.remove)(n,e)}}function t(e){for(var t=n.slice(),r=0,i=t.length;r<i;r++)t[r](e)}var n=[];return{subscribe:e,emit:t}}function i(){function e(){if(a&&s.length)throw(0,u.internalErr)("Cannot have a closed channel with pending takers");if(s.length&&!o.isEmpty())throw(0,u.internalErr)("Cannot have pending takers with non empty buffer")}function t(t){if(e(),(0,u.check)(t,u.is.notUndef,h),!a){if(!s.length)return o.put(t);for(var n=0;n<s.length;n++){var r=s[n];if(!r[u.MATCH]||r[u.MATCH](t))return s.splice(n,1),r(t)}}}function n(t){e(),(0,u.check)(t,u.is.func,"channel.take's callback must be a function"),a&&o.isEmpty()?t(f):o.isEmpty()?(s.push(t),t.cancel=function(){return(0,u.remove)(s,t)}):t(o.take())}function r(t){e(),(0,u.check)(t,u.is.func,"channel.flush' callback must be a function"),a&&o.isEmpty()?t(f):t(o.flush())}function i(){if(e(),!a&&(a=!0,s.length)){var t=s;s=[];for(var n=0,r=t.length;n<r;n++)t[n](f)}}var o=arguments.length>0&&arguments[0]!==undefined?arguments[0]:l.buffers.fixed(),a=!1,s=[];return(0,u.check)(o,u.is.buffer,p),{take:n,put:t,flush:r,close:i,get __takers__(){return s},get __closed__(){return a}}}function o(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:l.buffers.none(),n=arguments[2];arguments.length>2&&(0,u.check)(n,u.is.func,"Invalid match function passed to eventChannel");var r=i(t),o=e(function(e){d(e)?r.close():n&&!n(e)||r.put(e)});if(!u.is.func(o))throw new Error("in eventChannel: subscribe should return a function to unsubscribe");return{take:r.take,flush:r.flush,close:function(){r.__closed__||(r.close(),o())}}}function a(e){var t=o(e);return s({},t,{take:function(e,n){arguments.length>1&&((0,u.check)(n,u.is.func,"channel.take's matcher argument must be a function"),e[u.MATCH]=n),t.take(e)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.UNDEFINED_INPUT_ERROR=t.INVALID_BUFFER=t.isEnd=t.END=undefined;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.emitter=r,t.channel=i,t.eventChannel=o,t.stdChannel=a;var u=n(386),l=n(392),c="@@redux-saga/CHANNEL_END",f=t.END={type:c},d=t.isEnd=function(e){return e&&e.type===c},p=t.INVALID_BUFFER="invalid buffer passed to channel factory function",h=t.UNDEFINED_INPUT_ERROR="Saga was provided with an undefined action"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10,t=arguments[1],n=new Array(e),r=0,i=0,s=0,c=function(t){n[i]=t,i=(i+1)%e,r++},f=function(){if(0!=r){var t=n[s];return n[s]=null,r--,s=(s+1)%e,t}},d=function(){for(var e=[];r;)e.push(f());return e};return{isEmpty:function(){return 0==r},put:function(f){if(r<e)c(f);else{var p=void 0;switch(t){case a:throw new Error(o);case u:n[i]=f,s=i=(i+1)%e;break;case l:p=2*e,n=d(),r=n.length,i=n.length,s=0,n.length=p,e=p,c(f)}}},take:f,flush:d}}Object.defineProperty(t,"__esModule",{value:!0}),t.buffers=t.BUFFER_OVERFLOW=undefined;var i=n(386),o=t.BUFFER_OVERFLOW="Channel's Buffer overflow!",a=1,s=2,u=3,l=4,c={isEmpty:i.kTrue,put:i.noop,take:i.noop};t.buffers={none:function(){return c},fixed:function(e){return r(e,a)},dropping:function(e){return r(e,s)},sliding:function(e){return r(e,u)},expanding:function(e){return r(e,l)}}},function(e,t,n){"use strict";function r(e,t){function n(t,n){if(o===h)return p;if(n)throw o=h,n;i&&i(t);var r=e[o](),a=u(r,3),s=a[0],l=a[1],c=a[2];return i=c,(o=s)===h?p:l}var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"iterator",i=void 0,o=t;return(0,c.makeIterator)(n,function(e){return n(null,e)},r,!0)}function i(e){return Array.isArray(e)?String(e.map(function(e){return String(e)})):String(e)}function o(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s={done:!1,value:(0,f.take)(e)},u=function(e){return{done:!1,value:f.fork.apply(undefined,[t].concat(o,[e]))}},c=void 0,d=function(e){return c=e};return r({q1:function(){return["q2",s,d]},q2:function(){return c===l.END?[h]:["q1",u(c)]}},"q1","takeEvery("+i(e)+", "+t.name+")")}function a(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var s={done:!1,value:(0,f.take)(e)},u=function(e){return{done:!1,value:f.fork.apply(undefined,[t].concat(o,[e]))}},c=function(e){return{done:!1,value:(0,f.cancel)(e)}},d=void 0,p=void 0,g=function(e){return d=e},v=function(e){return p=e};return r({q1:function(){return["q2",s,v]},q2:function(){return p===l.END?[h]:d?["q3",c(d)]:["q1",u(p),g]},q3:function(){return["q1",u(p),g]}},"q1","takeLatest("+i(e)+", "+t.name+")")}function s(e,t,n){for(var o=arguments.length,a=Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];var u=void 0,p=void 0,g={done:!1,value:(0,f.actionChannel)(t,d.buffers.sliding(1))},v=function(){return{done:!1,value:(0,f.take)(p,t)}},m=function(e){return{done:!1,value:f.fork.apply(undefined,[n].concat(a,[e]))}},y={done:!1,value:(0,f.call)(c.delay,e)},_=function(e){return u=e},b=function(e){return p=e};return r({q1:function(){return["q2",g,b]},q2:function(){return["q3",v(),_]},q3:function(){return u===l.END?[h]:["q4",m(u)]},q4:function(){return["q2",y]}},"q1","throttle("+i(t)+", "+n.name+")")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.takeEvery=o,t.takeLatest=a,t.throttle=s;var l=n(391),c=n(386),f=n(385),d=n(392),p={done:!0,value:undefined},h={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(){function e(e){function o(e,n,r){return(0,s["default"])(e.apply(undefined,i(n)),d.subscribe,p,c,t,r,e.name)}var c=e.getState,f=e.dispatch;n=o;var d=(0,l.emitter)(),p=(0,a.wrapSagaDispatch)(f);return function(e){return function(t){r&&r.actionDispatched(t);var n=e(t);return t[a.SAGA_ACTION]?d.emit(t):(0,u.asap)(function(){return d.emit(t)}),n}}}var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=void 0,r=t.sagaMonitor;if(a.is.func(t))throw new Error("Saga middleware no longer accept Generator functions. Use sagaMiddleware.run instead");if(t.logger&&!a.is.func(t.logger))throw new Error("`options.logger` passed to the Saga middleware is not a function!");if(t.onerror&&!a.is.func(t.onerror))throw new Error("`options.onerror` passed to the Saga middleware is not a function!");return e.run=function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];(0,a.check)(n,a.is.notUndef,"Before running a Saga, you must mount the Saga middleware on the Store using applyMiddleware"),(0,a.check)(e,a.is.func,"sagaMiddleware.run(saga, ...args): saga argument must be a Generator function!");var s=(0,a.uid)();r&&r.effectTriggered({effectId:s,root:!0,parentEffectId:0,effect:{root:!0,saga:e,args:i}});var u=n(e,i,s);return r&&r.effectResolved(s,u),u},e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var a=n(386),s=r(n(389)),u=n(390),l=n(391)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(386);Object.defineProperty(t,"TASK",{enumerable:!0,get:function(){return r.TASK}}),Object.defineProperty(t,"SAGA_ACTION",{enumerable:!0,get:function(){return r.SAGA_ACTION}}),Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return r.noop}}),Object.defineProperty(t,"is",{enumerable:!0,get:function(){return r.is}}),Object.defineProperty(t,"deferred",{enumerable:!0,get:function(){return r.deferred}}),Object.defineProperty(t,"arrayOfDeffered",{enumerable:!0,get:function(){return r.arrayOfDeffered}}),Object.defineProperty(t,"createMockTask",{enumerable:!0,get:function(){return r.createMockTask}});var i=n(385);Object.defineProperty(t,"CHANNEL_END",{enumerable:!0,get:function(){return i.CHANNEL_END}}),Object.defineProperty(t,"asEffect",{enumerable:!0,get:function(){return i.asEffect}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{
value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){var t=(0,f.getItemScopeProperty)(e);return function(n,r,g){var v=(0,d.connect)(n?function(r,i){var o=n((0,f.addItemScope)(r,e,i[t]),i);return"function"==typeof o?function(n,r){return o((0,f.addItemScope)(n,e,r[t]),r)}:o}:null,r?function(n,i){var o=function(r){return(0,c.ensureItemActionId)(r,e,i[t]),n(r)};return"function"==typeof r?r(o,i):(0,p.bindActionCreators)(r,o)}:null,g);return function(e){var n=v(e),r=function(){function e(){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,h["default"].Component),l(e,[{key:"render",value:function(){var e=u({},this.props,i({},t,this.context[t]));return h["default"].createElement(n,e)}}]),e}();return r.contextTypes=i({},t,h["default"].PropTypes.number),r}}};var c=n(382),f=n(379),d=n(397),p=n(351),h=r(n(333))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.createProvider=t.Provider=undefined;var i=n(398),o=r(i),a=r(n(406)),s=r(n(410));t.Provider=o["default"],t.createProvider=i.createProvider,t.connectAdvanced=a["default"],t.connect=s["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"store",n=arguments[1]||t+"Subscription",r=function(e){function r(n,a){i(this,r);var s=o(this,e.call(this,n,a));return s[t]=n.store,s}return a(r,e),r.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},r.prototype.render=function(){return u.Children.only(this.props.children)},r}(u.Component);return r.propTypes={store:c.storeShape.isRequired,children:l["default"].element.isRequired},r.childContextTypes=((e={})[t]=c.storeShape.isRequired,e[n]=c.subscriptionShape,e),r.displayName="Provider",r}t.__esModule=!0,t.createProvider=s;var u=n(333),l=r(n(399)),c=n(404);r(n(405));t["default"]=s()},function(e,t,n){e.exports=n(400)()},function(e,t,n){"use strict";var r=n(401),i=n(402),o=n(403);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){"use strict";function t(e,t,r,i,o,a,s,u){if(n(t),!e){var l;if(t===undefined)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,a,s,u],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};e.exports=t},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.storeShape=t.subscriptionShape=undefined;var i=r(n(399));t.subscriptionShape=i["default"].shape({trySubscribe:i["default"].func.isRequired,tryUnsubscribe:i["default"].func.isRequired,notifyNestedSubs:i["default"].func.isRequired,isSubscribed:i["default"].func.isRequired}),t.storeShape=i["default"].shape({subscribe:i["default"].func.isRequired,dispatch:i["default"].func.isRequired,getState:i["default"].func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(t){}}t.__esModule=!0,t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(){}function l(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(o){n.shouldComponentUpdate=!0,n.error=o}}};return n}function c(e){var t,n,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},c=r.getDisplayName,_=c===undefined?function(e){return"ConnectAdvanced("+e+")"}:c,b=r.methodName,T=b===undefined?"connectAdvanced":b,w=r.renderCountProp,E=w===undefined?undefined:w,S=r.shouldHandleStateChanges,P=S===undefined||S,C=r.storeKey,I=C===undefined?"store":C,x=r.withRef,A=x!==undefined&&x,O=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),k=I+"Subscription",M=m++,R=((t={})[I]=v.storeShape,t[k]=v.subscriptionShape,t),D=((n={})[k]=v.subscriptionShape,n);return function(t){(0,p["default"])("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=_(n),s=f({},O,{getDisplayName:_,methodName:T,renderCountProp:E,shouldHandleStateChanges:P,storeKey:I,withRef:A,displayName:r,wrappedComponentName:n,WrappedComponent:t}),c=function(n){function c(e,t){i(this,c);var a=o(this,n.call(this,e,t));return a.version=M,a.state={},a.renderCount=0,a.store=e[I]||t[I],a.propsMode=Boolean(e[I]),a.setWrappedInstance=a.setWrappedInstance.bind(a),(0,p["default"])(a.store,'Could not find "'+I+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+I+'" as a prop to "'+r+'".'),a.initSelector(),a.initSubscription(),a}return a(c,n),c.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[k]=t||this.context[k],e},c.prototype.componentDidMount=function(){P&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},c.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},c.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},c.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=u,this.store=null,this.selector.run=u,this.selector.shouldComponentUpdate=!1},c.prototype.getWrappedInstance=function(){return(0,p["default"])(A,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+T+"() call."),this.wrappedInstance},c.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},c.prototype.initSelector=function(){var t=e(this.store.dispatch,s);this.selector=l(t,this.store),this.selector.run(this.props)},c.prototype.initSubscription=function(){if(P){var e=(this.propsMode?this.props:this.context)[k];this.subscription=new g["default"](this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},c.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(y)):this.notifyNestedSubs()},c.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=undefined,this.notifyNestedSubs()},c.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},c.prototype.addExtraProps=function(e){if(!(A||E||this.propsMode&&this.subscription))return e;var t=f({},e);return A&&(t.ref=this.setWrappedInstance),E&&(t[E]=this.renderCount++),this.propsMode&&this.subscription&&(t[k]=this.subscription),t},c.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,h.createElement)(t,this.addExtraProps(e.props))},c}(h.Component);return c.WrappedComponent=t,c.displayName=r,c.childContextTypes=D,c.contextTypes=R,c.propTypes=R,(0,d["default"])(c,t)}}t.__esModule=!0;var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=c;var d=r(n(407)),p=r(n(408)),h=n(333),g=r(n(409)),v=n(404),m=0,y={}},function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},r="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,i,o){if("string"!=typeof i){var a=Object.getOwnPropertyNames(i);r&&(a=a.concat(Object.getOwnPropertySymbols(i)));for(var s=0;s<a.length;++s)if(!(t[a[s]]||n[a[s]]||o&&o[a[s]]))try{e[a[s]]=i[a[s]]}catch(u){}}return e}},function(e){"use strict";var t=function(e,t,n,r,i,o,a,s){if(!e){var u;if(t===undefined)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=t},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}t.__esModule=!0;var i=null,o={notify:function(){}},a=function(){function e(t,r,i){n(this,e),this.store=t,this.parentSub=r,this.onStateChange=i,this.unsubscribe=null,this.listeners=o}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}();t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function a(e,t){return e===t}function s(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.connectHOC,n=t===undefined?l["default"]:t,r=e.mapStateToPropsFactories,s=r===undefined?d["default"]:r,g=e.mapDispatchToPropsFactories,v=g===undefined?f["default"]:g,m=e.mergePropsFactories,y=m===undefined?p["default"]:m,_=e.selectorFactory,b=_===undefined?h["default"]:_;return function(e,t,r){var l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{},f=l.pure,d=f===undefined||f,p=l.areStatesEqual,h=p===undefined?a:p,g=l.areOwnPropsEqual,m=g===undefined?c["default"]:g,_=l.areStatePropsEqual,T=_===undefined?c["default"]:_,w=l.areMergedPropsEqual,E=w===undefined?c["default"]:w,S=i(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),P=o(e,s,"mapStateToProps"),C=o(t,v,"mapDispatchToProps"),I=o(r,y,"mergeProps");return n(b,u({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:C,initMergeProps:I,pure:d,areStatesEqual:h,areOwnPropsEqual:m,areStatePropsEqual:T,areMergedPropsEqual:E},S))}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=s;var l=r(n(406)),c=r(n(411)),f=r(n(412)),d=r(n(415)),p=r(n(416)),h=r(n(417));t["default"]=s()},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}t.__esModule=!0,t["default"]=r;var i=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):undefined}function i(e){return e?undefined:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function o(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)(function(t){return(0,a.bindActionCreators)(e,t)}):undefined}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=o;var a=n(351),s=n(413);t["default"]=[r,i,o]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&e.dependsOnOwnProps!==undefined?Boolean(e.dependsOnOwnProps):1!==e.length}function a(e){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=o(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}}t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=o,t.wrapMapToPropsFunc=a;r(n(414))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){(0,o["default"])(e)||(0,a["default"])(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t["default"]=i;var o=r(n(353)),a=r(n(405))},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapStateToProps"):undefined}function i(e){return e?undefined:(0,o.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=i;var o=n(413);t["default"]=[r,i]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return u({},n,e,t)}function o(e){return function(t,n){n.displayName;var r=n.pure,i=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}function a(e){return"function"==typeof e?o(e):undefined}function s(e){return e?undefined:function(){return i}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=i,t.wrapMergePropsFunc=o,t.whenMergePropsIsFunction=a,t.whenMergePropsIsOmitted=s;r(n(414));t["default"]=[a,s]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function a(e,t,n,r,i){function o(i,o){return v=e(h=i,g=o),m=t(r,g),y=n(v,m,g),p=!0,y}function a(){return v=e(h,g),t.dependsOnOwnProps&&(m=t(r,g)),y=n(v,m,g)}function s(){return e.dependsOnOwnProps&&(v=e(h,g)),t.dependsOnOwnProps&&(m=t(r,g)),y=n(v,m,g)}function u(){var t=e(h,g),r=!d(t,v);return v=t,r&&(y=n(v,m,g)),y}function l(e,t){var n=!f(t,g),r=!c(e,h);return h=e,g=t,n&&r?a():n?s():r?u():y}var c=i.areStatesEqual,f=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1,h=void 0,g=void 0,v=void 0,m=void 0,y=void 0;return function(e,t){return p?l(e,t):o(e,t)}}function s(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,u=i(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=n(e,u),c=r(e,u),f=s(e,u);return(u.pure?a:o)(l,c,f,e,u)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=o,t.pureFinalPropsSelectorFactory=a,t["default"]=s;r(n(418))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,a["default"])("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function o(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}t.__esModule=!0,t["default"]=o;var a=r(n(405))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){var t=function(){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,c["default"].Component),u(t,[{key:"getChildContext",value:function(){return i({},(0,l.getItemScopeProperty)(e),this.props.itemId)}},{key:"render",value:function(){return this.props.children}}]),t}();return t.childContextTypes=i({},(0,l.getItemScopeProperty)(e),c["default"].PropTypes.number),t};var l=n(379),c=r(n(333))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.collection,n=e.collectionName,r=e.dispatch,s=e.attributes,u=e.includeConfiguration;(a["default"].Collection&&t instanceof a["default"].Collection?i["default"]:o["default"])({collection:t,collectionName:n,dispatch:r,attributes:s,includeConfiguration:u})};var i=r(n(421)),o=r(n(423)),a=r(n(424))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=function(e){function t(e){return h.some(function(t){return e.hasChanged(t)})}function n(e){return(0,a["default"])(f,e.attributes,p&&e.configuration.attributes)}function r(e){return e[Object.keys(e)[0]]}var s=e.collection,u=e.dispatch,l=e.collectionName,c=e.attributes,f=c===undefined?["id"]:c,d=e.includeConfiguration,p=d!==undefined&&d;u((0,o.reset)({collectionName:l,items:s.map(n)})),s.on("add",function(e){e.isNew()||u((0,o.add)({collectionName:l,attributes:n(e)}))}),s.on("change:id",function(e){u((0,o.add)({collectionName:l,attributes:n(e)}))}),s.on("change",function(e){t(e)&&u((0,o.change)({collectionName:l,attributes:n(e)}))}),p&&s.on("change:configuration",function(e){u((0,o.change)({collectionName:l,attributes:n(e)}))}),s.on("remove",function(e){setTimeout(function(){u((0,o.remove)({collectionName:l,attributes:n(e)}))},0)});var h=f.map(function(e){return"object"==(void 0===e?"undefined":i(e))?r(e):e})};var o=n(373),a=r(n(422))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=function(e,t,n){var a=o.camelize.deep(e.reduce(function(e,n){if("object"==(void 0===n?"undefined":i(n))){var r=Object.keys(n)[0],o=n[r];e[r]=t[o]}else e[n]=t[n];return e},{}));return n?r({},a,o.camelize.deep(n)):a};var o=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.collection,n=e.collectionName,r=e.dispatch,a=e.attributes,s=a===undefined?["id"]:a,u=e.includeConfiguration,l=u!==undefined&&u;r((0,i.reset)({collectionName:n,items:t.map(function(e){return(0,o["default"])(s,e,l&&e.configuration)})}))};var i=n(373),o=r(n(422))},function(e){e.exports=Backbone},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeLatest)([s.PAGE_SCHEDULE_UNPREPARE,s.PAGE_DID_PREPARE,s.PAGE_WILL_ACTIVATE],i);case 2:case"end":return e.stop()}},u,this)}function i(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.type!=s.PAGE_SCHEDULE_UNPREPARE){t.next=5;break}return t.next=3,(0,a.call)(o.delay,5e3);case 3:return t.next=5,(0,a.put)((0,s.pageDidUnprepare)());case 5:case"end":return t.stop()}},l,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(329),u=regeneratorRuntime.mark(r),l=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e instanceof d["default"].Collection){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,c.takeEvery)(u.UPDATE_PAGE_ATTRIBUTE,regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.call)(a,{pagesCollection:e,id:(0,l.getItemIdFromItemAction)(t),name:t.payload.name,value:t.payload.value});case 2:case"end":return n.stop()}},n,this)}));case 4:return t.next=6,(0,c.takeEvery)(u.UPDATE_PAGE_LINK,regeneratorRuntime.mark(function r(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,f.call)(o,{pagesCollection:e,pageId:(0,l.getItemIdFromItemAction)(t),linkId:t.payload.linkId,name:t.payload.name,value:t.payload.value});case 2:case"end":return n.stop()}},r,this)}));case 6:case"end":return t.stop()}},p,this)}function o(e){var t=e.pagesCollection,n=e.pageId,r=e.linkId,i=e.name,o=e.value,a=s(t,n).pageLinks().get(r);if(!a)throw new Error("Could not find page link with id "+r+" in page with perma id "+n+".");a.set(i,o)}function a(e){var t=e.pagesCollection,n=e.id,r=e.name,i=e.value;s(t,n).configuration.set(r,i)}function s(e,t){var n=e.where({perma_id:t})[0];if(!n)throw new Error("Could not find page with perma id "+t+".");return n}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=n(329),l=n(382),c=n(387),f=n(383),d=r(n(424)),p=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return parseInt(e.attr("id"),10)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){var t=e.Component,n=e.store,r=e.selectTargetElement,o=r===undefined?function(e){return e[0]}:r;return{scroller:!1,enhance:function(e){l["default"].render(u["default"].createElement(c.Provider,{store:n},u["default"].createElement(f,{itemId:i(e)},u["default"].createElement(s["default"],{mediaContext:{page:e.page("instance")}},u["default"].createElement(t,null)))),o(e)),n.dispatch((0,a.enhance)({id:i(e)}))},preload:function(e){n.dispatch((0,a.pageDidPreload)({id:i(e)}))},prepare:function(e){n.dispatch((0,a.pageDidPrepare)({id:i(e)}))},unprepare:function(e){n.dispatch((0,a.pageScheduleUnprepare)({id:i(e)}))},activating:function(e,t,r){n.dispatch((0,a.pageWillActivate)({id:i(e),position:r.position}))},activated:function(e){n.dispatch((0,a.pageDidActivate)({id:i(e)}))},deactivating:function(e){n.dispatch((0,a.pageWillDeactivate)({id:i(e)}))},deactivated:function(e){n.dispatch((0,a.pageDidDeactivate)({id:i(e)}))},resize:function(e){n.dispatch((0,a.pageDidResize)({id:i(e)}))},update:function(e,t){pageflow.commonPageCssClasses.updateCommonPageCssClasses(e,t)},cleanup:function(e){n.dispatch((0,a.cleanup)({id:i(e)})),l["default"].unmountComponentAtNode(e[0])}}};var o=n(376),a=n(329),s=r(n(428)),u=r(n(333)),l=r(n(429)),c=n(397),f=(0,o.createItemScopeProvider)("pages")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(333)),l=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"getChildContext",value:function(){return{mediaContext:this.props.mediaContext}}},{key:"render",value:function(){return this.props.children}}]),e}();t["default"]=l,l.childContextTypes={mediaContext:u["default"].PropTypes.object}},function(e){e.exports=ReactDOM},function(e,t){"use strict";function n(e,t){return Object.keys(t).reduce(function(n,r){return"function"==typeof e[r]?n[r]=function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e[r].apply(this,i),t[r].apply(this,i)}:n[r]=t[r],n},r({},e))}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(333)),l=r(n(334)),c=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"render",value:function(){return u["default"].createElement("div",{className:"shadow_wrapper"},u["default"].createElement("div",{className:(0,l["default"])("shadow",this.props.className),style:this.style()}))}},{key:"style",value:function(){if("gradientOpacity"in this.props.page)return{opacity:this.props.page.gradientOpacity/100}}}]),e}();t["default"]=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(i["default"],null,React.createElement(o["default"],null,e.children))};var i=r(n(433)),o=r(n(434))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return i["default"].createElement("div",{className:"content",onTouchStart:e.onInteraction,onMouseMove:e.onInteraction},e.children)};var i=r(n(333))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(333)),l=r(n(435)),c=n(348),f=n(375),d=n(339),p=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"componentWillReceiveProps",value:function(e){!this.props.enabled&&e.enabled?this.refs.scroller.enable():this.props.enabled&&!e.enabled&&this.refs.scroller.disable(),
this.props.initialScrollerPosition!==e.initialScrollerPosition&&e.initialScrollerPosition&&this.refs.scroller.resetPosition({position:e.initialScrollerPosition})}},{key:"getChildContext",value:function(){var e=this;return this._pageScroller=this._pageScroller||{disable:function(){e.refs.scroller.disable()},enable:function(){e.refs.scroller.enable()}},{pageScroller:this._pageScroller}}},{key:"render",value:function(){return u["default"].createElement(l["default"],{ref:"scroller",className:this.props.className},u["default"].createElement("div",{className:"contentWrapper"},this.props.children))}}]),e}();p.propTypes={className:u["default"].PropTypes.string},p.childContextTypes={pageScroller:u["default"].PropTypes.object},t["default"]=(0,c.connectInPage)((0,d.combineSelectors)({enabled:(0,f.pageIsActivated)(),initialScrollerPosition:(0,f.initialScrollerPosition)()}))(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(333),l=r(n(429)),c=r(n(334)),f=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u.Component),s(e,[{key:"render",value:function(){return React.createElement("div",{ref:"wrapper",className:(0,c["default"])("scroller",this.props.className)},React.createElement("div",null,this.props.children))}},{key:"componentDidMount",value:function(){if("undefined"!=typeof jQuery){var e=jQuery(l["default"].findDOMNode(this.refs.wrapper));e.scroller(),window.sss=this.scroller=e.scroller("instance")}}},{key:"componentDidUpdate",value:function(){this.scroller.refresh()}},{key:"enable",value:function(){this.scroller.enable(),this.scroller.afterAnimationHook()}},{key:"disable",value:function(){this.scroller.disable()}},{key:"resetPosition",value:function(e){this.scroller.resetPosition(e)}},{key:"resetPosition",value:function(e){this.scroller.resetPosition(e)}}]),e}();t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(333)),l=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"render",value:function(){return u["default"].createElement("div",{className:"page_header"},u["default"].createElement("h2",null,u["default"].createElement("span",{className:"tagline"},this.props.page.tagline),u["default"].createElement("span",{className:"title"},this.props.page.title),u["default"].createElement("span",{className:"subtitle"},this.props.page.subtitle)))}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(333),u=function(){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,s.Component),a(e,[{key:"render",value:function(){return React.createElement("div",{className:"contentText"},React.createElement("p",{dangerouslySetInnerHTML:this.text()}),this.props.children)}},{key:"text",value:function(){return{__html:this.props.page.text}}}]),e}();t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(333)),l=n(397),c=n(339),f=n(439),d=n(375),p=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,u["default"].Component),s(e,[{key:"render",value:function(){return u["default"].createElement("a",{href:this._href(),className:this.props.className,onClick:this._handleClick.bind(this)},this.props.children)}},{key:"_href",value:function(){return this._targetPage()?"#"+this._targetPage().permaId:"#missing"}},{key:"_handleClick",value:function(e){this._targetPage()&&pageflow.slides.goToByPermaId(this._targetPage().permaId,{transition:this.props.pageLink.pageTransition}),e.preventDefault()}},{key:"_targetPage",value:function(){return this.props.targetPage}}]),e}();t["default"]=(0,l.connect)((0,c.combineSelectors)({targetPage:(0,d.pageAttributes)({id:(0,f.prop)("pageLink.targetPageId")})}))(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return function(t,n){var r=e.split(".");if(!(r[0]in n))throw new Error("Missing required prop "+r[0]+".");return r.reduce(function(e,t){return e&&e[t]},n)}}function o(e){return function(t,n,r){return(0,a["default"])(e,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prop=i,t.has=o;var a=r(n(346))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return React.createElement("div",{className:a(e)})}function a(e){return(0,v["default"])({load_image:e.lazy&&e.loaded},e.className,s(e.pageType),u(e))}function s(e){return e?"is_"+e.name:"is_dangling"}function u(e){var t=l(e);if(t)return h(e,t)}function l(e){return f(e).find(function(t){if(t.condition&&!c(t.condition,e.page))return!1;var n=g(e,t);return e.fileExists((0,b.camelize)(t.collectionName),n)})}function c(e,t){var n=t[(0,b.camelize)(e.attribute)];return e.negated?n!=e.value:n==e.value}function f(e){return[d(e)].concat(i(p(e.pageType)))}function d(e){return{id:e.customThumbnailId,cssClassPrefix:"pageflow_image_file",collectionName:"image_files"}}function p(e){return e?e.thumbnailCandidates:[]}function h(e,t){return[e.lazy?"lazy":null,t.cssClassPrefix,e.imageStyle,g(e,t)].filter(Boolean).join("_")}function g(e,t){return"id"in t?t.id:e.page[(0,b.camelize)(t.attribute)]}Object.defineProperty(t,"__esModule",{value:!0}),t.PageThumbnail=o;var v=r(n(334)),m=n(348),y=n(441),_=n(442),b=n(339);o.defaultProps={imageStyle:"navigation_thumbnail_large"},t["default"]=(0,m.connectInPage)((0,b.combineSelectors)({pageType:(0,y.pageType)({page:function(e){return e.page}}),fileExists:(0,_.fileExists)()}))(o)},function(e,t,n){"use strict";function r(e){var t=e.page;return function(e,n){var r="function"==typeof t?t(n):t;return r?e.pageTypes[(0,i.camelize)(r.type)]:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageType=r;var i=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return(0,l.memoizedSelector)((0,u.createItemSelector)(e,{namespace:"files"})(t),function(e){return e.fileUrlTemplates},function(e){return e.modelTypes},function(t,n,r){return s(e,t,n,r)})}function o(e,t){var n=t.parent;return(0,l.memoizedSelector)((0,u.createItemsSelector)(e,{namespace:"files"}),n,function(e){return e.fileUrlTemplates},function(e){return e.modelTypes},function(t,n,r,i){return n?Object.keys(t).reduce(function(o,a){var u=t[a];return u.id&&u.parentFileId==n.id&&u.parentFileModelType==n.modelType&&o.push(s(e,u,r,i)),o},[]):[]})}function a(){return(0,l.memoizedSelector)(function(e){return e.files},function(e){return function(t,n){return n&&!!(0,u.createItemSelector)(t)({id:n})(e)}})}function s(e,t,n,r){return(0,f["default"])(e,(0,c["default"])(e,t,n),r)}Object.defineProperty(t,"__esModule",{value:!0}),t.file=i,t.nestedFiles=o,t.fileExists=a;var u=n(376),l=n(339),c=r(n(443)),f=r(n(444))},function(e,t){"use strict";function n(e,t,n,i){var o=i[e][n];if(o)return o.replace(":id_partition",r(t.id)).replace(":basename",t.basename)}function r(e){return i(o(e,9),"/")}function i(e){return e.replace(/./g,function(e,t,n){return t&&(n.length-t)%3==0?"/"+e:e})}function o(e,t){return(Array(t).fill(0).join("")+e).slice(-t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t,r){if(!t)return null;if(!r[e])throw new Error("No file url templates found for "+e);var i=(t.variants||Object.keys(r[e])).reduce(function(i,o){var a=n(e,t,o,r);return a&&(i[o]=a),i},{});return a({urls:i},t)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t,r){if(!t)return null;if(!r[e])throw new Error("Could not find model type for collection name "+e);return n({},t,{collectionName:e,modelType:r[e]})}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(440)),o=n(348),a=n(375),s=n(339);t["default"]=(0,o.connectInPage)((0,s.combineSelectors)({loaded:(0,a.pageIsPreloaded)(),lazy:!0}))(i["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return l["default"].createElement(p["default"],e,l["default"].createElement("span",{className:"hint"},e.hint),l["default"].createElement(d["default"],u({},e.infoBox,{hiddenDuringPlayback:e.infoBoxHiddenDuringPlayback})),l["default"].createElement("div",{className:s(e)},o(e),l["default"].createElement("div",{className:"play_button"},l["default"].createElement(g["default"],{title:e.playButtonTitle,iconName:e.playButtonIconName,isPlaying:e.isPlaying,onClick:e.onPlayButtonClick})),a(e),l["default"].createElement("div",{className:"control_bar_text"},e.controlBarText)),l["default"].createElement(b["default"],{standAlone:!1,additionalButtons:e.additionalMenuBarButtons,onAdditionalButtonClick:e.onAdditionalButtonClick,onAdditionalButtonMouseEnter:e.onAdditionalButtonMouseEnter,onAdditionalButtonMouseLeave:e.onAdditionalButtonMouseLeave,qualityMenuButtonTitle:e.qualityMenuButtonTitle,qualityMenuItems:e.qualityMenuItems,onQualityMenuItemClick:e.onQualityMenuItemClick,textTracksMenuButtonTitle:e.textTracksMenuButtonTitle,textTracksMenuItems:e.textTracksMenuItems,onTextTracksMenuItemClick:e.onTextTracksMenuItemClick}))}function o(e){if(e.isLoading)return l["default"].createElement(h["default"],e)}function a(e){if(e.hasProgress)return l["default"].createElement("div",{className:"player_controls-progress"},l["default"].createElement(v["default"],e),l["default"].createElement(m["default"],null),l["default"].createElement(y["default"],e),l["default"].createElement(_["default"],e))}function s(e){return(0,c["default"])("vjs-control-bar",{with_quality_menu_present:e.qualityMenuItems&&e.qualityMenuItems.length>=2,with_text_tracks_menu_present:e.textTracksMenuItems&&e.textTracksMenuItems.length>=2})}Object.defineProperty(t,"__esModule",{value:!0}),t.isInfoBoxEmpty=undefined;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=r(n(333)),c=r(n(334)),f=n(447),d=r(f),p=r(n(448)),h=r(n(449)),g=r(n(460)),v=r(n(462)),m=r(n(464)),y=r(n(465)),_=r(n(466)),b=r(n(480)),T=r(n(484));i.propTypes={isLoading:l["default"].PropTypes.bool,hasProgress:l["default"].PropTypes.bool,hint:l["default"].PropTypes.string,controlBarText:l["default"].PropTypes.string,playButtonTitle:l["default"].PropTypes.string,infoBox:l["default"].PropTypes.object,onPlayButtonClick:l["default"].PropTypes.func},t.isInfoBoxEmpty=f.isEmpty,t["default"]=(0,T["default"])(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},a(e),s(e))}function o(e){return(0,l["default"])("add_info_box",{empty:u(e),title_empty:(0,c.isBlank)(e.title),description_empty:(0,c.isBlank)(e.description),"add_info_box-hidden_during_playback":e.hiddenDuringPlayback})}function a(e){if(!(0,c.isBlank)(e.title))return React.createElement("h3",null,e.title)}function s(e){if(!(0,c.isBlank)(e.description))return React.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}})}function u(e){return(0,c.isBlank)(e.title)&&(0,c.isBlank)(e.description)}Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=u;var l=r(n(334)),c=n(339);t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:(0,o["default"])("controls",e.className),"data-role":"player_controls",onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(334))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return React.createElement("div",{className:"vjs-loading-spinner"},React.createElement(i["default"],{name:"loadingSpinner"}))};var i=r(n(450))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=a["default"][e.name];if(!t)throw new Error('No icon registered for "'+e.name+'".');return o["default"].createElement(t,e)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(333)),a=r(n(451));i.propTypes={name:o["default"].PropTypes.string.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(452));t["default"]={toggleInfoBox:i["default"].Info,mediaQuality:i["default"].Gear,textTracks:i["default"].Subtitles,activeMenuItem:i["default"].Checkmark,loadingSpinner:i["default"].CircleWithNotch}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(453)),o=r(n(455)),a=r(n(456)),s=r(n(457)),u=r(n(458)),l=r(n(459));t["default"]={Checkmark:i["default"],CircleWithNotch:o["default"],Disk:a["default"],Gear:s["default"],Info:u["default"],Subtitles:l["default"]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:512,viewBoxHeight:512}),React.createElement("polygon",{points:"434.442,58.997 195.559,297.881 77.554,179.88 0,257.438 195.559,453.003 512,136.551 "}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return o["default"].createElement("svg",{className:e.className,version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,viewBox:e.viewBoxLeft+" "+e.viewBoxTop+" "+e.viewBoxWidth+" "+e.viewBoxHeight},e.children)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(333));i.propTypes={viewBoxWidth:o["default"].PropTypes.number.isRequired,viewBoxHeight:o["default"].PropTypes.number.isRequired,viewBoxLeft:o["default"].PropTypes.number,viewBoxTop:o["default"].PropTypes.number,className:o["default"].PropTypes.string,width:o["default"].PropTypes.number,height:o["default"].PropTypes.number},i.defaultProps={width:20,height:20,viewBoxLeft:0,viewBoxTop:0},t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:1e3,viewBoxHeight:1e3}),React.createElement("path",{d:"M990,497.6c0,66.4-13,129.8-38.8,190.3c-25.9,60.5-60.7,112.7-104.4,156.4C803,888,750.9,922.8,690.3,948.7c-60.5,25.9-124,38.8-190.3,38.8s-129.8-12.9-190.3-38.8S197,888,153.3,844.3c-43.7-43.7-78.5-95.9-104.4-156.4C22.9,627.4,10,563.9,10,497.6c0-80.9,18.4-156.5,55.2-226.7c36.8-70.2,87.2-128,151.2-173.4s135.2-73.8,213.6-85v142.2c-80.6,16.4-147.4,56.7-200.4,120.9c-53,64.2-79.5,138.2-79.6,222c0,47.4,9.3,92.7,27.9,135.9c18.6,43.2,43.4,80.4,74.6,111.6c31.2,31.2,68.4,56.1,111.6,74.6c43.2,18.5,88.5,27.8,135.9,27.9c47.4,0,92.7-9.2,135.9-27.9C679,801,716.2,776.1,747.4,745c31.2-31.1,56-68.3,74.6-111.6c18.6-43.3,27.9-88.6,27.9-135.9c0-83.9-26.5-157.9-79.6-222C717.2,211.3,650.4,171,569.9,154.6V12.5c78.4,11.3,149.6,39.6,213.6,85c64,45.4,114.4,103.2,151.2,173.4c36.8,70.2,55.2,145.7,55.2,226.7H990z"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:24,viewBoxHeight:24}),React.createElement("circle",{cx:"12",cy:"12",r:"12"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:24,viewBoxHeight:24}),React.createElement("path",{d:"M21.312,14.056l-1.691-0.98c0,0-0.472-0.216-0.446-1.073c0,0-0.128-0.961,0.478-1.293l1.661-1.014 c0,0,0.546-0.245,0.313-0.818l-0.707-1.598c0,0-0.229-0.625-0.902-0.423l-1.93,0.615c0,0-0.666-0.009-1.078-0.458 c0,0-0.687-0.662-0.476-1.229l0.445-1.924c0,0,0.114-0.563-0.312-0.768l-1.995-0.757c0,0-0.43-0.026-0.562,0.305l-1.122,2.006 c0,0-0.524,0.437-1.248,0.292c0,0-0.752-0.072-0.928-0.253c0,0-1.135-1.916-1.19-2.015c0,0-0.21-0.437-0.65-0.262L7.144,3.176 c0,0-0.367,0.229-0.275,0.559l0.649,2.441c0,0-0.139,0.597-0.561,0.924c0,0-0.745,0.55-1.104,0.483L3.858,7.1 c0,0-0.578-0.207-0.805,0.294L2.306,9.232c0,0-0.143,0.38,0.251,0.616l1.96,1.123c0,0,0.624,0.286,0.441,1.38 c0,0,0.037,0.804-0.756,1.24c-0.793,0.437-1.476,0.875-1.476,0.875s-0.437,0.21-0.249,0.681c0.189,0.471,0.895,1.811,0.895,1.811 s0.131,0.336,0.762,0.091l1.723-0.466c0,0,0.5-0.151,1.031,0.319c0,0,0.741,0.504,0.687,0.919l-0.48,2.433 c0,0-0.157,0.411,0.312,0.676l1.929,0.733c0,0,0.538,0.052,0.68-0.389l0.84-1.532c0,0,0.278-0.669,1.177-0.625 c0,0,0.909-0.081,1.227,0.407l1.101,1.833c0,0,0.199,0.466,0.791,0.188l1.709-0.728c0,0,0.479-0.315,0.333-0.743l-0.533-1.853 c0,0-0.238-0.5,0.259-1.055c0,0,0.533-0.876,1.27-0.701l2.043,0.487c0,0,0.424,0.187,0.793-0.413l0.659-1.639 C21.685,14.901,21.886,14.313,21.312,14.056z M8.542,13.474c-0.824-1.931,0.073-4.166,2.004-4.989 c1.931-0.826,4.165,0.073,4.988,2.004c0.825,1.931-0.073,4.164-2.005,4.989C11.599,16.303,9.365,15.404,8.542,13.474z"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxLeft:5,viewBoxTop:5,viewBoxWidth:145,viewBoxHeight:145}),React.createElement("path",{d:"m80 15c-35.88 0-65 29.12-65 65s29.12 65 65 65 65-29.12 65-65-29.12-65-65-65zm0 10c30.36 0 55 24.64 55 55s-24.64 55-55 55-55-24.64-55-55 24.64-55 55-55z"}),React.createElement("path",{d:"m57.373 18.231a9.3834 9.1153 0 1 1 -18.767 0 9.3834 9.1153 0 1 1 18.767 0z",transform:"matrix(1.1989 0 0 1.2342 21.214 28.75)"}),React.createElement("path",{d:"m90.665 110.96c-0.069 2.73 1.211 3.5 4.327 3.82l5.008 0.1v5.12h-39.073v-5.12l5.503-0.1c3.291-0.1 4.082-1.38 4.327-3.82v-30.813c0.035-4.879-6.296-4.113-10.757-3.968v-5.074l30.665-1.105"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){return React.createElement(o["default"],i({},e,{viewBoxWidth:1200,viewBoxHeight:1200}),React.createElement("path",{transform:"translate(100,100)",d:"M893.4,599V500H401.1V599H893.4z M893.4,794.5v-98.9H695.5v98.9H893.4z M598.9,794.5v-98.9H106.6v98.9H598.9z M106.6,500V599h197.8V500H106.6z M893.4,106.7c26.1,0,48.7,10,67.9,29.9s28.8,42.9,28.8,69v588.9c0,26.1-9.6,49.1-28.8,69c-19.2,19.9-41.8,29.9-67.9,29.9H106.6c-26.1,0-48.7-10-67.9-29.9c-19.2-19.9-28.8-42.9-28.8-69V205.5c0-26.1,9.6-49.1,28.8-69s41.8-29.9,67.9-29.9H893.4z"}))};var o=r(n(454))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("a",{className:o(e),href:"#",tabIndex:"4",id:e.id,title:e.title,onClick:a(e)},s(e))}function o(e){return(0,u["default"])("vjs-play-control",{"vjs-playing":e.isPlaying},{"player_controls-play_button-custom_icon":!!e.iconName})}function a(e){return function(t){e.onClick&&e.onClick(t),t.preventDefault()}}function s(e){return e.iconName?React.createElement(l["default"],{name:e.iconName}):React.createElement("span",null)}Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(334)),l=r(n(450)),c=r(n(461));t["default"]=(0,c["default"])(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(0,r.connectInPage)((0,o.combineSelectors)({id:(0,o.memoizedSelector)((0,i.pageIsActive)(),function(e){return e?"firstContent":undefined})}))(e)};var r=n(348),i=n(375),o=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(i["default"],{className:"vjs-current-time",value:e.currentTime})};var i=r(n(463))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:(0,s["default"])(e.className,"vjs-current-time")},o(e.value))}function o(e){if(isNaN(e))return u;var t=Math.floor(e)%60,n=Math.floor(e/60)%60,r=Math.floor(e/60/60);return r>0?r+":"+a(n)+":"+a(t):n+":"+a(t)}function a(e){return e<10?"0"+e:e}Object.defineProperty(t,"__esModule",{value:!0}),t.unknownTimePlaceholder=undefined,t["default"]=i;var s=r(n(334)),u=t.unknownTimePlaceholder="-:--";i.defaultProps={value:0}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){return React.createElement("div",{className:"vjs-time-divider"},"/")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(i["default"],{className:"vjs-duration",value:e.duration})};var i=r(n(463))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e>0?100*e+"%":0}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(333)),c=n(467),f=r(n(468)),d=n(479),p=function(){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.state={handleWidth:null,progressHolderWidth:null},r.measureProgressHolder=function(e){var t=e.width;r.setState({progressHolderWidth:t})},r.measureHandle=function(e){var t=e.width;r.setState({handleWidth:t})},r.handleStop=function(e,t){r.props.onSeek&&r.props.onSeek(r.positionToTime(t.x))},r.handleDrag=function(e,t){r.props.onScrub&&r.props.onScrub(r.positionToTime(t.x))},r.handleKeyDown=function(e){var t=void 0;e.keyCode==d.ARROW_LEFT?t=Math.max(0,r.props.currentTime-1):e.keyCode==d.ARROW_RIGHT&&(t=Math.min(r.props.currentTime+1,r.props.duration||Infinity)),r.prop.onSeek&&r.props.onSeek(t)},r}return a(e,l["default"].Component),u(e,[{key:"positionToTime",value:function(e){return this.props.duration&&this.state.progressHolderWidth?Math.max(0,Math.min(1,e/this.state.progressHolderWidth))*this.props.duration:0}},{key:"render",value:function(){return l["default"].createElement("div",{className:"vjs-progress-control",tabIndex:"4",onKeyDown:this.handleKeyDown},l["default"].createElement(f["default"],{whitelist:["width"],onMeasure:this.measureProgressHolder},l["default"].createElement(c.DraggableCore,{onStart:this.handleDrag,onDrag:this.handleDrag,onStop:this.handleStop},l["default"].createElement("div",{className:"vjs-progress-holder"},l["default"].createElement("div",{className:"vjs-load-progress",style:{width:s(this.loadProgress())}}),l["default"].createElement("div",{className:"vjs-play-progress",style:{width:s(this.playProgress())}}),l["default"].createElement(f["default"],{whitelist:["width"],onMeasure:this.measureHandle},l["default"].createElement("div",{className:"vjs-seek-handle",style:{left:this.handlePosition()}}))))))}},{key:"handlePosition",value:function(){return this.state.handleWidth&&this.state.progressHolderWidth?(this.state.progressHolderWidth-this.state.handleWidth)*this.playProgress():s(this.playProgress())}},{key:"loadProgress",value:function(){return this.props.duration>0?this.props.bufferedEnd/this.props.duration:0}},{key:"playProgress",value:function(){return this.props.duration>0?this.props.currentTime/this.props.duration:0}}]),e}();t["default"]=p,p.defaultProps={currentTime:0,bufferedEnd:0}},function(e,t,n){var r;r=function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";e.exports=n(1)["default"],e.exports.DraggableCore=n(17)["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=r(n(2)),d=r(n(3)),p=r(n(11)),h=r(n(12)),g=n(13),v=n(16),m=n(14),y=r(n(17)),_=r(n(19)),b=function(){function e(t){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onDragStart=function(e,t){if((0,_["default"])("Draggable: onDragStart: %j",t),!1===n.props.onStart(e,(0,v.createDraggableData)(n,t)))return!1;n.setState({dragging:!0,dragged:!0})},n.onDrag=function(e,t){if(!n.state.dragging)return!1;(0,_["default"])("Draggable: onDrag: %j",t);var r=(0,v.createDraggableData)(n,t),i={x:r.x,y:r.y};if(n.props.bounds){var o=i.x,a=i.y;i.x+=n.state.slackX,i.y+=n.state.slackY;var s=(0,v.getBoundPosition)(n,i.x,i.y),u=l(s,2);i.x=u[0],i.y=u[1],i.slackX=n.state.slackX+(o-i.x),i.slackY=n.state.slackY+(a-i.y),r.x=o,r.y=a,r.deltaX=i.x-n.state.x,r.deltaY=i.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(i)},n.onDragStop=function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,(0,v.createDraggableData)(n,t)))return!1;(0,_["default"])("Draggable: onDragStop: %j",t);var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var i=n.props.position,o=i.x,a=i.y;r.x=o,r.y=a}n.setState(r)},n.state={dragging:!1,dragged:!1,x:t.position?t.position.x:t.defaultPosition.x,y:t.position?t.position.y:t.defaultPosition.y,slackX:0,slackY:0,isElementSVG:!1},n}
return s(e,f["default"].Component),c(e,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){"undefined"!=typeof SVGElement&&p["default"].findDOMNode(this)instanceof SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,r=!Boolean(this.props.position)||this.state.dragging,o=this.props.position||this.props.defaultPosition,a={x:(0,v.canDragX)(this)&&r?this.state.x:o.x,y:(0,v.canDragY)(this)&&r?this.state.y:o.y};this.state.isElementSVG?n=(0,g.createSVGTransform)(a):t=(0,g.createCSSTransform)(a);var s=this.props,l=s.defaultClassName,c=s.defaultClassNameDragging,d=s.defaultClassNameDragged,p=(0,h["default"])(this.props.children.props.className||"",l,(i(e={},c,this.state.dragging),i(e,d,this.state.dragged),e));return f["default"].createElement(y["default"],u({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),f["default"].cloneElement(f["default"].Children.only(this.props.children),{className:p,style:u({},this.props.children.props.style,t),transform:n}))}}]),e}();b.displayName="Draggable",b.propTypes=u({},y["default"].propTypes,{axis:d["default"].oneOf(["both","x","y","none"]),bounds:d["default"].oneOfType([d["default"].shape({left:d["default"].number,right:d["default"].number,top:d["default"].number,bottom:d["default"].number}),d["default"].string,d["default"].oneOf([!1])]),defaultClassName:d["default"].string,defaultClassNameDragging:d["default"].string,defaultClassNameDragged:d["default"].string,defaultPosition:d["default"].shape({x:d["default"].number,y:d["default"].number}),position:d["default"].shape({x:d["default"].number,y:d["default"].number}),className:m.dontSetMe,style:m.dontSetMe,transform:m.dontSetMe}),b.defaultProps=u({},y["default"].defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t["default"]=b},function(t){t.exports=e},function(e,t,n){if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV){var r="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},o=!0;e.exports=n(4)(i,o)}else e.exports=n(10)()},function(e,t,n){"use strict";var r=n(5),i=n(6),o=n(7),a=n(8),s=n(9);e.exports=function(e,t){function n(e){var t=e&&(C&&e[C]||e[I]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function l(e){this.message=e,this.stack=""}function c(e){function n(n,u,c,f,d,p,h){if(f=f||x,p=p||c,h!==a)if(t)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&"undefined"!=typeof console){var g=f+":"+c;!r[g]&&s<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",p,f),r[g]=!0,s++)}return null==u[c]?n?null===u[c]?new l("The "+d+" `"+p+"` is marked as required in `"+f+"`, but its value is `null`."):new l("The "+d+" `"+p+"` is marked as required in `"+f+"`, but its value is `undefined`."):null:e(u,c,f,d,p)}if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)var r={},s=0;var u=n.bind(null,!1);return u.isRequired=n.bind(null,!0),u}function f(e){function t(t,n,r,i,o){var a=t[n];return E(a)!==e?new l("Invalid "+i+" `"+o+"` of type `"+S(a)+"` supplied to `"+r+"`, expected `"+e+"`."):null}return c(t)}function d(){return c(r.thatReturnsNull)}function p(e){function t(t,n,r,i,o){if("function"!=typeof e)return new l("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new l("Invalid "+i+" `"+o+"` of type `"+E(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var c=e(s,u,r,i,o+"["+u+"]",a);if(c instanceof Error)return c}return null}return c(t)}function h(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new l("Invalid "+i+" `"+o+"` of type `"+E(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return c(t)}function g(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||x;return new l("Invalid "+i+" `"+o+"` of type `"+P(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function v(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new l("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)}function m(e){function t(t,n,r,i,o){if("function"!=typeof e)return new l("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=E(s);if("object"!==u)return new l("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var f=e(s,c,r,i,o+"."+c,a);if(f instanceof Error)return f}return null}return c(t)}function y(e){function t(t,n,r,i,o){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,i,o,a))return null}return new l("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}return Array.isArray(e)?c(t):("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull)}function _(){function e(e,t,n,r,i){return T(e[t])?null:new l("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}function b(e){function t(t,n,r,i,o){var s=t[n],u=E(s);if("object"!==u)return new l("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var f=e[c];if(f){var d=f(s,c,r,i,o+"."+c,a);if(d)return d}}return null}return c(t)}function T(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(T);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!T(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!T(a[1]))return!1}return!0;default:return!1}}function w(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function E(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":w(t,e)?"symbol":t}function S(e){var t=E(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function P(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var C="function"==typeof Symbol&&Symbol.iterator,I="@@iterator",x="<<anonymous>>",A={array:f("array"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:d(),arrayOf:p,element:h(),instanceOf:g,node:_(),objectOf:m,oneOf:v,oneOfType:y,shape:b};return l.prototype=Error.prototype,A.checkPropTypes=s,A.PropTypes=A,A}},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){"use strict";function t(e,t,r,i,o,a,s,u){if(n(t),!e){var l;if(t===undefined)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,a,s,u],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};"production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&(n=function(e){if(e===undefined)throw new Error("invariant requires an error message argument")}),e.exports=t},function(e,t,n){"use strict";var r,i=n(5);"production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV&&(r=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(a){}},i=function(e,t){if(t===undefined)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];r.apply(undefined,[t].concat(i))}}),e.exports=i},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,n){"use strict";function r(e,t,n,r,u){if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var c;try{i("function"==typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",r||"React class",n,l),c=e[l](t,l,r,n,null,a)}catch(d){c=d}if(o(!c||c instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,l,typeof c),c instanceof Error&&!(c.message in s)){s[c.message]=!0;var f=u?u():"";o(!1,"Failed %s type: %s%s",n,c.message,null!=f?f:"")}}}if("production"!=={DRAGGABLE_DEBUG:undefined}.NODE_ENV)var i=n(6),o=n(7),a=n(8),s={};e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(6);e.exports=function(){function e(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e){e.exports=t},function(e,t){var n,r;!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var a in n)o.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=i:(n=[],(r=function(){return i}.apply(t,n))===undefined||(e.exports=r))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return P||(P=(0,w.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,w.isFunction)(e[t])})),e[P].call(e,t)}function a(e,t,n){var r=e;do{if(o(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function s(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function u(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function l(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,w["int"])(n.borderTopWidth),t+=(0,w["int"])(n.borderBottomWidth)}function c(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,w["int"])(n.borderLeftWidth),t+=(0,w["int"])(n.borderRightWidth)}function f(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,w["int"])(n.paddingTop),t-=(0,w["int"])(n.paddingBottom)}function d(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,w["int"])(n.paddingLeft),t-=(0,w["int"])(n.paddingRight)}function p(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function h(e){var t=e.x,n=e.y;return i({},(0,E.browserPrefixToKey)("transform",S["default"]),"translate("+t+"px,"+n+"px)")}function g(e){return"translate("+e.x+","+e.y+")"}function v(e,t){return e.targetTouches&&(0,w.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,w.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function m(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function y(e){var t=e.getAttribute("style")||"";A.test(t)||e.setAttribute("style",t+x)}function _(e){var t=e.getAttribute("style")||"";e.setAttribute("style",t.replace(A,""))}function b(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return T({touchAction:"none"},e)}Object.defineProperty(t,"__esModule",{value:!0});var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.matchesSelector=o,t.matchesSelectorAndParentsTo=a,t.addEvent=s,t.removeEvent=u,t.outerHeight=l,t.outerWidth=c,t.innerHeight=f,t.innerWidth=d,t.offsetXYFromParent=p,t.createCSSTransform=h,t.createSVGTransform=g,t.getTouch=v,t.getTouchIdentifier=m,t.addUserSelectStyles=y,t.removeUserSelectStyles=_,t.styleHacks=b;var w=n(14),E=n(15),S=r(E),P="",C=(0,E.getPrefix)("user-select"),I=(0,E.browserPrefixToStyle)("user-select",C),x=";"+I+": none;",A=new RegExp(";?"+I+": none;")},function(e,t){"use strict";function n(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function r(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function i(e){return"number"==typeof e&&!isNaN(e)}function o(e){return parseInt(e,10)}function a(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=n,t.isFunction=r,t.isNum=i,t["int"]=o,t.dontSetMe=a},function(e,t){"use strict";function n(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"transform";if("undefined"==typeof window||"undefined"==typeof window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<a.length;n++)if(r(e,a[n])in t)return a[n];return""}function r(e,t){return t?""+t+o(e):e}function i(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function o(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=n,t.browserPrefixToKey=r,t.browserPrefixToStyle=i;var a=["Moz","Webkit","O","ms"];t["default"]=n()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:f(r);var i=p["default"].findDOMNode(e);if("string"==typeof r){var o=i.ownerDocument,a=o.defaultView,s=void 0;if("parent"===r)s=i.parentNode;else if(!(s=o.querySelector(r)))throw new Error('Bounds selector "'+r+'" could not find an element.');var u=a.getComputedStyle(i),l=a.getComputedStyle(s);r={left:-i.offsetLeft+(0,d["int"])(l.paddingLeft)+(0,d["int"])(u.marginLeft),top:-i.offsetTop+(0,d["int"])(l.paddingTop)+(0,d["int"])(u.marginTop),right:(0,h.innerWidth)(s)-(0,h.outerWidth)(i)-i.offsetLeft+(0,d["int"])(l.paddingRight)-(0,d["int"])(u.marginRight),bottom:(0,h.innerHeight)(s)-(0,h.outerHeight)(i)-i.offsetTop+(0,d["int"])(l.paddingBottom)-(0,d["int"])(u.marginBottom)}}return(0,d.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,d.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,d.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,d.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function o(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function a(e){return"both"===e.props.axis||"x"===e.props.axis}function s(e){return"both"===e.props.axis||"y"===e.props.axis}function u(e,t,n){var r="number"==typeof t?(0,h.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=p["default"].findDOMNode(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,h.offsetXYFromParent)(r||e,o)}function l(e,t,n){var r=e.state;return!(0,d.isNum)(r.lastX)?{node:p["default"].findDOMNode(e),deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:p["default"].findDOMNode(e),deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function c(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function f(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=i,t.snapToGrid=o,t.canDragX=a,t.canDragY=s,t.getControlPosition=u,t.createCoreData=l,t.createDraggableData=c;var d=n(14),p=r(n(11)),h=n(13)},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(2)),c=r(n(3)),f=r(n(11)),d=n(13),p=n(16),h=n(14),g=r(n(19)),v={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},m=v.mouse,y=function(){function e(){var t,n,r;i(this,e);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),r.state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},r.handleDragStart=function(e){if(r.props.onMouseDown(e),!r.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=f["default"].findDOMNode(r),n=t.ownerDocument;if(!(r.props.disabled||!(e.target instanceof n.defaultView.Node)||r.props.handle&&!(0,d.matchesSelectorAndParentsTo)(e.target,r.props.handle,t)||r.props.cancel&&(0,d.matchesSelectorAndParentsTo)(e.target,r.props.cancel,t))){var i=(0,d.getTouchIdentifier)(e);r.setState({touchIdentifier:i});var o=(0,p.getControlPosition)(e,i,r);if(null!=o){var a=o.x,s=o.y,u=(0,p.createCoreData)(r,a,s);(0,g["default"])("DraggableCore: handleDragStart: %j",u),(0,g["default"])("calling",r.props.onStart),!1!==r.props.onStart(e,u)&&(r.props.enableUserSelectHack&&(0,d.addUserSelectStyles)(n.body),r.setState({dragging:!0,lastX:a,lastY:s}),(0,d.addEvent)(n,m.move,r.handleDrag),(0,d.addEvent)(n,m.stop,r.handleDragStop))}}},r.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,p.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,i=t.y;if(Array.isArray(r.props.grid)){var o=n-r.state.lastX,a=i-r.state.lastY,u=(0,p.snapToGrid)(r.props.grid,o,a),l=s(u,2);if(o=l[0],a=l[1],!o&&!a)return;n=r.state.lastX+o,i=r.state.lastY+a}var c=(0,p.createCoreData)(r,n,i);if((0,g["default"])("DraggableCore: handleDrag: %j",c),!1!==r.props.onDrag(e,c))r.setState({lastX:n,lastY:i});else try{r.handleDragStop(new MouseEvent("mouseup"))}catch(d){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(f)}}},r.handleDragStop=function(e){if(r.state.dragging){var t=(0,p.getControlPosition)(e,r.state.touchIdentifier,r);if(null!=t){var n=t.x,i=t.y,o=(0,p.createCoreData)(r,n,i),a=f["default"].findDOMNode(r).ownerDocument;r.props.enableUserSelectHack&&(0,d.removeUserSelectStyles)(a.body),(0,g["default"])("DraggableCore: handleDragStop: %j",o),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),r.props.onStop(e,o),(0,g["default"])("DraggableCore: Removing handlers"),(0,d.removeEvent)(a,m.move,r.handleDrag),(0,d.removeEvent)(a,m.stop,r.handleDragStop)}}},r.onMouseDown=function(e){return m=v.mouse,r.handleDragStart(e)},r.onMouseUp=function(e){return m=v.mouse,r.handleDragStop(e)},r.onTouchStart=function(e){return m=v.touch,r.handleDragStart(e)},r.onTouchEnd=function(e){return m=v.touch,r.handleDragStop(e)},o(r,n)}return a(e,l["default"].Component),u(e,[{key:"componentWillUnmount",value:function(){var e=f["default"].findDOMNode(this).ownerDocument;(0,d.removeEvent)(e,v.mouse.move,this.handleDrag),(0,d.removeEvent)(e,v.touch.move,this.handleDrag),(0,d.removeEvent)(e,v.mouse.stop,this.handleDragStop),(0,d.removeEvent)(e,v.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,d.removeUserSelectStyles)(e.body)}},{key:"render",value:function(){return l["default"].cloneElement(l["default"].Children.only(this.props.children),{style:(0,d.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),e}();y.displayName="DraggableCore",y.propTypes={allowAnyClick:c["default"].bool,disabled:c["default"].bool,enableUserSelectHack:c["default"].bool,offsetParent:function(t,n){if(e.browser&&t[n]&&1!==t[n].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:c["default"].arrayOf(c["default"].number),handle:c["default"].string,cancel:c["default"].string,onStart:c["default"].func,onDrag:c["default"].func,onStop:c["default"].func,onMouseDown:c["default"].func,className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe},y.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},t["default"]=y}).call(t,n(18))},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(n){try{return l.call(null,e,0)}catch(n){return l.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){h&&d&&(h=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!h){var e=r(o);h=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,h=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var d,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t){"use strict";function n(){var e;undefined&&(e=console).log.apply(e,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n}])},e.exports=r(n(333),n(429))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=undefined;var i=r(n(469));t["default"]=i["default"],e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(333),c=(r(l),r(n(470))),f=r(n(429)),d=r(n(475)),p=r(n(476)),h=function(){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.measure=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:n.props.includeMargin,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n.props.useClone;if(n.props.shouldMeasure){n._node.parentNode||n._setDOMNode();var r=n.getDimensions(n._node,e,t),i="function"==typeof n.props.children;n._propsToMeasure.some(function(e){if(r[e]!==n._lastDimensions[e])return n.props.onMeasure(r),i&&void 0!==n&&n.setState({dimensions:r}),n._lastDimensions=r,!0})}},n.state={dimensions:{width:0,height:0,top:0,right:0,bottom:0,left:0}},n._node=null,n._propsToMeasure=n._getPropsToMeasure(t),n._lastDimensions={},n}return a(e,l.Component),u(e,[{key:"componentDidMount",value:function(){var e=this;this._setDOMNode(),this.measure(),this.resizeObserver=new d["default"](function(){return e.measure()}),this.resizeObserver.observe(this._node)}},{key:"componentWillReceiveProps",value:function(e){e.config;var t=e.whitelist,n=e.blacklist;this.props.whitelist===t&&this.props.blacklist===n||(this._propsToMeasure=this._getPropsToMeasure({whitelist:t,blacklist:n}))}},{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect(this._node),this._node=null}},{key:"_setDOMNode",value:function(){this._node=f["default"].findDOMNode(this)}},{key:"getDimensions",value:function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._node,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.props.includeMargin,n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.props.useClone,r=arguments.length>3&&arguments[3]!==undefined?arguments[3]:this.props.cloneOptions;return(0,p["default"])(e,s({margin:t,clone:n},r))}},{key:"_getPropsToMeasure",value:function(e){var t=e.whitelist,n=e.blacklist;return t.filter(function(e){return n.indexOf(e)<0})}},{key:"render",value:function(){var e=this.props.children;return l.Children.only("function"==typeof e?e(this.state.dimensions):e)}}]),e}();h.propTypes={whitelist:c["default"].array,blacklist:c["default"].array,includeMargin:c["default"].bool,useClone:c["default"].bool,cloneOptions:c["default"].object,shouldMeasure:c["default"].bool,onMeasure:c["default"].func},h.defaultProps={whitelist:["width","height","top","right","bottom","left"],blacklist:[],includeMargin:!0,useClone:!1,cloneOptions:{},shouldMeasure:!0,onMeasure:function(){return null}},t["default"]=h,e.exports=t["default"]},function(e,t,n){e.exports=n(471)()},function(e,t,n){"use strict";var r=n(472),i=n(473),o=n(474);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e){"use strict";function t(e,t,r,i,o,a,s,u){if(n(t),!e){var l;if(t===undefined)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,o,a,s,u],f=0;(l=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}var n=function(){};e.exports=t},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t){(function(t){var n;n=function(){"use strict";function e(e){return parseFloat(e)||0}function n(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return n.reduce(function(n,r){return n+e(t["border-"+r+"-width"])},0)}function r(t){for(var n={},r=0,i=["top","right","bottom","left"];r<i.length;r+=1){var o=i[r],a=t["padding-"+o];n[o]=e(a)}return n}function i(e){var t=e.getBBox();return l(0,0,t.width,t.height)}function o(t){var i=t.clientWidth,o=t.clientHeight;if(!i&&!o)return w;var s=T(t).getComputedStyle(t),u=r(s),c=u.left+u.right,f=u.top+u.bottom,d=e(s.width),p=e(s.height);if("border-box"===s.boxSizing&&(Math.round(d+c)!==i&&(d-=n(s,"left","right")+c),Math.round(p+f)!==o&&(p-=n(s,"top","bottom")+f)),!a(t)){var h=Math.round(d+c)-i,g=Math.round(p+f)-o;1!==Math.abs(h)&&(d-=h),1!==Math.abs(g)&&(p-=g)}return l(u.left,u.top,d,p)}function a(e){return e===T(e).document.documentElement}function s(e){return f?E(e)?i(e):o(e):w}function u(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return b(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function l(e,t,n,r){return{x:e,y:t,width:n,height:r}}var c=function(){function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return"undefined"!=typeof Map?Map:function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype["delete"]=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()
}(),f="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,d=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),p="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(d):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},h=2,g=function(e,t){function n(){o&&(o=!1,e()),a&&i()}function r(){p(n)}function i(){var e=Date.now();if(o){if(e-s<h)return;a=!0}else o=!0,a=!1,setTimeout(r,t);s=e}var o=!1,a=!1,s=0;return i},v=20,m=["top","right","bottom","left","width","height","size","weight"],y="undefined"!=typeof MutationObserver,_=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=g(this.refresh.bind(this),v)};_.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},_.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},_.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},_.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},_.prototype.connect_=function(){f&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),y?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},_.prototype.disconnect_=function(){f&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},_.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),m.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},_.getInstance=function(){return this.instance_||(this.instance_=new _),this.instance_},_.instance_=null;var b=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},T=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||d},w=l(0,0,0,0),E="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof T(e).SVGGraphicsElement}:function(e){return e instanceof T(e).SVGElement&&"function"==typeof e.getBBox},S=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=l(0,0,0,0),this.target=e};S.prototype.isActive=function(){var e=s(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var P=function(e,t){var n=u(t);b(this,{target:e,contentRect:n})},C=function(e,t,n){if(this.activeObservations_=[],this.observations_=new c,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n};C.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof T(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new S(e)),this.controller_.addObserver(this),this.controller_.refresh())}},C.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof T(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t["delete"](e),t.size||this.controller_.removeObserver(this))}},C.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},C.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},C.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new P(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},C.prototype.clearActive=function(){this.activeObservations_.splice(0)},C.prototype.hasActive=function(){return this.activeObservations_.length>0};var I="undefined"!=typeof WeakMap?new WeakMap:new c,x=function(e){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=_.getInstance(),n=new C(e,t,this);I.set(this,n)};return["observe","unobserve","disconnect"].forEach(function(e){x.prototype[e]=function(){return(t=I.get(this))[e].apply(t,arguments);var t}}),"undefined"!=typeof d.ResizeObserver?d.ResizeObserver:x},e.exports=n()}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],n=e.getBoundingClientRect(),r=undefined,i=undefined,s=undefined;if(n.width&&n.height&&!t.clone)t.margin&&(s=(0,a["default"])(getComputedStyle(e)));else{var u=(0,o["default"])(e,t);n=u.rect,s=u.margin}return t.margin?(r=s.left+n.width+s.right,i=s.top+n.height+s.bottom):(r=n.width,i=n.height),{width:r,height:i,top:n.top,right:n.right,bottom:n.bottom,left:n.left}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(477)),a=r(n(478));e.exports=t["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var n=e.parentNode,r=document.createElement("div"),i=e.cloneNode(!0),a=getComputedStyle(e),s=undefined,u=undefined,l=undefined;undefined;return r.style.height=0,r.style.overflow="hidden",i.setAttribute("id",""),i.setAttribute("name",""),(t.display||"none"===a.getPropertyValue("display"))&&(i.style.display=t.display||"block"),!t.width&&parseInt(a.getPropertyValue("width"))||(i.style.width=t.width||"auto"),!t.height&&parseInt(a.getPropertyValue("height"))||(i.style.height=t.height||"auto"),r.appendChild(i),n.appendChild(r),s=i.getBoundingClientRect(),u=i.offsetWidth,l=i.offsetHeight,n.removeChild(r),{rect:{width:u,height:l,top:s.top,right:s.right,bottom:s.bottom,left:s.left},margin:(0,o["default"])(a)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(478));e.exports=t["default"]},function(e,t){"use strict";function n(e){return{top:r(e.marginTop),right:r(e.marginRight),bottom:r(e.marginBottom),left:r(e.marginLeft)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=function(e){return parseInt(e)||0};e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ARROW_LEFT=37,t.ARROW_RIGHT=39,t.SPACE=32,t.TAB=9},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement("div",{className:o(e)},a(e),React.createElement(c["default"],{buttonTitle:e.textTracksMenuButtonTitle,items:e.textTracksMenuItems,onItemClick:e.onTextTracksMenuItemClick}),React.createElement(l["default"],{buttonTitle:e.qualityMenuButtonTitle,items:e.qualityMenuItems,onItemClick:e.onQualityMenuItemClick}))}function o(e){return(0,u["default"])(e.className,"player_controls-menu_bar",{"player_controls-menu_bar-hidden_on_phone":e.hiddenOnPhone,"player_controls-menu_bar-stand_alone":e.standAlone})}function a(e){return e.additionalButtons.map(function(t){return React.createElement(f["default"],{title:t.label,iconName:t.iconName,className:t.className,key:t.name,onClick:s(e.onAdditionalButtonClick,t.name),onMouseEnter:s(e.onAdditionalButtonMouseEnter,t.name),onMouseLeave:s(e.onAdditionalButtonMouseLeave,t.name)})})}function s(e,t){if(e)return function(){return e(t)}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var u=r(n(334)),l=r(n(481)),c=r(n(483)),f=r(n(482));i.propTypes={additionalButtons:React.PropTypes.arrayOf(React.PropTypes.shape({name:React.PropTypes.string.isRequired,label:React.PropTypes.string.isRequired,className:React.PropTypes.string,iconName:React.PropTypes.string})),hiddenOnPhone:React.PropTypes.bool,onAdditionalButtonClick:React.PropTypes.func,qualityMenuButtonTitle:React.PropTypes.string,qualityMenuItems:l["default"].propTypes.items,onQualityMenuItemClick:React.PropTypes.func,textTracksMenuButtonTitle:React.PropTypes.string,textTracksMenuItems:c["default"].propTypes.items,onTextTracksMenuItemClick:React.PropTypes.func,standAlone:React.PropTypes.bool},i.defaultProps={additionalButtons:[],standAlone:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.items.length<2?React.createElement("noscript",null):React.createElement(o["default"],{className:"player_controls-quality_menu_button",title:e.buttonTitle,iconName:"mediaQuality",subMenuItems:e.items,onSubMenuItemClick:e.onItemClick})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(482));i.propTypes={buttonTitle:React.PropTypes.string,items:o["default"].propTypes.subMenuItems,onMenuItemClick:React.PropTypes.func},i.defaultProps={items:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(e.subMenuItems.length>0)return React.createElement("ul",{className:"player_controls-menu_bar_button_sub_menu"},u(e,t))}function u(e,t){return e.subMenuItems.map(function(n){return React.createElement("li",{className:c(n),key:n.value},React.createElement("a",{className:"player_controls-menu_bar_button_sub_menu_item_link",href:"#",tabIndex:"4",onClick:p(e,n.value,t)},f(n),n.label,d(e,n)))})}function l(e,t){return(0,v["default"])({"player_controls-menu_bar_button-sub_menu_visible":t},h(e))}function c(e){return(0,v["default"])("player_controls-menu_bar_button_sub_menu_item",{"player_controls-menu_bar_button_sub_menu_item-active":e.active})}function f(e){if(e.active)return React.createElement(m["default"],{className:"player_controls-menu_bar_button_sub_menu_item_icon",name:"activeMenuItem"})}function d(e,t){if(t.annotation)return React.createElement("span",{className:h(e,"sub_menu_item_annotation")},t.annotation)}function p(e,t,n){return function(r){r.preventDefault(),n(),e.onSubMenuItemClick&&e.onSubMenuItemClick(t)}}function h(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return(0,v["default"])(["player_controls-menu_bar_button"].concat(n).join("_"),[e.className].concat(n).join("_"))}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=r(n(334)),m=r(n(450)),y=function(){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.state={subMenuVisible:!1},r.onLinkClick=function(e){e.preventDefault(),r.props.subMenuItems.length>0&&r.setState({subMenuVisible:!0}),r.props.onClick&&r.props.onClick()},r.onMouseEnter=function(){r.props.subMenuItems.length>0&&r.setState({subMenuVisible:!0}),r.props.onMouseEnter&&r.props.onMouseEnter()},r.onMouseLeave=function(){r.closeMenu(),r.props.onMouseEnter&&r.props.onMouseLeave()},r.onFocus=function(){clearTimeout(r.closeMenuTimeout)},r.onBlur=function(){clearTimeout(r.closeMenuTimeout),r.closeMenuTimeout=setTimeout(function(){r.closeMenu()},100)},r.closeMenu=function(){r.setState({subMenuVisible:!1})},r}return a(e,React.Component),g(e,[{key:"render",value:function(){var e=this,t=this.props;return React.createElement("div",{className:l(t,this.state.subMenuVisible),ref:function(t){return e.wrapper=t},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur},React.createElement("a",{className:h(t,"link"),href:"#",tabIndex:"4",title:t.title,onClick:this.onLinkClick},React.createElement(m["default"],{className:h(t,"icon"),name:t.iconName})),s(t,this.closeMenu))}}]),e}();t["default"]=y,y.propTypes={title:React.PropTypes.string,iconName:React.PropTypes.string,subMenuItems:React.PropTypes.arrayOf(React.PropTypes.shape({label:React.PropTypes.node.isRequired,value:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]).isRequired,annotation:React.PropTypes.string,active:React.PropTypes.bool})),onClick:React.PropTypes.func,onMouseEnter:React.PropTypes.func,onMouseLeave:React.PropTypes.func,onSubMenuItemClick:React.PropTypes.func},y.defaultProps={subMenuItems:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.items.length<2?React.createElement("noscript",null):React.createElement(o["default"],{className:"player_controls-text_tracks_menu_button",title:e.buttonTitle,iconName:"textTracks",subMenuItems:e.items,onSubMenuItemClick:e.onItemClick})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(482));i.propTypes={buttonTitle:React.PropTypes.string,items:o["default"].propTypes.subMenuItems,onMenuItemClick:React.PropTypes.func},i.defaultProps={items:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.checkVisibility=function(){var e=window.getComputedStyle(n.element);n.lastVisibility!=e.visibility&&("visible"==e.visibility&&"none"!=e.display?n.props.onVisible&&n.props.onVisible():n.props.onHidden&&n.props.onHidden()),n.lastVisibility=e.visibility},n}return a(t,l["default"].Component),u(t,[{key:"componentDidMount",value:function(){this.element=c["default"].findDOMNode(this),this.updateInterval()}},{key:"componentDidUpdate",value:function(){this.updateInterval()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval),this.interval=null,this.element=null}},{key:"updateInterval",value:function(){this.props.watchVisibility&&!this.interval?this.interval=setInterval(this.checkVisibility,50):!this.props.watchVisibility&&this.interval&&(clearInterval(this.interval),this.interval=null)}},{key:"render",value:function(){return l["default"].createElement(e,this.props)}}]),t}()}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=s;var l=r(n(333)),c=r(n(429))},function(e,t,n){"use strict";function r(e){return React.createElement("div",{className:"close_button text_hidden_only",tabIndex:"4",title:e.t("pageflow.public.close"),onClick:e.onClick},React.createElement("div",{className:"label"},e.t("pageflow.public.close")))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(486),o=n(339),a=n(397);t["default"]=(0,a.connect)((0,o.combineSelectors)({t:i.t}))(r)},function(e,t,n){"use strict";function r(e){return e.i18n.locale}Object.defineProperty(t,"__esModule",{value:!0}),t.t=undefined;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.locale=r;var o=n(339);t.t=(0,o.memoizedSelector)(r,function(e){return function(t,n){return I18n.t(t,i({locale:e},n))}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return PAGEFLOW_EDITOR?e:function(){return!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.widgetAttributes=t.prop=t.file=t.setting=t.t=t.currentParentChapterAttributes=t.currentParentPageAttributes=t.pageIsPrepared=t.pageIsActive=t.pageAttributes=t.pageAttribute=undefined;var r=n(375),i=n(489),o=n(486),a=n(492),s=n(442),u=n(439),l=n(493);t.pageAttribute=r.pageAttribute,t.pageAttributes=r.pageAttributes,t.pageIsActive=r.pageIsActive,t.pageIsPrepared=r.pageIsPrepared,t.currentParentPageAttributes=i.currentParentPageAttributes,t.currentParentChapterAttributes=i.currentParentChapterAttributes,t.t=o.t,t.setting=a.setting,t.file=s.file,t.prop=u.prop,t.widgetAttributes=l.widgetAttributes},function(e,t,n){"use strict";function r(){return function(e,t){var n=i()(e,t);return n?(0,a.chapterAttributes)({id:n.chapterId})(e,t):null}}function i(){return function(e,t){var n=(0,o.pageAttribute)("chapterId",{id:e.currentPageId})(e,t),r=(0,a.chapterAttribute)("storylineId",{id:n})(e,t),i=(0,s.storylineAttribute)("parentPagePermaId",{id:r})(e,t);return(0,o.pageAttributes)({id:i})(e,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.currentParentChapterAttributes=r,t.currentParentPageAttributes=i;var o=n(375),a=n(490),s=n(491)},function(e,t,n){"use strict";function r(e,t){return(0,o.memoizedSelector)(a(t),function(t){return t&&t[e]})}Object.defineProperty(t,"__esModule",{value:!0}),t.chapterAttributes=t.selector=undefined,t.chapterAttribute=r;var i=n(376),o=n(339),a=t.selector=(0,i.createItemSelector)("chapters");t.chapterAttributes=a},function(e,t,n){"use strict";function r(e,t){return(0,o.memoizedSelector)(a(t),function(t){return t&&t[e]})}Object.defineProperty(t,"__esModule",{value:!0}),t.selector=undefined,t.storylineAttribute=r;var i=n(376),o=n(339),a=t.selector=(0,i.createItemSelector)("storylines")},function(e,t){"use strict";function n(e){var t=e.property;return function(e){return e.settings[t]}}Object.defineProperty(t,"__esModule",{value:!0}),t.setting=n},function(e,t,n){"use strict";function r(e){var t=e.role;return(0,o.memoizedSelector)(a({id:t}),function(e){return e})}Object.defineProperty(t,"__esModule",{value:!0}),t.widgetAttributes=r;var i=n(376),o=n(339),a=(0,i.createItemSelector)("widgets")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return{reducers:{"media.default":(0,d["default"])({scope:"default"})},saga:regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,p["default"])(e);case 2:case"end":return t.stop()}},t,this)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.PageBackground=t.PageBackgroundAsset=t.PageBackgroundVideo=t.PagePrintImage=t.MobilePageVideoPoster=t.PageVideoPlayer=t.Page=t.pageBackgroundReduxModule=undefined,t.reduxModule=i;var o=r(n(495)),a=r(n(502)),s=r(n(516)),u=r(n(517)),l=r(n(518)),c=r(n(519)),f=r(n(520)),d=r(n(521)),p=r(n(523)),h=r(n(531)),g=r(n(529));t.pageBackgroundReduxModule={reducers:{"media.background":(0,d["default"])({scope:"background"})},saga:regeneratorRuntime.mark(function v(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,h["default"])({scope:"background"}),(0,g["default"])({scope:"background"})];case 2:case"end":return e.stop()}},v,this)})};t.Page=o["default"],t.PageVideoPlayer=a["default"],t.MobilePageVideoPoster=s["default"],t.PagePrintImage=f["default"],t.PageBackgroundVideo=u["default"],t.PageBackgroundAsset=l["default"],t.PageBackground=c["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=e.playerState,r={title:t.additionalTitle,description:t.additionalDescription};return React.createElement(s.PageWrapper,{className:a(e.className,o(e),e.textTracks,n)},React.createElement(s.PageBackground,{pageHasPlayerControls:!0},e.children,React.createElement(s.PageShadow,{page:t,className:(0,f["default"])(n)})),React.createElement(s.PageForeground,{onInteraction:function(){return n.userIsIdle&&e.playerActions.userInteraction()},classNames:(0,f["default"])(n)},React.createElement(l["default"],{file:e.file,textTracks:e.textTracks,playerState:n,playerActions:e.playerActions,qualities:e.qualities,controlBarText:e.controlBarText,infoBox:r}),React.createElement(s.PageScroller,{className:(0,f["default"])(n)},React.createElement(s.PageHeader,{page:t}),React.createElement(u.PagePrintImage,{page:t}),React.createElement(s.PageText,{page:t},React.createElement(c["default"],{file:e.file})))))}function o(e){return!1!==e.page.autoplay&&e.hasAutoplaySupport}function a(e,t,n,r){return(0,g["default"])(e,{has_text_tracks:!!n.activeFileId,is_idle:r.isPlaying&&r.userIsIdle,is_control_bar_focused:r.focusInsideControls,is_control_bar_hovered:r.userHoveringControls,is_control_bar_hidden:r.controlsHidden,unplayed:r.unplayed&&!t,has_played:r.hasPlayed})}Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPage=i;var s=n(331),u=n(494),l=r(n(496)),c=r(n(500)),f=r(n(497)),d=n(339),p=n(439),h=n(498),g=r(n(334)),v=n(397);t["default"]=(0,v.connect)((0,d.combineSelectors)({textTracks:(0,h.textTracks)({file:(0,p.prop)("file"),defaultTextTrackFileId:(0,p.prop)("page.defaultTextTrackFileId")}),hasAutoplaySupport:(0,p.has)("autoplay support")}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.playerActions,n=e.playerState,r=function(t){"off"==t?e.updateTextTrackSettings({kind:"off"}):e.updateTextTrackSettings(e.textTracks.files.find(function(e){return e.id==t}))};return _["default"].createElement(h["default"],f({hasProgress:!0,controlBarText:e.controlBarText,isLoading:n.isLoading||n.bufferUnderrun,isPlaying:n.shouldPlay,currentTime:n.scrubbingAt!==undefined?n.scrubbingAt:n.currentTime,bufferedEnd:n.bufferedEnd,duration:n.duration,onPlayButtonClick:t.togglePlaying,onScrub:t.scrubTo,onSeek:t.seekTo,onMouseEnter:t.controlsEntered,onMouseLeave:t.controlsLeft,onFocus:t.focusEnteredControls,onBlur:t.focusLeftControls,watchVisibility:n.isPlaying,onHidden:t.controlsHidden,additionalMenuBarButtons:a(e),infoBoxHiddenDuringPlayback:s(e),onAdditionalButtonMouseEnter:t.showInfoBoxDuringPlayback,onAdditionalButtonMouseLeave:t.hideInfoBoxDuringPlayback,onAdditionalButtonClick:t.toggleInfoBoxDuringPlayback,qualityMenuItems:l(e.qualities,e.file,e.activeQuality,e.t),qualityMenuButtonTitle:e.t("pageflow.public.media_quality"),onQualityMenuItemClick:e.updateVideoQualitySetting,textTracksMenuItems:u(e.textTracks,e.t),textTracksMenuButtonTitle:e.t("pageflow.public.text_tracks"),onTextTracksMenuItemClick:r},e,{className:o(n)}))}function o(e){return(0,b["default"])((0,d["default"])(e))}function a(e){var t=e.t;return(0,p.isInfoBoxEmpty)(e.infoBox)?[]:[{name:"toggleInfoBox",className:"player_controls-toggle_info_box_menu_button",label:t("pageflow.public.toggle_info_box"),iconName:"toggleInfoBox"}]}function s(e){var t=e.playerState;return t.infoBoxHiddenDuringPlayback===undefined?!!e.textTracks.activeFileId:t.infoBoxHiddenDuringPlayback}function u(e,t){if(!e.files.length)return[];var n={value:"off",label:t("pageflow.public.text_track_modes.none"),active:"off"==e.mode};return[{value:"auto",label:e.autoFile?t("pageflow.public.text_track_modes.auto",{label:e.autoFile.displayLabel}):t("pageflow.public.text_track_modes.auto_off"),active:"auto"==e.mode},n].concat(e.files.map(function(t){return{value:t.id,label:t.displayLabel,active:"user"==e.mode&&t.id==e.activeFileId}}))}function l(e,t,n,r){return n=n||"auto",c(e,t).map(function(e){return{value:e,label:r("pageflow.public.video_qualities.labels."+e),annotation:r("pageflow.public.video_qualities.annotations."+e,{defaultValue:""}),active:e==n}})}function c(e,t){return t?e.filter(function(e){return!!t.urls[e]||"auto"==e}):[]}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.MediaPlayerControls=i;var d=r(n(497)),p=n(446),h=r(p),g=n(339),v=n(498),m=n(486),y=n(499),_=r(n(333)),b=r(n(334)),T=n(397);i.defaultProps={qualities:[],textTracks:{files:[]}},t["default"]=(0,T.connect)((0,g.combineSelectors)({activeQuality:(0,v.videoQualitySetting)(),t:m.t}),{updateTextTrackSettings:y.updateTextTrackSettings,updateVideoQualitySetting:y.updateVideoQualitySetting})(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return(0,i["default"])({is_playing:e.shouldPlay,is_playing_delayed:e.hasBeenPlayingJustNow,is_paused:!e.shouldPlay})};var i=r(n(334))},function(e,t,n){"use strict";function r(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).scope,t=e===undefined?"default":e;return(0,p.pageState)("media."+t)}function i(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).scope,t=e===undefined?"default":e;return function(e){return(0,m.bindActionCreators)((0,f.actionCreators)({scope:t}),e)}}function o(e){var t=e.file,n=e.defaultTextTrackFileId,r=n===undefined?function(){}:n;return(0,v.memoizedSelector)((0,h.setting)({property:"textTrack"}),(0,h.setting)({property:"volume"}),g.t,g.locale,(0,d.nestedFiles)("textTrackFiles",{parent:t}),r,function(e,t,n,r,i,o){e=e||{};var l=i.map(function(e){return c({displayLabel:s(e,n)},e)}),f=a(l,o,r,t);return{files:l.sort(function(e,t){return(e.displayLabel||"").localeCompare(t.displayLabel||"")}),autoFile:f,activeFileId:u(l,f,e),mode:"off"==e.kind?"off":e.kind?"user":"auto"}})}function a(e,t,n,r){if(t){var i=e.find(function(e){return e.id==t});if(i)return i}var o=e.find(function(e){return"subtitles"==e.kind&&e.srclang==n}),a=0==r&&e.find(function(e){return"captions"==e.kind});return o||a}function s(e,t){return e.label||t("pageflow.public.languages."+e.srclang||"unknown",{defaultValue:t("pageflow.public.languages.unknown")})}function u(e,t,n){if("off"==n.kind)return null;var r=e.find(function(e){return e.srclang==n.srclang&&e.kind==n.kind});return r?r.id:t&&t.id}function l(){return(0,h.setting)({property:"videoQuality"})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.playerState=r,t.playerActions=i,t.textTracks=o,t.videoQualitySetting=l;var f=n(499),d=n(442),p=n(375),h=n(492),g=n(486),v=n(339),m=n(351)},function(e,t,n){"use strict";function r(){function e(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return{type:e,meta:{collectionName:"pages",mediaScope:n},payload:t}}var t=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).scope,n=t===undefined?"default":t;return{togglePlaying:function(){return e(s)},play:function(){return e(u)},playAndFadeIn:function(t){var n=t.fadeDuration;return e(l,{fadeDuration:n})},pause:function(){return e(c)},fadeOutAndPause:function(t){var n=t.fadeDuration;return e(f,{fadeDuration:n})},scrubTo:function(t){return e(d,{time:t})},seekTo:function(t){return e(p,{time:t})},prebuffer:function(){return e(h)},prebuffered:function(){return e(g)},abortPrebuffering:function(){return e(v)},bufferUnderrun:function(){return e(m)},bufferUnderrunContinue:function(){return e(y)},playing:function(){return e(T)},paused:function(){return e(w)},timeUpdate:function(t){var n=t.currentTime,r=t.duration;return e(E,{currentTime:n,duration:r})},metaDataLoaded:function(t){var n=t.currentTime,r=t.duration;return e(_,{currentTime:n,duration:r})},progress:function(t){var n=t.bufferedEnd;return e(b,{bufferedEnd:n})},ended:function(){return e(S)},seeking:function(){return e(P)},seeked:function(){return e(C)},waiting:function(){return e(I)},hasNotBeenPlayingForAMoment:function(){return e(x)},userInteraction:function(){return e(A)},userIdle:function(){return e(O)},controlsEntered:function(){return e(k)},controlsLeft:function(){return e(M)},focusEnteredControls:function(){return e(R)},focusLeftControls:function(){return e(D)},controlsHidden:function(){return e(N)},showInfoBoxDuringPlayback:function(){return e(L)},hideInfoBoxDuringPlayback:function(){return e(j)},toggleInfoBoxDuringPlayback:function(){return e(F)}}}function i(e){return(0,a.update)({property:"textTrack",value:e?{srclang:e.srclang,kind:e.kind}:{}})}function o(e){return(0,a.update)({property:"videoQuality",value:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.TOGGLE_INFO_BOX_DURING_PLAYBACK=t.HIDE_INFO_BOX_DURING_PLAYBACK=t.SHOW_INFO_BOX_DURING_PLAYBACK=t.CONTROLS_HIDDEN=t.FOCUS_LEFT_CONTROLS=t.FOCUS_ENTERED_CONTROLS=t.CONTROLS_LEFT=t.CONTROLS_ENTERED=t.USER_IDLE=t.USER_INTERACTION=t.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT=t.WAITING=t.SEEKED=t.SEEKING=t.ENDED=t.TIME_UPDATE=t.PAUSED=t.PLAYING=t.PROGRESS=t.META_DATA_LOADED=t.BUFFER_UNDERRUN_CONTINUE=t.BUFFER_UNDERRUN=t.ABORT_PREBUFFERING=t.PREBUFFERED=t.PREBUFFER=t.SEEK_TO=t.SCRUB_TO=t.FADE_OUT_AND_PAUSE=t.PAUSE=t.PLAY_AND_FADE_IN=t.PLAY=t.TOGGLE_PLAYING=undefined,t.actionCreators=r,t.updateTextTrackSettings=i,t.updateVideoQualitySetting=o;var a=n(330),s=t.TOGGLE_PLAYING="MEDIA_TOGGLE_PLAYING",u=t.PLAY="MEDIA_PLAY",l=t.PLAY_AND_FADE_IN="MEDIA_PLAY_AND_FADE_IN",c=t.PAUSE="MEDIA_PAUSE",f=t.FADE_OUT_AND_PAUSE="MEDIA_FADE_OUT_AND_PAUSE",d=t.SCRUB_TO="MEDIA_SCRUB_TO",p=t.SEEK_TO="MEDIA_SEEK_TO",h=t.PREBUFFER="MEDIA_PREBUFFER",g=t.PREBUFFERED="MEDIA_PREBUFFERED",v=t.ABORT_PREBUFFERING="MEDIA_ABORT_PREBUFFERING",m=t.BUFFER_UNDERRUN="MEDIA_BUFFER_UNDERRUN",y=t.BUFFER_UNDERRUN_CONTINUE="MEDIA_BUFFER_UNDERRUN_CONTINUE",_=t.META_DATA_LOADED="MEDIA_META_DATA_LOADED",b=t.PROGRESS="MEDIA_PROGRESS",T=t.PLAYING="MEDIA_PLAYING",w=t.PAUSED="MEDIA_PAUSED",E=t.TIME_UPDATE="MEDIA_TIME_UPDATE",S=t.ENDED="MEDIA_ENDED",P=t.SEEKING="MEDIA_SEEKING",C=t.SEEKED="MEDIA_SEEKED",I=t.WAITING="MEDIA_WAITING",x=t.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT="MEDIA_HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT",A=t.USER_INTERACTION="MEDIA_USER_INTERACTION",O=t.USER_IDLE="MEDIA_USER_IDLE",k=t.CONTROLS_ENTERED="MEDIA_CONTROLS_ENTERED",M=t.CONTROLS_LEFT="MEDIA_CONTROLS_LEFT",R=t.FOCUS_ENTERED_CONTROLS="MEDIA_FOCUS_ENTERED_CONTROLS",D=t.FOCUS_LEFT_CONTROLS="MEDIA_FOCUS_LEFT_CONTROLS",N=t.CONTROLS_HIDDEN="MEDIA_CONTROLS_HIDDEN",L=t.SHOW_INFO_BOX_DURING_PLAYBACK="SHOW_INFO_BOX_DURING_PLAYBACK",j=t.HIDE_INFO_BOX_DURING_PLAYBACK="HIDE_INFO_BOX_DURING_PLAYBACK",F=t.TOGGLE_INFO_BOX_DURING_PLAYBACK="TOGGLE_INFO_BOX_DURING_PLAYBACK"},function(e,t,n){"use strict";function r(e){return e.file?React.createElement("p",{className:"non_js_video"},React.createElement("a",{href:i(e),target:"_blank"},o(e))):React.createElement("noscript",null)}function i(e){var t=e.entrySlug,n=e.file;return"/"+t+"/"+("videoFiles"==n.collectionName?"videos":"audio")+"/"+n.id}function o(e){var t=e.file;return(0,e.t)("pageflow.public.open_"+("videoFiles"==t.collectionName?"video":"audio"))}Object.defineProperty(t,"__esModule",{value:!0}),t.NonJsLinks=r;var a=n(339),s=n(486),u=n(501),l=n(397);t["default"]=(0,l.connect)((0,a.combineSelectors)({t:s.t,entrySlug:(0,u.entryAttribute)("slug")}))(r)},function(e,t){"use strict";function n(e){return function(t){return t.entry[e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.entryAttribute=n},function(e,t,n){"use strict";function r(e){
return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=l.camelize.concat(e.propertyNamePrefix,e.videoPropertyBaseName),r=l.camelize.concat(e.propertyNamePrefix,e.posterImagePropertyBaseName);return React.createElement(f,{videoFileId:t[n+"Id"],posterImageFileId:t[r+"Id"],playerState:e.playerState,playerActions:e.playerActions,fit:e.fit,position:[t[n+"X"],t[n+"Y"]],textTracksEnabled:e.textTracksEnabled,loop:e.loop,muted:e.muted,playsInline:e.playsInline})}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayer=undefined,t["default"]=i;var o=r(n(503)),a=r(n(515)),s=n(442),u=n(488),l=n(339),c=n(397),f=t.VideoPlayer=(0,c.connect)((0,l.combineSelectors)({file:(0,s.file)("videoFiles",{id:(0,u.prop)("videoFileId")}),posterImageFile:(0,s.file)("imageFiles",{id:(0,u.prop)("posterImageFileId")})}))((0,a["default"])(o["default"]));i.defaultProps={videoPropertyBaseName:"videoFile",posterImagePropertyBaseName:"posterImage",fit:"smart_contain"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){return React.createElement(o["default"],{videoFile:e.file,fit:e.fit,position:e.position},React.createElement(u,{file:e.file,posterImageFile:e.posterImageFile,playerState:e.playerState,playerActions:e.playerActions,atmoDuringPlayback:e.atmoDuringPlayback,defaultTextTrackFileId:e.defaultTextTrackFileId,textTracksEnabled:e.textTracksEnabled,loop:e.loop,muted:e.muted,playsInline:e.playsInline}))};var i=r(n(504)),o=r(n(511)),a=r(n(514)),s=n(339),u=(0,i["default"])({tagName:"video",sources:a["default"],poster:function(e,t){var n=(0,s.has)("mobile platform")?"medium":"large";return t?t.urls[n]:e.urls["poster_"+n]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.playerState;return E(e)?n.controlsHidden?"auto.lazy":"auto.translated":n.controlsHidden?"auto.lazy":"top"}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t["default"]=function(e){var t=e.tagName,n=e.sources,r=e.poster,_=r===undefined?function(){}:r,E=e.emulateTextTracksDisplay,S=E!==undefined&&E,P=e.createPlayer,C=P===undefined?c["default"]:P,I=function(){function e(n,r){i(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.displaysTextTracksInNativePlayer=a.props.hasNativeVideoPlayer&&"video"==t,a.updateAtmoSettings(),a.setupMediaTag=function(e){a.player=C(e,{emulateTextTracksDisplay:S,atmoSettings:a.atmoSettings,mediaContext:a.context.mediaContext,playsInline:n.playsInline}),a.player.ready(function(){(0,p.initPlayer)(a.player,function(){return a.props.playerState},a.props.playerActions,a.prevFileId,a.props.file.id),a.displaysTextTracksInNativePlayer||(0,h.initTextTracks)(a.player,function(){return a.props.textTracks.activeFileId},function(){return a.props.textTrackPosition}),(0,f["default"])(a.player,a.props.playerActions),a.prevFileId=a.props.file.id})},a.disposeMediaTag=function(){a.player.dispose(),a.player=null},a}return a(e,b["default"].Component),u(e,[{key:"componentDidUpdate",value:function(e){this.player&&((0,p.updatePlayer)(this.player,e.playerState,this.props.playerState,this.props.playerActions,this.props.playsInline),this.displaysTextTracksInNativePlayer||(0,h.updateTextTracks)(this.player,e.textTracks.activeFileId,this.props.textTracks.activeFileId,this.props.textTrackPosition),this.updateAtmoSettings())}},{key:"updateAtmoSettings",value:function(){this.atmoSettings=this.atmoSettings||{},this.atmoSettings.atmo_during_playback=this.props.atmoDuringPlayback}},{key:"render",value:function(){return b["default"].createElement(l["default"],{tagName:t,sources:n(this.props.file,this.props.quality,{hasHighBandwidth:this.props.hasHighBandwidth}),tracks:(0,h.textTracksFromFiles)(this.props.textTracks.files,this.props.textTracksEnabled),poster:_(this.props.file,this.props.posterImageFile),loop:this.props.loop,muted:this.props.muted,playsInline:this.props.playsInline,alt:this.props.file.alt,onSetup:this.setupMediaTag,onDispose:this.disposeMediaTag})}}]),e}();I.contextTypes={mediaContext:b["default"].PropTypes.object},I.defaultProps={textTracksEnabled:!0,textTracks:{files:[]}},I.propTypes={file:b["default"].PropTypes.object.isRequired};var x=(0,w.connect)((0,T.combineSelectors)({textTracks:(0,g.textTracks)({file:(0,m.prop)("file"),defaultTextTrackFileId:(0,m.prop)("defaultTextTrackFileId")}),quality:(0,v.setting)({property:"videoQuality"}),hasNativeVideoPlayer:(0,y.has)("native video player"),hasHighBandwidth:(0,y.has)("high bandwidth"),textTrackPosition:s}),{updateTextTrackSettings:d.updateTextTrackSettings})(I);return x.WrappedComponent=I,x};var l=r(n(505)),c=r(n(506)),f=r(n(507)),d=n(499),p=n(508),h=n(509),g=n(498),v=n(492),m=n(488),y=n(439),_=n(510),b=r(n(333)),T=n(339),w=n(397),E=(0,_.widgetPresent)("slimPlayerControls")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(Object.keys(r).length!==Object.keys(i).length)return!1;for(var o in r)if(r[o]!==i[o])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n(333)),c=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,l["default"].Component),u(e,[{key:"render",value:function(){var e=this;return l["default"].createElement("div",{ref:function(t){return e.containerElement=t},dangerouslySetInnerHTML:this.mediaTagHTML()})}},{key:"shouldComponentUpdate",value:function(e){return e.tagName!==this.props.tagName||e.poster!==this.props.poster||e.loop!==this.props.loop||e.muted!==this.props.muted||e.playsInline!==this.props.playsInline||!s(e.sources,this.props.sources)||!s(e.tracks,this.props.tracks)}},{key:"componentDidMount",value:function(){this.triggerOnSetup()}},{key:"componentWillUpdate",value:function(){this.triggerOnDispose()}},{key:"componentDidUpdate",value:function(){this.triggerOnSetup()}},{key:"componentWillUnmount",value:function(){this.triggerOnDispose()}},{key:"triggerOnSetup",value:function(){this.props.onSetup&&this.props.onSetup(this.containerElement.firstElementChild)}},{key:"triggerOnDispose",value:function(){this.props.onDispose&&this.props.onDispose()}},{key:"mediaTagHTML",value:function(){var e=document.createElement("div"),t=document.createElement(this.props.tagName);return t.setAttribute("preload","auto"),t.setAttribute("crossorigin","anonymous"),t.setAttribute("alt",this.props.alt),this.props.poster&&t.setAttribute("data-poster",this.props.poster),this.props.loop&&t.setAttribute("loop","true"),this.props.muted&&t.setAttribute("muted","true"),this.props.playsInline&&t.setAttribute("playsinline","true"),this.props.sources.forEach(function(e){var n=document.createElement("source");n.setAttribute("src",e.src),n.setAttribute("type",e.type),t.appendChild(n)}),this.props.tracks.forEach(function(e){var n=document.createElement("track");n.setAttribute("src",e.src),n.setAttribute("id",e.id),n.setAttribute("kind",e.kind),n.setAttribute("srclang",e.srclang),n.setAttribute("label",e.label),t.appendChild(n)}),e.appendChild(t),{__html:e.innerHTML}}}]),e}();t["default"]=c,c.defaultProps={tagName:"video",sources:[],tracks:[]}},function(e,t){"use strict";function n(e,t){t.emulateTextTracksDisplay;var n=t.atmoSettings,r=t.mediaContext,i=t.playsInline,o="audio"==e.tagName.toLowerCase(),a=new pageflow.VideoPlayer(e,{controlBar:!1,loadingSpinner:!1,bigPlayButton:!1,errorDisplay:!1,textTrackSettings:!1,poster:e.getAttribute("data-poster"),html5:{nativeCaptions:!o&&pageflow.browser.has("iphone platform")},bufferUnderrunWaiting:!0,useSlimPlayerControlsDuringPhonePlayback:!i&&!o,fullscreenDuringPhonePlayback:!i&&!o,volumeFading:!0,hooks:pageflow.atmo.createMediaPlayerHooks(n),mediaEvents:!0,context:r});return a.textTrackSettings={getValues:function(){return{}}},a.addClass("video-js"),a.addClass("player"),a}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("loadedmetadata",function(){return t.metaDataLoaded({currentTime:e.currentTime(),duration:e.duration()})}),e.on("progress",function(){return t.progress({bufferedEnd:e.bufferedEnd()})}),e.on("play",t.playing),e.on("pause",t.paused),e.on("waiting",t.waiting),e.on("seeking",t.seeking),e.on("seeked",t.seeked),e.on("bufferunderrun",t.bufferUnderrun),e.on("bufferunderruncontinue",t.bufferUnderrunContinue),e.on("timeupdate",function(){return t.timeUpdate({currentTime:e.currentTime(),duration:e.duration()})}),e.on("ended",t.ended)}},function(e,t){"use strict";function n(e,t,n,r,i){var o=t();i===r&&o.currentTime>0&&e.currentTime(o.currentTime),o.shouldPrebuffer&&e.prebuffer().then(n.prebuffered),o.isPlaying&&e.play(),e.on("canplay",function(){t().shouldPlay&&e.paused()&&e.play()})}function r(e,t,n,r){!t.shouldPrebuffer&&n.shouldPrebuffer&&e.prebuffer().then(r.prebuffered),!t.shouldPlay&&n.shouldPlay?n.fadeDuration?e.playAndFadeIn(n.fadeDuration):e.play():t.shouldPlay&&!n.shouldPlay&&(n.fadeDuration?e.fadeOutAndPause(n.fadeDuration):e.pause()),n.shouldSeekTo!==undefined&&n.shouldSeekTo!==t.shouldSeekTo&&e.currentTime(n.shouldSeekTo)}Object.defineProperty(t,"__esModule",{value:!0}),t.initPlayer=n,t.updatePlayer=r},function(e,t){"use strict";function n(e,t,n){e.on("pause",function(){r(e,t,n)}),e.textTracks().on("addtrack",function(){i(e,null,t(),n())}),i(e,null,t(),n()),r(e,t,n)}function r(e,t,n){e.one("timeupdate",function(){i(e,null,t(),n())})}function i(e,t,n,r){t!=n&&o(e,n),a(e,r)}function o(e,t){[].slice.call(e.textTracks()).forEach(function(e){e.id=="text_track_file_"+t?e.mode="showing":e.mode="disabled"})}function a(e,t){e.updateCueLineSettings(t)}function s(e,t){return t?e.filter(function(e){return e.isReady}).map(function(e){return{id:"text_track_file_"+e.id,kind:e.kind,label:e.displayLabel,srclang:e.srclang,src:e.urls.vtt}}):[]}Object.defineProperty(t,"__esModule",{value:!0}),t.initTextTracks=n,t.updateTextTracks=i,t.textTracksFromFiles=s},function(e,t){"use strict";function n(e){return function(t){return t.widgetPresence[e]}}Object.defineProperty(t,"__esModule",{value:!0}),t.widgetPresent=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return c["default"].createElement(f["default"],{whitelist:["width","height"]},function(t){return o(e,t)})}function o(e,t){var n=(0,u["default"])(e.videoFile,e.fit,e.position,t);return c["default"].createElement("div",{className:"videoWrapper"},c["default"].createElement("div",{className:(0,l["default"])(n,t),style:a(n)},e.children))}function a(e){return e&&s({position:"absolute"},e)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=i;var u=r(n(512)),l=r(n(513)),c=r(n(333)),f=r(n(468));i.propTypes={videoFile:c["default"].PropTypes.object,fit:c["default"].PropTypes.oneOf(["contain","cover","smart_contain"]),position:c["default"].PropTypes.arrayOf(c["default"].PropTypes.number)}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t,n,r){if(r&&r.height&&t&&"contain"!=t){var i=void 0,o=void 0,a=void 0,s=e.width/e.height;if("width"==(r.width/r.height>s?"width":"height")?(i=(o=r.height)*s,a=r.width/i):(o=(i=r.width)/s,a=r.height/o),!("smart_contain"==t&&a>1.2)){var u=i*a,l=o*a,c=n[0]!==undefined&&"cover"==t?n[0]:50,f=n[1]!==undefined&&"cover"==t?n[1]:50;return{left:(r.width-u)*c/100,top:(r.height-l)*f/100,width:u,height:l}}}}},function(e,t){"use strict";function n(e,t){if(e&&t){var n=Math.max(0,-e.left),r=Math.max(0,e.width-t.width+e.left),i=Math.max(0,-e.top),o=Math.max(0,e.height-t.height+e.top);return["cue_offset","cue_offset_"+Math.ceil(o/10),"cue_margin_left_"+Math.ceil(n/10),"cue_margin_right_"+Math.ceil(r/10),"cue_margin_top_"+Math.ceil(i/10),"cue_margin_bottom_"+Math.ceil(o/10)].join(" ")}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var n=(arguments.length>2&&arguments[2]!==undefined?arguments[2]:{}).hasHighBandwidth;if("auto"==(t=t||"auto")){var r=n?"high":"medium",i=[{type:"application/x-mpegURL",src:e.urls["hls-playlist"]+"?u=1"},{type:"video/mp4",src:e.urls[r]+"?u=1"}];return e.urls["dash-playlist"]&&(i=[{type:"application/dash+xml",src:""+e.urls["dash-playlist"]}].concat(i)),i}return e.urls[t]||(t="high"),[{type:"video/mp4",src:e.urls[t]+"?u=1"}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e){function t(t){return t.file&&t.file.isReady&&t.pageIsPrepared?React.createElement(e,{file:t.file,posterImageFile:t.posterImageFile,playerState:t.playerState,playerActions:t.playerActions,atmoDuringPlayback:t.atmoDuringPlayback,fit:t.fit,position:t.position,loop:t.loop,muted:t.muted,playsInline:t.playsInline,defaultTextTrackFileId:t.defaultTextTrackFileId,textTracksEnabled:t.textTracksEnabled}):null}return(0,r.connectInPage)((0,o.combineSelectors)({pageIsPrepared:(0,i.pageIsPrepared)(),atmoDuringPlayback:(0,i.pageAttribute)("atmoDuringPlayback"),defaultTextTrackFileId:(0,i.pageAttribute)("defaultTextTrackFileId")}))(t)};var r=n(348),i=n(375),o=n(339)},function(e,t,n){"use strict";function r(e){var t=i(e);return t?React.createElement(a.PageBackgroundImage,{page:e.page,propertyBaseName:t.propertyBaseName,fileCollection:t.collection}):React.createElement("noscript",null)}function i(e){return o(e.propertyNamePrefix).find(function(t){return e.fileExists(t.collection,e.page[t.propertyBaseName+"Id"])})}function o(e){return[{propertyBaseName:s.camelize.concat(e,"mobilePosterImage"),collection:"imageFiles"},{propertyBaseName:s.camelize.concat(e,"posterImage"),collection:"imageFiles"},{propertyBaseName:s.camelize.concat(e,"videoFile"),collection:"videoFiles"}]}Object.defineProperty(t,"__esModule",{value:!0}),t.MobilePageVideoPoster=r;var a=n(331),s=n(339),u=n(442),l=n(397);t["default"]=(0,l.connect)((0,s.combineSelectors)({fileExists:(0,u.fileExists)()}))(r)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return e.hasMobilePlatform&&o(e)?React.createElement(u["default"],{page:e.page,propertyNamePrefix:e.propertyNamePrefix}):React.createElement(s["default"],a({loop:!0,fit:"cover",muted:!e.hasAutoplaySupport,playsInline:!0,textTracksEnabled:!1},e))}function o(e){var t=l.camelize.concat(e.propertyNamePrefix,"mobilePosterImageId");return e.fileExists("imageFiles",e.page[t])}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.PageBackgroundVideo=i;var s=r(n(502)),u=r(n(516)),l=n(339),c=n(442),f=n(439),d=n(397);t["default"]=(0,d.connect)((0,l.combineSelectors)({fileExists:(0,c.fileExists)(),hasMobilePlatform:(0,f.has)("mobile platform"),hasAutoplaySupport:(0,f.has)("autoplay support")}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page,n=e.playerState,r=e.playerActions,i=e.propertyNamePrefix;return"video"==t[c.camelize.concat(i,"backgroundType")]?React.createElement(a["default"],{page:t,playerState:n,playerActions:r,propertyNamePrefix:i}):React.createElement(o.PageBackgroundImage,{page:t,propertyNamePrefix:i})}Object.defineProperty(t,"__esModule",{value:!0}),t.PageBackgroundAsset=i;var o=n(331),a=r(n(517)),s=n(498),u=n(348),l=n(375),c=n(339);t["default"]=(0,u.connectInPage)((0,c.combineSelectors)({page:(0,l.pageAttributes)(),playerState:(0,s.playerState)({scope:"background"})}),(0,c.combine)({playerActions:(0,s.playerActions)({scope:"background"})}))(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(o.PageBackground,null,React.createElement(a["default"],{propertyNamePrefix:e.propertyNamePrefix}),React.createElement(o.PageShadow,{page:e.page}))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=n(331),a=r(n(518))},function(e,t,n){"use strict";function r(e){var t=e.page;return"video"==t.backgroundType||"video"==t.type?React.createElement(c,{videoId:t.videoFileId,posterImageId:t.posterImageId}):React.createElement(f,{imageId:t.backgroundImageId})}function i(e){var t=e.file;return t&&s.pageIsPrepared?React.createElement("img",{src:t.urls.print,alt:t.alt,className:"print_image"}):React.createElement("noscript",null)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(397),a=n(348),s=n(375),u=n(488),l=n(339),c=(0,o.connect)((0,l.combineSelectors)({videoFile:(0,u.file)("videoFiles",{id:(0,u.prop)("videoId")}),posterImageFile:(0,u.file)("imageFiles",{id:(0,u.prop)("posterImageId")})}))(function(e){var t=e.videoFile,n=e.posterImageFile;return n?React.createElement(i,{file:n}):React.createElement(i,{file:t})}),f=(0,a.connectInPage)((0,l.combineSelectors)({file:(0,u.file)("imageFiles",{id:(0,u.prop)("imageId")}),pageIsPrepared:(0,s.pageIsPrepared)()}))(i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(){var e=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).scope,t=e===undefined?"default":e;return function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},n=arguments[1];if(n.meta&&n.meta.mediaScope&&n.meta.mediaScope!==t)return e;switch(n.type){case a.PAGE_WILL_ACTIVATE:return r({},e,{hasPlayed:!1,unplayed:!0,infoBoxHiddenDuringPlayback:undefined,userIsIdle:!1});case a.PAGE_WILL_DEACTIVATE:return r({},e,{shouldPrebuffer:!1});case i.PLAY:return r({},e,{shouldPlay:!0,hasBeenPlayingJustNow:!0,unplayed:!1,fadeDuration:null,isLoading:!0});case i.PLAYING:return r({},e,{isPlaying:!0});case i.PLAY_AND_FADE_IN:return r({},e,{shouldPlay:!0,hasBeenPlayingJustNow:!0,fadeDuration:n.payload.fadeDuration,isLoading:!0});case i.PAUSE:return r({},e,{shouldPlay:!1,fadeDuration:null,isLoading:!1});case i.PAUSED:return e.bufferUnderrun?r({},e,{isPlaying:!1,hasPlayed:!0}):r({},e,{shouldPlay:!1,isPlaying:!1,fadeDuration:null,isLoading:!1});case i.FADE_OUT_AND_PAUSE:return r({},e,{shouldPlay:!1,isPlaying:!1,fadeDuration:n.payload.fadeDuration,isLoading:!1});case i.PREBUFFER:return r({},e,{shouldPrebuffer:!0});case i.PREBUFFERED:return r({},e,{shouldPrebuffer:!1});case i.WAITING:return r({},e,{isLoading:!0});case i.BUFFER_UNDERRUN:return r({},e,{bufferUnderrun:!0});case i.BUFFER_UNDERRUN_CONTINUE:return r({},e,{bufferUnderrun:!1});case i.SCRUB_TO:return r({},e,{scrubbingAt:n.payload.time});case i.SEEK_TO:return r({},e,{shouldSeekTo:n.payload.time});case i.SEEKING:return r({},e,{isLoading:!0});case i.SEEKED:return r({},e,{scrubbingAt:undefined,isLoading:!1});case i.META_DATA_LOADED:return r({},e,{currentTime:n.payload.currentTime,duration:n.payload.duration});case i.PROGRESS:return r({},e,{bufferedEnd:n.payload.bufferedEnd});case i.TIME_UPDATE:return r({},e,{currentTime:n.payload.currentTime,duration:n.payload.duration,isLoading:!1});case i.ENDED:return r({},e,{shouldPlay:!1,isPlaying:!1});case i.HAS_NOT_BEEN_PLAYING_FOR_A_MOMENT:return r({},e,{hasBeenPlayingJustNow:!1});case o.HOTKEY_TAB:case i.USER_INTERACTION:return r({},e,{userIsIdle:!1,controlsHidden:!1});case i.USER_IDLE:return r({},e,{userIsIdle:!0});case i.CONTROLS_ENTERED:return r({},e,{userHoveringControls:!0});case i.CONTROLS_LEFT:return r({},e,{userHoveringControls:!1});case i.FOCUS_ENTERED_CONTROLS:return r({},e,{focusInsideControls:!0});case i.FOCUS_LEFT_CONTROLS:return r({},e,{focusInsideControls:!1});case i.CONTROLS_HIDDEN:return r({},e,{controlsHidden:!0,infoBoxHiddenDuringPlayback:!0});case i.HIDE_INFO_BOX_DURING_PLAYBACK:return r({},e,{infoBoxHiddenDuringPlayback:!0});case i.SHOW_INFO_BOX_DURING_PLAYBACK:return r({},e,{infoBoxHiddenDuringPlayback:!1});case i.TOGGLE_INFO_BOX_DURING_PLAYBACK:return r({},e,{infoBoxHiddenDuringPlayback:!e.infoBoxHiddenDuringPlayback});default:return e}}};var i=n(499),o=n(522),a=n(329)},function(e,t,n){"use strict";function r(e){var t=e.currentPageId;return(0,o.pageAction)(a,t)}function i(e){var t=e.currentPageId;return(0,o.pageAction)(s,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HOTKEY_TAB=t.HOTKEY_SPACE=undefined,t.space=r,t.tab=i;var o=n(329),a=t.HOTKEY_SPACE="HOTKEY_SPACE",s=t.HOTKEY_TAB="HOTKEY_TAB"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(){var e,t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=[(0,o["default"])()],t.playsInNativePlayer&&t.playsInNativePlayer()||e.push([(0,s["default"])(),(0,f["default"])(),(0,c["default"])(),(0,u["default"])()]),(0,d.has)("mobile platform")||e.push([(0,a["default"])()]),t.hideControls&&e.push([(0,l["default"])()]),n.next=6,e;case 6:case"end":return n.stop()}},p,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i;var o=r(n(524)),a=r(n(525)),s=r(n(526)),u=r(n(527)),l=r(n(528)),c=r(n(529)),f=r(n(530)),d=n(339),p=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)([a.HOTKEY_SPACE,o.TOGGLE_PLAYING],i,(0,o.actionCreators)());case 2:case"end":return e.stop()}},c,this)}function i(e){var t=e.play,n=e.pause;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.select)((0,s.playerState)());case 2:if(!e.sent.shouldPlay){e.next=8;break}return e.next=6,(0,l.put)(n());case 6:e.next=10;break;case 8:return e.next=10,(0,l.put)(t());case 10:case"end":return e.stop()}},f,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(499),a=n(522),s=n(498),u=n(387),l=n(383),c=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.PAGE_DID_ACTIVATE,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.race)({task:(0,a.call)(i),cancel:(0,a.take)(s.PAGE_WILL_DEACTIVATE)});case 2:case"end":return e.stop()}},t,this)}));case 2:case"end":return e.stop()}},c,this)}function i(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.select)((0,l.pageAttribute)("autoplay"));case 2:if(!1===(e=t.sent)){t.next=6;break}return t.next=6,(0,a.put)(g());case 6:return t.next=8,[(0,a.take)(u.PREBUFFERED),(0,a.put)(h())];case 8:if(!1===e){t.next=13;break}return t.next=11,(0,a.call)(o.delay,1e3);case 11:return t.next=13,(0,a.put)(p());case 13:case"end":return t.stop()}},f,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(329),u=n(499),l=n(375),c=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(i),d=(0,u.actionCreators)(),p=d.play,h=d.prebuffer,g=d.waiting},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.takeEvery)(u.PLAY,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.select)((0,l.pageIsActive)());case 2:if(!e.sent){e.next=5;break}return e.next=5,(0,s.call)(i);case 5:case"end":return e.stop()}},t,this)}));case 2:return e.next=4,(0,a.takeEvery)([u.PAUSE,u.ENDED],regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.select)((0,l.pageIsActive)());case 2:if(!e.sent){e.next=5;break}return e.next=5,(0,s.call)(o);case 5:case"end":return e.stop()}},n,this)}));case 4:case"end":return e.stop()}},c,this)}function i(){pageflow.events.trigger("scroll_indicator:disable")}function o(){pageflow.events.trigger("scroll_indicator:enable")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(387),s=n(383),u=n(499),l=n(375),c=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function r(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,a.actionCreators)(),t=e.hasNotBeenPlayingForAMoment,n.next=3,(0,i.takeEvery)([a.PAUSE,a.ENDED],regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.race)({task:(0,o.call)(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.call)(i.delay,700);case 2:return e.next=4,(0,o.put)(t(!1));case 4:case"end":return e.stop()}},n,this)})),cancel:(0,o.take)(a.PLAYING)});case 2:case"end":return e.stop()}},r,this)}));case 3:case"end":return n.stop()}},s,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(387),o=n(383),a=n(499),s=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function r(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,s.actionCreators)(),t=e.userIdle,n.next=3,(0,o.takeLatest)([s.PLAY,s.USER_INTERACTION,u.HOTKEY_TAB],i,t);case 3:case"end":return n.stop()}},l,this)}function i(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.call)(o.delay,3e3);case 2:return t.next=4,(0,a.put)(e());case 4:case"end":return t.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(499),u=n(522),l=regeneratorRuntime.mark(r),c=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(){var e,t,n=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).scope;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=(0,a.actionCreators)({scope:n}),t=e.fadeOutAndPause,r.next=3,(0,i.takeEvery)(s.PAGE_DID_DEACTIVATE,regeneratorRuntime.mark(function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.put)(t({fadeDuration:400}));case 2:case"end":return e.stop()}},u,this)}));case 3:case"end":return r.stop()}},u,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var i=n(387),o=n(383),a=n(499),s=n(329),u=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.ENDED,regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.select)((0,u.pageAttribute)("autoChangePageOnEnded"));case 2:return e=t.sent,t.next=5,(0,a.select)((0,u.pageIsActive)());case 5:if(n=t.sent,!e||!n){t.next=9;break}return t.next=9,(0,a.call)(i);case 9:case"end":return t.stop()}},t,this)}));case 2:case"end":return e.stop()}},l,this)}function i(){pageflow.slides.next()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(499),u=n(375),l=regeneratorRuntime.mark(r)},function(e,t,n){"use strict";function r(){var e,t=(arguments.length>0&&arguments[0]!==undefined?arguments[0]:{}).scope;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,s.actionCreators)({scope:t}),n.next=3,(0,o.takeEvery)(u.PAGE_WILL_ACTIVATE,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.race)({task:(0,a.call)(i,e),cancel:(0,a.take)(u.PAGE_WILL_DEACTIVATE)});case 2:case"end":return t.stop()}},r,this)}));case 3:case"end":return n.stop()}},l,this)}function i(e){var t=e.prebuffer,n=e.playAndFadeIn;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[(0,a.take)(s.PREBUFFERED),(0,a.put)(t())];case 2:return e.next=4,(0,a.put)(n({fadeDuration:1e3}));case 4:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(499),u=n(329),l=regeneratorRuntime.mark(r),c=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=t.reduxModule=undefined;var i=r(n(533)),o=r(n(535));t.reduxModule={name:"interactivePageBackground",saga:o["default"]};t.Page=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=r(n(333)),l=r(n(334)),c=n(331),f=n(534),d=n(348),p=n(339),h=function(){function e(t,n){i(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.onPlayButtonClick=function(){pageflow.hideText.activate(),r.props.onEnterBackground&&r.props.onEnterBackground()},r.onCloseButtonClick=function(){pageflow.hideText.deactivate(),r.props.onLeaveBackground&&r.props.onLeaveBackground()},r}return a(e,u["default"].Component),s(e,[{key:"render",value:function(){var e=this.props.page;return u["default"].createElement(c.PageWrapper,{className:(0,l["default"])({unplayed:!this.props.textHasBeenHidden},"hide_content_with_text")},u["default"].createElement(c.CloseButton,{onClick:this.onCloseButtonClick}),u["default"].createElement(c.MenuBar,{additionalButtons:this.props.additionalMenuBarButtons,onAdditionalButtonClick:this.props.onAdditionalButtonClick,qualityMenuButtonTitle:this.props.qualityMenuButtonTitle,qualityMenuItems:this.props.qualityMenuItems,onQualityMenuItemClick:this.props.onQualityMenuItemClick,hiddenOnPhone:this.props.textHasBeenHidden&&!this.props.textIsHidden}),u["default"].createElement(c.PageBackground,{pageHasPlayerControls:!0},u["default"].createElement("div",{className:"videoWrapper"},this.props.children),u["default"].createElement(c.PageShadow,{page:e
})),u["default"].createElement(c.PageForeground,null,u["default"].createElement(c.PlayerControls,{playButtonTitle:"Starten",playButtonIconName:this.props.playButtonIconName,controlBarText:e.controlBarText||this.props.defaultControlBarText,onPlayButtonClick:this.onPlayButtonClick,infoBox:{title:e.additionalTitle,description:e.additionalDescription}}),u["default"].createElement(c.PageScroller,null,u["default"].createElement(c.PageHeader,{page:e}),u["default"].createElement(c.PageText,{page:e}))))}}]),e}();h.propTypes={page:u["default"].PropTypes.object,defaultControlBarText:u["default"].PropTypes.string,playButtonIconName:u["default"].PropTypes.string,onEnterBackground:u["default"].PropTypes.func,onLeaveBackground:u["default"].PropTypes.func,additionalMenuBarButtons:u["default"].PropTypes.array,onAdditionalButtonClick:u["default"].PropTypes.func,qualityMenuItems:u["default"].PropTypes.array,onQualityMenuItemClick:u["default"].PropTypes.func},t["default"]=(0,d.connectInPage)((0,p.combineSelectors)({textIsHidden:f.textIsHidden,textHasBeenHidden:f.textHasBeenHidden}))(h)},function(e,t){"use strict";function n(e){return e.hideText.isActive}function r(e){return e.hideText.hasBeenActive}Object.defineProperty(t,"__esModule",{value:!0}),t.textIsHidden=n,t.textHasBeenHidden=r},function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.takeEvery)(s.DEACTIVATE,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.select)((0,u.pageIsActive)());case 2:if(!e.sent){e.next=5;break}return e.next=5,(0,a.call)(i);case 5:case"end":return e.stop()}},t,this)}));case 2:case"end":return e.stop()}},l,this)}function i(){pageflow.events.trigger("scroll_indicator:enable")}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var o=n(387),a=n(383),s=n(536),u=n(375),l=regeneratorRuntime.mark(r)},function(e,t){"use strict";function n(){return{type:i}}function r(){return{type:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.activate=n,t.deactivate=r;var i=t.ACTIVATE="HIDE_TEXT_ACTIVATE",o=t.DEACTIVATE="HIDE_TEXT_DEACTIVATE"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.registry=undefined;var i=r(n(538)),o=t.registry=new i["default"];t["default"]=o.register},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(){var e=[];this.register=function(t,n){function i(e){throw new Error(e+" Check registerPageType call of "+t+" page type.")}var u=n.component,l=n.reduxModules,c=l===undefined?[]:l,f=r(n,["component","reduxModules"]);u||i("Requires component option to be present"),Array.isArray(c)||i("Expected reduxModules option to be an array.");var d=[],p=c.reduce(function(e,t){return"object"===(void 0===t?"undefined":a(t))&&3==new Set(Object.keys(t).concat(["name","reducers","saga"])).size||i("Expected redux module to be object with name, reducers and saga properties at most."),t.reducers&&"object"!==a(t.reducers)&&i("Expected reducers property of "+t.name+" reduxModule to be object."),t.saga&&d.push(t.saga),o({},e,t.reducers)},{});e.push(o({name:t,component:u,reducer:Object.keys(p).length?(0,s.combineReducers)(p):undefined,saga:regeneratorRuntime.mark(function h(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.map(function(e){return e()});case 2:case"end":return e.stop()}},h,this)})},f))},this.forEach=function(){return e.forEach.apply(e,arguments)},this.reduce=function(){return e.reduce.apply(e,arguments)},this.findByName=function(t){return e.find(function(e){var n=e.name;e.component;return n==t})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=i;var s=n(351)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t){(0,o["default"])(e,{component:a.PageBackgroundAsset,selectTargetElement:function(e){return e.find(".page_background_asset")[0]},mixin:i({scroller:!0},t),reduxModules:[a.pageBackgroundReduxModule]})};var o=r(n(537)),a=n(494)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){var r=t.component;n.push({name:e,component:r})};var n=t.registry=[]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(376),l=n(537),c=r(n(542)),f=r(n(333)),d=n(397),p=(0,u.createItemScopeProvider)("pages"),h=function(){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return a(e,f["default"].Component),s(e,[{key:"componentWillMount",value:function(){this.store=(0,c["default"])({seed:this.props.resolverSeed}),this.pageComponent=l.registry.findByName(this.props.pageType).component}},{key:"render",value:function(){var e=this.pageComponent;return f["default"].createElement(d.Provider,{store:this.store},f["default"].createElement(p,{itemId:this.props.pageId},f["default"].createElement(e,null)))}}]),e}();t["default"]=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e){var t=!!e.storylines,n=!e.settings,r=e.seed,E=t?e:r,S={isServerSide:n,locale:r.locale,slug:r.slug,fileUrlTemplates:r.file_url_templates,modelTypes:r.file_model_types,pageTypesSeed:r.page_types,pageTypes:o.registry,files:E.files||{},storylines:E.storylines,chapters:E.chapters,pages:E.pages,widgets:t?e.entry.widgets:r.widgets,hideText:e.hideText,events:e.events,settings:e.settings,widgetsApi:e.widgets,window:n?null:window},P=(0,s["default"])([v["default"],m["default"],p["default"],u["default"],l["default"],f["default"],h["default"],g["default"],_["default"],T["default"],w["default"],d["default"],y["default"]],S);return n||(o.registry.forEach(function(t){return e.pageType.register(t.name,(0,c.createPageType)(i({},t,{Component:t.component,store:P})))}),a.registry.forEach(function(t){var n=t.name,r=t.component;return e.widgetTypes.register(n,(0,b.createWidgetType)(r,P))})),P};var o=n(537),a=n(540),s=r(n(543)),u=r(n(545)),l=r(n(546)),c=n(348),f=r(c),d=r(n(547)),p=r(n(550)),h=r(n(554)),g=r(n(555)),v=r(n(557)),m=r(n(560)),y=r(n(563)),_=r(n(564)),b=n(567),T=r(b),w=r(n(568))},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n=e.reduce(function(e,n){return n.createReducers?l({},e,n.createReducers(t)):e},{});return Object.keys(n).length?(0,c.combineReducers)(n):function(e){return e}}function a(e,t){var n=[],r=[];return e.forEach(function(e){var i=void 0;e.createMiddleware&&(i=e.createMiddleware(t),r.push(i)),e.createSaga&&n.push((0,d.call)(e.createSaga(l({},t,{middleware:i}))))}),{sagas:n,middlewares:r}}function s(e,t){e.forEach(function(e){e.init&&e.init(t)})}function u(t){return void 0===e&&"undefined"!=typeof __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(t):t}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(e,t){var n=(0,f["default"])(),r=[],d=[];if(!t.isServerSide){var p=a(e,t);r=p.sagas,d=p.middlewares}var h=(0,c.createStore)(o(e,t),{},u(c.applyMiddleware.apply(undefined,[n].concat(i(d)))));return n.run(regeneratorRuntime.mark(function g(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r;case 2:case"end":return e.stop()}},g,this)})),s(e,l({},t,{dispatch:h.dispatch,getState:h.getState})),h};var c=n(351),f=r(n(387)),d=n(383)}).call(t,n(544))},function(e){function t(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===t||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(n){try{return l.call(null,e,0)}catch(n){return l.call(this,e,0)}}}function i(e){if(c===clearTimeout)return clearTimeout(e);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){h&&d&&(h=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!h){var e=r(o);h=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,h=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,c,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:t}catch(e){l=t}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(e){c=n}}();var d,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||r(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(){return[]},f.binding=function(){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(376);t["default"]={init:function(e){var t=e.storylines,n=e.dispatch;(0,r.watch)({collection:t,collectionName:"storylines",dispatch:n,attributes:["id"],includeConfiguration:!0})},createReducers:function(){return{storylines:(0,r.createReducer)("storylines")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(376);t["default"]={init:function(e){var t=e.chapters,n=e.dispatch;(0,r.watch)({collection:t,collectionName:"chapters",dispatch:n,attributes:["id","title","position","storyline_id"]})},createReducers:function(){return{chapters:(0,r.createReducer)("chapters")}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(548),o=r(n(549)),a=n(339);t["default"]={createReducers:function(){return{pageTypes:o["default"]}},init:function(e){var t=e.pageTypesSeed;(0,e.dispatch)((0,i.init)({pageTypes:a.camelize.deep(t)}))}}},function(e,t){"use strict";function n(e){var t=e.pageTypes;return{type:r,payload:{pageTypes:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="PAGE_TYPES_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.INIT:return t.payload.pageTypes;default:return e}};var r=n(548)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.reducers=undefined;var i=r(n(551)),o=r(n(553));t["default"]={init:function(e){var t=e.isServerSide,n=e.events,r=e.dispatch;t||(0,o["default"])(n,r)},createReducers:function(){return{currentPageId:i["default"]}}};t.reducers={currentPageId:i["default"]};t.watch=o["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null,t=arguments[1];switch(t.type){case r.PAGE_CHANGE:return t.payload.id;default:return e}};var r=n(552)},function(e,t){"use strict";function n(e){var t=e.id;return{type:r,payload:{id:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.pageChange=n;var r=t.PAGE_CHANGE="CURRENT_PAGE_CHANGE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("page:change",function(e){return t((0,r.pageChange)({id:e.getPermaId()}))})};var r=n(552)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(376),i=n(339),o=n(351);t["default"]={init:function(e){var t=e.files,n=e.dispatch;Object.keys(t).forEach(function(e){(0,r.watch)({collection:t[e],collectionName:(0,i.camelize)(e),dispatch:n,attributes:["id","basename","variants","is_ready","parent_file_id","parent_file_model_type","width","height"],includeConfiguration:!0})})},createReducers:function(e){var t=e.files,n=e.fileUrlTemplates,a=n===undefined?{}:n,s=e.modelTypes,u=s===undefined?{}:s;return a=i.camelize.keys(a),u=i.camelize.keys(u),{files:(0,o.combineReducers)(Object.keys(t).reduce(function(e,t){return e[t=(0,i.camelize)(t)]=(0,r.createReducer)(t),e},{})),fileUrlTemplates:function(){return a},modelTypes:function(){return u}}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,u.takeEvery)(s.UPDATE,regeneratorRuntime.mark(function n(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.call)([e,e.set],t.payload.property,t.payload.value);case 2:case"end":return n.stop()}},n,this)}));case 2:case"end":return t.stop()}},t,this)})}function o(e,t){t((0,s.load)({settings:e.toJSON()})),e.on("change",function(){return t((0,s.load)({settings:e.toJSON()}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.reducers=undefined,t.createSaga=i,t.watch=o;var a=r(n(556)),s=n(330),u=n(387),l=n(383);t["default"]={init:function(e){var t=e.isServerSide,n=e.settings,r=e.dispatch;t||(r((0,s.load)({settings:n.toJSON()})),n.on("change",function(){return r((0,s.load)({settings:n.toJSON()}))}))},createReducers:function(){return{settings:a["default"]}},createSaga:function(e){var t=e.settings;return regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.takeEvery)(s.UPDATE,regeneratorRuntime.mark(function n(e){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.call)([t,t.set],e.payload.property,e.payload.value);case 2:case"end":return n.stop()}},n,this)}));case 2:case"end":return e.stop()}},n,this)})}};t.reducers={settings:a["default"]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.LOAD:return t.payload.settings;default:return e}};var r=n(330)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(558),o=r(n(559));t["default"]={createReducers:function(){return{i18n:o["default"]}},init:function(e){var t=e.locale;(0,e.dispatch)((0,i.init)({locale:t}))}}},function(e,t){"use strict";function n(e){var t=e.locale;return{type:r,payload:{locale:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="I18N_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.INIT:return{locale:t.payload.locale};default:return e}};var r=n(558)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(561),o=r(n(562));t["default"]={init:function(e){var t=e.slug;(0,e.dispatch)((0,i.init)({slug:t}))},createReducers:function(){return{entry:o["default"]}}}},function(e,t){"use strict";function n(e){var t=e.slug;return{type:r,payload:{slug:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=n;var r=t.INIT="ENTRY_INIT"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.INIT:return{slug:t.payload.slug};default:return e}};var r=n(561)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(479),i=n(522);t["default"]={init:function(e){var t=e.isServerSide,n=e.window,o=e.getState,a=e.dispatch;t||n.addEventListener("keydown",function(e){var t=o().currentPageId;e.keyCode==r.SPACE?a((0,i.space)({currentPageId:t})):e.keyCode==r.TAB&&a((0,i.tab)({currentPageId:t}))})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.watch=t.reducers=undefined;var i=r(n(565)),o=r(n(566));t["default"]={init:function(e){var t=e.isServerSide,n=e.hideText,r=e.dispatch;t||(0,i["default"])(n,r)},createReducers:function(){return{hideText:o["default"]}}};t.reducers={hideText:o["default"]};t.watch=i["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){e.on("activate",function(){return t((0,r.activate)())}),e.on("deactivate",function(){return t((0,r.deactivate)())})};var r=n(536)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:a;switch(arguments[1].type){case i.ACTIVATE:return{isActive:!0,hasBeenActive:!0};case i.DEACTIVATE:return r({},e,{isActive:!1});case o.PAGE_CHANGE:return r({},e,{hasBeenActive:!1});default:return e}};var i=n(536),o=n(552),a={isActive:!1,hasBeenActive:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){return{enhance:function(n){o["default"].render(React.createElement(a.Provider,{store:t},React.createElement(e,null)),n[0])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createWidgetType=i;var o=r(n(429)),a=n(397),s=n(376);t["default"]={init:function(e){var t=e.widgets,n=e.dispatch;(0,s.watch)({collection:t,collectionName:"widgets",dispatch:n,attributes:["role","type_name"],includeConfiguration:!0})},createReducers:function(){return{widgets:(0,s.createReducer)("widgets",{idAttribute:"role"})}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(569)),o=n(570);t["default"]={init:function(e){function t(){a((0,o.load)({widgets:{classicPlayerControls:i.isPresent("classic_player_controls"),slimPlayerControls:i.isPresent("slim_player_controls")}}))}var n=e.isServerSide,r=e.events,i=e.widgetsApi,a=e.dispatch;n||(r.on("widgets:update",t),t())},createReducers:function(){return{widgetPresence:i["default"]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=arguments[1];switch(t.type){case r.LOAD:return t.payload.widgets;default:return e}};var r=n(570)},function(e,t){"use strict";function n(e){var t=e.widgets;return{type:r,payload:{widgets:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n;var r=t.LOAD="WIDGETS_LOAD"},function(e,t,n){"use strict";function r(){(0,o.register)(),(0,a.register)(),(0,i.register)()}Object.defineProperty(t,"__esModule",{value:!0}),t.register=r;var i=n(572),o=n(575),a=n(576)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(a.Page,{className:"audioPage",page:e.page,file:e.audioFile,playerState:e.playerState,playerActions:e.playerActions,controlBarText:e.t("pageflow.public.start_audio")},React.createElement(a.PageBackgroundAsset,null),React.createElement(s["default"],{file:e.audioFile,playerState:e.playerState,playerActions:e.playerActions}))}function o(){(0,u["default"])("audio",{component:(0,l.connectInPage)((0,h.combineSelectors)({page:(0,f.pageAttributes)(),audioFile:(0,p.file)("audioFiles",{id:(0,f.pageAttribute)("audioFileId")}),playerState:(0,c.playerState)(),t:d.t}),(0,h.combine)({playerActions:(0,c.playerActions)()}))(i),reduxModules:[(0,a.reduxModule)(),a.pageBackgroundReduxModule]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(494),s=r(n(573)),u=r(n(537)),l=n(348),c=n(498),f=n(375),d=n(486),p=n(442),h=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(515)),o=r(n(574));t["default"]=(0,i["default"])(o["default"])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(504));t["default"]=(0,i["default"])({tagName:"audio",sources:function(e){return[{type:"audio/ogg",src:e.urls.ogg+"?u=1"},{type:"audio/mp4",src:e.urls.m4a+"?u=1"},{type:"audio/mp3",src:e.urls.mp3+"?u=1"}]},emulateTextTracksDisplay:!0})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.page;return React.createElement(a.PageWrapper,null,React.createElement(s.PageBackground,{page:t}),React.createElement(a.PageForeground,null,React.createElement(a.PageScroller,null,React.createElement(a.PageHeader,{page:t}),React.createElement(s.PagePrintImage,{page:t}),React.createElement(a.PageText,{page:t}))))}function o(){(0,u["default"])("background_image",{component:(0,l.connectInPage)((0,f.combineSelectors)({page:(0,c.pageAttributes)()}))(i),reduxModules:[s.pageBackgroundReduxModule]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(331),s=n(494),u=r(n(537)),l=n(348),c=n(375),f=n(339)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){return React.createElement(a.Page,{className:"videoPage",page:e.page,file:e.videoFile,qualities:g,playerState:e.playerState,playerActions:e.playerActions,controlBarText:e.t("pageflow.public.start_video")},React.createElement(a.PageVideoPlayer,{page:e.page,playerState:e.playerState,playerActions:e.playerActions}),React.createElement(a.MobilePageVideoPoster,{page:e.page}))}function o(){(0,s["default"])("video",{component:(0,u.connectInPage)((0,h.combineSelectors)({page:(0,c.pageAttributes)(),videoFile:(0,d.file)("videoFiles",{id:(0,c.pageAttribute)("videoFileId")}),playerState:(0,l.playerState)(),t:f.t}),(0,h.combine)({playerActions:(0,l.playerActions)()}))(i),reduxModules:[(0,a.reduxModule)({hideControls:!0,playsInNativePlayer:(0,p.has)("native video player")})]})}Object.defineProperty(t,"__esModule",{value:!0}),t.register=o;var a=n(494),s=r(n(537)),u=n(348),l=n(498),c=n(375),f=n(486),d=n(442),p=n(439),h=n(339),g=["auto","4k","fullhd","medium"]},function(e){e.exports=pageflow}]),pageflow.react.registerPageTypeWithDefaultBackground("internal_links_grid",{prepareNextPageTimeout:0,enhance:function(e){e.on("click","nav .thumbnail",function(){return pageflow.slides.goToByPermaId($(this).data("page"),{transition:$(this).data("pageTransition")}),!1})},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),e.find("nav").attr("data-layout",t.get("linked_pages_layout"))}}),pageflow.react.registerPageTypeWithDefaultBackground("internal_links_list",{prepareNextPageTimeout:0,enhance:function(e){e.on("click","nav a[data-page]",function(){return pageflow.slides.goToByPermaId($(this).data("page"),{transition:$(this).data("pageTransition")}),!1})},activated:function(e){this._updateThumbnailHeights(e)},resize:function(e){this._updateThumbnailHeights(e)},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find(".contentText p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this._updateThumbnailHeights(e)},_updateThumbnailHeights:function(e){e.find(".page_link.custom_thumbnail").each(function(){var e=$(".page_thumbnail",this),t=$(".details",this);$(this).hasClass("own_description")?e.css("bottom",t.outerHeight()+"px"):e.css("bottom","0")})}}),pageflow.externalLinks=pageflow.externalLinks||{},pageflow.react.registerPageTypeWithDefaultBackground("external_links",{prepareNextPageTimeout:0,enhance:function(e){var t=e.find(".ext-links"),n=this,r=e.find("#horizontal_scroller");e.find(".contentWrapper");this.linkScroller=new IScroll(t[0],{mouseWheel:!0,bounce:!1,keyBindings:!0,scrollX:!0,scrollY:!1,probeType:2,eventPassthrough:!0}),this.linkScroller.checkDisable=function(){n._checkForIScroll(t,r,e.find(".arrow-forward"),e.find(".arrow-back"),e)},this.linkScroller.updateHeight=function(){n._adjustHeight(e)},t.data("scroller",this.linkScroller),n.linkScroller.on("scroll",function(){n.linkScroller.checkDisable()}),e.find(".arrow-back").on("click",function(e){var r=Math.round(n.linkScroller.x/-260-t.width()/260/2,10);return r<=1?n.linkScroller.scrollTo(0,0,500,IScroll.ease.quadratic):n.linkScroller.scrollToElement($(".page.active #horizontal_scroller a")[r],500,0,0,IScroll.ease.quadratic),n.linkScroller.checkDisable(),e.stopPropagation(),!1}),e.find(".arrow-forward").on("click",function(e){var i=Math.round(n.linkScroller.x/-260+t.width()/260/2,10);return i==r.find("a").length-1?n.linkScroller.scrollTo(n.linkScroller.maxScrollX,0,500,IScroll.ease.quadratic):n.linkScroller.scrollToElement($(".page.active #horizontal_scroller a")[i]),n.linkScroller.checkDisable(),e.stopPropagation(),!1})},resize:function(){this.linkScroller.refresh(),this.linkScroller.checkDisable()},_checkForIScroll:function(e,t,n,r,i){i.width()<=700?this.linkScroller.disable():t.width()<=e.width()?(this.linkScroller.disable(),n.css("display","none"),r.css("display","none")):(this.linkScroller.enable(),this.linkScroller.x==this.linkScroller.maxScrollX?n.css("display","none"):n.css("display","block"),0===this.linkScroller.x?r.css("display","none"):r.css("display","block"))},_adjustHeight:function(e){var t=e.find(".ext-links"),n=e.find(".ext-links > div");t.height(n.height()),this.scroller.refresh()},prepare:function(){},activating:function(){this.linkScroller.refresh(),this.linkScroller.checkDisable()},activated:function(e){this._adjustHeight(e)},deactivating:function(){},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find(".contentText p").html(t.get("text")||""),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this.linkScroller.refresh(),this.linkScroller.checkDisable()},embeddedEditorViews:function(){return{".ext-links":{view:pageflow.externalLinks.ListEmbeddedView,options:{propertyName:"linked_external_site_perma_ids"}}}}}),pageflow.linkmapPage=pageflow.linkmapPage||{},pageflow.linkmapPage.markerOptions=["no_marker","dynamic_marker"],pageflow.features.register("slideshow","page_type.linkmap_page",function(){pageflow.linkmapPage.visitedPages=[],pageflow.events.on("page:change",function(e){pageflow.linkmapPage.visitedPages.indexOf(e.getPermaId())<0&&pageflow.linkmapPage.visitedPages.push(e.getPermaId())})}),pageflow.pageType.register("linkmap_page",_.extend({scrollerOptions:{freeScroll:!0,scrollX:!0,noMouseWheelScrollX:!0},noHideTextOnSwipe:!0,enhance:function(e,t){this.setupPanoramaBackground(e,t),this.setupHoverImages(e,t),this.setupVideoPlayer(e),this.content=e.find(".scroller"),this.panorama=e.find(".panorama"),this.content.linkmapPanorama({page:e,panorama:function(){return e.find(".panorama.active")},scroller:this.scroller,activeAreasSelector:".linkmap_areas > .hover_area",limitScrolling:t.limit_scrolling,minScaling:pageflow.browser.has("mobile platform"),addEnvironment:t.add_environment,marginScrollingDisabled:t.margin_scrolling_disabled,startScrollPosition:this.getPanoramaStartScrollPosition(t)}),this.content.linkmapLookaround({scroller:this.scroller,marginScrollingDisabled:t.margin_scrolling_disabled}),e.find(".linkmap_page").linkmapScrollIndicators({scroller:this.scroller}),e.find(".hover_video").linkmapHoverVideo({video:e.find(".panorama_video")}),this.linkmapAreas=e.find(".linkmap_areas"),this.linkmapAreas.linkmap({hoverImageUrl:this.linkmapAreas.data("hoverImageUrl"),visitedImageUrl:this.linkmapAreas.data("visitedImageUrl"),maskSpriteUrlTemplate:this.linkmapAreas.data("maskSpriteUrlTemplate"),masksData:t.linkmap_masks,baseImage:function(){return e.find(".panorama.active")},hoverVideo:e.find(".hover_video").linkmapHoverVideo("instance"),hoverVideoEnabled:"hover_video"===t.background_type}),this.setupPageLinkAreas(e),this.setupExternalLinkAreas(e),this.setupAudioFileAreas(e,t)},getPanoramaStartScrollPosition:function(e){function t(t){return t in e?e[t]/100:.5}return"video"===e.background_type?{x:t("panorama_video_x"),y:t("panorama_video_y")}:{x:t("panorama_image_x"),y:t("panorama_image_y")}},setupPanoramaBackground:function(e,t){e.find(".panorama_image").toggleClass("active",!this.isBackgroundVideoEnabled(t)),e.find(".panorama_video").toggleClass("active",this.isBackgroundVideoEnabled(t))},setupHoverImages:function(e,t){e.find(".hover_image").toggle(!this.isHoverVideoEnabled(t))},setupVideoPlayer:function(e){var t=e.find(".panorama_video"),n=t.find("[data-template=video]");t.attr("data-width",n.data("videoWidth")).attr("data-height",n.data("videoHeight")),this.videoPlayer=new pageflow.VideoPlayer.Lazy(n,{volumeFading:!0,width:"100%",height:"100%"}),t.data("videoPlayer",this.videoPlayer)},setupPageLinkAreas:function(e){e.on("linkmapareaclick",'[data-target-type="page"]',function(){var e=$(this);pageflow.slides.goToByPermaId(e.data("targetId"),{transition:e.data("pageTransition")})})},setupExternalLinkAreas:function(e){e.on("linkmapareaclick",'[data-target-type="external_site"]',function(){var e=$(this);e.attr("target")?window.open(e.attr("href"),e.attr("target")):window.location.href=e.attr("href")})},setupAudioFileAreas:function(e,t){this.multiPlayer=pageflow.audio.createMultiPlayer({playFromBeginning:!0,fadeDuration:1e3,hooks:pageflow.atmo.createMediaPlayerHooks(t)}),e.linkmapAudioPlayersController({player:this.multiPlayer}),e.find('[data-target-type="audio_file"]').linkmapAudioPlayerControls()},resize:function(){this.content.linkmapPanorama("refresh"),this.linkmapAreas.linkmap("refresh")},prepare:function(e,t){if(this.isVideoEnabled(t))return this.videoPlayer.ensureCreated()},unprepare:function(e,t){if(this.isVideoEnabled(t))return this.videoPlayer.scheduleDispose()},linkedPages:function(e,t){return _(t.linkmap_areas).select(function(e){return"page"===e.target_type}).map(function(e){return e.target_id})},preload:function(e){
return pageflow.preload.backgroundImage(e.find(".background_image"))},activating:function(e,t){this.isVideoEnabled(t)&&this.playVideo(t),this.content.linkmapPanorama("refresh"),this.linkmapAreas.linkmap("refresh"),this.content.linkmapLookaround("activate"),this.content.linkmapPanorama("resetScrollPosition"),this.content.linkmapPanorama("resetAreaHighlighting")},activated:function(){this.content.linkmapPanorama("highlightAreas")},deactivating:function(){this.multiPlayer.pause(),this.content.linkmapLookaround("deactivate")},deactivated:function(e,t){this.isVideoEnabled(t)&&this.pauseVideo(t)},update:function(e,t){this.setupPanoramaBackground(e,t.attributes),this.updateCommonPageCssClasses(e,t),this.linkmapAreas.linkmap("updateHoverVideoEnabled","hover_video"===t.get("background_type")),this.afterEmbeddedViewsUpdate(function(){var n=!1;this.linkmapAreas.linkmap("option","hoverImageUrl",t.getImageFileUrl("hover_image_id",{styleGroup:"panorama"})),this.linkmapAreas.linkmap("option","visitedImageUrl",t.getImageFileUrl("visited_image_id",{styleGroup:"panorama"})),this.linkmapAreas.linkmap("option","masksData",t.get("linkmap_masks")),this.content.linkmapPanorama("update",t.get("add_environment"),t.get("limit_scrolling"),this.getPanoramaStartScrollPosition(t.attributes),n),this.updateScaledOnPhoneFlags(t.page,this.content.linkmapPanorama("instance")),this.content.linkmapLookaround("update",t.get("margin_scrolling_disabled")),this.setupHoverImages(e,t.attributes),this.updateVideoPlayState(t),this.linkmapAreas.linkmap("refresh"),this.scroller.refresh()})},updateScaledOnPhoneFlags:function(e,t){e.set("scaled_on_portrait_phone",t.getPanoramaSize({pageWidth:360,pageHeight:640,minScaling:!0}).scaled),e.set("scaled_on_landscape_phone",t.getPanoramaSize({pageWidth:640,pageHeight:360,minScaling:!0}).scaled)},updateVideoPlayState:function(e){e.hasChanged("background_type")&&(this.isVideoEnabled(e.attributes)?this.playVideo(e.attributes):this.pauseVideo(e.attributes))},afterEmbeddedViewsUpdate:function(e){setTimeout(_.bind(e,this),10)},isVideoEnabled:function(e){return!pageflow.browser.has("mobile platform")&&("video"===e.background_type||"hover_video"===e.background_type)},isBackgroundVideoEnabled:function(e){return!pageflow.browser.has("mobile platform")&&"video"===e.background_type},isHoverVideoEnabled:function(e){return!pageflow.browser.has("mobile platform")&&"hover_video"===e.background_type},playVideo:function(e){var t=this;this.videoPlayer.ensureCreated(),this.prebufferingPromise=this.videoPlayer.prebuffer().then(function(){"video"===e.background_type&&t.videoPlayer.playAndFadeIn(1e3)})},pauseVideo:function(){this.videoPlayer.fadeOutAndPause(1e3),this.videoPlayer.scheduleDispose()}},pageflow.commonPageCssClasses)),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.gyro=t()}(this,function(){var e={x:null,y:null,z:null,alpha:null,beta:null,gamma:null},t={x:0,y:0,z:0,alpha:0,beta:0,gamma:0},n=null,r=[],i={frequency:500,calibrate:function(){for(var n in e)t[n]="number"==typeof e[n]?e[n]:0},getOrientation:function(){return e},startTracking:function(t){n=setInterval(function(){t(e)},i.frequency)},stopTracking:function(){clearInterval(n)},hasFeature:function(e){for(var t in r)if(e==r[t])return!0;return!1},getFeatures:function(){return r}};return window&&window.addEventListener&&function(){function n(i){r.push("MozOrientation"),i.target.removeEventListener("MozOrientation",n,!0),i.target.addEventListener("MozOrientation",function(n){e.x=n.x-t.x,e.y=n.y-t.y,e.z=n.z-t.z},!0)}function i(n){r.push("devicemotion"),n.target.removeEventListener("devicemotion",i,!0),n.target.addEventListener("devicemotion",function(n){e.x=n.accelerationIncludingGravity.x-t.x,e.y=n.accelerationIncludingGravity.y-t.y,e.z=n.accelerationIncludingGravity.z-t.z},!0)}function o(n){r.push("deviceorientation"),n.target.removeEventListener("deviceorientation",o,!0),n.target.addEventListener("deviceorientation",function(n){e.alpha=n.alpha-t.alpha,e.beta=n.beta-t.beta,e.gamma=n.gamma-t.gamma},!0)}window.addEventListener("MozOrientation",n,!0),window.addEventListener("devicemotion",i,!0),window.addEventListener("deviceorientation",o,!0)}(),i}),jQuery.widget("pageflow.linkmapHoverVideo",{activate:function(){var e=this.options.video;this.hoverVideoParent||(this.hoverVideoParent=e.parent(),e.appendTo(this.element))},deactivate:function(){var e=this.options.video;this.hoverVideoParent&&(e.prependTo(this.hoverVideoParent),this.hoverVideoParent=null,e.css({left:"auto",top:"auto",width:"auto",height:"auto"}))},schedulePlay:function(e){this.currentArea!==e.area&&(clearTimeout(this.playTimeout),this.currentArea=e.area,this.playTimeout=setTimeout(_.bind(function(){this.play(e)},this),500))},play:function(e){var t=this.options.video,n=e.area.position();t.width(e.baseImage.width()).height(e.baseImage.height()),this.element.css({left:n.left+"px",top:n.top+"px"}).width(e.area.width()).height(e.area.height()),this.element.linkmapAreaClip(n),t.data("videoPlayer").play(),this.element.addClass("playing")},pause:function(){clearTimeout(this.playTimeout),this.currentArea=null;var e=this.options.video.data("videoPlayer");setTimeout(function(){e.currentTime(0),e.pause()},300),this.element.removeClass("playing")}}),function(e){var t=32,n=190;e.widget("pageflow.linkmap",{_create:function(){var t=this;this.lastImageUrls={},this.imagePromises={},this.refresh(),t.options.hoverVideoEnabled&&t.options.hoverVideo.activate(),this.element.on("mousemove",".hover_area",function(){var n=e(this);t.options.hoverVideoEnabled&&t.options.hoverVideo.schedulePlay({area:n,baseImage:t.options.baseImage()})}),this.element.on("mouseleave",".hover_area",function(){t.options.hoverVideoEnabled&&t.options.hoverVideo.pause()}),this.element.on("click",function(n){var r=t.areaAt(t.positionFromEvent(n));return r.length?r.first().trigger(e.Event("linkmapareaclick",{originalEvent:n})):t._trigger("backgroundclick"),!1}),this.element.on("mousemove mouseleave",function(e){t.updateHoverStates(e)})},areaAt:function(t){return this.element.find(".hover_area").filter(function(){return e(this).linkmapAreaContains(t)}).first()},updateHoverStates:function(t){var n=this.positionFromEvent(t);this.element.find(".hover_area").each(function(){var t=e(this),r=t.linkmapAreaContains(n);t.hasClass("hover")&&!r&&t.trigger("linkmaparealeave")}),this.element.find(".hover_area").each(function(){var t=e(this),r=t.linkmapAreaContains(n);!t.hasClass("hover")&&r&&t.trigger("linkmapareaenter"),t.css("cursor",r&&"text_only"!==t.attr("data-target-type")?"pointer":"default"),t.toggleClass("hover",r)})},positionFromEvent:function(e){var t=this.element[0].getBoundingClientRect(),n=e.clientX-t.left,r=e.clientY-t.top;return{leftInPixel:n,topInPixel:r,leftInPercent:n/this.element.width()*100,topInPercent:r/this.element.height()*100}},updateHoverVideoEnabled:function(e){e?this.options.hoverVideo.activate():this.options.hoverVideo.deactivate(),this.options.hoverVideoEnabled=e},refresh:function(){var t=this.element.find(".hover_area"),n=this;e.when(this.loadImage("hover"),this.loadImage("visited"),this.loadMasks()).then(function(e,r,i){var o=n.options.baseImage(),a=o.width(),s=o.height();t.linkmapAreaRedraw({target:".hover_image",image:e,width:a,height:s,masks:i}),t.linkmapAreaRedraw({target:".visited_image",image:r,width:a,height:s,masks:i})}),t.linkmapAreaClip(),t.linkmapAreaFormat(),t.linkmapAreaVisited()},loadImage:function(e){var t=this.options[e+"ImageUrl"];return this.lastImageUrls[e]!==t&&(this.lastImageUrls[e]=t,this.imagePromises[e]=t&&pageflow.linkmapPage.RemoteImage.load(t)),this.imagePromises[e]},loadMasks:function(){var t=this,n=this.options.masksData&&this.options.masksData.id;return this.lastMaskImageId!==n&&(this.lastMaskImageId=n,this.masksPromise=this.options.masksData?pageflow.linkmapPage.Masks.deserialize(this.options.masksData,this.options.maskSpriteUrlTemplate):e.when(pageflow.linkmapPage.Masks.empty),this.masksPromise.then(function(e){t._trigger("updatemasks",null,{masks:e})})),this.masksPromise}}),e.fn.linkmapAreaClip=function(t){this.each(function(){var n=e(this),r=n.find(".panorama_video, .hover_image, .visited_image"),i=t||n.position();r.css({left:-i.left+"px",top:-i.top+"px"})})},e.fn.linkmapAreaFormat=function(){this.each(function(){var r=e(this),i=r.find(".linkmap_marker");r.toggleClass("portrait",r.width()<=r.height()),r.toggleClass("landscape",r.width()>r.height()),r.toggleClass("small",r.width()<=n||r.height()<=n),r.width()<=r.height()?i.css({width:r.width()-t,height:r.width()-t}):i.css({width:r.height()-t,height:r.height()-t})})},e.fn.linkmapAreaVisited=function(){this.each(function(){var t=e(this),n="page"===t.data("targetType")&&pageflow.linkmapPage.visitedPages.indexOf(t.data("targetId"))>=0;t.toggleClass("visited",n)})}}(jQuery),$.fn.linkmapAreaContains=function(e){var t=$(this),n=t.data("mask");if(n)return n.contains(e.leftInPercent/100,e.topInPercent/100);var r=t.position(),i=t.width(),o=t.height();return e.leftInPixel>=r.left&&e.leftInPixel<r.left+i&&e.topInPixel>=r.top&&e.topInPixel<r.top+o},$.fn.linkmapAreaRedraw=function(e){this.each(function(){var t=$(this),n=(t.position(),e.masks&&e.masks.findByPermaId(t.attr("data-mask-id")));t.data("mask",n||null);var r=t.find("canvas").filter(e.target)[0];if(r){var i=r.getContext("2d");e.image?(r.width=e.width,r.height=e.height,n&&(n.draw(i,e.width),i.globalCompositeOperation="source-in"),e.image&&e.image.draw(r)):i.clearRect(0,0,e.width,e.height)}})},pageflow.linkmapPage.ColorMap=function(){function e(e,t,n){this.width=e,this.height=t,this.components=n,this.sumOfComponentWidths=function(){return _(n).reduce(function(e,t){return e+t.boundingBox.width},0)},this.maxComponentHeight=function(){return _(n).reduce(function(e,t){return Math.max(e,t.boundingBox.height)},0)},this.serialize=function(){return{w:this.width,h:this.height,c:_(n).map(function(e){return{c:e.color,l:e.boundingBox.left,t:e.boundingBox.top,w:e.boundingBox.width,h:e.boundingBox.height}})}}}function t(e,t){return 0===e[t]&&0===e[t+1]&&0===e[t+2]||0===e[t+3]}function n(e,t,n){var i=t-4*n,o=t+4*n;return i>=0&&o<e.length&&r(e,t,i)&&r(e,t,o)}function r(e,t,n){return e[t]===e[n]&&e[t+1]===e[n+1]&&e[t+2]===e[n+2]&&e[t+3]===e[n+3]}function i(){var e=new Error("No big enough components detected.");return e.i18nKey="pageflow.linkmap_page.errors.no_big_enough_color_map_components",e}return e.deserialize=function(t){return new e(t.w,t.h,_(t.c).map(function(e){return{color:e.c,boundingBox:{left:e.l,top:e.t,width:e.w,height:e.h,right:e.l+e.w,bottom:e.t+e.h}}}))},e.fromImageData=function(r){for(var o,a,s,u,l,c=r.width,f=r.height,d=r.get(0,0,c,f).data,p={},h=[],g=0;g<f;g++){u=null,l=0;for(var v=0;v<c;v++)t(d,o=4*(g*c+v))||(s=p[a=[d[o],d[o+1],d[o+2]].join("-")],u===a&&n(d,o,c)?l+=1:(u=a,l=1),s?(s.left=Math.min(s.left,v),s.top=Math.min(s.top,g),s.right=Math.max(s.right,v+1),s.bottom=Math.max(s.bottom,g+1),s.longestStreak=Math.max(s.longestStreak,l)):(s=p[a]={color:[d[o],d[o+1],d[o+2]],left:v,top:g,right:v+1,bottom:g+1,longestStreak:l},h.push(s)))}if(0===(h=_(h).select(function(e){return e.longestStreak>7})).length)throw i();return new e(c,f,_(h).map(function(e){return{color:e.color,boundingBox:{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.right-e.left,height:e.bottom-e.top}}}))},e}(),pageflow.linkmapPage.ImageData=function(){function e(e,n){var r=document.createElement("canvas");this.width=e,this.height=n,r.width=e,r.height=n,this.loadImage=function(e){e.draw(r,{disableImageSmoothing:!0})},this.draw=function(e,t,n,i,o,a,s,u,l){e.drawImage(r,t,n,i,o,a,s,u,l)},this.copyColorFrom=function(e,t,n,i){for(var o=e.data,a=r.getContext("2d"),s=0;s<o.length;s+=4)o[s]!=t[0]||o[s+1]!=t[1]||o[s+2]!=t[2]?o[s+3]=0:o[s+3]=255;a.putImageData(e,n,i)},this.getBoundingBox=function(e){return this.get(e.left,e.top,e.width,e.height)},this.get=function(e,t,n,i){return r.getContext("2d").getImageData(e,t,n,i)},this.toDataURL=function(){var e=r.toDataURL();if(!e.match(/^data:image/))throw new t;return e}}function t(){var e=new Error("Invalid data url from canvas.");return e.i18nKey="pageflow.linkmap_page.errors.invalid_image_data",e}return e.load=function(t){return pageflow.linkmapPage.RemoteImage.load(t).then(function(t){var n=new e(t.width(),t.height());return n.loadImage(t),n})},e}(),pageflow.linkmapPage.Mask=function(e){var t=e.sprite,n=e.spriteOffset,r=e.boundingBox;this.permaId=e.permaId,this.areaAttributes=function(){return{mask_perma_id:e.permaId,top:r.top/e.originalHeight*100,left:r.left/e.originalWidth*100,height:r.height/e.originalHeight*100,width:r.width/e.originalWidth*100}},this.contains=function(i,o){var a=i*e.originalWidth,s=o*e.originalHeight,u=a-r.left,l=s-r.top;return!(u<0||u>=r.width||l<0||l>=r.height)&&t.nonTransparentAt(n+u,l)},this.draw=function(i,o){var a=o/e.originalWidth;t.draw(i,n,r,a)}},pageflow.linkmapPage.MaskSprite=function(){function e(e,t){this.id=e,this.nonTransparentAt=function(e,n){return t.get(e,n,1,1).data[3]>0},this.draw=function(e,n,r,i){t.draw(e,n,0,r.width,r.height,r.left*i,r.top*i,r.width*i,r.height*i)},this.toDataURL=function(){return t.toDataURL()}}function t(e,t){return e.replace(":id_partition",n(t))}function n(e){return r(i(e,9),"/")}function r(e){return e.replace(/./g,function(e,t,n){return t&&(n.length-t)%3==0?"/"+e:e})}function i(e,t){return(_.times(t,function(){return"0"}).join("")+e).slice(-t)}return e.load=function(n,r){return pageflow.linkmapPage.ImageData.load(t(n,r)).then(function(t){return new e(r,t)})},e.fromColorMapImageData=function(t,n){var r=new pageflow.linkmapPage.ImageData(n.sumOfComponentWidths(),n.maxComponentHeight());return _(n.components).reduce(function(e,n){return r.copyColorFrom(t.getBoundingBox(n.boundingBox),n.color,e,0),e+n.boundingBox.width},0),new e("a",r)},e}(),pageflow.linkmapPage.Masks=function(){function e(e,t,i){this.findByPermaId=function(t){return _(e).detect(function(e){return e.permaId===t})},this.atPoint=function(t,n){return _(e).detect(function(e){return e.contains(t,n)})},this.draw=function(t,n){_(e).each(function(e){e.draw(t,n)})},this.each=function(t,n){_(e).each(t,n)},this.isEmpty=function(){return!e.length},this.serialize=function(e){var t={};return t[n]=e,t[r]=i.serialize(),t},this.getSpriteDataUrl=function(){return t.toDataURL()}}function t(t,n){var r=[],i=0;return _(n.components).reduce(function(e,o){return r.push(new pageflow.linkmapPage.Mask({permaId:t.id+":"+i.toString(),sprite:t,spriteOffset:e,originalWidth:n.width,originalHeight:n.height,boundingBox:o.boundingBox})),i+=1,e+o.boundingBox.width},0),new e(r,t,n)}var n="id",r="c";return e.empty=new e([]),e.loadColorMapImage=function(e){return pageflow.linkmapPage.ImageData.load(e).then(function(e){try{var n=pageflow.linkmapPage.ColorMap.fromImageData(e);return t(pageflow.linkmapPage.MaskSprite.fromColorMapImageData(e,n),n)}catch(r){return(new $.Deferred).reject(r).promise()}})},e.deserialize=function(e,i){return pageflow.linkmapPage.MaskSprite.load(i,e[n]).then(function(n){return t(n,pageflow.linkmapPage.ColorMap.deserialize(e[r]))})},e}(),pageflow.linkmapPage.RemoteImage=function(){function e(e,t){this.width=function(){return t.width},this.height=function(){return t.height},this.draw=function(e,n){n=n||{};var r=e.getContext("2d");n.disableImageSmoothing&&(r.imageSmoothingEnabled=!1),r.drawImage(t,0,0,e.width,e.height)}}function t(e){var t=new Error("Error while loading "+e+".");return t.i18nKey="pageflow.linkmap_page.errors.loading_remote_image_failed",t}return e.load=function(e){return new $.Deferred(function(n){function r(){n.resolve(new pageflow.linkmapPage.RemoteImage(e,o))}function i(){n.reject(t(e))}var o=new Image;o.onload=r,o.onerror=i,o.crossOrigin="Anonymous",o.src=e}).promise()},e}(),function(e){e.widget("pageflow.linkmapAudioPlayerControls",{_create:function(){var t=this;this.wrapper=e("<div />").addClass("linkmap_audio_player_controls").appendTo(this.element.find(".linkmap_marker")),this.playButton=e("<div />").addClass("play").appendTo(this.wrapper),this.pauseButton=e("<div />").addClass("pause").appendTo(this.wrapper),this.progressElement=e("<div />").addClass("progress").appendTo(this.wrapper),this.progressElement.html('<div class="audio_inline_progress"><div class="progress_inner"><div class="left_circle"><div class="circle_inner"><div class="circle_innerst"></div></div></div><div class="right_circle"><div class="circle_inner"><div class="circle_innerst"></div></div></div><div class="audio_inline_loading_spinner"><div class="circle_inner"><div class="circle_innerst"></div></div></div></div></div>'),this.currentTimeElement=e("<div />").addClass("current_time").appendTo(this.wrapper),this.durationElement=e("<div />").addClass("duration").appendTo(this.wrapper),this.playButton.on("click",function(e){t.element.addClass("loading"),t._trigger("play",null,{audioFileId:t.element.data("audioFile")}),e.preventDefault(),e.stopPropagation()}),this.pauseButton.on("click",function(e){t._trigger("pause",null,{audioFileId:t.element.data("audioFile")}),e.preventDefault(),e.stopPropagation()}),this.element.on("linkmapareaclick",function(){t.element.hasClass("dynamic_marker")||t._trigger("play",null,{audioFileId:t.element.data("audioFile")})}),this.progressElement.on("click",function(n){var r={x:e(this).offset().left+e(this).width()/2,y:e(this).offset().top+e(this).height()/2},i=(180*Math.atan2(n.pageY-r.y,n.pageX-r.x)/Math.PI+90)/360;i=i<0?1+i:i,t._trigger("seek",null,{positionInPercent:i,audioFileId:t.element.data("audioFile")}),n.stopPropagation()})},drawCircle:function(e){var t,n=this.element.find(".right_circle .circle_inner"),r=this.element.find(".left_circle .circle_inner"),i=this.element.find(".right_circle .circle_innerst"),o=this.element.find(".left_circle .circle_innerst"),a=Math.min(e/100*360,180),s=Math.max(e/100*360-180,0);t=a,n.attr("style","-webkit-transform: rotate("+t+"deg); -moz-transform: rotate("+t+"deg); -ms-transform: rotate("+t+"deg); -o-transform: rotate("+t+"deg); transform: rotate("+t+"deg)"),i.attr("style","-webkit-transform: rotate("+-t+"deg); -moz-transform: rotate("+-t+"deg); -ms-transform: rotate("+-t+"deg); -o-transform: rotate("+-t+"deg); transform: rotate("+-t+"deg)"),t=s,r.attr("style","-webkit-transform: rotate("+t+"deg); -moz-transform: rotate("+t+"deg); -ms-transform: rotate("+t+"deg); -o-transform: rotate("+t+"deg); transform: rotate("+t+"deg)"),o.attr("style","-webkit-transform: rotate("+-t+"deg); -moz-transform: rotate("+-t+"deg); -ms-transform: rotate("+-t+"deg); -o-transform: rotate("+-t+"deg); transform: rotate("+-t+"deg)")},playing:function(){this.element.addClass("loading")},notPlaying:function(){this.element.removeClass("playing loading")},cancelLoading:function(){this.element.removeClass("loading")},updateProgress:function(e){this.element.removeClass("loading"),this.element.addClass("playing"),this.currentTimeElement.text(e.formatTime(e.position())),this.durationElement.text(e.formatTime(e.duration()));var t=e.duration()>0?e.position()/e.duration()*100:0;this.drawCircle(t)},refresh:function(){}})}(jQuery),function(e){e.widget("pageflow.linkmapAudioPlayersController",{_create:function(){var t=this.options.player,n=this.element;this.delegatePlayerEvent("play","playing"),this.delegatePlayerEvent("pause ended","notPlaying"),this.delegatePlayerEvent("timeupdate","updateProgress"),t.on("play",function(t){n.find('[data-target-type="audio_file"]').each(function(){var n=e(this);n.data("audioFile")!==t.audioFileId&&n.linkmapAudioPlayerControls("cancelLoading")})}),this.element.on("linkmapaudioplayercontrolsplay",function(e,n){t.play(n.audioFileId)}),this.element.on("linkmapaudioplayercontrolspause",function(){t.pause()}),this.element.on("linkmapaudioplayercontrolsseek",function(e,n){t.seek(t.duration()*n.positionInPercent)})},delegatePlayerEvent:function(e,t){var n=this.element,r=this.options.player;r.on(e,function(e){var i='[data-audio-file="'+e.audioFileId+'"]';n.find(i).linkmapAudioPlayerControls(t,r)})}})}(jQuery),function(e){e.widget("pageflow.linkmapLookaround",{speedUp:10,drag:!1,_create:function(){this.disabled=!1,this.marginScrolling=!this.options.marginScrollingDisabled;var t=this.scroller=this.options.scroller,n=this;this.scrollStrategyX=new pageflow.linkmapPage.TargetSpeedStrategy({scrollerPosition:function(){return t.positionX()},scrollerMax:function(){return t.maxX()}},"x"),this.scrollStrategyY=new pageflow.linkmapPage.TargetSpeedStrategy({scrollerPosition:function(){return t.positionY()},scrollerMax:function(){return t.maxY()}},"y"),this.element.on("mousedown touchstart",function(){n.drag=!0,e(window).one("mouseup touchend",function(){n.drag=!1,n.initialBeta=null,n.initialGamma=null})}),this.element.on("mousedown",function(e){e.originalEvent.preventDefault()}),this.element.on("mouseenter",function(){n.scrollStrategyX.reset(),n.scrollStrategyY.reset()}),this.element.on("mouseleave",function(){n.scrollStrategyX.reset(),n.scrollStrategyY.reset()}),e(window).on("orientationchange",function(){n.drag=!1,n.initialBeta=null,n.initialGamma=null}),pageflow.browser.has("mobile platform")||this.element.on("mousemove",function(e){var t=n.element.width(),r=n.element.height();n.scrollStrategyX.updateMouse(e.pageX/t),n.scrollStrategyY.updateMouse(e.pageY/r)})},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},activate:function(){this.startInterval(),pageflow.browser.has("mobile platform")&&this.startGyro()},deactivate:function(){this.stopInterval(),pageflow.browser.has("mobile platform")&&this.stopGyro()},startInterval:function(){this.interval||(this.interval=setInterval(_.bind(this.onTick,this),25))},stopInterval:function(){this.interval&&(clearInterval(this.interval),this.interval=null)},onTick:function(){this.drag||!this.marginScrolling||this.disabled||this.scroller.scrollBy(this.scrollStrategyX.getNextScrollDelta(),this.scrollStrategyY.getNextScrollDelta())},update:function(e){this.marginScrolling=!e},startGyro:function(){var t=this;gyro.startTracking(function(n){if(t.initialBeta||(t.initialBeta=n.beta),t.initialGamma||(t.initialGamma=n.gamma),!this.drag){var r=n.gamma-t.initialGamma,i=n.beta-t.initialBeta;e(window).height()>=e(window).width()?(t.scrollStrategyX.updateGyro(r),t.scrollStrategyY.updateGyro(-i)):(t.scrollStrategyX.updateGyro(-i),t.scrollStrategyY.updateGyro(r))}})},stopGyro:function(){gyro.stopTracking()}})}(jQuery),pageflow.linkmapPage.TargetSpeedStrategy=function(e){function t(){if(Math.abs(u-s)>.01){var e=Math.abs(s)>Math.abs(u)?.02:.04;u=n(u+e*o(s-u),s)}else u=s}function n(e,t){return e>t?Math.max(e,t):Math.min(e,t)}function r(){f=!1,c=1,h()<.8*g()&&s>=0&&(c=(g()-h())/(.2*g()),f=!0),h()>.2*g()&&s<=0&&(c=h()/(.2*g()),f=!0),c>1&&(c=c)}function i(){d&&!f&&(u=l),d=f}function o(e){return e>0?1:-1}var a=10,s=0,u=0,l=0,c=1,f=!1,d=!1,p=.4,h=e.scrollerPosition,g=e.scrollerMax;this.reset=function(){s=0},this.updateGyro=function(e){this.updateTargetSpeed(Math.abs(e)<8?0:e/90)},this.updateMouse=function(e){var t=2*e-1,n=Math.abs(t)>1-p;this.updateTargetSpeed(n?(t-(1-p)*o(t))/p:0)},this.updateTargetSpeed=function(e){s=e},this.getNextScrollDelta=function(){return t(),r(),i(),-(l=u*c)*a}},function(e){e.widget("pageflow.linkmapPanorama",{scrollHoverMargin:.2,environmentMargin:.2,lastMouseMoveEvent:null,_create:function(){var t=this,n=this.options.page;this.addEnvironment=this.options.addEnvironment,this.panorama=this.options.panorama(),this.limitScrolling=this.options.limitScrolling,this.minScaling=this.options.minScaling,this.scroller=this.options.scroller,this.activeAreas=n.find(this.options.activeAreasSelector),this.panoramaWrapper=n.find(".panorama_wrapper"),this.innerScrollerElement=n.find(".linkmap"),this.overlayBox=n.find(".description_overlay"),this.overlayInnerBox=n.find(".description_overlay_wrapper"),this.overlayTitle=n.find(".description_overlay .link_title"),this.overlayDescription=n.find(".description_overlay .link_description"),this.touchIndicator=n.find(".touch_indicator"),this.externalLinkLoadingIndicator=n.find(".external_link_loading_indicator"),this.globalIndicators=this.touchIndicator.add(this.externalLinkLoadingIndicator),this.startScrollPosition=_.clone(this.options.startScrollPosition),this.currentScrollPosition=null,this.refresh(),this.scroller.onScrollEnd(function(){t.updateScrollPosition()}),e(window).on("resize",function(){t.centerToPoint(null,0)}),this.element.on("mousemove",function(e){t.lastMouseMoveEvent=e,t.calcAreaOpacity(t.activeAreas,e.pageX,e.pageY)}),n.on("linkmapareaenter",".hover_area",function(){r(e(this))}),n.on("click linkmapbackgroundclick",function(){t.overlayBox.removeClass("active"),t.activeAreas.removeClass("hover hover_mobile"),t.globalIndicators.hide()}),e("body").on("linkmaparealeave",".hover_area",function(){t.overlayBox.removeClass("active")}),n.on("dragstart resizestart",".hover_area",function(){t.overlayBox.removeClass("active")}),t.activeAreas.each(function(){var n=e(this);n.on("linkmapareaclick",function(a){if(pageflow.browser.has("mobile platform")){if(!n.hasClass("hover_mobile"))return t.activeAreas.removeClass("hover hover_mobile"),n.addClass("hover hover_mobile"),r(e(this)),n.hasClass("dynamic_marker")||o(a.originalEvent),!1;t.activeAreas.removeClass("active"),n.addClass("active")}else t.activeAreas.removeClass("active"),n.addClass("active");!n.hasClass("dynamic_marker")&&n.hasClass("external_site_area")&&i(a.originalEvent)})});var r=function(r){if(!r.is(".editing")){var i=r.find(".link_title").html(),o=r.find(".link_description").html();if(i||o){if(t.overlayTitle.html(i),t.overlayDescription.html(o),t.overlayBox.addClass("active"),t.panorama.width()-(r.position().left+r.outerWidth())<t.overlayBox.outerWidth()){var a="left";t.overlayBox.addClass("left_aligned")}else{var s=r.offset().left;if(s<e(n).width()-r.offset().left-r.outerWidth()||s<t.overlayBox.outerWidth()){a="right";t.overlayBox.removeClass("left_aligned")}else{a="left";t.overlayBox.addClass("left_aligned")}}"right"==a&&(t.overlayBox.removeClass("left_aligned"),t.overlayBox.css({left:r.position().left+r.width(),top:r.position().top,"margin-top":r.height()/2})),"left"==a&&(t.overlayBox.addClass("left_aligned"),t.overlayBox.css({left:r.position().left-t.overlayBox.outerWidth(),top:r.position().top,"margin-top":r.height()/2}));var u=t.panorama.height()-r.position().top,l=e(n).height()-r.offset().top-r.height()/2,c=e(n).height()-50,f=40;t.overlayBox.outerHeight()>u?t.overlayInnerBox.css("top",u-t.overlayInnerBox.outerHeight()-f-r.height()/2+"px"):t.overlayInnerBox.css("top","0px");var d=10;l<t.overlayBox.outerHeight()&&t.overlayBox.outerHeight()+d<c?(d=l-t.overlayBox.outerHeight()-d,t.overlayInnerBox.css("top",d+"px")):t.overlayInnerBox.css("top","0px")}}},i=function(e){s(t.externalLinkLoadingIndicator,e),t.externalLinkLoadingIndicator.show()},o=function(e){s(t.touchIndicator,e),a()},a=function(){t.touchIndicator.hide(),setTimeout(function(){t.touchIndicator.show()},500)},s=function(e,n){var r=t.panoramaWrapper[0].getBoundingClientRect(),i=n.touches?n.touches[0]:n;e.css({left:i.clientX-r.left,top:i.clientY-r.top})};this.refresh()},calcAreaOpacity:function(t,n,r){function i(e,t,n){return Math.floor(Math.sqrt(Math.pow(t-(e.offset().left+e.width()/2),2)+Math.pow(n-(e.offset().top+e.height()/2),2)))}if(!pageflow.browser.has("mobile platform")){var o=this.options.page,a=o.width()>o.height()?o.height():o.width(),s=.4;t.each(function(){var t=i(e(this),n,r);if(t<=a){var o=1+s-Math.sqrt(t/a);e(this).find(".linkmap_marker.no_transition").css("opacity",o)}else e(this).find(".linkmap_marker.no_transition").css("opacity",s)})}},highlightAreas:function(){var e=this.element;e.find(".linkmap_marker").addClass("teasing"),setTimeout(function(){e.find(".linkmap_marker").removeClass("teasing")},1e3),setTimeout(function(){e.find(".linkmap_marker").addClass("no_transition")},2e3)},resetAreaHighlighting:function(){var e=this.element;e.find(".linkmap_marker").removeClass("no_transition teasing"),e.find(".linkmap_marker").css("opacity",pageflow.browser.has("mobile platform")?"0.8":"0.4")},getScrollArea:function(t){var n,r=this.panorama,i=this.options.page;this.startScrollPosition;return t.length&&this.limitScrolling?(n={top:this.startScrollPosition.y*r.height(),left:this.startScrollPosition.x*r.width(),bottom:this.startScrollPosition.y*r.height(),right:this.startScrollPosition.x*r.width()},t.each(function(){var t=e(this);n.top=n.top>t.position().top?t.position().top:n.top,n.left=n.left>t.position().left?t.position().left:n.left,n.bottom=n.bottom<t.position().top+t.height()?t.position().top+t.height():n.bottom,n.right=n.right<t.position().left+t.width()?t.position().left+t.width():n.right}),n.top=Math.max(0,n.top-i.height()*this.scrollHoverMargin),n.left=Math.max(0,n.left-i.width()*this.scrollHoverMargin),n.bottom=Math.min(r.height(),n.bottom+i.height()*this.scrollHoverMargin),n.right=Math.min(r.width(),n.right+i.width()*this.scrollHoverMargin)):n={top:r.position().top,left:r.position().left,bottom:r.position().top+r.height(),right:r.position().left+r.width()},n},update:function(e,t,n,r){this.addEnvironment=e,this.limitScrolling=t,this.startScrollPosition=_.clone(n),this.minScaling=r,this.refresh()},refresh:function(){this.keepingScrollPosition(function(){var e=this.options.page;this.panorama=this.options.panorama(),this.panoramaSize=this.getPanoramaSize({pageWidth:e.width(),pageHeight:e.height(),minScaling:this.minScaling}),this.panorama.width(this.panoramaSize.width),this.panorama.height(this.panoramaSize.height),e.toggleClass("linkmap_panorama_h","h"===this.panoramaSize.orientation),e.toggleClass("linkmap_panorama_v","v"===this.panoramaSize.orientation),this.activeAreas=e.find(this.options.activeAreasSelector),this.scrollArea=this.getScrollArea(this.activeAreas),this.innerScrollerElement.addClass("measuring"),this.innerScrollerElement.width(this.scrollArea.right-this.scrollArea.left),this.innerScrollerElement.height(this.scrollArea.bottom-this.scrollArea.top);var t=Math.max(0,(e.width()-(this.scrollArea.right-this.scrollArea.left))/2),n=Math.max(0,(e.height()-(this.scrollArea.bottom-this.scrollArea.top))/2),r=this.scrollArea.left-t,i=this.scrollArea.top-n,o=this.panoramaSize.width-e.width(),a=this.panoramaSize.height-e.height();this.panoramaWrapper.css({left:-Math.min(o,Math.max(0,r))+"px",top:-Math.min(a,Math.max(0,i))+"px"}),this.innerScrollerElement.removeClass("measuring"),this.scroller.refresh()})},getPanoramaSize:function(t){return pageflow.linkmapPage.getPanoramaSize({pageWidth:t.pageWidth,pageHeight:t.pageHeight,panoramaWidth:this.panorama.attr("data-width"),panoramaHeight:this.panorama.attr("data-height"),areaDimensions:this.activeAreas.map(function(){var t=e(this);return{width:t.attr("data-width"),height:t.attr("data-height")}}).get(),minScaling:t.minScaling,addEnvironment:this.addEnvironment})},resetScrollPosition:function(){this.centerToPoint(this.panoramaToScroller(this.startScrollPosition),0)},centerToPoint:function(e,t){e=e||this.currentScrollPosition;var n=this.scroller.maxX()*e.x,r=this.scroller.maxY()*e.y;this.scroller.scrollTo(n,r,t),this.currentScrollPosition=this.currentScrollPosition||e},keepingScrollPosition:function(e){var t;t=this.currentScrollPosition?this.scrollerToPanorama(this.currentScrollPosition):this.startScrollPosition,e.call(this),this.centerToPoint(this.panoramaToScroller(t))},scrollerToPanorama:function(e){var t=this.scrollArea.right-this.scrollArea.left,n=this.scrollArea.bottom-this.scrollArea.top;return{x:0===this.panoramaSize.width?0:(this.scrollArea.left+e.x*t)/this.panoramaSize.width,y:0===this.panoramaSize.height?0:(this.scrollArea.top+e.y*n)/this.panoramaSize.height}},panoramaToScroller:function(e){var t=this.scrollArea.right-this.scrollArea.left,n=this.scrollArea.bottom-this.scrollArea.top;return{x:0===t?0:(e.x*this.panoramaSize.width-this.scrollArea.left)/t,y:0===n?0:(e.y*this.panoramaSize.height-this.scrollArea.top)/n}},updateScrollPosition:function(){var e=this;setTimeout(function(){e.currentScrollPosition.x=0!==e.scroller.maxX()?e.scroller.positionX()/e.scroller.maxX():0,e.currentScrollPosition.y=0!==e.scroller.maxY()?e.scroller.positionY()/e.scroller.maxY():0},10),this.lastMouseMoveEvent&&this.calcAreaOpacity(this.activeAreas,this.lastMouseMoveEvent.pageX,this.lastMouseMoveEvent.pageY)}})}(jQuery),pageflow.linkmapPage.getPanoramaSize=function(){function e(e){var n=Math.min(e.panoramaWidth,e.panoramaHeight);return _(e.areaDimensions).each(function(t){var r=t.width/100*e.panoramaWidth,i=t.height/100*e.panoramaHeight;n=Math.min(n,Math.min(r,i))}),t/n}var t=30,n=1.2;return function(t){var r,i={scaled:!1},o=t.addEnvironment?n:1,a=t.pageWidth/t.pageHeight;if((r=t.panoramaHeight>0?t.panoramaWidth/t.panoramaHeight:1)>a?(i.height=t.pageHeight*o,i.width=i.height*r,
i.orientation="h"):(i.width=t.pageWidth*o,i.height=i.width/r,i.orientation="v"),t.minScaling){var s=e(t);i.width<t.panoramaWidth*s&&(i.width=t.panoramaWidth*s,i.height=t.panoramaHeight*s,i.scaled=!0)}return i}}(),function(e){var t=40;e.widget("pageflow.linkmapScrollIndicators",{_create:function(){function e(){n.toggleClass("can_scroll_left",Math.ceil(r.positionX())<-t),n.toggleClass("can_scroll_right",Math.floor(r.positionX())>r.maxX()+t),n.toggleClass("can_scroll_up",Math.ceil(r.positionY())<-t),n.toggleClass("can_scroll_down",Math.floor(r.positionY())>r.maxY()+t)}var n=this.element,r=this.options.scroller;r.onScroll(e),r.onScrollEnd(e),e()}})}(jQuery),pageflow.textPage=pageflow.textPage||{},pageflow.textPage.titlePositions=["left","center","right"],pageflow.textPage.inlineTextPositions=["left","center","right"],pageflow.textPage.textCoverageOptions=["extend_into","banner","title_only"],pageflow.react.registerPageTypeWithDefaultBackground("text_page",{prepareNextPageTimeout:0,enhance:function(e,t){this.content=e.find(".scroller"),this.scrollingDiv=e.find(".scroller > div"),this.pageSpacerElement=e.find(".page_spacer"),this.contentArea=e.find(".contentText"),this.backgroundAsset=e.find(".page_background_asset"),this.inlineImage=e.find(".inline_image"),this.inlineImageInitialOffset=e.find(".contentText h3").position().top+e.find(".contentText h3").outerHeight(),this.fullScreenLayer=e.find(".image_fullscreen_view"),"left"==t.text_position||"right"==t.text_position?this.titleArea=e.find(".backgroundArea .fixed_header_area"):this.titleArea=e.find(".contentInnerWrapper .page_header"),this.resizePageSpacer(e,t),e.data("invertIndicator",!t.invert_text),this.updateScrollEventListeners(e,t),pageflow.features.has("mobile platform")||($(this.inlineImage).on("click",function(e){t.prevent_fullscreen||($("body").toggleClass("bigScreen"),e.preventDefault())}),$(this.fullScreenLayer).on("click",function(){$("body").toggleClass("bigScreen")}))},updateScrollEventListeners:function(e,t){var n=this;n.storedConfiguration=t,n.scrollEventHandlerAdded||(n.scrollEventHandlerAdded=!0,n.content.scroller("onScroll",function(){n.applyBackgroundEffects(e,n.storedConfiguration),n.applyInlineImageEffects(e,n.storedConfiguration)}),n.content.scroller("onScrollEnd",function(){n.applyBackgroundEffects(e,n.storedConfiguration)}))},applyBackgroundEffects:function(e,t){var n=this.content.scroller("positionY"),r=e.height()/20,i="left"==t.text_position||"right"==t.text_position?0:this.titleArea.height(),o=this.pageSpacerElement.height()-i-r,a=this.pageSpacerElement.height()-r;e.height();e.find(".backgroundArea .fixed_header_area").css("opacity",(.6*a+n)/(.6*a)),t.topasset_dim?this.backgroundAsset.css("opacity",1- -n/o):this.backgroundAsset.css("opacity",1);var s=.2*n;t.topasset_parallax?this.backgroundAsset.css({"-webkit-transform":"translateY("+s+"px)","-moz-transform":"translateY("+s+"px)","-ms-transform":"translateY("+s+"px)","-o-transform":"translateY("+s+"px)",transform:"translateY("+s+"px)"}):this.backgroundAsset.css({"-webkit-transform":"translateY(0)","-o-transform":"translateY(0)","-ms-transform":"translateY(0)","-moz-transform":"translateY(0)",transform:"translateY(0)"})},applyInlineImageEffects:function(e,t){if(e.width()>=700)if(t.sticky_inline_image){var n=this.content.scroller("positionY"),r=this.inlineImage.outerHeight()<e.height()?(e.height()-this.inlineImage.outerHeight())/2:e.height()-this.inlineImage.outerHeight();n<=r-this.inlineImageInitialTop?this.inlineImage.css("top",-n-this.inlineImageInitialTop+this.inlineImageInitialOffset+r+"px"):this.inlineImage.css("top",this.inlineImageInitialOffset+"px")}else"center"==t.inline_text_position?this.inlineImage.css("top","0px"):this.inlineImage.css("top",this.inlineImageInitialOffset+"px");else this.inlineImage.css("top","0px")},resizePageSpacer:function(e,t){if(e.find(".content_and_background").hasClass("no_background_asset"))this.pageSpacerElement.css("height",this.titleArea.outerHeight()+"px");else if("banner"==t.text_coverage){var n=this.titleArea.outerHeight()>e.height()/3?this.titleArea.outerHeight():e.height()/3;this.pageSpacerElement.css("height",n+"px")}else"title_only"==t.text_coverage?this.pageSpacerElement.css("height",e.height()+"px"):e.height()-200>200&&this.pageSpacerElement.css("height",e.height()-200+"px");this.backgroundAsset.css("height",this.pageSpacerElement.height()+"px"),this.contentArea.css("min-height",e.height()+"px"),this.content.scroller("refresh")},resize:function(e,t){this.content.scroller("positionY");this.resizePageSpacer(e,t),this.inlineImageInitialOffset=e.find(".contentText h3").position().top,this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyInlineImageEffects(e,t),this.applyBackgroundEffects(e,t)},prepare:function(){},activating:function(e,t){this.content.scroller("positionY");this.resizePageSpacer(e,t),this.inlineImageInitialOffset=e.find(".contentText h3").position().top+e.find(".contentText h3").outerHeight(),this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyBackgroundEffects(e,t),this.applyInlineImageEffects(e,t)},activated:function(){},deactivating:function(){$("body").removeClass("bigScreen")},deactivated:function(){},update:function(e,t){this.content.scroller("positionY");e.attr("data-template","text_page"),e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find(".contentText .text_title").text(t.get("text_title")||""),e.find(".contentText p").html(t.get("text")||""),e.find(".content_and_background").toggleClass("no_background_asset","video"==t.get("background_type")?!t.getVideoFile("video_file_id"):!t.getImageFile("background_image_id")),e.find(".content_and_background").toggleClass("sticky_inline_image",!!t.get("sticky_inline_image")),"left"==t.get("text_position")||"right"==t.get("text_position")?this.titleArea=e.find(".backgroundArea .fixed_header_area"):this.titleArea=e.find(".contentInnerWrapper .page_header"),_.forEach(pageflow.textPage.titlePositions,function(n){e.toggleClass("text_position_"+n,t.get("text_position")===n)}),_.forEach(pageflow.textPage.inlineTextPositions,function(n){e.find(".content").toggleClass("inline_text_position_"+n,t.get("inline_text_position")===n)}),t.get("inline_text_position")||e.find(".content").addClass("inline_text_position_left"),!t.get("prevent_fullscreen")&&t.get("text_image_id")?this.inlineImage.attr("href",t.getImageFileUrl("text_image_id")):this.inlineImage.attr("href","#"),this.inlineImage.toggleClass("allow_fullscreen",!t.get("prevent_fullscreen")),_.forEach(pageflow.textPage.textCoverageOptions,function(n){e.toggleClass(n,t.get("text_coverage")===n)}),e.find(".content_and_background").toggleClass("invert_text",!!t.get("invert_text")),e.data("invertIndicator",!t.get("invert_text")),e.find(".shadow, .header_background_layer").css({opacity:t.get("gradient_opacity")/100}),this.resizePageSpacer(e,t.attributes),this.inlineImageInitialOffset=e.find(".contentText h3").position().top+e.find(".contentText h3").outerHeight(),this.inlineImage.css("top",this.inlineImageInitialOffset+"px"),this.inlineImageInitialTop=this.inlineImage.offset().top-this.scrollingDiv.offset().top,this.applyInlineImageEffects(e,t.attributes),this.applyBackgroundEffects(e,t.attributes),this.updateScrollEventListeners(e,t.attributes)},embeddedEditorViews:function(){return{".inline_image":{view:pageflow.textPage.ContentImageEmbeddedView,options:{imagePropertyName:"text_image_id",descriptionPropertyName:"image_description"}},".image_fullscreen_inner_wrapper":{view:pageflow.textPage.ContentImageEmbeddedView,options:{imagePropertyName:"text_image_id",descriptionPropertyName:"image_description"}}}}}),pageflow.embeddedVideo=pageflow.embeddedVideo||{},pageflow.react.registerPageTypeWithDefaultBackground("embedded_video",{prepareNextPageTimeout:0,enhance:function(e,t){var n=this;e.addClass("no_hidden_text_indicator"),pageflow.features.has("mobile platform")&&(e.find(".close_button, .iframe_container").click(function(t){t.stopPropagation(),n._pauseVideo(),e.find(".iframe_container, .close_button").removeClass("show"),pageflow.hideText.deactivate()}),this._initPlaceholderImage(e,t)),this.fullscreen=!1,$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange msfullscreenchange",function(){n.fullscreen=!n.fullscreen})},resize:function(e,t){var n=e.find(".iframe_wrapper"),r=e.find(".page_header"),i=(r.find(".title"),e.find(".scroller")),o=e.find(".iframe_container"),a=e.find(".iframe_overlay"),s=e.find(".video_caption"),u=pageflow.features.has("mobile platform"),l=!t.full_width||this.fullscreen;e.toggleClass("page-with_split_layout",l);var c=this.wideEnoughForSplitLayout(e)&&l;n.add(i).toggleClass("widescreened",c),this.fullscreen||(c||u?o.find("iframe").length||o.append(n):i.find("iframe").length||n.insertAfter(r)),c?n.append(s):u?a.after(s):n.after(s),i.scroller("refresh")},wideEnoughForSplitLayout:function(e){var t=e.find(".page_header .title")[0].getBoundingClientRect(),n=e[0].getBoundingClientRect(),r=n.right-t.right,i=t.left-n.left,o=.51*n.width,a=.55*n.width;return i>=o||r>=a},prepare:function(){},activating:function(e,t){var n=this;this.listenTo(pageflow.settings,"change:volume",function(e,t){n._setPlayerVolume(t)}),this._createPlayer(e,t),this.resize(e,t),this.active=!0},activated:function(){},deactivating:function(e){this.active=!1,this.stopListening(pageflow.settings),this._removePlayer(e)},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||"");var n=this,r=e.find(".iframe_wrapper"),i=e.find(".video_caption"),o=t.get("video_caption");""!==(o||"").trim()?(i.length||(i=$('<div class="video_caption"></div>'),e.find(".scroller iframe").length?i.insertAfter(r):i.appendTo(r)),i.text(o||"")):i.remove(),this.active&&t.hasChanged("display_embedded_video_url")&&this._removePlayer(e,function(){n._createPlayer(e,t.attributes)}),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100}),this.resize(e,t.attributes)},_createPlayer:function(e,t){var n=this,r=t.display_embedded_video_url,i=this._urlOrigin(r);"youtube"===i?this.ytApiInitialize().done(function(){n._createYouTubePlayer(e,r)}):"vimeo"==i&&n._createVimeoPlayer(e,r)},ytApiInitialize:function(){if(!window.youtubeInitialized){var e=new $.Deferred;window.youtubeInitialized=e.promise(),window.onYouTubeIframeAPIReady=function(){e.resolve()};var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}return window.youtubeInitialized},_createYouTubePlayer:function(e,t){var n=this,r=document.createElement("div");this.playerId="youtube-player-"+this._getRandom(t),r.setAttribute("id",this.playerId),e.find(".iframe_wrapper").prepend(r),this.ytApiInitialize().done(function(){new YT.Player(r,{height:"100%",width:"100%",videoId:n._getVideoId(t),playerVars:{rel:!1,start:n._getVideoStartTime(t)},events:{onReady:function(e){n.player=e.target,n._setPlayerVolume(pageflow.settings.get("volume"))}}})})},_createVimeoPlayer:function(e,t){var n=this,r=document.createElement("iframe"),i=new URI("//player.vimeo.com/video/");this.playerId="vimeo-player-"+this._getRandom(t),i.filename(n._getVideoId(t)),i.search({api:"1",player_id:this.playerId}),$(r).attr({id:this.playerId,width:"100%",height:"100%",frameborder:"0",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,src:i.toString()}),e.find(".iframe_wrapper").prepend(r),this.player=$f(r),this.player.addEvent("ready",function(){n._setPlayerVolume(pageflow.settings.get("volume"))})},_setPlayerVolume:function(e){this.player&&("function"==typeof this.player.setVolume?this.player.setVolume(100*e):"function"==typeof this.player.api&&this.player.api("setVolume",e))},_pauseVideo:function(){this.player&&("function"==typeof this.player.pauseVideo?this.player.pauseVideo():"function"==typeof this.player.api&&this.player.api("pause"))},_removePlayer:function(e,t){this.player&&"function"==typeof this.player.destroy&&this.player.destroy(),this.player=null,$("#"+this.playerId,e).remove(),"function"==typeof t&&t()},_initPlaceholderImage:function(e,t){var n=$(document.createElement("div")),r=e.find(".page_header"),i=e.find(".iframe_container, .close_button"),o=t.display_embedded_video_url;n.addClass("iframe_overlay "+this._urlOrigin(o)),this._setBackgroundImage(o,n),r.after(n),n.click(function(e){e.preventDefault(),i.addClass("show"),pageflow.hideText.activate()})},_setBackgroundImage:function(e,t){var n=this._urlOrigin(e),r=this._getVideoId(e),i="";if("youtube"===n)i="http://img.youtube.com/vi/"+r+"/hqdefault.jpg",t.css("background-image",'url("'+i+'")');else if("vimeo"===n){var o="http://vimeo.com/api/v2/video/"+r+".json";$.getJSON(o,function(e){t.css("background-image",'url("'+e[0].thumbnail_large+'")')})}},_urlOrigin:function(e){var t=new URI(e).domain(!0);return["youtu.be","youtube.com"].indexOf(t)>=0?"youtube":"vimeo.com"===t?"vimeo":""},_getVideoId:function(e){var t=new URI(e),n=t.domain(!0);return["youtu.be","vimeo.com"].indexOf(n)>=0?t.filename():"youtube.com"===n?"/embed"===t.directory()?t.filename():t.search(!0).v:""},_getVideoStartTime:function(e){var t=new URI(e).query().split("&"),n=this;return _.reduce(t,function(e,t){var r=t.split("=");return"t"===r[0]?n._timestampToSeconds(r[1]||""):e},0)},_timestampToSeconds:function(e){if(e.match(/\d+m(\d+s)?/)){var t=e.split("m");return 60*parseInt(t[0],10)+parseInt(t[1]||0,10)}return 0},_getRandom:function(e){var t,n,r=0;if(0===(e+=(new Date).getTime()))return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r}}),function(e,t){"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(e,t,n,r){function i(e,t){return this instanceof i?(void 0===e&&(e="undefined"!=typeof location?location.href+"":""),this.href(e),void 0!==t?this.absoluteTo(t):this):new i(e,t)}function o(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function s(e){return"Array"===a(e)}function u(e,t){var n,r;if(s(t)){for(n=0,r=t.length;n<r;n++)if(!u(e,t[n]))return!1;return!0}var i=a(t);for(n=0,r=e.length;n<r;n++)if("RegExp"===i){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function l(e,t){if(!s(e)||!s(t)||e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function c(e){return escape(e)}function f(e){return encodeURIComponent(e).replace(/[!'()*]/g,c).replace(/\*/g,"%2A")}function d(e){return function(t,n){return void 0===t?this._parts[e]||"":(this._parts[e]=t||null,this.build(!n),this)}}function p(e,t){return function(n,r){return void 0===n?this._parts[e]||"":(null!==n&&((n+="").charAt(0)===t&&(n=n.substring(1))),this._parts[e]=n,this.build(!r),this)}}var h=r&&r.URI;i.version="1.14.1";var g=i.prototype,v=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:i.domAttributes[t]}},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},i.encodeQuery=function(e,t){var n=i.encode(e+"");return void 0===t&&(t=i.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},i.decodeQuery=function(e,t){e+="",void 0===t&&(t=i.escapeQuerySpace);try{return i.decode(t?e.replace(/\+/g,"%20"):e)}catch(n){return e}},i.recodePath=function(e){for(var t=0,n=(e=(e+"").split("/")).length;t<n;t++)e[t]=i.encodePathSegment(i.decode(e[t]));return e.join("/")},i.decodePath=function(e){for(var t=0,n=(e=(e+"").split("/")).length;t<n;t++)e[t]=i.decodePathSegment(e[t]);return e.join("/")};var m,y={encode:"encode",decode:"decode"},_=function(e,t){return function(n){try{return i[t](n+"").replace(i.characters[e][t].expression,function(n){return i.characters[e][t].map[n]})}catch(r){return n}}};for(m in y)i[m+"PathSegment"]=_("pathname",y[m]);i.encodeReserved=_("reserved","encode"),i.parse=function(e,t){var n;return t||(t={}),-1<(n=e.indexOf("#"))&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),-1<(n=e.indexOf("?"))&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=i.parseAuthority(e,t)):-1<(n=e.indexOf(":"))&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(i.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=i.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},i.parseHost=function(e,t){var n,r=e.indexOf("/");return-1===r&&(r=e.length),"["===e.charAt(0)?(n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,r)||null,"/"===t.port&&(t.port=null)):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,r)||null,t.port=null):(n=e.substring(0,r).split(":"),t.hostname=n[0]||null,t.port=n[1]||null),t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},i.parseAuthority=function(e,t){return e=i.parseUserinfo(e,t),i.parseHost(e,t)},i.parseUserinfo=function(e,t){var n=e.indexOf("/"),r=e.lastIndexOf("@",-1<n?n:e.length-1);return-1<r&&(-1===n||r<n)?(n=e.substring(0,r).split(":"),t.username=n[0]?i.decode(n[0]):null,n.shift(),t.password=n[0]?i.decode(n.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},i.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,r,o={},a=e.split("&"),s=a.length,u=0;u<s;u++)n=a[u].split("="),r=i.decodeQuery(n.shift(),t),n=n.length?i.decodeQuery(n.join("="),t):null,v.call(o,r)?("string"==typeof o[r]&&(o[r]=[o[r]]),o[r].push(n)):o[r]=n;return o},i.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=i.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},i.buildHost=function(e){var t="";return e.hostname?(t=i.ip6_expression.test(e.hostname)?t+"["+e.hostname+"]":t+e.hostname,e.port&&(t+=":"+e.port),t):""},i.buildAuthority=function(e){return i.buildUserinfo(e)+i.buildHost(e)},i.buildUserinfo=function(e){var t="";return e.username&&(t+=i.encode(e.username),e.password&&(t+=":"+i.encode(e.password)),t+="@"),t},i.buildQuery=function(e,t,n){var r,o,a,u,l="";for(o in e)if(v.call(e,o)&&o)if(s(e[o]))for(r={},a=0,u=e[o].length;a<u;a++)void 0!==e[o][a]&&void 0===r[e[o][a]+""]&&(l+="&"+i.buildQueryParameter(o,e[o][a],n),!0!==t&&(r[e[o][a]+""]=!0));else void 0!==e[o]&&(l+="&"+i.buildQueryParameter(o,e[o],n));return l.substring(1)},i.buildQueryParameter=function(e,t,n){return i.encodeQuery(e,n)+(null!==t?"="+i.encodeQuery(t,n):"")},i.addQuery=function(e,t,n){if("object"==typeof t)for(var r in t)v.call(t,r)&&i.addQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===e[t]?e[t]=n:("string"==typeof e[t]&&(e[t]=[e[t]]),s(n)||(n=[n]),e[t]=(e[t]||[]).concat(n))}},i.removeQuery=function(e,t,n){var r;if(s(t))for(n=0,r=t.length;n<r;n++)e[t[n]]=void 0;else if("object"==typeof t)for(r in t)v.call(t,r)&&i.removeQuery(e,r,t[r]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==n){if(e[t]===n)e[t]=void 0;else if(s(e[t])){r=e[t];var o,a,u={};if(s(n))for(o=0,a=n.length;o<a;o++)u[n[o]]=!0;else u[n]=!0;for(o=0,a=r.length;o<a;o++)void 0!==u[r[o]]&&(r.splice(o,1),a--,o--);e[t]=r}}else e[t]=void 0}},i.hasQuery=function(e,t,n,r){if("object"==typeof t){for(var o in t)if(v.call(t,o)&&!i.hasQuery(e,o,t[o]))return!1;return!0}if("string"!=typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(n)){case"Undefined":return t in e;case"Boolean":return n===(e=Boolean(s(e[t])?e[t].length:e[t]));case"Function":return!!n(e[t],t,e);case"Array":return!!s(e[t])&&(r?u:l)(e[t],n);case"RegExp":return s(e[t])?!!r&&u(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return s(e[t])?!!r&&u(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.commonPath=function(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return 1>n?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},i.withinString=function(e,t,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(e);if(!u)break;if(u=u.index,n.ignoreHtml)if((l=e.slice(Math.max(u-3,0),u))&&s.test(l))continue;var l=u+e.slice(u).search(o),c=e.slice(u,l).replace(a,"");n.ignore&&n.ignore.test(c)||(c=t(c,u,l=u+c.length,e),e=e.slice(0,u)+c+e.slice(l),r.lastIndex=u+c.length)}return r.lastIndex=0,e},i.ensureValidHostname=function(t){if(t.match(i.invalid_hostname_characters)){if(!e)throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(e.toASCII(t).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+t+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(e){return e?(e={URI:this.noConflict()},r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(e.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(e.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=r.SecondLevelDomains.noConflict()),e):(r.URI===this&&(r.URI=h),this)},g.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},g.clone=function(){return new i(this)},g.valueOf=g.toString=function(){return this.build(!1)._string},g.protocol=d("protocol"),g.username=d("username"),g.password=d("password"),g.hostname=d("hostname"),g.port=d("port"),g.query=p("query","?"),g.fragment=p("fragment","#"),g.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},g.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},g.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?i.decodePath(n):n}return this._parts.path=e?i.recodePath(e):"/",this.build(!t),this},g.path=g.pathname,g.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=i._parts();var r=e instanceof i,o="object"==typeof e&&(e.hostname||e.path||e.pathname);if(e.nodeName&&(e=e[o=i.getDomAttribute(e)]||"",o=!1),!r&&o&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=i.parse(String(e),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");for(n in r=r?e._parts:e)v.call(this._parts,n)&&(this._parts[n]=r[n])}return this.build(!t),this},g.is=function(e){var t=!1,r=!1,o=!1,a=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),s=(a=!(t=r||o))&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),l=a&&i.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var b=g.protocol,T=g.port,w=g.hostname;g.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(i.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return b.call(this,e,t)},g.scheme=g.protocol,g.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return T.call(this,e,t)},g.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={};i.parseHost(e,n),e=n.hostname}return w.call(this,e,t)},g.host=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?i.buildHost(this._parts):"":(i.parseHost(e,this._parts),this.build(!t),this)},g.authority=function(e,t){return this._parts.urn?void 0===e?"":this:void 0===e?this._parts.hostname?i.buildAuthority(this._parts):"":(i.parseAuthority(e,this._parts),this.build(!t),this)},g.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var n=i.buildUserinfo(this._parts);return n.substring(0,n.length-1)}return"@"!==e[e.length-1]&&(e+="@"),i.parseUserinfo(e,this._parts),this.build(!t),this},g.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=i.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},g.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}return n=this._parts.hostname.length-this.domain().length,n=this._parts.hostname.substring(0,n),n=new RegExp("^"+o(n)),e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&i.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(n,e),this.build(!t),this},g.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);return n&&2>n.length?this._parts.hostname:(n=this._parts.hostname.length-this.tld(t).length-1,n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||"")}if(!e)throw new TypeError("cannot set domain empty");return i.ensureValidHostname(e),!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(n=new RegExp(o(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e)),this.build(!t),this},g.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf(".");r=this._parts.hostname.substring(r+1);return!0!==t&&n&&n.list[r.toLowerCase()]&&n.get(this._parts.hostname)||r}if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');r=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},g.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1;n=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?i.decodePath(n):n}return n=this._parts.path.length-this.filename().length,n=this._parts.path.substring(0,n),n=new RegExp("^"+o(n)),this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=i.recodePath(e),this._parts.path=this._parts.path.replace(n,e),this.build(!t),this},g.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/");n=this._parts.path.substring(n+1);return e?i.decodePathSegment(n):n}n=!1,"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(n=!0);var r=new RegExp(o(this.filename())+"$");return e=i.recodePath(e),this._parts.path=this._parts.path.replace(r,e),n?this.normalizePath(t):this.build(!t),this},g.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this.filename(),r=n.lastIndexOf(".");return-1===r?"":(n=n.substring(r+1),n=/^[a-z0-9%]+$/i.test(n)?n:"",e?i.decodePathSegment(n):n)}if("."===e.charAt(0)&&(e=e.substring(1)),n=this.suffix())r=e?new RegExp(o(n)+"$"):new RegExp(o("."+n)+"$");else{if(!e)return this;this._parts.path+="."+i.recodePath(e)}return r&&(e=i.recodePath(e),this._parts.path=this._parts.path.replace(r,e)),this.build(!t),this},g.segment=function(e,t,n){var r=this._parts.urn?":":"/",i="/"===(o=this.path()).substring(0,1),o=o.split(r);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw Error('Bad segment "'+e+'", must be 0-based integer');if(i&&o.shift(),0>e&&(e=Math.max(o.length+e,0)),void 0===t)return void 0===e?o:o[e]
;if(null===e||void 0===o[e])if(s(t)){o=[],e=0;for(var a=t.length;e<a;e++)(t[e].length||o.length&&o[o.length-1].length)&&(o.length&&!o[o.length-1].length&&o.pop(),o.push(t[e]))}else(t||"string"==typeof t)&&(""===o[o.length-1]?o[o.length-1]=t:o.push(t));else t?o[e]=t:o.splice(e,1);return i&&o.unshift(""),this.path(o.join(r),n)},g.segmentCoded=function(e,t,n){var r,o;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(s(e=this.segment(e,t,n)))for(r=0,o=e.length;r<o;r++)e[r]=i.decode(e[r]);else e=void 0!==e?i.decode(e):void 0;return e}if(s(t))for(r=0,o=t.length;r<o;r++)t[r]=i.decode(t[r]);else t="string"==typeof t||t instanceof String?i.encode(t):t;return this.segment(e,t,n)};var E=g.query;return g.query=function(e,t){if(!0===e)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof e){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=e.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this}return void 0!==e&&"string"!=typeof e?(this._parts.query=i.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):E.call(this,e,t)},g.setQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)r[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in e)v.call(e,o)&&(r[o]=e[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.addQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,e,void 0===t?null:t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.removeQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,e,t),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},g.hasQuery=function(e,t,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,e,t,n)},g.setSearch=g.setQuery,g.addSearch=g.addQuery,g.removeSearch=g.removeQuery,g.hasSearch=g.hasQuery,g.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},g.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},g.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},g.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},g.normalizePath=function(e){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var t,n,r,o=this._parts.path,a="";for("/"!==o.charAt(0)&&(t=!0,o="/"+o),o=o.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(a=o.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);-1!==(n=o.indexOf("/.."));)0!==n?(-1===(r=o.substring(0,n).lastIndexOf("/"))&&(r=n),o=o.substring(0,r)+o.substring(n+3)):o=o.substring(3);return t&&this.is("relative")&&(o=a+o.substring(1)),o=i.recodePath(o),this._parts.path=o,this.build(!e),this},g.normalizePathname=g.normalizePath,g.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},g.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},g.normalizeSearch=g.normalizeQuery,g.normalizeHash=g.normalizeFragment,g.iso8859=function(){var e=i.encode,t=i.decode;return i.encode=escape,i.decode=decodeURIComponent,this.normalize(),i.encode=e,i.decode=t,this},g.unicode=function(){var e=i.encode,t=i.decode;return i.encode=f,i.decode=unescape,this.normalize(),i.encode=e,i.decode=t,this},g.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";if(t._parts.protocol&&(n+=t._parts.protocol+"://"),t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host()),t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/"),n+=t.path(!0),t._parts.query){for(var r="",o=0,a=t._parts.query.split("&"),s=a.length;o<s;o++){var u=(a[o]||"").split("=");r=r+"&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26");void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+i.decodeQuery(t.hash(),!0)},g.absoluteTo=function(e){var t,n,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e instanceof i||(e=new i(e)),r._parts.protocol||(r._parts.protocol=e._parts.protocol),this._parts.hostname)return r;for(t=0;n=o[t];t++)r._parts[n]=e._parts[n];return r._parts.path?".."===r._parts.path.substring(-2)&&(r._parts.path+="/"):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),"/"!==r.path().charAt(0)&&(e=e.directory(),r._parts.path=(e?e+"/":"")+r._parts.path,r.normalizePath()),r.build(),r},g.relativeTo=function(e){var t,n,r,o,a=this.clone().normalize();if(a._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(e=new i(e).normalize(),t=a._parts,n=e._parts,r=a.path(),o=e.path(),"/"!==r.charAt(0))throw Error("URI is already relative");if("/"!==o.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password||null!==t.protocol||null!==t.username||null!==t.password||t.hostname!==n.hostname||t.port!==n.port?a.build():(t.hostname=null,t.port=null,r===o?(t.path="",a.build()):(e=i.commonPath(a.path(),e.path()))?(n=n.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),t.path=n+t.path.substring(e.length),a.build()):a.build())},g.equals=function(e){var t=this.clone();e=new i(e);var n,r={},o={},a={};if(t.normalize(),e.normalize(),t.toString()===e.toString())return!0;if(r=t.query(),o=e.query(),t.query(""),e.query(""),t.toString()!==e.toString()||r.length!==o.length)return!1;for(n in r=i.parseQuery(r,this._parts.escapeQuerySpace),o=i.parseQuery(o,this._parts.escapeQuerySpace),r)if(v.call(r,n)){if(s(r[n])){if(!l(r[n],o[n]))return!1}else if(r[n]!==o[n])return!1;a[n]=!0}for(n in o)if(v.call(o,n)&&!a[n])return!1;return!0},g.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},g.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},i});var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,n){if(!n.contentWindow.postMessage)return!1;var r=n.getAttribute("src").split("?")[0],i=JSON.stringify({method:e,value:t});"//"===r.substr(0,2)&&(r=window.location.protocol+r),n.contentWindow.postMessage(i,r)}function n(e){var t,n;try{n=(t=JSON.parse(e.data)).event||t.method}catch(c){}if("ready"!=n||this.isReady||(this.isReady=!0),e.origin!=l)return!1;var r=t.value,o=t.data,a=""===a?null:t.player_id,s=i(n,a),u=[];return!!s&&(r!==undefined&&u.push(r),o&&u.push(o),a&&u.push(a),u.length>0?s.apply(null,u):s.call())}function r(e,t,n){n?(u[n]||(u[n]={}),u[n][e]=t):u[e]=t}function i(e,t){return t?u[t][e]:u[e]}function o(e,t){if(t&&u[t]){if(!u[t][e])return!1;u[t][e]=null}else{if(!u[e])return!1;u[e]=null}return!0}function a(e){"//"===e.substr(0,2)&&(e=window.location.protocol+e);for(var t=e.split("/"),n="",r=0,i=t.length;r<i&&r<3;r++)n+=t[r],r<2&&(n+="/");return n}function s(e){return!!(e&&e.constructor&&e.call&&e.apply)}var u={},l=(Array.prototype.slice,"");return e.fn=e.prototype={element:null,isReady:!1,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,l=a(this.element.getAttribute("src")),this},api:function(e,n){if(!this.element||!e)return!1;var i=this,o=i.element,a=""!==o.id?o.id:null,u=s(n)?null:n,l=s(n)?n:null;return l&&r(e,l,a),t(e,u,o),i},addEvent:function(e,n){if(!this.element)return!1;var i=this,o=i.element,a=""!==o.id?o.id:null;return r(e,n,a),"ready"!=e?t("addEventListener",e,o):"ready"==e&&this.isReady&&n.call(null,a),i},removeEvent:function(e){if(!this.element)return!1;var n=this.element,r=o(e,""!==n.id?n.id:null);"ready"!=e&&r&&t("removeEventListener",e,n)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent("onmessage",n),window.Froogaloop=window.$f=e}();!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,o,a,s=t.nodeName.toLowerCase();return"area"===s?(o=(i=t.parentNode).name,!(!t.href||!o||"map"!==i.nodeName.toLowerCase())&&(!!(a=e("img[usemap='#"+o+"']")[0])&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s&&t.href||r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r,i,o,a;e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!r||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:(r=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,o){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return t===undefined?a["inner"+n].call(this):this.each(function(){e(this).css(o,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(o,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=(i=e.fn.removeData,function(t){return arguments.length?i.call(this,e.camelCase(t)):i.call(this)})),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:(a=e.fn.focus,function(t,n){return"number"==typeof t?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):a.apply(this,arguments)}),disableSelection:(o="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(o+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(t!==undefined)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(("absolute"===(n=i.css("position"))||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,o=e.plugins[t];if(o&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;i<o.length;i++)e.options[o[i][0]]&&o[i][1].apply(e.element,n)}}}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t,n=0,r=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(n){var r,i,o;for(o=0;null!=(i=n[o]);o++)try{(r=e._data(i,"events"))&&r.remove&&e(i).triggerHandler("remove")}catch(a){}t(n)}),e.widget=function(t,n,r){var i,o,a,s,u={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[l]=e[l]||{},o=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(r,function(t,r){var i,o;e.isFunction(r)?u[t]=(i=function(){return n.prototype[t].apply(this,arguments)},o=function(e){return n.prototype[t].apply(this,e)},function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=o,e=r.apply(this,arguments),this._super=t,this._superApply=n,e}):u[t]=r}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},u,{constructor:a,namespace:l,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,i,o=r.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])i=o[a][n],o[a].hasOwnProperty(n)&&i!==undefined&&(e.isPlainObject(i)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):t[n]=i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=r.call(arguments,1),u=this;return a?this.each(function(){var n,r=e.data(this,i);return"instance"===o?(u=r,!1):r?e.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,s))!==r&&n!==undefined?(u=n&&n.jquery?u.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(s.length&&(o=e.widget.extend.apply(null,[o].concat(s))),this.each(function(){var t=e.data(this,i);t?(t.option(o||{}),t._init&&t._init()):e.data(this,i,new n(o,this))})),u}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(r=t.split(".")).shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),o=0;o<r.length-1;o++)i[r[o]]=i[r[o]]||{},i=i[r[o]];if(t=r.pop(),1===arguments.length)return i[t]===undefined?null:i[t];i[t]=n}else{if(1===arguments.length)return this.options[t]===undefined?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var u=r.match(/^([\w:-]*)\s*(.*)$/),l=u[1]+o.eventNamespace,c=u[2];c?i.delegate(c,l,s):n.bind(l,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,a=this.options[t];if(r=r||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(r))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var a,s=i?!0===i||"number"==typeof i?n:i.effect||n:t;"number"==typeof(i=i||{})&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[s]?r[t](i):s!==t&&r[s]?r[s](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}}),e.widget}),function(e){"function"==typeof define&&define.amd?define(["jquery","./widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(i&&!o&&this._mouseCapture(n))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),t=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],e):e(jQuery)}(function(e){return e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(r){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(!1===this._trigger("drag",t,r))return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,o=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(r=(n=e(i.containment))[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=i.containment:this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),u=e.pageX,l=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(l=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(l=n[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-a.grid[1]:i+a.grid[1]:i,
o=a.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(u=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,o=this;o.positionAbs=r.positionAbs,o.helperProportions=r.helperProportions,o.offset.click=r.offset.click,o._intersectsWith(o.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(i=!1),i})),i?(o.isOver||(o.isOver=1,r._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=r.offset.click.top,o.offset.click.left=r.offset.click.left,o.offset.parent.left-=r.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=r.offset.parent.top-o.offset.parent.top,r._trigger("toSortable",t),r.dropped=o.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,o.fromOutside=r),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(r._parent),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),o=r.options;i.css("cursor")&&(o._cursor=i.css("cursor")),i.css("cursor",o.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("opacity")&&(o._opacity=i.css("opacity")),i.css("opacity",o.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,o=!1,a=r.scrollParentNotHidden[0],s=r.document[0];a!==s&&"HTML"!==a.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+a.offsetHeight-t.pageY<i.scrollSensitivity?a.scrollTop=o=a.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+a.offsetWidth-t.pageX<i.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(s).scrollTop()<i.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<i.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(s).scrollLeft()<i.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<i.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+i.scrollSpeed)))),!1!==o&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,o,a,s,u,l,c,f,d,p,h=r.options,g=h.snapTolerance,v=n.offset.left,m=v+r.helperProportions.width,y=n.offset.top,_=y+r.helperProportions.height;for(d=r.snapElements.length-1;d>=0;d--)l=(u=r.snapElements[d].left-r.margins.left)+r.snapElements[d].width,f=(c=r.snapElements[d].top-r.margins.top)+r.snapElements[d].height,m<u-g||v>l+g||_<c-g||y>f+g||!e.contains(r.snapElements[d].item.ownerDocument,r.snapElements[d].item)?(r.snapElements[d].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=!1):("inner"!==h.snapMode&&(i=Math.abs(c-_)<=g,o=Math.abs(f-y)<=g,a=Math.abs(u-m)<=g,s=Math.abs(l-v)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u-r.helperProportions.width}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l}).left)),p=i||o||a||s,"outer"!==h.snapMode&&(i=Math.abs(c-y)<=g,o=Math.abs(f-_)<=g,a=Math.abs(u-v)<=g,s=Math.abs(l-m)<=g,i&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=r._convertPositionTo("relative",{top:f-r.helperProportions.height,left:0}).top),a&&(n.position.left=r._convertPositionTo("relative",{top:0,left:u}).left),s&&(n.position.left=r._convertPositionTo("relative",{top:0,left:l-r.helperProportions.width}).left)),!r.snapElements[d].snapping&&(i||o||a||s||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[d].item})),r.snapElements[d].snapping=i||o||a||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,o=r.options,a=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});a.length&&(i=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),o=r.options;i.css("zIndex")&&(o._zIndex=i.css("zIndex")),i.css("zIndex",o.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable}),function(e){e.widget("pageflow.before_after",{_create:function(){function t(){var n=c.get()[0].getBoundingClientRect();v.draggable({axis:"x",containment:[n.left-a,n.top,n.right-a,n.bottom],drag:t,stop:t});var r=(parseInt(e(this).css("left"),10)+a)/n.width;r>=1&&(r=1),g.css("width",100*r+"%"),l.onSlide.call(this,r),e("#lt-arrow"+u+", #rt-arrow"+u).stop().css("opacity",0)}function n(){o=c.get()[0].getBoundingClientRect(),e(c).hover(function(){e("#lt-arrow"+u).stop().css({"z-index":"20",position:"absolute",top:o.height/2-e("#lt-arrow"+u).height()/2+"px",left:parseInt(v.css("left"),10)-14+"px"}).animate({opacity:1,left:parseInt(e("#lt-arrow"+u).css("left"),10)-6+"px"},200),e("#rt-arrow"+u).stop().css({position:"absolute",top:o.height/2-e("#lt-arrow"+u).height()/2+"px",left:parseInt(v.css("left"),10)+10+"px"}).animate({opacity:1,left:parseInt(e("#rt-arrow"+u).css("left"),10)+6+"px"},200)},function(){e("#lt-arrow"+u).animate({opacity:0,left:parseInt(e("#lt-arrow"+u).css("left"),10)-6+"px"},350),e("#rt-arrow"+u).animate({opacity:0,left:parseInt(e("#rt-arrow"+u).css("left"),10)+6+"px"},350)}),e(c).on("click touchmove touchstart",function(t){o=c.get()[0].getBoundingClientRect();var n=t.pageX||t.originalEvent.touches[0].pageX,i=l.clickSpeed;"touchmove"==t.type&&(i=10);var s=n-e(this).offset().left,f=s/e(this).width()*100,d=(s-a)/e(this).width()*100;n<o.left||n>o.right||(v.stop().animate({left:d+"%"},i),g.stop().animate({width:f+"%"},i,function(){var t=parseInt(e("> div:eq(2)",c).css("width"),10)/r;l.onSlide.call(this,t)}),e("#lt-arrow"+u+",#rt-arrow"+u).stop().animate({opacity:0},50))}),e(c).one("mousemove",function(){v.stop().animate({opacity:1},500)})}var r,i,o,a,s={animateIntro:!0,introDelay:1e3,introDuration:1e3,introPosition:.65,clickSpeed:600,linkDisplaySpeed:200,keypressAmount:20,onReady:function(){},onInitialized:function(){},onSlide:function(){}},u=Math.round(1e8*Math.random()),l=s,c=e(this.element),f=e(".before_image",c),d=e(".after_image",c),p=e(c).parentsUntil(".backgroundArea").last(),h=function(){var n=function(){if(p.width()/p.height()<s){e(c).parent().css({width:"100%",height:"auto"});var t=(p.height()-e(c).parent().height())/2;e(c).css({top:t+"px",left:"0"})}else{e(c).parent().css({width:p.height()*s+"px",height:"100%"});var n=(p.width()-e(c).parent().width())/2;e(c).css({top:"0",left:n+"px"})}};r=f.attr("data-width"),i=f.attr("data-height");var s=r/i;e(c).parent().toggleClass("image-is-landscape",s>1),e(c).parent().toggleClass("image-is-portrait",s<=1);var u=i/r*100;e(c).css({overflow:"visible",position:"relative",padding:"0",width:"100%","padding-top":u+"%"}),n(),o=c.get()[0].getBoundingClientRect(),a=0,v.draggable(),v.draggable("option",{axis:"x",containment:[o.left-a,o.top,o.right-a,o.bottom],drag:t,stop:t})};this.refresh=h,f.attr("id","beforeimage"+u),d.attr("id","afterimage"+u);var g=e(".before_wrapper",c),v=e('<div class="dragwrapper" />');v.attr("id","dragwrapper"+u),v.attr("title",I18n.t("pageflow.public.before_after.drag_hint",{locale:pageflow.seed.locale})),e(c).prepend(v);var m=e('<span class="draghandle" />');m.attr("id","draghandle"+u),v.append(m);var y=e('<div class="drag" />');y.attr("id","drag"+u),v.append(y),v.css({opacity:1,position:"absolute",padding:"0",left:100*l.introPosition+"%"}).height("100%");var _=e(".after_wrapper",c);g.css({width:"100%",height:"100%",position:"absolute",left:"0px","z-index":"1",top:"0"}),_.css({width:"100%",height:"100%",position:"absolute",overflow:"hidden",right:"0px",top:"0","text-align":"right"}),e("#drag"+u).height("100%"),e(c).append('<div class="ba_left_indicator ba_indicator" id="lt-arrow'+u+'"></div><div class="ba_right_indicator ba_indicator" id="rt-arrow'+u+'"></div>'),e(".ba_indicator",c).css("opacity",0),h(),e("img",c).on("dragstart",function(e){e.preventDefault()}),l.onInitialized.call(this),l.animateIntro?(g.width(o.width),v.css("left",r-a+"px"),setTimeout(function(){v.css({opacity:1}).animate({left:100*l.introPosition+"%"},l.introDuration,function(){v.animate({opacity:1},1e3)}),g.width(o.width).animate({width:100*l.introPosition+"%"},l.introDuration,function(){n(),l.onReady.call(this)}),l.onSlide.call(this,l.introDelay)},l.introDelay)):(n(),l.onReady.call(this))}})}(jQuery),pageflow.pageType.register("before_after",_.extend({prepareNextPageTimeout:0,enhance:function(e){var t=this;e.addClass("hide_content_with_text"),e.find(".play_button").on("click",function(){pageflow.hideText.activate()}),e.find(".close_button").on("click",function(e){pageflow.hideText.deactivate(),e.stopPropagation()}),this.removeUnplayedClass=function(){e.find(".content_and_background").removeClass("unplayed")},this.enableScrollIndicator=function(){t.scrollIndicator.enable()}},prepare:function(){},resize:function(e){e.find(".before_after").before_after("refresh"),e.find(".scroller").scroller("refresh")},preload:function(e){return pageflow.preload.backgroundImage(e.find(".background_image"))},activating:function(e){e.find(".before_after").before_after(),e.find(".before_after").before_after("refresh"),e.find(".scroller").scroller("refresh"),e.find(".content_and_background").addClass("unplayed")},activated:function(){pageflow.hideText.on("activate",this.removeUnplayedClass),pageflow.hideText.on("deactivate",this.enableScrollIndicator)},deactivating:function(){pageflow.hideText.off("activate",this.removeUnplayedClass),pageflow.hideText.off("deactivate",this.enableScrollIndicator)},deactivated:function(){},update:function(e,t){e.find("h2 .tagline").text(t.get("tagline")||""),e.find("h2 .title").text(t.get("title")||""),e.find("h2 .subtitle").text(t.get("subtitle")||""),e.find("p").html(t.get("text")||""),e.find(".control_bar_text").text(t.get("control_bar_text")||I18n.t("pageflow.public.before_after.start",{locale:pageflow.seed.locale})),this.updateInfoBox(e,t),this.updateCommonPageCssClasses(e,t),e.find(".shadow").css({opacity:t.get("gradient_opacity")/100})},embeddedEditorViews:function(){return{".background_image":{view:pageflow.BackgroundImageEmbeddedView,options:{propertyName:"background_image_id"}},".before_after":{view:pageflow.beforeAfter.BeforeAfterEmbeddedView}}}},pageflow.commonPageCssClasses,pageflow.infoBox)),pageflow.localfocus=pageflow.localfocus||{};var LocalFocusAPI=function(){function e(e){var t=e,r={},i=this,o=null,a=function(){o||(o=function(e){if(e.source===t.contentWindow&&(!n.length||-1!==n.indexOf(e.origin))){var o;try{o=JSON.parse(e.data)}catch(e){return}if("object"==typeof o&&"LocalFocusAPI"===o.type){var a=o.request;if("loaded"!==a.action&&"ready"!==a.action||"function"!=typeof r[a.action]||r[a.action].call(i),"click"===a.action&&"function"==typeof r[a.action]&&r[a.action].call(i,a.item),"interact"===a.action&&"function"==typeof r[a.action]&&r[a.action].call(i,a.type,a.subType),"setDataStore"===a.action&&"function"==typeof r.special){var s=a.dataStore,u={groups:s.groups,items:s.items,styling:s.styling,settings:s.settings};s.records&&(u.records=s.records),r.special.call(i,u),delete r.special}if("getDownload"===a.action&&"function"==typeof r.getDownload){var l=a.id?e.origin+"/download/get/"+a.id:null;r.getDownload.call(i,{url:l}),delete r.getDownload}}}},window.addEventListener("message",o,!1))},s=function(e){var n={type:"LocalFocusAPI",request:e};t.contentWindow.postMessage(JSON.stringify(n),"*")},u=function(){return this};t?(this.on=function(t,n){try{if(-1===["loaded","ready","click","interact"].indexOf(t))throw t;if("function"!=typeof n)throw n;r[t]=n,a()}catch(e){window.console&&window.console.error(e)}return this},this.activate=function(e){return s({action:"activate",target:e}),this},this.wait=function(){return s({action:"wait"}),this},this.resume=function(){return s({action:"resume"}),this},this.element=function(){return t},this.getDataStore=function(){var e,t;return 2===arguments.length?(e=arguments[1],t=arguments[0]):(e=arguments[0],t={records:!1}),r.special=e,s({action:"getDataStore",settings:t}),a(),this},this.setDataStore=function(e){return s({action:"setDataStore",dataStore:e}),this},this.getDownload=function(e,t){return r.getDownload=t,s({action:"getDownload",format:e}),a(),this}):(this.on=u,this.activate=u,this.resume=u,this.element=u,this.getDataStore=u,this.getDownload=u,this.setDataStore=u)}var t=!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")||!document.addEventListener||!document.querySelectorAll,n=[],r=function(e,t){if(e&&t)for(var n=0;n<e.length;n++){var r=e[n];t.call(r,r,n)}},i=function(e){var t=!1;return n.length?r(n,function(n){e&&"string"==typeof e.src&&0===e.src.indexOf(n)&&(t=!0)}):t=!0,t};return{oldBrowser:function(){return t},select:function(n){if(t)var r=null;else r="string"==typeof n?document.querySelector(n):n;return r&&i(r)?new e(r):new e(null)},selectAll:function(n,i){if(!t){var o=document.querySelectorAll(n);r(o,function(t){i.call(new e(t))})}return null},allowOrigin:function(e){return"string"==typeof e&&n.push(e),this}}}();pageflow.localfocus=pageflow.localfocus||{};var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}};!function(){var e=function(e){function t(){_classCallCheck(this,t),_get(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return _inherits(t,e),_createClass(t,[{key:"render",value:function(){var e=this;return React.createElement("div",{className:"lf-frame"},React.createElement("div",{className:"lf-loading"}),React.createElement("iframe",{src:this.props.page.localfocusUrl,className:this.props.className,ref:function(t){return e.iframe=t}}))}}]),t}(React.Component);e.defaultProps={className:"localfocusvisual lf-iframe"};var t=pageflow.react,n=t.connectInPage,r=t.combine;pageflow.localfocus.Frame=n(r({}))(e)}();_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_get=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,o);if(s!==undefined){if("value"in s)return s.value;var u=s.get;return u===undefined?undefined:u.call(a)}var l=Object.getPrototypeOf(i);if(null===l)return undefined;e=l,t=o,n=a,r=!0,s=l=undefined}};!function(){var e=pageflow.react.components,t=e.PageWrapper,n=e.MediaPageBackground,r=(e.PageBackgroundImage,e.PageShadow,e.PageContent),i=(e.PageHeader,e.PageText),o=pageflow.localfocus.Frame,a=function(e){function a(e){_classCallCheck(this,a),_get(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,e)}return _inherits(a,e),_createClass(a,[{key:"render",value:function(){return React.createElement(t,null,React.createElement(n,{page:this.props.page}),React.createElement(r,null,React.createElement(o,{page:this.props.page}),React.createElement(i,{page:this.props.page})))}}]),a}(React.Component),s=pageflow.react;(0,s.registerPageType)("localfocus",{component:(0,s.connectInPage)((0,s.combine)({page:(0,pageflow.react.selectors.pageAttributes)()}))(a),reduxModules:[pageflow.react.mediaPageBackgroundReduxModule]})}(),pageflow.widgetTypes.register("closewindow",{enhance:function(e){var t=e.find("a").prop("href");-1!==document.referrer.indexOf(t)&&e.addClass("enabled")}}),pageflow.ready.then(function(){$("body").addClass("finished-loading")}),$.widget("scrollytelling.scrollytellingNavigationInvert",{changeInvert:function(e){this.setInvert(e.element)},setInvert:function(e){this.element.toggleClass("page-invert",e.hasClass("invert")),$(".navigation_mobile").toggleClass("page-invert",e.hasClass("invert"))},_create:function(){this.setInvert(pageflow.slides.currentPage()),pageflow.events.on("page:change",this.changeInvert.bind(this))}}),$.widget("scrollytelling.scrollytellingNavigationCounter",{setActive:function(e){$("nav a",this.element).removeClass("active"),$('nav a[href="#'+e.attr("id")+'"]',this.element).addClass("active")},updateActive:function(e){this.setActive(e.element)},_create:function(){this.setActive(pageflow.slides.currentPage()),pageflow.events.on("page:change",this.updateActive.bind(this)),$("nav a",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();var t=$(this).attr("data-page-id");pageflow.slides.goToById(t)}}),$.widget("scrollytelling.audioControl",{showState:function(){var e=$("#scrollytelling-audio",this.element);pageflow.settings.get("volume")>0?e.removeClass("audio-muted").addClass("audio-playing"):e.removeClass("audio-playing").addClass("audio-muted")},_create:function(){this.showState(),$("#scrollytelling-audio",this.element).on("click",this.toggleAudio.bind(this))},toggleAudio:function(e){pageflow.settings.get("volume")>0?pageflow.settings.set("volume",0):pageflow.settings.set("volume",1),e.preventDefault(),this.showState()}}),$.widget("scrollytelling.facebookSharing",{_create:function(){$("#share-fb",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();window.open("//www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(location.href.replace(location.hash,"")),"Facebook","width=600,height=300")}}),$.widget("scrollytelling.twitterSharing",{_create:function(){$("#share-tw",this.element).on("click",this.onClick)},onClick:function(e){e.preventDefault();var t=$("meta[name='description']").attr("content");window.scrollytelling=window.scrollytelling||{};var n=window.scrollytelling.twitter_via||"scrollytelling";window.open("//twitter.com/intent/tweet?text="+encodeURIComponent(t)+"&amp;via="+n+"&amp;url="+encodeURIComponent(location.href.replace(location.hash,"")),"Twitter","width=600,height=260")}}),pageflow.widgetTypes.register("scrollytelling_navigation",{enhance:function(e){e.scrollytellingNavigationCounter(),e.scrollytellingNavigationInvert(),e.facebookSharing(),e.twitterSharing(),e.audioControl(),$(".parent_page",e).parentPageButton({visibleClass:"is_visible"}),$('head link[href*="onsite"]').length>0&&e.addClass("onsite")}}),function(){function e(){e=function(){},ge.Symbol||(ge.Symbol=t)}function t(e){return"jscomp_symbol_"+(e||"")+ve++}function n(){e();var t=ge.Symbol.iterator;t||(t=ge.Symbol.iterator=ge.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&he(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return r(this)}}),n=function(){}}function r(e){var t=0;return i(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function i(e){return n(),(e={next:e})[ge.Symbol.iterator]=function(){return this},e}function o(t){n(),e(),n();var i=t[Symbol.iterator];return i?i.call(t):r(t)}function s(e){if(!(e instanceof Array)){e=o(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}function u(e,t){function n(){}for(var r in n.prototype=t.prototype,e.ha=t.prototype,e.prototype=new n,e.prototype.constructor=e,t)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,r);i&&Object.defineProperty(e,r,i)}else e[r]=t[r]}function l(e,t){if(e&&1==e.nodeType&&t){if("string"==typeof t||1==t.nodeType)return e==t||c(e,t);if("length"in t)for(var n,r=0;n=t[r];r++)if(e==n||c(e,n))return!0}return!1}function c(e,t){if("string"!=typeof t)return!1;if(ye)return ye.call(e,t);t=e.parentNode.querySelectorAll(t);for(var n,r=0;n=t[r];r++)if(n==e)return!0;return!1}function f(e){for(var t=[];e&&e.parentNode&&1==e.parentNode.nodeType;)e=e.parentNode,t.push(e);return t}function d(e,t,n){function r(e){var r;if(o.composed&&"function"==typeof e.composedPath)for(var i,a=e.composedPath(),s=0;i=a[s];s++)1==i.nodeType&&l(i,t)&&(r=i);else e:{if((r=e.target)&&1==r.nodeType&&t)for(r=[r].concat(f(r)),a=0;s=r[a];a++)if(l(s,t)){r=s;break e}r=void 0}r&&n.call(r,e,r)}var i=document,o=void 0===(o={composed:!0,S:!0})?{}:o;return i.addEventListener(e,r,o.S),{j:function(){i.removeEventListener(e,r,o.S)}}}function p(e){var t={};if(!e||1!=e.nodeType)return t;if(!(e=e.attributes).length)return{};for(var n,r=0;n=e[r];r++)t[n.name]=n.value;return t}function h(e){if(e=e&&"."!=e?e:location.href,Te[e])return Te[e];if(be.href=e,"."==e.charAt(0)||"/"==e.charAt(0))return h(be.href);var t="0"==(t="80"==be.port||"443"==be.port?"":be.port)?"":t,n=be.host.replace(_e,"");return Te[e]={hash:be.hash,host:n,hostname:be.hostname,href:be.href,origin:be.origin?be.origin:be.protocol+"//"+n,pathname:"/"==be.pathname.charAt(0)?be.pathname:"/"+be.pathname,port:t,protocol:be.protocol,search:be.search}}function g(e,t){var n=this;this.context=e,this.P=t,this.f=(this.c=/Task$/.test(t))?e.get(t):e[t],this.b=[],this.a=[],this.g=function(){for(var e=[],t=0;t<arguments.length;++t)e[t-0]=arguments[t];return n.a[n.a.length-1].apply(null,[].concat(s(e)))},this.c?e.set(t,this.g):e[t]=this.g}function v(e,t,n){(e=_(e,t)).b.push(n),y(e)}function m(e,t,n){-1<(n=(e=_(e,t)).b.indexOf(n))&&(e.b.splice(n,1),0<e.b.length?y(e):e.j())}function y(e){e.a=[];for(var t,n=0;t=e.b[n];n++){var r=e.a[n-1]||e.f.bind(e.context);e.a.push(t(r))}}function _(e,t){var n=we.filter(function(n){return n.context==e&&n.P==t})[0];return n||(n=new g(e,t),we.push(n)),n}function b(e,t,n,r,i,o){if("function"==typeof r){var a=n.get("buildHitTask");return{buildHitTask:function(n){n.set(e,null,!0),n.set(t,null,!0),r(n,i,o),a(n)}}}return Se({},e,t)}function T(e,t){var n=p(e),r={};return Object.keys(n).forEach(function(e){if(!e.indexOf(t)&&e!=t+"on"){var i=n[e];"true"==i&&(i=!0),"false"==i&&(i=!1),e=C(e.slice(t.length)),r[e]=i}}),r}function w(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):e()}function E(e,t){var n;return function(){for(var r=[],i=0;i<arguments.length;++i)r[i-0]=arguments[i];clearTimeout(n),n=setTimeout(function(){return e.apply(null,[].concat(s(r)))},t)}}function S(e){function t(){n||(n=!0,e())}var n=!1;return setTimeout(t,2e3),t}function P(e,t){function n(){clearTimeout(i.timeout),i.send&&m(e,"send",i.send),delete Ee[r],i.R.forEach(function(e){return e()})}var r=e.get("trackingId"),i=Ee[r]=Ee[r]||{};clearTimeout(i.timeout),i.timeout=setTimeout(n,0),i.R=i.R||[],i.R.push(t),i.send||(i.send=function(e){return function(){for(var t=[],r=0;r<arguments.length;++r)t[r-0]=arguments[r];n(),e.apply(null,[].concat(s(t)))}},v(e,"send",i.send))}function C(e){return e.replace(/[\-\_]+(\w?)/g,function(e,t){return t.toUpperCase()})}function I(e){return"object"==typeof e&&null!==e}function x(e,t){var n=window.GoogleAnalyticsObject||"ga";window[n]=window[n]||function(){for(var e=[],t=0;t<arguments.length;++t)e[t-0]=arguments[t];(window[n].q=window[n].q||[]).push(e)},window.gaDevIds=window.gaDevIds||[],0>window.gaDevIds.indexOf("i5iSjo")&&window.gaDevIds.push("i5iSjo"),window[n]("provide",e,t),window.gaplugins=window.gaplugins||{},window.gaplugins[e.charAt(0).toUpperCase()+e.slice(1)]=t}function A(e,t){e.set("&_av","2.4.1");var n=e.get("&_au");if((n=parseInt(n||"0",16).toString(2)).length<Ie)for(var r=Ie-n.length;r;)n="0"+n,r--;t=Ie-t,n=n.substr(0,t)+1+n.substr(t+1),e.set("&_au",parseInt(n||"0",2).toString(16))}function O(e,t){A(e,Ce.T),this.a=Se({},t),this.g=e,this.b=this.a.stripQuery&&this.a.queryDimensionIndex?"dimension"+this.a.queryDimensionIndex:null,this.f=this.f.bind(this),this.c=this.c.bind(this),v(e,"get",this.f),v(e,"buildHitTask",this.c)}function k(e,t){var n=h(t.page||t.location),r=n.pathname;if(e.a.indexFilename){var i=r.split("/");e.a.indexFilename==i[i.length-1]&&(i[i.length-1]="",r=i.join("/"))}return"remove"==e.a.trailingSlash?r=r.replace(/\/+$/,""):"add"==e.a.trailingSlash&&(/\.\w+$/.test(r)||"/"==r.substr(-1)||(r+="/")),r={page:r+(e.a.stripQuery?M(e,n.search):n.search)},t.location&&(r.location=t.location),e.b&&(r[e.b]=n.search.slice(1)||"(not set)"),"function"==typeof e.a.urlFieldsFilter?(n={page:(t=e.a.urlFieldsFilter(r,h)).page,location:t.location},e.b&&(n[e.b]=t[e.b]),n):r}function M(e,t){if(Array.isArray(e.a.queryParamsWhitelist)){var n=[];return t.slice(1).split("&").forEach(function(t){var r=o(t.split("="));t=r.next().value,r=r.next().value,-1<e.a.queryParamsWhitelist.indexOf(t)&&r&&n.push([t,r])}),n.length?"?"+n.map(function(e){return e.join("=")}).join("&"):""}return""}function R(e,t){var n=this;if(A(e,Ce.U),window.addEventListener){this.a=Se({events:["click"],fieldsObj:{},attributePrefix:"ga-"},t),this.f=e,this.c=this.c.bind(this);var r="["+this.a.attributePrefix+"on]";this.b={},this.a.events.forEach(function(e){n.b[e]=d(e,r,n.c)})}}function D(e,t){var n=this;A(e,Ce.V),window.IntersectionObserver&&window.MutationObserver&&(this.a=Se({rootMargin:"0px",fieldsObj:{},attributePrefix:"ga-"},t),this.c=e,this.M=this.M.bind(this),this.O=this.O.bind(this),this.K=this.K.bind(this),this.L=this.L.bind(this),this.b=null,this.items=[],this.i={},this.h={},w(function(){n.a.elements&&n.observeElements(n.a.elements)}))}function N(e,t){var n=[],r={},i={};return t.length&&t.forEach(function(t){t=j(t),n.push(t),i[t.id]=e.i[t.id]||null,r[t.threshold]=e.h[t.threshold]||null}),{items:n,i:i,h:r}}function L(e,t,n){1==t.nodeType&&t.id in e.i&&n(t.id);for(var r,i=0;r=t.childNodes[i];i++)L(e,r,n)}function j(e){return"string"==typeof e&&(e={id:e}),Se({threshold:0,trackFirstImpressionOnly:!0},e)}function F(){this.a={}}function B(e,t){(e.a.externalSet=e.a.externalSet||[]).push(t)}function U(e,t){t=void 0===t?{}:t,this.a={},this.b=e,this.w=t,this.l=null}function H(e,t,n){return e=["autotrack",e,t].join(":"),Ae[e]||(Ae[e]=new U(e,n),Oe||(window.addEventListener("storage",q),Oe=!0)),Ae[e]}function V(){if(null!=xe)return xe;try{window.localStorage.setItem("autotrack","autotrack"),window.localStorage.removeItem("autotrack"),xe=!0}catch(a){xe=!1}return xe}function z(e){if(e.l={},V())try{window.localStorage.removeItem(e.b)}catch(t){}}function q(e){var t=Ae[e.key];if(t){var n=Se({},t.w,G(e.oldValue));e=Se({},t.w,G(e.newValue)),t.l=e,t.ca("externalSet",e,n)}}function G(e){var t={};if(e)try{t=JSON.parse(e)}catch(n){}return t}function K(e,t,n){this.f=e,this.timeout=t||Me,this.timeZone=n,this.b=this.b.bind(this),v(e,"sendHitTask",this.b);try{this.c=new Intl.DateTimeFormat("en-US",{timeZone:this.timeZone})}catch(r){}this.a=H(e.get("trackingId"),"session",{hitTime:0,isExpired:!1}),this.a.get().id||this.a.set({id:Pe()})}function Y(e,t,n){var r=e.get("trackingId");return ke[r]?ke[r]:ke[r]=new K(e,t,n)}function W(e){return e.a.get().id}function Q(e,t){A(e,Ce.W),window.addEventListener&&(this.b=Se({increaseThreshold:20,sessionTimeout:Me,fieldsObj:{}},t),this.f=e,this.c=$(this),this.g=E(this.g.bind(this),500),this.o=this.o.bind(this),this.a=H(e.get("trackingId"),"plugins/max-scroll-tracker"),this.m=Y(e,this.b.sessionTimeout,this.b.timeZone),v(e,"set",this.o),X(this))}function X(e){100>(e.a.get()[e.c]||0)&&window.addEventListener("scroll",e.g)}function $(e){return(e=h(e.f.get("page")||e.f.get("location"))).pathname+e.search}function J(e,t){A(e,Ce.X),window.matchMedia&&(this.a=Se({changeTemplate:this.changeTemplate,changeTimeout:1e3,fieldsObj:{}},t),I(this.a.definitions)&&(t=this.a.definitions,this.a.definitions=Array.isArray(t)?t:[t],this.b=e,this.c=[],Z(this)))}function Z(e){e.a.definitions.forEach(function(t){if(t.name&&t.dimensionIndex){var n=ee(t);e.b.set("dimension"+t.dimensionIndex,n),te(e,t)}})}function ee(e){var t;return e.items.forEach(function(e){ne(e.media).matches&&(t=e)}),t?t.name:"(not set)"}function te(e,t){t.items.forEach(function(n){n=ne(n.media);var r=E(function(){var n=ee(t),r=e.b.get("dimension"+t.dimensionIndex);n!==r&&(e.b.set("dimension"+t.dimensionIndex,n),n={transport:"beacon",eventCategory:t.name,eventAction:"change",eventLabel:e.a.changeTemplate(r,n),nonInteraction:!0},e.b.send("event",b(n,e.a.fieldsObj,e.b,e.a.hitFilter)))},e.a.changeTimeout);n.addListener(r),e.c.push({fa:n,da:r})})}function ne(e){return Re[e]||(Re[e]=window.matchMedia(e))}function re(e,t){A(e,Ce.Y),window.addEventListener&&(this.a=Se({formSelector:"form",
shouldTrackOutboundForm:this.shouldTrackOutboundForm,fieldsObj:{},attributePrefix:"ga-"},t),this.b=e,this.c=d("submit",this.a.formSelector,this.f.bind(this)))}function ie(e,t){var n=this;A(e,Ce.Z),window.addEventListener&&(this.a=Se({events:["click"],linkSelector:"a, area",shouldTrackOutboundLink:this.shouldTrackOutboundLink,fieldsObj:{},attributePrefix:"ga-"},t),this.c=e,this.f=this.f.bind(this),this.b={},this.a.events.forEach(function(e){n.b[e]=d(e,n.a.linkSelector,n.f)}))}function oe(e,t){var n=this;A(e,Ce.$),document.visibilityState&&(this.a=Se({sessionTimeout:Me,visibleThreshold:5e3,sendInitialPageview:!1,fieldsObj:{}},t),this.b=e,this.g=document.visibilityState,this.m=null,this.o=!1,this.v=this.v.bind(this),this.s=this.s.bind(this),this.G=this.G.bind(this),this.N=this.N.bind(this),this.c=H(e.get("trackingId"),"plugins/page-visibility-tracker"),B(this.c,this.N),this.f=Y(e,this.a.sessionTimeout,this.a.timeZone),v(e,"set",this.v),window.addEventListener("unload",this.G),document.addEventListener("visibilitychange",this.s),P(this.b,function(){if("visible"==document.visibilityState)n.a.sendInitialPageview&&(ue(n,{ea:!0}),n.o=!0),n.c.set({time:+new Date,state:"visible",pageId:De,sessionId:W(n.f)});else if(n.a.sendInitialPageview&&n.a.pageLoadsMetricIndex){var e=((e={}).transport="beacon",e.eventCategory="Page Visibility",e.eventAction="page load",e.eventLabel="(not set)",e["metric"+n.a.pageLoadsMetricIndex]=1,e.nonInteraction=!0,e);n.b.send("event",b(e,n.a.fieldsObj,n.b,n.a.hitFilter))}}))}function ae(e){var t=e.c.get();return"visible"==e.g&&"hidden"==t.state&&t.pageId!=De&&(t.state="visible",t.pageId=De,e.c.set(t)),t}function se(e,t,n){var r=((r={hitTime:n=(n||{}).hitTime})||{}).hitTime;(t=t.time?(r||+new Date)-t.time:0)&&t>=e.a.visibleThreshold&&(r={transport:"beacon",nonInteraction:!0,eventCategory:"Page Visibility",eventAction:"track",eventValue:t=Math.round(t/1e3),eventLabel:"(not set)"},n&&(r.queueTime=+new Date-n),e.a.visibleMetricIndex&&(r["metric"+e.a.visibleMetricIndex]=t),e.b.send("event",b(r,e.a.fieldsObj,e.b,e.a.hitFilter)))}function ue(e,t){t=(n=t||{}).hitTime;var n=n.ea,r={transport:"beacon"};t&&(r.queueTime=+new Date-t),n&&e.a.pageLoadsMetricIndex&&(r["metric"+e.a.pageLoadsMetricIndex]=1),e.b.send("pageview",b(r,e.a.fieldsObj,e.b,e.a.hitFilter))}function le(e,t){A(e,Ce.aa),window.addEventListener&&(this.a=Se({fieldsObj:{},hitFilter:null},t),this.b=e,this.u=this.u.bind(this),this.J=this.J.bind(this),this.D=this.D.bind(this),this.A=this.A.bind(this),this.B=this.B.bind(this),this.F=this.F.bind(this),"complete"!=document.readyState?window.addEventListener("load",this.u):this.u())}function ce(e){try{window.twttr.ready(function(){window.twttr.events.unbind("tweet",e.D),window.twttr.events.unbind("follow",e.A)})}catch(t){}}function fe(e,t){A(e,Ce.ba),history.pushState&&window.addEventListener&&(this.a=Se({shouldTrackUrlChange:this.shouldTrackUrlChange,trackReplaceState:!1,fieldsObj:{},hitFilter:null},t),this.b=e,this.c=location.pathname+location.search,this.H=this.H.bind(this),this.I=this.I.bind(this),this.C=this.C.bind(this),v(history,"pushState",this.H),v(history,"replaceState",this.I),window.addEventListener("popstate",this.C))}function de(e,t){setTimeout(function(){var n=e.c,r=location.pathname+location.search;n!=r&&e.a.shouldTrackUrlChange.call(e,r,n)&&(e.c=r,e.b.set({page:r,title:document.title}),(t||e.a.trackReplaceState)&&e.b.send("pageview",b({transport:"beacon"},e.a.fieldsObj,e.b,e.a.hitFilter)))},0)}var pe,he="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},ge="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,ve=0,me=window.Element.prototype,ye=me.matches||me.matchesSelector||me.webkitMatchesSelector||me.mozMatchesSelector||me.msMatchesSelector||me.oMatchesSelector,_e=/:(80|443)$/,be=document.createElement("a"),Te={},we=[];g.prototype.j=function(){var e=we.indexOf(this);-1<e&&(we.splice(e,1),this.c?this.context.set(this.P,this.f):this.context[this.P]=this.f)};var Ee={},Se=Object.assign||function(e){for(var t=[],n=1;n<arguments.length;++n)t[n-1]=arguments[n];n=0;for(var r=t.length;n<r;n++){var i,o=Object(t[n]);for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},Pe=function Ne(e){return e?(e^16*Math.random()>>e/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,Ne)},Ce={T:1,U:2,V:3,X:4,Y:5,Z:6,$:7,aa:8,ba:9,W:10},Ie=Object.keys(Ce).length;O.prototype.f=function(e){var t=this;return function(n){if("page"==n||n==t.b){var r={location:e("location"),page:e("page")};return k(t,r)[n]}return e(n)}},O.prototype.c=function(e){var t=this;return function(n){var r=k(t,{location:n.get("location"),page:n.get("page")});n.set(r,null,!0),e(n)}},O.prototype.remove=function(){m(this.g,"get",this.f),m(this.g,"buildHitTask",this.c)},x("cleanUrlTracker",O),R.prototype.c=function(e,t){var n=this.a.attributePrefix;if(!(0>t.getAttribute(n+"on").split(/\s*,\s*/).indexOf(e.type))){n=T(t,n);var r=Se({},this.a.fieldsObj,n);this.f.send(n.hitType||"event",b({transport:"beacon"},r,this.f,this.a.hitFilter,t,e))}},R.prototype.remove=function(){var e=this;Object.keys(this.b).forEach(function(t){e.b[t].j()})},x("eventTracker",R),(pe=D.prototype).observeElements=function(e){var t=this;e=N(this,e),this.items=this.items.concat(e.items),this.i=Se({},e.i,this.i),this.h=Se({},e.h,this.h),e.items.forEach(function(e){var n=t.h[e.threshold]=t.h[e.threshold]||new IntersectionObserver(t.O,{rootMargin:t.a.rootMargin,threshold:[+e.threshold]});(e=t.i[e.id]||(t.i[e.id]=document.getElementById(e.id)))&&n.observe(e)}),this.b||(this.b=new MutationObserver(this.M),this.b.observe(document.body,{childList:!0,subtree:!0})),requestAnimationFrame(function(){})},pe.unobserveElements=function(e){var t=[],n=[];if(this.items.forEach(function(r){e.some(function(e){return(e=j(e)).id===r.id&&e.threshold===r.threshold&&e.trackFirstImpressionOnly===r.trackFirstImpressionOnly})?n.push(r):t.push(r)}),t.length){var r=N(this,t),i=N(this,n);this.items=r.items,this.i=r.i,this.h=r.h,n.forEach(function(e){if(!r.i[e.id]){var t=i.h[e.threshold],n=i.i[e.id];n&&t.unobserve(n),r.h[e.threshold]||i.h[e.threshold].disconnect()}})}else this.unobserveAllElements()},pe.unobserveAllElements=function(){var e=this;Object.keys(this.h).forEach(function(t){e.h[t].disconnect()}),this.b.disconnect(),this.b=null,this.items=[],this.i={},this.h={}},pe.M=function(e){for(var t,n=0;t=e[n];n++){for(var r,i=0;r=t.removedNodes[i];i++)L(this,r,this.L);for(i=0;r=t.addedNodes[i];i++)L(this,r,this.K)}},pe.O=function(e){for(var t,n=[],r=0;t=e[r];r++)for(var i,o=0;i=this.items[o];o++){var a;if((a=t.target.id===i.id)&&((a=i.threshold)?a=t.intersectionRatio>=a:a=0<(a=t.intersectionRect).top||0<a.bottom||0<a.left||0<a.right),a){var s=i.id;a=document.getElementById(s);s={transport:"beacon",eventCategory:"Viewport",eventAction:"impression",eventLabel:s,nonInteraction:!0};var u=Se({},this.a.fieldsObj,T(a,this.a.attributePrefix));this.c.send("event",b(s,u,this.c,this.a.hitFilter,a)),i.trackFirstImpressionOnly&&n.push(i)}}n.length&&this.unobserveElements(n)},pe.K=function(e){var t=this,n=this.i[e]=document.getElementById(e);this.items.forEach(function(r){e==r.id&&t.h[r.threshold].observe(n)})},pe.L=function(e){var t=this,n=this.i[e];this.items.forEach(function(r){e==r.id&&t.h[r.threshold].unobserve(n)}),this.i[e]=null},pe.remove=function(){this.unobserveAllElements()},x("impressionTracker",D),F.prototype.ca=function(e){for(var t=[],n=1;n<arguments.length;++n)t[n-1]=arguments[n];(this.a[e]=this.a[e]||[]).forEach(function(e){return e.apply(null,[].concat(s(t)))})};var xe,Ae={},Oe=!1;u(U,F),U.prototype.get=function(){if(this.l)return this.l;if(V())try{this.l=G(window.localStorage.getItem(this.b))}catch(a){}return this.l=Se({},this.w,this.l)},U.prototype.set=function(e){if(this.l=Se({},this.w,this.l,e),V())try{var t=JSON.stringify(this.l);window.localStorage.setItem(this.b,t)}catch(n){}},U.prototype.j=function(){delete Ae[this.b],Object.keys(Ae).length||(window.removeEventListener("storage",q),Oe=!1)};var ke={};K.prototype.isExpired=function(e){if((e=void 0===e?W(this):e)!=W(this))return!0;if((e=this.a.get()).isExpired)return!0;var t=e.hitTime;return!!(t&&(e=new Date,t=new Date(t),e-t>6e4*this.timeout||this.c&&this.c.format(e)!=this.c.format(t)))},K.prototype.b=function(e){var t=this;return function(n){e(n),n="start"==(r=n.get("sessionControl"))||t.isExpired();var r="end"==r,i=t.a.get();i.hitTime=+new Date,n&&(i.isExpired=!1,i.id=Pe()),r&&(i.isExpired=!0),t.a.set(i)}},K.prototype.j=function(){m(this.f,"sendHitTask",this.b),this.a.j(),delete ke[this.f.get("trackingId")]};var Me=30;Q.prototype.g=function(){var e=document.documentElement,t=document.body;e=Math.min(100,Math.max(0,Math.round(window.pageYOffset/(Math.max(e.offsetHeight,e.scrollHeight,t.offsetHeight,t.scrollHeight)-window.innerHeight)*100)));if((t=W(this.m))!=this.a.get().sessionId&&(z(this.a),this.a.set({sessionId:t})),this.m.isExpired(this.a.get().sessionId))z(this.a);else if(e>(t=this.a.get()[this.c]||0)&&(100!=e&&100!=t||window.removeEventListener("scroll",this.g),t=e-t,100==e||t>=this.b.increaseThreshold)){var n={};this.a.set((n[this.c]=e,n.sessionId=W(this.m),n)),e={transport:"beacon",eventCategory:"Max Scroll",eventAction:"increase",eventValue:t,eventLabel:String(e),nonInteraction:!0},this.b.maxScrollMetricIndex&&(e["metric"+this.b.maxScrollMetricIndex]=t),this.f.send("event",b(e,this.b.fieldsObj,this.f,this.b.hitFilter))}},Q.prototype.o=function(e){var t=this;return function(n,r){e(n,r);var i={};(I(n)?n:(i[n]=r,i)).page&&(n=t.c,t.c=$(t),t.c!=n&&X(t))}},Q.prototype.remove=function(){this.m.j(),window.removeEventListener("scroll",this.g),m(this.f,"set",this.o)},x("maxScrollTracker",Q);var Re={};J.prototype.remove=function(){for(var e,t=0;e=this.c[t];t++)e.fa.removeListener(e.da)},J.prototype.changeTemplate=function(e,t){return e+" => "+t},x("mediaQueryTracker",J),re.prototype.f=function(e,t){var n={transport:"beacon",eventCategory:"Outbound Form",eventAction:"submit",eventLabel:h(t.action).href};if(this.a.shouldTrackOutboundForm(t,h)){navigator.sendBeacon||(e.preventDefault(),n.hitCallback=S(function(){t.submit()}));var r=Se({},this.a.fieldsObj,T(t,this.a.attributePrefix));this.b.send("event",b(n,r,this.b,this.a.hitFilter,t,e))}},re.prototype.shouldTrackOutboundForm=function(e,t){return(e=t(e.action)).hostname!=location.hostname&&"http"==e.protocol.slice(0,4)},re.prototype.remove=function(){this.c.j()},x("outboundFormTracker",re),ie.prototype.f=function(e,t){var n=this;if(this.a.shouldTrackOutboundLink(t,h)){var r=t.getAttribute("href")||t.getAttribute("xlink:href"),i=h(r),o=b(i={transport:"beacon",eventCategory:"Outbound Link",eventAction:e.type,eventLabel:i.href},Se({},this.a.fieldsObj,T(t,this.a.attributePrefix)),this.c,this.a.hitFilter,t,e);if(navigator.sendBeacon||"click"!=e.type||"_blank"==t.target||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||1<e.which)this.c.send("event",o);else{var a=function(){if(window.removeEventListener("click",a),!e.defaultPrevented){e.preventDefault();var t=o.hitCallback;o.hitCallback=S(function(){"function"==typeof t&&t(),location.href=r})}n.c.send("event",o)};window.addEventListener("click",a)}}},ie.prototype.shouldTrackOutboundLink=function(e,t){return(t=t(e=e.getAttribute("href")||e.getAttribute("xlink:href"))).hostname!=location.hostname&&"http"==t.protocol.slice(0,4)},ie.prototype.remove=function(){var e=this;Object.keys(this.b).forEach(function(t){e.b[t].j()})},x("outboundLinkTracker",ie);var De=Pe();(pe=oe.prototype).s=function(){var e=this;if("visible"==document.visibilityState||"hidden"==document.visibilityState){var t=ae(this),n={time:+new Date,state:document.visibilityState,pageId:De,sessionId:W(this.f)};"visible"==document.visibilityState&&this.a.sendInitialPageview&&!this.o&&(ue(this),this.o=!0),"hidden"==document.visibilityState&&this.m&&clearTimeout(this.m),this.f.isExpired(t.sessionId)?(z(this.c),"hidden"==this.g&&"visible"==document.visibilityState&&(clearTimeout(this.m),this.m=setTimeout(function(){e.c.set(n),ue(e,{hitTime:n.time})},this.a.visibleThreshold))):(t.pageId==De&&"visible"==t.state&&se(this,t),this.c.set(n)),this.g=document.visibilityState}},pe.v=function(e){var t=this;return function(n,r){var i={};(i=I(n)?n:(i[n]=r,i)).page&&i.page!==t.b.get("page")&&"visible"==t.g&&t.s(),e(n,r)}},pe.N=function(e,t){e.time!=t.time&&(t.pageId!=De||"visible"!=t.state||this.f.isExpired(t.sessionId)||se(this,t,{hitTime:e.time}))},pe.G=function(){"hidden"!=this.g&&this.s()},pe.remove=function(){this.c.j(),this.f.j(),m(this.b,"set",this.v),window.removeEventListener("unload",this.G),document.removeEventListener("visibilitychange",this.s)},x("pageVisibilityTracker",oe),(pe=le.prototype).u=function(){if(window.FB)try{window.FB.Event.subscribe("edge.create",this.B),window.FB.Event.subscribe("edge.remove",this.F)}catch(a){}window.twttr&&this.J()},pe.J=function(){var e=this;try{window.twttr.ready(function(){window.twttr.events.bind("tweet",e.D),window.twttr.events.bind("follow",e.A)})}catch(t){}},pe.D=function(e){if("tweet"==e.region){var t={transport:"beacon",socialNetwork:"Twitter",socialAction:"tweet",socialTarget:e.data.url||e.target.getAttribute("data-url")||location.href};this.b.send("social",b(t,this.a.fieldsObj,this.b,this.a.hitFilter,e.target,e))}},pe.A=function(e){if("follow"==e.region){var t={transport:"beacon",socialNetwork:"Twitter",socialAction:"follow",socialTarget:e.data.screen_name||e.target.getAttribute("data-screen-name")};this.b.send("social",b(t,this.a.fieldsObj,this.b,this.a.hitFilter,e.target,e))}},pe.B=function(e){this.b.send("social",b({transport:"beacon",socialNetwork:"Facebook",socialAction:"like",socialTarget:e},this.a.fieldsObj,this.b,this.a.hitFilter))},pe.F=function(e){this.b.send("social",b({transport:"beacon",socialNetwork:"Facebook",socialAction:"unlike",socialTarget:e},this.a.fieldsObj,this.b,this.a.hitFilter))},pe.remove=function(){window.removeEventListener("load",this.u);try{window.FB.Event.unsubscribe("edge.create",this.B),window.FB.Event.unsubscribe("edge.remove",this.F)}catch(a){}ce(this)},x("socialWidgetTracker",le),(pe=fe.prototype).H=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];e.apply(null,[].concat(s(n))),de(t,!0)}},pe.I=function(e){var t=this;return function(){for(var n=[],r=0;r<arguments.length;++r)n[r-0]=arguments[r];e.apply(null,[].concat(s(n))),de(t,!1)}},pe.C=function(){de(this,!0)},pe.shouldTrackUrlChange=function(e,t){return!(!e||!t)},pe.remove=function(){m(history,"pushState",this.H),m(history,"replaceState",this.I),window.removeEventListener("popstate",this.C)},x("urlChangeTracker",fe)}(),pageflow.ready.then(function(){pageflow.atmo.enable()});